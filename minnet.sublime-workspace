{
	"auto_complete":
	{
		"selected_items":
		[
			[
<<<<<<< HEAD
				"FDC",
				"FDCallbackChannel"
			],
			[
				"minnet_fd",
				"minnet_fd_callback_free"
			],
			[
				"minnet_Fd_",
				"minnet_fd_callback_closure"
			],
			[
				"FD",
				"FDCallbackChannels"
			],
			[
=======
<<<<<<< HEAD
=======
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
				"JS_ToCStr",
				"JS_ToCStringLen"
			],
			[
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"JS_Throw",
				"JS_ThrowInternalError"
			],
			[
				"add_",
				"add_dependencies"
			],
			[
				"ch",
				"chunks_written"
			],
			[
				"defineP",
				"defineProperties(...)"
			],
			[
				"CMAKE_CURR",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"gener",
				"generate_module_header"
			],
			[
				"RINGBUFFER_C",
				"RINGBUFFER_CONSUMERANGE"
			],
			[
				"RINGBUFFER_CONSU",
				"RINGBUFFER_CONSUMERANGE"
			],
			[
				"JS_NewArra",
				"JS_NewArrayBufferCopy"
			],
			[
				"RINGBU",
				"RINGBUFFER_INSERT"
			],
			[
				"hea",
				"headers_sent"
			],
			[
				"JS_ToCS",
				"JS_ToCStringLen"
			],
			[
				"PR",
				"PRIi64"
			],
			[
				"JS_Set",
				"JS_SetPropertyStr"
			],
			[
				"db",
				"dbuf_init2"
			],
			[
				"JS_Get",
				"JS_GetProperty"
			],
			[
				"Ret",
				"ReturnValuePathFunction"
			],
			[
				"cFunc",
				"cFuncListObjects"
			],
			[
				"isC",
				"isCFuncCall"
			],
			[
				"En",
				"EntityNames"
			],
			[
				"parseFrom",
				"parseFromString"
			],
			[
				"pseu",
				"pseudoClassArg"
			],
			[
				"pseudoC",
				"pseudoClassName"
			],
			[
				"Key",
				"KeyboardEvent"
			],
			[
				"getOp",
				"getOptionEntries"
			],
			[
				"setProp",
				"setPropertyValue"
			],
			[
				"parse",
				"parseSelectors"
			],
			[
				"JS_SetPr",
				"JS_SetPropertyStr"
			],
			[
				"jsm_buil",
				"jsm_builtin_init"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"JS_New",
				"JS_NewObject"
			],
			[
				"ide",
				"importIdentifiers"
			],
			[
				"iden",
				"importIdentifiers"
			],
			[
				"import",
				"importIdentifiers"
			],
			[
				"ident",
				"identifierSets"
			],
			[
				"path_is",
				"path_is_absolute"
			],
			[
				"js_is_",
				"js_is_null_or_undefined"
			],
			[
				"path_skip_se",
				"path_skip_separator_s"
			],
			[
				"WRITABLE_METHO",
				"WRITABLE_METHOD_CLOSE"
			],
			[
				"list_fo",
				"list_for_each_prev"
			],
			[
				"JS_Th",
				"JS_ThrowOutOfMemory"
			],
			[
				"JS_",
				"JS_ThrowOutOfMemory"
			],
			[
				"underly",
				"underlying_source"
			],
			[
				"Tok",
				"TokenSequence"
			],
			[
				"JS_GetPr",
				"JS_GetPropertyStr"
			],
			[
				"JS_Thro",
				"JS_ThrowOutOfMemory"
			],
			[
				"getAt",
				"getAttributeNames"
			],
			[
				"self",
				"self_closing_tags"
			],
			[
				"self_",
				"self_closing_tags"
			],
			[
				"JS_PROP",
				"JS_PROP_ENUMERABLE"
			],
			[
				"depe",
				"dependencyMap"
			],
			[
				"de",
				"dependencyMap"
			],
			[
				"dep",
				"dependencyMap"
			],
			[
				"js_is_null",
				"js_is_null_or_undefined"
			],
			[
				"JS_P",
				"JS_PROP_ENUMERABLE"
			],
			[
				"JS_SetP",
				"JS_SetPropertyUint32"
			],
			[
				"spec",
				"specifiers"
			],
			[
				"Num",
				"NumericRange"
			],
			[
				"token_r",
				"token_release_rt"
			],
			[
				"JS_Thr",
				"JS_ThrowTypeError"
			],
			[
				"js_",
				"js_location_data"
			],
			[
				"debug_js_mall",
				"debug_js_malloc_usable_size"
			],
			[
				"repl",
				"replaceRange"
			],
			[
				"js_malloc_u",
				"js_malloc_usable_size_rt"
			],
			[
				"malloc",
				"malloc_usable_size"
			],
			[
				"all",
				"alloc_block_list"
			],
			[
				"alloc",
				"alloc_block_list"
			],
			[
				"path_skip",
				"path_skip_component"
			],
			[
				"jsm_mo",
				"jsm_module_loader"
			],
			[
				"JS_AtomTo",
				"JS_AtomToValue"
			],
			[
				"inspect",
				"inspectSymbol"
			],
			[
				"at",
				"attributes"
			],
			[
				"parent",
				"parentElement"
			],
			[
				"owner",
				"ownerElement"
			],
			[
				"get",
				"getPrototypeOf"
			],
			[
				"child",
				"childElementCount"
			],
			[
				"getO",
				"getOwnPropertyNames"
			],
			[
				"getOwn",
				"getOwnPropertySymbols(...)"
			],
			[
				"js_misc_im",
				"js_misc_immutable_constructor"
			],
			[
				"obj",
				"object_tostring"
			],
			[
				"js_misc_immu",
				"js_misc_immutable_free"
			],
			[
				"js_misc_imm",
				"js_misc_immutable_constructor"
			],
			[
				"CMAKE_IMPORT",
				"CMAKE_IMPORT_LIBRARY_SUFFIX"
			],
			[
				"CMAKE_CUR",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"js_is",
				"js_is_null_or_undefined"
			],
			[
				"js_asy",
				"js_async_socket_class_id"
			],
			[
				"JS_NewObj",
				"JS_NewObjectProtoClass"
			],
			[
				"async_",
				"async_socket_proto"
			],
			[
				"js_socket_class",
				"js_socket_class_id"
			],
			[
				"g",
				"getOwnPropertyNames(...)"
			],
			[
				"js_sockaddr_cl",
				"js_sockaddr_class_id"
			],
			[
				"js_so",
				"js_sockaddr_constructor"
			],
			[
				"js_sys",
				"js_syscallerror_class_id"
			],
			[
				"js_string",
				"js_stringdecoder_class_id"
			],
			[
				"js_pred",
				"js_predicate_class_id"
			],
			[
				"js_syn",
				"js_syntaxerror_class"
			],
			[
				"js_child",
				"js_child_process_class_id"
			],
			[
				"js_b",
				"js_blob_class_id"
			],
			[
				"js_loca",
				"js_location_class_id"
			],
			[
				"js_token_in",
				"js_token_inspect_funcs"
			],
			[
				"set",
				"setReadHandler"
			],
			[
				"js_get_",
				"js_get_propertystr_bool"
			],
			[
				"js_misc_ate",
				"js_misc_atexit_functions"
			],
			[
				"isF",
				"isFunction"
			],
			[
				"tab",
				"tab_atom_len"
			],
			[
				"isARr",
				"isArrayBuffer"
			],
			[
				"BIT",
				"BITFIELD_FROMARRAY"
			],
			[
				"to",
				"toStringTag"
			],
			[
				"inotify",
				"inotify_add_watch"
			],
			[
				"JS_SetProp",
				"JS_SetPropertyUint32"
			],
			[
				"JS_GEt",
				"JS_GetGlobalObject"
			],
			[
				"dbuf_put",
				"dbuf_put_colorstr"
			],
			[
				"REPEATER_",
				"REPEATER_REJECTED"
			],
			[
				"REP",
				"REPEATER_DONE"
			],
			[
				"resol",
				"resolving_funcs"
			],
			[
				"JS_NEwCFun",
				"JS_NewCFunctionData"
			],
			[
				"js_function",
				"js_function_bind_this"
			],
			[
				"js_repeater_iter",
				"js_repeater_iteration"
			],
			[
				"REPEA",
				"REPEATER_REJECTED"
			],
			[
				"exe",
				"execution"
			],
			[
				"REPEAT",
				"REPEATER_STOPPED"
			],
			[
				"JS_THro",
				"JS_ThrowOutOfMemory"
			],
			[
				"repeater",
				"repeater_finalizer"
<<<<<<< HEAD
=======
			],
			[
				"BACK",
				"BACKGROUND_RED"
			],
			[
				"js_inspec",
				"js_inspect_tostring"
			],
			[
				"JS_Atom",
				"JS_AtomToValue"
			],
			[
				"JS_GetP",
				"JS_GetPropertyStr"
<<<<<<< HEAD
			],
			[
				"js_misc_glob_err",
				"js_misc_glob_errfunc_ctx"
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
			]
		]
	},
	"buffers":
	[
		{
<<<<<<< HEAD
			"contents": "",
			"settings":
			{
				"buffer_size": 0,
=======
<<<<<<< HEAD
			"contents": "",
			"settings":
			{
				"buffer_size": 0,
=======
			"contents": "  ‚ìâ  HTTPAsyncResolveClosure ; ‚Äî typedef\n‚Äî‚íª‚Äì http_client_callback ( ) { ‚Ä¶ } ‚Äî function",
			"settings":
			{
				"buffer_size": 86,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
				"line_ending": "Unix",
				"name": "ùåÜ Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
<<<<<<< HEAD
					452,
=======
<<<<<<< HEAD
					442,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					443,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					444,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
					182,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABuBQAA4oCU4pK74oCTIHNlcnZlX2dlbmVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZob3N0X29wdGlvbnNfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2Zyb21lbnRyaWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9maW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZmluZF9zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1vdW50X2lzX3Byb3h5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX3JlamVjdGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9wcm9taXNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfZ2VuZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoYXNfdHJhbnNmZXJfZW5jb2RpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZpbGVfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX2ZpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBodHRwX3NlcnZlcl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					183,
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3542,
								3559
							],
							[
								3636,
								3659
							],
							[
								3880,
								3906
							],
							[
								4290,
								4316
							],
							[
								5241,
								5260
							],
							[
								6211,
								6224
							],
							[
								6551,
								6566
							],
							[
								7183,
								7203
							],
							[
								7388,
								7395
							],
							[
								7866,
								7880
							],
							[
								8282,
								8301
							],
							[
								11500,
								11514
							],
							[
<<<<<<< HEAD
								17687,
								17699
=======
								21577,
								21597
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackChannel‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
=======
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAAmwIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					445,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD/BAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDaGFubmVsIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgRkRDYWxsYmFja0Nsb3N1cmUgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFja19jbG9zdXJlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlZmF1bHRfZmRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbG9nX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NpX2lvaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9oYW5kbGVfcG9sbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9sd3NfdW5oYW5kbGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9zZXRfbG9nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2dldF9zZXNzaW9ucyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pbm5ldF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlYnVnICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAFQQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					453,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3823,
								3849
							],
							[
								4233,
								4259
							],
							[
								5184,
								5203
							],
							[
								6154,
								6167
							],
							[
								6494,
								6509
							],
							[
								7126,
								7146
							],
							[
								7331,
								7338
							],
							[
								7809,
								7823
							],
							[
								8225,
								8244
							],
							[
								11443,
								11457
							],
							[
<<<<<<< HEAD
								17630,
								17642
=======
								21577,
								21597
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
=======
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					446,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAD/BAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDaGFubmVsIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgRkRDYWxsYmFja0Nsb3N1cmUgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFja19jbG9zdXJlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlZmF1bHRfZmRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbG9nX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NpX2lvaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9oYW5kbGVfcG9sbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9sd3NfdW5oYW5kbGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9zZXRfbG9nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2dldF9zZXNzaW9ucyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pbm5ldF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlYnVnICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAA8AMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAEAAAgIOKTgiAgX0dOVV9TT1VSQ0Ug4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExJTiDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUE9MTE9VVCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUE9MTEVSUiDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUE9MTEhVUCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUElPIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBMV1NJT0hhbmRsZXIgOyDigJQgdHlwZWRlZgogIOKTiSAgSlNJT0hhbmRsZXIgOyDigJQgdHlwZWRlZgrigJTikrvigJMgbHdzX2lvaGFuZGxlcl9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2lvaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2lvX2hhbmRsZXJzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrjigJMgRkRDYWxsYmFja0Nsb3N1cmUgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFja19jbG9zdXJlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlZmF1bHRfZmRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbG9nX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NpX2lvaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9oYW5kbGVfcG9sbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9sd3NfdW5oYW5kbGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9zZXRfbG9nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2dldF9zZXNzaW9ucyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pbm5ldF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2RlYnVnICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					454,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
<<<<<<< HEAD
								4227,
								4253
							],
=======
								1810,
								1826
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					447,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AQAAAAAAAAAAAAAA0wAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					188,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							[
								5178,
								5197
							],
							[
								6148,
								6161
							],
							[
								6488,
								6503
							],
							[
								7120,
								7140
							],
							[
								7325,
								7332
							],
							[
								7803,
								7817
							],
							[
								8219,
								8238
							],
							[
								11437,
								11451
							],
							[
								17624,
								17636
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					455,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADTAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAA0wAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					189,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								582,
								602
							],
							[
								800,
								833
							],
							[
								1074,
								1094
							],
							[
								1347,
								1365
							],
							[
								1418,
								1445
							],
							[
								1529,
								1547
							],
							[
								1600,
								1621
							],
							[
								1719,
								1737
							],
							[
								1818,
								1834
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					448,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11243,
								11256
							],
							[
								12121,
								12135
							],
							[
								12274,
								12289
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					456,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					457,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					458,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
<<<<<<< HEAD
								1213,
								1231
=======
								1818,
								1834
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					449,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADTAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAA0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANMAAAAgIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADTAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					191,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								582,
								602
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4224,
								4250
							],
							[
								5175,
								5194
							],
							[
								6145,
								6158
							],
							[
								6485,
								6500
							],
							[
								7117,
								7137
							],
							[
								7322,
								7329
							],
							[
								7800,
								7814
							],
							[
								8216,
								8235
							],
							[
								11434,
								11448
							],
							[
<<<<<<< HEAD
								17621,
								17633
=======
								1826,
								1842
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
=======
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					450,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								461,
								476
							],
							[
								852,
								864
							],
							[
								1040,
								1052
							],
							[
								1194,
								1212
							],
							[
								2260,
								2270
							],
							[
								2598,
								2609
							],
							[
								2834,
								2845
							],
							[
								2947,
								2961
							],
							[
								3712,
								3723
							],
							[
								4022,
								4032
							],
							[
								4123,
								4133
							],
							[
								4220,
								4241
							],
							[
								4647,
								4668
							],
							[
								11206,
								11219
							],
							[
								12084,
								12098
							],
							[
								12237,
								12252
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADTAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAA0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANMAAAAgIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADTAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					193,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADTAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					194,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						]
					},
					"AQAAAAAAAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					459,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					460,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4224,
								4250
							],
							[
								5175,
								5194
							],
							[
								6145,
								6158
							],
							[
								6485,
								6500
							],
							[
								7117,
								7137
							],
							[
								7322,
								7329
							],
							[
								7800,
								7814
							],
							[
								8216,
								8235
							],
							[
								11434,
								11448
							],
							[
								17621,
								17633
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					461,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					462,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
<<<<<<< HEAD
								884,
								891
=======
								367,
								387
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_status‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclose_reason‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_client‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_backwards‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAJsCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					451,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								219,
								238
							],
							[
								418,
								431
							],
							[
								543,
								556
							],
							[
								733,
								747
							],
							[
								1084,
								1096
							],
							[
								1228,
								1240
							],
							[
								1482,
								1495
							],
							[
								1621,
								1632
							],
							[
								1799,
								1810
							],
							[
								1873,
								1888
							],
							[
								2656,
								2671
							],
							[
								2984,
								2999
							],
							[
								3159,
								3171
							],
							[
								3277,
								3290
							],
							[
								3496,
								3512
							],
							[
								3729,
								3741
							],
							[
								3868,
								3883
							],
							[
								4017,
								4029
=======
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉhttp_client_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABkAAAAICDik4kgIEhUVFBBc3luY1Jlc29sdmVDbG9zdXJlIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGh0dHBfY2xpZW50X2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAVgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQAAAAgIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgaHR0cF9jbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABWAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								582,
								602
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
<<<<<<< HEAD
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4224,
								4250
							],
							[
								5175,
								5194
							],
							[
								6145,
								6158
							],
							[
								6485,
								6500
							],
							[
								7117,
								7137
							],
							[
								7322,
								7329
							],
							[
								7800,
								7814
							],
							[
								8216,
								8235
							],
							[
								11434,
								11448
							],
							[
								17621,
								17633
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					463,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					464,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5172,
								5191
							],
							[
								6142,
								6155
							],
							[
								6482,
								6497
							],
							[
								7114,
								7134
							],
							[
								7319,
								7326
							],
							[
								7797,
								7811
							],
							[
								8213,
								8232
							],
							[
								11431,
								11445
							],
							[
								17618,
								17630
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					465,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5172,
								5191
							],
							[
								6142,
								6155
							],
							[
								6482,
								6497
							],
							[
								7114,
								7134
							],
							[
								7319,
								7326
							],
							[
								7797,
								7811
							],
							[
								8213,
								8232
							],
							[
								11431,
								11445
							],
							[
								17618,
								17630
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					466,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5123,
								5142
							],
							[
								6093,
								6106
							],
							[
								6433,
								6448
							],
							[
								7065,
								7085
							],
							[
								7270,
								7277
							],
							[
								7748,
								7762
							],
							[
								8164,
								8183
							],
							[
								11382,
								11396
							],
							[
								17569,
								17581
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					467,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5123,
								5142
							],
							[
								6093,
								6106
							],
							[
								6433,
								6448
							],
							[
								7065,
								7085
							],
							[
								7270,
								7277
							],
							[
								7748,
								7762
							],
							[
								8164,
								8183
							],
							[
								11382,
								11396
							],
							[
								17569,
								17581
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					468,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5123,
								5142
							],
							[
								6093,
								6106
							],
							[
								6433,
								6448
							],
							[
								7065,
								7085
							],
							[
								7270,
								7277
							],
							[
								7748,
								7762
							],
							[
								8164,
								8183
							],
							[
								11382,
								11396
							],
							[
								17569,
								17581
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					469,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3158,
								3176
							],
							[
								3494,
								3511
							],
							[
								3579,
								3602
							],
							[
								3817,
								3843
							],
							[
								4221,
								4247
							],
							[
								5123,
								5142
							],
							[
								6093,
								6106
							],
							[
								6433,
								6448
							],
							[
								7065,
								7085
							],
							[
								7270,
								7277
							],
							[
								7748,
								7762
							],
							[
								8164,
								8183
							],
							[
								11382,
								11396
							],
							[
								17569,
								17581
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚í∏‚Äì‚ÄÉFDCallbackClosure‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_fd_callback_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_default_fd_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					470,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADQBAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mZF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIEZEQ2FsbGJhY2tDbG9zdXJlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZmRfY2FsbGJhY2tfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWZhdWx0X2ZkX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2xvZ19jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaGFuZGxlX3BvbGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfbHdzX3VuaGFuZGxlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfc2V0X2xvZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9nZXRfc2Vzc2lvbnMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taW5uZXRfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					471,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								592,
								612
							],
							[
								851,
								884
							],
							[
								1141,
								1161
							],
							[
								1442,
								1460
							],
							[
								1519,
								1546
							],
							[
								1638,
								1656
							],
							[
								1715,
								1736
							],
							[
								1842,
								1860
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AQAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					472,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					473,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								592,
								612
							],
							[
								851,
								884
							],
							[
								1141,
								1161
							],
							[
								1442,
								1460
							],
							[
								1519,
								1546
							],
							[
								1638,
								1656
							],
							[
								1715,
								1736
							],
							[
								1842,
								1860
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AQAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					474,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					475,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					476,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					477,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
=======
								1826,
								1842
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_number‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromurl‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBjbGllbnRfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9zdGF0dXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbG9zZV9yZWFzb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfY2VydGlmaWNhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjbGllbnRfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2NsaWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfaGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnRfY2xvc3VyZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2JhY2t3YXJkcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAOgCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					458,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								219,
								238
							],
							[
								418,
								431
							],
							[
								543,
								556
							],
							[
								733,
								747
							],
							[
								1084,
								1096
							],
							[
								1228,
								1240
							],
							[
								1482,
								1495
							],
							[
								1621,
								1632
							],
							[
								1799,
								1810
							],
							[
								1873,
								1888
							],
							[
								2656,
								2671
							],
							[
								2984,
								2999
							],
							[
								3159,
								3171
							],
							[
								3277,
								3290
							],
							[
								3496,
								3512
							],
							[
								3729,
								3741
							],
							[
								3868,
								3883
							],
							[
								4017,
								4029
=======
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABkAAAAICDik4kgIEhUVFBBc3luY1Jlc29sdmVDbG9zdXJlIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGh0dHBfY2xpZW50X2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAA0wAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.h",
						"symkeys":
						[
							[
								37,
								57
							],
							[
								155,
								168
							],
							[
								192,
								205
							],
							[
								236,
								248
							],
							[
								413,
								426
							],
							[
								450,
								463
							],
							[
								484,
								496
							],
							[
								551,
								564
							],
							[
								587,
								598
							],
							[
								649,
								660
							],
							[
								681,
								696
							],
							[
								704,
								707
							],
							[
								732,
								745
							],
							[
								763,
								775
							],
							[
								811,
								823
							],
							[
								894,
								905
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_number‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromurl‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWV0aG9kX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1ldGhvZF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfYWxsb2MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9tdXJsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF96ZXJvICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9jbGVhciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfY2xlYXJfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAADoAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADcAgAAAAAAANwCAAAAAAAAAAAAAAAA8L8"
				],
				[
					459,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWV0aG9kX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1ldGhvZF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfYWxsb2MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9mcm9tdXJsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF96ZXJvICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9jbGVhciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfY2xlYXJfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					460,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.h",
						"symkeys":
						[
							[
								37,
								57
							],
							[
								192,
								198
							],
							[
								207,
								220
							],
							[
								235,
								248
							],
							[
								272,
								285
							],
							[
								316,
								328
							],
							[
								414,
								417
							],
							[
								500,
								513
							],
							[
								537,
								550
							],
							[
								570,
								584
							],
							[
								647,
								659
							],
							[
								698,
								710
							],
							[
								728,
								731
							],
							[
								772,
								785
							],
							[
								808,
								819
							],
							[
								827,
								830
							],
							[
								877,
								888
							],
							[
								909,
								924
							],
							[
								965,
								980
							],
							[
								988,
								991
							],
							[
								1020,
								1035
							],
							[
								1071,
								1083
							],
							[
								1100,
								1113
							],
							[
								1146,
								1162
							],
							[
								1194,
								1206
							],
							[
								1239,
								1254
							],
							[
								1290,
								1302
							],
							[
								1373,
								1384
							]
						],
						"symlist":
						[
							"QJSNET_LIB_REQUEST_H",
							"socket",
							"http_response",
							"method_string",
							"method_number",
							"http_request",
							"url",
							"method_string",
							"method_number",
							"request_format",
							"request_dump",
							"request_init",
							"url",
							"request_alloc",
							"request_new",
							"url",
							"request_dup",
							"request_fromobj",
							"request_fromwsi",
							"lws",
							"request_fromurl",
							"request_zero",
							"request_clear",
							"request_clear_rt",
							"request_free",
							"request_free_rt",
							"request_from",
							"method_name"
						]
					},
					"AQAAAAAAAAAAAAAAlQEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					461,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
								306,
								323
							],
							[
								375,
								390
							],
							[
								417,
								432
							],
							[
								458,
								479
							],
							[
								501,
								516
							],
							[
								541,
								544
							],
							[
								633,
								641
							],
							[
								656,
								659
							],
							[
								694,
								709
							],
							[
								736,
								751
							],
							[
								777,
								798
							],
							[
								820,
								835
							],
							[
								858,
								866
							],
							[
								874,
								877
							],
							[
								956,
								965
							],
							[
								973,
								976
							],
							[
								1012,
								1015
							],
							[
								1016,
								1026
							],
							[
								1060,
								1069
							],
							[
								1098,
								1101
							],
							[
								1110,
								1120
							],
							[
								1134,
								1137
							],
							[
								1158,
								1166
							],
							[
								1180,
								1183
							],
							[
								1209,
								1219
							],
							[
								1233,
								1236
							],
							[
								1244,
								1252
							],
							[
								1260,
								1263
							],
							[
								1284,
								1295
							],
							[
								1303,
								1306
							],
							[
								1336,
								1352
							],
							[
								1360,
								1363
							],
							[
								1385,
								1401
							],
							[
								1409,
								1412
							],
							[
								1454,
								1471
							],
							[
								1479,
								1482
							],
							[
								1524,
								1532
							],
							[
								1546,
								1549
							],
							[
								1558,
								1581
							],
							[
								1591,
								1603
							],
							[
								1617,
								1620
							],
							[
								1647,
								1656
							],
							[
								1670,
								1673
							],
							[
								1688,
								1698
							],
							[
								1712,
								1715
							],
							[
								1745,
								1753
							],
							[
								1767,
								1770
							],
							[
								1778,
								1789
							],
							[
								1797,
								1800
							],
							[
								1835,
								1848
							],
							[
								1856,
								1859
							],
							[
								1894,
								1905
							],
							[
								1913,
								1916
							],
							[
								1926,
								1929
							],
							[
								1950,
								1958
							],
							[
								1979,
								1982
							],
							[
								1999,
								2002
							],
							[
								2004,
								2011
							],
							[
								2033,
								2043
							],
							[
								2057,
								2060
							],
							[
								2110,
								2118
							],
							[
								2132,
								2135
							],
							[
								2184,
								2193
							],
							[
								2207,
								2210
							],
							[
								2280,
								2292
							],
							[
								2306,
								2309
							],
							[
								2379,
								2389
							],
							[
								2403,
								2406
							],
							[
								2518,
								2521
							],
							[
								2523,
								2530
							],
							[
								2538,
								2541
							],
							[
								2608,
								2611
							],
							[
								2612,
								2621
							],
							[
								2629,
								2632
							],
							[
								2673,
								2676
							],
							[
								2894,
								2902
							],
							[
								2910,
								2913
							],
							[
								2933,
								2936
							],
							[
								3163,
								3173
							],
							[
								3181,
								3184
							],
							[
								3298,
								3310
							],
							[
								3318,
								3321
							],
							[
								3443,
								3456
							],
							[
								3464,
								3467
=======
							"QJSNET_LIB_REQUEST_H",
							"method_string",
							"method_number",
							"http_request",
							"method_string",
							"method_number",
							"request_init",
							"request_alloc",
							"request_new",
							"request_dup",
							"request_fromwsi",
							"lws",
							"request_clear",
							"request_free",
							"request_from",
							"method_name"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADTAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAA8gAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					3,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
						"symkeys":
						[
							[
								136,
								156
							],
							[
								178,
								191
							],
							[
								532,
								544
							],
							[
								607,
								621
							],
							[
								847,
								860
							],
							[
								998,
								1010
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADyAAAAUUpTTkVUX0xJQl9SRVFVRVNUX0gKICBtZXRob2Rfc3RyaW5nCiAgbWV0aG9kX251bWJlcgogIGh0dHBfcmVxdWVzdAogIG1ldGhvZF9zdHJpbmcKICBtZXRob2RfbnVtYmVyCiAgcmVxdWVzdF9pbml0CiAgcmVxdWVzdF9hbGxvYwogIHJlcXVlc3RfbmV3CiAgcmVxdWVzdF9kdXAKICByZXF1ZXN0X2Zyb213c2kKICBsd3MKICByZXF1ZXN0X2NsZWFyCiAgcmVxdWVzdF9mcmVlCiAgcmVxdWVzdF9mcm9tCiAgbWV0aG9kX25hbWUAAAAAAAAAAO8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					4,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/remove-functions.c",
						"symkeys":
						[
							[
								52,
								66
							],
							[
								763,
								774
							],
							[
								881,
								891
							],
							[
								1199,
								1214
							],
							[
								1947,
								1961
							],
							[
								2085,
								2098
							],
							[
								2343,
								2356
							],
							[
								2532,
								2547
							],
							[
								2799,
								2811
							],
							[
								3070,
								3081
							],
							[
								3459,
								3471
							],
							[
								3597,
								3611
							],
							[
								3878,
								3901
							],
							[
								4159,
								4180
							],
							[
								4354,
								4363
							],
							[
								4474,
								4498
							],
							[
								4651,
								4664
							],
							[
								4870,
								4884
							],
							[
								5220,
								5235
							],
							[
								5494,
								5497
							],
							[
								5641,
								5651
							],
							[
								5862,
								5880
							],
							[
								6031,
								6048
							],
							[
								6196,
								6206
							],
							[
								6317,
								6329
							],
							[
								6491,
								6500
							],
							[
								6596,
								6606
							],
							[
								6692,
								6713
							],
							[
								6908,
								6919
							],
							[
								7093,
								7115
							],
							[
								7350,
								7366
							],
							[
								7451,
								7471
							],
							[
								7606,
								7631
							],
							[
								7820,
								7831
							],
							[
								8045,
								8056
							],
							[
								8187,
								8202
							],
							[
								8312,
								8330
							],
							[
								8440,
								8457
							],
							[
								8644,
								8658
							],
							[
								9390,
								9402
							],
							[
								9644,
								9657
							],
							[
								9760,
								9776
							],
							[
								10010,
								10026
							],
							[
								10252,
								10266
							],
							[
								10576,
								10591
							],
							[
								10679,
								10702
							],
							[
								10958,
								10974
							],
							[
								11171,
								11192
							],
							[
								11867,
								11888
							],
							[
								12096,
								12112
							],
							[
								12178,
								12199
							],
							[
								12335,
								12352
							],
							[
								12528,
								12543
							],
							[
								12921,
								12932
							],
							[
								13251,
								13259
							],
							[
								13380,
								13388
							],
							[
								13509,
								13526
							],
							[
								13891,
								13905
							],
							[
								14047,
								14064
							],
							[
								14262,
								14274
							],
							[
								14564,
								14576
							],
							[
								14712,
								14727
							],
							[
								15501,
								15516
							],
							[
								15676,
								15688
							],
							[
								15794,
								15806
							],
							[
								15934,
								15947
							],
							[
								16074,
								16087
							],
							[
								16192,
								16206
							],
							[
								16393,
								16410
							],
							[
								16640,
								16655
							],
							[
								16846,
								16861
							],
							[
								17009,
								17024
							],
							[
								17153,
								17164
							],
							[
								17386,
								17398
							],
							[
								17590,
								17598
							],
							[
								17793,
								17806
							],
							[
								17977,
								17992
							],
							[
								18187,
								18201
							],
							[
								18897,
								18908
							],
							[
								19247,
								19258
							],
							[
								19269,
								19282
							],
							[
								19551,
								19567
							],
							[
								19727,
								19739
							],
							[
								19929,
								19947
							],
							[
								20326,
								20340
							],
							[
								20503,
								20516
							],
							[
								20752,
								20767
							],
							[
								20839,
								20854
							],
							[
								21011,
								21025
							],
							[
								21170,
								21184
							],
							[
								21569,
								21593
							],
							[
								21817,
								21829
							],
							[
								22074,
								22093
							],
							[
								22273,
								22291
							],
							[
								22507,
								22530
							],
							[
								22869,
								22894
							],
							[
								23150,
								23161
							],
							[
								23388,
								23410
							],
							[
								23704,
								23726
							],
							[
								23997,
								24009
							],
							[
								24711,
								24720
							],
							[
								24917,
								24937
							],
							[
								25129,
								25144
							],
							[
								25424,
								25438
							],
							[
								26006,
								26020
							],
							[
								26312,
								26328
							],
							[
								26650,
								26665
							],
							[
								26790,
								26806
							],
							[
								27119,
								27133
							],
							[
								27479,
								27491
							],
							[
								27603,
								27616
							],
							[
								28932,
								28947
							],
							[
								29019,
								29033
							],
							[
								29155,
								29168
							],
							[
								29339,
								29355
							],
							[
								29514,
								29528
							],
							[
								29684,
								29700
							],
							[
								29880,
								29895
							],
							[
								29993,
								30006
							],
							[
								30151,
								30165
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					478,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					479,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					480,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					481,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
=======
<<<<<<< HEAD
							"QJSNET_LIB_URL_H",
							"URL_IS_VALID_PORT",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url",
							"URL_INIT",
							"url",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url_init",
							"url",
							"url_parse",
							"url",
							"url",
							" url_create",
							" url_print",
							"url",
							" url_format",
							"url",
							" url_host",
							"url",
							" url_length",
							"url",
							" url_free",
							"url",
							" url_free_rt",
							"url",
							" url_set_protocol",
							"url",
							" url_set_path_len",
							"url",
							" url_set_query_len",
							"url",
							" url_info",
							"url",
							"lws_client_connect_info",
							" url_location",
							"url",
							" url_query",
							"url",
							" url_search",
							"url",
							" url_hash",
							"url",
							" url_fromobj",
							"url",
							" url_fromvalue",
							"url",
							" url_fromwsi",
							"url",
							"lws",
							" url_dump",
							"url",
							"url",
							" url_new",
							" url_object",
							"url",
							" url_path",
							"url",
							"url_valid",
							"url",
							"url_protocol",
							"url",
							"url_is_tls",
							"url",
							"url",
							" url_dup",
							"url",
							"url",
							" url_clone",
							"url",
							"url",
							"url_copy",
							"url",
							"url",
							"url_string",
							"url",
							"url_set_path",
							"url",
							"url_set_query",
							"url"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACVAQAAUUpTTkVUX0xJQl9SRVFVRVNUX0gKICBzb2NrZXQKICBodHRwX3Jlc3BvbnNlCiAgbWV0aG9kX3N0cmluZwogIG1ldGhvZF9udW1iZXIKICBodHRwX3JlcXVlc3QKICB1cmwKICBtZXRob2Rfc3RyaW5nCiAgbWV0aG9kX251bWJlcgogIHJlcXVlc3RfZm9ybWF0CiAgcmVxdWVzdF9kdW1wCiAgcmVxdWVzdF9pbml0CiAgdXJsCiAgcmVxdWVzdF9hbGxvYwogIHJlcXVlc3RfbmV3CiAgdXJsCiAgcmVxdWVzdF9kdXAKICByZXF1ZXN0X2Zyb21vYmoKICByZXF1ZXN0X2Zyb213c2kKICBsd3MKICByZXF1ZXN0X2Zyb211cmwKICByZXF1ZXN0X3plcm8KICByZXF1ZXN0X2NsZWFyCiAgcmVxdWVzdF9jbGVhcl9ydAogIHJlcXVlc3RfZnJlZQogIHJlcXVlc3RfZnJlZV9ydAogIHJlcXVlc3RfZnJvbQogIG1ldGhvZF9uYW1lAAAAAAAAAACFAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					462,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.c",
						"symkeys":
						[
							[
								192,
								207
							],
							[
								252,
								259
							],
							[
								732,
								740
							],
							[
								947,
								962
							],
							[
								1106,
								1127
							],
							[
								1355,
								1370
							],
							[
								1569,
								1579
							],
							[
								1740,
								1748
							],
							[
								2143,
								2152
							],
							[
								2901,
								2904
							],
							[
								3040,
								3049
							],
							[
								3927,
								3937
							],
							[
								4851,
								4859
							],
							[
								5369,
								5379
							],
							[
								5724,
								5732
							],
							[
								5904,
								5915
							],
							[
								6090,
								6098
							],
							[
								6257,
								6273
							],
							[
								6888,
								6905
							],
							[
								7403,
								7411
							],
							[
								8984,
								8996
							],
							[
								9195,
								9204
							],
							[
								9348,
								9358
							],
							[
								9528,
								9536
							],
							[
								9605,
								9616
							],
							[
								10552,
								10565
							],
							[
								10983,
								10994
							],
							[
								12230,
								12238
							],
							[
								12440,
								12447
							],
							[
								12602,
								12612
=======
							"‚Äî‚íª‚Äì‚ÄÉJS_INIT_MODULE‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_move‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_findb‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_call_x‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_dupjs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_newv‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_tojs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_atom‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_to‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_wrap‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_protocol_count‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉproxy_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉproxy_ws_raw_msg_destroy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"url",
							"‚Äî‚íª‚Äì‚ÄÉwant_write‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_want_write_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉasynciterator_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_concat‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_fromarraybuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_fromarraybuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_toarraybuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_toarraybuffer_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_skip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_freejs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_freejs_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_newjs_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_addobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_copy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_unset‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_tostring‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉgenerator_cancel‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉgenerator_stop‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_done‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_get_propertystr_bool‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_export_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_import_meta‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_loader‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_arraybuffer_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_atom_is_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_async‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_peer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_host‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_copy_fragment‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_vhost_name‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"lws_token_indexes",
							"‚Äî‚íª‚Äì‚ÄÉopaque_valid‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromurl‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_write‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_redirect‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_new2‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_context‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_request‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_connect‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_location‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_value_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsocket_geterror‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsocket_address‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉWSWantWrite‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉws_want_write‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvector2array‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bind_v‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_to3‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_valid‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_clone‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_iterable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_get_propertystr_int64‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_at‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_generator_reader‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_generator_iterator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_ringbuffer_wrap‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉtail_consume‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉtail_bind‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉclient_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_escaped‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_fromvalue‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_tostring‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_gettoken‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_module_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉopaque_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_escape‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_dupjs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_tojs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_js_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_putchar‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_init2‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_next‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArAQAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAANwSAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					5,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/closure.h",
						"symkeys":
						[
							[
								37,
								57
							],
							[
								117,
								131
							],
							[
								203,
								207
							],
							[
								294,
								303
							],
							[
								334,
								345
							],
							[
								374,
								385
							],
							[
								408,
								420
							]
						],
						"symlist":
						[
							"QJSNET_LIB_CLOSURE_H",
							"closure_free_t",
							"void",
							"allocated",
							"closure_new",
							"closure_dup",
							"closure_free"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAByFwAA4oCU4pK74oCTIEpTX0lOSVRfTU9EVUxFICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX21vdmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBieXRlX2ZpbmRiICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfY2FsbF94ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfZHVwanMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9uZXd2ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfdG9qcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnVmZmVyX3RvICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbW9kdWxlX2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9wcm90b2NvbF9jb3VudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3h5X25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3h5X3dzX3Jhd19tc2dfZGVzdHJveSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfY2xlYXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICB1cmwK4oCU4pK74oCTIHdhbnRfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c193YW50X3dyaXRlX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBhc3luY2l0ZXJhdG9yX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBibG9ja19jb25jYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBibG9ja19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBibG9ja19mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfZnJvbWFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBidWZmZXJfZnJvbWFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl90b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX3RvYXJyYXlidWZmZXJfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX3NraXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9mcmVlanMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9mcmVlanNfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9uZXdqc19ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfYWRkb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaGVhZGVyc19jb3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaGVhZGVyc191bnNldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBnZW5lcmF0b3JfY2FuY2VsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZ2VuZXJhdG9yX3N0b3AgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19wcm9taXNlX2RvbmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19nZXRfcHJvcGVydHlzdHJfYm9vbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21vZHVsZV9maW5kX3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19tb2R1bGVfZXhwb3J0X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19tb2R1bGVfaW1wb3J0X21ldGEgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19tb2R1bGVfbG9hZGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXRvbV9pc19zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pc19nZW5lcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pc18oICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV9wZWVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NpX2hvc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfY29weV9mcmFnbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzaV92aG9zdF9uYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIGx3c190b2tlbl9pbmRleGVzCuKAlOKSu+KAkyBvcGFxdWVfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb21vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb211cmwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXNwb25zZV9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfemVybyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX3dyaXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfcmVkaXJlY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByaW5nYnVmZmVyX25ldzIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXNzaW9uX2NvbnRleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXNzaW9uX3JlcXVlc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfY29ubmVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdmFsdWVfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNvY2tldF9nZXRlcnJvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNvY2tldF9hZGRyZXNzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3Nfd3JpdGFibGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOJICBXU1dhbnRXcml0ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyB3c193YW50X3dyaXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfemVybyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZlY3RvcjJhcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2Z1bmN0aW9uX2JpbmRfdiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnVmZmVyX3RvMyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl92YWxpZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9jbG9uZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfaXNfaXRlcmFibGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19nZXRfcHJvcGVydHlzdHJfaW50NjQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19tb2R1bGVfYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2dlbmVyYXRvcl9yZWFkZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZ2VuZXJhdG9yX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JpbmdidWZmZXJfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRhaWxfY29uc3VtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRhaWxfYmluZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNsaWVudF9yZXNvbHZlZF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3Jlc29sdmVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgY2xpZW50X3Byb21pc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBidWZmZXJfZXNjYXBlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBidWZmZXJfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoZWFkZXJzX2dldHRva2VuICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbW9kdWxlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvcGFxdWVfY2xlYXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBidWZmZXJfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfZHVwanMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF90b2pzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfanNfY2FsbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9wdXRjaGFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmluZ2J1ZmZlcl9pbml0MiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXNwb25zZV9jbGVhciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAGMAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					6,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.h",
						"symkeys":
						[
							[
								37,
								57
							],
							[
								108,
								118
							],
							[
								127,
								143
							],
							[
								152,
								159
							],
							[
								168,
								182
							],
							[
								191,
								205
							],
							[
								214,
								234
							],
							[
								244,
								256
							],
							[
								389,
								399
							],
							[
								417,
								433
							],
							[
								565,
								579
							],
							[
								598,
								612
							],
							[
								701,
								713
							],
							[
								721,
								733
							],
							[
								742,
								755
							],
							[
								763,
								775
							],
							[
								800,
								816
							],
							[
								824,
								836
							],
							[
								863,
								877
							],
							[
								885,
								897
							],
							[
								929,
								945
							],
							[
								953,
								965
							],
							[
								1002,
								1018
							],
							[
								1026,
								1038
							],
							[
								1072,
								1079
							],
							[
								1092,
								1102
							],
							[
								1148,
								1159
							],
							[
								1197,
								1217
							],
							[
								1219,
								1233
							],
							[
								1241,
								1253
							],
							[
								1264,
								1277
							],
							[
								1279,
								1295
							],
							[
								1303,
								1315
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AQAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					482,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					483,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					484,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					485,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AQAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					486,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					487,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					488,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					489,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					490,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/.ninja_log",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					491,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					492,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					493,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					494,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					495,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
							[
								1092,
								1099
							],
							[
								1142,
								1154
							],
							[
								1246,
								1254
							],
							[
								1321,
								1331
							],
							[
								1398,
								1408
							],
							[
								1439,
								1459
							],
							[
								1470,
								1485
							],
							[
								1495,
								1523
							],
							[
								1694,
								1703
							],
							[
								1746,
								1761
							],
							[
								2110,
								2136
							],
							[
								2329,
								2353
							],
							[
								3762,
								3788
							],
							[
								5550,
								5589
							],
							[
								5875,
								5899
							],
							[
								6018,
								6037
							],
							[
								13415,
								13441
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_DLL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_INTERNAL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉQUEUELEN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MAX‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉMAX_MIRROR_INSTANCES‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚íû‚ÄÇ‚ÄÉmirror_instance‚Äâ;‚ÄÉ‚Äî‚ÄÉtype declaration",
							"‚Äî‚í∏‚Äì‚ÄÉper_session_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉa_message‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉmirror_instance‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉper_vhost_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_rxflow_instance‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_update_worst_tail‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_callback_all_in_mi_on_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_destroy_message‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉcallback_lws_mirror‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_PLUGIN_PROTOCOL_MIRROR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object"
						]
					},
					"AwAAAAAAAAAAAAAAywIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFMDAAAgIOKTgiAgTFdTX0RMTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgTFdTX0lOVEVSTkFMIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBRVUVVRUxFTiDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUlhGTE9XX01JTiDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUlhGTE9XX01BWCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgTUFYX01JUlJPUl9JTlNUQU5DRVMg4oCmIOKAlCBtYWNybyBvYmplY3QKICDikp4gIG1pcnJvcl9pbnN0YW5jZSA7IOKAlCB0eXBlIGRlY2xhcmF0aW9uCuKAlOKSuOKAkyBwZXJfc2Vzc2lvbl9kYXRhX19sd3NfbWlycm9yIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgYV9tZXNzYWdlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgbWlycm9yX2luc3RhbmNlIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgcGVyX3Zob3N0X2RhdGFfX2x3c19taXJyb3IgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSu+KAkyBfX21pcnJvcl9yeGZsb3dfaW5zdGFuY2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl91cGRhdGVfd29yc3RfdGFpbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIF9fbWlycm9yX2NhbGxiYWNrX2FsbF9pbl9taV9vbl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIF9fbWlycm9yX2Rlc3Ryb3lfbWVzc2FnZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNhbGxiYWNrX2x3c19taXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBMV1NfUExVR0lOX1BST1RPQ09MX01JUlJPUiDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAywIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					500,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTAwAAICDik4IgIExXU19ETEwg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19JTlRFUk5BTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFVUVMRU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NQVgg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIE1BWF9NSVJST1JfSU5TVEFOQ0VTIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pKeICBtaXJyb3JfaW5zdGFuY2UgOyDigJQgdHlwZSBkZWNsYXJhdGlvbgrigJTikrjigJMgcGVyX3Nlc3Npb25fZGF0YV9fbHdzX21pcnJvciB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIGFfbWVzc2FnZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIG1pcnJvcl9pbnN0YW5jZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHBlcl92aG9zdF9kYXRhX19sd3NfbWlycm9yIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgX19taXJyb3JfcnhmbG93X2luc3RhbmNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19taXJyb3JfdXBkYXRlX3dvcnN0X3RhaWwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9jYWxsYmFja19hbGxfaW5fbWlfb25fd3JpdGFibGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9kZXN0cm95X21lc3NhZ2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjYWxsYmFja19sd3NfbWlycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgTFdTX1BMVUdJTl9QUk9UT0NPTF9NSVJST1Ig4oCmIOKAlCBtYWNybyBvYmplY3QAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADlAQAAAAAAAMsBAAAAAAAAAAAAAAAA8L8"
				],
				[
					501,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
							[
								1092,
								1099
							],
							[
								1142,
								1154
							],
							[
								1246,
								1254
							],
							[
								1321,
								1331
							],
							[
								1398,
								1408
							],
							[
								1439,
								1459
							],
							[
								1470,
								1485
							],
							[
								1495,
								1523
							],
							[
								1694,
								1703
							],
							[
								1746,
								1761
							],
							[
								2110,
								2136
							],
							[
								2329,
								2353
							],
							[
								3762,
								3788
							],
							[
								5550,
								5589
							],
							[
								5875,
								5899
							],
							[
								6018,
								6037
							],
							[
								13415,
								13441
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_DLL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_INTERNAL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉQUEUELEN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MAX‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉMAX_MIRROR_INSTANCES‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚íû‚ÄÇ‚ÄÉmirror_instance‚Äâ;‚ÄÉ‚Äî‚ÄÉtype declaration",
							"‚Äî‚í∏‚Äì‚ÄÉper_session_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉa_message‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉmirror_instance‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉper_vhost_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_rxflow_instance‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_update_worst_tail‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_callback_all_in_mi_on_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_destroy_message‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉcallback_lws_mirror‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_PLUGIN_PROTOCOL_MIRROR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAywIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					502,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTAwAAICDik4IgIExXU19ETEwg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19JTlRFUk5BTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFVUVMRU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NQVgg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIE1BWF9NSVJST1JfSU5TVEFOQ0VTIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pKeICBtaXJyb3JfaW5zdGFuY2UgOyDigJQgdHlwZSBkZWNsYXJhdGlvbgrigJTikrjigJMgcGVyX3Nlc3Npb25fZGF0YV9fbHdzX21pcnJvciB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIGFfbWVzc2FnZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIG1pcnJvcl9pbnN0YW5jZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHBlcl92aG9zdF9kYXRhX19sd3NfbWlycm9yIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgX19taXJyb3JfcnhmbG93X2luc3RhbmNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19taXJyb3JfdXBkYXRlX3dvcnN0X3RhaWwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9jYWxsYmFja19hbGxfaW5fbWlfb25fd3JpdGFibGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9kZXN0cm95X21lc3NhZ2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjYWxsYmFja19sd3NfbWlycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgTFdTX1BMVUdJTl9QUk9UT0NPTF9NSVJST1Ig4oCmIOKAlCBtYWNybyBvYmplY3QAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					503,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					504,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					505,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					506,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					507,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.css",
						"symkeys":
						[
							[
								1,
								11
							],
							[
								111,
								121
							],
							[
								221,
								235
							],
							[
								333,
								339
							],
							[
								439,
								445
							],
							[
								543,
								550
							],
							[
								648,
								655
							],
							[
								756,
								764
							],
							[
								982,
								989
							],
							[
								1126,
								1134
							],
							[
								1297,
								1308
							],
							[
								1480,
								1487
							],
							[
								1819,
								1823
							],
							[
								1958,
								1967
							],
							[
								1989,
								1996
							],
							[
								2019,
								2031
							],
							[
								2126,
								2134
							],
							[
								2156,
								2164
							],
							[
								2290,
								2297
							],
							[
								2423,
								2428
							],
							[
								2534,
								2538
							],
							[
								2558,
								2568
							],
							[
								2697,
								2714
							],
							[
								2739,
								2747
							],
							[
								2888,
								2916
							],
							[
								2990,
								3029
							],
							[
								3050,
								3061
							],
							[
								3239,
								3243
							],
							[
								3383,
								3388
							],
							[
								3528,
								3532
							],
							[
								3672,
								3677
							],
							[
								3817,
								3823
							],
							[
								3963,
								3968
							],
							[
								4108,
								4112
=======
<<<<<<< HEAD
							"‚Äî‚íª‚Äì‚ÄÉminnet_url_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstrlcpy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_default_port‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_is_tls‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstart_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_parse‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"url",
							"‚Äî‚íª‚Äì‚ÄÉurl_print‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_host‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_path_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_query_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_info‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_location‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_query‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_search‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_hash‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromvalue‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_object‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFAwAAUUpTTkVUX0xJQl9VUkxfSApVUkxfSVNfVkFMSURfUE9SVAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybApVUkxfSU5JVAogIHVybAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybF9pbml0CiAgdXJsCiAgdXJsX3BhcnNlCiAgdXJsCiAgdXJsCiAgdXJsX2NyZWF0ZQogIHVybF9wcmludAogIHVybAogIHVybF9mb3JtYXQKICB1cmwKICB1cmxfaG9zdAogIHVybAogIHVybF9sZW5ndGgKICB1cmwKICB1cmxfZnJlZQogIHVybAogIHVybF9mcmVlX3J0CiAgdXJsCiAgdXJsX3NldF9wcm90b2NvbAogIHVybAogIHVybF9zZXRfcGF0aF9sZW4KICB1cmwKICB1cmxfc2V0X3F1ZXJ5X2xlbgogIHVybAogIHVybF9pbmZvCiAgdXJsCiAgbHdzX2NsaWVudF9jb25uZWN0X2luZm8KICB1cmxfbG9jYXRpb24KICB1cmwKICB1cmxfcXVlcnkKICB1cmwKICB1cmxfc2VhcmNoCiAgdXJsCiAgdXJsX2hhc2gKICB1cmwKICB1cmxfZnJvbW9iagogIHVybAogIHVybF9mcm9tdmFsdWUKICB1cmwKICB1cmxfZnJvbXdzaQogIHVybAogIGx3cwogIHVybF9kdW1wCiAgdXJsCiAgdXJsCiAgdXJsX25ldwogIHVybF9vYmplY3QKICB1cmwKICB1cmxfcGF0aAogIHVybAogIHVybF92YWxpZAogIHVybAogIHVybF9wcm90b2NvbAogIHVybAogIHVybF9pc190bHMKICB1cmwKICB1cmwKICB1cmxfZHVwCiAgdXJsCiAgdXJsCiAgdXJsX2Nsb25lCiAgdXJsCiAgdXJsCiAgdXJsX2NvcHkKICB1cmwKICB1cmwKICB1cmxfc3RyaW5nCiAgdXJsCiAgdXJsX3NldF9wYXRoCiAgdXJsCiAgdXJsX3NldF9xdWVyeQogIHVybAAAAAAAAAAAAQQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					463,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
								306,
								323
							],
							[
								375,
								390
							],
							[
								417,
								432
							],
							[
								458,
								479
							],
							[
								501,
								516
							],
							[
								541,
								544
							],
							[
								633,
								641
							],
							[
								656,
								659
							],
							[
								694,
								709
							],
							[
								736,
								751
							],
							[
								777,
								798
							],
							[
								820,
								835
							],
							[
								858,
								866
							],
							[
								874,
								877
							],
							[
								956,
								965
							],
							[
								973,
								976
							],
							[
								1012,
								1015
							],
							[
								1016,
								1026
							],
							[
								1060,
								1069
							],
							[
								1098,
								1101
							],
							[
								1110,
								1120
							],
							[
								1134,
								1137
							],
							[
								1158,
								1166
							],
							[
								1180,
								1183
							],
							[
								1209,
								1219
							],
							[
								1233,
								1236
							],
							[
								1244,
								1252
							],
							[
								1260,
								1263
							],
							[
								1284,
								1295
							],
							[
								1303,
								1306
							],
							[
								1336,
								1352
							],
							[
								1360,
								1363
							],
							[
								1385,
								1401
							],
							[
								1409,
								1412
							],
							[
								1454,
								1471
							],
							[
								1479,
								1482
							],
							[
								1524,
								1532
							],
							[
								1546,
								1549
							],
							[
								1558,
								1581
							],
							[
								1591,
								1603
							],
							[
								1617,
								1620
							],
							[
								1647,
								1656
							],
							[
								1670,
								1673
							],
							[
								1688,
								1698
							],
							[
								1712,
								1715
							],
							[
								1745,
								1753
							],
							[
								1767,
								1770
							],
							[
								1778,
								1789
							],
							[
								1797,
								1800
							],
							[
								1835,
								1848
							],
							[
								1856,
								1859
							],
							[
								1894,
								1905
							],
							[
								1913,
								1916
							],
							[
								1926,
								1929
							],
							[
								1950,
								1958
							],
							[
								1979,
								1982
							],
							[
								1999,
								2002
							],
							[
								2004,
								2011
							],
							[
								2033,
								2043
							],
							[
								2057,
								2060
							],
							[
								2110,
								2118
							],
							[
								2132,
								2135
							],
							[
								2184,
								2193
							],
							[
								2207,
								2210
							],
							[
								2280,
								2292
							],
							[
								2306,
								2309
							],
							[
								2379,
								2389
							],
							[
								2403,
								2406
							],
							[
								2518,
								2521
							],
							[
								2523,
								2530
							],
							[
								2538,
								2541
							],
							[
								2608,
								2611
							],
							[
								2612,
								2621
							],
							[
								2629,
								2632
							],
							[
								2673,
								2676
							],
							[
								2894,
								2902
							],
							[
								2910,
								2913
							],
							[
								2933,
								2936
							],
							[
								3163,
								3173
							],
							[
								3181,
								3184
							],
							[
								3298,
								3310
							],
							[
								3318,
								3321
							],
							[
								3443,
								3456
							],
							[
								3464,
								3467
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"span.title",
							"span.mount",
							"span.mountname",
							"span.n",
							"span.v",
							"span.m1",
							"span.m2",
							".browser",
							".group2",
							".explain",
							"td.wsstatus",
							".tdform",
							"td.l",
							"td.bigger",
							"div.bgw",
							"div.conninfo",
							"span.f12",
							".content",
							".canvas",
							".tabs",
							".tab",
							".tab label",
							".tab [type=radio]",
							".content",
							"[type=radio]:checked ~ label",
							"[type=radio]:checked ~ label ~ .content",
							"td.wsstatus",
							"td.l",
							"td.dl",
							"td.c",
							"td.c0",
							"td.dc0",
							"td.c1",
							"td.t"
						]
					},
					"AQAAAAAAAAAAAAAAmAEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					508,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACYAQAAICBzcGFuLnRpdGxlCiAgc3Bhbi5tb3VudAogIHNwYW4ubW91bnRuYW1lCiAgc3Bhbi5uCiAgc3Bhbi52CiAgc3Bhbi5tMQogIHNwYW4ubTIKICAuYnJvd3NlcgogIC5ncm91cDIKICAuZXhwbGFpbgogIHRkLndzc3RhdHVzCiAgLnRkZm9ybQogIHRkLmwKICB0ZC5iaWdnZXIKICBkaXYuYmd3CiAgZGl2LmNvbm5pbmZvCiAgc3Bhbi5mMTIKICAuY29udGVudAogIC5jYW52YXMKICAudGFicwogIC50YWIKICAudGFiIGxhYmVsCiAgLnRhYiBbdHlwZT1yYWRpb10KICAuY29udGVudApbdHlwZT1yYWRpb106Y2hlY2tlZCB+IGxhYmVsClt0eXBlPXJhZGlvXTpjaGVja2VkIH4gbGFiZWwgfiAuY29udGVudAogIHRkLndzc3RhdHVzCiAgdGQubAogIHRkLmRsCiAgdGQuYwogIHRkLmMwCiAgdGQuZGMwCiAgdGQuYzEKICB0ZC50AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					509,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.html",
						"symkeys":
						[
							[
								624,
								628
							],
							[
								690,
								701
							],
							[
								742,
								751
							],
							[
								1023,
								1028
							],
							[
								1166,
								1170
							],
							[
								1231,
								1244
							],
							[
								1291,
								1302
							],
							[
								1812,
								1818
							],
							[
								1898,
								1904
							],
							[
								1956,
								1960
							],
							[
								2096,
								2101
							],
							[
								2214,
								2220
							],
							[
								2283,
								2296
							],
							[
								2339,
								2350
							],
							[
								3137,
								3142
							],
							[
								3390,
								3402
							],
							[
								3550,
								3555
							],
							[
								3669,
								3671
							],
							[
								3755,
								3766
							],
							[
								3810,
								3819
							],
							[
								4396,
								4407
							],
							[
								4475,
								4487
							],
							[
								4566,
								4582
							],
							[
								4741,
								4746
							],
							[
								4853,
								4855
							],
							[
								4907,
								4917
							],
							[
								4959,
								4967
							],
							[
								5106,
								5109
							],
							[
								5351,
								5359
							],
							[
								5421,
								5429
							],
							[
								5561,
								5566
							],
							[
								5666,
								5668
							],
							[
								5940,
								5948
							],
							[
								6285,
								6293
							],
							[
								6625,
								6629
							],
							[
								6660,
								6669
							],
							[
								6723,
								6729
							]
						],
						"symlist":
						[
							"brow",
							"wstransport",
							"transport",
							"tab-1",
							"dumb",
							"wsdi_statustd",
							"wsdi_status",
							"number",
							"offset",
							"junk",
							"tab-2",
							"mirror",
							"wslm_statustd",
							"wslm_status",
							"color",
							"wslm_drawing",
							"tab-3",
							"ot",
							"ot_statustd",
							"ot_status",
							"ot_open_btn",
							"ot_close_btn",
							"ot_req_close_btn",
							"tab-4",
							"ot",
							"s_statustd",
							"s_status",
							"pmd",
							"servinfo",
							"conninfo",
							"tab-5",
							"ot",
							"postinfo",
							"postinfo",
							"file",
							"file_info",
							"upload"
						]
					},
					"AQAAAAAAAAAAAAAAgwEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					510,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACDAQAAICBicm93CiAgd3N0cmFuc3BvcnQKICB0cmFuc3BvcnQKICB0YWItMQogIGR1bWIKICB3c2RpX3N0YXR1c3RkCiAgd3NkaV9zdGF0dXMKICBudW1iZXIKICBvZmZzZXQKICBqdW5rCiAgdGFiLTIKICBtaXJyb3IKICB3c2xtX3N0YXR1c3RkCiAgd3NsbV9zdGF0dXMKICBjb2xvcgogIHdzbG1fZHJhd2luZwogIHRhYi0zCiAgb3QKICBvdF9zdGF0dXN0ZAogIG90X3N0YXR1cwogIG90X29wZW5fYnRuCiAgb3RfY2xvc2VfYnRuCiAgb3RfcmVxX2Nsb3NlX2J0bgogIHRhYi00CiAgb3QKICBzX3N0YXR1c3RkCiAgc19zdGF0dXMKICBwbWQKICBzZXJ2aW5mbwogIGNvbm5pbmZvCiAgdGFiLTUKICBvdAogIHBvc3RpbmZvCiAgcG9zdGluZm8KICBmaWxlCiAgZmlsZV9pbmZvCiAgdXBsb2FkAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					511,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					512,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.html",
						"symkeys":
						[
							[
								624,
								628
							],
							[
								690,
								701
							],
							[
								742,
								751
							],
							[
								1023,
								1028
							],
							[
								1166,
								1170
							],
							[
								1231,
								1244
							],
							[
								1291,
								1302
							],
							[
								1812,
								1818
							],
							[
								1898,
								1904
							],
							[
								1956,
								1960
							],
							[
								2096,
								2101
							],
							[
								2214,
								2220
							],
							[
								2283,
								2296
							],
							[
								2339,
								2350
							],
							[
								3137,
								3142
							],
							[
								3390,
								3402
							],
							[
								3550,
								3555
							],
							[
								3669,
								3671
							],
							[
								3755,
								3766
							],
							[
								3810,
								3819
							],
							[
								4396,
								4407
							],
							[
								4475,
								4487
							],
							[
								4566,
								4582
							],
							[
								4741,
								4746
							],
							[
								4853,
								4855
							],
							[
								4907,
								4917
							],
							[
								4959,
								4967
							],
							[
								5106,
								5109
							],
							[
								5351,
								5359
							],
							[
								5421,
								5429
							],
							[
								5561,
								5566
							],
							[
								5666,
								5668
							],
							[
								5940,
								5948
							],
							[
								6285,
								6293
							],
							[
								6625,
								6629
							],
							[
								6660,
								6669
							],
							[
								6723,
								6729
							]
						],
						"symlist":
						[
							"brow",
							"wstransport",
							"transport",
							"tab-1",
							"dumb",
							"wsdi_statustd",
							"wsdi_status",
							"number",
							"offset",
							"junk",
							"tab-2",
							"mirror",
							"wslm_statustd",
							"wslm_status",
							"color",
							"wslm_drawing",
							"tab-3",
							"ot",
							"ot_statustd",
							"ot_status",
							"ot_open_btn",
							"ot_close_btn",
							"ot_req_close_btn",
							"tab-4",
							"ot",
							"s_statustd",
							"s_status",
							"pmd",
							"servinfo",
							"conninfo",
							"tab-5",
							"ot",
							"postinfo",
							"postinfo",
							"file",
							"file_info",
							"upload"
						]
					},
					"AQAAAAAAAAAAAAAAgwEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					513,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
							]
						],
						"symlist":
						[
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACDAQAAICBicm93CiAgd3N0cmFuc3BvcnQKICB0cmFuc3BvcnQKICB0YWItMQogIGR1bWIKICB3c2RpX3N0YXR1c3RkCiAgd3NkaV9zdGF0dXMKICBudW1iZXIKICBvZmZzZXQKICBqdW5rCiAgdGFiLTIKICBtaXJyb3IKICB3c2xtX3N0YXR1c3RkCiAgd3NsbV9zdGF0dXMKICBjb2xvcgogIHdzbG1fZHJhd2luZwogIHRhYi0zCiAgb3QKICBvdF9zdGF0dXN0ZAogIG90X3N0YXR1cwogIG90X29wZW5fYnRuCiAgb3RfY2xvc2VfYnRuCiAgb3RfcmVxX2Nsb3NlX2J0bgogIHRhYi00CiAgb3QKICBzX3N0YXR1c3RkCiAgc19zdGF0dXMKICBwbWQKICBzZXJ2aW5mbwogIGNvbm5pbmZvCiAgdGFiLTUKICBvdAogIHBvc3RpbmZvCiAgcG9zdGluZm8KICBmaWxlCiAgZmlsZV9pbmZvCiAgdXBsb2FkAAAAAAAAAADCAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					514,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					515,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
=======
							"QJSNET_LIB_URL_H",
							"URL_IS_VALID_PORT",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url",
							"URL_INIT",
							"url",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url_init",
							"url",
							"url_parse",
							"url",
							"url",
							" url_create",
							" url_print",
							"url",
							" url_format",
							"url",
							" url_host",
							"url",
							" url_length",
							"url",
							" url_free",
							"url",
							" url_free_rt",
							"url",
							" url_set_protocol",
							"url",
							" url_set_path_len",
							"url",
							" url_set_query_len",
							"url",
							" url_info",
							"url",
							"lws_client_connect_info",
							" url_location",
							"url",
							" url_query",
							"url",
							" url_search",
							"url",
							" url_hash",
							"url",
							" url_fromobj",
							"url",
							" url_fromvalue",
							"url",
							" url_fromwsi",
							"url",
							"lws",
							" url_dump",
							"url",
							"url",
							" url_new",
							" url_object",
							"url",
							" url_path",
							"url",
							"url_valid",
							"url",
							"url_protocol",
							"url",
							"url_is_tls",
							"url",
							"url",
							" url_dup",
							"url",
							"url",
							" url_clone",
							"url",
							"url",
							"url_copy",
							"url",
							"url",
							"url_string",
							"url",
							"url_set_path",
							"url",
							"url_set_query",
							"url"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAPBQAA4oCU4pK74oCTIG1pbm5ldF91cmxfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAgcHJvdG9jb2wK4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0YXJ0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICB1cmwK4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaG9zdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sZW5ndGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIHByb3RvY29sCuKAlOKSu+KAkyB1cmxfc2V0X3BhdGhfbGVuICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3NldF9xdWVyeV9sZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZWFyY2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaGFzaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAIUDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					464,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
								306,
								323
							],
							[
								375,
								390
							],
							[
								417,
								432
							],
							[
								458,
								479
							],
							[
								501,
								516
							],
							[
								541,
								544
							],
							[
								633,
								641
							],
							[
								656,
								659
							],
							[
								694,
								709
							],
							[
								736,
								751
							],
							[
								777,
								798
							],
							[
								820,
								835
							],
							[
								858,
								866
							],
							[
								874,
								877
							],
							[
								956,
								965
							],
							[
								973,
								976
							],
							[
								1012,
								1015
							],
							[
								1016,
								1026
							],
							[
								1060,
								1069
							],
							[
								1098,
								1101
							],
							[
								1110,
								1120
							],
							[
								1134,
								1137
							],
							[
								1158,
								1166
							],
							[
								1180,
								1183
							],
							[
								1209,
								1219
							],
							[
								1233,
								1236
							],
							[
								1244,
								1252
							],
							[
								1260,
								1263
							],
							[
								1284,
								1295
							],
							[
								1303,
								1306
							],
							[
								1336,
								1352
							],
							[
								1360,
								1363
							],
							[
								1385,
								1401
							],
							[
								1409,
								1412
							],
							[
								1454,
								1471
							],
							[
								1479,
								1482
							],
							[
								1524,
								1532
							],
							[
								1546,
								1549
							],
							[
								1558,
								1581
							],
							[
								1591,
								1603
							],
							[
								1617,
								1620
							],
							[
								1647,
								1656
							],
							[
								1670,
								1673
							],
							[
								1688,
								1698
							],
							[
								1712,
								1715
							],
							[
								1745,
								1753
							],
							[
								1767,
								1770
							],
							[
								1778,
								1789
							],
							[
								1797,
								1800
							],
							[
								1835,
								1848
							],
							[
								1856,
								1859
							],
							[
								1894,
								1905
							],
							[
								1913,
								1916
							],
							[
								1926,
								1929
							],
							[
								1950,
								1958
							],
							[
								1979,
								1982
							],
							[
								1999,
								2002
							],
							[
								2004,
								2011
							],
							[
								2033,
								2043
							],
							[
								2057,
								2060
							],
							[
								2110,
								2118
							],
							[
								2132,
								2135
							],
							[
								2184,
								2193
							],
							[
								2207,
								2210
							],
							[
								2280,
								2292
							],
							[
								2306,
								2309
							],
							[
								2379,
								2389
							],
							[
								2403,
								2406
							],
							[
								2518,
								2521
							],
							[
								2523,
								2530
							],
							[
								2538,
								2541
							],
							[
								2608,
								2611
							],
							[
								2612,
								2621
							],
							[
								2629,
								2632
							],
							[
								2673,
								2676
							],
							[
								2894,
								2902
							],
							[
								2910,
								2913
							],
							[
								2933,
								2936
							],
							[
								3163,
								3173
							],
							[
								3181,
								3184
							],
							[
								3298,
								3310
							],
							[
								3318,
								3321
							],
							[
								3443,
								3456
							],
							[
								3464,
								3467
=======
							"QJSNET_LIB_SESSION_H",
							"http_mount",
							"proxy_connection",
							"context",
							"server_context",
							"client_context",
							"wsi_opaque_user_data",
							"session_data",
							"http_mount",
							"proxy_connection",
							"server_context",
							"client_context",
							"session_zero",
							"session_data",
							"session_clear",
							"session_data",
							"session_clear_rt",
							"session_data",
							"session_object",
							"session_data",
							"session_writable",
							"session_data",
							"session_callback",
							"session_data",
							"context",
							"session_ws",
							"session_wsi",
							"wsi_opaque_user_data",
							" session_opaque",
							"session_data",
							"http_response",
							" session_response",
							"session_data"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjAAAAUUpTTkVUX0xJQl9DTE9TVVJFX0gKICBjbG9zdXJlX2ZyZWVfdAogIHZvaWQKICBhbGxvY2F0ZWQKICBjbG9zdXJlX25ldwogIGNsb3N1cmVfZHVwCiAgY2xvc3VyZV9mcmVlAAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					7,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.c",
						"symkeys":
						[
							[
								69,
								83
							],
							[
								226,
								239
							],
							[
								397,
								410
							],
							[
								657,
								671
							],
							[
								976,
								989
							],
							[
								1260,
								1275
							],
							[
								2003,
								2022
							],
							[
								2190,
								2208
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉdeferred_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_newv‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_newjs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_call_x‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_destructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdeferred_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAZAgAAUUpTTkVUX0xJQl9TRVNTSU9OX0gKICBodHRwX21vdW50CiAgcHJveHlfY29ubmVjdGlvbgogIGNvbnRleHQKICBzZXJ2ZXJfY29udGV4dAogIGNsaWVudF9jb250ZXh0CiAgd3NpX29wYXF1ZV91c2VyX2RhdGEKICBzZXNzaW9uX2RhdGEKICBodHRwX21vdW50CiAgcHJveHlfY29ubmVjdGlvbgogIHNlcnZlcl9jb250ZXh0CiAgY2xpZW50X2NvbnRleHQKICBzZXNzaW9uX3plcm8KICBzZXNzaW9uX2RhdGEKICBzZXNzaW9uX2NsZWFyCiAgc2Vzc2lvbl9kYXRhCiAgc2Vzc2lvbl9jbGVhcl9ydAogIHNlc3Npb25fZGF0YQogIHNlc3Npb25fb2JqZWN0CiAgc2Vzc2lvbl9kYXRhCiAgc2Vzc2lvbl93cml0YWJsZQogIHNlc3Npb25fZGF0YQogIHNlc3Npb25fY2FsbGJhY2sKICBzZXNzaW9uX2RhdGEKICBjb250ZXh0CiAgc2Vzc2lvbl93cwogIHNlc3Npb25fd3NpCiAgd3NpX29wYXF1ZV91c2VyX2RhdGEKICBzZXNzaW9uX29wYXF1ZQogIHNlc3Npb25fZGF0YQogIGh0dHBfcmVzcG9uc2UKICBzZXNzaW9uX3Jlc3BvbnNlCiAgc2Vzc2lvbl9kYXRhAAAAAAAAAABGAQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					8,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.c",
						"symkeys":
						[
							[
								93,
								113
							],
							[
								2103,
								2119
							],
							[
								2720,
								2737
							],
							[
								2865,
								2882
							],
							[
								3241,
								3261
							],
							[
								3630,
								3646
							],
							[
								3802,
								3821
							],
							[
								3989,
								4011
							],
							[
								4179,
								4202
							],
							[
								4342,
								4365
							],
							[
								4434,
								4457
							],
							[
								4660,
								4684
							],
							[
								4792,
								4811
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉform_parser_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_param_name‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_param_valid‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_param_count‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_param_index‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_param_exists‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉform_parser_process‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACWAQAA4oCU4pK74oCTIGRlZmVycmVkX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRlZmVycmVkX25ld3YgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9uZXdqcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRlZmVycmVkX2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9jYWxsX3ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkZWZlcnJlZF9kZXN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGVmZXJyZWRfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAVAIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					9,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.h",
						"symkeys":
						[
							[
								41,
								65
							],
							[
								153,
								164
							],
							[
								193,
								212
							],
							[
								239,
								246
							],
							[
								262,
								267
							],
							[
								290,
								296
							],
							[
								446,
								462
							],
							[
								483,
								489
							],
							[
								572,
								589
							],
							[
								608,
								625
							],
							[
								661,
								681
							],
							[
								716,
								732
							],
							[
								768,
								787
							],
							[
								829,
								851
							],
							[
								882,
								905
							],
							[
								938,
								961
							],
							[
								980,
								1003
							],
							[
								1041,
								1065
							],
							[
								1102,
								1121
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AQAAAAAAAAAAAAAAwgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					516,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					517,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/lws-common.js",
						"symkeys":
						[
							[
								323,
								344
							],
							[
								1285,
								1319
							],
							[
								1393,
								1404
							],
							[
								1547,
								1584
							],
							[
								1741,
								1777
							],
							[
								2742,
								2755
							],
							[
								2908,
								2921
							],
							[
								3047,
								3081
							],
							[
								3130,
								3149
=======
							"QJSNET_LIB_FORM_PARSER_H",
							"form_parser",
							"lws_spa_create_info",
							"lws_spa",
							"lwsac",
							"socket",
							"form_parser_init",
							"socket",
							"form_parser_alloc",
							"form_parser_clear",
							"form_parser_clear_rt",
							"form_parser_free",
							"form_parser_free_rt",
							"form_parser_param_name",
							"form_parser_param_valid",
							"form_parser_param_count",
							"form_parser_param_index",
							"form_parser_param_exists",
							"form_parser_process"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADWAgAA4oCU4pK74oCTIGZvcm1fcGFyc2VyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX2FsbG9jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfY2xlYXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBmb3JtX3BhcnNlcl9jbGVhcl9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBmb3JtX3BhcnNlcl9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfcGFyYW1fbmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX3BhcmFtX3ZhbGlkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZm9ybV9wYXJzZXJfcGFyYW1fY291bnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBmb3JtX3BhcnNlcl9wYXJhbV9pbmRleCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX3BhcmFtX2V4aXN0cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZvcm1fcGFyc2VyX3Byb2Nlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABzAQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					10,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.c",
						"symkeys":
						[
							[
								215,
								241
							],
							[
								266,
								281
							],
							[
								647,
								661
							],
							[
								809,
								826
							],
							[
								1061,
								1079
							],
							[
								1311,
								1326
							],
							[
								1550,
								1565
							],
							[
								1665,
								1683
							],
							[
								1798,
								1819
							],
							[
								1892,
								1908
							],
							[
								2015,
								2030
							],
							[
								2138,
								2153
							],
							[
								2249,
								2267
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function gsize(ptype)",
							"function addEvent( obj, type, fn )",
							" function()",
							"function removeEvent( obj, type, fn )",
							"function lws_gray_out(vis, _options)",
							" function()",
							" function()",
							"function new_ws(urlpath, protocol)",
							"function lws_san(s)"
						]
					},
					"AQAAAAAAAAAAAAAAtwAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					518,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC3AAAAICBnc2l6ZShwdHlwZSkKICBhZGRFdmVudCggb2JqLCB0eXBlLCBmbiApCiAgZnVuY3Rpb24oKQogIHJlbW92ZUV2ZW50KCBvYmosIHR5cGUsIGZuICkKICBsd3NfZ3JheV9vdXQodmlzLCBfb3B0aW9ucykKICBmdW5jdGlvbigpCiAgZnVuY3Rpb24oKQogIG5ld193cyh1cmxwYXRoLCBwcm90b2NvbCkKICBsd3Nfc2FuKHMpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					519,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/lws-common.js",
						"symkeys":
						[
							[
								323,
								344
							],
							[
								1285,
								1319
							],
							[
								1393,
								1404
							],
							[
								1547,
								1584
							],
							[
								1741,
								1777
							],
							[
								2742,
								2755
							],
							[
								2908,
								2921
							],
							[
								3047,
								3081
							],
							[
								3130,
								3149
=======
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_destroy_element‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_insert‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_consume‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_skip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_next‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_waiting‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_bytelength‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_avail‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉringbuffer_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABzAQAAUUpTTkVUX0xJQl9GT1JNX1BBUlNFUl9ICiAgZm9ybV9wYXJzZXIKICBsd3Nfc3BhX2NyZWF0ZV9pbmZvCiAgbHdzX3NwYQogIGx3c2FjCiAgc29ja2V0CiAgZm9ybV9wYXJzZXJfaW5pdAogIHNvY2tldAogIGZvcm1fcGFyc2VyX2FsbG9jCiAgZm9ybV9wYXJzZXJfY2xlYXIKICBmb3JtX3BhcnNlcl9jbGVhcl9ydAogIGZvcm1fcGFyc2VyX2ZyZWUKICBmb3JtX3BhcnNlcl9mcmVlX3J0CiAgZm9ybV9wYXJzZXJfcGFyYW1fbmFtZQogIGZvcm1fcGFyc2VyX3BhcmFtX3ZhbGlkCiAgZm9ybV9wYXJzZXJfcGFyYW1fY291bnQKICBmb3JtX3BhcnNlcl9wYXJhbV9pbmRleAogIGZvcm1fcGFyc2VyX3BhcmFtX2V4aXN0cwogIGZvcm1fcGFyc2VyX3Byb2Nlc3MAAAAAAAAAADACAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					11,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.h",
						"symkeys":
						[
							[
								38,
								59
							],
							[
								193,
								205
							],
							[
								223,
								236
							],
							[
								434,
								447
							],
							[
								545,
								557
							],
							[
								575,
								589
							],
							[
								622,
								635
							],
							[
								673,
								685
							],
							[
								725,
								743
							],
							[
								751,
								764
							],
							[
								891,
								904
							],
							[
								906,
								918
							]
						],
						"symlist":
						[
							"QJSNET_LIB_RESPONSE_H",
							"session_data",
							"http_response",
							"response_init",
							"response_dup",
							"response_clear",
							"response_free",
							"response_new",
							"response_generator",
							"http_response",
							"http_response",
							" response_new"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACyAgAA4oCU4pK74oCTIHJpbmdidWZmZXJfZGVzdHJveV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmluZ2J1ZmZlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmluZ2J1ZmZlcl9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByaW5nYnVmZmVyX2luc2VydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfY29uc3VtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfc2tpcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfd2FpdGluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfYnl0ZWxlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJpbmdidWZmZXJfYXZhaWwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByaW5nYnVmZmVyX3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByaW5nYnVmZmVyX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByaW5nYnVmZmVyX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAADHAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					12,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/utils.c",
						"symkeys":
						[
							[
								27,
								34
							],
							[
								179,
								187
							],
							[
								448,
								456
							],
							[
								624,
								633
							],
							[
								860,
								869
							],
							[
								1057,
								1066
							],
							[
								1265,
								1275
							],
							[
								1362,
								1372
							],
							[
								1676,
								1691
							],
							[
								1836,
								1854
							],
							[
								2000,
								2008
							],
							[
								2164,
								2177
							],
							[
								2299,
								2316
							],
							[
								2574,
								2594
							],
							[
								2853,
								2866
							],
							[
								3200,
								3214
							],
							[
								3437,
								3459
							],
							[
								3631,
								3639
							],
							[
								3855,
								3864
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function gsize(ptype)",
							"function addEvent( obj, type, fn )",
							" function()",
							"function removeEvent( obj, type, fn )",
							"function lws_gray_out(vis, _options)",
							" function()",
							" function()",
							"function new_ws(urlpath, protocol)",
							"function lws_san(s)"
						]
					},
					"AQAAAAAAAAAAAAAAtwAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					520,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAAC3AAAAICBnc2l6ZShwdHlwZSkKICBhZGRFdmVudCggb2JqLCB0eXBlLCBmbiApCiAgZnVuY3Rpb24oKQogIHJlbW92ZUV2ZW50KCBvYmosIHR5cGUsIGZuICkKICBsd3NfZ3JheV9vdXQodmlzLCBfb3B0aW9ucykKICBmdW5jdGlvbigpCiAgZnVuY3Rpb24oKQogIG5ld193cyh1cmxwYXRoLCBwcm90b2NvbCkKICBsd3Nfc2FuKHMpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					521,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.css",
						"symkeys":
						[
							[
								1,
								11
							],
							[
								111,
								121
							],
							[
								221,
								235
							],
							[
								333,
								339
							],
							[
								439,
								445
							],
							[
								543,
								550
							],
							[
								648,
								655
							],
							[
								756,
								764
							],
							[
								982,
								989
							],
							[
								1126,
								1134
							],
							[
								1297,
								1308
							],
							[
								1480,
								1487
							],
							[
								1819,
								1823
							],
							[
								1958,
								1967
							],
							[
								1989,
								1996
							],
							[
								2019,
								2031
							],
							[
								2126,
								2134
							],
							[
								2156,
								2164
							],
							[
								2290,
								2297
							],
							[
								2423,
								2428
							],
							[
								2534,
								2538
							],
							[
								2558,
								2568
							],
							[
								2697,
								2714
							],
							[
								2739,
								2747
							],
							[
								2888,
								2916
							],
							[
								2990,
								3029
							],
							[
								3050,
								3061
							],
							[
								3239,
								3243
							],
							[
								3383,
								3388
							],
							[
								3528,
								3532
							],
							[
								3672,
								3677
							],
							[
								3817,
								3823
							],
							[
								3963,
								3968
							],
							[
								4108,
								4112
=======
							"‚Äî‚íª‚Äì‚ÄÉstr_chr‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstr_chrs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_chr‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_chrs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_rchr‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_diff‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_equal‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbyte_findb‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_whitenskip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_nonwhitenskip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_eol‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_nextline‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_charsetnskip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉscan_noncharsetnskip‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉskip_brackets‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉskip_directory‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstrip_trailing_newline‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉuint_pow‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlist_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADHAAAAUUpTTkVUX0xJQl9SRVNQT05TRV9ICiAgc2Vzc2lvbl9kYXRhCiAgaHR0cF9yZXNwb25zZQogIHJlc3BvbnNlX2luaXQKICByZXNwb25zZV9kdXAKICByZXNwb25zZV9jbGVhcgogIHJlc3BvbnNlX2ZyZWUKICByZXNwb25zZV9uZXcKICByZXNwb25zZV9nZW5lcmF0b3IKICBodHRwX3Jlc3BvbnNlCiAgaHR0cF9yZXNwb25zZQogIHJlc3BvbnNlX25ldwAAAAAAAAAA0AIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					13,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.h",
						"symkeys":
						[
							[
								36,
								55
							],
							[
								273,
								279
							],
							[
								288,
								300
							],
							[
								309,
								322
							],
							[
								331,
								343
							],
							[
								352,
								363
							],
							[
								373,
								393
							],
							[
								422,
								428
							],
							[
								443,
								455
							],
							[
								471,
								484
							],
							[
								501,
								513
							],
							[
								576,
								582
							],
							[
								613,
								622
							],
							[
								638,
								649
							],
							[
								673,
								676
							],
							[
								697,
								720
							],
							[
								803,
								812
							],
							[
								832,
								847
							],
							[
								855,
								875
							],
							[
								899,
								913
							],
							[
								921,
								941
							],
							[
								965,
								977
							],
							[
								985,
								1005
							],
							[
								1030,
								1041
							],
							[
								1049,
								1069
							],
							[
								1096,
								1116
							],
							[
								1118,
								1128
							],
							[
								1149,
								1169
							],
							[
								1171,
								1181
							],
							[
								1189,
								1192
							],
							[
								1217,
								1229
							],
							[
								1237,
								1257
							],
							[
								1290,
								1310
							],
							[
								1312,
								1322
							],
							[
								1330,
								1350
							],
							[
								1426,
								1446
							],
							[
								1448,
								1462
							],
							[
								1470,
								1473
							],
							[
								1491,
								1511
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"span.title",
							"span.mount",
							"span.mountname",
							"span.n",
							"span.v",
							"span.m1",
							"span.m2",
							".browser",
							".group2",
							".explain",
							"td.wsstatus",
							".tdform",
							"td.l",
							"td.bigger",
							"div.bgw",
							"div.conninfo",
							"span.f12",
							".content",
							".canvas",
							".tabs",
							".tab",
							".tab label",
							".tab [type=radio]",
							".content",
							"[type=radio]:checked ~ label",
							"[type=radio]:checked ~ label ~ .content",
							"td.wsstatus",
							"td.l",
							"td.dl",
							"td.c",
							"td.c0",
							"td.dc0",
							"td.c1",
							"td.t"
						]
					},
					"AQAAAAAAAAAAAAAAmAEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					522,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/lws-common.js",
						"symkeys":
						[
							[
								323,
								344
							],
							[
								1285,
								1319
							],
							[
								1393,
								1404
							],
							[
								1547,
								1584
							],
							[
								1741,
								1777
							],
							[
								2742,
								2755
							],
							[
								2908,
								2921
							],
							[
								3047,
								3081
							],
							[
								3130,
								3149
=======
							"QJSNET_LIB_OPAQUE_H",
							"socket",
							"http_request",
							"http_response",
							"session_data",
							"form_parser",
							"wsi_opaque_user_data",
							"socket",
							"http_request",
							"http_response",
							"session_data",
							"pollfd",
							"list_head",
							"form_parser",
							"lws",
							"lws_client_connect_info",
							"list_head",
							"opaque_clear_rt",
							"wsi_opaque_user_data",
							"opaque_free_rt",
							"wsi_opaque_user_data",
							"opaque_clear",
							"wsi_opaque_user_data",
							"opaque_free",
							"wsi_opaque_user_data",
							"wsi_opaque_user_data",
							" opaque_new",
							"wsi_opaque_user_data",
							" lws_opaque",
							"lws",
							" opaque_valid",
							"wsi_opaque_user_data",
							"wsi_opaque_user_data",
							" opaque_dup",
							"wsi_opaque_user_data",
							"wsi_opaque_user_data",
							" opaque_fromwsi",
							"lws",
							"wsi_opaque_user_data"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACOAwAA4oCU4pK74oCTIHN0cl9jaHIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzdHJfY2hycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ5dGVfY2hyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnl0ZV9jaHJzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnl0ZV9yY2hyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnl0ZV9kaWZmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnl0ZV9lcXVhbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ5dGVfZmluZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX3doaXRlbnNraXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX25vbndoaXRlbnNraXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2VvbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNjYW5fbmV4dGxpbmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzY2FuX2NoYXJzZXRuc2tpcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNjYW5fbm9uY2hhcnNldG5za2lwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2tpcF9icmFja2V0cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNraXBfZGlyZWN0b3J5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc3RyaXBfdHJhaWxpbmdfbmV3bGluZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVpbnRfcG93ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbGlzdF9zaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAhQIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					14,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.c",
						"symkeys":
						[
							[
								206,
								212
							],
							[
								593,
								604
							],
							[
								1027,
								1035
							],
							[
								1120,
								1130
							],
							[
								1257,
								1264
							],
							[
								1398,
								1404
							],
							[
								1472,
								1482
							],
							[
								1824,
								1831
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function gsize(ptype)",
							"function addEvent( obj, type, fn )",
							" function()",
							"function removeEvent( obj, type, fn )",
							"function lws_gray_out(vis, _options)",
							" function()",
							" function()",
							"function new_ws(urlpath, protocol)",
							"function lws_san(s)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACYAQAAICBzcGFuLnRpdGxlCiAgc3Bhbi5tb3VudAogIHNwYW4ubW91bnRuYW1lCiAgc3Bhbi5uCiAgc3Bhbi52CiAgc3Bhbi5tMQogIHNwYW4ubTIKICAuYnJvd3NlcgogIC5ncm91cDIKICAuZXhwbGFpbgogIHRkLndzc3RhdHVzCiAgLnRkZm9ybQogIHRkLmwKICB0ZC5iaWdnZXIKICBkaXYuYmd3CiAgZGl2LmNvbm5pbmZvCiAgc3Bhbi5mMTIKICAuY29udGVudAogIC5jYW52YXMKICAudGFicwogIC50YWIKICAudGFiIGxhYmVsCiAgLnRhYiBbdHlwZT1yYWRpb10KICAuY29udGVudApbdHlwZT1yYWRpb106Y2hlY2tlZCB+IGxhYmVsClt0eXBlPXJhZGlvXTpjaGVja2VkIH4gbGFiZWwgfiAuY29udGVudAogIHRkLndzc3RhdHVzCiAgdGQubAogIHRkLmRsCiAgdGQuYwogIHRkLmMwCiAgdGQuZGMwCiAgdGQuYzEKICB0ZC50AAAAAAAAAAC3AAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					523,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.html",
						"symkeys":
						[
							[
								624,
								628
							],
							[
								690,
								701
							],
							[
								742,
								751
							],
							[
								1023,
								1028
							],
							[
								1166,
								1170
							],
							[
								1231,
								1244
							],
							[
								1291,
								1302
							],
							[
								1812,
								1818
							],
							[
								1898,
								1904
							],
							[
								1956,
								1960
							],
							[
								2096,
								2101
							],
							[
								2214,
								2220
							],
							[
								2283,
								2296
							],
							[
								2339,
								2350
							],
							[
								3137,
								3142
							],
							[
								3390,
								3402
							],
							[
								3550,
								3555
							],
							[
								3669,
								3671
							],
							[
								3755,
								3766
							],
							[
								3810,
								3819
							],
							[
								4396,
								4407
							],
							[
								4475,
								4487
							],
							[
								4566,
								4582
							],
							[
								4741,
								4746
							],
							[
								4853,
								4855
							],
							[
								4907,
								4917
							],
							[
								4959,
								4967
							],
							[
								5106,
								5109
							],
							[
								5351,
								5359
							],
							[
								5421,
								5429
							],
							[
								5561,
								5566
							],
							[
								5666,
								5668
							],
							[
								5940,
								5948
							],
							[
								6285,
								6293
							],
							[
								6625,
								6629
							],
							[
								6660,
								6669
							],
							[
								6723,
								6729
							]
						],
						"symlist":
						[
							"brow",
							"wstransport",
							"transport",
							"tab-1",
							"dumb",
							"wsdi_statustd",
							"wsdi_status",
							"number",
							"offset",
							"junk",
							"tab-2",
							"mirror",
							"wslm_statustd",
							"wslm_status",
							"color",
							"wslm_drawing",
							"tab-3",
							"ot",
							"ot_statustd",
							"ot_status",
							"ot_open_btn",
							"ot_close_btn",
							"ot_req_close_btn",
							"tab-4",
							"ot",
							"s_statustd",
							"s_status",
							"pmd",
							"servinfo",
							"conninfo",
							"tab-5",
							"ot",
							"postinfo",
							"postinfo",
							"file",
							"file_info",
							"upload"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC3AAAAICBnc2l6ZShwdHlwZSkKICBhZGRFdmVudCggb2JqLCB0eXBlLCBmbiApCiAgZnVuY3Rpb24oKQogIHJlbW92ZUV2ZW50KCBvYmosIHR5cGUsIGZuICkKICBsd3NfZ3JheV9vdXQodmlzLCBfb3B0aW9ucykKICBmdW5jdGlvbigpCiAgZnVuY3Rpb24oKQogIG5ld193cyh1cmxwYXRoLCBwcm90b2NvbCkKICBsd3Nfc2FuKHMpAAAAAAAAAACDAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					524,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
							]
						],
						"symlist":
						[
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACDAQAAICBicm93CiAgd3N0cmFuc3BvcnQKICB0cmFuc3BvcnQKICB0YWItMQogIGR1bWIKICB3c2RpX3N0YXR1c3RkCiAgd3NkaV9zdGF0dXMKICBudW1iZXIKICBvZmZzZXQKICBqdW5rCiAgdGFiLTIKICBtaXJyb3IKICB3c2xtX3N0YXR1c3RkCiAgd3NsbV9zdGF0dXMKICBjb2xvcgogIHdzbG1fZHJhd2luZwogIHRhYi0zCiAgb3QKICBvdF9zdGF0dXN0ZAogIG90X3N0YXR1cwogIG90X29wZW5fYnRuCiAgb3RfY2xvc2VfYnRuCiAgb3RfcmVxX2Nsb3NlX2J0bgogIHRhYi00CiAgb3QKICBzX3N0YXR1c3RkCiAgc19zdGF0dXMKICBwbWQKICBzZXJ2aW5mbwogIGNvbm5pbmZvCiAgdGFiLTUKICBvdAogIHBvc3RpbmZvCiAgcG9zdGluZm8KICBmaWxlCiAgZmlsZV9pbmZvCiAgdXBsb2FkAAAAAAAAAADCAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					525,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					526,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
							]
						],
						"symlist":
						[
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AQAAAAAAAAAAAAAAwgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					527,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					528,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					529,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
							]
						],
						"symlist":
						[
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AQAAAAAAAAAAAAAAwgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					530,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
=======
							"‚Äî‚íª‚Äì‚ÄÉws_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_enqueue‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_send‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFAgAAUUpTTkVUX0xJQl9PUEFRVUVfSAogIHNvY2tldAogIGh0dHBfcmVxdWVzdAogIGh0dHBfcmVzcG9uc2UKICBzZXNzaW9uX2RhdGEKICBmb3JtX3BhcnNlcgogIHdzaV9vcGFxdWVfdXNlcl9kYXRhCiAgc29ja2V0CiAgaHR0cF9yZXF1ZXN0CiAgaHR0cF9yZXNwb25zZQogIHNlc3Npb25fZGF0YQogIHBvbGxmZAogIGxpc3RfaGVhZAogIGZvcm1fcGFyc2VyCiAgbHdzCiAgbHdzX2NsaWVudF9jb25uZWN0X2luZm8KICBsaXN0X2hlYWQKICBvcGFxdWVfY2xlYXJfcnQKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIG9wYXF1ZV9mcmVlX3J0CiAgd3NpX29wYXF1ZV91c2VyX2RhdGEKICBvcGFxdWVfY2xlYXIKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIG9wYXF1ZV9mcmVlCiAgd3NpX29wYXF1ZV91c2VyX2RhdGEKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIG9wYXF1ZV9uZXcKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIGx3c19vcGFxdWUKICBsd3MKICBvcGFxdWVfdmFsaWQKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIHdzaV9vcGFxdWVfdXNlcl9kYXRhCiAgb3BhcXVlX2R1cAogIHdzaV9vcGFxdWVfdXNlcl9kYXRhCiAgd3NpX29wYXF1ZV91c2VyX2RhdGEKICBvcGFxdWVfZnJvbXdzaQogIGx3cwogIHdzaV9vcGFxdWVfdXNlcl9kYXRhAAAAAAAAAAAQAQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					15,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.h",
						"symkeys":
						[
							[
								32,
								47
							],
							[
								328,
								331
							],
							[
								340,
								352
							],
							[
								361,
								374
							],
							[
								384,
								390
							],
							[
								419,
								422
							],
							[
								441,
								447
							],
							[
								449,
								455
							],
							[
								463,
								466
							],
							[
								491,
								502
							],
							[
								510,
								516
							],
							[
								540,
								548
							],
							[
								556,
								562
							],
							[
								587,
								597
							],
							[
								605,
								611
							],
							[
								635,
								642
							],
							[
								650,
								656
							],
							[
								683,
								689
							],
							[
								691,
								697
							],
							[
								705,
								711
							],
							[
								726,
								736
							],
							[
								744,
								750
							],
							[
								776,
								783
							],
							[
								791,
								797
							],
							[
								870,
								882
							],
							[
								884,
								895
							],
							[
								903,
								906
							],
							[
								924,
								944
							],
							[
								1064,
								1084
							],
							[
								1086,
								1095
							],
							[
								1103,
								1109
							],
							[
								1201,
								1213
							],
							[
								1215,
								1225
							],
							[
								1233,
								1239
							],
							[
								1318,
								1324
							],
							[
								1326,
								1337
							],
							[
								1345,
								1348
							],
							[
								1366,
								1386
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"QJSNET_LIB_URL_H",
							"URL_IS_VALID_PORT",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url",
							"URL_INIT",
							"url",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url_init",
							"url",
							"url_parse",
							"url",
							"url",
							" url_create",
							" url_print",
							"url",
							" url_format",
							"url",
							" url_host",
							"url",
							" url_length",
							"url",
							" url_free",
							"url",
							" url_free_rt",
							"url",
							" url_set_protocol",
							"url",
							" url_set_path_len",
							"url",
							" url_set_query_len",
							"url",
							" url_info",
							"url",
							"lws_client_connect_info",
							" url_location",
							"url",
							" url_query",
							"url",
							" url_search",
							"url",
							" url_hash",
							"url",
							" url_fromobj",
							"url",
							" url_fromvalue",
							"url",
							" url_fromwsi",
							"url",
							"lws",
							" url_dump",
							"url",
							"url",
							" url_new",
							" url_object",
							"url",
							" url_path",
							"url",
							"url_valid",
							"url",
							"url_protocol",
							"url",
							"url_is_tls",
							"url",
							"url",
							" url_dup",
							"url",
							"url",
							" url_clone",
							"url",
							"url",
							"url_copy",
							"url",
							"url",
							"url_string",
							"url",
							"url_set_path",
							"url",
							"url_set_query",
							"url"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFAwAAUUpTTkVUX0xJQl9VUkxfSApVUkxfSVNfVkFMSURfUE9SVAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybApVUkxfSU5JVAogIHVybAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybF9pbml0CiAgdXJsCiAgdXJsX3BhcnNlCiAgdXJsCiAgdXJsCiAgdXJsX2NyZWF0ZQogIHVybF9wcmludAogIHVybAogIHVybF9mb3JtYXQKICB1cmwKICB1cmxfaG9zdAogIHVybAogIHVybF9sZW5ndGgKICB1cmwKICB1cmxfZnJlZQogIHVybAogIHVybF9mcmVlX3J0CiAgdXJsCiAgdXJsX3NldF9wcm90b2NvbAogIHVybAogIHVybF9zZXRfcGF0aF9sZW4KICB1cmwKICB1cmxfc2V0X3F1ZXJ5X2xlbgogIHVybAogIHVybF9pbmZvCiAgdXJsCiAgbHdzX2NsaWVudF9jb25uZWN0X2luZm8KICB1cmxfbG9jYXRpb24KICB1cmwKICB1cmxfcXVlcnkKICB1cmwKICB1cmxfc2VhcmNoCiAgdXJsCiAgdXJsX2hhc2gKICB1cmwKICB1cmxfZnJvbW9iagogIHVybAogIHVybF9mcm9tdmFsdWUKICB1cmwKICB1cmxfZnJvbXdzaQogIHVybAogIGx3cwogIHVybF9kdW1wCiAgdXJsCiAgdXJsCiAgdXJsX25ldwogIHVybF9vYmplY3QKICB1cmwKICB1cmxfcGF0aAogIHVybAogIHVybF92YWxpZAogIHVybAogIHVybF9wcm90b2NvbAogIHVybAogIHVybF9pc190bHMKICB1cmwKICB1cmwKICB1cmxfZHVwCiAgdXJsCiAgdXJsCiAgdXJsX2Nsb25lCiAgdXJsCiAgdXJsCiAgdXJsX2NvcHkKICB1cmwKICB1cmwKICB1cmxfc3RyaW5nCiAgdXJsCiAgdXJsX3NldF9wYXRoCiAgdXJsCiAgdXJsX3NldF9xdWVyeQogIHVybAAAAAAAAAAAhQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					465,
=======
							"QJSNET_LIB_WS_H",
							"lws",
							"http_request",
							"http_response",
							"socket",
							"lws",
							"socket",
							" ws_new",
							"lws",
							" ws_clear_rt",
							"socket",
							" ws_clear",
							"socket",
							" ws_free_rt",
							"socket",
							" ws_free",
							"socket",
							"socket",
							" ws_dup",
							"socket",
							" ws_enqueue",
							"socket",
							" ws_send",
							"socket",
							"session_data",
							" lws_session",
							"lws",
							"wsi_opaque_user_data",
							"wsi_opaque_user_data",
							" ws_opaque",
							"socket",
							"session_data",
							" ws_session",
							"socket",
							"socket",
							" ws_from_wsi",
							"lws",
							"wsi_opaque_user_data"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABgAQAA4oCU4pK74oCTIHdzX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2NsZWFyX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2xlYXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2VucXVldWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19zZW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAsgEAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					16,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
<<<<<<< HEAD
								306,
								323
							],
							[
								375,
								390
							],
							[
								417,
								432
							],
							[
								458,
								479
							],
							[
								501,
								516
							],
							[
								541,
								544
							],
							[
								633,
								641
							],
							[
								656,
								659
							],
							[
								694,
								709
							],
							[
								736,
								751
							],
							[
								777,
								798
							],
							[
								820,
								835
							],
							[
								858,
								866
							],
							[
								874,
								877
							],
							[
								956,
								965
							],
							[
								973,
								976
							],
							[
								1012,
								1015
							],
							[
								1016,
								1026
							],
							[
								1060,
								1069
							],
							[
								1098,
								1101
							],
							[
								1110,
								1120
							],
							[
								1134,
								1137
							],
							[
								1158,
								1166
							],
							[
								1180,
								1183
							],
							[
								1209,
								1219
							],
							[
								1233,
								1236
							],
							[
								1244,
								1252
							],
							[
								1260,
								1263
							],
							[
								1284,
								1295
							],
							[
								1303,
								1306
							],
							[
								1336,
								1352
							],
							[
								1360,
								1363
							],
							[
								1385,
								1401
							],
							[
								1409,
								1412
							],
							[
								1454,
								1471
							],
							[
								1479,
								1482
							],
							[
								1524,
								1532
							],
							[
								1546,
								1549
							],
							[
								1558,
								1581
							],
							[
								1591,
								1603
							],
							[
								1617,
								1620
							],
							[
								1647,
								1656
							],
							[
								1670,
								1673
							],
							[
								1688,
								1698
							],
							[
								1712,
								1715
							],
							[
								1745,
								1753
							],
							[
								1767,
								1770
							],
							[
								1778,
								1789
							],
							[
								1797,
								1800
							],
							[
								1835,
								1848
							],
							[
								1856,
								1859
							],
							[
								1894,
								1905
							],
							[
								1913,
								1916
							],
							[
								1926,
								1929
							],
							[
								1950,
								1958
							],
							[
								1979,
								1982
							],
							[
								1999,
								2002
							],
							[
								2004,
								2011
							],
							[
								2033,
								2043
							],
							[
								2057,
								2060
							],
							[
								2110,
								2118
							],
							[
								2132,
								2135
							],
							[
								2184,
								2193
							],
							[
								2207,
								2210
							],
							[
								2280,
								2292
							],
							[
								2306,
								2309
							],
							[
								2379,
								2389
							],
							[
								2403,
								2406
							],
							[
								2518,
								2521
							],
							[
								2523,
								2530
							],
							[
								2538,
								2541
							],
							[
								2608,
								2611
							],
							[
								2612,
								2621
							],
							[
								2629,
								2632
							],
							[
								2673,
								2676
							],
							[
								2894,
								2902
							],
							[
								2910,
								2913
							],
							[
								2933,
								2936
							],
							[
								3163,
								3173
							],
							[
								3181,
								3184
							],
							[
								3298,
								3310
							],
							[
								3318,
								3321
							],
							[
								3443,
								3456
							],
							[
								3464,
								3467
=======
								259,
								276
							],
							[
								328,
								343
							],
							[
								370,
								385
							],
							[
								411,
								432
							],
							[
								454,
								469
							],
							[
								502,
								505
							],
							[
								598,
								606
							],
							[
								621,
								624
							],
							[
								659,
								674
							],
							[
								701,
								716
							],
							[
								742,
								763
							],
							[
								785,
								800
							],
							[
								823,
								831
							],
							[
								928,
								937
							],
							[
								983,
								992
							],
							[
								1035,
								1045
							],
							[
								1080,
								1088
							],
							[
								1124,
								1134
							],
							[
								1152,
								1160
							],
							[
								1189,
								1200
							],
							[
								1237,
								1253
							],
							[
								1285,
								1301
							],
							[
								1360,
								1377
							],
							[
								1437,
								1445
							],
							[
								1464,
								1487
							],
							[
								1508,
								1517
							],
							[
								1542,
								1552
							],
							[
								1592,
								1600
							],
							[
								1618,
								1629
							],
							[
								1676,
								1689
							],
							[
								1738,
								1749
							],
							[
								1763,
								1766
							],
							[
								1795,
								1802
							],
							[
								1824,
								1834
							],
							[
								1890,
								1898
							],
							[
								1912,
								1915
							],
							[
								1964,
								1973
							],
							[
								1987,
								1990
							],
							[
								2060,
								2072
							],
							[
								2086,
								2089
							],
							[
								2159,
								2169
							],
							[
								2183,
								2186
							],
							[
								2298,
								2301
							],
							[
								2303,
								2310
							],
							[
								2318,
								2321
							],
							[
								2388,
								2391
							],
							[
								2392,
								2401
							],
							[
								2409,
								2412
							],
							[
								2453,
								2456
							],
							[
								2674,
								2682
							],
							[
								2690,
								2693
							],
							[
								2713,
								2716
							],
							[
								2943,
								2953
							],
							[
								2961,
								2964
							],
							[
								3078,
								3090
							],
							[
								3098,
								3101
							],
							[
								3223,
								3236
							],
							[
								3244,
								3247
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAwgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					531,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
=======
							"QJSNET_LIB_URL_H",
							"URL_IS_VALID_PORT",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url",
							"URL_INIT",
							"url",
							"protocol_number",
							"protocol_string",
							"protocol_default_port",
							"protocol_is_tls",
							"url_init",
<<<<<<< HEAD
							"url",
							"url_parse",
							"url",
							"url",
							" url_create",
							" url_print",
							"url",
							" url_format",
							"url",
							" url_host",
							"url",
							" url_length",
							"url",
							" url_free",
							"url",
							" url_free_rt",
							"url",
							" url_set_protocol",
							"url",
							" url_set_path_len",
							"url",
							" url_set_query_len",
							"url",
							" url_info",
							"url",
							"lws_client_connect_info",
							" url_location",
							"url",
							" url_query",
							"url",
							" url_search",
							"url",
							" url_hash",
							"url",
							" url_fromobj",
							"url",
							" url_fromvalue",
							"url",
							" url_fromwsi",
							"url",
							"lws",
							" url_dump",
							"url",
							"url",
							" url_new",
							" url_object",
							"url",
							" url_path",
=======
							"url_parse",
							"url_print",
							"url_format",
							"url_host",
							"url_length",
							"url_free",
							"url_free_rt",
							"url_set_protocol",
							"url_set_path_len",
							"url_set_query_len",
							"url_info",
							"lws_client_connect_info",
							"url_query",
							"url_search",
							"url_hash",
							"url_fromobj",
							"url_fromvalue",
							"url_fromwsi",
							"lws",
							"url_new",
							"url_object",
							"url_path",
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							"url",
							"url_valid",
							"url",
							"url_protocol",
							"url",
							"url_is_tls",
							"url",
							"url",
							" url_dup",
							"url",
							"url",
							" url_clone",
							"url",
							"url",
							"url_copy",
							"url",
							"url",
							"url_string",
							"url",
							"url_set_path",
							"url",
							"url_set_query",
							"url"
						]
					},
<<<<<<< HEAD
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFAwAAUUpTTkVUX0xJQl9VUkxfSApVUkxfSVNfVkFMSURfUE9SVAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybApVUkxfSU5JVAogIHVybAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybF9pbml0CiAgdXJsCiAgdXJsX3BhcnNlCiAgdXJsCiAgdXJsCiAgdXJsX2NyZWF0ZQogIHVybF9wcmludAogIHVybAogIHVybF9mb3JtYXQKICB1cmwKICB1cmxfaG9zdAogIHVybAogIHVybF9sZW5ndGgKICB1cmwKICB1cmxfZnJlZQogIHVybAogIHVybF9mcmVlX3J0CiAgdXJsCiAgdXJsX3NldF9wcm90b2NvbAogIHVybAogIHVybF9zZXRfcGF0aF9sZW4KICB1cmwKICB1cmxfc2V0X3F1ZXJ5X2xlbgogIHVybAogIHVybF9pbmZvCiAgdXJsCiAgbHdzX2NsaWVudF9jb25uZWN0X2luZm8KICB1cmxfbG9jYXRpb24KICB1cmwKICB1cmxfcXVlcnkKICB1cmwKICB1cmxfc2VhcmNoCiAgdXJsCiAgdXJsX2hhc2gKICB1cmwKICB1cmxfZnJvbW9iagogIHVybAogIHVybF9mcm9tdmFsdWUKICB1cmwKICB1cmxfZnJvbXdzaQogIHVybAogIGx3cwogIHVybF9kdW1wCiAgdXJsCiAgdXJsCiAgdXJsX25ldwogIHVybF9vYmplY3QKICB1cmwKICB1cmxfcGF0aAogIHVybAogIHVybF92YWxpZAogIHVybAogIHVybF9wcm90b2NvbAogIHVybAogIHVybF9pc190bHMKICB1cmwKICB1cmwKICB1cmxfZHVwCiAgdXJsCiAgdXJsCiAgdXJsX2Nsb25lCiAgdXJsCiAgdXJsCiAgdXJsX2NvcHkKICB1cmwKICB1cmwKICB1cmxfc3RyaW5nCiAgdXJsCiAgdXJsX3NldF9wYXRoCiAgdXJsCiAgdXJsX3NldF9xdWVyeQogIHVybAAAAAAAAAAAhQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					466,
					1,
					"outline_refresh",
					{
						"path": null,
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
<<<<<<< HEAD
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					532,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
						"symkeys":
						[
							[
								1092,
								1099
							],
							[
								1142,
								1154
							],
							[
								1246,
								1254
							],
							[
								1321,
								1331
							],
							[
								1398,
								1408
							],
							[
								1439,
								1459
							],
							[
								1470,
								1485
							],
							[
								1495,
								1523
							],
							[
								1694,
								1703
							],
							[
								1746,
								1761
							],
							[
								2110,
								2136
							],
							[
								2329,
								2353
							],
							[
								3762,
								3788
							],
							[
								5550,
								5589
							],
							[
								5875,
								5899
							],
							[
								6018,
								6037
							],
							[
								13415,
								13441
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_DLL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_INTERNAL‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉQUEUELEN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉRXFLOW_MAX‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉMAX_MIRROR_INSTANCES‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚íû‚ÄÇ‚ÄÉmirror_instance‚Äâ;‚ÄÉ‚Äî‚ÄÉtype declaration",
							"‚Äî‚í∏‚Äì‚ÄÉper_session_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉa_message‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉmirror_instance‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚í∏‚Äì‚ÄÉper_vhost_data__lws_mirror‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚Äâ;‚ÄÉ‚Äî‚ÄÉtype",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_rxflow_instance‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_update_worst_tail‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_callback_all_in_mi_on_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉ__mirror_destroy_message‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉcallback_lws_mirror‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉLWS_PLUGIN_PROTOCOL_MIRROR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAywIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					533,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
						"symkeys":
						[
						],
						"symlist":
						[
=======
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFAwAAUUpTTkVUX0xJQl9VUkxfSApVUkxfSVNfVkFMSURfUE9SVAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybApVUkxfSU5JVAogIHVybAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybF9pbml0CiAgdXJsCiAgdXJsX3BhcnNlCiAgdXJsCiAgdXJsCiAgdXJsX2NyZWF0ZQogIHVybF9wcmludAogIHVybAogIHVybF9mb3JtYXQKICB1cmwKICB1cmxfaG9zdAogIHVybAogIHVybF9sZW5ndGgKICB1cmwKICB1cmxfZnJlZQogIHVybAogIHVybF9mcmVlX3J0CiAgdXJsCiAgdXJsX3NldF9wcm90b2NvbAogIHVybAogIHVybF9zZXRfcGF0aF9sZW4KICB1cmwKICB1cmxfc2V0X3F1ZXJ5X2xlbgogIHVybAogIHVybF9pbmZvCiAgdXJsCiAgbHdzX2NsaWVudF9jb25uZWN0X2luZm8KICB1cmxfbG9jYXRpb24KICB1cmwKICB1cmxfcXVlcnkKICB1cmwKICB1cmxfc2VhcmNoCiAgdXJsCiAgdXJsX2hhc2gKICB1cmwKICB1cmxfZnJvbW9iagogIHVybAogIHVybF9mcm9tdmFsdWUKICB1cmwKICB1cmxfZnJvbXdzaQogIHVybAogIGx3cwogIHVybF9kdW1wCiAgdXJsCiAgdXJsCiAgdXJsX25ldwogIHVybF9vYmplY3QKICB1cmwKICB1cmxfcGF0aAogIHVybAogIHVybF92YWxpZAogIHVybAogIHVybF9wcm90b2NvbAogIHVybAogIHVybF9pc190bHMKICB1cmwKICB1cmwKICB1cmxfZHVwCiAgdXJsCiAgdXJsCiAgdXJsX2Nsb25lCiAgdXJsCiAgdXJsCiAgdXJsX2NvcHkKICB1cmwKICB1cmwKICB1cmxfc3RyaW5nCiAgdXJsCiAgdXJsX3NldF9wYXRoCiAgdXJsCiAgdXJsX3NldF9xdWVyeQogIHVybAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					467,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1181,
								1218
							],
							[
								1284,
								1294
							],
							[
								1342,
								1352
							],
							[
								1392,
								1397
							],
							[
								1451,
								1476
							],
							[
								1956,
								1984
							],
							[
								2337,
								2340
							],
							[
								2358,
								2378
							],
							[
								2759,
								2764
							],
							[
								2933,
								2945
							],
							[
								2983,
								2996
							],
							[
								3093,
								3106
							],
							[
								3440,
								3446
							],
							[
								3453,
								3462
							],
							[
								3568,
								3576
							],
							[
								3778,
								3793
							],
							[
								4033,
								4061
							],
							[
								4346,
								4356
							],
							[
								4567,
								4573
							],
							[
								4785,
								4799
							],
							[
								5422,
								5469
							],
							[
								5612,
								5628
							],
							[
								6300,
								6318
							],
							[
								6487,
								6505
							],
							[
								7217,
								7251
							],
							[
								7531,
								7536
							],
							[
								7631,
								7648
							],
							[
								8490,
								8506
							],
							[
								8595,
								8613
							],
							[
								8953,
								8971
							],
							[
								9029,
								9046
							],
							[
								9150,
								9155
							],
							[
								9206,
								9212
							],
							[
								9322,
								9342
							],
							[
								9439,
								9474
							],
							[
								9614,
								9628
							],
							[
								9646,
								9668
							],
							[
								9777,
								9781
=======
					"AgAAAAAAAAAAAAAAAAAAAAAAAACyAQAAUUpTTkVUX0xJQl9XU19ICiAgbHdzCiAgaHR0cF9yZXF1ZXN0CiAgaHR0cF9yZXNwb25zZQogIHNvY2tldAogIGx3cwogIHNvY2tldAogIHdzX25ldwogIGx3cwogIHdzX2NsZWFyX3J0CiAgc29ja2V0CiAgd3NfY2xlYXIKICBzb2NrZXQKICB3c19mcmVlX3J0CiAgc29ja2V0CiAgd3NfZnJlZQogIHNvY2tldAogIHNvY2tldAogIHdzX2R1cAogIHNvY2tldAogIHdzX2VucXVldWUKICBzb2NrZXQKICB3c19zZW5kCiAgc29ja2V0CiAgc2Vzc2lvbl9kYXRhCiAgbHdzX3Nlc3Npb24KICBsd3MKICB3c2lfb3BhcXVlX3VzZXJfZGF0YQogIHdzaV9vcGFxdWVfdXNlcl9kYXRhCiAgd3Nfb3BhcXVlCiAgc29ja2V0CiAgc2Vzc2lvbl9kYXRhCiAgd3Nfc2Vzc2lvbgogIHNvY2tldAogIHNvY2tldAogIHdzX2Zyb21fd3NpCiAgbHdzCiAgd3NpX29wYXF1ZV91c2VyX2RhdGEAAAAAAAAAANQCAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					17,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.c",
						"symkeys":
						[
							[
								185,
								200
							],
							[
								245,
								252
							],
							[
								725,
								733
							],
							[
								940,
								955
							],
							[
								1099,
								1120
							],
							[
								1348,
								1363
							],
							[
								1562,
								1572
							],
							[
								1733,
								1741
							],
							[
								2129,
								2138
							],
							[
								2880,
								2889
							],
							[
								3760,
								3770
							],
							[
								4677,
								4685
							],
							[
								5188,
								5198
							],
							[
								5536,
								5544
							],
							[
								5702,
								5713
							],
							[
								5874,
								5882
							],
							[
								6034,
								6050
							],
							[
								6658,
								6675
							],
							[
								7166,
								7174
							],
							[
								8511,
								8520
							],
							[
								8657,
								8667
							],
							[
								8830,
								8838
							],
							[
								8900,
								8911
							],
							[
								9840,
								9853
							],
							[
								10257,
								10268
							],
							[
								11497,
								11504
							],
							[
								11645,
								11655
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_url_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstrlcpy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_default_port‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_is_tls‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstart_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_parse‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_print‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_host‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_path_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_query_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_info‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_query‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_search‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_hash‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromvalue‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_object‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADUAgAAUUpTTkVUX0xJQl9VUkxfSApVUkxfSVNfVkFMSURfUE9SVAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybApVUkxfSU5JVAogIHVybAogIHByb3RvY29sX251bWJlcgogIHByb3RvY29sX3N0cmluZwogIHByb3RvY29sX2RlZmF1bHRfcG9ydAogIHByb3RvY29sX2lzX3RscwogIHVybF9pbml0CiAgdXJsX3BhcnNlCiAgdXJsX3ByaW50CiAgdXJsX2Zvcm1hdAogIHVybF9ob3N0CiAgdXJsX2xlbmd0aAogIHVybF9mcmVlCiAgdXJsX2ZyZWVfcnQKICB1cmxfc2V0X3Byb3RvY29sCiAgdXJsX3NldF9wYXRoX2xlbgogIHVybF9zZXRfcXVlcnlfbGVuCiAgdXJsX2luZm8KICBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbwogIHVybF9xdWVyeQogIHVybF9zZWFyY2gKICB1cmxfaGFzaAogIHVybF9mcm9tb2JqCiAgdXJsX2Zyb212YWx1ZQogIHVybF9mcm9td3NpCiAgbHdzCiAgdXJsX25ldwogIHVybF9vYmplY3QKICB1cmxfcGF0aAogIHVybAogIHVybF92YWxpZAogIHVybAogIHVybF9wcm90b2NvbAogIHVybAogIHVybF9pc190bHMKICB1cmwKICB1cmwKICB1cmxfZHVwCiAgdXJsCiAgdXJsCiAgdXJsX2Nsb25lCiAgdXJsCiAgdXJsCiAgdXJsX2NvcHkKICB1cmwKICB1cmwKICB1cmxfc3RyaW5nCiAgdXJsCiAgdXJsX3NldF9wYXRoCiAgdXJsCiAgdXJsX3NldF9xdWVyeQogIHVybAAAAAAAAAAAswMAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					18,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.c",
						"symkeys":
						[
							[
								225,
								239
							],
							[
								264,
								283
							],
							[
								309,
								329
							],
							[
								363,
								383
							],
							[
								405,
								417
							],
							[
								830,
								846
							],
							[
								1356,
								1370
							],
							[
								1702,
								1718
							],
							[
								2256,
								2272
							],
							[
								2818,
								2832
							],
							[
								3015,
								3031
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					468,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					469,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					470,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					471,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1181,
								1218
							],
							[
								1284,
								1294
							],
							[
								1342,
								1352
							],
							[
								1392,
								1397
							],
							[
								1451,
								1476
							],
							[
								1956,
								1984
							],
							[
								2337,
								2340
							],
							[
								2358,
								2378
							],
							[
								2759,
								2764
							],
							[
								2933,
								2945
							],
							[
								2983,
								2996
							],
							[
								3093,
								3106
							],
							[
								3440,
								3446
							],
							[
								3453,
								3462
							],
							[
								3568,
								3576
							],
							[
								3778,
								3793
							],
							[
								4033,
								4061
							],
							[
								4346,
								4356
							],
							[
								4567,
								4573
							],
							[
								4785,
								4799
							],
							[
								5422,
								5469
							],
							[
								5612,
								5628
							],
							[
								6300,
								6318
							],
							[
								6487,
								6505
							],
							[
								7217,
								7251
							],
							[
								7531,
								7536
							],
							[
								7631,
								7648
							],
							[
								8490,
								8506
							],
							[
								8595,
								8613
							],
							[
								8953,
								8971
							],
							[
								9029,
								9046
							],
							[
								9150,
								9155
							],
							[
								9206,
								9212
							],
							[
								9322,
								9342
							],
							[
								9439,
								9474
							],
							[
								9614,
								9628
							],
							[
								9646,
								9668
							],
							[
								9777,
								9781
=======
							"‚Äî‚íª‚Äì‚ÄÉminnet_ws_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_object‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_opaque‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉsession_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACtBAAA4oCU4pK74oCTIG1pbm5ldF91cmxfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAgcHJvdG9jb2wK4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0YXJ0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaG9zdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sZW5ndGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIHByb3RvY29sCuKAlOKSu+KAkyB1cmxfc2V0X3BhdGhfbGVuICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3NldF9xdWVyeV9sZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZWFyY2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaGFzaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAADOAQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					19,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
						"symkeys":
						[
							[
								597,
								612
							],
							[
								696,
								717
							],
							[
								790,
								810
							],
							[
								1129,
								1146
							],
							[
								1673,
								1698
							],
							[
								2072,
								2093
							],
							[
								2843,
								2861
							],
							[
								3020,
								3043
							],
							[
								3667,
								3679
							],
							[
								4677,
								4686
							],
							[
								6669,
								6679
							],
							[
								7866,
								7878
							],
							[
								8506,
								8516
							],
							[
								8779,
								8793
							],
							[
								9046,
								9069
							],
							[
								9084,
								9103
							],
							[
								9336,
								9350
							],
							[
								10092,
								10106
							],
							[
								11737,
								11750
							],
							[
								12904,
								12919
							],
							[
								15423,
								15437
							],
							[
								16034,
								16055
							],
							[
								16554,
								16568
							],
							[
								18470,
								18479
							],
							[
								18659,
								18669
							],
							[
								20142,
								20162
							],
							[
								21577,
								21597
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA8AgAA4oCU4pK74oCTIG1pbm5ldF93c19kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3Jlc3BvbnNlX2RhdGEgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXNzaW9uX3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXNzaW9uX2NsZWFyX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2Vzc2lvbl9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXNzaW9uX3dyaXRhYmxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2Vzc2lvbl9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlc3Npb25fb3BhcXVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2Vzc2lvbl9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAGYEAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					20,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c",
						"symkeys":
						[
							[
								228,
								248
							],
							[
								319,
								337
							],
							[
								362,
								380
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					472,
=======
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_ptr‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉws_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABuBQAA4oCU4pK74oCTIHNlcnZlX2dlbmVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZob3N0X29wdGlvbnNfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2Zyb21lbnRyaWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9maW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZmluZF9zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1vdW50X2lzX3Byb3h5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX3JlamVjdGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9wcm9taXNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfZ2VuZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoYXNfdHJhbnNmZXJfZW5jb2RpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZpbGVfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX2ZpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBodHRwX3NlcnZlcl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAhQAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					21,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
<<<<<<< HEAD
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					473,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1181,
								1218
							],
							[
								1284,
								1294
							],
							[
								1342,
								1352
							],
							[
								1392,
								1397
							],
							[
								1451,
								1476
							],
							[
								1956,
								1984
							],
							[
								2337,
								2340
							],
							[
								2358,
								2378
							],
							[
								2759,
								2764
							],
							[
								2933,
								2945
							],
							[
								2983,
								2996
							],
							[
								3093,
								3106
							],
							[
								3440,
								3446
							],
							[
								3453,
								3462
							],
							[
								3568,
								3576
							],
							[
								3778,
								3793
							],
							[
								4033,
								4061
							],
							[
								4346,
								4356
							],
							[
								4567,
								4573
							],
							[
								4785,
								4799
							],
							[
								5422,
								5469
							],
							[
								5612,
								5628
							],
							[
								6300,
								6318
							],
							[
								6487,
								6505
							],
							[
								7217,
								7251
							],
							[
								7531,
								7536
							],
							[
								7631,
								7648
							],
							[
								8490,
								8506
							],
							[
								8595,
								8613
							],
							[
								8953,
								8971
							],
							[
								9029,
								9046
							],
							[
								9150,
								9155
							],
							[
								9206,
								9212
							],
							[
								9322,
								9342
							],
							[
								9439,
								9474
							],
							[
								9614,
								9628
							],
							[
								9646,
								9668
							],
							[
								9777,
								9781
=======
					"AgAAAAAAAAAAAAAAAAAAAAAAAACjAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3Nfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					22,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								844,
								850
							],
							[
								884,
								891
							],
							[
								925,
								932
							],
							[
								966,
								973
							],
							[
								993,
								996
							],
							[
								1123,
								1135
							],
							[
								1187,
								1198
							],
							[
								1213,
								1231
							],
							[
								1353,
								1366
							],
							[
								2275,
								2292
							],
							[
								2659,
								2677
							],
							[
								3148,
								3167
							],
							[
								4118,
								4131
							],
							[
								4458,
								4473
							],
							[
								5090,
								5110
							],
							[
								5295,
								5302
							],
							[
								5773,
								5787
							],
							[
								6189,
								6208
							],
							[
								9407,
								9421
							],
							[
								14889,
								14903
							],
							[
								15594,
								15606
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLIN‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLOUT‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLERR‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPOLLHUP‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉPIO‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉLWSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSIOHandler‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_io_handlers‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_log_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_iohandler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉwsi_handle_poll‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_lws_unhandled‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉset_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_set_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_get_sessions‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_minnet_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉJS_INIT_MODULE‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_debug‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAALgMAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					23,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
						"symkeys":
						[
							[
								136,
								156
							],
							[
								178,
								191
							],
							[
								532,
								544
							],
							[
								607,
								621
							],
							[
								847,
								860
							],
							[
								998,
								1010
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADmAwAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBQT0xMSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExPVVQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExFUlIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBPTExIVVAg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFBJTyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTFdTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYKICDik4kgIEpTSU9IYW5kbGVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGx3c19pb2hhbmRsZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19pb2hhbmRsZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfaW9faGFuZGxlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9pb19oYW5kbGVycyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9sb2dfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c2lfaW9oYW5kbGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NpX2hhbmRsZV9wb2xsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2x3c191bmhhbmRsZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXRfbG9nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3NldF9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZ2V0X3Nlc3Npb25zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlubmV0X2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBKU19JTklUX01PRFVMRSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9kZWJ1ZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAO8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					24,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/server.js",
						"symkeys":
						[
							[
								571,
								589
							],
							[
								1639,
								1681
							],
							[
								2668,
								2695
							],
							[
								3145,
								3178
							],
							[
								3443,
								3463
							],
							[
								3792,
								3815
							],
							[
								4033,
								4065
							],
							[
								4218,
								4241
							],
							[
								4304,
								4329
							],
							[
								4390,
								4411
							],
							[
								4543,
								4566
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					474,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1456,
								1493
							],
							[
								1559,
								1569
							],
							[
								1617,
								1627
							],
							[
								1667,
								1672
							],
							[
								1726,
								1751
							],
							[
								2231,
								2259
							],
							[
								2612,
								2615
							],
							[
								2633,
								2653
							],
							[
								3034,
								3039
							],
							[
								3208,
								3220
							],
							[
								3258,
								3271
							],
							[
								3368,
								3381
							],
							[
								3715,
								3721
							],
							[
								3728,
								3737
							],
							[
								3843,
								3851
							],
							[
								4053,
								4068
							],
							[
								4308,
								4336
							],
							[
								4621,
								4631
							],
							[
								4842,
								4848
							],
							[
								5060,
								5074
							],
							[
								5697,
								5744
							],
							[
								5887,
								5903
							],
							[
								6575,
								6593
							],
							[
								6762,
								6780
							],
							[
								7492,
								7526
							],
							[
								7806,
								7811
							],
							[
								7906,
								7923
							],
							[
								8765,
								8781
							],
							[
								8870,
								8888
							],
							[
								9228,
								9246
							],
							[
								9304,
								9321
							],
							[
								9425,
								9430
							],
							[
								9481,
								9487
							],
							[
								9597,
								9617
							],
							[
								9714,
								9749
							],
							[
								9889,
								9903
							],
							[
								9921,
								9943
							],
							[
								10052,
								10056
=======
							"log = (...args) =>",
							" function MakeCert(sslCert, sslPrivateKey)",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect: (ws, req) =>",
							"onClose: (ws, status, reason) =>",
							"onError: (ws, error) =>",
							"onHttp: (ws, req, rsp) =>",
							"onFd: (fd, rd, wr) =>",
							"onMessage: (ws, msg) =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArAQAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACYBAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					25,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
						"symkeys":
						[
							[
								136,
								156
							],
							[
								178,
								191
							],
							[
								532,
								544
							],
							[
								607,
								621
							],
							[
								847,
								860
							],
							[
								998,
								1010
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAmAQAAICBsb2cgPSAoLi4uYXJncykgPT4KTWFrZUNlcnQoc3NsQ2VydCwgc3NsUHJpdmF0ZUtleSkKICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0OiAod3MsIHJlcSkgPT4KICBvbkNsb3NlOiAod3MsIHN0YXR1cywgcmVhc29uKSA9PgogIG9uRXJyb3I6ICh3cywgZXJyb3IpID0+CiAgb25IdHRwOiAod3MsIHJlcSwgcnNwKSA9PgogIG9uRmQ6IChmZCwgcmQsIHdyKSA9PgogIG9uTWVzc2FnZTogKHdzLCBtc2cpID0+AAAAAAAAAADvAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					26,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								213,
								232
							],
							[
								412,
								425
							],
							[
								537,
								550
							],
							[
								727,
								739
							],
							[
								974,
								987
							],
							[
								1113,
								1124
							],
							[
								1284,
								1295
							],
							[
								1358,
								1373
							],
							[
								1675,
								1688
							],
							[
								1905,
								1917
							],
							[
								2048,
								2060
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmethod_number‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉrequest_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArAQAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAM8BAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					27,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
						"symkeys":
						[
							[
								136,
								156
							],
							[
								178,
								191
							],
							[
								532,
								544
							],
							[
								607,
								621
							],
							[
								847,
								860
							],
							[
								998,
								1010
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABDAgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWV0aG9kX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1ldGhvZF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2FsbG9jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfY2xlYXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAADvAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					28,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwQIAAE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpCkZyb21Eb21haW4oYnVmZmVyKQpXcml0ZUZpbGUoZmlsZW5hbWUsIGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgooLi4uYXJncykgPT4KICAoLi4uYXJncykgPT4KKGFjYywgYXJnKSA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGVzY2FwZSgpCiAgaGFuZGxlQ21kKGRhdGEpCiAgbWFpbiguLi5hcmdzKQogIChhLCB2KSA9PgogICgpID0+CiAgYXJnID0+CiAgY3JlYXRlV1ModXJsLCBjYWxsYmFja3MsIGxpc3RlbiA9IDApCiAgKGxldmVsLCBtc2cpID0+CiAgYm9keTogZnVuY3Rpb24qKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkKR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					475,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					476,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1456,
								1493
							],
							[
								1559,
								1569
							],
							[
								1617,
								1627
							],
							[
								1667,
								1672
							],
							[
								1726,
								1751
							],
							[
								2231,
								2259
							],
							[
								2612,
								2615
							],
							[
								2633,
								2653
							],
							[
								3034,
								3039
							],
							[
								3208,
								3220
							],
							[
								3258,
								3271
							],
							[
								3368,
								3381
							],
							[
								3715,
								3721
							],
							[
								3728,
								3737
							],
							[
								3843,
								3851
							],
							[
								4053,
								4068
							],
							[
								4308,
								4336
							],
							[
								4621,
								4631
							],
							[
								4842,
								4848
							],
							[
								5060,
								5074
							],
							[
								5697,
								5744
							],
							[
								5887,
								5903
							],
							[
								6575,
								6593
							],
							[
								6762,
								6780
							],
							[
								7492,
								7526
							],
							[
								7806,
								7811
							],
							[
								7906,
								7923
							],
							[
								8765,
								8781
							],
							[
								8870,
								8888
							],
							[
								9228,
								9246
							],
							[
								9304,
								9321
							],
							[
								9425,
								9430
							],
							[
								9481,
								9487
							],
							[
								9597,
								9617
							],
							[
								9714,
								9749
							],
							[
								9889,
								9903
							],
							[
								9921,
								9943
							],
							[
								10052,
								10056
=======
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArAQAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAFICAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					29,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
						"symkeys":
						[
							[
								136,
								156
							],
							[
								178,
								191
							],
							[
								532,
								544
							],
							[
								607,
								621
							],
							[
								847,
								860
							],
							[
								998,
								1010
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_dup‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_clear‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉresponse_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAA7wAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					30,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArAQAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2R1cCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVzcG9uc2VfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAFICAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					31,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.c",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								702,
								721
							],
							[
								1060,
								1080
							],
							[
								1414,
								1436
							],
							[
								2117,
								2139
							],
							[
								3210,
								3231
							],
							[
								3839,
								3858
							],
							[
								5415,
								5434
							],
							[
								6976,
								7000
							],
							[
								7313,
								7340
							],
							[
								8876,
								8901
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_wrap‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_method‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_header‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_clone‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_iterator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_response_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAACwIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					32,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					477,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1447,
								1484
							],
							[
								1550,
								1560
							],
							[
								1608,
								1618
							],
							[
								1658,
								1663
							],
							[
								1717,
								1742
							],
							[
								2222,
								2250
							],
							[
								2603,
								2606
							],
							[
								2624,
								2644
							],
							[
								3025,
								3030
							],
							[
								3199,
								3211
							],
							[
								3249,
								3262
							],
							[
								3359,
								3372
							],
							[
								3706,
								3712
							],
							[
								3719,
								3728
							],
							[
								3834,
								3842
							],
							[
								4044,
								4059
							],
							[
								4299,
								4327
							],
							[
								4612,
								4622
							],
							[
								4833,
								4839
							],
							[
								5051,
								5065
							],
							[
								5688,
								5735
							],
							[
								5878,
								5894
							],
							[
								6566,
								6584
							],
							[
								6753,
								6771
							],
							[
								7483,
								7517
							],
							[
								7797,
								7802
							],
							[
								7897,
								7914
							],
							[
								8756,
								8772
							],
							[
								8861,
								8879
							],
							[
								9219,
								9237
							],
							[
								9295,
								9312
							],
							[
								9416,
								9421
							],
							[
								9472,
								9478
							],
							[
								9588,
								9608
							],
							[
								9705,
								9740
							],
							[
								9880,
								9894
							],
							[
								9912,
								9934
							],
							[
								10043,
								10047
=======
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB5AgAA4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3Jlc3BvbnNlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3Jlc3BvbnNlX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9oZWFkZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVzcG9uc2VfY2xvbmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVzcG9uc2VfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3Jlc3BvbnNlX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9pdGVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABSAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					33,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c",
						"symkeys":
						[
							[
								557,
								571
							],
							[
								2931,
								2941
							],
							[
								3296,
								3307
							],
							[
								3633,
								3644
							],
							[
								3863,
								3876
							],
							[
								5120,
								5138
							],
							[
								6726,
								6747
							],
							[
								6883,
								6904
							],
							[
								7660,
								7681
							],
							[
								15360,
								15373
							],
							[
								16233,
								16249
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉproxy_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserver_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserver_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserver_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserver_mounts‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserver_certificate‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_server_handler‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_server_timeout‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_server_closure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_server‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉdefprot_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAxgEAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					34,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA0AgAA4oCU4pK74oCTIHByb3h5X2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVyX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVyX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZXJfbW91bnRzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVyX2NlcnRpZmljYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3NlcnZlcl9oYW5kbGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3NlcnZlcl90aW1lb3V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3NlcnZlcl9jbG9zdXJlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3NlcnZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRlZnByb3RfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABSAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					35,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.c",
						"symkeys":
						[
							[
								259,
								274
							],
							[
								766,
								780
							],
							[
								1001,
								1012
							],
							[
								1146,
								1156
							],
							[
								1546,
								1556
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉopaque_clear_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉopaque_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉopaque_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉopaque_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_opaque‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAvQAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					36,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					478,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1447,
								1484
							],
							[
								1550,
								1560
							],
							[
								1608,
								1618
							],
							[
								1658,
								1663
							],
							[
								1717,
								1742
							],
							[
								2222,
								2250
							],
							[
								2603,
								2606
							],
							[
								2624,
								2644
							],
							[
								3025,
								3030
							],
							[
								3199,
								3211
							],
							[
								3249,
								3262
							],
							[
								3359,
								3372
							],
							[
								3706,
								3712
							],
							[
								3719,
								3728
							],
							[
								3834,
								3842
							],
							[
								4044,
								4059
							],
							[
								4299,
								4327
							],
							[
								4612,
								4622
							],
							[
								4833,
								4839
							],
							[
								5051,
								5065
							],
							[
								5688,
								5735
							],
							[
								5878,
								5894
							],
							[
								6566,
								6584
							],
							[
								6753,
								6771
							],
							[
								7483,
								7517
							],
							[
								7797,
								7802
							],
							[
								7897,
								7914
							],
							[
								8756,
								8772
							],
							[
								8861,
								8879
							],
							[
								9219,
								9237
							],
							[
								9295,
								9312
							],
							[
								9416,
								9421
							],
							[
								9472,
								9478
							],
							[
								9588,
								9608
							],
							[
								9705,
								9740
							],
							[
								9880,
								9894
							],
							[
								9912,
								9934
							],
							[
								10043,
								10047
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwQIAAE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpCkZyb21Eb21haW4oYnVmZmVyKQpXcml0ZUZpbGUoZmlsZW5hbWUsIGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgooLi4uYXJncykgPT4KICAoLi4uYXJncykgPT4KKGFjYywgYXJnKSA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGVzY2FwZSgpCiAgaGFuZGxlQ21kKGRhdGEpCiAgbWFpbiguLi5hcmdzKQogIChhLCB2KSA9PgogICgpID0+CiAgYXJnID0+CiAgY3JlYXRlV1ModXJsLCBjYWxsYmFja3MsIGxpc3RlbiA9IDApCiAgKGxldmVsLCBtc2cpID0+CiAgYm9keTogZnVuY3Rpb24qKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkKR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					479,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1471,
								1508
							],
							[
								1574,
								1584
							],
							[
								1632,
								1642
							],
							[
								1682,
								1687
							],
							[
								1741,
								1766
							],
							[
								2246,
								2274
							],
							[
								2627,
								2630
							],
							[
								2648,
								2668
							],
							[
								3049,
								3054
							],
							[
								3223,
								3235
							],
							[
								3273,
								3286
							],
							[
								3383,
								3396
							],
							[
								3730,
								3736
							],
							[
								3743,
								3752
							],
							[
								3858,
								3866
							],
							[
								4068,
								4083
							],
							[
								4323,
								4351
							],
							[
								4636,
								4646
							],
							[
								4857,
								4863
							],
							[
								5075,
								5089
							],
							[
								5712,
								5759
							],
							[
								5902,
								5918
							],
							[
								6590,
								6608
							],
							[
								6777,
								6795
							],
							[
								7507,
								7541
							],
							[
								7821,
								7826
							],
							[
								7921,
								7938
							],
							[
								8780,
								8796
							],
							[
								8885,
								8903
							],
							[
								9243,
								9261
							],
							[
								9319,
								9336
							],
							[
								9440,
								9445
							],
							[
								9496,
								9502
							],
							[
								9612,
								9632
							],
							[
								9729,
								9764
							],
							[
								9904,
								9918
							],
							[
								9936,
								9958
							],
							[
								10067,
								10071
=======
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADvAAAA4oCU4pK74oCTIG9wYXF1ZV9jbGVhcl9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG9wYXF1ZV9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgb3BhcXVlX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvcGFxdWVfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX29wYXF1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAFICAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					37,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								169,
								190
							],
							[
								366,
								385
							],
							[
								874,
								888
							],
							[
								1145,
								1162
							],
							[
								1627,
								1643
							],
							[
								1978,
								1996
							],
							[
								2110,
								2131
							],
							[
								2270,
								2293
							],
							[
								2505,
								2521
							],
							[
								3280,
								3301
							],
							[
								3456,
								3474
							],
							[
								3713,
								3729
							],
							[
								5036,
								5054
							],
							[
								5411,
								5433
							],
							[
								5756,
								5770
							],
							[
								5895,
								5908
							],
							[
								6318,
								6337
							],
							[
								6474,
								6489
							],
							[
								6681,
								6698
							],
							[
								6857,
								6871
							],
							[
								6957,
								6971
							],
							[
								7170,
								7191
							],
							[
								7408,
								7429
							],
							[
								7636,
								7658
							],
							[
								7870,
								7889
							],
							[
								8259,
								8277
							],
							[
								8480,
								8494
							],
							[
								8563,
								8576
							],
							[
								8788,
								8800
							],
							[
								8865,
								8874
							],
							[
								9057,
								9071
							],
							[
								9353,
								9368
							],
							[
								9605,
								9618
							],
							[
								9900,
								9917
							],
							[
								10463,
								10480
							],
							[
								10942,
								10958
							],
							[
								11186,
								11211
							],
							[
								11316,
								11344
							],
							[
								11467,
								11492
							],
							[
								11762,
								11776
							],
							[
								12059,
								12070
							],
							[
								12160,
								12169
							],
							[
								12414,
								12431
							],
							[
								12568,
								12583
							],
							[
								12744,
								12762
							],
							[
								12927,
								12945
							],
							[
								13139,
								13156
							],
							[
								13346,
								13361
							],
							[
								13433,
								13451
							],
							[
								13543,
								13558
							],
							[
								13687,
								13703
							],
							[
								13830,
								13843
							],
							[
								14047,
								14059
							],
							[
								14339,
								14353
							],
							[
								15406,
								15418
							],
							[
								15657,
								15682
							],
							[
								15900,
								15918
							],
							[
								16106,
								16121
							],
							[
								16460,
								16476
							],
							[
								16836,
								16852
							],
							[
								17414,
								17430
							],
							[
								17653,
								17669
							],
							[
								18269,
								18291
							],
							[
								18475,
								18492
							],
							[
								18586,
								18603
							],
							[
								18783,
								18798
							],
							[
								20043,
								20057
							],
							[
								20458,
								20471
							],
							[
								20683,
								20701
							],
							[
								20975,
								20992
							],
							[
								21158,
								21172
							],
							[
								21606,
								21622
							],
							[
								21764,
								21789
							],
							[
								22049,
								22066
							],
							[
								22652,
								22668
							],
							[
								22756,
								22772
							],
							[
								22882,
								22899
							],
							[
								23014,
								23030
							],
							[
								23669,
								23690
							],
							[
								24042,
								24062
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					480,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1471,
								1508
							],
							[
								1574,
								1584
							],
							[
								1632,
								1642
							],
							[
								1682,
								1687
							],
							[
								1741,
								1766
							],
							[
								2246,
								2274
							],
							[
								2627,
								2630
							],
							[
								2648,
								2668
							],
							[
								3049,
								3054
							],
							[
								3223,
								3235
							],
							[
								3273,
								3286
							],
							[
								3383,
								3396
							],
							[
								3730,
								3736
							],
							[
								3743,
								3752
							],
							[
								3858,
								3866
							],
							[
								4068,
								4083
							],
							[
								4323,
								4351
							],
							[
								4636,
								4646
							],
							[
								4857,
								4863
							],
							[
								5075,
								5089
							],
							[
								5712,
								5759
							],
							[
								5902,
								5918
							],
							[
								6590,
								6608
							],
							[
								6777,
								6795
							],
							[
								7507,
								7541
							],
							[
								7821,
								7826
							],
							[
								7921,
								7938
							],
							[
								8780,
								8796
							],
							[
								8885,
								8903
							],
							[
								9243,
								9261
							],
							[
								9319,
								9336
							],
							[
								9440,
								9445
							],
							[
								9496,
								9502
							],
							[
								9612,
								9632
							],
							[
								9729,
								9764
							],
							[
								9904,
								9918
							],
							[
								9936,
								9958
							],
							[
								10067,
								10071
=======
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉjs_object_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_object_classname‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_console_log‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bound‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bind‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bind_1‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bind_this‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_bind_this_1‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_name‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_prototype‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_iterator_result‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_iterator_next‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_copy_properties‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_free_default‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_fromblock‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_iterator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_async_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_symbol_static_atom‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_symbol_static_value‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_symbol_for_value‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_symbol_for_atom‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_symbol_ctor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_global_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_global_os‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_os_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_start‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_cancel‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_interval‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_timer_restart‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_resolve_functions_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_resolve_functions_is_null‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_resolve_functions_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_tostringlen‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_tostring‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_invoke‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_resolve‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_reject‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_zero‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_pending‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_then‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_promise_catch‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_error_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_error_print‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_toptrsize‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_get_propertystr_uint32‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_has_propertystr‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_array_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_array_to_argv‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_offset_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_argv_to_array‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_atom_is_index‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_atom_compare_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_atom_is_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_atom_is_symbol‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_input_buffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_input_chars‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_input_args‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_buffer_fromargs‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_arraybuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_dataview‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_is_typedarray‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_typedarray_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_typedarray_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉJSCClosureRecord‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉjs_cclosure_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_cclosure_data2‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_cclosure_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_cclosure_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉjs_function_cclosure‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAgQ0AAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					38,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAChEAAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBqc19vYmplY3RfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19vYmplY3RfY2xhc3NuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfY29uc29sZV9sb2cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19mdW5jdGlvbl9ib3VuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2Z1bmN0aW9uX2JpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19mdW5jdGlvbl9iaW5kXzEgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19mdW5jdGlvbl9iaW5kX3RoaXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19mdW5jdGlvbl9iaW5kX3RoaXNfMSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2Z1bmN0aW9uX25hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19mdW5jdGlvbl9wcm90b3R5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pdGVyYXRvcl9yZXN1bHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pdGVyYXRvcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfY29weV9wcm9wZXJ0aWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnVmZmVyX2ZyZWVfZGVmYXVsdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnVmZmVyX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9mcm9tYmxvY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19idWZmZXJfYWxsb2MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19idWZmZXJfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfaXNfaXRlcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pc19hc3luY19nZW5lcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zeW1ib2xfc3RhdGljX2F0b20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zeW1ib2xfc3RhdGljX3ZhbHVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfc3ltYm9sX2Zvcl92YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3N5bWJvbF9mb3JfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3N5bWJvbF9jdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfZ2xvYmFsX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2dsb2JhbF9vcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX29zX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RpbWVyX3N0YXJ0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdGltZXJfY2FuY2VsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdGltZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RpbWVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdGltZXJfaW50ZXJ2YWwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190aW1lcl9yZXN0YXJ0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdG9zdHJpbmdsZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2ludm9rZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3Byb21pc2VfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfcHJvbWlzZV9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfcHJvbWlzZV9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfcHJvbWlzZV9yZXNvbHZlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfcHJvbWlzZV9yZWplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19wcm9taXNlX3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19wcm9taXNlX3BlbmRpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19wcm9taXNlX3RoZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19wcm9taXNlX2NhdGNoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfaXNfcHJvbWlzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2Vycm9yX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2Vycm9yX3ByaW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdG9wdHJzaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfZ2V0X3Byb3BlcnR5c3RyX3VpbnQzMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2hhc19wcm9wZXJ0eXN0ciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2FycmF5X2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2FycmF5X3RvX2FyZ3YgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19vZmZzZXRfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJndl90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2F0b21faXNfaW5kZXggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19hdG9tX2NvbXBhcmVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXRvbV9pc19sZW5ndGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19hdG9tX2lzX3N5bWJvbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2lucHV0X2J1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2lucHV0X2NoYXJzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfaW5wdXRfYXJncyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J1ZmZlcl9mcm9tYXJncyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2lzX2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfaXNfZGF0YXZpZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19pc190eXBlZGFycmF5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHlwZWRhcnJheV9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3R5cGVkYXJyYXlfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSlNDQ2xvc3VyZVJlY29yZCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBqc19jY2xvc3VyZV9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfY2Nsb3N1cmVfZGF0YTIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19jY2xvc3VyZV9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfY2Nsb3N1cmVfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfZnVuY3Rpb25fY2Nsb3N1cmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABSAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					39,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.c",
						"symkeys":
						[
							[
								71,
								82
							],
							[
								267,
								280
							],
							[
								576,
								586
							],
							[
								696,
								706
							],
							[
								985,
								1000
							],
							[
								1072,
								1082
							],
							[
								1236,
								1255
							],
							[
								1461,
								1475
							],
							[
								1677,
								1689
							],
							[
								1919,
								1931
							],
							[
								2135,
								2148
							],
							[
								2402,
								2413
							],
							[
								2530,
								2542
							],
							[
								2698,
								2712
							],
							[
								2959,
								2972
							],
							[
								3141,
								3155
							],
							[
								3594,
								3606
							],
							[
								3892,
								3903
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwQIAAE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpCkZyb21Eb21haW4oYnVmZmVyKQpXcml0ZUZpbGUoZmlsZW5hbWUsIGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgooLi4uYXJncykgPT4KICAoLi4uYXJncykgPT4KKGFjYywgYXJnKSA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGVzY2FwZSgpCiAgaGFuZGxlQ21kKGRhdGEpCiAgbWFpbiguLi5hcmdzKQogIChhLCB2KSA9PgogICgpID0+CiAgYXJnID0+CiAgY3JlYXRlV1ModXJsLCBjYWxsYmFja3MsIGxpc3RlbiA9IDApCiAgKGxldmVsLCBtc2cpID0+CiAgYm9keTogZnVuY3Rpb24qKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkKR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					481,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1483,
								1520
							],
							[
								1586,
								1596
							],
							[
								1644,
								1654
							],
							[
								1694,
								1699
							],
							[
								1753,
								1778
							],
							[
								2258,
								2286
							],
							[
								2639,
								2642
							],
							[
								2660,
								2680
							],
							[
								3061,
								3066
							],
							[
								3235,
								3247
							],
							[
								3285,
								3298
							],
							[
								3395,
								3408
							],
							[
								3742,
								3748
							],
							[
								3755,
								3764
							],
							[
								3870,
								3878
							],
							[
								4080,
								4095
							],
							[
								4335,
								4363
							],
							[
								4648,
								4658
							],
							[
								4869,
								4875
							],
							[
								5087,
								5101
							],
							[
								5724,
								5771
							],
							[
								5914,
								5930
							],
							[
								6602,
								6620
							],
							[
								6789,
								6807
							],
							[
								7519,
								7553
							],
							[
								7833,
								7838
							],
							[
								7933,
								7950
							],
							[
								8792,
								8808
							],
							[
								8897,
								8915
							],
							[
								9255,
								9273
							],
							[
								9331,
								9348
							],
							[
								9452,
								9457
							],
							[
								9508,
								9514
							],
							[
								9624,
								9644
							],
							[
								9741,
								9776
							],
							[
								9916,
								9930
							],
							[
								9948,
								9970
							],
							[
								10079,
								10083
=======
							"‚Äî‚íª‚Äì‚ÄÉblock_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_realloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_grow‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_copy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_toarraybuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_tostring‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉblock_append‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_alloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_append‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_write‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_vprintf‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_printf‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_realloc‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_clone‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉbuffer_grow‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAtQIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					40,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABpAwAA4oCU4pK74oCTIGJsb2NrX2FsbG9jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfcmVhbGxvYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBibG9ja19ncm93ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfY29weSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX3RvYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBibG9ja190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX2FwcGVuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9hbGxvYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9hcHBlbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBidWZmZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl93cml0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl92cHJpbnRmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX3ByaW50ZiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ1ZmZlcl9yZWFsbG9jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnVmZmVyX2dyb3cgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAABSAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					41,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/headers.c",
						"symkeys":
						[
							[
								97,
								111
							],
							[
								766,
								779
							],
							[
								1477,
								1492
							],
							[
								2348,
								2361
							],
							[
								2788,
								2798
							],
							[
								3151,
								3165
							],
							[
								3513,
								3524
							],
							[
								3719,
								3731
							],
							[
								3831,
								3847
							],
							[
								4738,
								4752
							],
							[
								5188,
								5199
							],
							[
								5565,
								5580
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉheaders_object‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_write‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_findb‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_at‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_getlen‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_tobuffer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_unsetb‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉheaders_appendb‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAA1QEAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					42,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								497,
								527
							],
							[
								2847,
								2869
							],
							[
								3838,
								3860
							],
							[
								5309,
								5337
							],
							[
								5482,
								5517
							],
							[
								6759,
								6800
							],
							[
								7355,
								7386
							],
							[
								7867,
								7898
							],
							[
								8846,
								8884
							],
							[
								9357,
								9380
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwQIAAE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpCkZyb21Eb21haW4oYnVmZmVyKQpXcml0ZUZpbGUoZmlsZW5hbWUsIGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgooLi4uYXJncykgPT4KICAoLi4uYXJncykgPT4KKGFjYywgYXJnKSA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGVzY2FwZSgpCiAgaGFuZGxlQ21kKGRhdGEpCiAgbWFpbiguLi5hcmdzKQogIChhLCB2KSA9PgogICgpID0+CiAgYXJnID0+CiAgY3JlYXRlV1ModXJsLCBjYWxsYmFja3MsIGxpc3RlbiA9IDApCiAgKGxldmVsLCBtc2cpID0+CiAgYm9keTogZnVuY3Rpb24qKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkKR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					482,
=======
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_own_property_names‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_has_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_get_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_define_own_property‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_form_parser_call‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABNAgAA4oCU4pK74oCTIGhlYWRlcnNfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaGVhZGVyc193cml0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfZmluZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoZWFkZXJzX2F0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaGVhZGVyc19nZXRsZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoZWFkZXJzX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfZmluZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfdG9idWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoZWFkZXJzX3Vuc2V0YiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGhlYWRlcnNfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaGVhZGVyc19hcHBlbmRiICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAUgIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					43,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
<<<<<<< HEAD
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					483,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1160,
								1197
							],
							[
								1263,
								1273
							],
							[
								1321,
								1331
							],
							[
								1371,
								1376
							],
							[
								1430,
								1455
							],
							[
								1935,
								1963
							],
							[
								2316,
								2319
							],
							[
								2337,
								2357
							],
							[
								2738,
								2743
							],
							[
								2912,
								2924
							],
							[
								2962,
								2975
							],
							[
								3072,
								3085
							],
							[
								3419,
								3425
							],
							[
								3432,
								3441
							],
							[
								3547,
								3555
							],
							[
								3757,
								3772
							],
							[
								4012,
								4040
							],
							[
								4325,
								4335
							],
							[
								4546,
								4552
							],
							[
								4764,
								4778
							],
							[
								5401,
								5448
							],
							[
								5591,
								5607
							],
							[
								6279,
								6297
							],
							[
								6466,
								6484
							],
							[
								7196,
								7230
							],
							[
								7510,
								7515
							],
							[
								7610,
								7627
							],
							[
								8469,
								8485
							],
							[
								8574,
								8592
							],
							[
								8932,
								8950
							],
							[
								9008,
								9025
							],
							[
								9129,
								9134
							],
							[
								9185,
								9191
							],
							[
								9301,
								9321
							],
							[
								9418,
								9453
							],
							[
								9593,
								9607
							],
							[
								9625,
								9647
							],
							[
								9756,
								9760
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					484,
=======
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8AgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfcHJvcGVydHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfZm9ybV9wYXJzZXJfZGVmaW5lX293bl9wcm9wZXJ0eSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					44,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
<<<<<<< HEAD
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					485,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								344,
								400
							],
							[
								510,
								537
							],
							[
								746,
								782
							],
							[
								1160,
								1197
							],
							[
								1263,
								1273
							],
							[
								1321,
								1331
							],
							[
								1371,
								1376
							],
							[
								1430,
								1455
							],
							[
								1935,
								1963
							],
							[
								2316,
								2319
							],
							[
								2337,
								2357
							],
							[
								2738,
								2743
							],
							[
								2912,
								2924
							],
							[
								2962,
								2975
							],
							[
								3072,
								3085
							],
							[
								3419,
								3425
							],
							[
								3432,
								3441
							],
							[
								3547,
								3555
							],
							[
								3757,
								3772
							],
							[
								4012,
								4040
							],
							[
								4325,
								4335
							],
							[
								4546,
								4552
							],
							[
								4764,
								4778
							],
							[
								5401,
								5448
							],
							[
								5591,
								5607
							],
							[
								6279,
								6297
							],
							[
								6466,
								6484
							],
							[
								7196,
								7230
							],
							[
								7510,
								7515
							],
							[
								7610,
								7627
							],
							[
								8469,
								8485
							],
							[
								8574,
								8592
							],
							[
								8932,
								8950
							],
							[
								9008,
								9025
							],
							[
								9129,
								9134
							],
							[
								9185,
								9191
							],
							[
								9301,
								9321
							],
							[
								9418,
								9453
							],
							[
								9593,
								9607
							],
							[
								9625,
								9647
							],
							[
								9756,
								9760
=======
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					45,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c",
						"symkeys":
						[
							[
								337,
								360
							],
							[
								367,
								387
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"symlist":
						[
<<<<<<< HEAD
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					486,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					487,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								330,
								386
							],
							[
								496,
								523
							],
							[
								732,
								768
							],
							[
								1146,
								1183
							],
							[
								1249,
								1259
							],
							[
								1307,
								1317
							],
							[
								1357,
								1362
							],
							[
								1416,
								1441
							],
							[
								1921,
								1949
							],
							[
								2302,
								2305
							],
							[
								2323,
								2343
							],
							[
								2724,
								2729
							],
							[
								2898,
								2910
							],
							[
								2948,
								2961
							],
							[
								3058,
								3071
							],
							[
								3405,
								3411
							],
							[
								3418,
								3427
							],
							[
								3533,
								3541
							],
							[
								3743,
								3758
							],
							[
								3998,
								4026
							],
							[
								4311,
								4321
							],
							[
								4532,
								4538
							],
							[
								4750,
								4764
							],
							[
								5387,
								5434
							],
							[
								5577,
								5593
							],
							[
								6265,
								6283
							],
							[
								6452,
								6470
							],
							[
								7182,
								7216
							],
							[
								7496,
								7501
							],
							[
								7596,
								7613
							],
							[
								8455,
								8471
							],
							[
								8560,
								8578
							],
							[
								8918,
								8936
							],
							[
								8994,
								9011
							],
							[
								9115,
								9120
							],
							[
								9171,
								9177
							],
							[
								9287,
								9307
							],
							[
								9404,
								9439
							],
							[
								9579,
								9593
							],
							[
								9611,
								9633
							],
							[
								9742,
								9746
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					488,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					489,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								329,
								385
							],
							[
								495,
								522
							],
							[
								731,
								767
							],
							[
								1145,
								1182
							],
							[
								1248,
								1258
							],
							[
								1306,
								1316
							],
							[
								1356,
								1361
							],
							[
								1415,
								1440
							],
							[
								1920,
								1948
							],
							[
								2301,
								2304
							],
							[
								2322,
								2342
							],
							[
								2723,
								2728
							],
							[
								2897,
								2909
							],
							[
								2947,
								2960
							],
							[
								3057,
								3070
							],
							[
								3404,
								3410
							],
							[
								3417,
								3426
							],
							[
								3532,
								3540
							],
							[
								3742,
								3757
							],
							[
								3997,
								4025
							],
							[
								4310,
								4320
							],
							[
								4531,
								4537
							],
							[
								4749,
								4763
							],
							[
								5386,
								5433
							],
							[
								5576,
								5592
							],
							[
								6264,
								6282
							],
							[
								6451,
								6469
							],
							[
								7181,
								7215
							],
							[
								7495,
								7500
							],
							[
								7595,
								7612
							],
							[
								8454,
								8470
							],
							[
								8559,
								8577
							],
							[
								8917,
								8935
							],
							[
								8993,
								9010
							],
							[
								9114,
								9119
							],
							[
								9170,
								9176
							],
							[
								9286,
								9306
							],
							[
								9403,
								9438
							],
							[
								9578,
								9592
							],
							[
								9610,
								9632
							],
							[
								9741,
								9745
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					490,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								323,
								379
							],
							[
								489,
								516
							],
							[
								725,
								761
							],
							[
								1139,
								1176
							],
							[
								1242,
								1252
							],
							[
								1300,
								1310
							],
							[
								1350,
								1355
							],
							[
								1409,
								1434
							],
							[
								1914,
								1942
							],
							[
								2295,
								2298
							],
							[
								2316,
								2336
							],
							[
								2717,
								2722
							],
							[
								2891,
								2903
							],
							[
								2941,
								2954
							],
							[
								3051,
								3064
							],
							[
								3398,
								3404
							],
							[
								3411,
								3420
							],
							[
								3526,
								3534
							],
							[
								3736,
								3751
							],
							[
								3991,
								4019
							],
							[
								4304,
								4314
							],
							[
								4525,
								4531
							],
							[
								4743,
								4757
							],
							[
								5380,
								5427
							],
							[
								5570,
								5586
							],
							[
								6258,
								6276
							],
							[
								6445,
								6463
							],
							[
								7175,
								7209
							],
							[
								7489,
								7494
							],
							[
								7589,
								7606
							],
							[
								8448,
								8464
							],
							[
								8553,
								8571
							],
							[
								8911,
								8929
							],
							[
								8987,
								9004
							],
							[
								9108,
								9113
							],
							[
								9164,
								9170
							],
							[
								9280,
								9300
							],
							[
								9397,
								9432
							],
							[
								9572,
								9586
							],
							[
								9604,
								9626
							],
							[
								9735,
								9739
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAADBAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					491,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					492,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								323,
								379
							],
							[
								489,
								516
							],
							[
								725,
								761
							],
							[
								1139,
								1176
							],
							[
								1242,
								1252
							],
							[
								1300,
								1310
							],
							[
								1350,
								1355
							],
							[
								1409,
								1434
							],
							[
								1914,
								1942
							],
							[
								2295,
								2298
							],
							[
								2316,
								2336
							],
							[
								2717,
								2722
							],
							[
								2891,
								2903
							],
							[
								2941,
								2954
							],
							[
								3051,
								3064
							],
							[
								3398,
								3404
							],
							[
								3411,
								3420
							],
							[
								3526,
								3534
							],
							[
								3736,
								3751
							],
							[
								3991,
								4019
							],
							[
								4304,
								4314
							],
							[
								4525,
								4531
							],
							[
								4743,
								4757
							],
							[
								5380,
								5427
							],
							[
								5570,
								5586
							],
							[
								6258,
								6276
							],
							[
								6445,
								6463
							],
							[
								7175,
								7209
							],
							[
								7489,
								7494
							],
							[
								7589,
								7606
							],
							[
								8448,
								8464
							],
							[
								8553,
								8571
							],
							[
								8911,
								8929
							],
							[
								8987,
								9004
							],
							[
								9108,
								9113
							],
							[
								9164,
								9170
							],
							[
								9280,
								9300
							],
							[
								9397,
								9432
							],
							[
								9572,
								9586
							],
							[
								9604,
								9626
							],
							[
								9735,
								9739
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					493,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					494,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					495,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								323,
								379
							],
							[
								489,
								516
							],
							[
								725,
								761
							],
							[
								1139,
								1176
							],
							[
								1242,
								1252
							],
							[
								1300,
								1310
							],
							[
								1350,
								1355
							],
							[
								1409,
								1434
							],
							[
								1914,
								1942
							],
							[
								2295,
								2298
							],
							[
								2316,
								2336
							],
							[
								2717,
								2722
							],
							[
								2891,
								2903
							],
							[
								2941,
								2954
							],
							[
								3051,
								3064
							],
							[
								3398,
								3404
							],
							[
								3411,
								3420
							],
							[
								3526,
								3534
							],
							[
								3736,
								3751
							],
							[
								3991,
								4019
							],
							[
								4304,
								4314
							],
							[
								4525,
								4531
							],
							[
								4743,
								4757
							],
							[
								5380,
								5427
							],
							[
								5570,
								5586
							],
							[
								6258,
								6276
							],
							[
								6445,
								6463
							],
							[
								7175,
								7209
							],
							[
								7489,
								7494
							],
							[
								7589,
								7606
							],
							[
								8448,
								8464
							],
							[
								8553,
								8571
							],
							[
								8911,
								8929
							],
							[
								8987,
								9004
							],
							[
								9108,
								9113
							],
							[
								9164,
								9170
							],
							[
								9280,
								9300
							],
							[
								9397,
								9432
							],
							[
								9572,
								9586
							],
							[
								9604,
								9626
							],
							[
								9735,
								9739
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					496,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					497,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					498,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					499,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					500,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								323,
								379
							],
							[
								489,
								516
							],
							[
								725,
								761
							],
							[
								1139,
								1176
							],
							[
								1242,
								1252
							],
							[
								1300,
								1310
							],
							[
								1350,
								1355
							],
							[
								1409,
								1434
							],
							[
								1914,
								1942
							],
							[
								2295,
								2298
							],
							[
								2316,
								2336
							],
							[
								2717,
								2722
							],
							[
								2891,
								2903
							],
							[
								2941,
								2954
							],
							[
								3051,
								3064
							],
							[
								3398,
								3404
							],
							[
								3411,
								3420
							],
							[
								3526,
								3534
							],
							[
								3736,
								3751
							],
							[
								3991,
								4019
							],
							[
								4304,
								4314
							],
							[
								4525,
								4531
							],
							[
								4743,
								4757
							],
							[
								5380,
								5427
							],
							[
								5570,
								5586
							],
							[
								6258,
								6276
							],
							[
								6445,
								6463
							],
							[
								7175,
								7209
							],
							[
								7489,
								7494
							],
							[
								7589,
								7606
							],
							[
								8448,
								8464
							],
							[
								8553,
								8571
							],
							[
								8911,
								8929
							],
							[
								8987,
								9004
							],
							[
								9108,
								9113
							],
							[
								9164,
								9170
							],
							[
								9280,
								9300
							],
							[
								9397,
								9432
							],
							[
								9572,
								9586
							],
							[
								9604,
								9626
							],
							[
								9735,
								9739
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					501,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					502,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					503,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					504,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/android/app/src/main/AndroidManifest.xml",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					505,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								323,
								379
							],
							[
								489,
								516
							],
							[
								725,
								761
							],
							[
								1139,
								1176
							],
							[
								1242,
								1252
							],
							[
								1300,
								1310
							],
							[
								1350,
								1355
							],
							[
								1409,
								1434
							],
							[
								1914,
								1942
							],
							[
								2295,
								2298
							],
							[
								2316,
								2336
							],
							[
								2717,
								2722
							],
							[
								2891,
								2903
							],
							[
								2941,
								2954
							],
							[
								3051,
								3064
							],
							[
								3398,
								3404
							],
							[
								3411,
								3420
							],
							[
								3526,
								3534
							],
							[
								3736,
								3751
							],
							[
								3991,
								4019
							],
							[
								4304,
								4314
							],
							[
								4525,
								4531
							],
							[
								4743,
								4757
							],
							[
								5380,
								5427
							],
							[
								5570,
								5586
							],
							[
								6258,
								6276
							],
							[
								6445,
								6463
							],
							[
								7175,
								7209
							],
							[
								7489,
								7494
							],
							[
								7589,
								7606
							],
							[
								8448,
								8464
							],
							[
								8553,
								8571
							],
							[
								8911,
								8929
							],
							[
								8987,
								9004
							],
							[
								9108,
								9113
							],
							[
								9164,
								9170
							],
							[
								9280,
								9300
							],
							[
								9397,
								9432
							],
							[
								9572,
								9586
							],
							[
								9604,
								9626
							],
							[
								9735,
								9739
							]
						],
						"symlist":
						[
							"function MakePrompt(prefix, suffix, commandMode = false)",
							"function FromDomain(buffer)",
							"function WriteFile(filename, buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							"(...args) =>",
							" (...args) =>",
							"(acc, arg) =>",
							"help()",
							"show(arg)",
							"escape()",
							"handleCmd(data)",
							"async function main(...args)",
							" (a, v) =>",
							" () =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"body: function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)",
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>"
						]
					},
					"AQAAAAAAAAAAAAAAwQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.c",
						"symkeys":
						[
							[
								8,
								19
							],
							[
								643,
								662
							],
							[
								747,
								766
							],
							[
								1039,
								1065
							],
							[
								2035,
								2055
							],
							[
								2396,
								2414
							],
							[
								2630,
								2649
							],
							[
								2905,
								2923
							],
							[
								4906,
								4924
							],
							[
								6257,
								6278
							],
							[
								7195,
								7219
							],
							[
								7658,
								7682
							]
						],
						"symlist":
						[
							"‚ÄÉ‚ìÇ‚ÄÇ‚ÄÉ_GNU_SOURCE‚ÄÉ‚Ä¶‚ÄÉ‚Äî‚ÄÉmacro object",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_constructor‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_clone‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_wrap‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_get‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_set‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_method‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_getheader‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉminnet_request_finalizer‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAATWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgY29tbWFuZE1vZGUgPSBmYWxzZSkKRnJvbURvbWFpbihidWZmZXIpCldyaXRlRmlsZShmaWxlbmFtZSwgYnVmZmVyKQpUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpCiAgKGEsIHMpID0+CiAgKGEsIHMpID0+CiAgY2ggPT4KRE5TUXVlcnkoZG9tYWluKQpETlNSZXNwb25zZShidWZmZXIpCkNMSQogIGNvbnN0cnVjdG9yKHByb21wdDIpCigpID0+CiguLi5hcmdzKSA9PgogICguLi5hcmdzKSA9PgooYWNjLCBhcmcpID0+CiAgaGVscCgpCiAgc2hvdyhhcmcpCiAgZXNjYXBlKCkKICBoYW5kbGVDbWQoZGF0YSkKICBtYWluKC4uLmFyZ3MpCiAgKGEsIHYpID0+CiAgKCkgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KICBib2R5OiBmdW5jdGlvbiooKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uLCBlcnJvcikKKCkgPT4KICBvbkh0dHAocmVxLCByZXNwKQogIG9uRmQoZmQsIHJkLCB3cikKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkVycm9yKHdzLCBlcnJvcikKICBnZXQgY29ubmVjdGlvbnMoKQooKSA9PgogIGVyciA9PgogIHF1aXQod2h5KQpHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKQogIGZpbmRPcHQgPSBhID0+Cihbb3B0bmFtZSwgb3B0aW9uXSkgPT4KICBvID0+AAAAAAAAAAAhAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
						"symkeys":
						[
							[
								597,
								612
							],
							[
								696,
								717
							],
							[
								790,
								810
							],
							[
								1129,
								1146
							],
							[
								1673,
								1698
							],
							[
								2072,
								2093
							],
							[
								2843,
								2861
							],
							[
								3020,
								3043
							],
							[
								3385,
								3403
							],
							[
								3663,
								3675
							],
							[
								4673,
								4682
							],
							[
								6665,
								6675
							],
							[
								7862,
								7874
							],
							[
								8502,
								8512
							],
							[
								8775,
								8789
							],
							[
								9042,
								9065
							],
							[
								9080,
								9099
							],
							[
								9317,
								9331
							],
							[
								10073,
								10087
							],
							[
								11718,
								11731
							],
							[
								12885,
								12900
							],
							[
								15404,
								15418
							],
							[
								16015,
								16036
							],
							[
								16535,
								16549
							],
							[
								18451,
								18460
							],
							[
								18640,
								18650
							],
							[
								20123,
								20143
							],
							[
								21558,
								21578
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACVAgAAICDik4IgIF9HTlVfU09VUkNFIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfY2xvbmUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3Rfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfbWV0aG9kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZ2V0aGVhZGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					3,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAACkBQAA4oCU4pK74oCTIHNlcnZlX2dlbmVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZob3N0X29wdGlvbnNfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2Zyb21lbnRyaWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9maW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZmluZF9zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1vdW50X2lzX3Byb3h5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX3JlamVjdGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9wcm9taXNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfZ2VuZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoYXNfdHJhbnNmZXJfZW5jb2RpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZpbGVfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX2ZpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBodHRwX3NlcnZlcl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					4,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					5,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
						"symkeys":
						[
							[
								597,
								612
							],
							[
								696,
								717
							],
							[
								790,
								810
							],
							[
								1129,
								1146
							],
							[
								1673,
								1698
							],
							[
								2072,
								2093
							],
							[
								2843,
								2861
							],
							[
								3020,
								3043
							],
							[
								3385,
								3403
							],
							[
								3663,
								3675
							],
							[
								4673,
								4682
							],
							[
								6665,
								6675
							],
							[
								7862,
								7874
							],
							[
								8502,
								8512
							],
							[
								8775,
								8789
							],
							[
								9042,
								9065
							],
							[
								9080,
								9099
							],
							[
								9317,
								9331
							],
							[
								10073,
								10087
							],
							[
								11718,
								11731
							],
							[
								12885,
								12900
							],
							[
								15404,
								15418
							],
							[
								16015,
								16036
							],
							[
								16535,
								16549
							],
							[
								18451,
								18460
							],
							[
								18640,
								18650
							],
							[
								20123,
								20143
							],
							[
								21558,
								21578
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					6,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACkBQAA4oCU4pK74oCTIHNlcnZlX2dlbmVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZob3N0X29wdGlvbnNfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2Zyb21lbnRyaWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9maW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZmluZF9zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1vdW50X2lzX3Byb3h5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX3JlamVjdGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9wcm9taXNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfZ2VuZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoYXNfdHJhbnNmZXJfZW5jb2RpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZpbGVfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX2ZpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBodHRwX3NlcnZlcl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					7,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					8,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					9,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
						"symkeys":
						[
							[
								597,
								612
							],
							[
								696,
								717
							],
							[
								790,
								810
							],
							[
								1129,
								1146
							],
							[
								1673,
								1698
							],
							[
								2072,
								2093
							],
							[
								2843,
								2861
							],
							[
								3020,
								3043
							],
							[
								3385,
								3403
							],
							[
								3663,
								3675
							],
							[
								4673,
								4682
							],
							[
								6665,
								6675
							],
							[
								7862,
								7874
							],
							[
								8502,
								8512
							],
							[
								8775,
								8789
							],
							[
								9042,
								9065
							],
							[
								9080,
								9099
							],
							[
								9317,
								9331
							],
							[
								10073,
								10087
							],
							[
								11718,
								11731
							],
							[
								12885,
								12900
							],
							[
								15404,
								15418
							],
							[
								16015,
								16036
							],
							[
								16535,
								16549
							],
							[
								18451,
								18460
							],
							[
								18640,
								18650
							],
							[
								20123,
								20143
							],
							[
								21558,
								21578
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉlws_hdr_simple_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromentries‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free_list‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉvhost_options_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_create‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_find_s‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉmount_is_proxy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_rejected‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_resolved‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_promise‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_generator‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhas_transfer_encoding‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_response‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉfile_size‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉserve_file‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_writable‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉhttp_server_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					10,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACkBQAA4oCU4pK74oCTIHNlcnZlX2dlbmVyYXRvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHZob3N0X29wdGlvbnNfY3JlYXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2Zyb21lbnRyaWVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB2aG9zdF9vcHRpb25zX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtb3VudF9maW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZmluZF9zICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbW91bnRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1vdW50X2lzX3Byb3h5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgSFRUUEFzeW5jUmVzb2x2ZUNsb3N1cmUgOyDigJQgdHlwZWRlZgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWRfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX3JlamVjdGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfcmVzb2x2ZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9wcm9taXNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfZ2VuZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgc2VydmVfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBoYXNfdHJhbnNmZXJfZW5jb2RpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBzZXJ2ZV9yZXNwb25zZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGZpbGVfc2l6ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHNlcnZlX2ZpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBodHRwX3NlcnZlcl93cml0YWJsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					11,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.c",
						"symkeys":
						[
							[
								192,
								207
							],
							[
								252,
								259
							],
							[
								732,
								740
							],
							[
								947,
								962
							],
							[
								1106,
								1127
							],
							[
								1355,
								1370
							],
							[
								1569,
								1579
							],
							[
								1740,
								1748
							],
							[
								2143,
								2152
							],
							[
								2901,
								2904
							],
							[
								3040,
								3049
							],
							[
								3927,
								3937
							],
							[
								4851,
								4859
							],
							[
								5369,
								5379
							],
							[
								5724,
								5732
							],
							[
								5904,
								5915
							],
							[
								6090,
								6098
							],
							[
								6257,
								6273
							],
							[
								6888,
								6905
							],
							[
								7403,
								7411
							],
							[
								8984,
								8996
							],
							[
								9195,
								9204
							],
							[
								9348,
								9358
							],
							[
								9528,
								9536
							],
							[
								9605,
								9616
							],
							[
								10552,
								10565
							],
							[
								10983,
								10994
							],
							[
								12230,
								12238
							],
							[
								12440,
								12447
							],
							[
								12602,
								12612
							]
						],
						"symlist":
						[
							"‚Äî‚íª‚Äì‚ÄÉminnet_url_data‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstrlcpy‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_string‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_default_port‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉprotocol_is_tls‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉstart_from‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_init‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_parse‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"url",
							"‚Äî‚íª‚Äì‚ÄÉurl_print‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_format‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_host‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_length‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_free_rt‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"protocol",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_path_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_set_query_len‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_info‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_location‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_query‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_search‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_hash‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromobj‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromvalue‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_fromwsi‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_dump‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_new‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction",
							"‚Äî‚íª‚Äì‚ÄÉurl_object‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
						]
					},
					"AQAAAAAAAAAAAAAAAQQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					12,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAPBQAA4oCU4pK74oCTIG1pbm5ldF91cmxfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAgcHJvdG9jb2wK4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0YXJ0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICB1cmwK4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaG9zdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sZW5ndGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlX3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIHByb3RvY29sCuKAlOKSu+KAkyB1cmxfc2V0X3BhdGhfbGVuICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3NldF9xdWVyeV9sZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZWFyY2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaGFzaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "src/minnet-request.c",
			"settings":
			{
				"buffer_size": 9519,
				"line_ending": "Unix"
			}
		},
		{
			"file": "test-rpc.js",
			"settings":
			{
				"buffer_size": 10052,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					32,
					3,
					"right_delete",
					null,
					"AwAAAC4OAAAAAAAALg4AAAAAAAAGAAAAU29ja2V0Lg4AAAAAAAAuDgAAAAAAAAEAAAAsLg4AAAAAAAAuDgAAAAAAAAEAAAAg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAuDgAAAAAAADQOAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAM0BAAAAAAAAzwEAAAAAAAAAAAAAYAEAAAAAAABiAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABgAQAAAAAAAM0BAAAAAAAAAAAAAAAA8L8"
				],
				[
					100,
					3,
					"right_delete",
					null,
					"AwAAAEUOAAAAAAAARQ4AAAAAAAAIAAAAUmVwZWF0ZXJFDgAAAAAAAEUOAAAAAAAAAQAAACxFDgAAAAAAAEUOAAAAAAAAAQAAACA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABFDgAAAAAAAE0OAAAAAAAAAAAAAAAA8L8"
				],
				[
					105,
					1,
					"right_delete",
					null,
					"AQAAAEsOAAAAAAAASw4AAAAAAAAMAAAARXZlbnRFbWl0dGVy",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABLDgAAAAAAAFcOAAAAAAAAAAAAAAAA8L8"
				],
				[
					106,
					2,
					"left_delete",
					null,
					"AgAAAEoOAAAAAAAASg4AAAAAAAABAAAAIEkOAAAAAAAASQ4AAAAAAAABAAAALA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABLDgAAAAAAAEsOAAAAAAAAAAAAAAAA8L8"
				],
				[
					115,
					1,
					"right_delete",
					null,
					"AQAAAHMkAAAAAAAAcyQAAAAAAAAMAAAAICAgIFNvY2tldCwK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABzJAAAAAAAAH8kAAAAAAAAAAAAAAAAAAA"
				],
				[
					118,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABFJwAAaW1wb3J0ICogYXMgc3RkIGZyb20gJ3N0ZCc7CmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJzsKaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IFJFUEwgZnJvbSAncmVwbCc7CmltcG9ydCBpbnNwZWN0IGZyb20gJ2luc3BlY3QnOwppbXBvcnQgeyB0eXBlcywgZGVmaW5lLCBmaWx0ZXIsIHNwbGl0LCBnZXRPcHQsIHRvVW5peFRpbWUgfSBmcm9tICd1dGlsJzsKaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnOwppbXBvcnQgeyBzZXRMb2csIExMTF9VU0VSLCBMTExfTk9USUNFLCBMTExfV0FSTiwgY2xpZW50LCBzZXJ2ZXIsIFVSTCB9IGZyb20gJ25ldCc7Ci8qaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAnc29ja2V0cyc7CmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7CmltcG9ydCB7IFJlcGVhdGVyIH0gZnJvbSAncmVwZWF0ZXInOyovCgppbXBvcnQgcnBjIGZyb20gJy4vanMvcnBjLmpzJzsKaW1wb3J0ICogYXMgcnBjMiBmcm9tICcuL2pzL3JwYy5qcyc7CgpnbG9iYWxUaGlzLmZzID0gZnM7CgpmdW5jdGlvbiBSZWFkSlNPTihmaWxlbmFtZSkgewogIGxldCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVuYW1lLCAndXRmLTgnKTsKCiAgaWYoZGF0YSkgY29uc29sZS5kZWJ1ZyhgJHtkYXRhLmxlbmd0aH0gYnl0ZXMgcmVhZCBmcm9tICcke2ZpbGVuYW1lfSdgKTsKICByZXR1cm4gZGF0YSA/IEpTT04ucGFyc2UoZGF0YSkgOiBudWxsOwp9CgpmdW5jdGlvbiBXcml0ZUZpbGUobmFtZSwgZGF0YSwgdmVyYm9zZSA9IHRydWUpIHsKICBpZih0eXBlcy5pc0dlbmVyYXRvckZ1bmN0aW9uKGRhdGEpKSB7CiAgICBsZXQgZmQgPSBmcy5vcGVuU3luYyhuYW1lLCBvcy5PX1dST05MWSB8IG9zLk9fVFJVTkMgfCBvcy5PX0NSRUFULCAweDFhNCk7CiAgICBsZXQgciA9IDA7CiAgICBmb3IobGV0IGl0ZW0gb2YgZGF0YSkgewogICAgICByICs9IGZzLndyaXRlU3luYyhmZCwgdG9BcnJheUJ1ZmZlcihpdGVtICsgJycpKTsKICAgIH0KICAgIGZzLmNsb3NlU3luYyhmZCk7CiAgICBsZXQgc3RhdCA9IGZzLnN0YXRTeW5jKG5hbWUpOwogICAgcmV0dXJuIHN0YXQ/LnNpemU7CiAgfQogIGlmKHR5cGVzLmlzSXRlcmF0b3IoZGF0YSkpIGRhdGEgPSBbLi4uZGF0YV07CiAgaWYodHlwZXMuaXNBcnJheShkYXRhKSkgZGF0YSA9IGRhdGEuam9pbignXG4nKTsKCiAgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycgJiYgIWRhdGEuZW5kc1dpdGgoJ1xuJykpIGRhdGEgKz0gJ1xuJzsKICBsZXQgcmV0ID0gZnMud3JpdGVGaWxlU3luYyhuYW1lLCBkYXRhKTsKCiAgaWYodmVyYm9zZSkgY29uc29sZS5sb2coYFdyb3RlICR7bmFtZX06ICR7cmV0fSBieXRlc2ApOwp9CgpmdW5jdGlvbiBXcml0ZUpTT04obmFtZSwgZGF0YSkgewogIFdyaXRlRmlsZShuYW1lLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7Cn0KCmZ1bmN0aW9uIG1haW4oLi4uYXJncykgewogIGNvbnN0IGJhc2UgPSBwYXRoLmJhc2VuYW1lKHByb2Nlc3MuYXJndlsxXSwgJy5qcycpLnJlcGxhY2UoL1wuW2Etel0qJC8sICcnKTsKICBjb25zdCBjb25maWcgPSBSZWFkSlNPTihgLiR7YmFzZX0tY29uZmlnYCkgPz8ge307CiAgZ2xvYmFsVGhpcy5jb25zb2xlID0gbmV3IENvbnNvbGUoewogICAgaW5zcGVjdE9wdGlvbnM6IHsgY29tcGFjdDogMSwgY3VzdG9tSW5zcGVjdDogdHJ1ZSB9CiAgfSk7CiAgbGV0IHBhcmFtcyA9IGdldE9wdCgKICAgIHsKICAgICAgdmVyYm9zZTogW2ZhbHNlLCAoYSwgdikgPT4gKHYgfCAwKSArIDEsICd2J10sCiAgICAgIGxpc3RlbjogW2ZhbHNlLCBudWxsLCAnbCddLAogICAgICBjb25uZWN0OiBbZmFsc2UsIG51bGwsICdjJ10sCiAgICAgIGNsaWVudDogW2ZhbHNlLCBudWxsLCAnQyddLAogICAgICBzZXJ2ZXI6IFtmYWxzZSwgbnVsbCwgJ1MnXSwKICAgICAgZGVidWc6IFtmYWxzZSwgbnVsbCwgJ3gnXSwKICAgICAgdGxzOiBbZmFsc2UsIG51bGwsICd0J10sCiAgICAgICduby10bHMnOiBbZmFsc2UsICh2LCBwdiwgbykgPT4gKChvLnRscyA9IGZhbHNlKSwgdHJ1ZSksICdUJ10sCiAgICAgIGFkZHJlc3M6IFt0cnVlLCBudWxsLCAnYSddLAogICAgICBwb3J0OiBbdHJ1ZSwgbnVsbCwgJ3AnXSwKICAgICAgJ3NzbC1jZXJ0JzogW3RydWUsIG51bGxdLAogICAgICAnc3NsLXByaXZhdGUta2V5JzogW3RydWUsIG51bGxdLAogICAgICAnQCc6ICd1cmwnCiAgICB9LAogICAgYXJncwogICk7CiAgaWYocGFyYW1zWyduby10bHMnXSA9PT0gdHJ1ZSkgcGFyYW1zLnRscyA9IGZhbHNlOwoKICBjb25zb2xlLmxvZygncGFyYW1zJywgcGFyYW1zKTsKICBjb25zb2xlLmxvZygnc2V0TG9nJywgc2V0TG9nKTsKICBjb25zdCB7CiAgICAnQCc6IFt1cmwgPSAnd3NzOi8vMTI3LjAuMC4xOjg5OTMvd3MnXSwKICAgICdzc2wtY2VydCc6IHNzbENlcnQgPSAnbG9jYWxob3N0LmNydCcsCiAgICAnc3NsLXByaXZhdGUta2V5Jzogc3NsUHJpdmF0ZUtleSA9ICdsb2NhbGhvc3Qua2V5JwogIH0gPSBwYXJhbXM7CgogIGNvbnN0IGxpc3RlbiA9IHBhcmFtcy5jb25uZWN0ICYmICFwYXJhbXMubGlzdGVuID8gZmFsc2UgOiB0cnVlOwogIGNvbnN0IHNlcnZlID0gIXBhcmFtcy5jbGllbnQgfHwgcGFyYW1zLnNlcnZlcjsKCiAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7IC4uLnJwYzIsIHJwYyB9KTsKICBsZXQgbmFtZSA9IHByb2Nlc3MuYXJndlsxXTsKICBuYW1lID0gbmFtZQogICAgLnJlcGxhY2UoLy4qXC8vLCAnJykKICAgIC5yZXBsYWNlKC8tL2csICcgJykKICAgIC5yZXBsYWNlKC9cLlteXC8uXSokLywgJycpOwoKICBsZXQgW3ByZWZpeCwgc3VmZml4XSA9IG5hbWUuc3BsaXQoJyAnKTsKCiAgbGV0IHJlcGwgPSBuZXcgUkVQTChgXHgxYlszODs1OzE2NW0ke3ByZWZpeH0gXHgxYlszODs1OzM5bSR7c3VmZml4fVx4MWJbMG1gLCBmcywgZmFsc2UpOwoKICByZXBsLmhpc3RvcnlMb2FkKG51bGwsIGZhbHNlKTsKICByZXBsLmxvYWRTYXZlT3B0aW9ucygpOwoKICByZXBsLmhlbHAgPSAoKSA9PiB7fTsKICBsZXQgeyBsb2cgfSA9IGNvbnNvbGU7CiAgcmVwbC5zaG93ID0gYXJnID0+IHN0ZC5wdXRzKCh0eXBlb2YgYXJnID09ICdzdHJpbmcnID8gYXJnIDogaW5zcGVjdChhcmcsIGdsb2JhbFRoaXMuY29uc29sZS5vcHRpb25zKSkgKyAnXG4nKTsKCiAgcmVwbC5jbGVhbnVwID0gKCkgPT4gewogICAgcmVwbC5yZWFkbGluZVJlbW92ZVByb21wdCgpOwogICAgbGV0IG51bUxpbmVzID0gcmVwbC5oaXN0b3J5U2F2ZSgpOwoKICAgIHJlcGwucHJpbnRTdGF0dXMoYEVYSVQgKHdyb3RlICR7bnVtTGluZXN9IGhpc3RvcnkgZW50cmllcylgLCBmYWxzZSk7CgogICAgc3RkLmV4aXQoMCk7CiAgfTsKCiAgY29uc29sZS5sb2cgPSByZXBsLnByaW50RnVuY3Rpb24obG9nKTsKICBsZXQgdXJpID0gbmV3IFVSTCh1cmwpOwogIGNvbnNvbGUubG9nKCdtYWluJywgeyB1cmwsIHVyaSB9KTsKCiAgbGV0IGNsaSA9IChnbG9iYWxUaGlzLnNvY2sgPSBuZXcgcnBjLlNvY2tldCgKICAgIHVyaSwKICAgIHJwY1tgUlBDJHtzZXJ2ZSA/ICdTZXJ2ZXInIDogJ0NsaWVudCd9Q29ubmVjdGlvbmBdLAogICAgK3BhcmFtcy52ZXJib3NlCiAgKSk7CgogIGNsaS5yZWdpc3Rlcih7IFdvcmtlcjogb3MuV29ya2VyLCBSRVBMIH0pOwoKICBsZXQgY29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7CiAgZnVuY3Rpb24gY3JlYXRlV1ModXJsLCBjYWxsYmFja3MsIGxpc3RlbikgewogICAgY29uc29sZS5sb2coJ2NyZWF0ZVdTJywgeyB1cmwsIGNhbGxiYWNrcywgbGlzdGVuIH0pOwogICAgY29uc3QgeyBwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCB9ID0gdXJsOwogICAgY29uc29sZS5sb2coJ2NyZWF0ZVdTJywgeyBwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCB9KTsKICAgIHNldExvZygocGFyYW1zLmRlYnVnID8gTExMX1VTRVIgOiAwKSB8ICgoKHBhcmFtcy5kZWJ1ZyA/IExMTF9OT1RJQ0UgOiBMTExfV0FSTikgPDwgMSkgLSAxKSwgKGxldmVsLCAuLi5hcmdzKSA9PiB7CiAgICAgIHJlcGwucHJpbnRTdGF0dXMoLi4uYXJncyk7CiAgICAgIC8vaWYocGFyYW1zLmRlYnVnKSBjb25zb2xlLmxvZygoWydFUlInLCAnV0FSTicsICdOT1RJQ0UnLCAnSU5GTycsICdERUJVRycsICdQQVJTRVInLCAnSEVBREVSJywgJ0VYVCcsICdDTElFTlQnLCAnTEFURU5DWScsICdNSU5ORVQnLCAnVEhSRUFEJ11bTWF0aC5sb2cyKGxldmVsKV0gPz8gbGV2ZWwgKyAnJykucGFkRW5kKDgpLCAuLi5hcmdzKTsKICAgIH0pOwoKICAgIHJldHVybiBbY2xpZW50LCBzZXJ2ZXJdWytsaXN0ZW5dKHsKICAgICAgcHJvdG9jb2wsCiAgICAgIGhvc3QsCiAgICAgIHBvcnQsCiAgICAgIHBhdGgsCiAgICAgIHRsczogcGFyYW1zLnRscywKICAgICAgc3NsQ2VydCwKICAgICAgc3NsUHJpdmF0ZUtleSwKICAgICAgbWltZXR5cGVzOiBbCiAgICAgICAgWycuc3ZneicsICdhcHBsaWNhdGlvbi9nemlwJ10sCiAgICAgICAgWycubWpzJywgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXSwKICAgICAgICBbJy53YXNtJywgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSddLAogICAgICAgIFsnLmVvdCcsICdhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdCddLAogICAgICAgIFsnLmxpYicsICdhcHBsaWNhdGlvbi94LWFyY2hpdmUnXSwKICAgICAgICBbJy5iejInLCAnYXBwbGljYXRpb24veC1iemlwMiddLAogICAgICAgIFsnLmdpdGlnbm9yZScsICd0ZXh0L3BsYWluJ10sCiAgICAgICAgWycuY21ha2UnLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLmhleCcsICd0ZXh0L3BsYWluJ10sCiAgICAgICAgWycubWQnLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLnBieHByb2onLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLndhdCcsICd0ZXh0L3BsYWluJ10sCiAgICAgICAgWycuYycsICd0ZXh0L3gtYyddLAogICAgICAgIFsnLmgnLCAndGV4dC94LWMnXSwKICAgICAgICBbJy5jcHAnLCAndGV4dC94LWMrKyddLAogICAgICAgIFsnLmhwcCcsICd0ZXh0L3gtYysrJ10sCiAgICAgICAgWycuZmlsdGVycycsICd0ZXh0L3htbCddLAogICAgICAgIFsnLnBsaXN0JywgJ3RleHQveG1sJ10sCiAgICAgICAgWycuc3Rvcnlib2FyZCcsICd0ZXh0L3htbCddLAogICAgICAgIFsnLnZjeHByb2onLCAndGV4dC94bWwnXSwKICAgICAgICBbJy5iYXQnLCAndGV4dC94LW1zZG9zLWJhdGNoJ10sCiAgICAgICAgWycubW0nLCAndGV4dC94LW9iamVjdGl2ZS1jJ10sCiAgICAgICAgWycubScsICd0ZXh0L3gtb2JqZWN0aXZlLWMnXSwKICAgICAgICBbJy5zaCcsICd0ZXh0L3gtc2hlbGxzY3JpcHQnXQogICAgICBdLAogICAgICBtb3VudHM6IHsKICAgICAgICAnLyc6IFsnLycsICcuJywgJ2luZGV4Lmh0bWwnXSwKICAgICAgICAnLzQwNC5odG1sJzogZnVuY3Rpb24qIChyZXEsIHJlcykgewogICAgICAgICAgY29uc29sZS5sb2coJy80MDQuaHRtbCcsIHsgcmVxLCByZXMgfSk7CiAgICAgICAgICB5aWVsZCAnPGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PSJDb250ZW50LUxhbmd1YWdlIiBjb250ZW50PSJlbiIvPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9lcnJvci5jc3MiLz48L2hlYWQ+PGJvZHk+PGgxPjQwMzwvaDE+PC9ib2R5PjwvaHRtbD4nOwogICAgICAgIH0sCiAgICAgICAgcHJveHkocmVxLCByZXMpIHsKICAgICAgICAgIGNvbnN0IHsgdXJsLCBtZXRob2QsIGhlYWRlcnMgfSA9IHJlcTsKICAgICAgICAgIGNvbnN0IHsgc3RhdHVzLCBvaywgdHlwZSB9ID0gcmVzOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm94eScsIHsgdXJsLCBtZXRob2QsIGhlYWRlcnMgfSwgeyBzdGF0dXMsIG9rLCB1cmwsIHR5cGUgfSk7CiAgICAgICAgfSwKICAgICAgICAqY29uZmlnKHJlcSwgcmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnL2NvbmZpZycsIHsgcmVxLCByZXMgfSk7CiAgICAgICAgICB5aWVsZCAne30nOwogICAgICAgIH0sCiAgICAgICAgKmZpbGVzKHJlcSwgcmVzcCkgewogICAgICAgICAgY29uc3QgeyBib2R5LCBoZWFkZXJzIH0gPSByZXE7CiAgICAgICAgICBjb25zdCB7ICdjb250ZW50LXR5cGUnOiBjb250ZW50X3R5cGUgfSA9IGhlYWRlcnM7CiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShib2R5KTsKCiAgICAgICAgICByZXNwLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7CgogICAgICAgICAgbGV0IHsKICAgICAgICAgICAgZGlyID0gJ3RtcCcsCiAgICAgICAgICAgIGZpbHRlciA9ICcuKGJyZHxzY2h8R1tBLVpdW0EtWl0pJCcsCiAgICAgICAgICAgIHZlcmJvc2UgPSBmYWxzZSwKICAgICAgICAgICAgb2JqZWN0cyA9IGZhbHNlLAogICAgICAgICAgICBrZXkgPSAnbXRpbWUnCiAgICAgICAgICB9ID0gZGF0YTsKICAgICAgICAgIGxldCBhYnNkaXIgPSBwYXRoLnJlYWxwYXRoKGRpcik7CiAgICAgICAgICBsZXQgY29tcG9uZW50cyA9IGFic2Rpci5zcGxpdChwYXRoLnNlcCk7CgogICAgICAgICAgaWYoY29tcG9uZW50cy5sZW5ndGggJiYgY29tcG9uZW50c1swXSA9PT0gJycpIGNvbXBvbmVudHMuc2hpZnQoKTsKICAgICAgICAgIGlmKGNvbXBvbmVudHMubGVuZ3RoIDwgMiB8fCBjb21wb25lbnRzWzBdICE9ICdob21lJykgdGhyb3cgbmV3IEVycm9yKGBBY2Nlc3MgZXJyb3JgKTsKCiAgICAgICAgICBjb25zb2xlLmxvZygnXHgxYlszODs1OzIxNW0qZmlsZXNceDFiWzBtJywgewogICAgICAgICAgICBkaXIsCiAgICAgICAgICAgIGNvbXBvbmVudHMsCiAgICAgICAgICAgIGFic2RpcgogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZygnXHgxYlszODs1OzIxNW0qZmlsZXNceDFiWzBtJywgeyBhYnNkaXIgfSk7CgogICAgICAgICAgbGV0IG5hbWVzID0gZnMucmVhZGRpclN5bmMoYWJzZGlyKSA/PyBbXTsKICAgICAgICAgIGlmKGZpbHRlcikgewogICAgICAgICAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAoZmlsdGVyLCAnZ2knKTsKICAgICAgICAgICAgbmFtZXMgPSBuYW1lcy5maWx0ZXIobmFtZSA9PiByZS50ZXN0KG5hbWUpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgZW50cmllcyA9IG5hbWVzLm1hcChmaWxlID0+IFtmaWxlLCBmcy5zdGF0U3luYyhgJHtkaXJ9LyR7ZmlsZX1gKV0pOwoKICAgICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLnJlZHVjZSgoYWNjLCBbZmlsZSwgc3RdKSA9PiB7CiAgICAgICAgICAgIGxldCBuYW1lID0gZmlsZSArIChzdC5pc0RpcmVjdG9yeSgpID8gJy8nIDogJycpOwogICAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICAgIG5hbWUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYWNjLnB1c2goWwogICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvYmosIHsKICAgICAgICAgICAgICAgIG10aW1lOiB0b1VuaXhUaW1lKHN0Lm10aW1lKSwKICAgICAgICAgICAgICAgIHRpbWU6IHRvVW5peFRpbWUoc3QuY3RpbWUpLAogICAgICAgICAgICAgICAgbW9kZTogYDAkeyhzdC5tb2RlICYgMHgwOWZmKS50b1N0cmluZyg4KX1gLAogICAgICAgICAgICAgICAgc2l6ZTogc3Quc2l6ZQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIF0pOwogICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgfSwgW10pOwoKICAgICAgICAgIGxldCBjbXAgPSB7CiAgICAgICAgICAgIHN0cmluZyhhLCBiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJbMV1ba2V5XS5sb2NhbGVDb21wYXJlKGFbMV1ba2V5XSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG51bWJlcihhLCBiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJbMV1ba2V5XSAtIGFbMV1ba2V5XTsKICAgICAgICAgICAgfQogICAgICAgICAgfVt0eXBlb2YgZW50cmllc1swXVsxXVtrZXldXTsKCiAgICAgICAgICBlbnRyaWVzID0gZW50cmllcy5zb3J0KGNtcCk7CgogICAgICAgICAgY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMTVtKmZpbGVzXHgxYlswbScsIHsgZW50cmllcyB9KTsKICAgICAgICAgIG5hbWVzID0gZW50cmllcy5tYXAoKFtuYW1lLCBvYmpdKSA9PiAob2JqZWN0cyA/IG9iaiA6IG5hbWUpKTsKCiAgICAgICAgICB5aWVsZCBKU09OLnN0cmluZ2lmeSguLi5bbmFtZXMsIC4uLih2ZXJib3NlID8gW251bGwsIDJdIDogW10pXSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAuLi51cmwsCgogICAgICAuLi5jYWxsYmFja3MsCiAgICAgIG9uQ29ubmVjdCh3cywgcmVxKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QtcnBjJywgeyB3cywgcmVxIH0pOwogICAgICAgIGNvbm5lY3Rpb25zLmFkZCh3cyk7CgogICAgICAgIHJldHVybiBjYWxsYmFja3Mub25Db25uZWN0KHdzLCByZXEpOwogICAgICB9LAogICAgICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygnXHgxYlszODs1OzE2NW1vbkNsb3NlXHgxYlswbSBbXG4gICcsIHJlcSwgJyxcbiAgJywgcnNwLCAnXG5dJyk7CiAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKHdzKTsKCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrcy5vbkNsb3NlKHdzLCByZXEpOwogICAgICB9LAogICAgICBvbkh0dHAod3MsIHJlcSwgcnNwKSB7CiAgICAgICAgY29uc3QgeyB1cmwsIG1ldGhvZCwgaGVhZGVycyB9ID0gcmVxOwogICAgICAgIGNvbnNvbGUubG9nKCdceDFiWzM4OzU7MzNtb25IdHRwXHgxYlswbSBbXG4gICcsIHJlcSwgJyxcbiAgJywgcnNwLCAnXG5dJyk7CiAgICAgICAgcmV0dXJuIHJzcDsKICAgICAgfSwKICAgICAgb25NZXNzYWdlKHdzLCBkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHdzLCBkYXRhKTsKICAgICAgICByZXR1cm4gY2FsbGJhY2tzLm9uTWVzc2FnZSh3cywgZGF0YSk7CiAgICAgIH0sCiAgICAgIG9uRmQoZmQsIHJkLCB3cikgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdvbkZkJywgeyBmZCwgcmQsIHdyIH0pOwogICAgICAgIHJldHVybiBjYWxsYmFja3Mub25GZChmZCwgcmQsIHdyKTsKICAgICAgfSwKICAgICAgLi4uKHVybCAmJiB1cmwuaG9zdCA/IHVybCA6IHt9KQogICAgfSk7CiAgfQogIGdsb2JhbFRoaXNbWydjb25uZWN0aW9uJywgJ2xpc3RlbmVyJ11bK2xpc3Rlbl1dID0gY2xpOwoKICBkZWZpbmUoZ2xvYmFsVGhpcywgewogICAgZ2V0IGNvbm5lY3Rpb25zKCkgewogICAgICByZXR1cm4gWy4uLmNvbm5lY3Rpb25zXS5maWx0ZXIoYyA9PiBjLmZkICE9PSBudWxsKTsKICAgIH0KICB9KTsKCiAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7CiAgICByZXBsLAogICAgLi4ucnBjLAogICAgcXVpdCwKICAgIGV4aXQ6IHF1aXQsCiAgICBjbGksCiAgICBzdGQsCiAgICBvcywKICAgIGZzLAogICAgcGF0aCwKICAgIFJlYWRKU09OLAogICAgV3JpdGVGaWxlLAogICAgV3JpdGVKU09OCiAgfSk7CgogIGRlZmluZShnbG9iYWxUaGlzLCBsaXN0ZW4gPyB7IHNlcnZlcjogY2xpLCBjbGkgfSA6IHsgY2xpZW50OiBjbGksIGNsaSB9KTsKICAvKiBkZWxldGUgZ2xvYmFsVGhpcy5ERUJVRzsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcywgJ0RFQlVHJywgeyBnZXQ6IERlYnVnRmxhZ3MgfSk7Ki8KCiAgaWYobGlzdGVuKSBjbGkubGlzdGVuKGNyZWF0ZVdTLCBvcyk7CiAgZWxzZSBjbGkuY29ubmVjdChjcmVhdGVXUywgb3MpOwoKICBmdW5jdGlvbiBxdWl0KHdoeSkgewogICAgY29uc29sZS5sb2coYHF1aXQoJyR7d2h5fScpYCk7CgogICAgbGV0IGNmZyA9IHsgaW5zcGVjdE9wdGlvbnM6IGNvbnNvbGUub3B0aW9ucyB9OwogICAgV3JpdGVKU09OKGAuJHtiYXNlfS1jb25maWdgLCBjZmcpOwogICAgcmVwbC5jbGVhbnVwKHdoeSk7CiAgfQoKICByZXBsLnJ1blN5bmMoKTsKfQoKdHJ5IHsKICBtYWluKC4uLnNjcmlwdEFyZ3Muc2xpY2UoMSkpOwp9IGNhdGNoKGVycm9yKSB7CiAgY29uc29sZS5sb2coYEZBSUw6ICR7ZXJyb3I/Lm1lc3NhZ2UgPz8gZXJyb3J9XG4ke2Vycm9yPy5zdGFja31gKTsKICBzdGQuZXhpdCgxKTsKfSBmaW5hbGx5IHsKICAvL2NvbnNvbGUubG9nKCdTVUNDRVNTJyk7Cn0KAAAAAAAAAABEJwAAAAAAAAAAAAAAAAAAAAAAAEQnAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABzJAAAAAAAAHMkAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "wscli.js",
			"settings":
			{
				"buffer_size": 11029,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					33,
					2,
					"right_delete",
					null,
					"AgAAAJAAAAAAAAAAkAAAAAAAAAAGAAAAU29ja2V0kAAAAAAAAACQAAAAAAAAAAEAAAAs",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACQAAAAAAAAAJYAAAAAAAAAAAAAAAAA8L8"
				],
				[
					38,
					1,
					"right_delete",
					null,
					"AQAAAJAAAAAAAAAAkAAAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACQAAAAAAAAAJAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAK0nAAAAAAAAricAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtJwAAAAAAAK0nAAAAAAAAAAAAAAAA8L8"
				],
				[
					143,
					1,
					"left_delete",
					null,
					"AQAAAK0nAAAAAAAArScAAAAAAAABAAAAIg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuJwAAAAAAAK4nAAAAAAAAAAAAAAAA8L8"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "\"ERROR:\""
					},
					"CAAAAKwnAAAAAAAArScAAAAAAAAAAAAArScAAAAAAACuJwAAAAAAAAAAAACuJwAAAAAAAK8nAAAAAAAAAAAAAK8nAAAAAAAAsCcAAAAAAAAAAAAAsCcAAAAAAACxJwAAAAAAAAAAAACxJwAAAAAAALInAAAAAAAAAAAAALInAAAAAAAAsycAAAAAAAAAAAAAsycAAAAAAAC0JwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsJwAAAAAAAKwnAAAAAAAAAAAAAAAA8L8"
				],
				[
					146,
					1,
					"left_delete",
					null,
					"AQAAALMnAAAAAAAAsycAAAAAAAABAAAAIg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC0JwAAAAAAALQnAAAAAAAAAAAAAAAA8L8"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": " \"+"
					},
					"AwAAALMnAAAAAAAAtCcAAAAAAAAAAAAAtCcAAAAAAAC1JwAAAAAAAAAAAAC1JwAAAAAAALYnAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACzJwAAAAAAALMnAAAAAAAAAAAAAAAA8L8"
				],
				[
					151,
					1,
					"left_delete",
					null,
					"AQAAALQnAAAAAAAAtCcAAAAAAAABAAAAIg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1JwAAAAAAALUnAAAAAAAAAAAAAAAA8L8"
				],
				[
					152,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAALQnAAAAAAAAtScAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC0JwAAAAAAALQnAAAAAAAAAAAAAAAA8L8"
				],
				[
					155,
					1,
					"left_delete",
					null,
					"AQAAALQnAAAAAAAAtCcAAAAAAAABAAAAMA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1JwAAAAAAALUnAAAAAAAAAAAAAAAA8L8"
				],
				[
					156,
					1,
					"insert",
					{
						"characters": "'"
					},
					"AQAAALQnAAAAAAAAtScAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC0JwAAAAAAALQnAAAAAAAAAAAAAAAA8L8"
				],
				[
					158,
					1,
					"left_delete",
					null,
					"AQAAAKwnAAAAAAAArCcAAAAAAAABAAAAIg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtJwAAAAAAAK0nAAAAAAAAAAAAAAAA8L8"
				],
				[
					159,
					1,
					"insert",
					{
						"characters": "'"
					},
					"AQAAAKwnAAAAAAAArScAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsJwAAAAAAAKwnAAAAAAAAAAAAAAAA8L8"
				],
				[
					206,
					1,
					"paste",
					null,
					"AQAAAM8nAAAAAAAA2ScAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADPJwAAAAAAAM8nAAAAAAAAAAAAAAAA8L8"
				],
				[
					209,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADyLgAAIyEvdXNyL2Jpbi9lbnYgcWpzbQppbXBvcnQgKiBhcyBzdGQgZnJvbSAnc3RkJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwppbXBvcnQgUkVQTCBmcm9tICdyZXBsJzsKaW1wb3J0IGluc3BlY3QgZnJvbSAnaW5zcGVjdCc7CmltcG9ydCBuZXQsIHsgVVJMLCBSZXF1ZXN0IH0gZnJvbSAnbmV0JzsKaW1wb3J0IHsgQ29uc29sZSwgQ29uc29sZU9wdGlvbnMgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgcXVvdGUsIHRvU3RyaW5nLCB0b0FycmF5QnVmZmVyIH0gZnJvbSAndXRpbCc7Cgpjb25zdCBjb25uZWN0aW9ucyA9IG5ldyBTZXQoKTsKbGV0IGRlYnVnID0gMCwKICBwYXJhbXMsCiAgcmVwbDsKCmZ1bmN0aW9uIE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpIHsKICByZXR1cm4gYFx4MWJbMzg7NTs0MG0ke3ByZWZpeH0gXHgxYlszODs1OzMzbSR7c3VmZml4fVx4MWJbMG0gJHtjb21tYW5kTW9kZSA/ICdDT01NQU5EJyA6ICdEQVRBJ30gPiBgOwp9CgpmdW5jdGlvbiBGcm9tRG9tYWluKGJ1ZmZlcikgewogIGxldCBzID0gJycsCiAgICBpID0gMCwKICAgIHU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICBmb3IoOzspIHsKICAgIGxldCBsZW4gPSB1OFtpKytdOwogICAgaWYobGVuID09IDApIHJldHVybiBzOwogICAgaWYocyAhPSAnJykgcyArPSAnLic7CiAgICB3aGlsZShsZW4tLSkgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHU4W2krK10pOwogIH0KfQoKZnVuY3Rpb24gV3JpdGVGaWxlKGZpbGVuYW1lLCBidWZmZXIpIHsKICBsZXQgZmQ7CiAgaWYodHlwZW9mIGJ1ZmZlciA9PSAnc3RyaW5nJykgYnVmZmVyID0gdG9BcnJheUJ1ZmZlcihidWZmZXIpOwoKICBpZigoZmQgPSBvcy5vcGVuKGZpbGVuYW1lLCBvcy5PX1dST05MWSB8IG9zLk9fQ1JFQVQgfCBvcy5PX1RSVU5DLCAwbzY0NCkpICE9IC0xKSB7CiAgICBsZXQgciA9IG9zLndyaXRlKGZkLCBidWZmZXIsIDAsIGJ1ZmZlci5ieXRlTGVuZ3RoKTsKICAgIG9zLmNsb3NlKGZkKTsKICAgIGlmKHIgPj0gMCkgY29uc29sZS5sb2coYFdyb3RlICcke2ZpbGVuYW1lfScuYCk7CiAgICBlbHNlIGNvbnNvbGUubG9nKGBFcnJvciB3cml0aW5nICcke2ZpbGVuYW1lfSc6ICR7c3RkLnN0cmVycm9yKHV0aWwuZXJyb3IoKS5lcnJubyl9YCk7CiAgICByZXR1cm4gcjsKICB9Cn0KCmZ1bmN0aW9uIFRvRG9tYWluKHN0ciwgYWxwaGEgPSBmYWxzZSkgewogIHJldHVybiBzdHIKICAgIC5zcGxpdCgnLicpCiAgICAucmVkdWNlKAogICAgICBhbHBoYQogICAgICAgID8gKGEsIHMpID0+IGEgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHMubGVuZ3RoKSArIHMKICAgICAgICA6IChhLCBzKSA9PiBhLmNvbmNhdChbcy5sZW5ndGgsIC4uLnMuc3BsaXQoJycpLm1hcChjaCA9PiBjaC5jaGFyQ29kZUF0KDApKV0pLAogICAgICBhbHBoYSA/ICcnIDogW10KICAgICk7Cn0KCmZ1bmN0aW9uIEROU1F1ZXJ5KGRvbWFpbikgewogIGxldCB0eXBlID0gMHgwMTsKICBpZigvXihbMC05XStcLj8pezR9JC8udGVzdChkb21haW4pKSB7CiAgICBkb21haW4gPSBkb21haW4uc3BsaXQoJy4nKS5yZXZlcnNlKCkuam9pbignLicpICsgJy5pbi1hZGRyLmFycGEnOwogICAgdHlwZSA9IDB4MGM7CiAgfQogIC8vY29uc29sZS5sb2coJ0ROU1F1ZXJ5JywgZG9tYWluKTsKICBsZXQgb3V0QnVmID0gbmV3IFVpbnQ4QXJyYXkoWwogICAgMHhmZiwKICAgIDB4ZmYsCiAgICAweDAxLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAxLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAwLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAwLAogICAgLi4uVG9Eb21haW4oZG9tYWluKSwKICAgIDB4MDAsCiAgICAweDAwLAogICAgdHlwZSwKICAgIDB4MDAsCiAgICAweDAxCiAgXSkuYnVmZmVyOwogIG5ldyBEYXRhVmlldyhvdXRCdWYpLnNldFVpbnQxNigwLCBvdXRCdWYuYnl0ZUxlbmd0aCAtIDIsIGZhbHNlKTsKICAvL2NvbnNvbGUubG9nKCdETlNRdWVyeScsIG91dEJ1Zik7CiAgcmV0dXJuIG91dEJ1ZjsKfQoKZnVuY3Rpb24gRE5TUmVzcG9uc2UoYnVmZmVyKSB7CiAgbGV0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICBsZXQgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgMCwgMTIpOwogIGxldCBvZnMgPSAyICsgaGVhZGVyLmdldFVpbnQxNigwLCBmYWxzZSk7CiAgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgb2ZzLCAxMik7CiAgbGV0IHR5cGUgPSBoZWFkZXIuZ2V0VWludDE2KDIsIGZhbHNlKTsKICBvZnMgKz0gMTI7CiAgbGV0IGFkZHI7CiAgaWYodHlwZSA9PSAweDBjKSBhZGRyID0gRnJvbURvbWFpbihidWZmZXIuc2xpY2Uob2ZzKSk7CiAgZWxzZSBhZGRyID0gdTguc2xpY2UoLTQpLmpvaW4oJy4nKTsKICByZXR1cm4gYWRkcjsKfQoKY2xhc3MgQ0xJIGV4dGVuZHMgUkVQTCB7CiAgY29uc3RydWN0b3IocHJvbXB0MikgewogICAgLy9jb25zb2xlLmxvZygncHJvY2Vzcy5hcmd2JywgcHJvY2Vzcy5hcmd2KTsKICAgIGxldCBuYW1lID0gcHJvY2Vzcy5hcmd2WzFdOwogICAgbmFtZSA9IG5hbWUKICAgICAgLnJlcGxhY2UoLy4qXC8vLCAnJykKICAgICAgLnJlcGxhY2UoLy0vZywgJyAnKQogICAgICAucmVwbGFjZSgvXC5bXlwvLl0qJC8sICcnKTsKICAgIGxldCBbcHJlZml4LCBzdWZmaXhdID0gW25hbWUsIHByb21wdDJdOwogICAgbGV0IHByb21wdCA9IE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGZhbHNlKS5zbGljZSgwLCAtMik7CiAgICBzdXBlcihwcm9tcHQsIGZhbHNlKTsKCiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHsgcHJlZml4LCBzdWZmaXggfSk7CgogICAgdGhpcy5oaXN0b3J5TG9hZChudWxsLCBmYWxzZSk7CgogICAgdGhpcy5hZGRDbGVhbnVwSGFuZGxlcigoKSA9PiB7CiAgICAgIHRoaXMucmVhZGxpbmVSZW1vdmVQcm9tcHQoKTsKICAgICAgdGhpcy5wcmludFN0YXR1cyhgRVhJVGAsIGZhbHNlKTsKICAgICAgc3RkLmV4aXQoMCk7CiAgICB9KTsKICAgIGxldCBvcmlnX2xvZyA9IGNvbnNvbGUubG9nOwogICAgbGV0IGxvZyA9IHRoaXMucHJpbnRGdW5jdGlvbigoLi4uYXJncykgPT4gb3JpZ19sb2coLi4uYXJncykpOwogICAgY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4gewogICAgICBsZXQgb3B0cyA9IGNvbnNvbGUuY29uZmlnKGNvbnNvbGUub3B0aW9ucyk7CiAgICAgIHRoaXMucHJpbnRTdGF0dXMoCiAgICAgICAgYXJncy5yZWR1Y2UoKGFjYywgYXJnKSA9PiB7CiAgICAgICAgICBpZihhcmcgaW5zdGFuY2VvZiBDb25zb2xlT3B0aW9ucykgb3B0cyA9IG9wdHMubWVyZ2UoYXJnKTsKICAgICAgICAgIGVsc2UgYWNjID0gKGFjYyAhPSAnJyA/IGFjYyArICcgJyA6ICcnKSArIGluc3BlY3QoYXJnLCBvcHRzKTsKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfSwgJycpCiAgICAgICk7CiAgICB9OwogICAgdGhpcy5jb21tYW5kTW9kZSA9IGZhbHNlOwogICAgdGhpcy5jb21tYW5kc1snXHgxYiddID8/PSB0aGlzLmVzY2FwZTsKICAgIC8vdGhpcy5jb21tYW5kc1snXHgxMSddID0gdGhpcy5lc2NhcGU7CiAgICB0aGlzLmNvbW1hbmRzWyfCpyddID0gdGhpcy5lc2NhcGU7CiAgICB0aGlzLnJ1blN5bmMoKTsKICB9CgogIGhlbHAoKSB7fQoKICBzaG93KGFyZykgewogICAgc3RkLnB1dHMoKHR5cGVvZiBhcmcgPT0gJ3N0cmluZycgPyBhcmcgOiBpbnNwZWN0KGFyZywgZ2xvYmFsVGhpcy5jb25zb2xlLm9wdGlvbnMpKSArICdcbicpOwogIH0KCiAgZXNjYXBlKCkgewogICAgdGhpcy5jb21tYW5kTW9kZSA9ICF0aGlzLmNvbW1hbmRNb2RlOwogICAgdGhpcy5yZWFkbGluZVJlbW92ZVByb21wdCgpOwogICAgdGhpcy5wcm9tcHQgPSB0aGlzLnBzMSA9IE1ha2VQcm9tcHQodGhpcy5wcmVmaXgsIHRoaXMuc3VmZml4LCB0aGlzLmNvbW1hbmRNb2RlKTsKICAgIHRoaXMucmVhZGxpbmVQcmludFByb21wdCgpOwogIH0KCiAgaGFuZGxlQ21kKGRhdGEpIHsKICAgIGlmKHRoaXMuY29tbWFuZE1vZGUpIHJldHVybiBzdXBlci5oYW5kbGVDbWQoZGF0YSk7CgogICAgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgIHRoaXMucHJpbnRTdGF0dXMoYFNlbmRpbmcgJyR7ZGF0YX0nYCwgZmFsc2UpOwogICAgICBmb3IobGV0IGNvbm5lY3Rpb24gb2YgY29ubmVjdGlvbnMpIGNvbm5lY3Rpb24uc2VuZChkYXRhKTsKICAgIH0KICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIG1haW4oLi4uYXJncykgewogIGNvbnN0IGJhc2UgPSBzY3JpcHRBcmdzWzBdLnJlcGxhY2UoLy4qXC8vZywgJycpLnJlcGxhY2UoL1wuW2Etel0qJC8sICcnKTsKICBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7CiAgICBpbnNwZWN0T3B0aW9uczogewogICAgICBkZXB0aDogSW5maW5pdHksCiAgICAgIGNvbXBhY3Q6IDAsCiAgICAgIGN1c3RvbUluc3BlY3Q6IHRydWUKICAgIH0KICB9KTsKICBsZXQgaGVhZGVycyA9IFtdOwogIHBhcmFtcyA9IEdldE9wdCgKICAgIHsKICAgICAgdmVyYm9zZTogW2ZhbHNlLCAoYSwgdikgPT4gKHYgfCAwKSArIDEsICd2J10sCiAgICAgIGxpc3RlbjogW2ZhbHNlLCBudWxsLCAnbCddLAogICAgICBiaW5hcnk6IFtmYWxzZSwgbnVsbCwgJ2InXSwKICAgICAgY29ubmVjdDogW2ZhbHNlLCBudWxsLCAnYyddLAogICAgICBjbGllbnQ6IFtmYWxzZSwgbnVsbCwgJ0MnXSwKICAgICAgc2VydmVyOiBbZmFsc2UsIG51bGwsICdTJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsICgpID0+ICsrZGVidWcsICd4J10sCiAgICAgIGFkZHJlc3M6IFt0cnVlLCBudWxsLCAnYSddLAogICAgICBwb3J0OiBbdHJ1ZSwgbnVsbCwgJ3AnXSwKICAgICAgbWV0aG9kOiBbdHJ1ZSwgbnVsbCwgJ20nXSwKICAgICAgb3V0cHV0OiBbdHJ1ZSwgbnVsbCwgJ28nXSwKICAgICAgcHJvdG9jb2w6IFt0cnVlLCBudWxsLCAnUCddLAogICAgICBoZWFkZXI6IFsKICAgICAgICB0cnVlLAogICAgICAgIGFyZyA9PiB7CiAgICAgICAgICBjb25zdCBwb3MgPSBhcmcuc2VhcmNoKC86IC8pOwogICAgICAgICAgY29uc3QgbmFtZSA9IGFyZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJnLnN1YnN0cmluZyhwb3MgKyAyKTsKCiAgICAgICAgICBoZWFkZXJzLnB1c2goW25hbWUsIHZhbHVlXSk7CiAgICAgICAgfSwKICAgICAgICAnSCcKICAgICAgXSwKICAgICAgJ3NzbC1jZXJ0JzogW3RydWUsIG51bGxdLAogICAgICAnc3NsLXByaXZhdGUta2V5JzogW3RydWUsIG51bGxdLAogICAgICAnQCc6ICd1cmwsJwogICAgfSwKICAgIGFyZ3MKICApOwogIGNvbnN0IHsgJ3NzbC1jZXJ0Jzogc3NsQ2VydCA9ICdsb2NhbGhvc3QuY3J0JywgJ3NzbC1wcml2YXRlLWtleSc6IHNzbFByaXZhdGVLZXkgPSAnbG9jYWxob3N0LmtleScsIG1ldGhvZCB9ID0gcGFyYW1zOwogIC8vICBjb25zdCB1cmwgPSBwYXJhbXNbJ0AnXVswXSA/PyAnd3M6Ly8xMjcuMC4wLjE6ODk5OSc7CiAgY29uc3QgbGlzdGVuID0gcGFyYW1zLmNvbm5lY3QgJiYgIXBhcmFtcy5saXN0ZW4gPyBmYWxzZSA6IHRydWU7CiAgY29uc3Qgc2VydmVyID0gIXBhcmFtcy5jbGllbnQgfHwgcGFyYW1zLnNlcnZlcjsKICBjb25zdCB7IGJpbmFyeSwgcHJvdG9jb2wgfSA9IHBhcmFtczsKICBsZXQgdXJscyA9IHBhcmFtc1snQCddOwoKICBmdW5jdGlvbiBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkgewogICAgbGV0IHJlcGwsCiAgICAgIGlzX2RucywKICAgICAgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwoKICAgIG5ldC5zZXRMb2cobmV0LkxMTF9VU0VSIHwgKCgoZGVidWcgPyBuZXQuTExMX0lORk8gOiBuZXQuTExMX05PVElDRSkgPDwgMSkgLSAxKSwgKGxldmVsLCBtc2cpID0+IHsKICAgICAgbGV0IHAgPQogICAgICAgIFsnRVJSJywgJ1dBUk4nLCAnTk9USUNFJywgJ0lORk8nLCAnREVCVUcnLCAnUEFSU0VSJywgJ0hFQURFUicsICdFWFQnLCAnQ0xJRU5UJywgJ0xBVEVOQ1knLCAnTUlOTkVUJywgJ1RIUkVBRCddWwogICAgICAgICAgbGV2ZWwgJiYgTWF0aC5sb2cyKGxldmVsKQogICAgICAgIF0gPz8gbGV2ZWwgKyAnJzsKCiAgICAgIC8vY29uc29sZS5sb2coJ2xvZycsIHsgcCwgbGV2ZWwsbXNnIH0pOwoKICAgICAgaWYocCA9PSAnSU5GTycgfHwgL1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRHxcW211eHxfX2x3c3xcW3dzaWNsaXxsd3NfLy50ZXN0KG1zZykpIHJldHVybjsKICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xuL2csICdcXG4nKTsKCiAgICAgIGlmKHBhcmFtcy52ZXJib3NlID4gMSB8fCBwYXJhbXMuZGVidWcpIHN0ZC5wdXRzKHAucGFkRW5kKDgpICsgJ1x0JyArIG1zZyArICdcbicpOwogICAgfSk7CgogICAgaWYocGFyYW1zLnZlcmJvc2UpIGNvbnNvbGUubG9nKGBDb25uZWN0aW5nIHRvICcke3VybH0nLi4uYCk7CgogICAgY29uc3QgZm4gPSBbbmV0LmNsaWVudCwgbmV0LnNlcnZlcl1bK2xpc3Rlbl07CiAgICByZXR1cm4gZm4odXJsLCB7CiAgICAgIHNzbENlcnQsCiAgICAgIHNzbFByaXZhdGVLZXksCiAgICAgIG1ldGhvZCwKICAgICAgYmluYXJ5LAogICAgICBwcm90b2NvbCwKICAgICAgYmxvY2s6IGZhbHNlLAogICAgICBib2R5OiBmdW5jdGlvbiogKCkgewogICAgICAgIHlpZWxkICd7ICJ0ZXN0IjogMTIzNCB9JzsKICAgICAgfSwKICAgICAgaGVhZGVyczogewogICAgICAgICd1c2VyLWFnZW50JzogJ21pbm5ldCcsCiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMpCiAgICAgICAgLy9Db25uZWN0aW9uOiAna2VlcC1hbGl2ZScKICAgICAgICAvLyBSYW5nZTogJ2J5dGVzPTEwLScKICAgICAgICAvLyAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2JyIGd6aXAnLAogICAgICB9LAogICAgICAuLi5jYWxsYmFja3MsCiAgICAgIG9uQ29ubmVjdCh3cywgcmVxKSB7CiAgICAgICAgY29uc29sZS5sb2coJ29uQ29ubmVjdCcsIHsgd3MsIHJlcSB9KTsKICAgICAgICBjb25uZWN0aW9ucy5hZGQod3MpOwoKICAgICAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsgd3MsIHJlcSB9KTsKCiAgICAgICAgaWYocGFyYW1zLnZlcmJvc2UpIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgICAgICAgY29uc3QgcmVtb3RlID0gYCR7d3MuYWRkcmVzc306JHt3cy5wb3J0fWA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlcGwgPSBnbG9iYWxUaGlzLnJlcGwgPSBuZXcgQ0xJKHJlbW90ZSk7CiAgICAgICAgfSBjYXRjaChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICAgICAgfQogICAgICAgIHJlcGwucHJpbnRTdGF0dXMoYENvbm5lY3RlZCB0byAke3JlbW90ZX1gKTsKCiAgICAgICAgaWYocmVxKSB7CiAgICAgICAgICBjb25zdCB7IHVybCB9ID0gcmVxOwogICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgcG9ydCB9ID0gdXJsOwogICAgICAgICAgaWYoKGlzX2RucyA9IHByb3RvY29sID09ICd1ZHAnICYmIHBvcnQgPT0gNTMpKSB7CiAgICAgICAgICAgIHdzLmJpbmFyeSA9IHRydWU7CiAgICAgICAgICAgIHdzLnNlbmQoRE5TUXVlcnkoJ2xpYndlYnNvY2tldHMub3JnJykpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24sIGVycm9yKSB7CiAgICAgICAgaWYoZXJyb3IpIHsKICAgICAgICAgIHF1aXQoYENvbm5lY3Rpb24gZXJyb3I6ICR7cmVhc29ufWApOwogICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoYENvbm5lY3Rpb24gZXJyb3I6ICR7cmVhc29ufWApOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnb25DbG9zZScsIHsgd3MsIHN0YXR1cywgcmVhc29uLCBlcnJvciB9KTsKCiAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKHdzKTsKICAgICAgICBpZihyZXBsKSB7CiAgICAgICAgICByZXBsLnByaW50U3RhdHVzKGBDbG9zZWQgKCR7c3RhdHVzfSk6ICR7cmVhc29ufWApOwoKICAgICAgICAgIG9zLnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd3cycsIHdzKTsKICAgICAgICAgICAgcmVwbC5leGl0KHN0YXR1cyAhPSAxMDAwID8gMSA6IDApOwogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uSHR0cChyZXEsIHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZygnb25IdHRwJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiBmYWxzZSB9KSwgeyByZXEsIHJlc3AgfSk7CgogICAgICAgIGxldCB7IGhlYWRlcnMgfSA9IHJlc3A7CgogICAgICAgIC8vY29uc29sZS5sb2coJ3Jlc3BvbnNlLmhlYWRlcnMnLCBoZWFkZXJzWydjb250ZW50LXR5cGUnXSk7CgogICAgICAgIGxldCB0eXBlID0gKGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID8/ICd0ZXh0L2h0bWwnKS5yZXBsYWNlKC87LiovZywgJycpOwogICAgICAgIGxldCBleHRlbnNpb24gPSAnLicgKyB0eXBlLnJlcGxhY2UoLy4qXC8vZywgJycpOwoKICAgICAgICBsZXQgeyB1cmwgfSA9IHJlcTsKICAgICAgICBsZXQgeyBwYXRoIH0gPSB1cmw7CgogICAgICAgIGxldCBuYW1lID0gcGF0aC5yZXBsYWNlKC9cL1thLXpdXC8uKi9nLCAnJykucmVwbGFjZSgvLipcLy9nLCAnJyk7CgogICAgICAgIGlmKG5hbWUgPT0gJycpIG5hbWUgPSAnaW5kZXgnOwoKICAgICAgICBpZighbmFtZS5lbmRzV2l0aChleHRlbnNpb24pKSBuYW1lICs9IGV4dGVuc2lvbjsKCiAgICAgICAgbGV0IGJ1ZmZlciA9IHJlc3AuYm9keTsKICAgICAgICBsZXQgdGV4dCA9IHRvU3RyaW5nKGJ1ZmZlcik7CgogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcyk7CiAgICAgICAgLy9jb25zb2xlLmxvZygnYnVmZmVyJyxidWZmZXIpOwoKICAgICAgICBXcml0ZUZpbGUocGFyYW1zLm91dHB1dCA/PyBuYW1lID8/ICdvdXRwdXQuYmluJywgYnVmZmVyKTsKCiAgICAgICAgbGV0IG5leHQgPSB1cmxzLmxlbmd0aCAmJiB1cmxzLnNoaWZ0KCk7CgogICAgICAgIGlmKG5leHQpIHsKICAgICAgICAgIHJlcSA9IG5ldyBSZXF1ZXN0KG5leHQpOwoKICAgICAgICAgIHJldHVybiByZXE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKCdkb25lJyk7CiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbkZkKGZkLCByZCwgd3IpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCdvbkZkJywgZmQsIHJkLCB3cik7CiAgICAgICAgb3Muc2V0UmVhZEhhbmRsZXIoZmQsIHJkKTsKICAgICAgICBvcy5zZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICAgICAgfSwKICAgICAgb25NZXNzYWdlKHdzLCBtc2cpIHsKICAgICAgICBjb25zb2xlLmxvZygnb25NZXNzYWdlJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiAxIH0pLCB7IHdzLCBtc2cgfSk7CiAgICAgICAgaWYodHlwZW9mIG1zZyA9PSAnc3RyaW5nJykgewogICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xuL2csICdcXG4nKS5yZXBsYWNlKC9cci9nLCAnXFxyJyk7CiAgICAgICAgICBtc2cgPSBtc2cuc3Vic3RyaW5nKDAsIDEwMCk7CiAgICAgICAgfQogICAgICAgIGlmKGlzX2RucykgewogICAgICAgICAgbGV0IHJlc3BvbnNlID0gRE5TUmVzcG9uc2UobXNnKTsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHsgd3MsIHJlc3BvbnNlIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdvbk1lc3NhZ2UnLCB7IHdzLCBtc2cgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbkVycm9yKHdzLCBlcnJvcikgewogICAgICAgIC8vY29uc29sZS5sb2coJ29uRXJyb3InLCB3cywgZXJyb3IpOwogICAgICB9CiAgICB9KTsKICB9CiAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7CiAgICBnZXQgY29ubmVjdGlvbnMoKSB7CiAgICAgIHJldHVybiBbLi4uY29ubmVjdGlvbnNdOwogICAgfQogIH0pOwoKICB0cnkgewogICAgYXdhaXQgY3JlYXRlV1ModXJscy5zaGlmdCgpLCB7fSkKICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdGSU5JU0hFRCcpOwogICAgICAgIHF1aXQoJ0ZJTklTSEVEJyk7CiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQnLCBlcnIpOwogICAgICB9KTsKICB9IGNhdGNoKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZygnRVJST1I6ICcrZXJyb3IubWVzc2FnZSk7CiAgICBxdWl0KCdFUlJPUjogJytlcnJvci5tZXNzYWdlKTsKICB9CgogIGZ1bmN0aW9uIHF1aXQod2h5KSB7CiAgICBpZih3aHkpIHN0ZC5lcnIucHV0cyh3aHkgKyAnXG4nKTsKCiAgICBpZihyZXBsKSByZXBsLmNsZWFudXAod2h5KTsKICAgIHN0ZC5leGl0KDApOwogIH0KfQoKZnVuY3Rpb24gR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykgewogIGxldCBzLCBsOwogIGxldCByID0ge307CiAgbGV0IHBvc2l0aW9uYWwgPSAoclsnQCddID0gW10pOwogIGlmKCEob3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSkgb3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpOwogIGNvbnN0IGZpbmRPcHQgPSBhID0+CiAgICBvcHRpb25zLmZpbmQoKFtvcHRuYW1lLCBvcHRpb25dKSA9PiAoQXJyYXkuaXNBcnJheShvcHRpb24pID8gb3B0aW9uLmluZGV4T2YoYSkgIT0gLTEgOiBmYWxzZSkgfHwgYSA9PSBvcHRuYW1lKTsKICBsZXQgWywgcGFyYW1zXSA9IG9wdGlvbnMuZmluZChvID0+IG9bMF0gPT0gJ0AnKSB8fCBbXTsKICBpZih0eXBlb2YgcGFyYW1zID09ICdzdHJpbmcnKSBwYXJhbXMgPSBwYXJhbXMuc3BsaXQoJywnKTsKICBmb3IobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgYSA9IGFyZ3NbaV07CiAgICBsZXQgbzsKICAgIGlmKGFbMF0gPT0gJy0nKSB7CiAgICAgIGxldCBuLCB2LCB4LCB5OwogICAgICBpZihhWzFdID09ICctJykgbCA9IHRydWU7CiAgICAgIGVsc2UgcyA9IHRydWU7CiAgICAgIHggPSBzID8gMSA6IDI7CiAgICAgIGlmKHMpIHkgPSAyOwogICAgICBlbHNlIGlmKCh5ID0gYS5pbmRleE9mKCc9JykpID09IC0xKSB5ID0gYS5sZW5ndGg7CiAgICAgIG4gPSBhLnN1YnN0cmluZyh4LCB5KTsKICAgICAgaWYoKG8gPSBmaW5kT3B0KG4pKSkgewogICAgICAgIGNvbnN0IFtoYXNfYXJnLCBoYW5kbGVyXSA9IG9bMV07CiAgICAgICAgaWYoaGFzX2FyZykgewogICAgICAgICAgaWYoYS5sZW5ndGggPiB5KSB2ID0gYS5zdWJzdHJpbmcoeSArIChhW3ldID09ICc9JykpOwogICAgICAgICAgZWxzZSB2ID0gYXJnc1srK2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGhhbmRsZXIodiwgcltvWzBdXSwgb3B0aW9ucywgcik7CiAgICAgICAgfSBjYXRjaChlcnIpIHt9CiAgICAgICAgcltvWzBdXSA9IHY7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KICAgIGlmKHBhcmFtcy5sZW5ndGgpIHsKICAgICAgY29uc3QgcCA9IHBhcmFtcy5zaGlmdCgpOwogICAgICBpZigobyA9IGZpbmRPcHQocCkpKSB7CiAgICAgICAgY29uc3QgWywgWywgaGFuZGxlcl1dID0gbzsKICAgICAgICBsZXQgdiA9IGE7CiAgICAgICAgaWYodHlwZW9mIGhhbmRsZXIgPT0gJ2Z1bmN0aW9uJykKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHYgPSBoYW5kbGVyKHYsIHJbb1swXV0sIG9wdGlvbnMsIHIpOwogICAgICAgICAgfSBjYXRjaChlcnIpIHt9CiAgICAgICAgY29uc3QgbiA9IG9bMF07CiAgICAgICAgcltvWzBdXSA9IHY7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KICAgIHJbJ0AnXSA9IFsuLi4oclsnQCddID8/IFtdKSwgYV07CiAgfQogIHJldHVybiByOwp9Cgp0cnkgewogIG1haW4oLi4uc2NyaXB0QXJncy5zbGljZSgxKSk7Cn0gY2F0Y2goZXJyb3IpIHsKICBjb25zb2xlLmxvZyhgRkFJTDogJHtlcnJvciAmJiBlcnJvci5tZXNzYWdlfVxuJHtlcnJvciAmJiBlcnJvci5zdGFja31gKTsKICBzdGQuZXhpdCgxKTsKfSBmaW5hbGx5IHsKICAvL2NvbnNvbGUubG9nKCdTVUNDRVNTJyk7Cn0KAAAAAAAAAAD1LgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADZJwAAAAAAANknAAAAAAAAAAAAAAAA8L8"
				],
				[
					219,
					1,
					"right_delete",
					null,
					"AQAAAJwnAAAAAAAAnCcAAAAAAAAsAAAAICAgIGNvbnNvbGUubG9nKCdFUlJPUjogJyArIGVycm9yLm1lc3NhZ2UpOwo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcJwAAAAAAAMgnAAAAAAAAAAAAAAAAAAA"
				],
				[
					254,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AgAAADQRAAAAAAAANREAAAAAAAAAAAAANREAAAAAAAA1EQAAAAAAAAEAAAAw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA0EQAAAAAAADURAAAAAAAAAAAAAAAA8L8"
				],
				[
					279,
					1,
					"left_delete",
					null,
					"AQAAAAEnAAAAAAAAAScAAAAAAAAhAAAAICAgICAgICBjb25zb2xlLmxvZygnRklOSVNIRUQnKTsK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAABJwAAAAAAACInAAAAAAAAAAAAAAAA8L8"
				],
				[
					312,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACpLgAAIyEvdXNyL2Jpbi9lbnYgcWpzbQppbXBvcnQgKiBhcyBzdGQgZnJvbSAnc3RkJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwppbXBvcnQgUkVQTCBmcm9tICdyZXBsJzsKaW1wb3J0IGluc3BlY3QgZnJvbSAnaW5zcGVjdCc7CmltcG9ydCBuZXQsIHsgVVJMLCBSZXF1ZXN0IH0gZnJvbSAnbmV0JzsKaW1wb3J0IHsgQ29uc29sZSwgQ29uc29sZU9wdGlvbnMgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgcXVvdGUsIHRvU3RyaW5nLCB0b0FycmF5QnVmZmVyIH0gZnJvbSAndXRpbCc7Cgpjb25zdCBjb25uZWN0aW9ucyA9IG5ldyBTZXQoKTsKbGV0IGRlYnVnID0gMCwKICBwYXJhbXMsCiAgcmVwbDsKCmZ1bmN0aW9uIE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGNvbW1hbmRNb2RlID0gZmFsc2UpIHsKICByZXR1cm4gYFx4MWJbMzg7NTs0MG0ke3ByZWZpeH0gXHgxYlszODs1OzMzbSR7c3VmZml4fVx4MWJbMG0gJHtjb21tYW5kTW9kZSA/ICdDT01NQU5EJyA6ICdEQVRBJ30gPiBgOwp9CgpmdW5jdGlvbiBGcm9tRG9tYWluKGJ1ZmZlcikgewogIGxldCBzID0gJycsCiAgICBpID0gMCwKICAgIHU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICBmb3IoOzspIHsKICAgIGxldCBsZW4gPSB1OFtpKytdOwogICAgaWYobGVuID09IDApIHJldHVybiBzOwogICAgaWYocyAhPSAnJykgcyArPSAnLic7CiAgICB3aGlsZShsZW4tLSkgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHU4W2krK10pOwogIH0KfQoKZnVuY3Rpb24gV3JpdGVGaWxlKGZpbGVuYW1lLCBidWZmZXIpIHsKICBsZXQgZmQ7CiAgaWYodHlwZW9mIGJ1ZmZlciA9PSAnc3RyaW5nJykgYnVmZmVyID0gdG9BcnJheUJ1ZmZlcihidWZmZXIpOwoKICBpZigoZmQgPSBvcy5vcGVuKGZpbGVuYW1lLCBvcy5PX1dST05MWSB8IG9zLk9fQ1JFQVQgfCBvcy5PX1RSVU5DLCAwbzY0NCkpICE9IC0xKSB7CiAgICBsZXQgciA9IG9zLndyaXRlKGZkLCBidWZmZXIsIDAsIGJ1ZmZlci5ieXRlTGVuZ3RoKTsKICAgIG9zLmNsb3NlKGZkKTsKICAgIGlmKHIgPj0gMCkgY29uc29sZS5sb2coYFdyb3RlICcke2ZpbGVuYW1lfScuYCk7CiAgICBlbHNlIGNvbnNvbGUubG9nKGBFcnJvciB3cml0aW5nICcke2ZpbGVuYW1lfSc6ICR7c3RkLnN0cmVycm9yKHV0aWwuZXJyb3IoKS5lcnJubyl9YCk7CiAgICByZXR1cm4gcjsKICB9Cn0KCmZ1bmN0aW9uIFRvRG9tYWluKHN0ciwgYWxwaGEgPSBmYWxzZSkgewogIHJldHVybiBzdHIKICAgIC5zcGxpdCgnLicpCiAgICAucmVkdWNlKAogICAgICBhbHBoYQogICAgICAgID8gKGEsIHMpID0+IGEgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHMubGVuZ3RoKSArIHMKICAgICAgICA6IChhLCBzKSA9PiBhLmNvbmNhdChbcy5sZW5ndGgsIC4uLnMuc3BsaXQoJycpLm1hcChjaCA9PiBjaC5jaGFyQ29kZUF0KDApKV0pLAogICAgICBhbHBoYSA/ICcnIDogW10KICAgICk7Cn0KCmZ1bmN0aW9uIEROU1F1ZXJ5KGRvbWFpbikgewogIGxldCB0eXBlID0gMHgwMTsKICBpZigvXihbMC05XStcLj8pezR9JC8udGVzdChkb21haW4pKSB7CiAgICBkb21haW4gPSBkb21haW4uc3BsaXQoJy4nKS5yZXZlcnNlKCkuam9pbignLicpICsgJy5pbi1hZGRyLmFycGEnOwogICAgdHlwZSA9IDB4MGM7CiAgfQogIC8vY29uc29sZS5sb2coJ0ROU1F1ZXJ5JywgZG9tYWluKTsKICBsZXQgb3V0QnVmID0gbmV3IFVpbnQ4QXJyYXkoWwogICAgMHhmZiwKICAgIDB4ZmYsCiAgICAweDAxLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAxLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAwLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAwLAogICAgLi4uVG9Eb21haW4oZG9tYWluKSwKICAgIDB4MDAsCiAgICAweDAwLAogICAgdHlwZSwKICAgIDB4MDAsCiAgICAweDAxCiAgXSkuYnVmZmVyOwogIG5ldyBEYXRhVmlldyhvdXRCdWYpLnNldFVpbnQxNigwLCBvdXRCdWYuYnl0ZUxlbmd0aCAtIDIsIGZhbHNlKTsKICAvL2NvbnNvbGUubG9nKCdETlNRdWVyeScsIG91dEJ1Zik7CiAgcmV0dXJuIG91dEJ1ZjsKfQoKZnVuY3Rpb24gRE5TUmVzcG9uc2UoYnVmZmVyKSB7CiAgbGV0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICBsZXQgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgMCwgMTIpOwogIGxldCBvZnMgPSAyICsgaGVhZGVyLmdldFVpbnQxNigwLCBmYWxzZSk7CiAgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgb2ZzLCAxMik7CiAgbGV0IHR5cGUgPSBoZWFkZXIuZ2V0VWludDE2KDIsIGZhbHNlKTsKICBvZnMgKz0gMTI7CiAgbGV0IGFkZHI7CiAgaWYodHlwZSA9PSAweDBjKSBhZGRyID0gRnJvbURvbWFpbihidWZmZXIuc2xpY2Uob2ZzKSk7CiAgZWxzZSBhZGRyID0gdTguc2xpY2UoLTQpLmpvaW4oJy4nKTsKICByZXR1cm4gYWRkcjsKfQoKY2xhc3MgQ0xJIGV4dGVuZHMgUkVQTCB7CiAgY29uc3RydWN0b3IocHJvbXB0MikgewogICAgLy9jb25zb2xlLmxvZygncHJvY2Vzcy5hcmd2JywgcHJvY2Vzcy5hcmd2KTsKICAgIGxldCBuYW1lID0gcHJvY2Vzcy5hcmd2WzFdOwogICAgbmFtZSA9IG5hbWUKICAgICAgLnJlcGxhY2UoLy4qXC8vLCAnJykKICAgICAgLnJlcGxhY2UoLy0vZywgJyAnKQogICAgICAucmVwbGFjZSgvXC5bXlwvLl0qJC8sICcnKTsKICAgIGxldCBbcHJlZml4LCBzdWZmaXhdID0gW25hbWUsIHByb21wdDJdOwogICAgbGV0IHByb21wdCA9IE1ha2VQcm9tcHQocHJlZml4LCBzdWZmaXgsIGZhbHNlKS5zbGljZSgwLCAtMik7CiAgICBzdXBlcihwcm9tcHQsIGZhbHNlKTsKCiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHsgcHJlZml4LCBzdWZmaXggfSk7CgogICAgdGhpcy5oaXN0b3J5TG9hZChudWxsLCBmYWxzZSk7CgogICAgdGhpcy5hZGRDbGVhbnVwSGFuZGxlcigoKSA9PiB7CiAgICAgIHRoaXMucmVhZGxpbmVSZW1vdmVQcm9tcHQoKTsKICAgICAgdGhpcy5wcmludFN0YXR1cyhgRVhJVGAsIGZhbHNlKTsKICAgICAgc3RkLmV4aXQoMCk7CiAgICB9KTsKICAgIGxldCBvcmlnX2xvZyA9IGNvbnNvbGUubG9nOwogICAgbGV0IGxvZyA9IHRoaXMucHJpbnRGdW5jdGlvbigoLi4uYXJncykgPT4gb3JpZ19sb2coLi4uYXJncykpOwogICAgY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4gewogICAgICBsZXQgb3B0cyA9IGNvbnNvbGUuY29uZmlnKGNvbnNvbGUub3B0aW9ucyk7CiAgICAgIHRoaXMucHJpbnRTdGF0dXMoCiAgICAgICAgYXJncy5yZWR1Y2UoKGFjYywgYXJnKSA9PiB7CiAgICAgICAgICBpZihhcmcgaW5zdGFuY2VvZiBDb25zb2xlT3B0aW9ucykgb3B0cyA9IG9wdHMubWVyZ2UoYXJnKTsKICAgICAgICAgIGVsc2UgYWNjID0gKGFjYyAhPSAnJyA/IGFjYyArICcgJyA6ICcnKSArIGluc3BlY3QoYXJnLCBvcHRzKTsKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfSwgJycpCiAgICAgICk7CiAgICB9OwogICAgdGhpcy5jb21tYW5kTW9kZSA9IGZhbHNlOwogICAgdGhpcy5jb21tYW5kc1snXHgxYiddID8/PSB0aGlzLmVzY2FwZTsKICAgIC8vdGhpcy5jb21tYW5kc1snXHgxMSddID0gdGhpcy5lc2NhcGU7CiAgICB0aGlzLmNvbW1hbmRzWyfCpyddID0gdGhpcy5lc2NhcGU7CiAgICB0aGlzLnJ1blN5bmMoKTsKICB9CgogIGhlbHAoKSB7fQoKICBzaG93KGFyZykgewogICAgc3RkLnB1dHMoKHR5cGVvZiBhcmcgPT0gJ3N0cmluZycgPyBhcmcgOiBpbnNwZWN0KGFyZywgZ2xvYmFsVGhpcy5jb25zb2xlLm9wdGlvbnMpKSArICdcbicpOwogIH0KCiAgZXNjYXBlKCkgewogICAgdGhpcy5jb21tYW5kTW9kZSA9ICF0aGlzLmNvbW1hbmRNb2RlOwogICAgdGhpcy5yZWFkbGluZVJlbW92ZVByb21wdCgpOwogICAgdGhpcy5wcm9tcHQgPSB0aGlzLnBzMSA9IE1ha2VQcm9tcHQodGhpcy5wcmVmaXgsIHRoaXMuc3VmZml4LCB0aGlzLmNvbW1hbmRNb2RlKTsKICAgIHRoaXMucmVhZGxpbmVQcmludFByb21wdCgpOwogIH0KCiAgaGFuZGxlQ21kKGRhdGEpIHsKICAgIGlmKHRoaXMuY29tbWFuZE1vZGUpIHJldHVybiBzdXBlci5oYW5kbGVDbWQoZGF0YSk7CgogICAgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgIHRoaXMucHJpbnRTdGF0dXMoYFNlbmRpbmcgJyR7ZGF0YX0nYCwgZmFsc2UpOwogICAgICBmb3IobGV0IGNvbm5lY3Rpb24gb2YgY29ubmVjdGlvbnMpIGNvbm5lY3Rpb24uc2VuZChkYXRhKTsKICAgIH0KICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIG1haW4oLi4uYXJncykgewogIGNvbnN0IGJhc2UgPSBzY3JpcHRBcmdzWzBdLnJlcGxhY2UoLy4qXC8vZywgJycpLnJlcGxhY2UoL1wuW2Etel0qJC8sICcnKTsKICBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7CiAgICBpbnNwZWN0T3B0aW9uczogewogICAgICBkZXB0aDogSW5maW5pdHksCiAgICAgIGNvbXBhY3Q6IDEsCiAgICAgIGN1c3RvbUluc3BlY3Q6IHRydWUKICAgIH0KICB9KTsKICBsZXQgaGVhZGVycyA9IFtdOwogIHBhcmFtcyA9IEdldE9wdCgKICAgIHsKICAgICAgdmVyYm9zZTogW2ZhbHNlLCAoYSwgdikgPT4gKHYgfCAwKSArIDEsICd2J10sCiAgICAgIGxpc3RlbjogW2ZhbHNlLCBudWxsLCAnbCddLAogICAgICBiaW5hcnk6IFtmYWxzZSwgbnVsbCwgJ2InXSwKICAgICAgY29ubmVjdDogW2ZhbHNlLCBudWxsLCAnYyddLAogICAgICBjbGllbnQ6IFtmYWxzZSwgbnVsbCwgJ0MnXSwKICAgICAgc2VydmVyOiBbZmFsc2UsIG51bGwsICdTJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsICgpID0+ICsrZGVidWcsICd4J10sCiAgICAgIGFkZHJlc3M6IFt0cnVlLCBudWxsLCAnYSddLAogICAgICBwb3J0OiBbdHJ1ZSwgbnVsbCwgJ3AnXSwKICAgICAgbWV0aG9kOiBbdHJ1ZSwgbnVsbCwgJ20nXSwKICAgICAgb3V0cHV0OiBbdHJ1ZSwgbnVsbCwgJ28nXSwKICAgICAgcHJvdG9jb2w6IFt0cnVlLCBudWxsLCAnUCddLAogICAgICBoZWFkZXI6IFsKICAgICAgICB0cnVlLAogICAgICAgIGFyZyA9PiB7CiAgICAgICAgICBjb25zdCBwb3MgPSBhcmcuc2VhcmNoKC86IC8pOwogICAgICAgICAgY29uc3QgbmFtZSA9IGFyZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJnLnN1YnN0cmluZyhwb3MgKyAyKTsKCiAgICAgICAgICBoZWFkZXJzLnB1c2goW25hbWUsIHZhbHVlXSk7CiAgICAgICAgfSwKICAgICAgICAnSCcKICAgICAgXSwKICAgICAgJ3NzbC1jZXJ0JzogW3RydWUsIG51bGxdLAogICAgICAnc3NsLXByaXZhdGUta2V5JzogW3RydWUsIG51bGxdLAogICAgICAnQCc6ICd1cmwsJwogICAgfSwKICAgIGFyZ3MKICApOwogIGNvbnN0IHsgJ3NzbC1jZXJ0Jzogc3NsQ2VydCA9ICdsb2NhbGhvc3QuY3J0JywgJ3NzbC1wcml2YXRlLWtleSc6IHNzbFByaXZhdGVLZXkgPSAnbG9jYWxob3N0LmtleScsIG1ldGhvZCB9ID0gcGFyYW1zOwogIC8vICBjb25zdCB1cmwgPSBwYXJhbXNbJ0AnXVswXSA/PyAnd3M6Ly8xMjcuMC4wLjE6ODk5OSc7CiAgY29uc3QgbGlzdGVuID0gcGFyYW1zLmNvbm5lY3QgJiYgIXBhcmFtcy5saXN0ZW4gPyBmYWxzZSA6IHRydWU7CiAgY29uc3Qgc2VydmVyID0gIXBhcmFtcy5jbGllbnQgfHwgcGFyYW1zLnNlcnZlcjsKICBjb25zdCB7IGJpbmFyeSwgcHJvdG9jb2wgfSA9IHBhcmFtczsKICBsZXQgdXJscyA9IHBhcmFtc1snQCddOwoKICBmdW5jdGlvbiBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkgewogICAgbGV0IHJlcGwsCiAgICAgIGlzX2RucywKICAgICAgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwoKICAgIG5ldC5zZXRMb2cobmV0LkxMTF9VU0VSIHwgKCgoZGVidWcgPyBuZXQuTExMX0lORk8gOiBuZXQuTExMX05PVElDRSkgPDwgMSkgLSAxKSwgKGxldmVsLCBtc2cpID0+IHsKICAgICAgbGV0IHAgPQogICAgICAgIFsnRVJSJywgJ1dBUk4nLCAnTk9USUNFJywgJ0lORk8nLCAnREVCVUcnLCAnUEFSU0VSJywgJ0hFQURFUicsICdFWFQnLCAnQ0xJRU5UJywgJ0xBVEVOQ1knLCAnTUlOTkVUJywgJ1RIUkVBRCddWwogICAgICAgICAgbGV2ZWwgJiYgTWF0aC5sb2cyKGxldmVsKQogICAgICAgIF0gPz8gbGV2ZWwgKyAnJzsKCiAgICAgIC8vY29uc29sZS5sb2coJ2xvZycsIHsgcCwgbGV2ZWwsbXNnIH0pOwoKICAgICAgaWYocCA9PSAnSU5GTycgfHwgL1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRHxcW211eHxfX2x3c3xcW3dzaWNsaXxsd3NfLy50ZXN0KG1zZykpIHJldHVybjsKICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xuL2csICdcXG4nKTsKCiAgICAgIGlmKHBhcmFtcy52ZXJib3NlID4gMSB8fCBwYXJhbXMuZGVidWcpIHN0ZC5wdXRzKHAucGFkRW5kKDgpICsgJ1x0JyArIG1zZyArICdcbicpOwogICAgfSk7CgogICAgaWYocGFyYW1zLnZlcmJvc2UpIGNvbnNvbGUubG9nKGBDb25uZWN0aW5nIHRvICcke3VybH0nLi4uYCk7CgogICAgY29uc3QgZm4gPSBbbmV0LmNsaWVudCwgbmV0LnNlcnZlcl1bK2xpc3Rlbl07CiAgICByZXR1cm4gZm4odXJsLCB7CiAgICAgIHNzbENlcnQsCiAgICAgIHNzbFByaXZhdGVLZXksCiAgICAgIG1ldGhvZCwKICAgICAgYmluYXJ5LAogICAgICBwcm90b2NvbCwKICAgICAgYmxvY2s6IGZhbHNlLAogICAgICBib2R5OiBmdW5jdGlvbiogKCkgewogICAgICAgIHlpZWxkICd7ICJ0ZXN0IjogMTIzNCB9JzsKICAgICAgfSwKICAgICAgaGVhZGVyczogewogICAgICAgICd1c2VyLWFnZW50JzogJ21pbm5ldCcsCiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMpCiAgICAgICAgLy9Db25uZWN0aW9uOiAna2VlcC1hbGl2ZScKICAgICAgICAvLyBSYW5nZTogJ2J5dGVzPTEwLScKICAgICAgICAvLyAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2JyIGd6aXAnLAogICAgICB9LAogICAgICAuLi5jYWxsYmFja3MsCiAgICAgIG9uQ29ubmVjdCh3cywgcmVxKSB7CiAgICAgICAgY29uc29sZS5sb2coJ29uQ29ubmVjdCcsIHsgd3MsIHJlcSB9KTsKICAgICAgICBjb25uZWN0aW9ucy5hZGQod3MpOwoKICAgICAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsgd3MsIHJlcSB9KTsKCiAgICAgICAgaWYocGFyYW1zLnZlcmJvc2UpIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgICAgICAgY29uc3QgcmVtb3RlID0gYCR7d3MuYWRkcmVzc306JHt3cy5wb3J0fWA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlcGwgPSBnbG9iYWxUaGlzLnJlcGwgPSBuZXcgQ0xJKHJlbW90ZSk7CiAgICAgICAgfSBjYXRjaChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICAgICAgfQogICAgICAgIHJlcGwucHJpbnRTdGF0dXMoYENvbm5lY3RlZCB0byAke3JlbW90ZX1gKTsKCiAgICAgICAgaWYocmVxKSB7CiAgICAgICAgICBjb25zdCB7IHVybCB9ID0gcmVxOwogICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgcG9ydCB9ID0gdXJsOwogICAgICAgICAgaWYoKGlzX2RucyA9IHByb3RvY29sID09ICd1ZHAnICYmIHBvcnQgPT0gNTMpKSB7CiAgICAgICAgICAgIHdzLmJpbmFyeSA9IHRydWU7CiAgICAgICAgICAgIHdzLnNlbmQoRE5TUXVlcnkoJ2xpYndlYnNvY2tldHMub3JnJykpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24sIGVycm9yKSB7CiAgICAgICAgaWYoZXJyb3IpIHsKICAgICAgICAgIHF1aXQoYENvbm5lY3Rpb24gZXJyb3I6ICR7cmVhc29ufWApOwogICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoYENvbm5lY3Rpb24gZXJyb3I6ICR7cmVhc29ufWApOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnb25DbG9zZScsIHsgd3MsIHN0YXR1cywgcmVhc29uLCBlcnJvciB9KTsKCiAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKHdzKTsKICAgICAgICBpZihyZXBsKSB7CiAgICAgICAgICByZXBsLnByaW50U3RhdHVzKGBDbG9zZWQgKCR7c3RhdHVzfSk6ICR7cmVhc29ufWApOwoKICAgICAgICAgIG9zLnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd3cycsIHdzKTsKICAgICAgICAgICAgcmVwbC5leGl0KHN0YXR1cyAhPSAxMDAwID8gMSA6IDApOwogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uSHR0cChyZXEsIHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZygnb25IdHRwJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiBmYWxzZSB9KSwgeyByZXEsIHJlc3AgfSk7CgogICAgICAgIGxldCB7IGhlYWRlcnMgfSA9IHJlc3A7CgogICAgICAgIC8vY29uc29sZS5sb2coJ3Jlc3BvbnNlLmhlYWRlcnMnLCBoZWFkZXJzWydjb250ZW50LXR5cGUnXSk7CgogICAgICAgIGxldCB0eXBlID0gKGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID8/ICd0ZXh0L2h0bWwnKS5yZXBsYWNlKC87LiovZywgJycpOwogICAgICAgIGxldCBleHRlbnNpb24gPSAnLicgKyB0eXBlLnJlcGxhY2UoLy4qXC8vZywgJycpOwoKICAgICAgICBsZXQgeyB1cmwgfSA9IHJlcTsKICAgICAgICBsZXQgeyBwYXRoIH0gPSB1cmw7CgogICAgICAgIGxldCBuYW1lID0gcGF0aC5yZXBsYWNlKC9cL1thLXpdXC8uKi9nLCAnJykucmVwbGFjZSgvLipcLy9nLCAnJyk7CgogICAgICAgIGlmKG5hbWUgPT0gJycpIG5hbWUgPSAnaW5kZXgnOwoKICAgICAgICBpZighbmFtZS5lbmRzV2l0aChleHRlbnNpb24pKSBuYW1lICs9IGV4dGVuc2lvbjsKCiAgICAgICAgbGV0IGJ1ZmZlciA9IHJlc3AuYm9keTsKICAgICAgICBsZXQgdGV4dCA9IHRvU3RyaW5nKGJ1ZmZlcik7CgogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcyk7CiAgICAgICAgLy9jb25zb2xlLmxvZygnYnVmZmVyJyxidWZmZXIpOwoKICAgICAgICBXcml0ZUZpbGUocGFyYW1zLm91dHB1dCA/PyBuYW1lID8/ICdvdXRwdXQuYmluJywgYnVmZmVyKTsKCiAgICAgICAgbGV0IG5leHQgPSB1cmxzLmxlbmd0aCAmJiB1cmxzLnNoaWZ0KCk7CgogICAgICAgIGlmKG5leHQpIHsKICAgICAgICAgIHJlcSA9IG5ldyBSZXF1ZXN0KG5leHQpOwoKICAgICAgICAgIHJldHVybiByZXE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKCdkb25lJyk7CiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbkZkKGZkLCByZCwgd3IpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCdvbkZkJywgZmQsIHJkLCB3cik7CiAgICAgICAgb3Muc2V0UmVhZEhhbmRsZXIoZmQsIHJkKTsKICAgICAgICBvcy5zZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICAgICAgfSwKICAgICAgb25NZXNzYWdlKHdzLCBtc2cpIHsKICAgICAgICBjb25zb2xlLmxvZygnb25NZXNzYWdlJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiAxIH0pLCB7IHdzLCBtc2cgfSk7CiAgICAgICAgaWYodHlwZW9mIG1zZyA9PSAnc3RyaW5nJykgewogICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xuL2csICdcXG4nKS5yZXBsYWNlKC9cci9nLCAnXFxyJyk7CiAgICAgICAgICBtc2cgPSBtc2cuc3Vic3RyaW5nKDAsIDEwMCk7CiAgICAgICAgfQogICAgICAgIGlmKGlzX2RucykgewogICAgICAgICAgbGV0IHJlc3BvbnNlID0gRE5TUmVzcG9uc2UobXNnKTsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHsgd3MsIHJlc3BvbnNlIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdvbk1lc3NhZ2UnLCB7IHdzLCBtc2cgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbkVycm9yKHdzLCBlcnJvcikgewogICAgICAgIC8vY29uc29sZS5sb2coJ29uRXJyb3InLCB3cywgZXJyb3IpOwogICAgICB9CiAgICB9KTsKICB9CiAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7CiAgICBnZXQgY29ubmVjdGlvbnMoKSB7CiAgICAgIHJldHVybiBbLi4uY29ubmVjdGlvbnNdOwogICAgfQogIH0pOwoKICB0cnkgewogICAgYXdhaXQgY3JlYXRlV1ModXJscy5zaGlmdCgpLCB7fSkKICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgIHF1aXQoJ0ZJTklTSEVEJyk7CiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQnLCBlcnIpOwogICAgICB9KTsKICB9IGNhdGNoKGVycm9yKSB7CiAgICBxdWl0KCdFUlJPUjogJyArIGVycm9yLm1lc3NhZ2UpOwogIH0KCiAgZnVuY3Rpb24gcXVpdCh3aHkpIHsKICAgIGlmKHdoeSkgc3RkLmVyci5wdXRzKHdoeSArICdcbicpOwoKICAgIGlmKHJlcGwpIHJlcGwuY2xlYW51cCh3aHkpOwogICAgc3RkLmV4aXQoMCk7CiAgfQp9CgpmdW5jdGlvbiBHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKSB7CiAgbGV0IHMsIGw7CiAgbGV0IHIgPSB7fTsKICBsZXQgcG9zaXRpb25hbCA9IChyWydAJ10gPSBbXSk7CiAgaWYoIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSBvcHRpb25zID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucyk7CiAgY29uc3QgZmluZE9wdCA9IGEgPT4KICAgIG9wdGlvbnMuZmluZCgoW29wdG5hbWUsIG9wdGlvbl0pID0+IChBcnJheS5pc0FycmF5KG9wdGlvbikgPyBvcHRpb24uaW5kZXhPZihhKSAhPSAtMSA6IGZhbHNlKSB8fCBhID09IG9wdG5hbWUpOwogIGxldCBbLCBwYXJhbXNdID0gb3B0aW9ucy5maW5kKG8gPT4gb1swXSA9PSAnQCcpIHx8IFtdOwogIGlmKHR5cGVvZiBwYXJhbXMgPT0gJ3N0cmluZycpIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnLCcpOwogIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBhID0gYXJnc1tpXTsKICAgIGxldCBvOwogICAgaWYoYVswXSA9PSAnLScpIHsKICAgICAgbGV0IG4sIHYsIHgsIHk7CiAgICAgIGlmKGFbMV0gPT0gJy0nKSBsID0gdHJ1ZTsKICAgICAgZWxzZSBzID0gdHJ1ZTsKICAgICAgeCA9IHMgPyAxIDogMjsKICAgICAgaWYocykgeSA9IDI7CiAgICAgIGVsc2UgaWYoKHkgPSBhLmluZGV4T2YoJz0nKSkgPT0gLTEpIHkgPSBhLmxlbmd0aDsKICAgICAgbiA9IGEuc3Vic3RyaW5nKHgsIHkpOwogICAgICBpZigobyA9IGZpbmRPcHQobikpKSB7CiAgICAgICAgY29uc3QgW2hhc19hcmcsIGhhbmRsZXJdID0gb1sxXTsKICAgICAgICBpZihoYXNfYXJnKSB7CiAgICAgICAgICBpZihhLmxlbmd0aCA+IHkpIHYgPSBhLnN1YnN0cmluZyh5ICsgKGFbeV0gPT0gJz0nKSk7CiAgICAgICAgICBlbHNlIHYgPSBhcmdzWysraV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHYgPSB0cnVlOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgaGFuZGxlcih2LCByW29bMF1dLCBvcHRpb25zLCByKTsKICAgICAgICB9IGNhdGNoKGVycikge30KICAgICAgICByW29bMF1dID0gdjsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgfQogICAgaWYocGFyYW1zLmxlbmd0aCkgewogICAgICBjb25zdCBwID0gcGFyYW1zLnNoaWZ0KCk7CiAgICAgIGlmKChvID0gZmluZE9wdChwKSkpIHsKICAgICAgICBjb25zdCBbLCBbLCBoYW5kbGVyXV0gPSBvOwogICAgICAgIGxldCB2ID0gYTsKICAgICAgICBpZih0eXBlb2YgaGFuZGxlciA9PSAnZnVuY3Rpb24nKQogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdiA9IGhhbmRsZXIodiwgcltvWzBdXSwgb3B0aW9ucywgcik7CiAgICAgICAgICB9IGNhdGNoKGVycikge30KICAgICAgICBjb25zdCBuID0gb1swXTsKICAgICAgICByW29bMF1dID0gdjsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgfQogICAgclsnQCddID0gWy4uLihyWydAJ10gPz8gW10pLCBhXTsKICB9CiAgcmV0dXJuIHI7Cn0KCnRyeSB7CiAgbWFpbiguLi5zY3JpcHRBcmdzLnNsaWNlKDEpKTsKfSBjYXRjaChlcnJvcikgewogIGNvbnNvbGUubG9nKGBGQUlMOiAke2Vycm9yICYmIGVycm9yLm1lc3NhZ2V9XG4ke2Vycm9yICYmIGVycm9yLnN0YWNrfWApOwogIHN0ZC5leGl0KDEpOwp9IGZpbmFsbHkgewogIC8vY29uc29sZS5sb2coJ1NVQ0NFU1MnKTsKfQoAAAAAAAAAADYrAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6AQAAAAAAAPoBAAAAAAAAAAAAAAAAAAA"
				],
				[
					316,
					2,
					"left_delete",
					null,
					"AgAAADUrAAAAAAAANSsAAAAAAAABAAAACjQrAAAAAAAANCsAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA2KwAAAAAAADYrAAAAAAAAAAAAAAAAAAA"
				],
				[
					322,
					1,
					"left_delete",
					null,
					"AQAAACgrAAAAAAAAKCsAAAAAAAAMAAAAIGZpbmFsbHkgewp9",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAoKwAAAAAAADQrAAAAAAAAAAAAAAAAIkA"
				],
				[
					326,
					1,
					"ensure_newline_at_eof",
					null,
					"AQAAACgrAAAAAAAAKSsAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABDAQAAAAAAAEMBAAAAAAAAAAAAAAAAAAA"
				],
				[
					331,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAABUBAAAAAAAAFgEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAVAQAAAAAAABUBAAAAAAAAAAAAAAAAAAA"
				],
				[
					333,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAADUBAAAAAAAANgEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA1AQAAAAAAADUBAAAAAAAAAAAAAAAAAAA"
				],
				[
					335,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAFcBAAAAAAAAWAEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABXAQAAAAAAAFcBAAAAAAAAAAAAAAAAAAA"
				],
				[
					359,
					1,
					"",
					null,
					"IwAAAJcqAAAAAAAAmyoAAAAAAAADAAAAfQp0iSoAAAAAAACNKgAAAAAAAAMAAAB9CiBgKgAAAAAAAGQqAAAAAAAAAwAAAH0KIFoqAAAAAAAAXioAAAAAAAADAAAAfQogEyoAAAAAAAAXKgAAAAAAAAMAAAB9CiAEKQAAAAAAAAgpAAAAAAAAAwAAAH0KIP4oAAAAAAAAAikAAAAAAAADAAAAfQogzygAAAAAAADTKAAAAAAAAAMAAAB9CiB+KAAAAAAAAIIoAAAAAAAAAwAAAH0KIMQkAAAAAAAAyCQAAAAAAAADAAAAfQp9UiQAAAAAAABWJAAAAAAAAAMAAAB9CiBoIwAAAAAAAGwjAAAAAAAAAwAAAH0KIA0jAAAAAAAAESMAAAAAAAADAAAAfQogASMAAAAAAAAFIwAAAAAAAAMAAAB9CiDVIgAAAAAAANkiAAAAAAAAAwAAAH0KIHkiAAAAAAAAfSIAAAAAAAADAAAAfQogBiEAAAAAAAAKIQAAAAAAAAMAAAB9CiCrHQAAAAAAAK8dAAAAAAAAAwAAAH0KII8cAAAAAAAAkxwAAAAAAAADAAAAfQogDhwAAAAAAAASHAAAAAAAAAMAAAB9CiAEHAAAAAAAAAgcAAAAAAAAAwAAAH0KINwaAAAAAAAA4BoAAAAAAAADAAAAfQogohAAAAAAAACmEAAAAAAAAAMAAAB9CiCxDwAAAAAAALUPAAAAAAAAAwAAAH0Kfa0PAAAAAAAAsQ8AAAAAAAADAAAAfQogsw4AAAAAAAC3DgAAAAAAAAMAAAB9CiDiDQAAAAAAAOYNAAAAAAAAAwAAAH0KIGMNAAAAAAAAZw0AAAAAAAADAAAAfQogEQkAAAAAAAAVCQAAAAAAAAMAAAB9CmObBwAAAAAAAJ8HAAAAAAAAAwAAAH0KZlYGAAAAAAAAWgYAAAAAAAADAAAAfQogpAUAAAAAAACoBQAAAAAAAAMAAAB9CmaVBAAAAAAAAJkEAAAAAAAAAwAAAH0KfeMCAAAAAAAA5wIAAAAAAAADAAAAfQp9+wEAAAAAAAD/AQAAAAAAAAMAAAB9CmY",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD7AQAAAAAAAP4BAAAAAAAAAAAAAAAA8L8"
				],
				[
					362,
					1,
					"",
					null,
					"BAAAAOAkAAAAAAAA5CQAAAAAAAADAAAAfQpmvw8AAAAAAADDDwAAAAAAAAMAAAB9CmGaBAAAAAAAAJ4EAAAAAAAAAwAAAH0KZucCAAAAAAAA6wIAAAAAAAADAAAAfQpm",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbBAAAAAAAAJsEAAAAAAAAAAAAAAAA8L8"
				],
				[
					368,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAACwVAAAAAAAALRUAAAAAAAAAAAAALRUAAAAAAAAvFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAsFQAAAAAAACwVAAAAAAAAAAAAAADQdEA"
				],
				[
					370,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAAIUAAAAAAAAAxQAAAAAAAAAAAAAAxQAAAAAAAAFFAAAAAAAAAAAAAAwFQAAAAAAADAVAAAAAAAAAgAAACAg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAACFAAAAAAAAAIUAAAAAAAAAAAAAAAAMkA"
				],
				[
					375,
					1,
					"left_delete",
					null,
					"AQAAAIIqAAAAAAAAgioAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACDKgAAAAAAAIMqAAAAAAAAAAAAAAAAMkA"
				],
				[
					377,
					1,
					"left_delete",
					null,
					"AQAAAIgqAAAAAAAAiCoAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACJKgAAAAAAAIkqAAAAAAAAAAAAAACAT0A"
				],
				[
					380,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAIgqAAAAAAAAiSoAAAAAAAAAAAAAiSoAAAAAAACNKgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACIKgAAAAAAAIgqAAAAAAAAAAAAAACARkA"
				],
				[
					384,
					1,
					"left_delete",
					null,
					"AgAAACMpAAAAAAAAIykAAAAAAAABAAAACogqAAAAAAAAiCoAAAAAAAAEAAAAICAgIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAkKQAAAAAAACQpAAAAAAAAAAAAAAAAQkA"
				],
				[
					389,
					1,
					"left_delete",
					null,
					"AQAAAOUkAAAAAAAA5SQAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADmJAAAAAAAAOYkAAAAAAAAAAAAAACAT0A"
				],
				[
					399,
					1,
					"left_delete",
					null,
					"AQAAAIcjAAAAAAAAhyMAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACIIwAAAAAAAIgjAAAAAAAAAAAAAAAA8L8"
				],
				[
					401,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAI0jAAAAAAAAjiMAAAAAAAAAAAAAjiMAAAAAAACQIwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACNIwAAAAAAAI0jAAAAAAAAAAAAAACARkA"
				],
				[
					403,
					1,
					"left_delete",
					null,
					"AgAAAB4jAAAAAAAAHiMAAAAAAAABAAAACo0jAAAAAAAAjSMAAAAAAAACAAAAICA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAfIwAAAAAAAB8jAAAAAAAAAAAAAAAAMkA"
				],
				[
					405,
					1,
					"left_delete",
					null,
					"AQAAAPEiAAAAAAAA8SIAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADyIgAAAAAAAPIiAAAAAAAAAAAAAACAT0A"
				],
				[
					408,
					1,
					"left_delete",
					null,
					"AQAAAOYiAAAAAAAA5iIAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnIgAAAAAAAOciAAAAAAAAAAAAAABAVEA"
				],
				[
					413,
					1,
					"left_delete",
					null,
					"AQAAAMQdAAAAAAAAxB0AAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADFHQAAAAAAAMUdAAAAAAAAAAAAAAAAAAA"
				],
				[
					418,
					1,
					"left_delete",
					null,
					"AQAAAB8hAAAAAAAAHyEAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAgIQAAAAAAACAhAAAAAAAAAAAAAABAVEA"
				],
				[
					421,
					1,
					"left_delete",
					null,
					"AQAAACUcAAAAAAAAJRwAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAmHAAAAAAAACYcAAAAAAAAAAAAAABAVEA"
				],
				[
					423,
					1,
					"left_delete",
					null,
					"AQAAABocAAAAAAAAGhwAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAbHAAAAAAAABscAAAAAAAAAAAAAABAVEA"
				],
				[
					433,
					1,
					"left_delete",
					null,
					"AQAAALoPAAAAAAAAug8AAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC7DwAAAAAAALsPAAAAAAAAAAAAAADAWEA"
				],
				[
					435,
					1,
					"left_delete",
					null,
					"AQAAAL4PAAAAAAAAvg8AAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC/DwAAAAAAAL8PAAAAAAAAAAAAAACARkA"
				],
				[
					444,
					1,
					"left_delete",
					null,
					"AQAAAJkEAAAAAAAAmQQAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaBAAAAAAAAJoEAAAAAAAAAAAAAAAAO0A"
				],
				[
					573,
					1,
					"cut",
					null,
					"AQAAAFsDAAAAAAAAWwMAAAAAAAA+AQAAICBpZigoZmQgPSBvcy5vcGVuKGZpbGVuYW1lLCBvcy5PX1dST05MWSB8IG9zLk9fQ1JFQVQgfCBvcy5PX1RSVU5DLCAwbzY0NCkpICE9IC0xKSB7CiAgICBsZXQgciA9IG9zLndyaXRlKGZkLCBidWZmZXIsIDAsIGJ1ZmZlci5ieXRlTGVuZ3RoKTsKICAgIG9zLmNsb3NlKGZkKTsKICAgIGlmKHIgPj0gMCkgY29uc29sZS5sb2coYFdyb3RlICcke2ZpbGVuYW1lfScuYCk7CiAgICBlbHNlIGNvbnNvbGUubG9nKGBFcnJvciB3cml0aW5nICcke2ZpbGVuYW1lfSc6ICR7c3RkLnN0cmVycm9yKHV0aWwuZXJyb3IoKS5lcnJubyl9YCk7CiAgICByZXR1cm4gcjsKICB9",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABbAwAAAAAAAJkEAAAAAAAAAAAAAAAA8L8"
				],
				[
					574,
					2,
					"paste",
					null,
					"AgAAAFsDAAAAAAAAmQQAAAAAAAAAAAAAmQQAAAAAAADXBQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABbAwAAAAAAAFsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					577,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJsEAAAAAAAAnAQAAAAAAAAAAAAAnAQAAAAAAACeBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbBAAAAAAAAJsEAAAAAAAAAAAAAAAA8L8"
				],
				[
					586,
					1,
					"insert",
					{
						"characters": "std"
					},
					"BAAAAGYDAAAAAAAAZwMAAAAAAAAAAAAAZwMAAAAAAABnAwAAAAAAAAIAAABvc2cDAAAAAAAAaAMAAAAAAAAAAAAAaAMAAAAAAABpAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmAwAAAAAAAGgDAAAAAAAAAAAAAAAA8L8"
				],
				[
					595,
					1,
					"insert",
					{
						"characters": "\"w+\""
					},
					"BAAAAHkDAAAAAAAAegMAAAAAAAAAAAAAegMAAAAAAAB7AwAAAAAAAAAAAAB7AwAAAAAAAHwDAAAAAAAAAAAAAHwDAAAAAAAAfQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB5AwAAAAAAAHkDAAAAAAAAAAAAAAAA8L8"
				],
				[
					599,
					1,
					"left_delete",
					null,
					"AQAAAH0DAAAAAAAAfQMAAAAAAAAsAAAAb3MuT19XUk9OTFkgfCBvcy5PX0NSRUFUIHwgb3MuT19UUlVOQywgMG82NDQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9AwAAAAAAAKkDAAAAAAAAAAAAAAAA8L8"
				],
				[
					601,
					1,
					"right_delete",
					null,
					"AQAAAH8DAAAAAAAAfwMAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB/AwAAAAAAAH8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					604,
					1,
					"insert",
					{
						"characters": "\nlet"
					},
					"BQAAAFoDAAAAAAAAWwMAAAAAAAAAAAAAWwMAAAAAAABdAwAAAAAAAAAAAABdAwAAAAAAAF4DAAAAAAAAAAAAAF4DAAAAAAAAXwMAAAAAAAAAAAAAXwMAAAAAAABgAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABaAwAAAAAAAFoDAAAAAAAA////////738"
				],
				[
					605,
					1,
					"insert",
					{
						"characters": " err=}"
					},
					"BgAAAGADAAAAAAAAYQMAAAAAAAAAAAAAYQMAAAAAAABiAwAAAAAAAAAAAABiAwAAAAAAAGMDAAAAAAAAAAAAAGMDAAAAAAAAZAMAAAAAAAAAAAAAZAMAAAAAAABlAwAAAAAAAAAAAABlAwAAAAAAAGYDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABgAwAAAAAAAGADAAAAAAAAAAAAAAAA8L8"
				],
				[
					606,
					1,
					"left_delete",
					null,
					"AQAAAGUDAAAAAAAAZQMAAAAAAAABAAAAfQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmAwAAAAAAAGYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					607,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAGUDAAAAAAAAZwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlAwAAAAAAAGUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					609,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAGcDAAAAAAAAaAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABnAwAAAAAAAGcDAAAAAAAAAAAAAAAA8L8"
				],
				[
					612,
					1,
					"insert",
					{
						"characters": ",err"
					},
					"BAAAAIsDAAAAAAAAjAMAAAAAAAAAAAAAjAMAAAAAAACNAwAAAAAAAAAAAACNAwAAAAAAAI4DAAAAAAAAAAAAAI4DAAAAAAAAjwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACLAwAAAAAAAIsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					617,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"BAAAAJEDAAAAAAAAkgMAAAAAAAAAAAAAkgMAAAAAAACSAwAAAAAAAAUAAAAhPSAtMZIDAAAAAAAAkwMAAAAAAAAAAAAAkwMAAAAAAACUAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACRAwAAAAAAAJYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					622,
					3,
					"left_delete",
					null,
					"AwAAAJMDAAAAAAAAkwMAAAAAAAABAAAAJpIDAAAAAAAAkgMAAAAAAAABAAAAJpEDAAAAAAAAkQMAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACUAwAAAAAAAJQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					626,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAJQDAAAAAAAAlQMAAAAAAAAAAAAAlQMAAAAAAACXAwAAAAAAAAAAAACXAwAAAAAAAJkDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACUAwAAAAAAAJQDAAAAAAAA////////738"
				],
				[
					630,
					1,
					"cut",
					null,
					"AQAAABwDAAAAAAAAHAMAAAAAAABAAAAAIGlmKHR5cGVvZiBidWZmZXIgPT0gJ3N0cmluZycpIGJ1ZmZlciA9IHRvQXJyYXlCdWZmZXIoYnVmZmVyKTsKIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAcAwAAAAAAAFwDAAAAAAAAAAAAAAAAIkA"
				],
				[
					634,
					1,
					"insert",
					{
						"characters": "fd."
					},
					"BAAAAGYDAAAAAAAAZwMAAAAAAAAAAAAAVQMAAAAAAABVAwAAAAAAAAQAAAAgICAgYwMAAAAAAABkAwAAAAAAAAAAAABkAwAAAAAAAGUDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmAwAAAAAAAGYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					635,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGUDAAAAAAAAZgMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlAwAAAAAAAGUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					637,
					1,
					"insert",
					{
						"characters": "pu"
					},
					"AgAAAGUDAAAAAAAAZgMAAAAAAAAAAAAAZgMAAAAAAABnAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlAwAAAAAAAGUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					638,
					5,
					"left_delete",
					null,
					"BQAAAGYDAAAAAAAAZgMAAAAAAAABAAAAdWUDAAAAAAAAZQMAAAAAAAABAAAAcGQDAAAAAAAAZAMAAAAAAAABAAAALmMDAAAAAAAAYwMAAAAAAAABAAAAZGIDAAAAAAAAYgMAAAAAAAABAAAAZg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABnAwAAAAAAAGcDAAAAAAAAAAAAAAAA8L8"
				],
				[
					639,
					1,
					"insert",
					{
						"characters": "typeof"
					},
					"BgAAAGIDAAAAAAAAYwMAAAAAAAAAAAAAYwMAAAAAAABkAwAAAAAAAAAAAABkAwAAAAAAAGUDAAAAAAAAAAAAAGUDAAAAAAAAZgMAAAAAAAAAAAAAZgMAAAAAAABnAwAAAAAAAAAAAABnAwAAAAAAAGgDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABiAwAAAAAAAGIDAAAAAAAAAAAAAAAA8L8"
				],
				[
					640,
					1,
					"insert",
					{
						"characters": " buffer"
					},
					"BwAAAGgDAAAAAAAAaQMAAAAAAAAAAAAAaQMAAAAAAABqAwAAAAAAAAAAAABqAwAAAAAAAGsDAAAAAAAAAAAAAGsDAAAAAAAAbAMAAAAAAAAAAAAAbAMAAAAAAABtAwAAAAAAAAAAAABtAwAAAAAAAG4DAAAAAAAAAAAAAG4DAAAAAAAAbwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABoAwAAAAAAAGgDAAAAAAAAAAAAAAAA8L8"
				],
				[
					641,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAAG8DAAAAAAAAcAMAAAAAAAAAAAAAcAMAAAAAAABxAwAAAAAAAAAAAABxAwAAAAAAAHIDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABvAwAAAAAAAG8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					642,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHIDAAAAAAAAcwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAByAwAAAAAAAHIDAAAAAAAAAAAAAAAA8L8"
				],
				[
					643,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAAHMDAAAAAAAAdQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABzAwAAAAAAAHMDAAAAAAAAAAAAAAAA8L8"
				],
				[
					644,
					1,
					"insert",
					{
						"characters": "string"
					},
					"BgAAAHQDAAAAAAAAdQMAAAAAAAAAAAAAdQMAAAAAAAB2AwAAAAAAAAAAAAB2AwAAAAAAAHcDAAAAAAAAAAAAAHcDAAAAAAAAeAMAAAAAAAAAAAAAeAMAAAAAAAB5AwAAAAAAAAAAAAB5AwAAAAAAAHoDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB0AwAAAAAAAHQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					646,
					1,
					"insert",
					{
						"characters": " os"
					},
					"AwAAAHsDAAAAAAAAfAMAAAAAAAAAAAAAfAMAAAAAAAB9AwAAAAAAAAAAAAB9AwAAAAAAAH4DAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7AwAAAAAAAHsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					647,
					2,
					"left_delete",
					null,
					"AgAAAH0DAAAAAAAAfQMAAAAAAAABAAAAc3wDAAAAAAAAfAMAAAAAAAABAAAAbw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB+AwAAAAAAAH4DAAAAAAAAAAAAAAAA8L8"
				],
				[
					648,
					1,
					"insert",
					{
						"characters": "?"
					},
					"AQAAAHwDAAAAAAAAfQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB8AwAAAAAAAHwDAAAAAAAAAAAAAAAA8L8"
				],
				[
					649,
					1,
					"insert",
					{
						"characters": " os.puts"
					},
					"CAAAAH0DAAAAAAAAfgMAAAAAAAAAAAAAfgMAAAAAAAB/AwAAAAAAAAAAAAB/AwAAAAAAAIADAAAAAAAAAAAAAIADAAAAAAAAgQMAAAAAAAAAAAAAgQMAAAAAAACCAwAAAAAAAAAAAACCAwAAAAAAAIMDAAAAAAAAAAAAAIMDAAAAAAAAhAMAAAAAAAAAAAAAhAMAAAAAAACFAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9AwAAAAAAAH0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					650,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIUDAAAAAAAAhwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFAwAAAAAAAIUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					651,
					1,
					"insert",
					{
						"characters": "buffer"
					},
					"BgAAAIYDAAAAAAAAhwMAAAAAAAAAAAAAhwMAAAAAAACIAwAAAAAAAAAAAACIAwAAAAAAAIkDAAAAAAAAAAAAAIkDAAAAAAAAigMAAAAAAAAAAAAAigMAAAAAAACLAwAAAAAAAAAAAACLAwAAAAAAAIwDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGAwAAAAAAAIYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					653,
					1,
					"insert",
					{
						"characters": " :;"
					},
					"AwAAAI0DAAAAAAAAjgMAAAAAAAAAAAAAjgMAAAAAAACPAwAAAAAAAAAAAACPAwAAAAAAAJADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACNAwAAAAAAAI0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					654,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJADAAAAAAAAkQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACQAwAAAAAAAJADAAAAAAAAAAAAAAAA8L8"
				],
				[
					655,
					3,
					"left_delete",
					null,
					"AwAAAJADAAAAAAAAkAMAAAAAAAABAAAAII8DAAAAAAAAjwMAAAAAAAABAAAAO44DAAAAAAAAjgMAAAAAAAABAAAAOg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACRAwAAAAAAAJEDAAAAAAAAAAAAAAAA8L8"
				],
				[
					656,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAI4DAAAAAAAAjwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACOAwAAAAAAAI4DAAAAAAAAAAAAAAAA8L8"
				],
				[
					657,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAI8DAAAAAAAAkAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACPAwAAAAAAAI8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					659,
					2,
					"left_delete",
					null,
					"AgAAAH4DAAAAAAAAfgMAAAAAAAABAAAAb30DAAAAAAAAfQMAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB/AwAAAAAAAH8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					660,
					1,
					"insert",
					{
						"characters": "fd"
					},
					"AgAAAH0DAAAAAAAAfgMAAAAAAAAAAAAAfgMAAAAAAAB/AwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9AwAAAAAAAH0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					661,
					2,
					"left_delete",
					null,
					"AgAAAH4DAAAAAAAAfgMAAAAAAAABAAAAZH0DAAAAAAAAfQMAAAAAAAABAAAAZg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB/AwAAAAAAAH8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					662,
					1,
					"insert",
					{
						"characters": " fd"
					},
					"AwAAAH0DAAAAAAAAfgMAAAAAAAAAAAAAfgMAAAAAAAB/AwAAAAAAAAAAAAB/AwAAAAAAAIADAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9AwAAAAAAAH0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					663,
					1,
					"right_delete",
					null,
					"AQAAAIADAAAAAAAAgAMAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACAAwAAAAAAAIADAAAAAAAAAAAAAAAA8L8"
				],
				[
					665,
					1,
					"insert",
					{
						"characters": "fd.write"
					},
					"CAAAAJADAAAAAAAAkQMAAAAAAAAAAAAAkQMAAAAAAACSAwAAAAAAAAAAAACSAwAAAAAAAJMDAAAAAAAAAAAAAJMDAAAAAAAAlAMAAAAAAAAAAAAAlAMAAAAAAACVAwAAAAAAAAAAAACVAwAAAAAAAJYDAAAAAAAAAAAAAJYDAAAAAAAAlwMAAAAAAAAAAAAAlwMAAAAAAACYAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACQAwAAAAAAAJADAAAAAAAAAAAAAAAA8L8"
				],
				[
					666,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJgDAAAAAAAAmgMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACYAwAAAAAAAJgDAAAAAAAAAAAAAAAA8L8"
				],
				[
					667,
					1,
					"insert",
					{
						"characters": "buffer,"
					},
					"BwAAAJkDAAAAAAAAmgMAAAAAAAAAAAAAmgMAAAAAAACbAwAAAAAAAAAAAACbAwAAAAAAAJwDAAAAAAAAAAAAAJwDAAAAAAAAnQMAAAAAAAAAAAAAnQMAAAAAAACeAwAAAAAAAAAAAACeAwAAAAAAAJ8DAAAAAAAAAAAAAJ8DAAAAAAAAoAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACZAwAAAAAAAJkDAAAAAAAAAAAAAAAA8L8"
				],
				[
					668,
					1,
					"insert",
					{
						"characters": " 0,"
					},
					"AwAAAKADAAAAAAAAoQMAAAAAAAAAAAAAoQMAAAAAAACiAwAAAAAAAAAAAACiAwAAAAAAAKMDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgAwAAAAAAAKADAAAAAAAAAAAAAAAA8L8"
				],
				[
					669,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKMDAAAAAAAApAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjAwAAAAAAAKMDAAAAAAAAAAAAAAAA8L8"
				],
				[
					670,
					3,
					"left_delete",
					null,
					"AwAAAKMDAAAAAAAAowMAAAAAAAABAAAAIKIDAAAAAAAAogMAAAAAAAABAAAALKEDAAAAAAAAoQMAAAAAAAABAAAAMA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkAwAAAAAAAKQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					671,
					1,
					"insert",
					{
						"characters": "0,"
					},
					"AgAAAKEDAAAAAAAAogMAAAAAAAAAAAAAogMAAAAAAACjAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAChAwAAAAAAAKEDAAAAAAAAAAAAAAAA8L8"
				],
				[
					672,
					1,
					"insert",
					{
						"characters": " by"
					},
					"AwAAAKMDAAAAAAAApAMAAAAAAAAAAAAApAMAAAAAAAClAwAAAAAAAAAAAAClAwAAAAAAAKYDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjAwAAAAAAAKMDAAAAAAAAAAAAAAAA8L8"
				],
				[
					673,
					2,
					"left_delete",
					null,
					"AgAAAKUDAAAAAAAApQMAAAAAAAABAAAAeaQDAAAAAAAApAMAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACmAwAAAAAAAKYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					675,
					1,
					"cut",
					null,
					"AQAAAKQDAAAAAAAApAMAAAAAAAAaAAAAKSBvcy53cml0ZShmZCwgYnVmZmVyLCAwLCA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkAwAAAAAAAL4DAAAAAAAAAAAAAAAA8L8"
				],
				[
					680,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALcDAAAAAAAAuAMAAAAAAAAAAAAAuAMAAAAAAAC8AwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC3AwAAAAAAALcDAAAAAAAAAAAAAAAA8L8"
				],
				[
					683,
					2,
					"left_delete",
					null,
					"AwAAAMIDAAAAAAAAwgMAAAAAAAABAAAAc7gDAAAAAAAAuAMAAAAAAAAEAAAAICAgIL0DAAAAAAAAvQMAAAAAAAABAAAAbw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADDAwAAAAAAAMMDAAAAAAAAAAAAAAAA8L8"
				],
				[
					684,
					1,
					"insert",
					{
						"characters": "fd"
					},
					"AgAAAL0DAAAAAAAAvgMAAAAAAAAAAAAAvgMAAAAAAAC/AwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC9AwAAAAAAAL0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					686,
					2,
					"right_delete",
					null,
					"AgAAAMYDAAAAAAAAxgMAAAAAAAABAAAAZsYDAAAAAAAAxgMAAAAAAAABAAAAZA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADGAwAAAAAAAMYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					688,
					1,
					"left_delete",
					null,
					"AQAAALcDAAAAAAAAtwMAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC4AwAAAAAAALgDAAAAAAAAAAAAAABAXUA"
				],
				[
					694,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAKgFAAAAAAAAqgUAAAAAAAAAAAAAagQAAAAAAABsBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqBAAAAAAAAKgFAAAAAAAAAAAAAAAA8L8"
				],
				[
					712,
					2,
					"right_delete",
					null,
					"AgAAAD4EAAAAAAAAPgQAAAAAAAALAAAAdXRpbC5lcnJvcig+BAAAAAAAAD4EAAAAAAAAAQAAACk",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA+BAAAAAAAAEkEAAAAAAAAAAAAAAAA8L8"
				],
				[
					713,
					1,
					"insert",
					{
						"characters": "err"
					},
					"AwAAAD4EAAAAAAAAPwQAAAAAAAAAAAAAPwQAAAAAAABABAAAAAAAAAAAAABABAAAAAAAAEEEAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA+BAAAAAAAAD4EAAAAAAAAAAAAAAAA8L8"
				],
				[
					735,
					1,
					"cut",
					null,
					"AQAAANcDAAAAAAAA1wMAAAAAAAAkAAAAY29uc29sZS5sb2coYFdyb3RlICcke2ZpbGVuYW1lfScuYCk7",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADXAwAAAAAAAPsDAAAAAAAA////////738"
				],
				[
					736,
					1,
					"paste",
					null,
					"AQAAANcDAAAAAAAA+wMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADXAwAAAAAAANcDAAAAAAAAAAAAAAAA8L8"
				],
				[
					738,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAMcDAAAAAAAAyAMAAAAAAAAAAAAAyAMAAAAAAADMAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADHAwAAAAAAAMcDAAAAAAAAAAAAAACwfEA"
				],
				[
					739,
					1,
					"paste",
					null,
					"AQAAAMwDAAAAAAAA8AMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADMAwAAAAAAAMwDAAAAAAAAAAAAAAAA8L8"
				],
				[
					746,
					1,
					"insert",
					{
						"characters": "r"
					},
					"AgAAANkDAAAAAAAA2gMAAAAAAAAAAAAA2gMAAAAAAADaAwAAAAAAABQAAABXcm90ZSAnJHtmaWxlbmFtZX0nLg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADZAwAAAAAAAO0DAAAAAAAAAAAAAAAA8L8"
				],
				[
					748,
					1,
					"insert",
					{
						"characters": ",r"
					},
					"AgAAANsDAAAAAAAA3AMAAAAAAAAAAAAA3AMAAAAAAADdAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADbAwAAAAAAANsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					773,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAH4DAAAAAAAAfwMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB+AwAAAAAAAH4DAAAAAAAAAAAAAAAA8L8"
				],
				[
					775,
					1,
					"insert",
					{
						"characters": ",m"
					},
					"AgAAAI4DAAAAAAAAjwMAAAAAAAAAAAAAjwMAAAAAAACQAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACOAwAAAAAAAI4DAAAAAAAAAAAAAAAA8L8"
				],
				[
					776,
					1,
					"left_delete",
					null,
					"AQAAAI8DAAAAAAAAjwMAAAAAAAABAAAAbQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACQAwAAAAAAAJADAAAAAAAAAAAAAAAA8L8"
				],
				[
					777,
					1,
					"insert",
					{
						"characters": "fd.tell"
					},
					"BwAAAI8DAAAAAAAAkAMAAAAAAAAAAAAAkAMAAAAAAACRAwAAAAAAAAAAAACRAwAAAAAAAJIDAAAAAAAAAAAAAJIDAAAAAAAAkwMAAAAAAAAAAAAAkwMAAAAAAACUAwAAAAAAAAAAAACUAwAAAAAAAJUDAAAAAAAAAAAAAJUDAAAAAAAAlgMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACPAwAAAAAAAI8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					778,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJYDAAAAAAAAmAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWAwAAAAAAAJYDAAAAAAAAAAAAAAAA8L8"
				],
				[
					780,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAJgDAAAAAAAAmQMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACYAwAAAAAAAJgDAAAAAAAAAAAAAAAA8L8"
				],
				[
					792,
					1,
					"left_delete",
					null,
					"AQAAAIUEAAAAAAAAhQQAAAAAAABDAQAALyogIGlmKChmZCA9IG9zLm9wZW4oZmlsZW5hbWUsIG9zLk9fV1JPTkxZIHwgb3MuT19DUkVBVCB8IG9zLk9fVFJVTkMsIDBvNjQ0KSkgIT0gLTEpIHsKICAgIGxldCByID0gb3Mud3JpdGUoZmQsIGJ1ZmZlciwgMCwgYnVmZmVyLmJ5dGVMZW5ndGgpOwogICAgb3MuY2xvc2UoZmQpOwogICAgaWYociA+PSAwKSBjb25zb2xlLmxvZyhgV3JvdGUgJyR7ZmlsZW5hbWV9Jy5gKTsKICAgIGVsc2UgY29uc29sZS5sb2coYEVycm9yIHdyaXRpbmcgJyR7ZmlsZW5hbWV9JzogJHtzdGQuc3RyZXJyb3IodXRpbC5lcnJvcigpLmVycm5vKX1gKTsKICAgIHJldHVybiByOwogIH0qLwo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFBAAAAAAAAMgFAAAAAAAAAAAAAAAAAAA"
				],
				[
					825,
					2,
					"left_delete",
					null,
					"AgAAAPgAAAAAAAAA+AAAAAAAAAANAAAAdG9BcnJheUJ1ZmZlcvcAAAAAAAAA9wAAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD4AAAAAAAAAAUBAAAAAAAAAAAAAAAA8L8"
				],
				[
					830,
					1,
					"left_delete",
					null,
					"AQAAAPYAAAAAAAAA9gAAAAAAAAABAAAALA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3AAAAAAAAAPcAAAAAAAAAAAAAAAAA8L8"
				],
				[
					855,
					2,
					"right_delete",
					null,
					"AgAAAOcAAAAAAAAA5wAAAAAAAAAFAAAAcXVvdGXnAAAAAAAAAOcAAAAAAAAAAQAAACw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnAAAAAAAAAOwAAAAAAAAAAAAAAAAA8L8"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhKwAAIyEvdXNyL2Jpbi9lbnYgcWpzbQppbXBvcnQgKiBhcyBzdGQgZnJvbSAnc3RkJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwppbXBvcnQgUkVQTCBmcm9tICdyZXBsJzsKaW1wb3J0IGluc3BlY3QgZnJvbSAnaW5zcGVjdCc7CmltcG9ydCBuZXQsIHsgVVJMLCBSZXF1ZXN0IH0gZnJvbSAnbmV0JzsKaW1wb3J0IHsgQ29uc29sZSwgQ29uc29sZU9wdGlvbnMgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgIHRvU3RyaW5nIH0gZnJvbSAndXRpbCc7Cgpjb25zdCBjb25uZWN0aW9ucyA9IG5ldyBTZXQoKTsKCmxldCBkZWJ1ZyA9IDAsCiAgcGFyYW1zLAogIHJlcGw7CgpmdW5jdGlvbiBNYWtlUHJvbXB0KHByZWZpeCwgc3VmZml4LCBjb21tYW5kTW9kZSA9IGZhbHNlKSB7CiAgcmV0dXJuIGBceDFiWzM4OzU7NDBtJHtwcmVmaXh9IFx4MWJbMzg7NTszM20ke3N1ZmZpeH1ceDFiWzBtICR7Y29tbWFuZE1vZGUgPyAnQ09NTUFORCcgOiAnREFUQSd9ID4gYDsKfQoKZnVuY3Rpb24gRnJvbURvbWFpbihidWZmZXIpIHsKICBsZXQgcyA9ICcnLAogICAgaSA9IDAsCiAgICB1OCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7CiAgZm9yKDs7KSB7CiAgICBsZXQgbGVuID0gdThbaSsrXTsKICAgIGlmKGxlbiA9PSAwKSByZXR1cm4gczsKICAgIGlmKHMgIT0gJycpIHMgKz0gJy4nOwogICAgd2hpbGUobGVuLS0pIHMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1OFtpKytdKTsKICB9Cgp9CgpmdW5jdGlvbiBXcml0ZUZpbGUoZmlsZW5hbWUsIGJ1ZmZlcikgewogIGxldCBmZDsKICBsZXQgZXJyPXt9OwogIGlmKChmZCA9IHN0ZC5vcGVuKGZpbGVuYW1lLCAidysiLGVycikpKSB7CgogICAgbGV0IHIgPSB0eXBlb2YgYnVmZmVyID09ICdzdHJpbmcnID8gKGZkLnB1dHMoYnVmZmVyKSxmZC50ZWxsKCkpIDogZmQud3JpdGUoYnVmZmVyLCAwLCBidWZmZXIuYnl0ZUxlbmd0aCk7CiAgICBmZC5jbG9zZSgpOwogICAgY29uc29sZS5sb2coYHJgLHIpOwogICAgaWYociA+PSAwKSBjb25zb2xlLmxvZyhgV3JvdGUgJyR7ZmlsZW5hbWV9Jy5gKTsKICAgIGVsc2UgY29uc29sZS5sb2coYEVycm9yIHdyaXRpbmcgJyR7ZmlsZW5hbWV9JzogJHtzdGQuc3RyZXJyb3IoZXJyLmVycm5vKX1gKTsKICAgIHJldHVybiByOwogIH0gIAp9CgpmdW5jdGlvbiBUb0RvbWFpbihzdHIsIGFscGhhID0gZmFsc2UpIHsKICByZXR1cm4gc3RyCiAgICAuc3BsaXQoJy4nKQogICAgLnJlZHVjZSgKICAgICAgYWxwaGEKICAgICAgICA/IChhLCBzKSA9PiBhICsgU3RyaW5nLmZyb21DaGFyQ29kZShzLmxlbmd0aCkgKyBzCiAgICAgICAgOiAoYSwgcykgPT4gYS5jb25jYXQoW3MubGVuZ3RoLCAuLi5zLnNwbGl0KCcnKS5tYXAoY2ggPT4gY2guY2hhckNvZGVBdCgwKSldKSwKICAgICAgYWxwaGEgPyAnJyA6IFtdCiAgICApOwp9CgpmdW5jdGlvbiBETlNRdWVyeShkb21haW4pIHsKICBsZXQgdHlwZSA9IDB4MDE7CiAgaWYoL14oWzAtOV0rXC4/KXs0fSQvLnRlc3QoZG9tYWluKSkgewogICAgZG9tYWluID0gZG9tYWluLnNwbGl0KCcuJykucmV2ZXJzZSgpLmpvaW4oJy4nKSArICcuaW4tYWRkci5hcnBhJzsKICAgIHR5cGUgPSAweDBjOwogIH0KCiAgbGV0IG91dEJ1ZiA9IG5ldyBVaW50OEFycmF5KFsKICAgIDB4ZmYsCiAgICAweGZmLAogICAgMHgwMSwKICAgIDB4MDAsCiAgICAweDAwLAogICAgMHgwMSwKICAgIDB4MDAsCiAgICAweDAwLAogICAgMHgwMCwKICAgIDB4MDAsCiAgICAweDAwLAogICAgMHgwMCwKICAgIC4uLlRvRG9tYWluKGRvbWFpbiksCiAgICAweDAwLAogICAgMHgwMCwKICAgIHR5cGUsCiAgICAweDAwLAogICAgMHgwMQogIF0pLmJ1ZmZlcjsKICBuZXcgRGF0YVZpZXcob3V0QnVmKS5zZXRVaW50MTYoMCwgb3V0QnVmLmJ5dGVMZW5ndGggLSAyLCBmYWxzZSk7CiAgcmV0dXJuIG91dEJ1ZjsKfQoKZnVuY3Rpb24gRE5TUmVzcG9uc2UoYnVmZmVyKSB7CiAgbGV0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICBsZXQgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgMCwgMTIpOwogIGxldCBvZnMgPSAyICsgaGVhZGVyLmdldFVpbnQxNigwLCBmYWxzZSk7CiAgaGVhZGVyID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgb2ZzLCAxMik7CiAgbGV0IHR5cGUgPSBoZWFkZXIuZ2V0VWludDE2KDIsIGZhbHNlKTsKICBvZnMgKz0gMTI7CiAgbGV0IGFkZHI7CiAgaWYodHlwZSA9PSAweDBjKSBhZGRyID0gRnJvbURvbWFpbihidWZmZXIuc2xpY2Uob2ZzKSk7CiAgZWxzZSBhZGRyID0gdTguc2xpY2UoLTQpLmpvaW4oJy4nKTsKICByZXR1cm4gYWRkcjsKfQoKY2xhc3MgQ0xJIGV4dGVuZHMgUkVQTCB7CiAgY29uc3RydWN0b3IocHJvbXB0MikgewogICAgbGV0IG5hbWUgPSBwcm9jZXNzLmFyZ3ZbMV07CiAgICBuYW1lID0gbmFtZQogICAgICAucmVwbGFjZSgvLipcLy8sICcnKQogICAgICAucmVwbGFjZSgvLS9nLCAnICcpCiAgICAgIC5yZXBsYWNlKC9cLlteXC8uXSokLywgJycpOwogICAgbGV0IFtwcmVmaXgsIHN1ZmZpeF0gPSBbbmFtZSwgcHJvbXB0Ml07CiAgICBsZXQgcHJvbXB0ID0gTWFrZVByb21wdChwcmVmaXgsIHN1ZmZpeCwgZmFsc2UpLnNsaWNlKDAsIC0yKTsKICAgIHN1cGVyKHByb21wdCwgZmFsc2UpOwogICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7IHByZWZpeCwgc3VmZml4IH0pOwoKICAgIHRoaXMuaGlzdG9yeUxvYWQobnVsbCwgZmFsc2UpOwogICAgdGhpcy5hZGRDbGVhbnVwSGFuZGxlcigoKSA9PiB7CiAgICAgIHRoaXMucmVhZGxpbmVSZW1vdmVQcm9tcHQoKTsKICAgICAgdGhpcy5wcmludFN0YXR1cyhgRVhJVGAsIGZhbHNlKTsKICAgICAgc3RkLmV4aXQoMCk7CiAgICB9KTsKICAgIGxldCBvcmlnX2xvZyA9IGNvbnNvbGUubG9nOwogICAgbGV0IGxvZyA9IHRoaXMucHJpbnRGdW5jdGlvbigoLi4uYXJncykgPT4gb3JpZ19sb2coLi4uYXJncykpOwogICAgY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4gewogICAgICBsZXQgb3B0cyA9IGNvbnNvbGUuY29uZmlnKGNvbnNvbGUub3B0aW9ucyk7CiAgICAgIHRoaXMucHJpbnRTdGF0dXMoCiAgICAgICAgYXJncy5yZWR1Y2UoKGFjYywgYXJnKSA9PiB7CiAgICAgICAgICBpZihhcmcgaW5zdGFuY2VvZiBDb25zb2xlT3B0aW9ucykgb3B0cyA9IG9wdHMubWVyZ2UoYXJnKTsKICAgICAgICAgIGVsc2UgYWNjID0gKGFjYyAhPSAnJyA/IGFjYyArICcgJyA6ICcnKSArIGluc3BlY3QoYXJnLCBvcHRzKTsKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfSwgJycpCiAgICAgICk7CiAgICB9OwogICAgdGhpcy5jb21tYW5kTW9kZSA9IGZhbHNlOwogICAgdGhpcy5jb21tYW5kc1snXHgxYiddID8/PSB0aGlzLmVzY2FwZTsKICAgIHRoaXMuY29tbWFuZHNbJ8KnJ10gPSB0aGlzLmVzY2FwZTsKICAgIHRoaXMucnVuU3luYygpOwogIH0KCiAgaGVscCgpIHt9CgogIHNob3coYXJnKSB7CiAgICBzdGQucHV0cygodHlwZW9mIGFyZyA9PSAnc3RyaW5nJyA/IGFyZyA6IGluc3BlY3QoYXJnLCBnbG9iYWxUaGlzLmNvbnNvbGUub3B0aW9ucykpICsgJ1xuJyk7CiAgfQoKICBlc2NhcGUoKSB7CiAgICB0aGlzLmNvbW1hbmRNb2RlID0gIXRoaXMuY29tbWFuZE1vZGU7CiAgICB0aGlzLnJlYWRsaW5lUmVtb3ZlUHJvbXB0KCk7CiAgICB0aGlzLnByb21wdCA9IHRoaXMucHMxID0gTWFrZVByb21wdCh0aGlzLnByZWZpeCwgdGhpcy5zdWZmaXgsIHRoaXMuY29tbWFuZE1vZGUpOwogICAgdGhpcy5yZWFkbGluZVByaW50UHJvbXB0KCk7CiAgfQoKICBoYW5kbGVDbWQoZGF0YSkgewogICAgaWYodGhpcy5jb21tYW5kTW9kZSkgcmV0dXJuIHN1cGVyLmhhbmRsZUNtZChkYXRhKTsKICAgIGlmKHR5cGVvZiBkYXRhID09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoID4gMCkgewogICAgICB0aGlzLnByaW50U3RhdHVzKGBTZW5kaW5nICcke2RhdGF9J2AsIGZhbHNlKTsKICAgICAgZm9yKGxldCBjb25uZWN0aW9uIG9mIGNvbm5lY3Rpb25zKSBjb25uZWN0aW9uLnNlbmQoZGF0YSk7CiAgICB9CiAgfQp9Cgphc3luYyBmdW5jdGlvbiBtYWluKC4uLmFyZ3MpIHsKICBjb25zdCBiYXNlID0gc2NyaXB0QXJnc1swXS5yZXBsYWNlKC8uKlwvL2csICcnKS5yZXBsYWNlKC9cLlthLXpdKiQvLCAnJyk7CiAgZ2xvYmFsVGhpcy5jb25zb2xlID0gbmV3IENvbnNvbGUoewogICAgaW5zcGVjdE9wdGlvbnM6IHsKICAgICAgZGVwdGg6IEluZmluaXR5LAogICAgICBjb21wYWN0OiAxLAogICAgICBjdXN0b21JbnNwZWN0OiB0cnVlCiAgICB9CgogIH0pOwogIGxldCBoZWFkZXJzID0gW107CiAgcGFyYW1zID0gR2V0T3B0KAogICAgewogICAgICB2ZXJib3NlOiBbZmFsc2UsIChhLCB2KSA9PiAodiB8IDApICsgMSwgJ3YnXSwKICAgICAgbGlzdGVuOiBbZmFsc2UsIG51bGwsICdsJ10sCiAgICAgIGJpbmFyeTogW2ZhbHNlLCBudWxsLCAnYiddLAogICAgICBjb25uZWN0OiBbZmFsc2UsIG51bGwsICdjJ10sCiAgICAgIGNsaWVudDogW2ZhbHNlLCBudWxsLCAnQyddLAogICAgICBzZXJ2ZXI6IFtmYWxzZSwgbnVsbCwgJ1MnXSwKICAgICAgZGVidWc6IFtmYWxzZSwgKCkgPT4gKytkZWJ1ZywgJ3gnXSwKICAgICAgYWRkcmVzczogW3RydWUsIG51bGwsICdhJ10sCiAgICAgIHBvcnQ6IFt0cnVlLCBudWxsLCAncCddLAogICAgICBtZXRob2Q6IFt0cnVlLCBudWxsLCAnbSddLAogICAgICBvdXRwdXQ6IFt0cnVlLCBudWxsLCAnbyddLAogICAgICBwcm90b2NvbDogW3RydWUsIG51bGwsICdQJ10sCiAgICAgIGhlYWRlcjogWwogICAgICAgIHRydWUsCiAgICAgICAgYXJnID0+IHsKICAgICAgICAgIGNvbnN0IHBvcyA9IGFyZy5zZWFyY2goLzogLyk7CiAgICAgICAgICBjb25zdCBuYW1lID0gYXJnLnN1YnN0cmluZygwLCBwb3MpOwogICAgICAgICAgY29uc3QgdmFsdWUgPSBhcmcuc3Vic3RyaW5nKHBvcyArIDIpOwogICAgICAgICAgaGVhZGVycy5wdXNoKFtuYW1lLCB2YWx1ZV0pOwogICAgICAgIH0sCiAgICAgICAgJ0gnCiAgICAgIF0sCiAgICAgICdzc2wtY2VydCc6IFt0cnVlLCBudWxsXSwKICAgICAgJ3NzbC1wcml2YXRlLWtleSc6IFt0cnVlLCBudWxsXSwKICAgICAgJ0AnOiAndXJsLCcKICAgIH0sCiAgICBhcmdzCiAgKTsKICAKICBjb25zdCB7ICdzc2wtY2VydCc6IHNzbENlcnQgPSAnbG9jYWxob3N0LmNydCcsICdzc2wtcHJpdmF0ZS1rZXknOiBzc2xQcml2YXRlS2V5ID0gJ2xvY2FsaG9zdC5rZXknLCBtZXRob2QgfSA9IHBhcmFtczsKICBjb25zdCBsaXN0ZW4gPSBwYXJhbXMuY29ubmVjdCAmJiAhcGFyYW1zLmxpc3RlbiA/IGZhbHNlIDogdHJ1ZTsKICBjb25zdCBzZXJ2ZXIgPSAhcGFyYW1zLmNsaWVudCB8fCBwYXJhbXMuc2VydmVyOwogIGNvbnN0IHsgYmluYXJ5LCBwcm90b2NvbCB9ID0gcGFyYW1zOwogIGxldCB1cmxzID0gcGFyYW1zWydAJ107CgogIGZ1bmN0aW9uIGNyZWF0ZVdTKHVybCwgY2FsbGJhY2tzLCBsaXN0ZW4gPSAwKSB7CiAgICBsZXQgcmVwbCwKICAgICAgaXNfZG5zLAogICAgICB1cmxPYmogPSBuZXcgVVJMKHVybCk7CiAgICBuZXQuc2V0TG9nKG5ldC5MTExfVVNFUiB8ICgoKGRlYnVnID8gbmV0LkxMTF9JTkZPIDogbmV0LkxMTF9OT1RJQ0UpIDw8IDEpIC0gMSksIChsZXZlbCwgbXNnKSA9PiB7CiAgICAgIGxldCBwID0KICAgICAgICBbJ0VSUicsICdXQVJOJywgJ05PVElDRScsICdJTkZPJywgJ0RFQlVHJywgJ1BBUlNFUicsICdIRUFERVInLCAnRVhUJywgJ0NMSUVOVCcsICdMQVRFTkNZJywgJ01JTk5FVCcsICdUSFJFQUQnXVsKICAgICAgICAgIGxldmVsICYmIE1hdGgubG9nMihsZXZlbCkKICAgICAgICBdID8/IGxldmVsICsgJyc7CiAgICAgIGlmKHAgPT0gJ0lORk8nIHx8IC9SRUNFSVZFX0NMSUVOVF9IVFRQX1JFQUR8XFttdXh8X19sd3N8XFt3c2ljbGl8bHdzXy8udGVzdChtc2cpKSByZXR1cm47CiAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9cbi9nLCAnXFxuJyk7CiAgICAgIGlmKHBhcmFtcy52ZXJib3NlID4gMSB8fCBwYXJhbXMuZGVidWcpIHN0ZC5wdXRzKHAucGFkRW5kKDgpICsgJ1x0JyArIG1zZyArICdcbicpOwogICAgfSk7CiAgICBpZihwYXJhbXMudmVyYm9zZSkgY29uc29sZS5sb2coYENvbm5lY3RpbmcgdG8gJyR7dXJsfScuLi5gKTsKCiAgICBjb25zdCBmbiA9IFtuZXQuY2xpZW50LCBuZXQuc2VydmVyXVsrbGlzdGVuXTsKICAgIHJldHVybiBmbih1cmwsIHsKICAgICAgc3NsQ2VydCwKICAgICAgc3NsUHJpdmF0ZUtleSwKICAgICAgbWV0aG9kLAogICAgICBiaW5hcnksCiAgICAgIHByb3RvY29sLAogICAgICBibG9jazogZmFsc2UsCiAgICAgIGJvZHk6IGZ1bmN0aW9uKiAoKSB7CiAgICAgICAgeWllbGQgJ3sgInRlc3QiOiAxMjM0IH0nOwogICAgICB9LAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ3VzZXItYWdlbnQnOiAnbWlubmV0JywKICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycykKICAgICAgfSwKICAgICAgLi4uY2FsbGJhY2tzLAogICAgICBvbkNvbm5lY3Qod3MsIHJlcSkgewogICAgICAgIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgICAgICAgY29ubmVjdGlvbnMuYWRkKHdzKTsKICAgICAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsgd3MsIHJlcSB9KTsKCiAgICAgICAgaWYocGFyYW1zLnZlcmJvc2UpIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgICAgICAgY29uc3QgcmVtb3RlID0gYCR7d3MuYWRkcmVzc306JHt3cy5wb3J0fWA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlcGwgPSBnbG9iYWxUaGlzLnJlcGwgPSBuZXcgQ0xJKHJlbW90ZSk7CiAgICAgICAgfSBjYXRjaChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICAgICAgfQoKICAgICAgICByZXBsLnByaW50U3RhdHVzKGBDb25uZWN0ZWQgdG8gJHtyZW1vdGV9YCk7CiAgICAgICAgaWYocmVxKSB7CiAgICAgICAgICBjb25zdCB7IHVybCB9ID0gcmVxOwogICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgcG9ydCB9ID0gdXJsOwogICAgICAgICAgaWYoKGlzX2RucyA9IHByb3RvY29sID09ICd1ZHAnICYmIHBvcnQgPT0gNTMpKSB7CiAgICAgICAgICAgIHdzLmJpbmFyeSA9IHRydWU7CiAgICAgICAgICAgIHdzLnNlbmQoRE5TUXVlcnkoJ2xpYndlYnNvY2tldHMub3JnJykpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24sIGVycm9yKSB7CiAgICAgICAgaWYoZXJyb3IpIHsKICAgICAgICAgIHF1aXQoYENvbm5lY3Rpb24gZXJyb3I6ICR7cmVhc29ufWApOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ29uQ2xvc2UnLCB7IHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IgfSk7CiAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKHdzKTsKICAgICAgICBpZihyZXBsKSB7CiAgICAgICAgICByZXBsLnByaW50U3RhdHVzKGBDbG9zZWQgKCR7c3RhdHVzfSk6ICR7cmVhc29ufWApOwogICAgICAgICAgb3Muc2V0VGltZW91dCgoKSA9PiB7CgogICAgICAgICAgICByZXBsLmV4aXQoc3RhdHVzICE9IDEwMDAgPyAxIDogMCk7CiAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25IdHRwKHJlcSwgcmVzcCkgewogICAgICAgIGNvbnNvbGUubG9nKCdvbkh0dHAnLCBjb25zb2xlLmNvbmZpZyh7IGNvbXBhY3Q6IGZhbHNlIH0pLCB7IHJlcSwgcmVzcCB9KTsKICAgICAgICBsZXQgeyBoZWFkZXJzIH0gPSByZXNwOwoKICAgICAgICBsZXQgdHlwZSA9IChoZWFkZXJzWydjb250ZW50LXR5cGUnXSA/PyAndGV4dC9odG1sJykucmVwbGFjZSgvOy4qL2csICcnKTsKICAgICAgICBsZXQgZXh0ZW5zaW9uID0gJy4nICsgdHlwZS5yZXBsYWNlKC8uKlwvL2csICcnKTsKICAgICAgICBsZXQgeyB1cmwgfSA9IHJlcTsKICAgICAgICBsZXQgeyBwYXRoIH0gPSB1cmw7CiAgICAgICAgbGV0IG5hbWUgPSBwYXRoLnJlcGxhY2UoL1wvW2Etel1cLy4qL2csICcnKS5yZXBsYWNlKC8uKlwvL2csICcnKTsKCiAgICAgICAgaWYobmFtZSA9PSAnJykgbmFtZSA9ICdpbmRleCc7CiAgICAgICAgaWYoIW5hbWUuZW5kc1dpdGgoZXh0ZW5zaW9uKSkgbmFtZSArPSBleHRlbnNpb247CgogICAgICAgIGxldCBidWZmZXIgPSByZXNwLmJvZHk7CiAgICAgICAgbGV0IHRleHQgPSB0b1N0cmluZyhidWZmZXIpOwogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcyk7CgogICAgICAgIFdyaXRlRmlsZShwYXJhbXMub3V0cHV0ID8/IG5hbWUgPz8gJ291dHB1dC5iaW4nLCBidWZmZXIpOwogICAgICAgIGxldCBuZXh0ID0gdXJscy5sZW5ndGggJiYgdXJscy5zaGlmdCgpOwoKICAgICAgICBpZihuZXh0KSB7CiAgICAgICAgICByZXEgPSBuZXcgUmVxdWVzdChuZXh0KTsKICAgICAgICAgIHJldHVybiByZXE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uRmQoZmQsIHJkLCB3cikgewogICAgICAgIG9zLnNldFJlYWRIYW5kbGVyKGZkLCByZCk7CiAgICAgICAgb3Muc2V0V3JpdGVIYW5kbGVyKGZkLCB3cik7CiAgICAgIH0sCiAgICAgIG9uTWVzc2FnZSh3cywgbXNnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ29uTWVzc2FnZScsIGNvbnNvbGUuY29uZmlnKHsgY29tcGFjdDogMSB9KSwgeyB3cywgbXNnIH0pOwogICAgICAgIGlmKHR5cGVvZiBtc2cgPT0gJ3N0cmluZycpIHsKICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9cbi9nLCAnXFxuJykucmVwbGFjZSgvXHIvZywgJ1xccicpOwogICAgICAgICAgbXNnID0gbXNnLnN1YnN0cmluZygwLCAxMDApOwogICAgICAgIH0KCiAgICAgICAgaWYoaXNfZG5zKSB7CiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBETlNSZXNwb25zZShtc2cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbkVycm9yKHdzLCBlcnJvcikgewogICAgICB9CiAgICB9KTsKICB9CgogIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywgewogICAgZ2V0IGNvbm5lY3Rpb25zKCkgewogICAgICByZXR1cm4gWy4uLmNvbm5lY3Rpb25zXTsKICAgIH0KICB9KTsKCiAgdHJ5IHsKICAgIGF3YWl0IGNyZWF0ZVdTKHVybHMuc2hpZnQoKSwge30pCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICBxdWl0KCdGSU5JU0hFRCcpOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkJywgZXJyKTsKICAgICAgfSk7CiAgfSBjYXRjaChlcnJvcikgewogICAgcXVpdCgnRVJST1I6ICcgKyBlcnJvci5tZXNzYWdlKTsKICB9CgogIGZ1bmN0aW9uIHF1aXQod2h5KSB7CiAgICBpZih3aHkpIHN0ZC5lcnIucHV0cyh3aHkgKyAnXG4nKTsKICAgIGlmKHJlcGwpIHJlcGwuY2xlYW51cCh3aHkpOwogICAgc3RkLmV4aXQoMCk7CiAgfQp9CgpmdW5jdGlvbiBHZXRPcHQob3B0aW9ucyA9IHt9LCBhcmdzKSB7CiAgbGV0IHMsIGw7CiAgbGV0IHIgPSB7fTsKICBsZXQgcG9zaXRpb25hbCA9IChyWydAJ10gPSBbXSk7CiAgaWYoIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSBvcHRpb25zID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucyk7CiAgY29uc3QgZmluZE9wdCA9IGEgPT4KICAgIG9wdGlvbnMuZmluZCgoW29wdG5hbWUsIG9wdGlvbl0pID0+IChBcnJheS5pc0FycmF5KG9wdGlvbikgPyBvcHRpb24uaW5kZXhPZihhKSAhPSAtMSA6IGZhbHNlKSB8fCBhID09IG9wdG5hbWUpOwogIGxldCBbLCBwYXJhbXNdID0gb3B0aW9ucy5maW5kKG8gPT4gb1swXSA9PSAnQCcpIHx8IFtdOwogIGlmKHR5cGVvZiBwYXJhbXMgPT0gJ3N0cmluZycpIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnLCcpOwogIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBhID0gYXJnc1tpXTsKICAgIGxldCBvOwogICAgaWYoYVswXSA9PSAnLScpIHsKICAgICAgbGV0IG4sIHYsIHgsIHk7CiAgICAgIGlmKGFbMV0gPT0gJy0nKSBsID0gdHJ1ZTsKICAgICAgZWxzZSBzID0gdHJ1ZTsKICAgICAgeCA9IHMgPyAxIDogMjsKICAgICAgaWYocykgeSA9IDI7CiAgICAgIGVsc2UgaWYoKHkgPSBhLmluZGV4T2YoJz0nKSkgPT0gLTEpIHkgPSBhLmxlbmd0aDsKICAgICAgbiA9IGEuc3Vic3RyaW5nKHgsIHkpOwogICAgICBpZigobyA9IGZpbmRPcHQobikpKSB7CiAgICAgICAgY29uc3QgW2hhc19hcmcsIGhhbmRsZXJdID0gb1sxXTsKICAgICAgICBpZihoYXNfYXJnKSB7CiAgICAgICAgICBpZihhLmxlbmd0aCA+IHkpIHYgPSBhLnN1YnN0cmluZyh5ICsgKGFbeV0gPT0gJz0nKSk7CiAgICAgICAgICBlbHNlIHYgPSBhcmdzWysraV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHYgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGhhbmRsZXIodiwgcltvWzBdXSwgb3B0aW9ucywgcik7CiAgICAgICAgfSBjYXRjaChlcnIpIHt9CgogICAgICAgIHJbb1swXV0gPSB2OwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CgogICAgaWYocGFyYW1zLmxlbmd0aCkgewogICAgICBjb25zdCBwID0gcGFyYW1zLnNoaWZ0KCk7CiAgICAgIGlmKChvID0gZmluZE9wdChwKSkpIHsKICAgICAgICBjb25zdCBbLCBbLCBoYW5kbGVyXV0gPSBvOwogICAgICAgIGxldCB2ID0gYTsKICAgICAgICBpZih0eXBlb2YgaGFuZGxlciA9PSAnZnVuY3Rpb24nKQogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdiA9IGhhbmRsZXIodiwgcltvWzBdXSwgb3B0aW9ucywgcik7CiAgICAgICAgICB9IGNhdGNoKGVycikge30KCiAgICAgICAgY29uc3QgbiA9IG9bMF07CiAgICAgICAgcltvWzBdXSA9IHY7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KCiAgICByWydAJ10gPSBbLi4uKHJbJ0AnXSA/PyBbXSksIGFdOwogIH0KCiAgcmV0dXJuIHI7Cn0KCnRyeSB7CiAgbWFpbiguLi5zY3JpcHRBcmdzLnNsaWNlKDEpKTsKfSBjYXRjaChlcnJvcikgewogIGNvbnNvbGUubG9nKGBGQUlMOiAke2Vycm9yICYmIGVycm9yLm1lc3NhZ2V9XG4ke2Vycm9yICYmIGVycm9yLnN0YWNrfWApOwogIHN0ZC5leGl0KDEpOwp9CgAAAAAAAAAAFSsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXgoAAAAAAABeCgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "tests/server.js",
			"settings":
			{
				"buffer_size": 4795,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					7,
					3,
					"left_delete",
					null,
					"AwAAAD4BAAAAAAAAPgEAAAAAAAABAAAALz0BAAAAAAAAPQEAAAAAAAABAAAALjwBAAAAAAAAPAEAAAAAAAABAAAALg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA/AQAAAAAAAD8BAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "tests/spawn.js",
			"settings":
			{
				"buffer_size": 1101,
				"line_ending": "Unix"
			}
		},
		{
			"file": "tests/log.js",
			"settings":
			{
				"buffer_size": 2014,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					5,
					3,
					"left_delete",
					null,
					"AwAAAKMAAAAAAAAAowAAAAAAAAABAAAAL6IAAAAAAAAAogAAAAAAAAABAAAALqEAAAAAAAAAoQAAAAAAAAABAAAALg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkAAAAAAAAAKQAAAAAAAAAAAAAAAAA8L8"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AgAAAEAHAAAAAAAAQQcAAAAAAAAAAAAAQQcAAAAAAABBBwAAAAAAAAEAAAAw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABABwAAAAAAAEEHAAAAAAAAAAAAAAAA8L8"
				],
				[
					38,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAAHUHAAAAAAAAdgcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB1BwAAAAAAAHUHAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADcBwAAaW1wb3J0IHsgc2V0TG9nLCBVUkwsIExMTF9FUlIsIExMTF9XQVJOLCBMTExfTk9USUNFLCBMTExfSU5GTywgTExMX0RFQlVHLCBMTExfUEFSU0VSLCBMTExfSEVBREVSLCBMTExfRVhULCBMTExfQ0xJRU5ULCBMTExfTEFURU5DWSwgTExMX1VTRVIsIExMTF9USFJFQUQgfSBmcm9tICduZXQuc28nOwppbXBvcnQgeyBlcnIgfSBmcm9tICdzdGQnOwoKbGV0IGxvZ05hbWU7CgpleHBvcnQgY29uc3QgTGV2ZWxzID0gKCgpID0+IHsKICBjb25zdCBsbE9iaiA9IHsKICAgIExMTF9FUlIsCiAgICBMTExfV0FSTiwKICAgIExMTF9OT1RJQ0UsCiAgICBMTExfSU5GTywKICAgIExMTF9ERUJVRywKICAgIExMTF9QQVJTRVIsCiAgICBMTExfSEVBREVSLAogICAgTExMX0VYVCwKICAgIExMTF9DTElFTlQsCiAgICBMTExfTEFURU5DWSwKICAgIExMTF9VU0VSLAogICAgTExMX1RIUkVBRAogIH07CiAgcmV0dXJuIE9iamVjdC5rZXlzKGxsT2JqKS5yZWR1Y2UoKGFjYywgbikgPT4gewogICAgbGV0IHYgPSBNYXRoLmxvZzIobGxPYmpbbl0pOwogICAgaWYoTWF0aC5mbG9vcih2KSA9PT0gdikgYWNjW2xsT2JqW25dXSA9IG4uc3Vic3RyaW5nKDQpOwogICAgcmV0dXJuIGFjYzsKICB9LCB7fSk7Cn0pKCk7CgpleHBvcnQgY29uc3QgaXNEZWJ1ZyA9ICgpID0+IHNjcmlwdEFyZ3Muc29tZShhID0+IC9eLVtkeF0vLnRlc3QoYSkpOwpleHBvcnQgY29uc3QgRGVidWdDYWxsYmFjayA9IGZuID0+IChpc0RlYnVnKCkgPyBmbiA6ICgpID0+IHt9KTsKCmV4cG9ydCBjb25zdCBEZWZhdWx0TGV2ZWxzID0KICBMTExfRVJSIHwgTExMX1dBUk4gfCBMTExfTk9USUNFIHwgTExMX0lORk8gfCBMTExfQ0xJRU5UIHwgTExMX0xBVEVOQ1kgfCBMTExfVVNFUiB8IExMTF9USFJFQUQ7CgpleHBvcnQgY29uc3QgSW5pdCA9IChuYW1lLCBtYXNrID0gTExMX1VTRVIgfCAoKExMTF9DTElFTlQgPDwgMSkgLSAxKSkgPT4gewogIGlmKHR5cGVvZiBuYW1lID09ICdzdHJpbmcnKSBsb2dOYW1lID0gbmFtZTsKICBzZXRMb2coCiAgICBtYXNrLAogICAgRGVidWdDYWxsYmFjaygobGV2ZWwsIG1zZykgPT4gewogICAgICBsZXQgbCA9IExldmVsc1tsZXZlbF07CiAgICAvKiAgaWYoIShsZXZlbCAmIG1hc2spKSByZXR1cm47CiAgICAgIGlmKGxldmVsID49IExMTF9OT1RJQ0UgJiYgbGV2ZWwgPD0gTExMX0VYVCkgcmV0dXJuOyovCiAgICAgIGlmKGwgPT0gJ1VTRVInKSBsID0gbmFtZSA/PyBsOwogICAgICBlcnIucHV0cyhgJHtsLnBhZEVuZCgxMCl9ICR7bXNnfVxuYCk7CiAgICB9KQogICk7Cn07CgpleHBvcnQgY29uc3QgU2V0TG9nID0gKG5hbWUsIG1heExldmVsID0gTExMX0NMSUVOVCkgPT4gewogIGlmKHR5cGVvZiBuYW1lID09ICdzdHJpbmcnKSBsb2dOYW1lID0gbmFtZTsKCiAgc2V0TG9nKExMTF9VU0VSIHwgKChtYXhMZXZlbCA8PCAxKSAtIDEpLCAobGV2ZWwsIG1zZykgPT4gewogICAgbGV0IGwgPSBMZXZlbHNbbGV2ZWxdID8/ICdVTktOT1dOJzsKICAgIGlmKGwgPT0gJ1VTRVInKSBsID0gbmFtZSA/PyBsOwogICAgZXJyLnB1dHMoKCdYJywgbCkucGFkRW5kKDkpICsgbXNnLnJlcGxhY2UoL1xyL2csICdcXHInKS5yZXBsYWNlKC9cbi9nLCAnXFxuJykpOwogIH0pOwp9OwoKZXhwb3J0IGNvbnN0IGxvZyA9ICgoKSA9PiB7CiAgbG9nTmFtZSA/Pz0gc2NyaXB0QXJnc1swXS5yZXBsYWNlKC8uKlwvL2csICcnKTsKICBsZXQgY29ucyA9IGNvbnNvbGU7CiAgaW1wb3J0KCdjb25zb2xlJykudGhlbigoeyBDb25zb2xlIH0pID0+IHsKICAgIGdsb2JhbFRoaXMuY29uc29sZSA9IGNvbnMgPSBuZXcgQ29uc29sZSgKICAgICAgLyplcnIsICovIHsKICAgICAgICBpbnNwZWN0T3B0aW9uczogeyBjb21wYWN0OiAxLCBkZXB0aDogMTAsIGN1c3RvbUluc3BlY3Q6IHRydWUsIG1heFN0cmluZ0xlbmd0aDogMTAwMCwgY29sb3JzOiB0cnVlIH0KICAgICAgfQogICAgKTsKICB9KTsKICByZXR1cm4gKC4uLmFyZ3MpID0+IGNvbnMubG9nKGxvZ05hbWUgKyAnOicsIC4uLmFyZ3MpOwp9KSgpOwoAAAAAAAAAAN4HAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdgcAAAAAAAB2BwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/lib/roles/http/header.c",
			"settings":
			{
				"buffer_size": 16844,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-http.h",
			"settings":
			{
				"buffer_size": 36543,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/lib/roles/http/server/server.c",
			"settings":
			{
				"buffer_size": 88331,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "/*\n * libwebsockets - small server side websockets and web server implementation\n *\n * Copyright (C) 2010 - 2019 Andy Green <andy@warmcat.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\n/*! \\defgroup sending-data Sending data\n\n    APIs related to writing data on a connection\n*/\n//@{\n#if !defined(LWS_SIZEOFPTR)\n#define LWS_SIZEOFPTR ((int)sizeof (void *))\n#endif\n\n#if defined(__x86_64__)\n#define _LWS_PAD_SIZE 16\t/* Intel recommended for best performance */\n#else\n#define _LWS_PAD_SIZE LWS_SIZEOFPTR   /* Size of a pointer on the target arch */\n#endif\n#define _LWS_PAD(n) (((n) % _LWS_PAD_SIZE) ? \\\n\t\t((n) + (_LWS_PAD_SIZE - ((n) % _LWS_PAD_SIZE))) : (n))\n/* last 2 is for lws-meta */\n#define LWS_PRE _LWS_PAD(4 + 10 + 2)\n/* used prior to 1.7 and retained for backward compatibility */\n#define LWS_SEND_BUFFER_PRE_PADDING LWS_PRE\n#define LWS_SEND_BUFFER_POST_PADDING 0\n\n#define LWS_WRITE_RAW LWS_WRITE_HTTP\n\n/*\n * NOTE: These public enums are part of the abi.  If you want to add one,\n * add it at where specified so existing users are unaffected.\n */\nenum lws_write_protocol {\n\tLWS_WRITE_TEXT\t\t\t\t\t\t= 0,\n\t/**< Send a ws TEXT message,the pointer must have LWS_PRE valid\n\t * memory behind it.\n\t *\n\t * The receiver expects only valid utf-8 in the payload */\n\tLWS_WRITE_BINARY\t\t\t\t\t= 1,\n\t/**< Send a ws BINARY message, the pointer must have LWS_PRE valid\n\t * memory behind it.\n\t *\n\t * Any sequence of bytes is valid */\n\tLWS_WRITE_CONTINUATION\t\t\t\t\t= 2,\n\t/**< Continue a previous ws message, the pointer must have LWS_PRE valid\n\t * memory behind it */\n\tLWS_WRITE_HTTP\t\t\t\t\t\t= 3,\n\t/**< Send HTTP content */\n\n\t/* LWS_WRITE_CLOSE is handled by lws_close_reason() */\n\tLWS_WRITE_PING\t\t\t\t\t\t= 5,\n\tLWS_WRITE_PONG\t\t\t\t\t\t= 6,\n\n\t/* Same as write_http but we know this write ends the transaction */\n\tLWS_WRITE_HTTP_FINAL\t\t\t\t\t= 7,\n\n\t/* HTTP2 */\n\n\tLWS_WRITE_HTTP_HEADERSLWS_WRITE_HTTP_HEADERS\t\t\t\t\t= 8,\n\t/**< Send http headers (http2 encodes this payload and LWS_WRITE_HTTP\n\t * payload differently, http 1.x links also handle this correctly. so\n\t * to be compatible with both in the future,header response part should\n\t * be sent using this regardless of http version expected)\n\t */\n\tLWS_WRITE_HTTP_HEADERS_CONTINUATION\t\t\t= 9,\n\t/**< Continuation of http/2 headers\n\t */\n\n\t/****** add new things just above ---^ ******/\n\n\t/* flags */\n\n\tLWS_WRITE_BUFLIST = 0x20,\n\t/**< Don't actually write it... stick it on the output buflist and\n\t *   write it as soon as possible.  Useful if you learn you have to\n\t *   write something, have the data to write to hand but the timing is\n\t *   unrelated as to whether the connection is writable or not, and were\n\t *   otherwise going to have to allocate a temp buffer and write it\n\t *   later anyway */\n\n\tLWS_WRITE_NO_FIN = 0x40,\n\t/**< This part of the message is not the end of the message */\n\n\tLWS_WRITE_H2_STREAM_END = 0x80,\n\t/**< Flag indicates this packet should go out with STREAM_END if h2\n\t * STREAM_END is allowed on DATA or HEADERS.\n\t */\n\n\tLWS_WRITE_CLIENT_IGNORE_XOR_MASK = 0x80\n\t/**< client packet payload goes out on wire unmunged\n\t * only useful for security tests since normal servers cannot\n\t * decode the content if used */\n};\n\n/* used with LWS_CALLBACK_CHILD_WRITE_VIA_PARENT */\n\nstruct lws_write_passthru {\n\tstruct lws *wsi;\n\tunsigned char *buf;\n\tsize_t len;\n\tenum lws_write_protocol wp;\n};\n\n\n/**\n * lws_write() - Apply protocol then write data to client\n *\n * \\param wsi:\tWebsocket instance (available from user callback)\n * \\param buf:\tThe data to send.  For data being sent on a websocket\n *\t\tconnection (ie, not default http), this buffer MUST have\n *\t\tLWS_PRE bytes valid BEFORE the pointer.\n *\t\tThis is so the protocol header data can be added in-situ.\n * \\param len:\tCount of the data bytes in the payload starting from buf\n * \\param protocol:\tUse LWS_WRITE_HTTP to reply to an http connection, and one\n *\t\tof LWS_WRITE_BINARY or LWS_WRITE_TEXT to send appropriate\n *\t\tdata on a websockets connection.  Remember to allow the extra\n *\t\tbytes before and after buf if LWS_WRITE_BINARY or LWS_WRITE_TEXT\n *\t\tare used.\n *\n * This function provides the way to issue data back to the client, for any\n * role (h1, h2, ws, raw, etc).  It can only be called from the WRITEABLE\n * callback.\n *\n * IMPORTANT NOTICE!\n *\n * When sending with ws protocol\n *\n * LWS_WRITE_TEXT,\n * LWS_WRITE_BINARY,\n * LWS_WRITE_CONTINUATION,\n * LWS_WRITE_PING,\n * LWS_WRITE_PONG,\n *\n * or sending on http/2... the send buffer has to have LWS_PRE bytes valid\n * BEFORE the buffer pointer you pass to lws_write().  Since you'll probably\n * want to use http/2 before too long, it's wise to just always do this with\n * lws_write buffers... LWS_PRE is typically 16 bytes it's not going to hurt\n * usually.\n *\n * start of alloc       ptr passed to lws_write      end of allocation\n *       |                         |                         |\n *       v  <-- LWS_PRE bytes -->  v                         v\n *       [----------------  allocated memory  ---------------]\n *              (for lws use)      [====== user buffer ======]\n *\n * This allows us to add protocol info before the data, and send as one packet\n * on the network without payload copying, for maximum efficiency.\n *\n * So for example you need this kind of code to use lws_write with a\n * 128-byte payload\n *\n *   char buf[LWS_PRE + 128];\n *\n *   // fill your part of the buffer... for example here it's all zeros\n *   memset(&buf[LWS_PRE], 0, 128);\n *\n *   if (lws_write(wsi, &buf[LWS_PRE], 128, LWS_WRITE_TEXT) < 128) {\n *   \t\t... the connection is dead ...\n *   \t\treturn -1;\n *   }\n *\n * LWS_PRE is currently 16, which covers ws and h2 frame headers, and is\n * compatible with 32 and 64-bit alignment requirements.\n *\n * (LWS_SEND_BUFFER_POST_PADDING is deprecated, it's now 0 and can be left off.)\n *\n * Return may be -1 is the write failed in a way indicating that the connection\n * has ended already, in which case you can close your side, or a positive\n * number that is at least the number of bytes requested to send (under some\n * encapsulation scenarios, it can indicate more than you asked was sent).\n *\n * The recommended test of the return is less than what you asked indicates\n * the connection has failed.\n *\n * Truncated Writes\n * ================\n *\n * The OS may not accept everything you asked to write on the connection.\n *\n * Posix defines POLLOUT indication from poll() to show that the connection\n * will accept more write data, but it doesn't specifiy how much.  It may just\n * accept one byte of whatever you wanted to send.\n *\n * LWS will buffer the remainder automatically, and send it out autonomously.\n *\n * During that time, WRITABLE callbacks to user code will be suppressed and\n * instead used internally.  After it completes, it will send an extra WRITEABLE\n * callback to the user code, in case any request was missed.  So it is possible\n * to receive unasked-for WRITEABLE callbacks, the user code should have enough\n * state to know if it wants to write anything and just return if not.\n *\n * This is to handle corner cases where unexpectedly the OS refuses what we\n * usually expect it to accept.  It's not recommended as the way to randomly\n * send huge payloads, since it is being copied on to heap and is inefficient.\n *\n * Huge payloads should instead be sent in fragments that are around 2 x mtu,\n * which is almost always directly accepted by the OS.  To simplify this for\n * ws fragments, there is a helper lws_write_ws_flags() below that simplifies\n * selecting the correct flags to give lws_write() for each fragment.\n *\n * In the case of RFC8441 ws-over-h2, you cannot send ws fragments larger than\n * the max h2 frame size, typically 16KB, but should further restrict it to\n * the same ~2 x mtu limit mentioned above.\n */\nLWS_VISIBLE LWS_EXTERN int\nlws_write(struct lws *wsi, unsigned char *buf, size_t len,\n\t  enum lws_write_protocol protocol);\n\n/* helper for case where buffer may be const */\n#define lws_write_http(wsi, buf, len) \\\n\tlws_write(wsi, (unsigned char *)(buf), len, LWS_WRITE_HTTP)\n\n/**\n * lws_write_ws_flags() - Helper for multi-frame ws message flags\n *\n * \\param initial: the lws_write flag to use for the start fragment, eg,\n *\t\t   LWS_WRITE_TEXT\n * \\param is_start: nonzero if this is the first fragment of the message\n * \\param is_end: nonzero if this is the last fragment of the message\n *\n * Returns the correct LWS_WRITE_ flag to use for each fragment of a message\n * in turn.\n */\nstatic LWS_INLINE int\nlws_write_ws_flags(int initial, int is_start, int is_end)\n{\n\tint r;\n\n\tif (is_start)\n\t\tr = initial;\n\telse\n\t\tr = LWS_WRITE_CONTINUATION;\n\n\tif (!is_end)\n\t\tr |= LWS_WRITE_NO_FIN;\n\n\treturn r;\n}\n\n/**\n * lws_raw_transaction_completed() - Helper for flushing before close\n *\n * \\param wsi: the struct lws to operate on\n *\n * Returns -1 if the wsi can close now.  However if there is buffered, unsent\n * data, the wsi is marked as to be closed when the output buffer data is\n * drained, and it returns 0.\n *\n * For raw cases where the transaction completed without failure,\n * `return lws_raw_transaction_completed(wsi)` should better be used than\n * return -1.\n */\nLWS_VISIBLE LWS_EXTERN int LWS_WARN_UNUSED_RESULT\nlws_raw_transaction_completed(struct lws *wsi);\n\n///@}\n",
			"file": "libwebsockets/include/libwebsockets/lws-write.h",
			"file_size": 10215,
			"file_write_time": 133122627153476103,
			"settings":
			{
				"buffer_size": 10237,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"duplicate_line",
					null,
					"AQAAAEULAAAAAAAAWwsAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAvCwAAAAAAAEULAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-client.h",
			"settings":
			{
				"buffer_size": 16709,
				"line_ending": "Unix"
			}
		},
		{
			"file": "lib/url.c",
			"settings":
			{
				"buffer_size": 13382,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					53,
					1,
					"cut",
					null,
					"AQAAAJMgAAAAAAAAkyAAAAAAAAAzAAAAICAgIGluZm8tPnNzbF9jb25uZWN0aW9uIHw9IExDQ1NDRl9BTExPV19JTlNFQ1VSRTsK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACTIAAAAAAAAMYgAAAAAAAAAAAAAAAAAAA"
				],
				[
					54,
					2,
					"paste",
					null,
					"AgAAAJMgAAAAAAAAxiAAAAAAAAAAAAAAxiAAAAAAAAD5IAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACTIAAAAAAAAJMgAAAAAAAAAAAAAAAA8L8"
				],
				[
					56,
					9,
					"left_delete",
					null,
					"CQAAAPYgAAAAAAAA9iAAAAAAAAABAAAARfUgAAAAAAAA9SAAAAAAAAABAAAAUvQgAAAAAAAA9CAAAAAAAAABAAAAVfMgAAAAAAAA8yAAAAAAAAABAAAAQ/IgAAAAAAAA8iAAAAAAAAABAAAARfEgAAAAAAAA8SAAAAAAAAABAAAAU/AgAAAAAAAA8CAAAAAAAAABAAAATu8gAAAAAAAA7yAAAAAAAAABAAAASe4gAAAAAAAA7iAAAAAAAAABAAAAXw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3IAAAAAAAAPcgAAAAAAAAAAAAAAAA8L8"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": "E"
					},
					"AQAAAO4gAAAAAAAA7yAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuIAAAAAAAAO4gAAAAAAAAAAAAAAAA8L8"
				],
				[
					58,
					1,
					"left_delete",
					null,
					"AQAAAO4gAAAAAAAA7iAAAAAAAAABAAAARQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADvIAAAAAAAAO8gAAAAAAAAAAAAAAAA8L8"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "_Expo"
					},
					"BQAAAO4gAAAAAAAA7yAAAAAAAAAAAAAA7yAAAAAAAADwIAAAAAAAAAAAAADwIAAAAAAAAPEgAAAAAAAAAAAAAPEgAAAAAAAA8iAAAAAAAAAAAAAA8iAAAAAAAADzIAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuIAAAAAAAAO4gAAAAAAAAAAAAAAAA8L8"
				],
				[
					60,
					3,
					"left_delete",
					null,
					"AwAAAPIgAAAAAAAA8iAAAAAAAAABAAAAb/EgAAAAAAAA8SAAAAAAAAABAAAAcPAgAAAAAAAA8CAAAAAAAAABAAAAeA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADzIAAAAAAAAPMgAAAAAAAAAAAAAAAA8L8"
				],
				[
					61,
					1,
					"insert",
					{
						"characters": "XPIRED"
					},
					"BgAAAPAgAAAAAAAA8SAAAAAAAAAAAAAA8SAAAAAAAADyIAAAAAAAAAAAAADyIAAAAAAAAPMgAAAAAAAAAAAAAPMgAAAAAAAA9CAAAAAAAAAAAAAA9CAAAAAAAAD1IAAAAAAAAAAAAAD1IAAAAAAAAPYgAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADwIAAAAAAAAPAgAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "lib/request.c",
			"settings":
			{
				"buffer_size": 4625,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					139,
					1,
					"paste",
					null,
					"AgAAAK0FAAAAAAAAtwUAAAAAAAAAAAAAtwUAAAAAAAC3BQAAAAAAAAUAAABGQUxTRQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtBQAAAAAAALIFAAAAAAAAAAAAAAAA8L8"
				],
				[
					140,
					1,
					"insert",
					{
						"characters": "/"
					},
					"AQAAALcFAAAAAAAAuAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC3BQAAAAAAALcFAAAAAAAAAAAAAAAA8L8"
				],
				[
					141,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALgFAAAAAAAAugUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC4BQAAAAAAALgFAAAAAAAAAAAAAAAA8L8"
				],
				[
					142,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAALgFAAAAAAAAuAUAAAAAAAABAAAAKLgFAAAAAAAAuAUAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5BQAAAAAAALkFAAAAAAAAAAAAAAAA8L8"
				],
				[
					143,
					1,
					"left_delete",
					null,
					"AQAAALcFAAAAAAAAtwUAAAAAAAABAAAALw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC4BQAAAAAAALgFAAAAAAAAAAAAAAAA8L8"
				],
				[
					144,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALcFAAAAAAAAuQUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC3BQAAAAAAALcFAAAAAAAAAAAAAAAA8L8"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "url"
					},
					"AwAAALgFAAAAAAAAuQUAAAAAAAAAAAAAuQUAAAAAAAC6BQAAAAAAAAAAAAC6BQAAAAAAALsFAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC4BQAAAAAAALgFAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "src/minnet-client.c",
			"redo_stack":
			[
				[
					338,
					1,
					"insert",
					{
						"characters": " -1"
					},
					"AwAAABYhAAAAAAAAFiEAAAAAAAABAAAAMRUhAAAAAAAAFSEAAAAAAAABAAAALRQhAAAAAAAAFCEAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAXIQAAAAAAABchAAAAAAAAAAAAAAAA8L8"
				],
				[
					337,
					1,
					"insert",
					{
						"characters": " :"
					},
					"AgAAABMhAAAAAAAAEyEAAAAAAAABAAAAOhIhAAAAAAAAEiEAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAUIQAAAAAAABQhAAAAAAAAAAAAAAAA8L8"
				],
				[
					334,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOMgAAAAAAAA4yAAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkIAAAAAAAAOQgAAAAAAAAAAAAAAAA8L8"
				],
				[
					333,
					1,
					"insert",
					{
						"characters": " ?"
					},
					"AgAAAOIgAAAAAAAA4iAAAAAAAAABAAAAP+EgAAAAAAAA4SAAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADjIAAAAAAAAOMgAAAAAAAAAAAAAAAA8L8"
				],
				[
					332,
					1,
					"paste",
					null,
					"AQAAAMQgAAAAAAAAxCAAAAAAAAAdAAAAY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2w",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADhIAAAAAAAAOEgAAAAAAAAAAAAAAAA8L8"
				]
			],
			"settings":
			{
				"buffer_size": 19206,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					62,
					1,
					"insert",
					{
						"characters": "if(("
					},
					"BAAAAHUVAAAAAAAAdhUAAAAAAAAAAAAAdhUAAAAAAAB3FQAAAAAAAAAAAAB3FQAAAAAAAHgVAAAAAAAAAAAAAHgVAAAAAAAAeRUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB1FQAAAAAAAHUVAAAAAAAAAAAAAAAAMkA"
				],
				[
					63,
					1,
					"left_delete",
					null,
					"AQAAAHgVAAAAAAAAeBUAAAAAAAABAAAAKA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB5FQAAAAAAAHkVAAAAAAAAAAAAAAAA8L8"
				],
				[
					64,
					1,
					"insert",
					{
						"characters": "!("
					},
					"AgAAAHgVAAAAAAAAeRUAAAAAAAAAAAAAeRUAAAAAAAB6FQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB4FQAAAAAAAHgVAAAAAAAAAAAAAAAA8L8"
				],
				[
					66,
					1,
					"left_delete",
					null,
					"AQAAAKkVAAAAAAAAqRUAAAAAAAABAAAAOw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACqFQAAAAAAAKoVAAAAAAAA////////738"
				],
				[
					67,
					1,
					"insert",
					{
						"characters": "))"
					},
					"AgAAAKkVAAAAAAAAqhUAAAAAAAAAAAAAqhUAAAAAAACrFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACpFQAAAAAAAKkVAAAAAAAAAAAAAAAA8L8"
				],
				[
					68,
					1,
					"left_delete",
					null,
					"AQAAAKoVAAAAAAAAqhUAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrFQAAAAAAAKsVAAAAAAAAAAAAAAAA8L8"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAKoVAAAAAAAAqxUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACqFQAAAAAAAKoVAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAKsVAAAAAAAArRUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrFQAAAAAAAKsVAAAAAAAAAAAAAAAA8L8"
				],
				[
					71,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAAKwVAAAAAAAArRUAAAAAAAAAAAAArRUAAAAAAACvFQAAAAAAAAAAAACvFQAAAAAAALAVAAAAAAAAAAAAALAVAAAAAAAAshUAAAAAAAAAAAAArRUAAAAAAACtFQAAAAAAAAIAAAAgIK0VAAAAAAAAsRUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsFQAAAAAAAKwVAAAAAAAAAAAAAAAA8L8"
				],
				[
					72,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AwAAALEVAAAAAAAAshUAAAAAAAAAAAAArRUAAAAAAACtFQAAAAAAAAQAAAAgICAgrRUAAAAAAACvFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxFQAAAAAAALEVAAAAAAAAAAAAAAAA8L8"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALAVAAAAAAAAsRUAAAAAAAAAAAAAsRUAAAAAAACzFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACwFQAAAAAAALAVAAAAAAAAAAAAAAAA8L8"
				],
				[
					85,
					1,
					"left_delete",
					null,
					"AwAAAK0VAAAAAAAArRUAAAAAAAAEAAAAICB9Cq0VAAAAAAAArRUAAAAAAAACAAAAICCtFQAAAAAAALEVAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtFQAAAAAAALEVAAAAAAAAAAAAAAAA8L8"
				],
				[
					88,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAALUVAAAAAAAAthUAAAAAAAAAAAAAthUAAAAAAAC4FQAAAAAAAAAAAACtFQAAAAAAAK0VAAAAAAAABAAAACAgICA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1FQAAAAAAALUVAAAAAAAAAAAAAAAAQkA"
				],
				[
					99,
					1,
					"insert",
					{
						"characters": "\nc.lie"
					},
					"CQAAAKwVAAAAAAAArRUAAAAAAAAAAAAArRUAAAAAAACvFQAAAAAAAAAAAACvFQAAAAAAALEVAAAAAAAAAAAAALcVAAAAAAAAtxUAAAAAAAACAAAAICCxFQAAAAAAALIVAAAAAAAAAAAAALIVAAAAAAAAsxUAAAAAAAAAAAAAsxUAAAAAAAC0FQAAAAAAAAAAAAC0FQAAAAAAALUVAAAAAAAAAAAAALUVAAAAAAAAthUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsFQAAAAAAAKwVAAAAAAAAAAAAAAAA8L8"
				],
				[
					100,
					4,
					"left_delete",
					null,
					"BAAAALUVAAAAAAAAtRUAAAAAAAABAAAAZbQVAAAAAAAAtBUAAAAAAAABAAAAabMVAAAAAAAAsxUAAAAAAAABAAAAbLIVAAAAAAAAshUAAAAAAAABAAAALg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2FQAAAAAAALYVAAAAAAAAAAAAAAAA8L8"
				],
				[
					101,
					1,
					"insert",
					{
						"characters": "lient_free"
					},
					"CgAAALIVAAAAAAAAsxUAAAAAAAAAAAAAsxUAAAAAAAC0FQAAAAAAAAAAAAC0FQAAAAAAALUVAAAAAAAAAAAAALUVAAAAAAAAthUAAAAAAAAAAAAAthUAAAAAAAC3FQAAAAAAAAAAAAC3FQAAAAAAALgVAAAAAAAAAAAAALgVAAAAAAAAuRUAAAAAAAAAAAAAuRUAAAAAAAC6FQAAAAAAAAAAAAC6FQAAAAAAALsVAAAAAAAAAAAAALsVAAAAAAAAvBUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACyFQAAAAAAALIVAAAAAAAAAAAAAAAA8L8"
				],
				[
					102,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALwVAAAAAAAAvhUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC8FQAAAAAAALwVAAAAAAAAAAAAAAAA8L8"
				],
				[
					103,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAL0VAAAAAAAAvhUAAAAAAAAAAAAAvhUAAAAAAAC/FQAAAAAAAAAAAAC/FQAAAAAAAMAVAAAAAAAAAAAAAMAVAAAAAAAAwRUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC9FQAAAAAAAL0VAAAAAAAAAAAAAAAA8L8"
				],
				[
					104,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMEVAAAAAAAAwhUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADBFQAAAAAAAMEVAAAAAAAAAAAAAAAA8L8"
				],
				[
					105,
					5,
					"left_delete",
					null,
					"BQAAAMEVAAAAAAAAwRUAAAAAAAABAAAAIMAVAAAAAAAAwBUAAAAAAAABAAAALL8VAAAAAAAAvxUAAAAAAAABAAAAeL4VAAAAAAAAvhUAAAAAAAABAAAAdL0VAAAAAAAAvRUAAAAAAAABAAAAYw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADCFQAAAAAAAMIVAAAAAAAAAAAAAAAA8L8"
				],
				[
					110,
					1,
					"left_delete",
					null,
					"AQAAAL0VAAAAAAAAvRUAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC+FQAAAAAAAL4VAAAAAAAAAAAAAAAA8L8"
				],
				[
					111,
					1,
					"insert",
					{
						"characters": "client,ctx);"
					},
					"DAAAAL0VAAAAAAAAvhUAAAAAAAAAAAAAvhUAAAAAAAC/FQAAAAAAAAAAAAC/FQAAAAAAAMAVAAAAAAAAAAAAAMAVAAAAAAAAwRUAAAAAAAAAAAAAwRUAAAAAAADCFQAAAAAAAAAAAADCFQAAAAAAAMMVAAAAAAAAAAAAAMMVAAAAAAAAxBUAAAAAAAAAAAAAxBUAAAAAAADFFQAAAAAAAAAAAADFFQAAAAAAAMYVAAAAAAAAAAAAAMYVAAAAAAAAxxUAAAAAAAAAAAAAxxUAAAAAAADIFQAAAAAAAAAAAADIFQAAAAAAAMkVAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC9FQAAAAAAAL0VAAAAAAAAAAAAAAAA8L8"
				],
				[
					112,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CAAAAMkVAAAAAAAAyhUAAAAAAAAAAAAAyhUAAAAAAADOFQAAAAAAAAAAAADOFQAAAAAAAM8VAAAAAAAAAAAAAM8VAAAAAAAA0BUAAAAAAAAAAAAA0BUAAAAAAADRFQAAAAAAAAAAAADRFQAAAAAAANIVAAAAAAAAAAAAANIVAAAAAAAA0xUAAAAAAAAAAAAA0xUAAAAAAADUFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADJFQAAAAAAAMkVAAAAAAAAAAAAAAAA8L8"
				],
				[
					113,
					1,
					"insert",
					{
						"characters": " JS_Throw"
					},
					"CQAAANQVAAAAAAAA1RUAAAAAAAAAAAAA1RUAAAAAAADWFQAAAAAAAAAAAADWFQAAAAAAANcVAAAAAAAAAAAAANcVAAAAAAAA2BUAAAAAAAAAAAAA2BUAAAAAAADZFQAAAAAAAAAAAADZFQAAAAAAANoVAAAAAAAAAAAAANoVAAAAAAAA2xUAAAAAAAAAAAAA2xUAAAAAAADcFQAAAAAAAAAAAADcFQAAAAAAAN0VAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUFQAAAAAAANQVAAAAAAAAAAAAAAAA8L8"
				],
				[
					115,
					1,
					"insert_completion",
					{
						"completion": "JS_ThrowInternalError",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "JS_ThrowInternalError"
					},
					"AgAAANUVAAAAAAAA1RUAAAAAAAAIAAAASlNfVGhyb3fVFQAAAAAAAOoVAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADdFQAAAAAAAN0VAAAAAAAAAAAAAAAA8L8"
				],
				[
					116,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAOoVAAAAAAAA7BUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADqFQAAAAAAAOoVAAAAAAAAAAAAAAAA8L8"
				],
				[
					117,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAOsVAAAAAAAA7BUAAAAAAAAAAAAA7BUAAAAAAADtFQAAAAAAAAAAAADtFQAAAAAAAO4VAAAAAAAAAAAAAO4VAAAAAAAA7xUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrFQAAAAAAAOsVAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAO8VAAAAAAAA8BUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADvFQAAAAAAAO8VAAAAAAAAAAAAAAAA8L8"
				],
				[
					125,
					1,
					"left_delete",
					null,
					"AQAAAPEVAAAAAAAA8RUAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADyFQAAAAAAAPIVAAAAAAAAAAAAAAAA8L8"
				],
				[
					127,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAPAVAAAAAAAA8hUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADwFQAAAAAAAPAVAAAAAAAAAAAAAAAA8L8"
				],
				[
					128,
					1,
					"insert",
					{
						"characters": "argument"
					},
					"CAAAAPEVAAAAAAAA8hUAAAAAAAAAAAAA8hUAAAAAAADzFQAAAAAAAAAAAADzFQAAAAAAAPQVAAAAAAAAAAAAAPQVAAAAAAAA9RUAAAAAAAAAAAAA9RUAAAAAAAD2FQAAAAAAAAAAAAD2FQAAAAAAAPcVAAAAAAAAAAAAAPcVAAAAAAAA+BUAAAAAAAAAAAAA+BUAAAAAAAD5FQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxFQAAAAAAAPEVAAAAAAAAAAAAAAAA8L8"
				],
				[
					129,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAPkVAAAAAAAA+hUAAAAAAAAAAAAA+hUAAAAAAAD7FQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD5FQAAAAAAAPkVAAAAAAAAAAAAAAAA8L8"
				],
				[
					130,
					1,
					"insert",
					{
						"characters": " must"
					},
					"BQAAAPsVAAAAAAAA/BUAAAAAAAAAAAAA/BUAAAAAAAD9FQAAAAAAAAAAAAD9FQAAAAAAAP4VAAAAAAAAAAAAAP4VAAAAAAAA/xUAAAAAAAAAAAAA/xUAAAAAAAAAFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD7FQAAAAAAAPsVAAAAAAAAAAAAAAAA8L8"
				],
				[
					131,
					1,
					"insert",
					{
						"characters": " be"
					},
					"AwAAAAAWAAAAAAAAARYAAAAAAAAAAAAAARYAAAAAAAACFgAAAAAAAAAAAAACFgAAAAAAAAMWAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAFgAAAAAAAAAWAAAAAAAAAAAAAAAA8L8"
				],
				[
					132,
					1,
					"insert",
					{
						"characters": " a"
					},
					"AgAAAAMWAAAAAAAABBYAAAAAAAAAAAAABBYAAAAAAAAFFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAADFgAAAAAAAAMWAAAAAAAAAAAAAAAA8L8"
				],
				[
					133,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAUWAAAAAAAABhYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAFFgAAAAAAAAUWAAAAAAAAAAAAAAAA8L8"
				],
				[
					134,
					1,
					"left_delete",
					null,
					"AQAAAAUWAAAAAAAABRYAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAGFgAAAAAAAAYWAAAAAAAAAAAAAAAA8L8"
				],
				[
					135,
					1,
					"insert",
					{
						"characters": " Rq"
					},
					"AwAAAAUWAAAAAAAABhYAAAAAAAAAAAAABhYAAAAAAAAHFgAAAAAAAAAAAAAHFgAAAAAAAAgWAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAFFgAAAAAAAAUWAAAAAAAAAAAAAAAA8L8"
				],
				[
					136,
					1,
					"left_delete",
					null,
					"AQAAAAcWAAAAAAAABxYAAAAAAAABAAAAcQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAIFgAAAAAAAAgWAAAAAAAAAAAAAAAA8L8"
				],
				[
					137,
					1,
					"insert",
					{
						"characters": "equest"
					},
					"BgAAAAcWAAAAAAAACBYAAAAAAAAAAAAACBYAAAAAAAAJFgAAAAAAAAAAAAAJFgAAAAAAAAoWAAAAAAAAAAAAAAoWAAAAAAAACxYAAAAAAAAAAAAACxYAAAAAAAAMFgAAAAAAAAAAAAAMFgAAAAAAAA0WAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAHFgAAAAAAAAcWAAAAAAAAAAAAAAAA8L8"
				],
				[
					138,
					1,
					"insert",
					{
						"characters": " object"
					},
					"BwAAAA0WAAAAAAAADhYAAAAAAAAAAAAADhYAAAAAAAAPFgAAAAAAAAAAAAAPFgAAAAAAABAWAAAAAAAAAAAAABAWAAAAAAAAERYAAAAAAAAAAAAAERYAAAAAAAASFgAAAAAAAAAAAAASFgAAAAAAABMWAAAAAAAAAAAAABMWAAAAAAAAFBYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANFgAAAAAAAA0WAAAAAAAAAAAAAAAA8L8"
				],
				[
					139,
					1,
					"insert",
					{
						"characters": " or"
					},
					"AwAAABQWAAAAAAAAFRYAAAAAAAAAAAAAFRYAAAAAAAAWFgAAAAAAAAAAAAAWFgAAAAAAABcWAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAUFgAAAAAAABQWAAAAAAAAAAAAAAAA8L8"
				],
				[
					140,
					1,
					"insert",
					{
						"characters": " a"
					},
					"AgAAABcWAAAAAAAAGBYAAAAAAAAAAAAAGBYAAAAAAAAZFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAXFgAAAAAAABcWAAAAAAAAAAAAAAAA8L8"
				],
				[
					141,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABkWAAAAAAAAGhYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAZFgAAAAAAABkWAAAAAAAAAAAAAAAA8L8"
				],
				[
					142,
					1,
					"left_delete",
					null,
					"AQAAABkWAAAAAAAAGRYAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAaFgAAAAAAABoWAAAAAAAAAAAAAAAA8L8"
				],
				[
					143,
					1,
					"insert",
					{
						"characters": "n"
					},
					"AQAAABkWAAAAAAAAGhYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAZFgAAAAAAABkWAAAAAAAAAAAAAAAA8L8"
				],
				[
					144,
					1,
					"insert",
					{
						"characters": " URL"
					},
					"BAAAABoWAAAAAAAAGxYAAAAAAAAAAAAAGxYAAAAAAAAcFgAAAAAAAAAAAAAcFgAAAAAAAB0WAAAAAAAAAAAAAB0WAAAAAAAAHhYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAaFgAAAAAAABoWAAAAAAAAAAAAAAAA8L8"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": " string"
					},
					"BwAAAB4WAAAAAAAAHxYAAAAAAAAAAAAAHxYAAAAAAAAgFgAAAAAAAAAAAAAgFgAAAAAAACEWAAAAAAAAAAAAACEWAAAAAAAAIhYAAAAAAAAAAAAAIhYAAAAAAAAjFgAAAAAAAAAAAAAjFgAAAAAAACQWAAAAAAAAAAAAACQWAAAAAAAAJRYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAeFgAAAAAAAB4WAAAAAAAAAAAAAAAA8L8"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAACcWAAAAAAAAKBYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAnFgAAAAAAACcWAAAAAAAAAAAAAAAA8L8"
				],
				[
					158,
					1,
					"insert",
					{
						"characters": "/R"
					},
					"AgAAAA0WAAAAAAAADhYAAAAAAAAAAAAADhYAAAAAAAAPFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANFgAAAAAAAA0WAAAAAAAAAAAAAAAA8L8"
				],
				[
					159,
					2,
					"left_delete",
					null,
					"AgAAAA4WAAAAAAAADhYAAAAAAAABAAAAUg0WAAAAAAAADRYAAAAAAAABAAAALw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAPFgAAAAAAAA8WAAAAAAAAAAAAAAAA8L8"
				],
				[
					160,
					1,
					"insert",
					{
						"characters": "/URL"
					},
					"BAAAAA0WAAAAAAAADhYAAAAAAAAAAAAADhYAAAAAAAAPFgAAAAAAAAAAAAAPFgAAAAAAABAWAAAAAAAAAAAAABAWAAAAAAAAERYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANFgAAAAAAAA0WAAAAAAAAAAAAAAAA8L8"
				],
				[
					180,
					1,
					"insert",
					{
						"characters": "Ty'e"
					},
					"BQAAAN0VAAAAAAAA3hUAAAAAAAAAAAAA3hUAAAAAAADeFQAAAAAAAAgAAABJbnRlcm5hbN4VAAAAAAAA3xUAAAAAAAAAAAAA3xUAAAAAAADgFQAAAAAAAAAAAADgFQAAAAAAAOEVAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADdFQAAAAAAAOUVAAAAAAAAAAAAAAAA8L8"
				],
				[
					181,
					2,
					"left_delete",
					null,
					"AgAAAOAVAAAAAAAA4BUAAAAAAAABAAAAZd8VAAAAAAAA3xUAAAAAAAABAAAAJw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADhFQAAAAAAAOEVAAAAAAAAAAAAAAAA8L8"
				],
				[
					182,
					1,
					"insert",
					{
						"characters": "pe"
					},
					"AgAAAN8VAAAAAAAA4BUAAAAAAAAAAAAA4BUAAAAAAADhFQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADfFQAAAAAAAN8VAAAAAAAAAAAAAAAA8L8"
				],
				[
					226,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAJUWAAAAAAAAlxYAAAAAAAAAAAAAMBYAAAAAAAAyFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVFgAAAAAAADAWAAAAAAAAAAAAAAAA8L8"
				],
				[
					235,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAAEXAAAAAAAAAhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAABFwAAAAAAAAEXAAAAAAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "lib/url.h",
			"settings":
			{
				"buffer_size": 3603,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					103,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAFMDAAAAAAAAVAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABTAwAAAAAAAFMDAAAAAAAAAAAAAAAA8L8"
				],
				[
					112,
					1,
					"cut",
					null,
					"AQAAAMsIAAAAAAAAywgAAAAAAABsAAAACnN0YXRpYyBpbmxpbmUgZW51bSBwcm90b2NvbAp1cmxfcHJvdG9jb2woY29uc3Qgc3RydWN0IHVybCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0K",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADLCAAAAAAAADcJAAAAAAAAAAAAAAAA8L8"
				],
				[
					113,
					2,
					"paste",
					null,
					"AgAAAMsIAAAAAAAANwkAAAAAAAAAAAAANwkAAAAAAACjCQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADLCAAAAAAAAMsIAAAAAAAAAAAAAAAA8L8"
				],
				[
					116,
					1,
					"insert",
					{
						"characters": "kis"
					},
					"BAAAAFgJAAAAAAAAWQkAAAAAAAAAAAAAWQkAAAAAAABZCQAAAAAAAAgAAABwcm90b2NvbFkJAAAAAAAAWgkAAAAAAAAAAAAAWgkAAAAAAABbCQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABYCQAAAAAAAGAJAAAAAAAAAAAAAAAA8L8"
				],
				[
					117,
					3,
					"left_delete",
					null,
					"AwAAAFoJAAAAAAAAWgkAAAAAAAABAAAAc1kJAAAAAAAAWQkAAAAAAAABAAAAaVgJAAAAAAAAWAkAAAAAAAABAAAAaw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABbCQAAAAAAAFsJAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": "is_tls"
					},
					"BgAAAFgJAAAAAAAAWQkAAAAAAAAAAAAAWQkAAAAAAABaCQAAAAAAAAAAAABaCQAAAAAAAFsJAAAAAAAAAAAAAFsJAAAAAAAAXAkAAAAAAAAAAAAAXAkAAAAAAABdCQAAAAAAAAAAAABdCQAAAAAAAF4JAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABYCQAAAAAAAFgJAAAAAAAAAAAAAAAA8L8"
				],
				[
					125,
					1,
					"insert",
					{
						"characters": "BOOL"
					},
					"BQAAAEYJAAAAAAAARwkAAAAAAAAAAAAARwkAAAAAAABHCQAAAAAAAA0AAABlbnVtIHByb3RvY29sRwkAAAAAAABICQAAAAAAAAAAAABICQAAAAAAAEkJAAAAAAAAAAAAAEkJAAAAAAAASgkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABGCQAAAAAAAFMJAAAAAAAA////////738"
				],
				[
					131,
					1,
					"insert",
					{
						"characters": "url.protocol"
					},
					"DAAAAHcJAAAAAAAAeAkAAAAAAAAAAAAAeAkAAAAAAAB5CQAAAAAAAAAAAAB5CQAAAAAAAHoJAAAAAAAAAAAAAHoJAAAAAAAAewkAAAAAAAAAAAAAewkAAAAAAAB8CQAAAAAAAAAAAAB8CQAAAAAAAH0JAAAAAAAAAAAAAH0JAAAAAAAAfgkAAAAAAAAAAAAAfgkAAAAAAAB/CQAAAAAAAAAAAAB/CQAAAAAAAIAJAAAAAAAAAAAAAIAJAAAAAAAAgQkAAAAAAAAAAAAAgQkAAAAAAACCCQAAAAAAAAAAAACCCQAAAAAAAIMJAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB3CQAAAAAAAHcJAAAAAAAAAAAAAAAA8L8"
				],
				[
					132,
					1,
					"insert",
					{
						"characters": " ?"
					},
					"AgAAAIMJAAAAAAAAhAkAAAAAAAAAAAAAhAkAAAAAAACFCQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACDCQAAAAAAAIMJAAAAAAAAAAAAAAAA8L8"
				],
				[
					133,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIUJAAAAAAAAhgkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFCQAAAAAAAIUJAAAAAAAAAAAAAAAA8L8"
				],
				[
					134,
					1,
					"insert",
					{
						"characters": "p"
					},
					"AQAAAIYJAAAAAAAAhwkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGCQAAAAAAAIYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					135,
					1,
					"left_delete",
					null,
					"AQAAAIYJAAAAAAAAhgkAAAAAAAABAAAAcA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACHCQAAAAAAAIcJAAAAAAAAAAAAAAAA8L8"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIYJAAAAAAAAhwkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGCQAAAAAAAIYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					144,
					1,
					"insert",
					{
						"characters": "protocol_is_tls"
					},
					"DwAAAIYJAAAAAAAAhwkAAAAAAAAAAAAAhwkAAAAAAACICQAAAAAAAAAAAACICQAAAAAAAIkJAAAAAAAAAAAAAIkJAAAAAAAAigkAAAAAAAAAAAAAigkAAAAAAACLCQAAAAAAAAAAAACLCQAAAAAAAIwJAAAAAAAAAAAAAIwJAAAAAAAAjQkAAAAAAAAAAAAAjQkAAAAAAACOCQAAAAAAAAAAAACOCQAAAAAAAI8JAAAAAAAAAAAAAI8JAAAAAAAAkAkAAAAAAAAAAAAAkAkAAAAAAACRCQAAAAAAAAAAAACRCQAAAAAAAJIJAAAAAAAAAAAAAJIJAAAAAAAAkwkAAAAAAAAAAAAAkwkAAAAAAACUCQAAAAAAAAAAAACUCQAAAAAAAJUJAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGCQAAAAAAAIYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					145,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJUJAAAAAAAAlwkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVCQAAAAAAAJUJAAAAAAAAAAAAAAAA8L8"
				],
				[
					146,
					2,
					"right_delete",
					null,
					"AgAAAJYJAAAAAAAAlgkAAAAAAAABAAAAKZYJAAAAAAAAlgkAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWCQAAAAAAAJYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					148,
					1,
					"left_delete",
					null,
					"AQAAALMJAAAAAAAAswkAAAAAAAABAAAAOw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC0CQAAAAAAALQJAAAAAAAA////////738"
				],
				[
					149,
					1,
					"insert",
					{
						"characters": "=_"
					},
					"AgAAALMJAAAAAAAAtAkAAAAAAAAAAAAAtAkAAAAAAAC1CQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACzCQAAAAAAALMJAAAAAAAAAAAAAAAA8L8"
				],
				[
					150,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALUJAAAAAAAAtgkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1CQAAAAAAALUJAAAAAAAAAAAAAAAA8L8"
				],
				[
					151,
					3,
					"left_delete",
					null,
					"AwAAALUJAAAAAAAAtQkAAAAAAAABAAAAILQJAAAAAAAAtAkAAAAAAAABAAAAX7MJAAAAAAAAswkAAAAAAAABAAAAPQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2CQAAAAAAALYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					152,
					1,
					"insert",
					{
						"characters": "):"
					},
					"AgAAALMJAAAAAAAAtAkAAAAAAAAAAAAAtAkAAAAAAAC1CQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACzCQAAAAAAALMJAAAAAAAAAAAAAAAA8L8"
				],
				[
					153,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALUJAAAAAAAAtgkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1CQAAAAAAALUJAAAAAAAAAAAAAAAA8L8"
				],
				[
					154,
					2,
					"left_delete",
					null,
					"AgAAALUJAAAAAAAAtQkAAAAAAAABAAAAILQJAAAAAAAAtAkAAAAAAAABAAAAOg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2CQAAAAAAALYJAAAAAAAAAAAAAAAA8L8"
				],
				[
					155,
					1,
					"insert",
					{
						"characters": " :"
					},
					"AgAAALQJAAAAAAAAtQkAAAAAAAAAAAAAtQkAAAAAAAC2CQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC0CQAAAAAAALQJAAAAAAAAAAAAAAAA8L8"
				],
				[
					156,
					1,
					"insert",
					{
						"characters": " FALSE;"
					},
					"BwAAALYJAAAAAAAAtwkAAAAAAAAAAAAAtwkAAAAAAAC4CQAAAAAAAAAAAAC4CQAAAAAAALkJAAAAAAAAAAAAALkJAAAAAAAAugkAAAAAAAAAAAAAugkAAAAAAAC7CQAAAAAAAAAAAAC7CQAAAAAAALwJAAAAAAAAAAAAALwJAAAAAAAAvQkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2CQAAAAAAALYJAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "lib/request.h",
			"settings":
			{
				"buffer_size": 1568,
				"line_ending": "Unix"
			}
		}
	],
	"build_system": "Packages/Makefile/Make.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Build debug",
					""
				],
				[
					"CMake",
					""
				],
				[
					"Rebuild CScope",
					""
				],
				[
					"Rebuild CTags",
					""
				],
				[
					"clang-format",
					""
				],
				[
					"make",
					""
				],
				[
					"prettier",
					""
				],
				[
					"Packages/C++/C Single File.sublime-build",
					""
				],
				[
					"Packages/C++/C Single File.sublime-build",
					"Run"
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/NinjaBuild/ninja.sublime-build",
					""
				]
			],
			[
				"Packages/Makefile/Make.sublime-build",
				"Clean"
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"lua",
				"Pretty Lua: Format"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"install pac",
				"Package Control: Install Package"
			],
			[
				"prettier",
				"JsPrettier: Format Code"
			],
			[
				"prett",
				"JsPrettier: Format Code"
			],
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"list pack",
				"Package Control: List Packages"
			],
			[
				"edit ",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/android/app/src/main/AndroidManifest.xml",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/client/client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/generator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/headers.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/headers.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/queue.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake5.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake4.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/build.ninja",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.c",
		"/home/roman/Projects/quickjs/Makefile",
		"/home/roman/Projects/qjs-net/Makefile",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/log.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/common.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-client-http.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c",
		"/home/roman/Projects/mariadb-10.3-10.3.38/libmariadb/include/mysql.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build-libwebsockets.sh",
		"/home/roman/Projects/openssl-3.0.2/Makefile",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build.ninja",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/server.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/test-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ref.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ref.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
		"/home/roman/Projects/nanovg/premake4.lua",
		"/home/roman/Projects/c-parse/nanosvg/premake4.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.h",
		"/home/roman/Projects/an-tronics/eagle/Simple-Bug-2SC9014.brd",
		"/home/roman/Projects/an-tronics/eagle/Simple-Bug-2SC9014.sch",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/context.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/context.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-http.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-custom-headers/minimal-http-server-custom-headers.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-sse/minimal-http-server-sse.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-callbacks.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-write.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/queue.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/callback.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.c",
		"/home/roman/Projects/plot-cv/quickjs/list.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-websocket.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-response.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/test.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/lws-common.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-client/minimal-ws-client-rx/minimal-ws-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-form-parser.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-form-parser.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/socks5-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/plugins/mirror.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-ws.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/closure.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/closure.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/poll.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/allocated.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/js/minnet.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/list.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-hash.c"
	],
	"find":
	{
		"height": 26.0
	},
	"find_in_files":
	{
		"height": 146.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h",
			"<project filters>,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"<project filters>,*.[ch],-*/build/*,-*/libwebsockets/*",
			"<project filters>,-*/build/*,-*/libwebsockets/*",
			"<project filters>",
			"*.[ch],lib/*.[ch]",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"inspect\\(",
			"inspect<(",
			"quote",
			"toArrayBuffer",
			"toString",
			"WriteFile",
			"toArrayBuf",
			"GetOpt",
			"proto",
			"secure",
			"url_protocol",
			"url_",
			"url_is",
			"protocol_number",
			"url_protocol",
			"}\\n([^\\n])",
			"}\\n[^\\n]",
			"\"onFd",
			"'onFd",
			"onFd",
			"'onFd",
			"Console",
			"[^']net\\.so'",
			"net\\.so'",
			"FINISHED",
			"lws_finalize_write_http_header",
			"LWS_WRITE_",
			"LWS_WRITE_HTTP_HEADERS",
			"LWS_WRITE_H2_STREAM_END",
			"lws_write\\(",
			"lws_write",
			"LCCSCF_",
			"h2",
			"1024",
			"GetOpt",
			"main\\(",
			"getOpt",
			"quit\\(",
			"createWS",
			"createWSD",
			"from",
			"fn",
			"net\\.client",
			"client",
			"ConsoleOp",
			"Request",
			"Socket",
			"fs\\.",
			"Socket",
			"sockets",
			"\\$l64",
			"request_free_rt",
			"closure\\.",
			"http_closure",
			"closure",
			"callback_count",
			"struct session_data {",
			"LOG\\(",
			"lws_write",
			"bytes_written",
			"generator_write",
			"404",
			"_WRITEABLE:",
			"#\t\\$\\(CC\\).*-c -o build[^\\n]*\\n\\n",
			"src/",
			"lib/",
			" %.",
			"serve_file\\(",
			"struct session_data {",
			"struct session_data",
			"js_function_cc",
			"js_cclosure_class_id",
			"cfcr",
			"js_cclosure_record",
			"js_cclosure_fRecord",
			"JS_NewCF",
			"JS_NewCClosure",
			"JS_NewCClosure\\(",
			"JS_NewCClosure",
			"CFunctionClosure",
			"^typedef.*;$",
			"^typedef ",
			"^typedef",
			"_new\\(",
			"^MYSQL \\*",
			"real_query_start",
			"'push",
			"REQUEST_HEADER",
			"wait_resolve=",
			"wait_resolve",
			"minnet_log_this",
			"block",
			"opt_block",
			"\"block\"",
			"connecting to",
			"'Client conn",
			"lient connecting",
			"connecting",
			"'MinnetClient",
			"onClose",
			"open\\(",
			"readable",
			"connecting",
			"pr\\[",
			"onHttp",
			"setLog\\(",
			"setLog",
			"open\\(",
			"setLog",
			"log\\(",
			"'promise'",
			"promise",
			"Fetch",
			"TestFetch",
			"respond_",
			"respond",
			"_respond",
			"\\$TYPE",
			"CFLAGS=",
			"minnet",
			"net\\.so",
			"install_sw",
			"-g ",
			"\"(openssl|libwebsockets)\"",
			"\"quickjs\"",
			"flags",
			"DEBUG\"",
			"\\, "
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"}\\n\\n\\1",
			"}\\n\\n",
			"",
			"ccr",
			"JSCClosureRecord",
			"js_cclosure_record",
			"js_cclosure_new(",
			"js_cclosure_f",
			"\"with-\\1\"",
			"\"with-quickjs\"",
			"\\n    ",
			" }",
			"{ ",
			"SharedLib",
			"JS_SHARED_LIBRARY",
			"$quickjs_prefix",
			" -I",
			"$libwebsockets_prefix",
			"${OPENSSL_PREFIX}",
			"OPENSSL_PREFIX",
			"",
			"cb->ctx",
			"session_callback",
			"struct socket",
			"struct form_parser",
			"QJSNET_LIB_LWS_UTILS_H",
			"\\1",
			"",
			")",
			"push_value",
			"push_block",
			"session",
			"opaque_list",
			"session",
			",",
			"\\1#\\2",
			"resp",
			"opaque",
			"}\\n\n    case ",
			"tail_bind",
			"tail_decorate",
			"RINGBUFFER_COUNT",
			"RINGBUFFER_BYTELEN",
			"RINGBUFFER_ELEMENTLEN",
			"RINGBUFFER_INSERTRANGE",
			"RINGBUFFER_LINEARINSERTRANGE",
			"linearInsertRange",
			"RINGBUFFER_ELEMENTLENGTH",
			"rb",
			"buf.",
			"FinalizerFunction",
			"DeferredFunction",
			"FunctionPointer",
			"av[",
			"session",
			"MinnetHttpMount",
			"MinnetResponse",
			"wsi",
			"ws->lwsi",
			"QJSNET_LIB_ASYNCITERATOR_H",
			"JS_FreeValueRT(rt,",
			"client->request",
			"MINNET",
			"MINNET_RINGBUFFER_H",
			"WJSNET_LIBQJSNET_LIB_RESPONSE_H",
			"WJSNET_LIBQJSNET_LIB_REQUEST_H",
			"WJSNET_LIBQJSNET_LIB_URL_H",
			"WJSNET_LIBQJSNET_LIB_WS_H",
			"WJSNET_LIB",
			"response",
			"arequest",
			"\\1//console",
			"log",
			"\\1",
			"\\1//DEBUG",
			"fp",
			"JS_FreeValueRT(rt,",
			"DEBUG(",
			"printf(",
			"printf(\"",
			" DEBUG(",
			"is_h2",
			"get_host_and_port",
			"JSCallback",
			"MINNET_GENERATOR_H",
			"MINNET_RINGBUFFER_H",
			"QUICKJS_NET_LIB_POLL_H",
			"(wsi_token_exists(\\1))",
			"h2",
			"closure_free",
			"closure_dup(cc)",
			"fetch_",
			"MinnetFetch",
			"MinnetHandler",
			"js_entry_reset",
			"js_entry_clear",
			"req->url."
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": null,
							"function_name_status_row": 18,
							"outline_rename_mode": false,
							"symkeys":
							[
							],
							"symlist":
							[
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679834272.04,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "src/minnet-request.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9519,
						"regions":
						{
						},
						"selection":
						[
							[
								8410,
								8410
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 343,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679846410.24,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5448.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "test-rpc.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10052,
						"regions":
						{
						},
						"selection":
						[
							[
								9331,
								9331
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 296,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679830892.65,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4641.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "wscli.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11029,
						"regions":
						{
						},
						"selection":
						[
							[
								2654,
								2654
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 112,
							"rulers":
							[
							],
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679846407.14,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true,
							"wrap_width": 0
						},
						"translation.x": 0.0,
						"translation.y": 1700.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "tests/server.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4795,
						"regions":
						{
						},
						"selection":
						[
							[
								893,
								893
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 17,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679833339.03,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 253.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "tests/spawn.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1101,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679833305.64,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "tests/log.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2014,
						"regions":
						{
						},
						"selection":
						[
							[
								1910,
								1910
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 63,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679833304.95,
							"tabs_extra_last_activated_sheet_index": 6,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 576.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "libwebsockets/lib/roles/http/header.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16844,
						"regions":
						{
						},
						"selection":
						[
							[
								3050,
								3050
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 121,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679833023.68,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1613.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "libwebsockets/include/libwebsockets/lws-http.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 36543,
						"regions":
						{
						},
						"selection":
						[
							[
								23778,
								23808
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 671,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 3,
							"tabs_extra_last_activated": 1679833025.0,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 10963.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "libwebsockets/lib/roles/http/server/server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 88331,
						"regions":
						{
						},
						"selection":
						[
							[
								26389,
								26389
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1057,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679832791.91,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 17525.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "libwebsockets/include/libwebsockets/lws-write.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10237,
						"regions":
						{
						},
						"selection":
						[
							[
								2885,
								2907
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 78,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1679832838.82,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 717.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "libwebsockets/include/libwebsockets/lws-client.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16709,
						"regions":
						{
						},
						"selection":
						[
							[
								1727,
								1747
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 40,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679832673.85,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 287.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "lib/url.c",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 13382,
						"regions":
						{
						},
						"selection":
						[
							[
								607,
								607
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 36,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679856233.16,
							"tabs_extra_last_activated_sheet_index": 11,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 459.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "lib/request.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4625,
						"regions":
						{
						},
						"selection":
						[
							[
								4288,
								4297
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 79,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679834277.09,
							"tabs_extra_last_activated_sheet_index": 13,
							"tabs_extra_moving":
							[
								5,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2992.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "src/minnet-client.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 19206,
=======
							"‚ÄÉ‚ìâ‚ÄÇ‚ÄÉHTTPAsyncResolveClosure‚Äâ;‚ÄÉ‚Äî‚ÄÉtypedef",
							"‚Äî‚íª‚Äì‚ÄÉhttp_client_callback‚Äâ(‚Äâ)‚ÄÉ{‚Äâ‚Ä¶‚Äâ}‚ÄÉ‚Äî‚ÄÉfunction"
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTAwAAICDik4IgIExXU19ETEwg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19JTlRFUk5BTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFVUVMRU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NSU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIFJYRkxPV19NQVgg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIE1BWF9NSVJST1JfSU5TVEFOQ0VTIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pKeICBtaXJyb3JfaW5zdGFuY2UgOyDigJQgdHlwZSBkZWNsYXJhdGlvbgrigJTikrjigJMgcGVyX3Nlc3Npb25fZGF0YV9fbHdzX21pcnJvciB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIGFfbWVzc2FnZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIG1pcnJvcl9pbnN0YW5jZSB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHBlcl92aG9zdF9kYXRhX19sd3NfbWlycm9yIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrvigJMgX19taXJyb3JfcnhmbG93X2luc3RhbmNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19taXJyb3JfdXBkYXRlX3dvcnN0X3RhaWwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9jYWxsYmFja19hbGxfaW5fbWlfb25fd3JpdGFibGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBfX21pcnJvcl9kZXN0cm95X21lc3NhZ2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBjYWxsYmFja19sd3NfbWlycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgTFdTX1BMVUdJTl9QUk9UT0NPTF9NSVJST1Ig4oCmIOKAlCBtYWNybyBvYmplY3QAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					534,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
						"symkeys":
						[
							[
								1,
								12
							],
							[
								15,
								36
							],
							[
								590,
								605
							],
							[
								773,
								790
							],
							[
								1077,
								1106
							],
							[
								1456,
								1492
							],
							[
								3319,
								3361
							],
							[
								4162,
								4195
							],
							[
								4293,
								4313
							],
							[
								4561,
								4597
							],
							[
								4685,
								4706
							],
							[
								5000,
								5025
							],
							[
								5121,
								5141
							],
							[
								5391,
								5427
							],
							[
								6320,
								6341
							],
							[
								6598,
								6614
							],
							[
								6649,
								6664
							],
							[
								6748,
								6765
							],
							[
								51306,
								51324
							],
							[
								51448,
								51468
							],
							[
								51933,
								51955
							],
							[
								52495,
								52514
							],
							[
								52612,
								52635
							],
							[
								52705,
								52734
							],
							[
								52912,
								52938
							],
							[
								53451,
								53477
							],
							[
								53494,
								53517
							],
							[
								53549,
								53574
							],
							[
								53693,
								53713
							],
							[
								53994,
								54030
							],
							[
								54494,
								54515
							],
							[
								55434,
								55457
							],
							[
								55616,
								55627
							]
						],
						"symlist":
						[
							"function ()",
							"function check_file()",
							"function san(s)",
							"init: function ()",
							"searchString: function (data)",
							"searchVersion: function (dataString)",
							"function get_appropriate_ws_url(extra_url)",
							"function ws_open_dumb_increment()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function ws_open_status()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function reset()",
							"function junk()",
							"function on_pmd()",
							"function ot_open()",
							".onopen = function()",
							".onclose = function(e)",
							"function ot_close()",
							"function ot_req_close()",
							"function lm_timer_handler(ev)",
							"function ev_mousemove (ev)",
							"function ev_mousedown (ev)",
							"function ev_mouseup(ev)",
							"function ws_open_mirror()",
							".onopen = function()",
							".onmessage =function got_packet(msg)",
							".onclose = function()",
							"function update_color()",
							" function()"
						]
					},
					"AQAAAAAAAAAAAAAAwgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADCAgAAKCkKICBjaGVja19maWxlKCkKICBzYW4ocykKICBpbml0OiBmdW5jdGlvbiAoKQogIHNlYXJjaFN0cmluZzogZnVuY3Rpb24gKGRhdGEpCiAgc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24gKGRhdGFTdHJpbmcpCiAgZ2V0X2FwcHJvcHJpYXRlX3dzX3VybChleHRyYV91cmwpCiAgd3Nfb3Blbl9kdW1iX2luY3JlbWVudCgpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICB3c19vcGVuX3N0YXR1cygpCiAgLm9ub3BlbiA9IGZ1bmN0aW9uKCkKICAub25tZXNzYWdlID1mdW5jdGlvbiBnb3RfcGFja2V0KG1zZykKICAub25jbG9zZSA9IGZ1bmN0aW9uKCkKICByZXNldCgpCiAganVuaygpCiAgb25fcG1kKCkKICBvdF9vcGVuKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oZSkKICBvdF9jbG9zZSgpCiAgb3RfcmVxX2Nsb3NlKCkKICBsbV90aW1lcl9oYW5kbGVyKGV2KQogIGV2X21vdXNlbW92ZSAoZXYpCiAgZXZfbW91c2Vkb3duIChldikKICBldl9tb3VzZXVwKGV2KQogIHdzX29wZW5fbWlycm9yKCkKICAub25vcGVuID0gZnVuY3Rpb24oKQogIC5vbm1lc3NhZ2UgPWZ1bmN0aW9uIGdvdF9wYWNrZXQobXNnKQogIC5vbmNsb3NlID0gZnVuY3Rpb24oKQogIHVwZGF0ZV9jb2xvcigpCiAgZnVuY3Rpb24oKQAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1446,
								1464
							],
							[
								1523,
								1550
							],
							[
								1642,
								1660
							],
							[
								1719,
								1740
							],
							[
								1846,
								1864
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					3,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1382,
								1400
							],
							[
								1459,
								1486
							],
							[
								1578,
								1596
							],
							[
								1655,
								1676
							],
							[
								1782,
								1800
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAgKGxldmVsLCBtZXNzYWdlKSA9PgonLzQwNC5odG1sJzogZnVuY3Rpb24qKHJlcSwgcmVzKQoqZ2VuZXJhdG9yKHJlcSwgcmVzKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uKQogIG9uRXJyb3Iod3MsIGVycm9yKQogIG9uSHR0cCh3cywgcmVxLCByZXNwKQogIG9uTWVzc2FnZSh3cywgbXNnKQAAAAAAAAAAwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					4,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1382,
								1400
							],
							[
								1459,
								1486
							],
							[
								1578,
								1596
							],
							[
								1655,
								1676
							],
							[
								1782,
								1800
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					5,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								596,
								616
							],
							[
								855,
								888
							],
							[
								1145,
								1165
							],
							[
								1382,
								1400
							],
							[
								1459,
								1486
							],
							[
								1578,
								1596
							],
							[
								1655,
								1676
							],
							[
								1782,
								1800
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					6,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								290,
								310
							],
							[
								549,
								582
							],
							[
								839,
								859
							],
							[
								1076,
								1094
							],
							[
								1153,
								1180
							],
							[
								1272,
								1290
							],
							[
								1349,
								1370
							],
							[
								1476,
								1494
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					7,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								290,
								310
							],
							[
								549,
								582
							],
							[
								839,
								859
							],
							[
								1076,
								1094
							],
							[
								1153,
								1180
							],
							[
								1272,
								1290
							],
							[
								1349,
								1370
							],
							[
								1476,
								1494
							]
						],
						"symlist":
						[
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					8,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								172
							],
							[
								294,
								314
							],
							[
								553,
								586
							],
							[
								843,
								863
							],
							[
								1080,
								1098
							],
							[
								1157,
								1184
							],
							[
								1276,
								1294
							],
							[
								1353,
								1374
							],
							[
								1480,
								1498
							]
						],
						"symlist":
						[
							"({Console}) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzwAAACh7Q29uc29sZX0pID0+CiAgKGxldmVsLCBtZXNzYWdlKSA9PgonLzQwNC5odG1sJzogZnVuY3Rpb24qKHJlcSwgcmVzKQoqZ2VuZXJhdG9yKHJlcSwgcmVzKQogIG9uQ29ubmVjdCh3cywgcmVxKQogIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uKQogIG9uRXJyb3Iod3MsIGVycm9yKQogIG9uSHR0cCh3cywgcmVxLCByZXNwKQogIG9uTWVzc2FnZSh3cywgbXNnKQAAAAAAAAAAzwAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					9,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								172
							],
							[
								294,
								314
							],
							[
								553,
								586
							],
							[
								843,
								863
							],
							[
								1080,
								1098
							],
							[
								1157,
								1184
							],
							[
								1276,
								1294
							],
							[
								1353,
								1374
							],
							[
								1480,
								1498
							]
						],
						"symlist":
						[
							"({Console}) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADPAAAAKHtDb25zb2xlfSkgPT4KICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADPAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					10,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								172
							],
							[
								294,
								314
							],
							[
								553,
								586
							],
							[
								843,
								863
							],
							[
								1080,
								1098
							],
							[
								1157,
								1184
							],
							[
								1276,
								1294
							],
							[
								1353,
								1374
							],
							[
								1480,
								1498
							]
						],
						"symlist":
						[
							"({Console}) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADPAAAAKHtDb25zb2xlfSkgPT4KICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADPAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					11,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								298,
								318
							],
							[
								557,
								590
							],
							[
								847,
								867
							],
							[
								1148,
								1166
							],
							[
								1225,
								1252
							],
							[
								1344,
								1362
							],
							[
								1421,
								1442
							],
							[
								1548,
								1566
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADPAAAAKHtDb25zb2xlfSkgPT4KICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpAAAAAAAAAADRAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					12,
					3,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								298,
								318
							],
							[
								557,
								590
							],
							[
								847,
								867
							],
							[
								1148,
								1166
							],
							[
								1225,
								1252
							],
							[
								1344,
								1362
							],
							[
								1421,
								1442
							],
							[
								1548,
								1566
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"BgAAAAAAAAAAAAAAAAAAAAAAAADRAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykAAAAAAAAAANEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADRAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykAAAAAAAAAANEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADRAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykAAAAAAAAAANEAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					13,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								298,
								318
							],
							[
								557,
								590
							],
							[
								847,
								867
							],
							[
								1148,
								1166
							],
							[
								1225,
								1252
							],
							[
								1344,
								1362
							],
							[
								1421,
								1442
							],
							[
								1548,
								1566
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADRAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykAAAAAAAAAANEAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					14,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								298,
								318
							],
							[
								557,
								590
							],
							[
								847,
								867
							],
							[
								1148,
								1166
							],
							[
								1225,
								1252
							],
							[
								1344,
								1362
							],
							[
								1421,
								1442
							],
							[
								1548,
								1566
							],
							[
								1655,
								1671
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADRAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykAAAAAAAAAAOQAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					15,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								298,
								318
							],
							[
								557,
								590
							],
							[
								847,
								867
							],
							[
								1148,
								1166
							],
							[
								1225,
								1252
							],
							[
								1344,
								1362
							],
							[
								1421,
								1442
							],
							[
								1548,
								1566
							],
							[
								1655,
								1671
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADkAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					16,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								304,
								324
							],
							[
								563,
								596
							],
							[
								853,
								873
							],
							[
								1154,
								1172
							],
							[
								1231,
								1258
							],
							[
								1350,
								1368
							],
							[
								1427,
								1448
							],
							[
								1554,
								1572
							],
							[
								1661,
								1677
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADkAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					17,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								303,
								323
							],
							[
								562,
								595
							],
							[
								852,
								872
							],
							[
								1153,
								1171
							],
							[
								1230,
								1257
							],
							[
								1349,
								1367
							],
							[
								1426,
								1447
							],
							[
								1553,
								1571
							],
							[
								1660,
								1676
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADkAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					18,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								301,
								321
							],
							[
								563,
								596
							],
							[
								853,
								873
							],
							[
								1154,
								1172
							],
							[
								1231,
								1258
							],
							[
								1350,
								1368
							],
							[
								1427,
								1448
							],
							[
								1554,
								1572
							],
							[
								1661,
								1677
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA5AAAACh7IENvbnNvbGUgfSkgPT4KICAobGV2ZWwsIG1lc3NhZ2UpID0+CicvNDA0Lmh0bWwnOiBmdW5jdGlvbioocmVxLCByZXMpCipnZW5lcmF0b3IocmVxLCByZXMpCiAgb25Db25uZWN0KHdzLCByZXEpCiAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pCiAgb25FcnJvcih3cywgZXJyb3IpCiAgb25IdHRwKHdzLCByZXEsIHJlc3ApCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25GZChmZCwgcmQsIHdyKQAAAAAAAAAA5AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					19,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
						"symkeys":
						[
							[
								158,
								174
							],
							[
								301,
								321
							],
							[
								563,
								596
							],
							[
								853,
								873
							],
							[
								1154,
								1172
							],
							[
								1231,
								1258
							],
							[
								1350,
								1368
							],
							[
								1427,
								1448
							],
							[
								1554,
								1572
							],
							[
								1661,
								1677
							]
						],
						"symlist":
						[
							"({ Console }) =>",
							" (level, message) =>",
							"'/404.html': function* (req, res)",
							"*generator(req, res)",
							"onConnect(ws, req)",
							"onClose(ws, status, reason)",
							"onError(ws, error)",
							"onHttp(ws, req, resp)",
							"onMessage(ws, msg)",
							"onFd(fd, rd, wr)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAADkAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					20,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkAAAAKHsgQ29uc29sZSB9KSA9PgogIChsZXZlbCwgbWVzc2FnZSkgPT4KJy80MDQuaHRtbCc6IGZ1bmN0aW9uKihyZXEsIHJlcykKKmdlbmVyYXRvcihyZXEsIHJlcykKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikKICBvbkVycm9yKHdzLCBlcnJvcikKICBvbkh0dHAod3MsIHJlcSwgcmVzcCkKICBvbk1lc3NhZ2Uod3MsIG1zZykKICBvbkZkKGZkLCByZCwgd3IpAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "src/minnet-form-parser.c",
			"settings":
			{
				"buffer_size": 11771,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAAI4KAAAAAAAAjwoAAAAAAAAAAAAAjwoAAAAAAACVCgAAAAAAAAAAAACPCgAAAAAAAI8KAAAAAAAABgAAACAgICAgII8KAAAAAAAAkwoAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACOCgAAAAAAAI4KAAAAAAAAAAAAAAAA8L8"
				],
				[
					17,
					1,
					"revert",
					null,
					"BgAAAAAAAAAAAAAAAAAAAAAAAAD/LQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtZm9ybS1wYXJzZXIuaCIKI2luY2x1ZGUgImNhbGxiYWNrLmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgoKVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfZm9ybV9wYXJzZXJfY2xhc3NfaWQ7ClRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF9mb3JtX3BhcnNlcl9wcm90bywgbWlubmV0X2Zvcm1fcGFyc2VyX2N0b3I7CgplbnVtIHsgRk9STV9QQVJTRVJfUEFSQU1TLCBGT1JNX1BBUlNFUl9TT0NLRVQsIEZPUk1fUEFSU0VSX1JFQUQsIEZPUk1fUEFSU0VSX09OX09QRU4sIEZPUk1fUEFSU0VSX09OX0NPTlRFTlQsIEZPUk1fUEFSU0VSX09OX0NMT1NFLCBGT1JNX1BBUlNFUl9PTl9GSU5BTElaRSB9OwoKSlNWYWx1ZQptaW5uZXRfZm9ybV9wYXJzZXJfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRGb3JtUGFyc2VyKiBmcDsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIGNoYXIqKiBwYXJhbV9uYW1lczsKICBpbnQgcGFyYW1fY291bnQ7CiAgdWludDY0X3QgY2h1bmtfc2l6ZSA9IDEwMjQ7CgogIGlmKCEoZnAgPSBmb3JtX3BhcnNlcl9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9mb3JtX3BhcnNlcl9wcm90byk7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywgbWlubmV0X2Zvcm1fcGFyc2VyX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgaWYoYXJnYyA8IDEgfHwgKHdzID0gbWlubmV0X3dzX2RhdGEoYXJndlswXSkpID09IDApIHsKICAgIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJhcmd1bWVudCAxIG11c3QgYmUgU29ja2V0Iik7CiAgICBnb3RvIGZhaWw7CiAgfQogIGlmKGFyZ2MgPCAyIHx8IChwYXJhbV9uYW1lcyA9IGpzX2FycmF5X3RvX2FyZ3YoY3R4LCAmcGFyYW1fY291bnQsIGFyZ3ZbMV0pKSA9PSAwKSB7CiAgICBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMiBtdXN0IGJlIEFycmF5IG9mIHBhcmFtZXRlciBuYW1lcyIpOwogICAgZ290byBmYWlsOwogIH0KCiAgSlNfU2V0T3BhcXVlKG9iaiwgZnApOwoKICBpZihhcmdjID49IDMgJiYgSlNfSXNPYmplY3QoYXJndlsyXSkpIHsKICAgIEpTVmFsdWUgdGhpc192YWwgPSBvYmo7CgogICAgSlNWYWx1ZSBjYl9jb250ZW50ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzJdLCAib25Db250ZW50Iik7CiAgICBKU1ZhbHVlIGNiX29wZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMl0sICJvbk9wZW4iKTsKICAgIEpTVmFsdWUgY2JfY2xvc2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMl0sICJvbkNsb3NlIik7CiAgICBKU1ZhbHVlIGNiX2ZpbmFsaXplID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzJdLCAib25GaW5hbGl6ZSIpOwogICAgSlNWYWx1ZSBvcHRfY2h1bmtzeiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsyXSwgImNodW5rU2l6ZSIpOwoKICAgIEdFVENCKGNiX2NvbnRlbnQsIGZwLT5jYi5jb250ZW50KQogICAgR0VUQ0IoY2Jfb3BlbiwgZnAtPmNiLm9wZW4pCiAgICBHRVRDQihjYl9jbG9zZSwgZnAtPmNiLmNsb3NlKQogICAgR0VUQ0IoY2JfZmluYWxpemUsIGZwLT5jYi5maW5hbGl6ZSkKCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm9uY29udGVudCIsIGZwLT5jYi5jb250ZW50LmZ1bmNfb2JqKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAib25vcGVuIiwgZnAtPmNiLm9wZW4uZnVuY19vYmopOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJvbmNsb3NlIiwgZnAtPmNiLmNsb3NlLmZ1bmNfb2JqKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAib25maW5hbGl6ZSIsIGZwLT5jYi5maW5hbGl6ZS5mdW5jX29iaik7CgogICAgaWYoSlNfSXNOdW1iZXIob3B0X2NodW5rc3opKSB7CiAgICAgIEpTX1RvSW5kZXgoY3R4LCAmY2h1bmtfc2l6ZSwgb3B0X2NodW5rc3opOwogICAgfQogIH0KCiAgZm9ybV9wYXJzZXJfaW5pdChmcCwgd3MsIHBhcmFtX2NvdW50LCAoY29uc3QgY2hhciogY29uc3QqKXBhcmFtX25hbWVzLCBjaHVua19zaXplKTsKCiAgewogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUgPSB3c19vcGFxdWUod3MpOwoKICAgIGlmKG9wYXF1ZS0+Zm9ybV9wYXJzZXIpCiAgICAgIGZvcm1fcGFyc2VyX2ZyZWUob3BhcXVlLT5mb3JtX3BhcnNlciwgY3R4KTsKICAgIAogICAgb3BhcXVlLT5mb3JtX3BhcnNlciA9IGZwOwogIH0KCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIGZwKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9mb3JtX3BhcnNlcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0Rm9ybVBhcnNlciogZnA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZnAgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CgogICAgY2FzZSBGT1JNX1BBUlNFUl9QQVJBTVM6IHsKICAgICAgcmV0ID0ganNfYXJndl90b19hcnJheShjdHgsIGZwLT5zcGFfY3JlYXRlX2luZm8ucGFyYW1fbmFtZXMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRk9STV9QQVJTRVJfU09DS0VUOiB7CiAgICAgIHJldCA9IG1pbm5ldF93c193cmFwKGN0eCwgZnAtPndzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEZPUk1fUEFSU0VSX1JFQUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgZnAtPnJlYWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRk9STV9QQVJTRVJfT05fT1BFTjogewogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIGZwLT5jYi5vcGVuLmZ1bmNfb2JqKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEZPUk1fUEFSU0VSX09OX0NPTlRFTlQ6IHsKICAgICAgcmV0ID0gSlNfRHVwVmFsdWUoY3R4LCBmcC0+Y2IuY29udGVudC5mdW5jX29iaik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9DTE9TRTogewogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIGZwLT5jYi5jbG9zZS5mdW5jX29iaik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9GSU5BTElaRTogewogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIGZwLT5jYi5maW5hbGl6ZS5mdW5jX29iaik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfZm9ybV9wYXJzZXJfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0Rm9ybVBhcnNlciogZnA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZnAgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CgogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9PUEVOOiB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZwLT5jYi5vcGVuLmZ1bmNfb2JqKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZnAtPmNiLm9wZW4udGhpc19vYmopOwogICAgICBmcC0+Y2Iub3Blbi5jdHggPSBjdHg7CiAgICAgIGZwLT5jYi5vcGVuLmZ1bmNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICAgIGZwLT5jYi5vcGVuLnRoaXNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9DT05URU5UOiB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZwLT5jYi5jb250ZW50LmZ1bmNfb2JqKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZnAtPmNiLmNvbnRlbnQudGhpc19vYmopOwogICAgICBmcC0+Y2IuY29udGVudC5jdHggPSBjdHg7CiAgICAgIGZwLT5jYi5jb250ZW50LmZ1bmNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICAgIGZwLT5jYi5jb250ZW50LnRoaXNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9DTE9TRTogewogICAgICBKU19GcmVlVmFsdWUoY3R4LCBmcC0+Y2IuY2xvc2UuZnVuY19vYmopOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBmcC0+Y2IuY2xvc2UudGhpc19vYmopOwogICAgICBmcC0+Y2IuY2xvc2UuY3R4ID0gY3R4OwogICAgICBmcC0+Y2IuY2xvc2UuZnVuY19vYmogPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgZnAtPmNiLmNsb3NlLnRoaXNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGT1JNX1BBUlNFUl9PTl9GSU5BTElaRTogewogICAgICBKU19GcmVlVmFsdWUoY3R4LCBmcC0+Y2IuZmluYWxpemUuZnVuY19vYmopOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBmcC0+Y2IuZmluYWxpemUudGhpc19vYmopOwogICAgICBmcC0+Y2IuZmluYWxpemUuY3R4ID0gY3R4OwogICAgICBmcC0+Y2IuZmluYWxpemUuZnVuY19vYmogPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgZnAtPmNiLmZpbmFsaXplLnRoaXNfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIHZvaWQKbWlubmV0X2Zvcm1fcGFyc2VyX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIE1pbm5ldEZvcm1QYXJzZXIqIGZwOwoKICBpZigoZnAgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZGF0YSh2YWwpKSkKICAgIGZvcm1fcGFyc2VyX2ZyZWVfcnQoZnAsIHJ0KTsKfQoKc3RhdGljIGludAptaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eShKU0NvbnRleHQqIGN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IqIHBkZXNjLCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0F0b20gcHJvcCkgewogIE1pbm5ldEZvcm1QYXJzZXIqIGZwID0gbWlubmV0X2Zvcm1fcGFyc2VyX2RhdGEyKGN0eCwgb2JqKTsKICBpbnQ2NF90IGluZGV4OwoKICBpZihqc19hdG9tX2lzX2luZGV4KGN0eCwgJmluZGV4LCBwcm9wKSkgewogICAgaWYoZm9ybV9wYXJzZXJfcGFyYW1fdmFsaWQoZnAsIGluZGV4KSkgewoKICAgICAgcGRlc2MtPmZsYWdzID0gSlNfUFJPUF9FTlVNRVJBQkxFOwogICAgICBwZGVzYy0+dmFsdWUgPSBKU19OZXdTdHJpbmcoY3R4LCBmb3JtX3BhcnNlcl9wYXJhbV9uYW1lKGZwLCBpbmRleCkpOwogICAgICBwZGVzYy0+Z2V0dGVyID0gSlNfVU5ERUZJTkVEOwogICAgICBwZGVzYy0+c2V0dGVyID0gSlNfVU5ERUZJTkVEOwogICAgICByZXR1cm4gVFJVRTsKICAgIH0KICB9IGVsc2UgaWYoanNfYXRvbV9pc19sZW5ndGgoY3R4LCBwcm9wKSkgewogICAgcGRlc2MtPmZsYWdzID0gSlNfUFJPUF9FTlVNRVJBQkxFOwogICAgcGRlc2MtPnZhbHVlID0gSlNfTmV3VWludDMyKGN0eCwgZm9ybV9wYXJzZXJfcGFyYW1fY291bnQoZnApKTsKICAgIHBkZXNjLT5nZXR0ZXIgPSBKU19VTkRFRklORUQ7CiAgICBwZGVzYy0+c2V0dGVyID0gSlNfVU5ERUZJTkVEOwogICAgcmV0dXJuIFRSVUU7CiAgfSBlbHNlIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEJPT0wgcmV0ID0gRkFMU0U7CiAgICBpbnQgaW5kZXg7CgogICAgaWYoc3RybmNtcChzdHIsICJvbiIsIDIpKSB7CgogICAgICBpZigoaW5kZXggPSBmb3JtX3BhcnNlcl9wYXJhbV9pbmRleChmcCwgc3RyKSkgIT0gLTEpIHsKICAgICAgICByZXQgPSBUUlVFOwogICAgICAgIHBkZXNjLT5mbGFncyA9IEpTX1BST1BfRU5VTUVSQUJMRTsKICAgICAgICBwZGVzYy0+dmFsdWUgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBsd3Nfc3BhX2dldF9zdHJpbmcoZnAtPnNwYSwgaW5kZXgpLCBsd3Nfc3BhX2dldF9sZW5ndGgoZnAtPnNwYSwgaW5kZXgpKTsKICAgICAgICBwZGVzYy0+Z2V0dGVyID0gSlNfVU5ERUZJTkVEOwogICAgICAgIHBkZXNjLT5zZXR0ZXIgPSBKU19VTkRFRklORUQ7CiAgICAgIH0KICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICByZXR1cm4gcmV0OwogIH0KCiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW50Cm1pbm5ldF9mb3JtX3BhcnNlcl9nZXRfb3duX3Byb3BlcnR5X25hbWVzKEpTQ29udGV4dCogY3R4LCBKU1Byb3BlcnR5RW51bSoqIHB0YWIsIHVpbnQzMl90KiBwbGVuLCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgTWlubmV0Rm9ybVBhcnNlciogZnAgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZGF0YTIoY3R4LCBvYmopOwogIEpTUHJvcGVydHlFbnVtKiBwcm9wczsKICBzaXplX3QgaSwgbGVuID0gZm9ybV9wYXJzZXJfcGFyYW1fY291bnQoZnApOwoKICBwcm9wcyA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihKU1Byb3BlcnR5RW51bSkgKiAobGVuICsgMSkpOwoKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgcHJvcHNbaV0uaXNfZW51bWVyYWJsZSA9IFRSVUU7CiAgICBwcm9wc1tpXS5hdG9tID0gSlNfTmV3QXRvbShjdHgsIGZvcm1fcGFyc2VyX3BhcmFtX25hbWUoZnAsIGkpKTsKICB9CgogIHByb3BzW2xlbl0uaXNfZW51bWVyYWJsZSA9IFRSVUU7CiAgcHJvcHNbbGVuXS5hdG9tID0gSlNfTmV3QXRvbShjdHgsICJsZW5ndGgiKTsKCiAgKnB0YWIgPSBwcm9wczsKICAqcGxlbiA9IGxlbiArIDE7CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIHByb3ApIHsKICBNaW5uZXRGb3JtUGFyc2VyKiBmcCA9IG1pbm5ldF9mb3JtX3BhcnNlcl9kYXRhMihjdHgsIG9iaik7CiAgaW50NjRfdCBpbmRleDsKCiAgaWYoanNfYXRvbV9pc19pbmRleChjdHgsICZpbmRleCwgcHJvcCkpIHsKCiAgICByZXR1cm4gZm9ybV9wYXJzZXJfcGFyYW1fdmFsaWQoZnAsIGluZGV4KTsKICB9IGVsc2UgaWYoanNfYXRvbV9pc19sZW5ndGgoY3R4LCBwcm9wKSkgewogICAgcmV0dXJuIFRSVUU7CiAgfSBlbHNlIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBwcm9wKTsKCiAgICBCT09MIHJldCA9IGZvcm1fcGFyc2VyX3BhcmFtX2V4aXN0cyhmcCwgc3RyKTsKCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICByZXR1cm4gcmV0OwogIH0KCiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X3Byb3BlcnR5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0F0b20gcHJvcCwgSlNWYWx1ZUNvbnN0IHJlY2VpdmVyKSB7CiAgTWlubmV0Rm9ybVBhcnNlciogZnAgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZGF0YTIoY3R4LCBvYmopOwogIEpTVmFsdWUgdmFsdWUgPSBKU19VTkRFRklORUQ7CiAgaW50NjRfdCBpbmRleDsKCiAgaWYoanNfYXRvbV9pc19pbmRleChjdHgsICZpbmRleCwgcHJvcCkpIHsKICAgIGlmKGZvcm1fcGFyc2VyX3BhcmFtX3ZhbGlkKGZwLCBpbmRleCkpIHsKCiAgICAgIHZhbHVlID0gSlNfTmV3U3RyaW5nKGN0eCwgZm9ybV9wYXJzZXJfcGFyYW1fbmFtZShmcCwgaW5kZXgpKTsKICAgIH0KICB9IGVsc2UgaWYoanNfYXRvbV9pc19sZW5ndGgoY3R4LCBwcm9wKSkgewogICAgdmFsdWUgPSBKU19OZXdVaW50MzIoY3R4LCBmb3JtX3BhcnNlcl9wYXJhbV9jb3VudChmcCkpOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgcHJvcCk7CgogICAgaW50IGluZGV4OwoKICAgIGlmKChpbmRleCA9IGZvcm1fcGFyc2VyX3BhcmFtX2luZGV4KGZwLCBzdHIpKSAhPSAtMSkgewogICAgICB2YWx1ZSA9IEpTX05ld1N0cmluZ0xlbihjdHgsIGx3c19zcGFfZ2V0X3N0cmluZyhmcC0+c3BhLCBpbmRleCksIGx3c19zcGFfZ2V0X2xlbmd0aChmcC0+c3BhLCBpbmRleCkpOwoKICAgIH0gZWxzZSB7CiAgICAgIEpTVmFsdWUgcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCBvYmopOwogICAgICBpZihKU19Jc09iamVjdChwcm90bykgJiYgSlNfSGFzUHJvcGVydHkoY3R4LCBwcm90bywgcHJvcCkpCiAgICAgICAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHByb3RvLCBwcm9wKTsKICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgfQoKICByZXR1cm4gdmFsdWU7Cn0KCnN0YXRpYyBpbnQKbWlubmV0X2Zvcm1fcGFyc2VyX2RlZmluZV9vd25fcHJvcGVydHkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgSlNBdG9tIHByb3AsIEpTVmFsdWVDb25zdCB2YWwsIEpTVmFsdWVDb25zdCBnZXR0ZXIsIEpTVmFsdWVDb25zdCBzZXR0ZXIsIGludCBmbGFncykgewogIC8vIE1pbm5ldEZvcm1QYXJzZXIqIGZwID0gbWlubmV0X2Zvcm1fcGFyc2VyX2RhdGEyKGN0eCwgdGhpc19vYmopOwoKICBpZihqc19hdG9tX2lzX2luZGV4KGN0eCwgTlVMTCwgcHJvcCkpIHsKICAgIHJldHVybiBUUlVFOwogIH0gZWxzZSBpZihqc19hdG9tX2lzX2xlbmd0aChjdHgsIHByb3ApKSB7CiAgICByZXR1cm4gVFJVRTsKICB9CgogIC8qIHJ1biB0aGUgZGVmYXVsdCBkZWZpbmUgb3duIHByb3BlcnR5ICovCiAgcmV0dXJuIEpTX0RlZmluZVByb3BlcnR5KGN0eCwgdGhpc19vYmosIHByb3AsIHZhbCwgZ2V0dGVyLCBzZXR0ZXIsIGZsYWdzIHwgSlNfUFJPUF9OT19FWE9USUMpOwp9CgpKU1ZhbHVlCm1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBmbGFncykgewogIE1pbm5ldEZvcm1QYXJzZXIqIGZwID0gbWlubmV0X2Zvcm1fcGFyc2VyX2RhdGEyKGN0eCwgZnVuY19vYmopOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihhcmdjIDwgMSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIFN0cmluZywgQXJyYXlCdWZmZXIgb3IgbnVsbCIpOwoKICBpZihKU19Jc051bGwoYXJndlswXSkpIHsKICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbHdzX3NwYV9maW5hbGl6ZShmcC0+c3BhKSk7CgogIH0gZWxzZSB7CiAgICBKU0J1ZmZlciBidWY7CgogICAganNfYnVmZmVyX2Zyb20oY3R4LCAmYnVmLCBhcmd2WzBdKTsKCiAgICBpZihidWYuZGF0YSA9PSAwKQogICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImFyZ3VtZW50IDEgbXVzdCBiZSBTdHJpbmcgb3IgQXJyYXlCdWZmZXIiKTsKCiAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGZvcm1fcGFyc2VyX3Byb2Nlc3MoZnAsIGJ1Zi5kYXRhLCBidWYuc2l6ZSkpOwoKICAgIGpzX2J1ZmZlcl9mcmVlKCZidWYsIGN0eCk7CiAgfQogIGlmKCFKU19Jc051bGwoZnAtPmV4Y2VwdGlvbikpIHsKCiAgICBKU19UaHJvdyhjdHgsIGZwLT5leGNlcHRpb24pOwogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNDbGFzc0V4b3RpY01ldGhvZHMgbWlubmV0X2Zvcm1fcGFyc2VyX2V4b3RpY19tZXRob2RzID0gewogICAgLmdldF9vd25fcHJvcGVydHkgPSBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0X293bl9wcm9wZXJ0eSwKICAgIC5nZXRfb3duX3Byb3BlcnR5X25hbWVzID0gbWlubmV0X2Zvcm1fcGFyc2VyX2dldF9vd25fcHJvcGVydHlfbmFtZXMsCiAgICAuaGFzX3Byb3BlcnR5ID0gbWlubmV0X2Zvcm1fcGFyc2VyX2hhc19wcm9wZXJ0eSwKICAgIC5kZWZpbmVfb3duX3Byb3BlcnR5ID0gbWlubmV0X2Zvcm1fcGFyc2VyX2RlZmluZV9vd25fcHJvcGVydHksCiAgICAuZ2V0X3Byb3BlcnR5ID0gbWlubmV0X2Zvcm1fcGFyc2VyX2dldF9wcm9wZXJ0eSwKICAgIC8vLnNldF9wcm9wZXJ0eSA9IG1pbm5ldF9mb3JtX3BhcnNlcl9zZXRfcHJvcGVydHksCn07CkpTQ2xhc3NEZWYgbWlubmV0X2Zvcm1fcGFyc2VyX2NsYXNzID0gewogICAgIk1pbm5ldEZvcm1QYXJzZXIiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9mb3JtX3BhcnNlcl9maW5hbGl6ZXIsCiAgICAuZXhvdGljID0gJm1pbm5ldF9mb3JtX3BhcnNlcl9leG90aWNfbWV0aG9kcywKICAgIC5jYWxsID0gJm1pbm5ldF9mb3JtX3BhcnNlcl9jYWxsLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X2Zvcm1fcGFyc2VyX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigic29ja2V0IiwgbWlubmV0X2Zvcm1fcGFyc2VyX2dldCwgbWlubmV0X2Zvcm1fcGFyc2VyX3NldCwgRk9STV9QQVJTRVJfU09DS0VULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwYXJhbXMiLCBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0LCBtaW5uZXRfZm9ybV9wYXJzZXJfc2V0LCBGT1JNX1BBUlNFUl9QQVJBTVMsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInJlYWQiLCBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0LCAwLCBGT1JNX1BBUlNFUl9SRUFELCAwKSwKICAgIC8qIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvbmNsb3NlIiwgbWlubmV0X2Zvcm1fcGFyc2VyX2dldCwgMCwgRk9STV9QQVJTRVJfT05fQ0xPU0UsIDApLAogICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvbm9wZW4iLCBtaW5uZXRfZm9ybV9wYXJzZXJfZ2V0LCAwLCBGT1JNX1BBUlNFUl9PTl9PUEVOICwgMCksCiAgICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm9uY29udGVudCIsIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXQsIDAsIEZPUk1fUEFSU0VSX09OX0NPTlRFTlQgLCAwKSwKICAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigib25maW5hbGl6ZSIsIG1pbm5ldF9mb3JtX3BhcnNlcl9nZXQsIDAsIEZPUk1fUEFSU0VSX09OX0ZJTkFMSVpFICwgMCksKi8KICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiTWlubmV0Rm9ybVBhcnNlciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfZm9ybV9wYXJzZXJfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X2Zvcm1fcGFyc2VyX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD7LQAAAAAAAAAAAAAAAAAAAAAAAPstAAAAAAAAAAAAAAAAAAAAAAAA+y0AAAAAAAAAAAAAAAAAAAAAAAD7LQAAAAAAAAAAAAAAAAAAAAAAAPstAAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABjCgAAAAAAAHMKAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "lib/utils.c",
			"settings":
			{
				"buffer_size": 4029,
				"line_ending": "Unix"
			}
		},
		{
			"file": "lib/jsutils.c",
			"settings":
			{
				"buffer_size": 25008,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACwYQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSAiYnVmZmVyLmgiCgpKU1ZhbHVlCmpzX29iamVjdF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBjdG9yID0gSlNfVU5ERUZJTkVEOwogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkKICAgIGN0b3IgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiY29uc3RydWN0b3IiKTsKICByZXR1cm4gY3RvcjsKfQoKY2hhcioKanNfb2JqZWN0X2NsYXNzbmFtZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBwcm90byA9IEpTX1VOREVGSU5FRCwgY3RvcjsKICBjb25zdCBjaGFyKiBuYW1lOwogIGNoYXIqIHMgPSAwOwogIGN0b3IgPSBqc19vYmplY3RfY29uc3RydWN0b3IoY3R4LCB2YWx1ZSk7CiAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBjdG9yKSkgewogICAgcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCB2YWx1ZSk7CiAgICBjdG9yID0ganNfb2JqZWN0X2NvbnN0cnVjdG9yKGN0eCwgcHJvdG8pOwogIH0KICBpZigobmFtZSA9IGpzX2Z1bmN0aW9uX25hbWUoY3R4LCBjdG9yKSkpIHsKICAgIHMgPSBuYW1lICYmIG5hbWVbMF0gPyBqc19zdHJkdXAoY3R4LCBuYW1lKSA6IDA7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIHJldHVybiBzOwp9Cgp2b2lkCmpzX2NvbnNvbGVfbG9nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlKiBjb25zb2xlLCBKU1ZhbHVlKiBjb25zb2xlX2xvZykgewogIEpTVmFsdWUgZ2xvYmFsID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgKmNvbnNvbGUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbCwgImNvbnNvbGUiKTsKICAqY29uc29sZV9sb2cgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsICpjb25zb2xlLCAibG9nIik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZ2xvYmFsKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlKiBmdW5jX2RhdGEpIHsKICBCT09MIGJpbmRfdGhpcyA9ICEhKG1hZ2ljICYgSlNfQklORF9USElTKTsKICBpbnQgaSA9IDAsIGsgPSAwLCBjb3VudCA9IG1hZ2ljICYgfihKU19CSU5EX1RISVMpOwogIEpTVmFsdWUgYXJnc1thcmdjICsgY291bnRdLCBmbjsKCiAgZm4gPSAqZnVuY19kYXRhKys7CgogIGlmKGJpbmRfdGhpcykKICAgIHRoaXNfdmFsID0gZnVuY19kYXRhW2krK107CgogIGZvcig7IGkgPCBjb3VudDsgaSsrKSBhcmdzW2srK10gPSBmdW5jX2RhdGFbaV07CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgYXJnc1trKytdID0gYXJndltpXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmbiwgdGhpc192YWwsIGssIGFyZ3MpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBpbnQgZmxhZ3MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBpbnQgaSwgYXJnYyA9IGZsYWdzICYgfihKU19CSU5EX1RISVMpOwogIEpTVmFsdWUgZGF0YVthcmdjICsgMV07CgogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwoKICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIGpzX2Z1bmN0aW9uX2JvdW5kLCAwLCBmbGFncywgYXJnYyArIDEsIGRhdGEpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfMShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIEpTVmFsdWVDb25zdCBhcmcpIHsKICByZXR1cm4ganNfZnVuY3Rpb25fYmluZChjdHgsIGZ1bmMsIDEsICZhcmcpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdGhpcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIHJldHVybiBqc19mdW5jdGlvbl9iaW5kKGN0eCwgZnVuYywgMSB8IEpTX0JJTkRfVEhJUywgJnRoaXNfdmFsKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kX3RoaXNfMShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IGFyZykgewogIEpTVmFsdWVDb25zdCBib3VuZFtdID0ge3RoaXNfdmFsLCBhcmd9OwogIHJldHVybiBqc19mdW5jdGlvbl9iaW5kKGN0eCwgZnVuYywgY291bnRvZihib3VuZCkgfCBKU19CSU5EX1RISVMsIGJvdW5kKTsKfQoKY29uc3QgY2hhcioKanNfZnVuY3Rpb25fbmFtZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBzdHIsIG5hbWUsIGFyZ3NbMl0sIGlkeDsKICBjb25zdCBjaGFyKiBzID0gMDsKICBpbnQzMl90IGkgPSAtMTsKICBzdHIgPSBqc19pbnZva2UoY3R4LCB2YWx1ZSwgInRvU3RyaW5nIiwgMCwgMCk7CiAgYXJnc1swXSA9IEpTX05ld1N0cmluZyhjdHgsICJmdW5jdGlvbiAiKTsKICBpZHggPSBqc19pbnZva2UoY3R4LCBzdHIsICJpbmRleE9mIiwgMSwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfVG9JbnQzMihjdHgsICZpLCBpZHgpOwogIGlmKGkgIT0gMCkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICAgIHJldHVybiAwOwogIH0KICBhcmdzWzBdID0gSlNfTmV3U3RyaW5nKGN0eCwgIigiKTsKICBpZHggPSBqc19pbnZva2UoY3R4LCBzdHIsICJpbmRleE9mIiwgMSwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgYXJnc1swXSA9IEpTX05ld1VpbnQzMihjdHgsIDkpOwogIGFyZ3NbMV0gPSBpZHg7CiAgbmFtZSA9IGpzX2ludm9rZShjdHgsIHN0ciwgInN1YnN0cmluZyIsIDIsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMV0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN0cik7CiAgcyA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG5hbWUpOwogIHJldHVybiBzOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX3Byb3RvdHlwZShKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgcmV0LCBmbiA9IEpTX05ld0NGdW5jdGlvbihjdHgsIDAsICIiLCAwKTsKICByZXQgPSBKU19HZXRQcm90b3R5cGUoY3R4LCBmbik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfaXRlcmF0b3JfcmVzdWx0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEJPT0wgZG9uZSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiZG9uZSIsIEpTX05ld0Jvb2woY3R4LCBkb25lKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ2YWx1ZSIsIEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpKTsKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU1ZhbHVlKiBuZXh0LCBCT09MKiBkb25lX3AsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBmbiwgcmVzdWx0LCBkb25lLCB2YWx1ZTsKCiAgaWYoIUpTX0lzT2JqZWN0KG9iaikpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdCAoJWQpIFwiJXNcIiIsIEpTX1ZBTFVFX0dFVF9UQUcob2JqKSwgSlNfVG9DU3RyaW5nKGN0eCwgb2JqKSk7CgogIGlmKEpTX0lzT2JqZWN0KCpuZXh0KSAmJiBKU19Jc0Z1bmN0aW9uKGN0eCwgKm5leHQpKSB7CiAgICBmbiA9ICpuZXh0OwogIH0gZWxzZSB7CiAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgb2JqKSkgewogICAgICBKU1ZhbHVlIHRtcCA9IEpTX0NhbGwoY3R4LCBvYmosIEpTX1VOREVGSU5FRCwgMCwgMCk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KHRtcCkpIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgICAgIG9iaiA9IHRtcDsKICAgICAgfQogICAgfQoKICAgIGZuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJuZXh0Iik7CgogICAgaWYoSlNfSXNVbmRlZmluZWQoZm4pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAib2JqZWN0IGRvZXMgbm90IGhhdmUgJ25leHQnIG1ldGhvZCIpOwoKICAgIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgZm4pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAib2JqZWN0Lm5leHQgaXMgbm90IGEgZnVuY3Rpb24iKTsKCiAgICAqbmV4dCA9IGpzX2Z1bmN0aW9uX2JpbmRfdGhpcyhjdHgsIGZuLCBvYmopOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwogICAgZm4gPSAqbmV4dDsKICB9CgogIHJlc3VsdCA9IEpTX0NhbGwoY3R4LCBmbiwgSlNfVU5ERUZJTkVELCBhcmdjLCBhcmd2KTsKICAvLyBKU19GcmVlVmFsdWUoY3R4LCBmbik7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJlc3VsdCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmVzdWx0KSkKICAgIHJldHVybiByZXN1bHQ7CgogIGRvbmUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHJlc3VsdCwgImRvbmUiKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAidmFsdWUiKTsKICAqZG9uZV9wID0gSlNfVG9Cb29sKGN0eCwgZG9uZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmVzdWx0KTsKICBKU19GcmVlVmFsdWUoY3R4LCBkb25lKTsKICByZXR1cm4gdmFsdWU7Cn0KCmludApqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBkc3QsIEpTVmFsdWVDb25zdCBzcmMsIGludCBmbGFncykgewogIEpTUHJvcGVydHlFbnVtKiB0YWI7CiAgdWludDMyX3QgdGFiX2xlbiwgaTsKCiAgaWYoSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0YWIsICZ0YWJfbGVuLCBzcmMsIGZsYWdzKSkKICAgIHJldHVybiAtMTsKCiAgZm9yKGkgPSAwOyBpIDwgdGFiX2xlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBzcmMsIHRhYltpXS5hdG9tKTsKICAgIEpTX1NldFByb3BlcnR5KGN0eCwgZHN0LCB0YWJbaV0uYXRvbSwgdmFsdWUpOwogIH0KICByZXR1cm4gaTsKfQoKdm9pZApqc19idWZmZXJfZnJlZV9kZWZhdWx0KEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNCdWZmZXIqIGJ1ZiA9IG9wYXF1ZTsKCiAgaWYoSlNfSXNTdHJpbmcoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7CiAgZWxzZSBpZighSlNfSXNVbmRlZmluZWQoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7CgogIGJ1Zi0+dmFsdWUgPSBKU19VTkRFRklORUQ7CiAgYnVmLT5kYXRhID0gMDsKICBidWYtPnNpemUgPSAwOwogIGJ1Zi0+cG9zID0gMDsKICBvbF9pbml0KCZidWYtPnJhbmdlKTsKfQoKQk9PTApqc19idWZmZXJfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNCdWZmZXIqIGJ1ZiwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgKmJ1ZiA9IGpzX2lucHV0X2NoYXJzKGN0eCwgdmFsdWUpOwogIHJldHVybiAhIWJ1Zi0+ZGF0YTsKfQoKSlNCdWZmZXIKanNfYnVmZmVyX25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNCdWZmZXIgcmV0ID0gezAsIDAsIDAsICZqc19idWZmZXJfZnJlZV9kZWZhdWx0LCBKU19VTkRFRklORUQsIHswLCAtMX19OwogIHJldC5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CgogIGlmKEpTX0lzU3RyaW5nKHZhbHVlKSkgewogICAgcmV0LmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnJldC5zaXplLCB2YWx1ZSk7CiAgICByZXQudmFsdWUgPSB2YWx1ZTsKICB9IGVsc2UgaWYoKHJldC5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmcmV0LnNpemUsIHZhbHVlKSkpIHsKICAgIHJldC52YWx1ZSA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKSlNCdWZmZXIKanNfYnVmZmVyX2Zyb21ibG9jayhKU0NvbnRleHQqIGN0eCwgc3RydWN0IGJ5dGVfYmxvY2sqIGJsaykgewogIEpTVmFsdWUgYnVmID0gYmxvY2tfdG9hcnJheWJ1ZmZlcihibGssIGN0eCk7CgogIHJldHVybiBqc19idWZmZXJfbmV3KGN0eCwgYnVmKTsKfQoKSlNCdWZmZXIKanNfYnVmZmVyX2FsbG9jKEpTQ29udGV4dCogY3R4LCBzaXplX3Qgc2l6ZSkgewogIEJ5dGVCbG9jayBibG9jayA9IHswLCAwfTsKCiAgaWYoKGJsb2NrLnN0YXJ0ID0ganNfbWFsbG9jKGN0eCwgc2l6ZSkpKQogICAgYmxvY2suZW5kID0gYmxvY2suc3RhcnQgKyBzaXplOwoKICByZXR1cm4ganNfYnVmZmVyX2Zyb21ibG9jayhjdHgsICZibG9jayk7Cn0KCnZvaWQKanNfYnVmZmVyX2ZyZWVfcnQoSlNCdWZmZXIqIGluLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoaW4tPmRhdGEpIHsKICAgIGluLT5mcmVlKHJ0LCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKdm9pZApqc19idWZmZXJfZnJlZShKU0J1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KSB7CiAganNfYnVmZmVyX2ZyZWVfcnQoaW4sIEpTX0dldFJ1bnRpbWUoY3R4KSk7Cn0KCkJPT0wKanNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICBpZihKU19Jc09iamVjdChvYmopKSB7CiAgICBKU1ZhbHVlIG5leHQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgbmV4dCkpCiAgICAgIHJldHVybiBUUlVFOwogIH0KICByZXR1cm4gRkFMU0U7Cn0KCkJPT0wKanNfaXNfYXN5bmNfZ2VuZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgQk9PTCByZXQgPSBGQUxTRTsKICBjb25zdCBjaGFyKiBzdHI7CgogIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBvYmopKSkgewogICAgcmV0ID0gISFzdHJzdHIoc3RyLCAiQXN5bmNHZW5lcmF0b3IiKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9mb3JfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCBuYW1ldmFsLCByZXQ7CiAgSlNBdG9tIGZvcl9hdG9tID0gSlNfTmV3QXRvbShjdHgsICJmb3IiKTsKICBzeW1ib2xfY3RvciA9IGpzX3N5bWJvbF9jdG9yKGN0eCk7CiAgbmFtZXZhbCA9IEpTX05ld1N0cmluZyhjdHgsIG5hbWUpOwogIHJldCA9IEpTX0ludm9rZShjdHgsIHN5bWJvbF9jdG9yLCBmb3JfYXRvbSwgMSwgJm5hbWV2YWwpOwogIEpTX0ZyZWVBdG9tKGN0eCwgZm9yX2F0b20pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG5hbWV2YWwpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU0F0b20KanNfc3ltYm9sX2Zvcl9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNWYWx1ZSBzeW0gPSBqc19zeW1ib2xfZm9yX3ZhbHVlKGN0eCwgbmFtZSk7CiAgSlNBdG9tIHJldCA9IEpTX0lzVW5kZWZpbmVkKHN5bSkgPyAtMSA6IEpTX1ZhbHVlVG9BdG9tKGN0eCwgc3ltKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzeW0pOwogIHJldHVybiByZXQ7Cn0KSlNWYWx1ZQpqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBqc19nbG9iYWxfZ2V0KGN0eCwgIlN5bWJvbCIpOwp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIHJldDsKICBnbG9iYWxfb2JqID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBnbG9iYWxfb2JqLCBwcm9wKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9vcyhKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBqc19nbG9iYWxfZ2V0KGN0eCwgIm9zIik7Cn0KCkpTVmFsdWUKanNfb3NfZ2V0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wKSB7CiAgSlNWYWx1ZSBvc19vYmogPSBqc19nbG9iYWxfb3MoY3R4KTsKICBKU1ZhbHVlIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3Nfb2JqLCBwcm9wKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvc19vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfdGltZXJfc3RhcnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmbiwgdWludDMyX3QgbXMpIHsKICBKU1ZhbHVlIHNldF90aW1lb3V0ID0ganNfb3NfZ2V0KGN0eCwgInNldFRpbWVvdXQiKTsKICBKU1ZhbHVlQ29uc3QgYXJnc1syXSA9IHtmbiwgSlNfTUtWQUwoSlNfVEFHX0lOVCwgbXMpfTsKICBKU1ZhbHVlIHJldCA9IEpTX0NhbGwoY3R4LCBzZXRfdGltZW91dCwgSlNfVU5ERUZJTkVELCAyLCBhcmdzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfdGltZW91dCk7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc190aW1lcl9jYW5jZWwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aW1lcikgewogIEpTVmFsdWUgY2xlYXJfdGltZW91dCA9IGpzX29zX2dldChjdHgsICJjbGVhclRpbWVvdXQiKTsKICBKU1ZhbHVlIHJldCA9IEpTX0NhbGwoY3R4LCBjbGVhcl90aW1lb3V0LCBKU19VTkRFRklORUQsIDEsICZ0aW1lcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY2xlYXJfdGltZW91dCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKfQoKdm9pZApqc190aW1lcl9mcmVlKHZvaWQqIHB0cikgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CiAgSlNDb250ZXh0KiBjdHggPSBjbG9zdXJlLT5jdHg7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmlkKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmhhbmRsZXIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+Y2FsbGJhY2spOwoKICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICB9Cn0KCkpTVmFsdWUKanNfdGltZXJfY2FsbGJhY2soSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljLCB2b2lkKiBvcGFxdWUpIHsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiBjbG9zdXJlID0gb3BhcXVlOwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWVDb25zdCBhcmdzW10gPSB7Y2xvc3VyZS0+aWQsIGNsb3N1cmUtPmhhbmRsZXIsIGNsb3N1cmUtPmNhbGxiYWNrLCBKU19OZXdVaW50MzIoY3R4LCBjbG9zdXJlLT5pbnRlcnZhbCl9OwoKICByZXQgPSBKU19DYWxsKGN0eCwgY2xvc3VyZS0+aGFuZGxlciwgdGhpc192YWwsIGNvdW50b2YoYXJncyksIGFyZ3MpOwoKICBpZighKEpTX0lzQm9vbChyZXQpICYmICFKU19Ub0Jvb2woY3R4LCByZXQpKSkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogICAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBjbG9zdXJlLT5pbnRlcnZhbCk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdHJ1Y3QgVGltZXJDbG9zdXJlKgpqc190aW1lcl9pbnRlcnZhbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmU7CgogIGlmKCEoY2xvc3VyZSA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihzdHJ1Y3QgVGltZXJDbG9zdXJlKSkpKQogICAgcmV0dXJuIDA7CgogIGNsb3N1cmUtPnJlZl9jb3VudCA9IDE7CiAgY2xvc3VyZS0+Y3R4ID0gY3R4OwogIGNsb3N1cmUtPmludGVydmFsID0gbXM7CiAgY2xvc3VyZS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgZm4pOwogIGNsb3N1cmUtPmNhbGxiYWNrID0ganNfZnVuY3Rpb25fY2Nsb3N1cmUoY3R4LCBqc190aW1lcl9jYWxsYmFjaywgMCwgMCwgY2xvc3VyZSwganNfdGltZXJfZnJlZSk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBtcyk7CgogIHJldHVybiBjbG9zdXJlOwp9Cgp2b2lkCmpzX3RpbWVyX3Jlc3RhcnQoc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSkgewogIGpzX3RpbWVyX2NhbmNlbChjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmlkKTsKICBKU19GcmVlVmFsdWUoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5pZCk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBjbG9zdXJlLT5pbnRlcnZhbCk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgZnVuY3MtPnJlc29sdmUgPSBKU19OVUxMOwogIGZ1bmNzLT5yZWplY3QgPSBKU19OVUxMOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiBKU19Jc051bGwoZnVuY3MtPnJlc29sdmUpICYmIEpTX0lzTnVsbChmdW5jcy0+cmVqZWN0KTsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3Jlc29sdmVfZnVuY3Rpb25zX2NhbGwoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBpbnQgaW5kZXgsIEpTVmFsdWVDb25zdCBhcmcpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRCwgZnVuYyA9ICgoSlNWYWx1ZSopZnVuY3MpW2luZGV4XTsKCiAgYXNzZXJ0KCFKU19Jc051bGwoZnVuYykpOwogIHJldCA9IEpTX0NhbGwoY3R4LCBmdW5jLCBKU19VTkRFRklORUQsIDEsICZhcmcpOwogIGpzX3Byb21pc2VfZnJlZShjdHgsIGZ1bmNzKTsKICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGNzdHIpOwogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpKU1ZhbHVlCmpzX2ludm9rZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLCBjb25zdCBjaGFyKiBtZXRob2QsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNBdG9tIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbWV0aG9kKTsKICBKU1ZhbHVlIHJldCA9IEpTX0ludm9rZShjdHgsIHRoaXNfb2JqLCBhdG9tLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9jcmVhdGUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNWYWx1ZSByZXQ7CgogIHJldCA9IEpTX05ld1Byb21pc2VDYXBhYmlsaXR5KGN0eCwgJmZ1bmNzLT5yZXNvbHZlKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jcy0+cmVzb2x2ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY3MtPnJlamVjdCk7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCnZvaWQKanNfcHJvbWlzZV9mcmVlX3J0KEpTUnVudGltZSogcnQsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNfRnJlZVZhbHVlUlQocnQsIGZ1bmNzLT5yZXNvbHZlKTsKICBKU19GcmVlVmFsdWVSVChydCwgZnVuY3MtPnJlamVjdCk7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcywgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaWYoanNfaXNfbnVsbGlzaChmdW5jcy0+cmVzb2x2ZSkpCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDAsIHZhbHVlKTsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKGpzX2lzX251bGxpc2goZnVuY3MtPnJlamVjdCkpCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDEsIHZhbHVlKTsKfQoKdm9pZApqc19wcm9taXNlX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKGZ1bmNzKTsKfQoKQk9PTApqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4gIWpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwoZnVuY3MpOwp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfdGhlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHByb21pc2UsIEpTVmFsdWVDb25zdCBoYW5kbGVyKSB7CiAgcmV0dXJuIGpzX2ludm9rZShjdHgsIHByb21pc2UsICJ0aGVuIiwgMSwgJmhhbmRsZXIpOwp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfY2F0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwcm9taXNlLCBKU1ZhbHVlQ29uc3QgaGFuZGxlcikgewogIHJldHVybiBqc19pbnZva2UoY3R4LCBwcm9taXNlLCAiY2F0Y2giLCAxLCAmaGFuZGxlcik7Cn0KCkJPT0wKanNfaXNfcHJvbWlzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBjdG9yOwogIEJPT0wgcmV0OwoKICBjdG9yID0ganNfZ2xvYmFsX2dldChjdHgsICJQcm9taXNlIik7CiAgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2Vycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogZm10LCAuLi4pIHsKICB2YV9saXN0IGFyZ3M7CiAgSlNWYWx1ZSBlcnIgPSBKU19OZXdFcnJvcihjdHgpOwogIGNoYXIgYnVmWzEwMjRdOwoKICB2YV9zdGFydChhcmdzLCBmbXQpOwogIHZzbnByaW50ZihidWYsIHNpemVvZihidWYpLCBmbXQsIGFyZ3MpOwogIHZhX2VuZChhcmdzKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfTmV3U3RyaW5nKGN0eCwgYnVmKSk7CiAgcmV0dXJuIGVycjsKfQoKdm9pZApqc19lcnJvcl9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVycm9yKSB7CiAgY29uc3QgY2hhciAqc3RyID0gMCwgKnN0YWNrID0gMDsKCiAgaWYoSlNfSXNPYmplY3QoZXJyb3IpKSB7CiAgICBKU1ZhbHVlIHN0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBlcnJvciwgInN0YWNrIik7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKHN0KSkKICAgICAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwogIH0KCiAgLy8gbHdzbF9lcnIoIlRvcGxldmVsIGVycm9yOiIpOwoKICBpZighSlNfSXNOdWxsKGVycm9yKSAmJiAoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgZXJyb3IpKSkgewogICAgY29uc3QgY2hhciogdHlwZSA9IGpzX29iamVjdF9jbGFzc25hbWUoY3R4LCBlcnJvcik7CiAgICBjb25zdCBjaGFyKiBleGNlcHRpb24gPSBzdHI7CiAgICBzaXplX3QgdHlwZWxlbiA9IHN0cmxlbih0eXBlKTsKCiAgICBpZighc3RybmNtcChleGNlcHRpb24sIHR5cGUsIHR5cGVsZW4pICYmIGV4Y2VwdGlvblt0eXBlbGVuXSA9PSAnOicpIHsKICAgICAgZXhjZXB0aW9uICs9IHR5cGVsZW4gKyAyOwogICAgfQogICAgbHdzbF9lcnIoIkV4Y2VwdGlvbiAlczogJXMiLCB0eXBlLCBleGNlcHRpb24pOwogIH0KICBpZihzdGFjaykgewogICAgc2l6ZV90IHBvcyA9IDAsIGkgPSAwLCBsZW4sIGVuZCA9IHN0cmxlbihzdGFjayk7CiAgICBsd3NsX2VycigiU3RhY2s6Iik7CgogICAgd2hpbGUoaSA8IGVuZCkgewogICAgICBsZW4gPSBieXRlX2NocnMoJnN0YWNrW2ldLCBlbmQgLSBpLCAiXHJcbiIsIDIpOwoKICAgICAgbHdzbF9lcnIoIiV6dTogJS4qcyIsIHBvcysrLCAoaW50KWxlbiwgJnN0YWNrW2ldKTsKICAgICAgaSArPSBsZW47CgogICAgICBpICs9IHNjYW5fY2hhcnNldG5za2lwKCZzdGFja1tpXSwgIlxyXG4iLCBlbmQgLSBpKTsKICAgIH0KICB9CiAgaWYoc3RhY2spCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0YWNrKTsKICBpZihzdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7Cn0KCnVpbnQ4X3QqCmpzX3RvcHRyc2l6ZShKU0NvbnRleHQqIGN0eCwgdW5zaWduZWQgaW50KiBwbGVuLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbiA9IDA7CiAgdm9pZCAqcmV0ID0gMCwgKnB0cjsKICBpZigocHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbiwgdmFsdWUpKSkgewogICAgaWYoKHJldCA9IGpzX21hbGxvYyhjdHgsIG4pKSkKICAgICAgbWVtY3B5KHJldCwgcHRyLCBuKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKdWludDMyX3QKanNfZ2V0X3Byb3BlcnR5c3RyX3VpbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKSB7CiAgdWludDMyX3QgcmV0ID0gMDsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHN0cik7CiAgSlNfVG9VaW50MzIoY3R4LCAmcmV0LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfaGFzX3Byb3BlcnR5c3RyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBzdHIpIHsKICBKU0F0b20gcHJvcCA9IEpTX05ld0F0b20oY3R4LCBzdHIpOwogIEJPT0wgcmV0ID0gSlNfSGFzUHJvcGVydHkoY3R4LCBvYmosIHByb3ApOwogIEpTX0ZyZWVBdG9tKGN0eCwgcHJvcCk7CiAgcmV0dXJuIHJldDsKfQoKaW50NjRfdApqc19hcnJheV9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSkgewogIGludDY0X3QgbGVuID0gLTE7CiAgLyppZihqc19pc19hcnJheShjdHgsIGFycmF5KSB8fCBqc19pc190eXBlZGFycmF5KGFycmF5KXx8IGpzX2lzX2FycmF5X2xpa2UoY3R4LCBhcnJheSkpKi8gewogICAgSlNWYWx1ZSBsZW5ndGggPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFycmF5LCAibGVuZ3RoIik7CiAgICBpZihKU19Jc051bWJlcihsZW5ndGgpKQogICAgICBKU19Ub0ludDY0KGN0eCwgJmxlbiwgbGVuZ3RoKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7CiAgfQogIHJldHVybiBsZW47Cn0KCmNoYXIqKgpqc19hcnJheV90b19hcmd2KEpTQ29udGV4dCogY3R4LCBpbnQqIGFyZ2NwLCBKU1ZhbHVlQ29uc3QgYXJyYXkpIHsKICBpbnQgaSwgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJyYXkpOwogIGNoYXIqKiByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKGNoYXIqKSAqIChsZW4gKyAxKSk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyYXksIGkpOwogICAgcmV0W2ldID0ganNfdG9zdHJpbmcoY3R4LCBpdGVtKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogIH0KICBpZihhcmdjcCkKICAgICphcmdjcCA9IGxlbjsKICByZXR1cm4gcmV0Owp9CgppbnQKanNfb2Zmc2V0X2xlbmd0aChKU0NvbnRleHQqIGN0eCwgaW50NjRfdCBzaXplLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgT2Zmc2V0TGVuZ3RoKiBvZmZfbGVuX3ApIHsKICBpbnQgcmV0ID0gMDsKICBpbnQ2NF90IG9mZiA9IDAsIGxlbiA9IHNpemU7CgogIGlmKGFyZ2MgPj0gMSAmJiBKU19Jc051bWJlcihhcmd2WzBdKSkKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJm9mZiwgYXJndlswXSkpCiAgICAgIHJldCA9IDE7CgogIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbiwgYXJndlsxXSkpCiAgICAgIHJldCA9IDI7CgogIGlmKHNpemUpCiAgICBvZmYgPSAoKG9mZiAlIHNpemUpICsgc2l6ZSkgJSBzaXplOwoKICBpZihsZW4gPj0gMCkKICAgIGxlbiA9IE1JTihsZW4sIHNpemUgLSBvZmYpOwogIGVsc2UKICAgIGxlbiA9IHNpemUgLSBvZmY7CgogIGlmKG9mZl9sZW5fcCkgewogICAgb2ZmX2xlbl9wLT5vZmZzZXQgPSBvZmY7CiAgICBvZmZfbGVuX3AtPmxlbmd0aCA9IGxlbjsKICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19hcmd2X3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBjb25zdCogYXJndikgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBpZihhcmd2KSB7CiAgICBzaXplX3QgaTsKICAgIGZvcihpID0gMDsgYXJndltpXTsgaSsrKSBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3U3RyaW5nKGN0eCwgYXJndltpXSkpOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2F0b21faXNfaW5kZXgoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIHB2YWwsIEpTQXRvbSBhdG9tKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBCT09MIHJldCA9IEZBTFNFOwogIGludDY0X3QgaW5kZXg7CgogIGlmKGF0b20gJiAoMVUgPDwgMzEpKSB7CiAgICBpZihwdmFsKQogICAgICAqcHZhbCA9IGF0b20gJiAofigxVSA8PCAzMSkpOwogICAgcmV0dXJuIFRSVUU7CiAgfQoKICB2YWx1ZSA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CgogIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkgewogICAgSlNfVG9JbnQ2NChjdHgsICZpbmRleCwgdmFsdWUpOwogICAgcmV0ID0gVFJVRTsKICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogICAgaWYoc1swXSA9PSAnLScgJiYgaXNkaWdpdChzW3NbMF0gPT0gJy0nXSkpIHsKICAgICAgaW5kZXggPSBhdG9pKHMpOwogICAgICByZXQgPSBUUlVFOwogICAgfQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CgogIGlmKHJldCA9PSBUUlVFKQogICAgaWYocHZhbCkKICAgICAgKnB2YWwgPSBpbmRleDsKCiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19hdG9tX2NvbXBhcmVfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSwgY29uc3QgY2hhciogb3RoZXIpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgYXRvbSk7CiAgQk9PTCByZXQgPSAhc3RyY21wKHN0ciwgb3RoZXIpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2F0b21faXNfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIHJldHVybiBqc19hdG9tX2NvbXBhcmVfc3RyaW5nKGN0eCwgYXRvbSwgImxlbmd0aCIpOwp9CgpCT09MCmpzX2F0b21faXNfc3ltYm9sKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIEpTVmFsdWUgdmFsdWU7CiAgQk9PTCByZXQ7CiAgdmFsdWUgPSBKU19BdG9tVG9WYWx1ZShjdHgsIGF0b20pOwogIHJldCA9IEpTX0lzU3ltYm9sKHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKSlNCdWZmZXIKanNfaW5wdXRfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRCwgezAsIDB9fTsKICBpbnQ2NF90IG9mZnNldCA9IDAsIGxlbmd0aCA9IElOVDY0X01BWDsKCiAgb2xfaW5pdCgmcmV0LnJhbmdlKTsKCiAgaWYoanNfaXNfdHlwZWRhcnJheShjdHgsIHZhbHVlKSB8fCBqc19pc19kYXRhdmlldyhjdHgsIHZhbHVlKSkgewogICAgSlNWYWx1ZSBhcnJheWJ1ZiwgYnl0ZW9mZnMsIGJ5dGVsZW47CiAgICBhcnJheWJ1ZiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJidWZmZXIiKTsKICAgIGJ5dGVsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZUxlbmd0aCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZWxlbikpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbGVuZ3RoLCBieXRlbGVuKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGJ5dGVsZW4pOwogICAgYnl0ZW9mZnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZU9mZnNldCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZW9mZnMpKQogICAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYnl0ZW9mZnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgYnl0ZW9mZnMpOwogICAgdmFsdWUgPSBhcnJheWJ1ZjsKICB9CgogIGlmKGpzX2lzX2FycmF5YnVmZmVyKGN0eCwgdmFsdWUpKSB7CiAgICByZXQudmFsdWUgPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICAgIHJldC5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmcmV0LnNpemUsIHJldC52YWx1ZSk7CiAgfSBlbHNlIHsKICAgIHJldC52YWx1ZSA9IEpTX0VYQ0VQVElPTjsKICAgIC8vIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgIkludmFsaWQgdHlwZSBmb3IgaW5wdXQgYnVmZmVyIik7CiAgfQoKICBpZihvZmZzZXQgPCAwKQogICAgcmV0LnJhbmdlLm9mZnNldCA9IHJldC5zaXplICsgb2Zmc2V0ICUgcmV0LnNpemU7CiAgZWxzZSBpZigoc2l6ZV90KW9mZnNldCA+IHJldC5zaXplKQogICAgcmV0LnJhbmdlLm9mZnNldCA9IHJldC5zaXplOwogIGVsc2UKICAgIHJldC5yYW5nZS5vZmZzZXQgPSBvZmZzZXQ7CgogIGlmKGxlbmd0aCA+PSAwICYmIChzaXplX3QpbGVuZ3RoIDwgcmV0LnNpemUpCiAgICByZXQucmFuZ2UubGVuZ3RoID0gbGVuZ3RoOwoKICByZXR1cm4gcmV0Owp9CgojdW5kZWYgZnJlZQoKSlNCdWZmZXIKanNfaW5wdXRfY2hhcnMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQnVmZmVyIHJldCA9IEpTX0JVRkZFUl9ERUZBVUxUKCk7CiAgLy8gaW50NjRfdCBvZmZzZXQgPSAwLCBsZW5ndGggPSBJTlQ2NF9NQVg7CgogIG9sX2luaXQoJnJldC5yYW5nZSk7CgogIGlmKEpTX0lzU3RyaW5nKHZhbHVlKSkgewogICAgcmV0LmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnJldC5zaXplLCB2YWx1ZSk7CiAgICByZXQudmFsdWUgPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICAgIHJldC5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgfSBlbHNlIHsKICAgIHJldCA9IGpzX2lucHV0X2J1ZmZlcihjdHgsIHZhbHVlKTsKICB9CgogIHJldHVybiByZXQ7Cn0KCkpTQnVmZmVyCmpzX2lucHV0X2FyZ3MoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwoKICBpZihhcmdjID4gMSkKICAgIGpzX29mZnNldF9sZW5ndGgoY3R4LCBpbnB1dC5zaXplLCBhcmdjIC0gMSwgYXJndiArIDEsICZpbnB1dC5yYW5nZSk7CgogIHJldHVybiBpbnB1dDsKfQoKaW50CmpzX2J1ZmZlcl9mcm9tYXJncyhKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEpTQnVmZmVyKiBidWYpIHsKICBpbnQgcmV0ID0gMDsKICAqYnVmID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKCiAgaWYoYnVmLT5zaXplKSB7CiAgICArK3JldDsKCiAgICBpZihhcmdjID4gMSkKICAgICAgcmV0ICs9IGpzX29mZnNldF9sZW5ndGgoY3R4LCBidWYtPnNpemUsIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJmJ1Zi0+cmFuZ2UpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19hcnJheWJ1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICBzaXplX3QgbGVuOwogICAgcmV0dXJuIEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgdmFsdWUpICE9IE5VTEw7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKQk9PTApqc19pc19kYXRhdmlldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICBKU0F0b20gYXRvbXNbXSA9IHsKICAgICAgICBKU19OZXdBdG9tKGN0eCwgImJ5dGVMZW5ndGgiKSwKICAgICAgICBKU19OZXdBdG9tKGN0eCwgImJ5dGVPZmZzZXQiKSwKICAgICAgICBKU19OZXdBdG9tKGN0eCwgImJ1ZmZlciIpLAogICAgfTsKICAgIHVuc2lnbmVkIGk7CiAgICBCT09MIHJldCA9IFRSVUU7CgogICAgZm9yKGkgPSAwOyBpIDwgY291bnRvZihhdG9tcyk7IGkrKykgewogICAgICBpZighSlNfSGFzUHJvcGVydHkoY3R4LCB2YWx1ZSwgYXRvbXNbaV0pKSB7CiAgICAgICAgcmV0ID0gRkFMU0U7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmV0OwogIH0KICByZXR1cm4gRkFMU0U7Cn0KCkJPT0wKanNfaXNfdHlwZWRhcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX2lzX2RhdGF2aWV3KGN0eCwgdmFsdWUpICYmIGpzX2hhc19wcm9wZXJ0eXN0cihjdHgsIHZhbHVlLCAiQllURVNfUEVSX0VMRU1FTlQiKTsKfQoKSlNWYWx1ZQpqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBpbnQgYml0cywgQk9PTCBmbG9hdGluZywgQk9PTCBzaWduKSB7CiAgY2hhciBjbGFzc19uYW1lWzY0XTsKCiAgc3ByaW50ZihjbGFzc19uYW1lLCAiJXMlcyVkQXJyYXkiLCAoIWZsb2F0aW5nICYmIGJpdHMgPj0gNjQpID8gIkJpZyIgOiAiIiwgZmxvYXRpbmcgPyAiRmxvYXQiIDogc2lnbiA/ICJJbnQiIDogIlVpbnQiLCBiaXRzKTsKCiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCBjbGFzc19uYW1lKTsKfQoKSlNWYWx1ZQpqc190eXBlZGFycmF5X25ldyhKU0NvbnRleHQqIGN0eCwgaW50IGJpdHMsIEJPT0wgZmxvYXRpbmcsIEJPT0wgc2lnbiwgSlNWYWx1ZUNvbnN0IGJ1ZmZlciwgdWludDMyX3QgYnl0ZV9vZmZzZXQsIHVpbnQzMl90IGxlbmd0aCkgewogIEpTVmFsdWUgY3RvciA9IGpzX3R5cGVkYXJyYXlfY29uc3RydWN0b3IoY3R4LCBiaXRzLCBmbG9hdGluZywgc2lnbik7CiAgSlNWYWx1ZSBhcmdzW10gPSB7CiAgICAgIGJ1ZmZlciwKICAgICAgSlNfTmV3VWludDMyKGN0eCwgYnl0ZV9vZmZzZXQpLAogICAgICBKU19OZXdVaW50MzIoY3R4LCBsZW5ndGgpLAogIH07CiAgSlNWYWx1ZSByZXQgPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCBjb3VudG9mKGFyZ3MpLCBhcmdzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzFdKTsKICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzJdKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9Cgp0eXBlZGVmIHN0cnVjdCB7CiAgQ0Nsb3N1cmVGdW5jKiBmdW5jOwogIHVpbnQxNl90IGxlbmd0aCwgbWFnaWM7CiAgdm9pZCogb3BhcXVlOwogIHZvaWQgKCpvcGFxdWVfZmluYWxpemUpKHZvaWQqKTsKfSBKU0NDbG9zdXJlUmVjb3JkOwoKc3RhdGljIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQganNfY2Nsb3N1cmVfY2xhc3NfaWQ7CgpzdGF0aWMgaW5saW5lIEpTQ0Nsb3N1cmVSZWNvcmQqCmpzX2NjbG9zdXJlX2RhdGEoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZSh2YWx1ZSwganNfY2Nsb3N1cmVfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIEpTQ0Nsb3N1cmVSZWNvcmQqCmpzX2NjbG9zdXJlX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19jY2xvc3VyZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NjbG9zdXJlX2NhbGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jX29iaiwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IGZsYWdzKSB7CiAgSlNDQ2xvc3VyZVJlY29yZCogY2NyOwoKICBpZighKGNjciA9IGpzX2NjbG9zdXJlX2RhdGEyKGN0eCwgZnVuY19vYmopKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWVDb25zdCogYXJnX2J1ZjsKICBpbnQgaTsKCiAgLyogWFhYOiBjb3VsZCBhZGQgdGhlIGZ1bmN0aW9uIG9uIHRoZSBzdGFjayBmb3IgZGVidWcgKi8KICBpZih1bmxpa2VseShhcmdjIDwgY2NyLT5sZW5ndGgpKSB7CiAgICBhcmdfYnVmID0gYWxsb2NhKHNpemVvZihhcmdfYnVmWzBdKSAqIGNjci0+bGVuZ3RoKTsKICAgIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgYXJnX2J1ZltpXSA9IGFyZ3ZbaV07CiAgICBmb3IoaSA9IGFyZ2M7IGkgPCBjY3ItPmxlbmd0aDsgaSsrKSBhcmdfYnVmW2ldID0gSlNfVU5ERUZJTkVEOwogIH0gZWxzZSB7CiAgICBhcmdfYnVmID0gYXJndjsKICB9CgogIHJldHVybiBjY3ItPmZ1bmMoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJnX2J1ZiwgY2NyLT5tYWdpYywgY2NyLT5vcGFxdWUpOwp9CgpzdGF0aWMgdm9pZApqc19jY2xvc3VyZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU0NDbG9zdXJlUmVjb3JkKiBjY3I7CgogIGlmKChjY3IgPSBqc19jY2xvc3VyZV9kYXRhKHZhbCkpKSB7CiAgICBpZihjY3ItPm9wYXF1ZV9maW5hbGl6ZSkKICAgICAgY2NyLT5vcGFxdWVfZmluYWxpemUoY2NyLT5vcGFxdWUpOwoKICAgIGpzX2ZyZWVfcnQocnQsIGNjcik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19jY2xvc3VyZV9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIkpTQ0Nsb3N1cmUiLAogICAgLmZpbmFsaXplciA9IGpzX2NjbG9zdXJlX2ZpbmFsaXplciwKICAgIC5jYWxsID0ganNfY2Nsb3N1cmVfY2FsbCwKfTsKCkpTVmFsdWUKanNfZnVuY3Rpb25fY2Nsb3N1cmUoSlNDb250ZXh0KiBjdHgsIENDbG9zdXJlRnVuYyogZnVuYywgaW50IGxlbmd0aCwgaW50IG1hZ2ljLCB2b2lkKiBvcGFxdWUsIHZvaWQgKCpvcGFxdWVfZmluYWxpemUpKHZvaWQqKSkgewogIEpTQ0Nsb3N1cmVSZWNvcmQqIGNjcjsKICBKU1ZhbHVlIGZ1bmNfcHJvdG8sIGZ1bmNfb2JqOwoKICBpZihqc19jY2xvc3VyZV9jbGFzc19pZCA9PSAwKSB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19jY2xvc3VyZV9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX2NjbG9zdXJlX2NsYXNzX2lkLCAmanNfY2Nsb3N1cmVfY2xhc3MpOwogIH0KCiAgZnVuY19wcm90byA9IGpzX2Z1bmN0aW9uX3Byb3RvdHlwZShjdHgpOwogIGZ1bmNfb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIGZ1bmNfcHJvdG8sIGpzX2NjbG9zdXJlX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jX3Byb3RvKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24oZnVuY19vYmopKQogICAgcmV0dXJuIGZ1bmNfb2JqOwoKICBpZighKGNjciA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihKU0NDbG9zdXJlUmVjb3JkKSkpKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jX29iaik7CiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KCiAgY2NyLT5mdW5jID0gZnVuYzsKICBjY3ItPmxlbmd0aCA9IGxlbmd0aDsKICBjY3ItPm1hZ2ljID0gbWFnaWM7CiAgY2NyLT5vcGFxdWUgPSBvcGFxdWU7CiAgY2NyLT5vcGFxdWVfZmluYWxpemUgPSBvcGFxdWVfZmluYWxpemU7CgogIEpTX1NldE9wYXF1ZShmdW5jX29iaiwgY2NyKTsKCiAgLy8gSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIGZ1bmNfb2JqLCAibGVuZ3RoIiwgSlNfTmV3VWludDMyKGN0eCwgbGVuZ3RoKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUpOwoKICByZXR1cm4gZnVuY19vYmo7Cn0KAAAAAAAAAACwYQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAd10AAAAAAAB3XQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"contents": "Searching 103 files for \"Handler\"\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n   51        if(!JS_IsObject(os))\n   52          return JS_ThrowTypeError(ctx, \"globalThis.os must be imported module\");\n   53:       set_read = JS_GetPropertyStr(ctx, os, \"setReadHandler\");\n   54:       set_write = JS_GetPropertyStr(ctx, os, \"setWriteHandler\");\n   55        args[1] = argv[1];\n   56        tmp = JS_Call(ctx, set_read, os, 2, args);\n\n2 matches in 1 file\n\n\nSearching 103 files for \"js_os_get\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n  347  \n  348  JSValue\n  349: js_os_get(JSContext* ctx, const char* prop) {\n  350    JSValue os_obj = js_global_os(ctx);\n  351    JSValue ret = JS_GetPropertyStr(ctx, os_obj, prop);\n  ...\n  356  JSValue\n  357  js_timer_start(JSContext* ctx, JSValueConst fn, uint32_t ms) {\n  358:   JSValue set_timeout = js_os_get(ctx, \"setTimeout\");\n  359    JSValueConst args[2] = {fn, JS_MKVAL(JS_TAG_INT, ms)};\n  360    JSValue ret = JS_Call(ctx, set_timeout, JS_UNDEFINED, 2, args);\n  ...\n  365  void\n  366  js_timer_cancel(JSContext* ctx, JSValueConst timer) {\n  367:   JSValue clear_timeout = js_os_get(ctx, \"clearTimeout\");\n  368    JSValue ret = JS_Call(ctx, clear_timeout, JS_UNDEFINED, 1, &timer);\n  369    JS_FreeValue(ctx, clear_timeout);\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n  128  JSValue js_global_get(JSContext*, const char* prop);\n  129  JSValue js_global_os(JSContext*);\n  130: JSValue js_os_get(JSContext*, const char* prop);\n  131  JSValue js_timer_start(JSContext*, JSValueConst fn, uint32_t ms);\n  132  void js_timer_cancel(JSContext*, JSValueConst timer);\n\n4 matches across 2 files\n\n\nSearching 103 files for \"js_timer_start\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n  355  \n  356  JSValue\n  357: js_timer_start(JSContext* ctx, JSValueConst fn, uint32_t ms) {\n  358    JSValue set_timeout = js_os_get(ctx, \"setTimeout\");\n  359    JSValueConst args[2] = {fn, JS_MKVAL(JS_TAG_INT, ms)};\n  ...\n  395    if(!(JS_IsBool(ret) && !JS_ToBool(ctx, ret))) {\n  396      JS_FreeValue(ctx, closure->id);\n  397:     closure->id = js_timer_start(ctx, closure->callback, closure->interval);\n  398    }\n  399  \n  ...\n  413    closure->handler = JS_DupValue(ctx, fn);\n  414    closure->callback = js_function_cclosure(ctx, js_timer_callback, 0, 0, closure, js_timer_free);\n  415:   closure->id = js_timer_start(ctx, closure->callback, ms);\n  416  \n  417    return closure;\n  ...\n  422    js_timer_cancel(closure->ctx, closure->id);\n  423    JS_FreeValue(closure->ctx, closure->id);\n  424:   closure->id = js_timer_start(closure->ctx, closure->callback, closure->interval);\n  425  }\n  426  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n  129  JSValue js_global_os(JSContext*);\n  130  JSValue js_os_get(JSContext*, const char* prop);\n  131: JSValue js_timer_start(JSContext*, JSValueConst fn, uint32_t ms);\n  132  void js_timer_cancel(JSContext*, JSValueConst timer);\n  133  void js_timer_free(void*);\n\n5 matches across 2 files\n\n\nSearching 103 files for \"js_timer_start\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n  355  \n  356  JSValue\n  357: js_timer_start(JSContext* ctx, JSValueConst fn, uint32_t ms) {\n  358    JSValue set_timeout = js_os_get(ctx, \"setTimeout\");\n  359    JSValueConst args[2] = {fn, JS_MKVAL(JS_TAG_INT, ms)};\n  ...\n  395    if(!(JS_IsBool(ret) && !JS_ToBool(ctx, ret))) {\n  396      JS_FreeValue(ctx, closure->id);\n  397:     closure->id = js_timer_start(ctx, closure->callback, closure->interval);\n  398    }\n  399  \n  ...\n  413    closure->handler = JS_DupValue(ctx, fn);\n  414    closure->callback = js_function_cclosure(ctx, js_timer_callback, 0, 0, closure, js_timer_free);\n  415:   closure->id = js_timer_start(ctx, closure->callback, ms);\n  416  \n  417    return closure;\n  ...\n  422    js_timer_cancel(closure->ctx, closure->id);\n  423    JS_FreeValue(closure->ctx, closure->id);\n  424:   closure->id = js_timer_start(closure->ctx, closure->callback, closure->interval);\n  425  }\n  426  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n  129  JSValue js_global_os(JSContext*);\n  130  JSValue js_os_get(JSContext*, const char* prop);\n  131: JSValue js_timer_start(JSContext*, JSValueConst fn, uint32_t ms);\n  132  void js_timer_cancel(JSContext*, JSValueConst timer);\n  133  void js_timer_free(void*);\n\n5 matches across 2 files\n\n\nSearching 103 files for \"js_function_cclosure\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/remove-functions.c:\n  104    deferred_dup(def);\n  105  \n  106:   return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n  107  }\n  108  \n  ...\n  879    *h = (WSWantWrite){ctx, ws_dup(ws)};\n  880  \n  881:   return js_function_cclosure(ctx, want_write, 0, 0, h, ws_want_write_free);\n  882  }\n  883  void\n  ...\n 1010    JSValue ret = JS_NewObject(ctx);\n 1011  \n 1012:   JS_SetPropertyStr(ctx, ret, \"read\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n 1013    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n 1014  \n ....\n 1022    ++gen->ref_count;\n 1023  \n 1024:   JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, gen_p, (void*)&generator_free));\n 1025  \n 1026    return ret;\n ....\n 1123    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n 1124      *p = (HTTPAsyncResolveClosure){1, ctx, session, response_dup(resp), wsi};\n 1125:     JSValue fn = js_function_cclosure(ctx, client_resolved, 1, 0, p, client_resolved_free);\n 1126      JSValue tmp = js_promise_then(ctx, value, fn);\n 1127      JS_FreeValue(ctx, fn);\n ....\n 1289    deferred_dup(def);\n 1290  \n 1291:   return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n 1292  }\n 1293  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n  408      JSValue func[2], tmp;\n  409  \n  410:     func[0] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  411:     func[1] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  412  \n  413      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.c:\n  252        tail_decorate(ctx, ret, this_val, \"consume\", 1, RINGBUFFER_CONSUME);\n  253  \n  254:       JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, tail_next, 0, 0, tail_new(ctx, rb, ret), tail_finalize));\n  255        break;\n  256      }\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.c:\n   68      return JS_ThrowInternalError(ctx, \"MinnetGenerator needs a function parameter\");\n   69  \n   70:   args[0] = js_function_cclosure(ctx, minnet_generator_push, 0, 0, generator_dup(gen), (void*)&generator_free);\n   71:   args[1] = js_function_cclosure(ctx, minnet_generator_stop, 0, 0, generator_dup(gen), (void*)&generator_free);\n   72  \n   73    ret = JS_Call(ctx, argv[0], JS_UNDEFINED, 2, args);\n   ..\n   84    JSValue ret = JS_NewObject(ctx);\n   85  \n   86:   JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n   87    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n   88  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n   87    args[1] = argc <= 1 ? JS_NewObject(ctx) : JS_DupValue(ctx, argv[1]);\n   88  \n   89:   handlers[0] = js_function_cclosure(ctx, &fetch_handler, 2, ON_HTTP, closure_dup(cc), closure_free);\n   90:   handlers[1] = js_function_cclosure(ctx, &fetch_handler, 2, ON_ERROR, closure_dup(cc), closure_free);\n   91:   handlers[2] = js_function_cclosure(ctx, &fetch_handler, 2, ON_CLOSE, closure_dup(cc), closure_free);\n   92:   handlers[3] = js_function_cclosure(ctx, &fetch_handler, 3, ON_FD, closure_dup(cc), closure_free);\n   93  \n   94    JS_SetPropertyStr(ctx, args[1], \"onHttp\", handlers[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  408      return JS_ThrowInternalError(ctx, \"libwebsockets init failed\");\n  409  \n  410:   JSValue timer_cb = js_function_cclosure(ctx, minnet_server_timeout, 4, 0, server, 0);\n  411    uint32_t interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n  412    if(interval == 0)\n  ...\n  491      JSValue func[2], tmp;\n  492  \n  493:     func[0] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  494:     func[1] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  495  \n  496      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c:\n  446    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n  447      *p = (HTTPAsyncResolveClosure){2, ctx, session, opaque->resp ? response_dup(opaque->resp) : 0, session_wsi(session)};\n  448:     JSValue resolve = js_function_cclosure(ctx, serve_resolved, 1, 0, p, serve_resolved_free);\n  449      JSValue thened = js_promise_then(ctx, value, resolve);\n  450:     JSValue reject = js_function_cclosure(ctx, serve_rejected, 1, 0, p, serve_resolved_free);\n  451      JSValue catched = js_promise_catch(ctx, thened, reject);\n  452  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n  109    h->opaque->poll = (struct pollfd){fd, events, 0};\n  110  \n  111:   return js_function_cclosure(ctx, lws_iohandler, 1, events, h, lws_iohandler_free);\n  112  }\n  113  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n  412    closure->interval = ms;\n  413    closure->handler = JS_DupValue(ctx, fn);\n  414:   closure->callback = js_function_cclosure(ctx, js_timer_callback, 0, 0, closure, js_timer_free);\n  415    closure->id = js_timer_start(ctx, closure->callback, ms);\n  416  \n  ...\n  956  \n  957  JSValue\n  958: js_function_cclosure(JSContext* ctx, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*)) {\n  959    JSCClosureRecord* ccr;\n  960    JSValue func_proto, func_obj;\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n  381  typedef JSValue CClosureFunc(JSContext*, JSValueConst, int, JSValueConst[], int, void*);\n  382  \n  383: JSValue js_function_cclosure(JSContext*, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*));\n  384  \n  385  #endif /* QJSNET_LIB_JS_UTILS_H */\n\n25 matches across 10 files\n\n\nSearching 103 files for \"$\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/wscli.js:\n    1  #!/usr/bin/env qjsm\n    2  import * as std from 'std';\n    3  import * as os from 'os';\n    4  import REPL from 'repl';\n    5  import inspect from 'inspect';\n    6  import net, { URL, Request } from 'net';\n    7  import { Console, ConsoleOptions } from 'console';\n    8  import { toString } from 'util';\n    9  \n   10  const connections = new Set();\n   11  \n   12  let debug = 0,\n   13    params,\n   14    repl;\n   15  \n   16  function MakePrompt(prefix, suffix, commandMode = false) {\n   17    return `\\x1b[38;5;40m${prefix} \\x1b[38;5;33m${suffix}\\x1b[0m ${commandMode ? 'COMMAND' : 'DATA'} > `;\n   18  }\n   19  \n   20  function FromDomain(buffer) {\n   21    let s = '',\n   22      i = 0,\n   23      u8 = new Uint8Array(buffer);\n   24    for(;;) {\n   25      let len = u8[i++];\n   26      if(len == 0) return s;\n   27      if(s != '') s += '.';\n   28      while(len--) s += String.fromCharCode(u8[i++]);\n   29    }\n   30  }\n   31  \n   32  function WriteFile(filename, buffer) {\n   33    let fd;\n   34    let err = {};\n   35    if((fd = std.open(filename, 'w+', err))) {\n   36      let r = typeof buffer == 'string' ? (fd.puts(buffer), fd.tell()) : fd.write(buffer, 0, buffer.byteLength);\n   37      fd.close();\n   38      console.log(`r`, r);\n   39      if(r >= 0) console.log(`Wrote '${filename}'.`);\n   40      else console.log(`Error writing '${filename}': ${std.strerror(err.errno)}`);\n   41      return r;\n   42    }\n   43  }\n   44  \n   45  function ToDomain(str, alpha = false) {\n   46    return str\n   47      .split('.')\n   48      .reduce(\n   49        alpha\n   50          ? (a, s) => a + String.fromCharCode(s.length) + s\n   51          : (a, s) => a.concat([s.length, ...s.split('').map(ch => ch.charCodeAt(0))]),\n   52        alpha ? '' : []\n   53      );\n   54  }\n   55  \n   56  function DNSQuery(domain) {\n   57    let type = 0x01;\n   58    if(/^([0-9]+\\.?){4}$/.test(domain)) {\n   59      domain = domain.split('.').reverse().join('.') + '.in-addr.arpa';\n   60      type = 0x0c;\n   61    }\n   62  \n   63    let outBuf = new Uint8Array([\n   64      0xff,\n   65      0xff,\n   66      0x01,\n   67      0x00,\n   68      0x00,\n   69      0x01,\n   70      0x00,\n   71      0x00,\n   72      0x00,\n   73      0x00,\n   74      0x00,\n   75      0x00,\n   76      ...ToDomain(domain),\n   77      0x00,\n   78      0x00,\n   79      type,\n   80      0x00,\n   81      0x01\n   82    ]).buffer;\n   83    new DataView(outBuf).setUint16(0, outBuf.byteLength - 2, false);\n   84    return outBuf;\n   85  }\n   86  \n   87  function DNSResponse(buffer) {\n   88    let u8 = new Uint8Array(buffer);\n   89    let header = new DataView(buffer, 0, 12);\n   90    let ofs = 2 + header.getUint16(0, false);\n   91    header = new DataView(buffer, ofs, 12);\n   92    let type = header.getUint16(2, false);\n   93    ofs += 12;\n   94    let addr;\n   95    if(type == 0x0c) addr = FromDomain(buffer.slice(ofs));\n   96    else addr = u8.slice(-4).join('.');\n   97    return addr;\n   98  }\n   99  \n  100  class CLI extends REPL {\n  101    constructor(prompt2) {\n  102      let name = process.argv[1];\n  103      name = name\n  104        .replace(/.*\\//, '')\n  105        .replace(/-/g, ' ')\n  106        .replace(/\\.[^\\/.]*$/, '');\n  107      let [prefix, suffix] = [name, prompt2];\n  108      let prompt = MakePrompt(prefix, suffix, false).slice(0, -2);\n  109      super(prompt, false);\n  110      Object.assign(this, { prefix, suffix });\n  111  \n  112      this.historyLoad(null, false);\n  113      this.addCleanupHandler(() => {\n  114        this.readlineRemovePrompt();\n  115        this.printStatus(`EXIT`, false);\n  116        std.exit(0);\n  117      });\n  118      let orig_log = console.log;\n  119      let log = this.printFunction((...args) => orig_log(...args));\n  120      console.log = (...args) => {\n  121        let opts = console.config(console.options);\n  122        this.printStatus(\n  123          args.reduce((acc, arg) => {\n  124            if(arg instanceof ConsoleOptions) opts = opts.merge(arg);\n  125            else acc = (acc != '' ? acc + ' ' : '') + inspect(arg, opts);\n  126            return acc;\n  127          }, '')\n  128        );\n  129      };\n  130      this.commandMode = false;\n  131      this.commands['\\x1b'] ??= this.escape;\n  132      this.commands['¬ß'] = this.escape;\n  133      this.runSync();\n  134    }\n  135  \n  136    help() {}\n  137  \n  138    show(arg) {\n  139      std.puts((typeof arg == 'string' ? arg : inspect(arg, globalThis.console.options)) + '\\n');\n  140    }\n  141  \n  142    escape() {\n  143      this.commandMode = !this.commandMode;\n  144      this.readlineRemovePrompt();\n  145      this.prompt = this.ps1 = MakePrompt(this.prefix, this.suffix, this.commandMode);\n  146      this.readlinePrintPrompt();\n  147    }\n  148  \n  149    handleCmd(data) {\n  150      if(this.commandMode) return super.handleCmd(data);\n  151      if(typeof data == 'string' && data.length > 0) {\n  152        this.printStatus(`Sending '${data}'`, false);\n  153        for(let connection of connections) connection.send(data);\n  154      }\n  155    }\n  156  }\n  157  \n  158  async function main(...args) {\n  159    const base = scriptArgs[0].replace(/.*\\//g, '').replace(/\\.[a-z]*$/, '');\n  160    globalThis.console = new Console({\n  161      inspectOptions: {\n  162        depth: Infinity,\n  163        compact: 1,\n  164        customInspect: true\n  165      }\n  166    });\n  167    let headers = [];\n  168    params = GetOpt(\n  169      {\n  170        verbose: [false, (a, v) => (v | 0) + 1, 'v'],\n  171        listen: [false, null, 'l'],\n  172        binary: [false, null, 'b'],\n  173        connect: [false, null, 'c'],\n  174        client: [false, null, 'C'],\n  175        server: [false, null, 'S'],\n  176        debug: [false, () => ++debug, 'x'],\n  177        address: [true, null, 'a'],\n  178        port: [true, null, 'p'],\n  179        method: [true, null, 'm'],\n  180        output: [true, null, 'o'],\n  181        protocol: [true, null, 'P'],\n  182        header: [\n  183          true,\n  184          arg => {\n  185            const pos = arg.search(/: /);\n  186            const name = arg.substring(0, pos);\n  187            const value = arg.substring(pos + 2);\n  188            headers.push([name, value]);\n  189          },\n  190          'H'\n  191        ],\n  192        'ssl-cert': [true, null],\n  193        'ssl-private-key': [true, null],\n  194        '@': 'url,'\n  195      },\n  196      args\n  197    );\n  198  \n  199    const { 'ssl-cert': sslCert = 'localhost.crt', 'ssl-private-key': sslPrivateKey = 'localhost.key', method } = params;\n  200    const listen = params.connect && !params.listen ? false : true;\n  201    const server = !params.client || params.server;\n  202    const { binary, protocol } = params;\n  203    let urls = params['@'];\n  204  \n  205    function createWS(url, callbacks, listen = 0) {\n  206      let repl,\n  207        is_dns,\n  208        urlObj = new URL(url);\n  209      net.setLog(net.LLL_USER | (((debug ? net.LLL_INFO : net.LLL_NOTICE) << 1) - 1), (level, msg) => {\n  210        let p =\n  211          ['ERR', 'WARN', 'NOTICE', 'INFO', 'DEBUG', 'PARSER', 'HEADER', 'EXT', 'CLIENT', 'LATENCY', 'MINNET', 'THREAD'][\n  212            level && Math.log2(level)\n  213          ] ?? level + '';\n  214        if(p == 'INFO' || /RECEIVE_CLIENT_HTTP_READ|\\[mux|__lws|\\[wsicli|lws_/.test(msg)) return;\n  215        msg = msg.replace(/\\n/g, '\\\\n');\n  216        if(params.verbose > 1 || params.debug) std.puts(p.padEnd(8) + '\\t' + msg + '\\n');\n  217      });\n  218      if(params.verbose) console.log(`Connecting to '${url}'...`);\n  219  \n  220      const fn = [net.client, net.server][+listen];\n  221      return fn(url, {\n  222        sslCert,\n  223        sslPrivateKey,\n  224        method,\n  225        binary,\n  226        protocol,\n  227        block: false,\n  228        body: function* () {\n  229          yield '{ \"test\": 1234 }';\n  230        },\n  231        headers: {\n  232          'user-agent': 'minnet',\n  233          ...Object.fromEntries(headers)\n  234        },\n  235        ...callbacks,\n  236        onConnect(ws, req) {\n  237          console.log('onConnect', { ws, req });\n  238          connections.add(ws);\n  239          Object.assign(globalThis, { ws, req });\n  240  \n  241          if(params.verbose) console.log('onConnect', { ws, req });\n  242          const remote = `${ws.address}:${ws.port}`;\n  243          try {\n  244            repl = globalThis.repl = new CLI(remote);\n  245          } catch(err) {\n  246            console.log('error:', err.message);\n  247          }\n  248  \n  249          repl.printStatus(`Connected to ${remote}`);\n  250          if(req) {\n  251            const { url } = req;\n  252            const { protocol, port } = url;\n  253            if((is_dns = protocol == 'udp' && port == 53)) {\n  254              ws.binary = true;\n  255              ws.send(DNSQuery('libwebsockets.org'));\n  256            }\n  257          }\n  258        },\n  259        onClose(ws, status, reason, error) {\n  260          if(error) {\n  261            quit(`Connection error: ${reason}`);\n  262          }\n  263  \n  264          console.log('onClose', { ws, status, reason, error });\n  265          connections.delete(ws);\n  266          if(repl) {\n  267            repl.printStatus(`Closed (${status}): ${reason}`);\n  268            os.setTimeout(() => {\n  269              repl.exit(status != 1000 ? 1 : 0);\n  270            }, 100);\n  271          }\n  272        },\n  273        onHttp(req, resp) {\n  274          console.log('onHttp', console.config({ compact: false }), { req, resp });\n  275          let { headers } = resp;\n  276  \n  277          let type = (headers['content-type'] ?? 'text/html').replace(/;.*/g, '');\n  278          let extension = '.' + type.replace(/.*\\//g, '');\n  279          let { url } = req;\n  280          let { path } = url;\n  281          let name = path.replace(/\\/[a-z]\\/.*/g, '').replace(/.*\\//g, '');\n  282  \n  283          if(name == '') name = 'index';\n  284          if(!name.endsWith(extension)) name += extension;\n  285  \n  286          let buffer = resp.body;\n  287          let text = toString(buffer);\n  288          console.log('this', this);\n  289  \n  290          WriteFile(params.output ?? name ?? 'output.bin', buffer);\n  291          let next = urls.length && urls.shift();\n  292  \n  293          if(next) {\n  294            req = new Request(next);\n  295            return req;\n  296          } else {\n  297            return -1;\n  298          }\n  299        },\n  300        onFd(fd, rd, wr) {\n  301          os.setReadHandler(fd, rd);\n  302          os.setWriteHandler(fd, wr);\n  303        },\n  304        onMessage(ws, msg) {\n  305          console.log('onMessage', console.config({ compact: 1 }), { ws, msg });\n  306          if(typeof msg == 'string') {\n  307            msg = msg.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r');\n  308            msg = msg.substring(0, 100);\n  309          }\n  310  \n  311          if(is_dns) {\n  312            let response = DNSResponse(msg);\n  313          } else {\n  314          }\n  315        },\n  316        onError(ws, error) {}\n  317      });\n  318    }\n  319  \n  320    Object.assign(globalThis, {\n  321      get connections() {\n  322        return [...connections];\n  323      }\n  324    });\n  325  \n  326    try {\n  327      await createWS(urls.shift(), {})\n  328        .then(() => {\n  329          quit('FINISHED');\n  330        })\n  331        .catch(err => {\n  332          console.log('Failed', err);\n  333        });\n  334    } catch(error) {\n  335      quit('ERROR: ' + error.message);\n  336    }\n  337  \n  338    function quit(why) {\n  339      if(why) std.err.puts(why + '\\n');\n  340      if(repl) repl.cleanup(why);\n  341      std.exit(0);\n  342    }\n  343  }\n  344  \n  345  function GetOpt(options = {}, args) {\n  346    let s, l;\n  347    let r = {};\n  348    let positional = (r['@'] = []);\n  349    if(!(options instanceof Array)) options = Object.entries(options);\n  350    const findOpt = a =>\n  351      options.find(([optname, option]) => (Array.isArray(option) ? option.indexOf(a) != -1 : false) || a == optname);\n  352    let [, params] = options.find(o => o[0] == '@') || [];\n  353    if(typeof params == 'string') params = params.split(',');\n  354    for(let i = 0; i < args.length; i++) {\n  355      const a = args[i];\n  356      let o;\n  357      if(a[0] == '-') {\n  358        let n, v, x, y;\n  359        if(a[1] == '-') l = true;\n  360        else s = true;\n  361        x = s ? 1 : 2;\n  362        if(s) y = 2;\n  363        else if((y = a.indexOf('=')) == -1) y = a.length;\n  364        n = a.substring(x, y);\n  365        if((o = findOpt(n))) {\n  366          const [has_arg, handler] = o[1];\n  367          if(has_arg) {\n  368            if(a.length > y) v = a.substring(y + (a[y] == '='));\n  369            else v = args[++i];\n  370          } else {\n  371            v = true;\n  372          }\n  373  \n  374          try {\n  375            handler(v, r[o[0]], options, r);\n  376          } catch(err) {}\n  377  \n  378          r[o[0]] = v;\n  379          continue;\n  380        }\n  381      }\n  382  \n  383      if(params.length) {\n  384        const p = params.shift();\n  385        if((o = findOpt(p))) {\n  386          const [, [, handler]] = o;\n  387          let v = a;\n  388          if(typeof handler == 'function')\n  389            try {\n  390              v = handler(v, r[o[0]], options, r);\n  391            } catch(err) {}\n  392  \n  393          const n = o[0];\n  394          r[o[0]] = v;\n  395          continue;\n  396        }\n  397      }\n  398  \n  399      r['@'] = [...(r['@'] ?? []), a];\n  400    }\n  401  \n  402    return r;\n  403  }\n  404  \n  405  try {\n  406    main(...scriptArgs.slice(1));\n  407  } catch(error) {\n  408    console.log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n  409    std.exit(1);\n  410  }\n  411  \n\n~/Projects/plot-cv/quickjs/qjs-net/remove-functions.c:\n    1  __attribute__((visibility(\"default\"))) JSModuleDef*\n    2  JS_INIT_MODULE(JSContext* ctx, const char* module_name) {\n    3    JSModuleDef* m;\n    4    m = JS_NewCModule(ctx, module_name, js_minnet_init);\n    5    if(!m)\n    6      return NULL;\n    7    JS_AddModuleExport(ctx, m, \"Response\");\n    8    JS_AddModuleExport(ctx, m, \"Request\");\n    9    JS_AddModuleExport(ctx, m, \"Ringbuffer\");\n   10    JS_AddModuleExport(ctx, m, \"Generator\");\n   11    JS_AddModuleExport(ctx, m, \"Socket\");\n   12    JS_AddModuleExport(ctx, m, \"FormParser\");\n   13    JS_AddModuleExport(ctx, m, \"Hash\");\n   14    JS_AddModuleExport(ctx, m, \"URL\");\n   15    JS_AddModuleExport(ctx, m, \"default\");\n   16    JS_AddModuleExportList(ctx, m, minnet_funcs, countof(minnet_funcs));\n   17  \n   18    minnet_log_ctx = ctx;\n   19  \n   20    lws_set_log_level(minnet_log_level, minnet_log_callback);\n   21  \n   22    return m;\n   23  }\n   24  \n   25  ByteBuffer\n   26  buffer_move(ByteBuffer* buf) {\n   27    ByteBuffer ret = *buf;\n   28    memset(buf, 0, sizeof(ByteBuffer));\n   29    return ret;\n   30  }\n   31  \n   32  size_t\n   33  byte_findb(const void* haystack, size_t hlen, const void* what, size_t wlen) {\n   34    size_t i, last;\n   35    const char* s = (const char*)haystack;\n   36    if(hlen < wlen)\n   37      return hlen;\n   38    last = hlen - wlen;\n   39    for(i = 0; i <= last; i++) {\n   40      if(byte_equal(s, wlen, what))\n   41        return i;\n   42      s++;\n   43    }\n   44    return hlen;\n   45  }\n   46  \n   47  DoubleWord\n   48  deferred_call_x(Deferred* def, ...) {\n   49    ptr_t const* av = def->argv;\n   50    DoubleWord ret = {{0, 0}};\n   51    va_list a;\n   52    int argc = def->argc;\n   53    size_t arg;\n   54  \n   55    va_start(a, def);\n   56  \n   57    while(argc < countof(def->argv) && (arg = va_arg(a, size_t))) {\n   58      if(arg == DEFERRED_SENTINEL)\n   59        break;\n   60      def->argv[argc++] = (ptr_t)arg;\n   61    }\n   62  \n   63    va_end(a);\n   64  \n   65    assert(!def->only_once || def->num_calls < 1);\n   66  \n   67    if(!def->only_once || def->num_calls < 1) {\n   68  \n   69      if(def->func == (void*)&JS_Call)\n   70        ret = def->func(av[0], av[1], av[2], av[3], av[4], (ptr_t)(size_t)((argc - def->argc) > 0 ? 1 : 0), (ptr_t)&av[def->argc], 0);\n   71      else\n   72        ret = def->func(av[0], av[1], av[2], av[3], av[4], av[5], av[6], av[7]);\n   73  \n   74      ++def->num_calls;\n   75    }\n   76  \n   77    return ret;\n   78  }\n   79  \n   80  Deferred*\n   81  deferred_dupjs(JSValueConst value, JSContext* ctx) {\n   82    JSValue v = JS_DupValue(ctx, value);\n   83    return deferred_newjs(v, ctx);\n   84  }\n   85  \n   86  Deferred*\n   87  deferred_newv(ptr_t fn, int argc, ptr_t argv[]) {\n   88    Deferred* def;\n   89  \n   90    if(!(def = malloc(sizeof(Deferred))))\n   91      return 0;\n   92  \n   93    deferred_init(def, fn, argc, argv);\n   94  \n   95    def->ref_count = 1;\n   96    def->num_calls = 0;\n   97    def->only_once = FALSE;\n   98  \n   99    return def;\n  100  }\n  101  \n  102  JSValue\n  103  deferred_tojs(Deferred* def, JSContext* ctx) {\n  104    deferred_dup(def);\n  105  \n  106    return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n  107  }\n  108  \n  109  struct form_parser*\n  110  form_parser_new(JSContext* ctx, struct socket* ws, int nparams, const char* const* param_names, size_t chunk_size) {\n  111    struct form_parser* fp;\n  112  \n  113    if((fp = form_parser_alloc(ctx)))\n  114      form_parser_init(fp, ws, nparams, param_names, chunk_size);\n  115  \n  116    return fp;\n  117  }\n  118  \n  119  char*\n  120  headers_atom(JSAtom atom, JSContext* ctx) {\n  121    char* ret;\n  122    const char* str = JS_AtomToCString(ctx, atom);\n  123    size_t len = strlen(str);\n  124  \n  125    if((ret = js_malloc(ctx, len + 2))) {\n  126      strcpy(ret, str);\n  127      ret[len] = ':';\n  128      ret[len + 1] = '\\0';\n  129    }\n  130    return ret;\n  131  }\n  132  \n  133  ssize_t\n  134  headers_set(JSContext* ctx, ByteBuffer* buffer, const char* name, const char* value) {\n  135    size_t namelen = strlen(name), valuelen = strlen(value);\n  136    size_t len = namelen + 2 + valuelen + 2;\n  137  \n  138    buffer_grow(buffer, len);\n  139    buffer_write(buffer, name, namelen);\n  140    buffer_write(buffer, \": \", 2);\n  141    buffer_write(buffer, value, valuelen);\n  142    buffer_write(buffer, \"\\r\\n\", 2);\n  143  \n  144    return len;\n  145  }\n  146  \n  147  void\n  148  js_buffer_to(JSBuffer buf, void** pptr, size_t* plen) {\n  149    if(pptr)\n  150      *pptr = buf.data;\n  151    if(plen)\n  152      *plen = buf.size;\n  153  }\n  154  \n  155  JSModuleDef*\n  156  js_module_find(JSContext* ctx, JSAtom name) {\n  157    struct list_head *el, *list = js_module_list(ctx);\n  158  \n  159    list_for_each(el, list) {\n  160      JSModuleDef* module = (void*)((char*)el - sizeof(JSAtom) * 2);\n  161  \n  162      if(((JSAtom*)module)[1] == name)\n  163        return module;\n  164    }\n  165    return 0;\n  166  }\n  167  \n  168  JSValue\n  169  minnet_form_parser_wrap(JSContext* ctx, MinnetFormParser* fp) {\n  170    JSValue ret = JS_NewObjectProtoClass(ctx, minnet_form_parser_proto, minnet_form_parser_class_id);\n  171  \n  172    if(JS_IsException(ret))\n  173      return JS_EXCEPTION;\n  174  \n  175    JS_SetOpaque(ret, form_parser_dup(fp));\n  176  \n  177    return ret;\n  178  }\n  179  \n  180  int\n  181  minnet_protocol_count(MinnetProtocols** plist) {\n  182    int i;\n  183  \n  184    if(!*plist)\n  185      return 0;\n  186  \n  187    for(i = 0;; i++) {\n  188      if((*plist)[i].name == NULL)\n  189        break;\n  190    }\n  191    return i;\n  192  }\n  193  \n  194  static proxy_conn_t*\n  195  proxy_new() {\n  196    proxy_conn_t* pc;\n  197    if((pc = malloc(sizeof(*pc))))\n  198      memset(pc, 0, sizeof(*pc));\n  199  \n  200    return pc;\n  201  }\n  202  \n  203  int\n  204  proxy_ws_raw_msg_destroy(struct lws_dll2* d, void* user) {\n  205    proxy_msg_t* msg = lws_container_of(d, proxy_msg_t, list);\n  206  \n  207    lws_dll2_remove(d);\n  208    free(msg);\n  209  \n  210    return 0;\n  211  }\n  212  \n  213  void\n  214  request_clear(Request* req, JSContext* ctx) {\n  215    url_free(&req->url, ctx);\n  216    buffer_free(&req->headers);\n  217    if(req->ip) {\n  218      free(req->ip);\n  219      req->ip = 0;\n  220    }\n  221    if(req->body)\n  222      generator_destroy(&req->body);\n  223  }\n  224  \n  225  void\n  226  request_format(Request const* req, char* buf, size_t len, JSContext* ctx) {\n  227    char* headers = buffer_escaped(&req->headers);\n  228    char* url = url_format(req->url, ctx);\n  229    snprintf(buf, len, FGC(196, \"Request\") \" { method: '%s', url: '%s', headers: '%s' }\", method_name(req->method), url, headers);\n  230  \n  231    js_free(ctx, headers);\n  232    js_free(ctx, url);\n  233  }\n  234  \n  235  void\n  236  response_format(const struct http_response* resp, char* buf, size_t len) {\n  237    snprintf(buf, len, FGC(226, \"Response\") \" { url.path: '%s', status: %d, headers_sent: %s, type: '%s' }\", resp->url.path, resp->status, resp->headers_sent ? \"true\" : \"false\", resp->type);\n  238  }\n  239  \n  240  struct url\n  241  url_create(const char* str, JSContext* ctx) {\n  242    struct url ret = {1, 0, 0, 0, 0};\n  243    url_parse(&ret, str, ctx);\n  244    return ret;\n  245  }\n  246  \n  247  static JSValue\n  248  want_write(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  249    WSWantWrite* closure = ptr;\n  250  \n  251    lws_callback_on_writable(closure->ws->lwsi);\n  252    return JS_UNDEFINED;\n  253  }\n  254  \n  255  static void\n  256  ws_want_write_free(void* ptr) {\n  257    WSWantWrite* closure = ptr;\n  258    JSContext* ctx = closure->ctx;\n  259  \n  260    ws_free(closure->ws, ctx);\n  261    js_free(ctx, closure);\n  262  };\n  263  \n  264  AsyncIterator*\n  265  asynciterator_new(JSContext* ctx) {\n  266    AsyncIterator* it;\n  267  \n  268    if((it = js_malloc(ctx, sizeof(AsyncIterator)))) {\n  269      asynciterator_zero(it);\n  270    }\n  271  \n  272    return it;\n  273  }\n  274  \n  275  void\n  276  block_init(ByteBlock* blk, uint8_t* start, size_t len) {\n  277    blk->start = start;\n  278    blk->end = blk->start + len;\n  279  }\n  280  \n  281  ssize_t\n  282  block_concat(ByteBlock* blk, ByteBlock other) {\n  283    if(block_append(blk, block_BEGIN(&other), block_SIZE(&other)) == -1)\n  284      return -1;\n  285  \n  286    return block_SIZE(blk);\n  287  }\n  288  \n  289  ByteBlock\n  290  block_new(size_t size) {\n  291    ByteBlock ret = {0, 0};\n  292    block_alloc(&ret, size);\n  293    return ret;\n  294  }\n  295  \n  296  ByteBlock\n  297  block_from(void* data, size_t size) {\n  298    return (ByteBlock){data, (uint8_t*)data + size};\n  299  }\n  300  \n  301  int\n  302  block_fromarraybuffer(ByteBlock* blk, JSValueConst value, JSContext* ctx) {\n  303    size_t len;\n  304  \n  305    if(!(blk->start = JS_GetArrayBuffer(ctx, &len, value)))\n  306      return -1;\n  307  \n  308    blk->end = blk->start + len;\n  309    return 0;\n  310  }\n  311  \n  312  void\n  313  buffer_init(ByteBuffer* buf, uint8_t* start, size_t len) {\n  314    buf->start = start;\n  315    buf->end = start + len;\n  316    buf->read = buf->start;\n  317    buf->write = buf->start;\n  318    buf->alloc = 0;\n  319  }\n  320  \n  321  int\n  322  buffer_fromarraybuffer(ByteBuffer* buf, JSValueConst value, JSContext* ctx) {\n  323    int ret;\n  324  \n  325    if(!(ret = block_fromarraybuffer(&buf->block, value, ctx))) {\n  326      buf->read = buf->start;\n  327      buf->write = buf->start;\n  328      buf->alloc = 0;\n  329    }\n  330    return ret;\n  331  }\n  332  \n  333  void\n  334  buffer_finalizer(JSRuntime* rt, void* opaque, void* ptr) {\n  335    // ByteBuffer* buf = opaque;\n  336  }\n  337  \n  338  JSValue\n  339  buffer_toarraybuffer(ByteBuffer* buf, JSContext* ctx) {\n  340    ByteBuffer moved = buffer_move(buf);\n  341    return block_toarraybuffer(&moved.block, ctx);\n  342  }\n  343  \n  344  JSValue\n  345  buffer_toarraybuffer_size(ByteBuffer* buf, size_t* sz, JSContext* ctx) {\n  346    ByteBuffer moved = buffer_move(buf);\n  347    if(sz)\n  348      *sz = block_SIZE(&moved.block);\n  349    return block_toarraybuffer(&moved.block, ctx);\n  350  }\n  351  \n  352  void\n  353  buffer_dump(const char* n, ByteBuffer const* buf) {\n  354    fprintf(stderr, \"%s\\t{ write = %td, read = %td, size = %td }\\n\", n, buf->write - buf->start, buf->read - buf->start, buf->end - buf->start);\n  355    fflush(stderr);\n  356  }\n  357  \n  358  uint8_t*\n  359  buffer_skip(ByteBuffer* buf, size_t size) {\n  360    assert(buf->read + size <= buf->write);\n  361    buf->read += size;\n  362    return buf->read;\n  363  }\n  364  \n  365  static void\n  366  deferred_freejs(Deferred* def) {\n  367    JSValue value = deferred_getjs(def);\n  368  \n  369    JS_FreeValue(def->argv[0], value);\n  370  }\n  371  \n  372  static void\n  373  deferred_freejs_rt(Deferred* def) {\n  374    JSValue value = deferred_getjs(def);\n  375  \n  376    JS_FreeValueRT(def->argv[0], value);\n  377  }\n  378  \n  379  Deferred*\n  380  deferred_newjs_rt(JSValue value, JSContext* ctx) {\n  381    Deferred* def;\n  382  \n  383    if((def = deferred_new(fn, JS_GetRuntime(ctx), value)))\n  384      def->next = deferred_new(deferred_freejs_rt, def);\n  385  \n  386    return def;\n  387  }\n  388  \n  389  int\n  390  headers_addobj(ByteBuffer* buffer, struct lws* wsi, JSValueConst obj, JSContext* ctx) {\n  391    JSPropertyEnum* tab;\n  392    uint32_t tab_len, i;\n  393  \n  394    if(JS_GetOwnPropertyNames(ctx, &tab, &tab_len, obj, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK))\n  395      return 0;\n  396  \n  397    for(i = 0; i < tab_len; i++) {\n  398      JSValue value = JS_GetProperty(ctx, obj, tab[i].atom);\n  399      size_t len;\n  400      void* prop;\n  401      const void* str;\n  402      int ret;\n  403  \n  404      str = JS_ToCStringLen(ctx, &len, value);\n  405      JS_FreeValue(ctx, value);\n  406  \n  407      prop = headers_atom(tab[i].atom, ctx);\n  408  \n  409      ret = lws_add_http_header_by_name(wsi, prop, str, len, &buffer->write, buffer->end);\n  410  \n  411      js_free(ctx, prop);\n  412      JS_FreeCString(ctx, str);\n  413  \n  414      if(ret)\n  415        return -1;\n  416    }\n  417  \n  418    js_free(ctx, tab);\n  419    return 0;\n  420  }\n  421  \n  422  ssize_t\n  423  headers_copy(ByteBuffer* buffer, char* dest, size_t sz, const char* name) {\n  424    char* hdr;\n  425    size_t len;\n  426  \n  427    if((hdr = headers_getlen(buffer, &len, name))) {\n  428      len = MIN(len, sz);\n  429  \n  430      strncpy(dest, hdr, len);\n  431      return len;\n  432    }\n  433  \n  434    return -1;\n  435  }\n  436  \n  437  ssize_t\n  438  headers_unset(ByteBuffer* buffer, const char* name) {\n  439    return headers_unsetb(buffer, name, strlen(name));\n  440  }\n  441  \n  442  char*\n  443  headers_tostring(JSContext* ctx, struct lws* wsi) {\n  444    ByteBuffer buf = BUFFER_0();\n  445    char* ret = 0;\n  446    headers_tobuffer(ctx, &buf, wsi);\n  447  \n  448    ret = js_strndup(ctx, (const char*)buf.start, buffer_BYTES(&buf));\n  449  \n  450    buffer_free(&buf);\n  451    return ret;\n  452  }\n  453  \n  454  BOOL\n  455  generator_cancel(Generator* gen) {\n  456    BOOL ret = FALSE;\n  457  \n  458    if(!queue_complete(gen->q)) {\n  459      queue_close(gen->q);\n  460      ret = TRUE;\n  461    }\n  462    if(asynciterator_cancel(&gen->iterator, JS_UNDEFINED, gen->ctx))\n  463      ret = TRUE;\n  464  \n  465    return ret;\n  466  }\n  467  \n  468  JSValue\n  469  generator_stop(Generator* gen) {\n  470    ResolveFunctions funcs = {JS_NULL, JS_NULL};\n  471    JSValue ret = js_promise_create(gen->ctx, &funcs);\n  472  \n  473    if(!generator_close(gen, funcs.resolve)) {\n  474      JS_FreeValue(gen->ctx, JS_Call(gen->ctx, funcs.reject, JS_UNDEFINED, 0, 0));\n  475    }\n  476  \n  477    js_promise_free(gen->ctx, &funcs);\n  478    return ret;\n  479  }\n  480  \n  481  BOOL\n  482  js_promise_done(ResolveFunctions const* funcs) {\n  483    return js_resolve_functions_is_null(funcs);\n  484  }\n  485  \n  486  BOOL\n  487  js_get_propertystr_bool(JSContext* ctx, JSValueConst obj, const char* str) {\n  488    BOOL ret = FALSE;\n  489    JSValue value;\n  490    value = JS_GetPropertyStr(ctx, obj, str);\n  491    if(!JS_IsException(value))\n  492      ret = JS_ToBool(ctx, value);\n  493  \n  494    JS_FreeValue(ctx, value);\n  495    return ret;\n  496  }\n  497  \n  498  JSModuleDef*\n  499  js_module_find_s(JSContext* ctx, const char* name) {\n  500    JSAtom atom;\n  501    JSModuleDef* module;\n  502    atom = JS_NewAtom(ctx, name);\n  503    module = js_module_find(ctx, atom);\n  504    JS_FreeAtom(ctx, atom);\n  505    return module;\n  506  }\n  507  \n  508  void*\n  509  js_module_export_find(JSModuleDef* module, JSAtom name) {\n  510    void* export_entries = *(void**)((char*)module + sizeof(int) * 2 + sizeof(struct list_head) + sizeof(void*) + sizeof(int) * 2);\n  511    int i, export_entries_count = *(int*)((char*)module + sizeof(int) * 2 + sizeof(struct list_head) + sizeof(void*) + sizeof(int) * 2 + sizeof(void*));\n  512    static const size_t export_entry_size = sizeof(void*) * 2 + sizeof(int) * 2;\n  513  \n  514    for(i = 0; i < export_entries_count; i++) {\n  515      void* entry = (char*)export_entries + export_entry_size * i;\n  516  \n  517      JSAtom* export_name = (JSAtom*)(char*)entry + sizeof(void*) * 2 + sizeof(int) * 2;\n  518  \n  519      if(*export_name == name)\n  520        return entry;\n  521    }\n  522  \n  523    return 0;\n  524  }\n  525  \n  526  JSValue\n  527  js_module_import_meta(JSContext* ctx, const char* name) {\n  528    JSModuleDef* m;\n  529    JSValue ret = JS_UNDEFINED;\n  530  \n  531    if((m = js_module_loader(ctx, name, 0))) {\n  532      ret = JS_GetImportMeta(ctx, m);\n  533    }\n  534    return ret;\n  535  }\n  536  \n  537  extern JSModuleDef* js_module_loader(JSContext* ctx, const char* module_name, void* opaque);\n  538  \n  539  int64_t\n  540  js_arraybuffer_length(JSContext* ctx, JSValueConst buffer) {\n  541    size_t len;\n  542  \n  543    if(JS_GetArrayBuffer(ctx, &len, buffer))\n  544      return len;\n  545  \n  546    return -1;\n  547  }\n  548  \n  549  BOOL\n  550  js_atom_is_string(JSContext* ctx, JSAtom atom) {\n  551    JSValue value;\n  552    BOOL ret;\n  553    value = JS_AtomToValue(ctx, atom);\n  554    ret = JS_IsString(value);\n  555    JS_FreeValue(ctx, value);\n  556    return ret;\n  557  }\n  558  \n  559  BOOL\n  560  js_is_generator(JSContext* ctx, JSValueConst value) {\n  561    const char* str;\n  562    BOOL ret = FALSE;\n  563  \n  564    if((str = JS_ToCString(ctx, value))) {\n  565      const char* s = str;\n  566  \n  567      if(!strncmp(s, \"async \", 6))\n  568        s += 6;\n  569  \n  570      if(!strncmp(s, \"function\", 8)) {\n  571        s += 8;\n  572  \n  573        while(*s == ' ') ++s;\n  574  \n  575        if(*s == '*')\n  576          ret = TRUE;\n  577      }\n  578  \n  579      JS_FreeCString(ctx, str);\n  580    }\n  581    return ret;\n  582  }\n  583  \n  584  BOOL\n  585  js_is_async(JSContext* ctx, JSValueConst value) {\n  586    const char* str;\n  587    BOOL ret = FALSE;\n  588    if((str = JS_ToCString(ctx, value))) {\n  589      const char* s = str;\n  590  \n  591      if(!strncmp(s, \"async \", 6))\n  592        ret = TRUE;\n  593  \n  594      else if(!strncmp(s, \"[object Async\", 13))\n  595        ret = TRUE;\n  596  \n  597      JS_FreeCString(ctx, str);\n  598    }\n  599    return ret;\n  600  }\n  601  \n  602  char*\n  603  wsi_peer(struct lws* wsi) {\n  604    char buf[1024];\n  605  \n  606    lws_get_peer_simple(wsi, buf, sizeof(buf) - 1);\n  607  \n  608    return strdup(buf);\n  609  }\n  610  \n  611  char*\n  612  wsi_host(struct lws* wsi) {\n  613    return wsi_token(wsi, lws_wsi_is_h2(wsi) ? WSI_TOKEN_HTTP_COLON_AUTHORITY : WSI_TOKEN_HOST);\n  614  }\n  615  int\n  616  wsi_copy_fragment(struct lws* wsi, enum lws_token_indexes token, int fragment, DynBuf* db) {\n  617    int ret = 0, len;\n  618    // dbuf_init2(&dbuf, 0, 0);\n  619  \n  620    len = lws_hdr_fragment_length(wsi, token, fragment);\n  621  \n  622    dbuf_realloc(db, (len > 0 ? len : 1023) + 1);\n  623  \n  624    if((ret = lws_hdr_copy_fragment(wsi, (void*)db->buf, db->size, token, fragment)) < 0)\n  625      return ret;\n  626  \n  627    return len;\n  628  }\n  629  const char*\n  630  wsi_vhost_name(struct lws* wsi) {\n  631    struct lws_vhost* vhost;\n  632  \n  633    if((vhost = lws_get_vhost(wsi)))\n  634      return lws_get_vhost_name(vhost);\n  635  \n  636    return 0;\n  637  }\n  638  \n  639  enum lws_token_indexes\n  640  wsi_uri_token(struct lws* wsi) {\n  641  \n  642    size_t i;\n  643  \n  644    for(i = 0; i < countof(wsi_uri_tokens); i++)\n  645      if(wsi_token_exists(wsi, wsi_uri_tokens[i]))\n  646        return wsi_uri_tokens[i];\n  647  \n  648    return -1;\n  649  }\n  650  \n  651  bool\n  652  opaque_valid(struct wsi_opaque_user_data* opaque) {\n  653    struct list_head* el;\n  654  \n  655    if(opaque_list.next == 0 && opaque_list.prev == 0)\n  656      init_list_head(&opaque_list);\n  657  \n  658    list_for_each(el, &opaque_list) if(opaque == list_entry(el, struct wsi_opaque_user_data, link)) return true;\n  659  \n  660    return false;\n  661  }\n  662  \n  663  char*\n  664  request_dump(Request const* req, JSContext* ctx) {\n  665    static char buf[2048];\n  666    request_format(req, buf, sizeof(buf), ctx);\n  667    return buf;\n  668  }\n  669  \n  670  Request*\n  671  request_fromobj(JSValueConst options, JSContext* ctx) {\n  672    Request* req;\n  673    JSValue value;\n  674    const char *url, *path, *method;\n  675  \n  676    if(!(req = request_alloc(ctx)))\n  677      return req;\n  678  \n  679    value = JS_GetPropertyStr(ctx, options, \"url\");\n  680    url = JS_ToCString(ctx, value);\n  681    JS_FreeValue(ctx, value);\n  682  \n  683    value = JS_GetPropertyStr(ctx, options, \"path\");\n  684    path = JS_ToCString(ctx, value);\n  685    JS_FreeValue(ctx, value);\n  686  \n  687    JS_GetPropertyStr(ctx, options, \"method\");\n  688    method = JS_ToCString(ctx, value);\n  689    JS_FreeValue(ctx, value);\n  690  \n  691    JS_GetPropertyStr(ctx, options, \"headers\");\n  692  \n  693    JS_FreeValue(ctx, value);\n  694  \n  695    request_init(req, [object Object] url_create(url, ctx), method_number(method));\n  696  \n  697    JS_FreeCString(ctx, url);\n  698    JS_FreeCString(ctx, path);\n  699    JS_FreeCString(ctx, method);\n  700  \n  701    return req;\n  702  }\n  703  \n  704  Request*\n  705  request_fromurl(const char* uri, JSContext* ctx) {\n  706    HTTPMethod method = METHOD_GET;\n  707    struct url url = url_create(uri, ctx);\n  708  \n  709    return request_new(url, method, ctx);\n  710  }\n  711  \n  712  void\n  713  request_zero(Request* req) {\n  714    memset(req, 0, sizeof(Request));\n  715    req->headers = BUFFER_0();\n  716    req->body = 0;\n  717  }\n  718  \n  719  void\n  720  request_free(Request* req, JSContext* ctx) {\n  721    if(--req->ref_count == 0) {\n  722      request_clear(req, ctx);\n  723      js_free(ctx, req);\n  724    }\n  725  }\n  726  \n  727  char*\n  728  response_dump(const struct http_response* resp) {\n  729    static char buf[1024];\n  730    response_format(resp, buf, sizeof(buf));\n  731    return buf;\n  732  }\n  733  \n  734  void\n  735  response_zero(struct http_response* resp) {\n  736    memset(resp, 0, sizeof(Response));\n  737    resp->body = BUFFER_0();\n  738  }\n  739  ssize_t\n  740  response_write(struct http_response* resp, const void* x, size_t n, JSContext* ctx) {\n  741    assert(resp->generator);\n  742    return generator_write(resp->generator, x, n, JS_UNDEFINED);\n  743  }\n  744  \n  745  struct http_response*\n  746  response_redirect(struct http_response* resp, const char* location, JSContext* ctx) {\n  747  \n  748    resp->status = 302;\n  749    // url_parse(&resp->url, location, ctx);\n  750    headers_set(ctx, &resp->headers, \"Location\", location);\n  751    return resp;\n  752  }\n  753  \n  754  struct ringbuffer*\n  755  ringbuffer_new2(size_t element_len, size_t count, JSContext* ctx) {\n  756    struct ringbuffer* rb;\n  757  \n  758    if((rb = ringbuffer_new(ctx)))\n  759      ringbuffer_init2(rb, element_len, count);\n  760  \n  761    return rb;\n  762  }\n  763  \n  764  struct context*\n  765  session_context(struct session_data* sess) {\n  766    struct lws* wsi;\n  767  \n  768    if((wsi = session_wsi(sess)))\n  769      return wsi_context(wsi);\n  770  \n  771    return 0;\n  772  }\n  773  \n  774  struct http_request*\n  775  session_request(struct session_data* sess) {\n  776    if(JS_IsObject(sess->req_obj))\n  777      return minnet_request_data(sess->req_obj);\n  778    return 0;\n  779  }\n  780  \n  781  int\n  782  url_connect(struct url* url, struct lws_context* context, struct lws** p_wsi) {\n  783    struct lws_client_connect_info i;\n  784  \n  785    url_info(url, &i);\n  786  \n  787    i.context = context;\n  788    i.pwsi = p_wsi;\n  789  \n  790    return !lws_client_connect_via_info(&i);\n  791  }\n  792  \n  793  char*\n  794  url_location(const struct url url, JSContext* ctx) {\n  795    const char* query;\n  796    if((query = url_query(url)))\n  797      return js_strndup(ctx, url.path, query - url.path);\n  798    return js_strdup(ctx, url.path);\n  799  }\n  800  \n  801  void\n  802  url_dump(const char* n, struct url const* url) {\n  803    fprintf(stderr, \"%s{ protocol = %s, host = %s, port = %u, path = %s }\\n\", n, url->protocol, url->host, url->port, url->path);\n  804    fflush(stderr);\n  805  }\n  806  \n  807  void\n  808  js_value_dump(JSContext* ctx, const char* n, JSValueConst const* v) {\n  809    const char* str = JS_ToCString(ctx, *v);\n  810    lwsl_user(\"%s = '%s'\\n\", n, str);\n  811    JS_FreeCString(ctx, str);\n  812  }\n  813  \n  814  int\n  815  socket_geterror(int fd) {\n  816    int e;\n  817    socklen_t sl = sizeof(e);\n  818  \n  819    if(!getsockopt(fd, SOL_SOCKET, SO_ERROR, &e, &sl)) {\n  820      setsockopt(fd, SOL_SOCKET, SO_ERROR, &e, sl);\n  821      return e;\n  822    }\n  823  \n  824    return -1;\n  825  }\n  826  \n  827  char*\n  828  socket_address(int fd, int (*fn)(int, struct sockaddr*, socklen_t*)) {\n  829    const char* s = 0;\n  830    union {\n  831      struct sockaddr a;\n  832      struct sockaddr_in ai;\n  833      struct sockaddr_in6 ai6;\n  834    } sa;\n  835    socklen_t sl = sizeof(s);\n  836    uint16_t port = 0;\n  837    static char addr[1024];\n  838  \n  839    if(fn(fd, &sa.a, &sl) != -1) {\n  840      size_t i;\n  841      s = inet_ntop(sa.ai.sin_family, sa.ai.sin_family == AF_INET ? (void*)&sa.ai.sin_addr : (void*)&sa.ai6.sin6_addr, addr, sizeof(addr));\n  842      i = strlen(s);\n  843  \n  844      switch(sa.ai.sin_family) {\n  845        case AF_INET: port = ntohs(sa.ai.sin_port); break;\n  846        case AF_INET6: port = ntohs(sa.ai6.sin6_port); break;\n  847      }\n  848      snprintf(&addr[i], sizeof(addr) - i, \":%u\", port);\n  849    }\n  850  \n  851    return (char*)s;\n  852  }\n  853  \n  854  int\n  855  ws_writable(struct socket* ws, BOOL binary, JSContext* ctx) {\n  856    struct wsi_opaque_user_data* opaque;\n  857    int ret = 0;\n  858  \n  859    if((opaque = lws_get_opaque_user_data(ws->lwsi))) {\n  860      struct session_data* session = opaque->sess;\n  861  \n  862      ret = session_writable(session, binary, ctx);\n  863    }\n  864    return ret;\n  865  }\n  866  \n  867  typedef struct {\n  868    JSContext* ctx;\n  869    struct socket* ws;\n  870  } WSWantWrite;\n  871  \n  872  JSValue\n  873  ws_want_write(struct socket* ws, JSContext* ctx) {\n  874    WSWantWrite* h;\n  875  \n  876    if(!(h = js_mallocz(ctx, sizeof(WSWantWrite))))\n  877      return JS_ThrowOutOfMemory(ctx);\n  878  \n  879    *h = (WSWantWrite){ctx, ws_dup(ws)};\n  880  \n  881    return js_function_cclosure(ctx, want_write, 0, 0, h, ws_want_write_free);\n  882  }\n  883  void\n  884  form_parser_zero(struct form_parser* fp) {\n  885    fp->ws = 0;\n  886    fp->spa = 0;\n  887    fp->lwsac_head = 0;\n  888    memset(&fp->spa_create_info, 0, sizeof(struct lws_spa_create_info));\n  889  }\n  890  \n  891  JSValue\n  892  vector2array(JSContext* ctx, int argc, JSValueConst argv[]) {\n  893    int i;\n  894    JSValue ret = JS_NewArray(ctx);\n  895    for(i = 0; i < argc; i++) JS_SetPropertyUint32(ctx, ret, i, argv[i]);\n  896    return ret;\n  897  }\n  898  \n  899  JSValue\n  900  js_function_bind_v(JSContext* ctx, JSValueConst func, ...) {\n  901    va_list args;\n  902    DynBuf b;\n  903    JSValueConst arg;\n  904    dbuf_init2(&b, ctx, (DynBufReallocFunc*)js_realloc);\n  905    va_start(args, func);\n  906    while((arg = va_arg(args, JSValueConst))) { dbuf_put(&b, &arg, sizeof(JSValueConst)); }\n  907    va_end(args);\n  908    return js_function_bind(ctx, func, b.size / sizeof(JSValueConst), (JSValueConst*)b.buf);\n  909  }\n  910  \n  911  JSBuffer\n  912  js_buffer_data(JSContext* ctx, const void* data, size_t size) {\n  913    ByteBlock block = {(uint8_t*)data, (uint8_t*)data + size};\n  914  \n  915    return js_buffer_fromblock(ctx, &block);\n  916  }\n  917  \n  918  void\n  919  js_buffer_to3(JSBuffer buf, const char** pstr, void** pptr, unsigned* plen) {\n  920    if(!JS_IsString(buf.value)) {\n  921      size_t len = 0;\n  922      js_buffer_to(buf, pptr, &len);\n  923      if(plen)\n  924        *plen = len;\n  925    } else\n  926      *pstr = (const char*)buf.data;\n  927  }\n  928  \n  929  BOOL\n  930  js_buffer_valid(const JSBuffer* in) {\n  931    return !JS_IsException(in->value);\n  932  }\n  933  \n  934  JSBuffer\n  935  js_buffer_clone(const JSBuffer* in, JSContext* ctx) {\n  936    JSBuffer buf = js_input_buffer(ctx, in->value);\n  937    buf.pos = in->pos;\n  938    buf.range = in->range;\n  939    return buf;\n  940  }\n  941  \n  942  void\n  943  js_buffer_dump(const JSBuffer* in, DynBuf* db) {\n  944    dbuf_printf(db, \"(JSBuffer){ .data = %p, .size = %zu, .free = %p }\", in->data, in->size, in->free);\n  945  }\n  946  \n  947  BOOL\n  948  js_is_iterable(JSContext* ctx, JSValueConst obj) {\n  949    JSAtom atom;\n  950    BOOL ret = FALSE;\n  951    atom = js_symbol_static_atom(ctx, \"iterator\");\n  952    if(JS_HasProperty(ctx, obj, atom))\n  953      ret = TRUE;\n  954  \n  955    JS_FreeAtom(ctx, atom);\n  956    if(!ret) {\n  957      atom = js_symbol_static_atom(ctx, \"asyncIterator\");\n  958      if(JS_HasProperty(ctx, obj, atom))\n  959        ret = TRUE;\n  960  \n  961      JS_FreeAtom(ctx, atom);\n  962    }\n  963    return ret;\n  964  }\n  965  \n  966  int64_t\n  967  js_get_propertystr_int64(JSContext* ctx, JSValueConst obj, const char* str) {\n  968    int64_t ret = 0;\n  969    JSValue value;\n  970    value = JS_GetPropertyStr(ctx, obj, str);\n  971    JS_ToInt64(ctx, &ret, value);\n  972    JS_FreeValue(ctx, value);\n  973    return ret;\n  974  }\n  975  \n  976  JSModuleDef*\n  977  js_module_at(JSContext* ctx, int i) {\n  978    struct list_head *el = 0, *list = js_module_list(ctx);\n  979  \n  980    list_for_each(list, el) {\n  981      JSModuleDef* module = (void*)((char*)el - sizeof(JSAtom) * 2);\n  982  \n  983      if(i-- == 0)\n  984        return module;\n  985    }\n  986    return 0;\n  987  }\n  988  \n  989  JSValue\n  990  minnet_request_from(JSContext* ctx, int argc, JSValueConst argv[]) {\n  991    MinnetRequest* req;\n  992  \n  993    [object Object] req = request_from(argc, argv, ctx);\n  994  \n  995    return minnet_request_wrap(ctx, req);\n  996  }\n  997  \n  998  JSValue\n  999  minnet_request_new(JSContext* ctx, MinnetURL url, enum http_method method) {\n 1000    MinnetRequest* req;\n 1001  \n 1002    if(!(req = request_new(url, method, ctx)))\n 1003      return JS_ThrowOutOfMemory(ctx);\n 1004  \n 1005    return minnet_request_wrap(ctx, req);\n 1006  }\n 1007  \n 1008  JSValue\n 1009  minnet_generator_reader(JSContext* ctx, MinnetGenerator* gen) {\n 1010    JSValue ret = JS_NewObject(ctx);\n 1011  \n 1012    JS_SetPropertyStr(ctx, ret, \"read\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n 1013    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n 1014  \n 1015    return ret;\n 1016  }\n 1017  \n 1018  JSValue\n 1019  minnet_generator_iterator(JSContext* ctx, MinnetGenerator* gen) {\n 1020    JSValue ret = JS_NewObject(ctx);\n 1021  \n 1022    ++gen->ref_count;\n 1023  \n 1024    JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, gen_p, (void*)&generator_free));\n 1025  \n 1026    return ret;\n 1027  }\n 1028  \n 1029  MinnetClient*\n 1030  client_find(struct lws* wsi) {\n 1031    struct list_head* el;\n 1032  \n 1033    list_for_each_prev(el, &minnet_clients) {\n 1034      MinnetClient* client = list_entry(el, MinnetClient, link);\n 1035  \n 1036      if(client->wsi == wsi)\n 1037        return client;\n 1038    }\n 1039    return 0;\n 1040  }\n 1041  JSValue\n 1042  minnet_form_parser_new(JSContext* ctx, MinnetWebsocket* ws, int nparams, const char* const* param_names, size_t chunk_size) {\n 1043    MinnetFormParser* fp;\n 1044  \n 1045    if(!(fp = form_parser_new(ctx, ws, nparams, param_names, chunk_size)))\n 1046      return JS_ThrowOutOfMemory(ctx);\n 1047  \n 1048    return minnet_form_parser_wrap(ctx, fp);\n 1049  }\n 1050  \n 1051  JSValue\n 1052  minnet_ringbuffer_wrap(JSContext* ctx, struct ringbuffer* rb) {\n 1053    JSValue ret = JS_NewObjectProtoClass(ctx, minnet_ringbuffer_proto, minnet_ringbuffer_class_id);\n 1054  \n 1055    if(JS_IsException(ret))\n 1056      return JS_EXCEPTION;\n 1057  \n 1058    JS_SetOpaque(ret, rb);\n 1059  \n 1060    ++rb->ref_count;\n 1061  \n 1062    return ret;\n 1063  }\n 1064  \n 1065  static JSValue\n 1066  tail_consume(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* opaque) {\n 1067    JSValue ret = JS_UNDEFINED;\n 1068    struct ringbuffer_tail* tail = opaque;\n 1069    struct lws_ring* r = tail->rb->ring;\n 1070    uint32_t wanted;\n 1071    JSBuffer buf;\n 1072  \n 1073    int index = js_buffer_fromargs(ctx, argc, argv, &buf);\n 1074  \n 1075    js_input_args(ctx, argc, argv);\n 1076  \n 1077    if(buf.size) {\n 1078      wanted = buf.size / ringbuffer_element_len(tail->rb);\n 1079    } else {\n 1080      if(index == argc || JS_ToUint32(ctx, &wanted, argv[index]))\n 1081        return JS_ThrowRangeError(ctx, \"need buffer or element count\");\n 1082    }\n 1083  \n 1084    ret = JS_NewUint32(ctx, lws_ring_consume(r, tail->ptr, buf.data, wanted));\n 1085  \n 1086    js_buffer_free(&buf, ctx);\n 1087  \n 1088    return ret;\n 1089  }\n 1090  \n 1091  static JSValue\n 1092  tail_bind(JSContext* ctx, JSValue func, JSValueConst this_val, JSValueConst arg) {\n 1093    JSValue ret = js_function_bind_this_1(ctx, func, this_val, arg);\n 1094    JS_FreeValue(ctx, func);\n 1095    return ret;\n 1096  }\n 1097  \n 1098  static void\n 1099  client_resolved_free(void* ptr) {\n 1100    HTTPAsyncResolveClosure* closure = ptr;\n 1101    if(--closure->ref_count == 0) {\n 1102      response_free(closure->resp, closure->ctx);\n 1103      js_free(closure->ctx, ptr);\n 1104    }\n 1105  }\n 1106  \n 1107  static JSValue\n 1108  client_resolved(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n 1109    const char* val = JS_ToCString(ctx, argv[0]);\n 1110  \n 1111    // printf(\"value=%s\\n\", val);\n 1112    LOG(__func__, \"value=%s\", val);\n 1113    JS_FreeCString(ctx, val);\n 1114  \n 1115    return JS_UNDEFINED;\n 1116  }\n 1117  \n 1118  static JSValue\n 1119  client_promise(JSContext* ctx, struct session_data* session, MinnetResponse* resp, struct lws* wsi, JSValueConst value) {\n 1120    HTTPAsyncResolveClosure* p;\n 1121    JSValue ret = JS_UNDEFINED;\n 1122  \n 1123    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n 1124      *p = (HTTPAsyncResolveClosure){1, ctx, session, response_dup(resp), wsi};\n 1125      JSValue fn = js_function_cclosure(ctx, client_resolved, 1, 0, p, client_resolved_free);\n 1126      JSValue tmp = js_promise_then(ctx, value, fn);\n 1127      JS_FreeValue(ctx, fn);\n 1128      ret = tmp;\n 1129    } else {\n 1130      ret = JS_ThrowOutOfMemory(ctx);\n 1131    }\n 1132    return ret;\n 1133  }\n 1134  \n 1135  char*\n 1136  buffer_escaped(ByteBuffer const* buf) {\n 1137    char* ptr;\n 1138    ByteBuffer out;\n 1139    size_t size = buffer_REMAIN(buf) * 4;\n 1140  \n 1141    size = (size + 8) & (~7);\n 1142  \n 1143    if(!(ptr = malloc(size)))\n 1144      return 0;\n 1145  \n 1146    out = BUFFER_N(ptr, size - 1);\n 1147  \n 1148    ptr[buffer_escape(&out, buf->read, buffer_REMAIN(buf))] = '\\0';\n 1149  \n 1150    return ptr;\n 1151  }\n 1152  \n 1153  int\n 1154  buffer_fromvalue(ByteBuffer* buf, JSValueConst value, JSContext* ctx) {\n 1155    int ret = -1;\n 1156    JSBuffer input = js_input_chars(ctx, value);\n 1157  \n 1158    if(input.data == 0 || input.size == 0) {\n 1159      ret = 0;\n 1160    } else if(buffer_append(buf, input.data, input.size) == input.size) {\n 1161      ret = 1;\n 1162    }\n 1163  \n 1164    js_buffer_free(&input, ctx);\n 1165    return ret;\n 1166  }\n 1167  \n 1168  JSValue\n 1169  buffer_tostring(ByteBuffer const* buf, JSContext* ctx) {\n 1170    return JS_NewStringLen(ctx, (const char*)buf->start, buffer_HEAD(buf));\n 1171  }\n 1172  \n 1173  char*\n 1174  headers_gettoken(JSContext* ctx, struct lws* wsi, enum lws_token_indexes tok) {\n 1175    int len;\n 1176  \n 1177    if((len = lws_hdr_total_length(wsi, tok)) > 0) {\n 1178      char* hdr;\n 1179  \n 1180      if((hdr = js_malloc(ctx, len + 1))) {\n 1181        lws_hdr_copy(wsi, hdr, len + 1, tok);\n 1182        hdr[len] = '\\0';\n 1183        return hdr;\n 1184      }\n 1185    }\n 1186    return 0;\n 1187  }\n 1188  \n 1189  struct list_head*\n 1190  js_module_list(JSContext* ctx) {\n 1191    void* tmp_opaque;\n 1192    ptrdiff_t needle;\n 1193    void** ptr;\n 1194    tmp_opaque = JS_GetContextOpaque(ctx);\n 1195    memset(&needle, 0xa5, sizeof(needle));\n 1196    JS_SetContextOpaque(ctx, (void*)needle);\n 1197  \n 1198    ptr = memmem(ctx, 1024, &needle, sizeof(needle));\n 1199  \n 1200    JS_SetContextOpaque(ctx, tmp_opaque);\n 1201  \n 1202    return ((struct list_head*)(ptr - 2)) - 1;\n 1203  }\n 1204  \n 1205  void\n 1206  opaque_clear(struct wsi_opaque_user_data* opaque, JSContext* ctx) {\n 1207    opaque_clear_rt(opaque, JS_GetRuntime(ctx));\n 1208  }\n 1209  size_t\n 1210  buffer_escape(ByteBuffer* buf, const void* x, size_t len) {\n 1211    const uint8_t *ptr, *end;\n 1212  \n 1213    size_t prev = buffer_REMAIN(buf);\n 1214  \n 1215    for(ptr = x, end = (const uint8_t*)x + len; ptr < end; ptr++) {\n 1216      char c = *ptr;\n 1217  \n 1218      if(buffer_AVAIL(buf) < 4)\n 1219        break;\n 1220  \n 1221      switch(c) {\n 1222        case '\\n':\n 1223          buffer_putchar(buf, '\\\\');\n 1224          buffer_putchar(buf, 'n');\n 1225          break;\n 1226        case '\\r':\n 1227          buffer_putchar(buf, '\\\\');\n 1228          buffer_putchar(buf, 'r');\n 1229          break;\n 1230        case '\\t':\n 1231          buffer_putchar(buf, '\\\\');\n 1232          buffer_putchar(buf, 't');\n 1233          break;\n 1234        case '\\v':\n 1235          buffer_putchar(buf, '\\\\');\n 1236          buffer_putchar(buf, 'v');\n 1237          break;\n 1238        case '\\b':\n 1239          buffer_putchar(buf, '\\\\');\n 1240          buffer_putchar(buf, 'b');\n 1241          break;\n 1242        case 0:\n 1243        case 1:\n 1244        case 2:\n 1245        case 3:\n 1246        case 4:\n 1247        case 5:\n 1248        case 6:\n 1249        case 7:\n 1250        case 12:\n 1251        case 14:\n 1252        case 15:\n 1253        case 16:\n 1254        case 17:\n 1255        case 18:\n 1256        case 19:\n 1257        case 20:\n 1258        case 21:\n 1259        case 22:\n 1260        case 23:\n 1261        case 24:\n 1262        case 25:\n 1263        case 26:\n 1264        case 27:\n 1265        case 28:\n 1266        case 29:\n 1267        case 30:\n 1268        case 31: buffer_printf(buf, \"\\\\x%02\", c); break;\n 1269        default: buffer_putchar(buf, c); break;\n 1270      }\n 1271    }\n 1272    return buffer_REMAIN(buf) - prev;\n 1273  }\n 1274  \n 1275  struct form_parser*\n 1276  form_parser_dup(struct form_parser* fp) {\n 1277    ++fp->ref_count;\n 1278    return fp;\n 1279  }\n 1280  \n 1281  Deferred*\n 1282  deferred_dupjs(JSValueConst value, JSContext* ctx) {\n 1283    JSValue v = JS_DupValue(ctx, value);\n 1284    return deferred_newjs(v, ctx);\n 1285  }\n 1286  \n 1287  JSValue\n 1288  deferred_tojs(Deferred* def, JSContext* ctx) {\n 1289    deferred_dup(def);\n 1290  \n 1291    return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n 1292  }\n 1293  \n 1294  static JSValue\n 1295  deferred_js_call(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, ptr_t ptr) {\n 1296    Deferred* def = ptr;\n 1297  \n 1298    return deferred_call(def).js;\n 1299  }\n 1300  \n 1301  BOOL\n 1302  buffer_putchar(ByteBuffer* buf, char c) {\n 1303    if(buf->write + 1 <= buf->end) {\n 1304      *buf->write = (uint8_t)c;\n 1305      buf->write++;\n 1306      return TRUE;\n 1307    }\n 1308    return FALSE;\n 1309  }\n 1310  \n 1311  void\n 1312  ringbuffer_init2(struct ringbuffer* rb, size_t element_len, size_t count) {\n 1313    const char* type = \"application/binary\";\n 1314    ringbuffer_init(rb, element_len, count, type, strlen(type));\n 1315  }\n 1316  const void*\n 1317  ringbuffer_next(struct ringbuffer* rb) {\n 1318    assert(rb->ring);\n 1319    return lws_ring_get_element(rb->ring, 0);\n 1320  }\n 1321  \n 1322  void\n 1323  response_free(struct http_response* resp, JSContext* ctx) {\n 1324    if(--resp->ref_count == 0) {\n 1325      response_clear(resp, ctx);\n 1326      js_free(ctx, resp);\n 1327    }\n 1328  }\n 1329  \n 1330  void\n 1331  response_clear(struct http_response* resp, JSContext* ctx) {\n 1332    url_free(&resp->url, ctx);\n 1333    if(resp->type) {\n 1334      js_free(ctx, (void*)resp->type);\n 1335      resp->type = 0;\n 1336    }\n 1337  \n 1338    buffer_free(&resp->headers);\n 1339    generator_destroy(&resp->generator);\n 1340  }\n 1341  \n\n~/Projects/plot-cv/quickjs/qjs-net/check-dep.js:\n    1  import * as std from 'std';\n    2  import * as os from 'os';\n    3  import { Console } from 'console';\n    4  import * as deep from 'deep';\n    5  import { decorate, getset, define, memoize, histogram, lazyProperties } from 'util';\n    6  \n    7  let src2obj = {};\n    8  let files = (globalThis.files = {}),\n    9    all = (globalThis.all = new Set());\n   10  let references = (globalThis.references = {}),\n   11    lookup = (globalThis.lookup = {}),\n   12    used = (globalThis.used = new Set()),\n   13    external = new Set();\n   14  \n   15  function main() {\n   16    globalThis.console = new Console({\n   17      inspectOptions: { compact: 2, maxArrayLength: Infinity, maxStringLength: 200 }\n   18    });\n   19  \n   20    //epl.inspectOptions.maxStringLength=20;\n   21  \n   22    let commands = ReadJSON('build/x86_64-linux-debug/compile_commands.json');\n   23  \n   24    Object.assign(globalThis, {\n   25      GetFunctionFromIndex,\n   26      GetSymbol,\n   27      MatchSymbols,\n   28      GetObj,\n   29      PipeStream,\n   30      SplitByPred,\n   31      SymbolsToDefinedUndefined,\n   32      ReadJSON,\n   33      YieldAll,\n   34      YieldJoin,\n   35      YieldMap,\n   36      Within,\n   37      ArrayArgs,\n   38      Negate,\n   39      decorate,\n   40      Chain,\n   41      Transform,\n   42      SaveSlices\n   43    });\n   44    Object.assign(\n   45      globalThis,\n   46      decorate(YieldAll, {\n   47        GetComments,\n   48        GetRanges,\n   49        Match,\n   50        MissingRange,\n   51        MatchRanges,\n   52        RangeSlice\n   53      })\n   54    );\n   55    Object.assign(globalThis, decorate([YieldAll, YieldJoin], { fc: FilterComments }));\n   56  \n   57    let objects = commands\n   58      .map(({ command }) => command.split(/\\s+/g).find(a => /\\.o/.test(a)))\n   59      .map(o => 'build/x86_64-linux-debug/' + o);\n   60  \n   61    for(let line of PipeStream(['nm', '-A', ...objects])) {\n   62      let fields = line.split(/:/);\n   63      let [file, record] = fields;\n   64      let type = record.slice(17, 18);\n   65      let name = record.slice(19);\n   66      let src = file.replace(/.*\\.dir\\/(.*)\\.o$/g, '$1');\n   67  \n   68      if(/^\\./.test(name)) continue;\n   69      // all.add(name);\n   70  \n   71      src2obj[src] ??= file;\n   72      files[src] ??= [];\n   73      files[src].push({ type, name });\n   74    }\n   75  \n   76    globalThis.fileMap = new Map();\n   77  \n   78    lazyProperties(globalThis, {\n   79      defines: () =>\n   80        new Map(\n   81          [...fileMap.values()]\n   82            .map(file => [...file.functions].map(([fn, range]) => [fn, define({ count: 0, range }, { file })]))\n   83            .flat()\n   84            .sort()\n   85          //          .map((n, s, e) => [n, [0, [s, e]]])\n   86        ),\n   87      unused: () =>\n   88        [...defines]\n   89          .filter(([k, { count }]) => count == 0)\n   90          .map(([k]) => k)\n   91          .sort()\n   92    });\n   93  \n   94    globalThis.getFile = memoize(\n   95      src =>\n   96        lazyProperties(\n   97          define({ src }, { code: std.loadFile(src), src }),\n   98          decorate([ThisAsArg, YieldAll], {\n   99            comments: ({ code }) => GetComments(code),\n  100            nonComments: ({ code, comments }) => MissingRange(comments, code.length),\n  101            functions: ({ code, comments }) =>\n  102              new Map(\n  103                YieldAll(Match)(/^([a-zA-Z_][0-9a-zA-Z_]*)\\(.*(,|{)$/gm, code)\n  104                  .filter(Negate(ArrayArgs(Within(comments))))\n  105                  .map(([index, name]) => [\n  106                    name,\n  107                    [code.lastIndexOf('\\n', code.lastIndexOf('\\n', index) - 1) + 1, code.indexOf('\\n}', index) + 3]\n  108                  ])\n  109              ),\n  110            functionAt:\n  111              ({ functions }) =>\n  112              i => {\n  113                for(let [fn, [s, e]] of functions) if(i >= s && i < e) return fn;\n  114              },\n  115            functionByName:\n  116              ({ functions, code }) =>\n  117              name => {\n  118                for(let [fn, [s, e]] of functions) if(fn === name) return code.slice(s, e);\n  119              },\n  120            remove:\n  121              ({ slices }) =>\n  122              name => {\n  123                let i;\n  124                if((i = typeof name == 'number' ? name : slices.findIndex(([k, v]) => k === name)) != -1)\n  125                  return slices.splice(i, 1)[0];\n  126              },\n  127            save:\n  128              ({ slices, src }) =>\n  129              (to = src) =>\n  130                SaveSlices(\n  131                  slices.map(([, s]) => s),\n  132                  to\n  133                ),\n  134            commentFunction: ({ slices }) => {\n  135              let [get, set] = getset(slices);\n  136              let clean = globalThis.fc || (s => [...FilterComments(s)].join(''));\n  137              return (name, s = get(name)[1]) =>\n  138                s.startsWith('/*') ? null : (set(name, `/*${(s = clean(get(name)[1]))}*/`), s);\n  139            },\n  140            slices: obj => /*new Map*/ GetRanges(obj.code, obj.functions.values(), (i, s) => [obj.functionAt(i) ?? i, s])\n  141          })\n  142        ),\n  143      fileMap\n  144    );\n  145    globalThis.allFiles = GetProxy(getFile, () => [...fileMap.keys()]);\n  146  \n  147    for(let file in files) {\n  148      let obj = getFile(file);\n  149      for(let [fn, range] of obj.functions) {\n  150        lookup[fn] = lookup[fn] || [file, range];\n  151  \n  152        all.add(fn);\n  153      }\n  154    }\n  155  \n  156    for(let file in files) {\n  157      let exp = '\\\\b(' + [...all].join('|') + ')\\\\b';\n  158  \n  159      let { code, comments } = allFiles[file];\n  160      let matches = YieldAll(Match)(new RegExp(exp, 'gm'), code)\n  161        .map(([i, n]) => [i, n, code.lastIndexOf('\\n', i) + 1])\n  162        .map(([i, n, s]) => [i, n, i - s, code.slice(s, code.indexOf('\\n', i))])\n  163        .filter(([i, n, col, line]) => col > 0)\n  164        .filter(Negate(ArrayArgs(Within(comments))))\n  165        //.map(([,n]) =>n)\n  166        .map(([i, n]) => [allFiles[file].functionAt(i), n, lookup[n]]);\n  167  \n  168      let undef = new Set(matches.map(([, n]) => n));\n  169  \n  170      references[file] = matches;\n  171  \n  172      for(let [, m] of matches) {\n  173        let def;\n  174        if((def = defines.get(m))) {\n  175          ++def.count;\n  176          //console.log('def', def);\n  177        }\n  178      }\n  179  \n  180      //  console.log(`references[${file}]`, console.config({ compact: 1 }), undef);\n  181    }\n  182  \n  183    /*  for(let file in references) {\n  184      let [def, undef] = references[file];\n  185      for(let name of undef)\n  186        if(!(name in lookup)) {\n  187          undef.delete(name);\n  188          external.add(name);\n  189        } else {\n  190          used.add(name);\n  191        }\n  192    }\n  193  \n  194    let unused = new Set([...all].filter(k => !used.has(k) && !external.has(k)));\n  195    let valid = new Set([...all].filter(n => n in lookup));\n  196  \n  197    for(let file in files) {\n  198      let { code, functions } = getFile(file);\n  199      console.log(`Parsing functions '${file}'...`, functions);\n  200  \n  201      for(let [name, [s, e]] of functions) {\n  202        valid.add(name);\n  203      }\n  204    }\n  205  \n  206    console.log('all', all.size);\n  207    console.log('external', external.size);\n  208    console.log('used', used.size);\n  209    console.log('unused', unused.size);\n  210    console.log('unused', console.config({ compact: false }), [...unused]);\n  211  */\n  212    os.kill(process.pid, os.SIGUSR1);\n  213  }\n  214  \n  215  function GetFunctionFromIndex(file, pos) {\n  216    let funcName;\n  217    for(let [fn, [index, end]] of allFiles[file].functions) if(pos >= index && pos < end) funcName = fn;\n  218    return funcName;\n  219  }\n  220  \n  221  function GetSymbol(name) {\n  222    let [src, range] = lookup[name];\n  223    return [src, range];\n  224  }\n  225  \n  226  function* MatchRanges(code, re) {\n  227    for(let m of code.matchAll(re)) {\n  228      let { index } = m;\n  229      let [, match] = m;\n  230      yield [index, index + match.length];\n  231    }\n  232  }\n  233  \n  234  function MatchSymbols(code, symbols) {\n  235    let sl = [...symbols].join('|') || '[A-Za-z_][A-Za-z0-9_]*';\n  236    // console.log('sl',sl);\n  237    let re = new RegExp('(?:^|[^\\n])(' + sl + ')', 'g');\n  238  \n  239    let matches = [...(code.matchAll(re) || [])].map(m => {\n  240      let lineIndex = [code.lastIndexOf('\\n', m.index) + 1, code.indexOf('\\n', m.index + m[1].length)];\n  241      let line = code.slice(...lineIndex);\n  242      let columnPos = line.indexOf(m[1]);\n  243      return [m.index, columnPos, m[1], code.slice(...lineIndex)];\n  244    });\n  245    return SplitByPred(\n  246      matches,\n  247      ([, column]) => column == 0,\n  248      ([, , m]) => m\n  249    );\n  250  }\n  251  \n  252  function GetObj(symbol) {\n  253    let [file] = lookup[symbol];\n  254    return allFiles[file];\n  255  }\n  256  \n  257  function* PipeStream(command) {\n  258    let [rd, wr] = os.pipe();\n  259    let r = os.exec(command, { block: false, stdout: wr });\n  260    os.close(wr);\n  261    let line,\n  262      out = std.fdopen(rd, 'r');\n  263    while((line = out.getline()) !== null) yield line;\n  264    out.close();\n  265  }\n  266  \n  267  function SplitByPred(list, pred, t = a => a) {\n  268    let sets = [[], []];\n  269    for(let item of list) sets[0 | pred(item)].push(t(item));\n  270    return sets;\n  271  }\n  272  \n  273  function SymbolsToDefinedUndefined(symbols) {\n  274    let list = symbols.filter(({ name }) => !/^\\./.test(name));\n  275    const pred = [({ type }) => type != 'U', ({ type }) => type == 'U'];\n  276    return pred.map(p => new Set(list.filter(p).map(({ name }) => name)));\n  277  }\n  278  \n  279  function ReadJSON(file) {\n  280    let json = std.loadFile(file);\n  281    return JSON.parse(json);\n  282  }\n  283  \n  284  function* GetComments(code) {\n  285    let i, n;\n  286    for(i = 0, n = code.length; i < n; ) {\n  287      let p = code.indexOf('/*', i);\n  288      let e = code.indexOf('*/', p);\n  289      if(p == -1 || e == -1) break;\n  290      yield [p, e + 2];\n  291      i = e + 2;\n  292    }\n  293  }\n  294  \n  295  function* MissingRange(ranges, length) {\n  296    let i = 0;\n  297    for(let [s, e] of ranges) {\n  298      if(s > i) yield [i, s];\n  299      i = e;\n  300    }\n  301    if(i < length) yield [i, length];\n  302  }\n  303  \n  304  function* RangePoints(ranges) {\n  305    let q;\n  306    for(let r of ranges) {\n  307      if(!Array.isArray(r)) r = [r];\n  308      for(let p of r) {\n  309        if(q !== p) yield p;\n  310        q = p;\n  311      }\n  312    }\n  313  }\n  314  \n  315  function* RangeSlice(points, length) {\n  316    let i = 0;\n  317    for(let p of RangePoints(points)) {\n  318      if(p > i) yield [i, p];\n  319      i = p;\n  320    }\n  321    if(i < length) yield [i, length];\n  322  }\n  323  \n  324  function* GetRanges(s, ranges, t = (index, str) => [index, str]) {\n  325    for(let range of RangeSlice(ranges, s.length)) yield t(range[0], s.slice(...range));\n  326  }\n  327  \n  328  function* FilterComments(s) {\n  329    let comments = GetComments(s);\n  330    let ranges = GetRanges(s, comments);\n  331    let isComment = i => comments.findIndex(([s, e]) => i == s) != -1;\n  332  \n  333    for(let [idx, s] of ranges) if(!s.startsWith('/*')) yield s;\n  334  }\n  335  \n  336  function SaveSlices(g, file) {\n  337    let f = std.open(file, 'w+');\n  338    for(let chunk of g)\n  339      if(typeof chunk == 'string') f.puts(chunk);\n  340      else if(typeof chunk == 'object' && chunk instanceof ArrayBuffer) f.write(chunk, 0, chunk.byteLength);\n  341      else throw new TypeError(`SaveSlices: chunk = ${chunk}`);\n  342    f.flush();\n  343    f.close();\n  344  }\n  345  \n  346  function YieldAll(g, thisObj) {\n  347    if(typeof g == 'function')\n  348      return function(...args) {\n  349        let result = g.call(this, ...args);\n  350        if('next' in result) result = [...result];\n  351        return result;\n  352      };\n  353  \n  354    if('next' in g) g = [...g];\n  355    return g;\n  356  }\n  357  function YieldJoin(g, s = '') {\n  358    if(typeof g == 'function')\n  359      return function(...args) {\n  360        return g.call(this, ...args).join(s);\n  361      };\n  362  \n  363    return g.call(this, ...args).join(s);\n  364  }\n  365  \n  366  function YieldMap(g) {\n  367    if(typeof g == 'function')\n  368      return function(...args) {\n  369        return new Map(g.call(this, ...args));\n  370      };\n  371    if('next' in g || Symbol.iterator in g) g = new Map(g);\n  372    return g;\n  373  }\n  374  \n  375  function ThisAsArg(g, thisObj) {\n  376    if(typeof g == 'function')\n  377      return function(...args) {\n  378        return g.call(thisObj, this, ...args);\n  379      };\n  380  }\n  381  \n  382  function* Transform(g, t = a => a) {\n  383    for(let item of g) yield t(item, g);\n  384  }\n  385  \n  386  function* Match(re, s) {\n  387    let match;\n  388    if(typeof re != 'object' && !(re instanceof RegExp)) re = new RegExp(re, 'gm');\n  389    while((match = re.exec(s))) yield [match.index, match[1]];\n  390  }\n  391  \n  392  function InRange([s, e]) {\n  393    return i => i >= s && i < e;\n  394  }\n  395  \n  396  function Within(ranges) {\n  397    return i => ranges.find(([s, e]) => i >= s && i < e);\n  398  }\n  399  \n  400  function Negate(fn) {\n  401    return function(...args) {\n  402      return !fn.call(this, ...args);\n  403    };\n  404  }\n  405  \n  406  function ArrayArgs(fn) {\n  407    return function(a) {\n  408      return fn.call(this, ...a);\n  409    };\n  410  }\n  411  \n  412  function ArgsArray(fn) {\n  413    return function(...a) {\n  414      return fn.call(this, a);\n  415    };\n  416  }\n  417  \n  418  function Chain(...fns) {\n  419    let ret;\n  420    return (...args) => {\n  421      let ret = args;\n  422      for(let fn of fns) ret = fn(ret);\n  423      return ret;\n  424    };\n  425  }\n  426  \n  427  function GetProxy(get, keys) {\n  428    return new Proxy(\n  429      {},\n  430      {\n  431        get: (target, prop, receiver) => get(prop),\n  432        getOwnPropertyDescriptor: (target, prop) => ({ configurable: true, enumerable: true, value: get(prop) }),\n  433        ownKeys: target => (keys ?? get)()\n  434      }\n  435    );\n  436  }\n  437  \n  438  main(...scriptArgs.slice(1));\n  439  \n\n~/Projects/plot-cv/quickjs/qjs-net/test-rpc.js:\n    1  import * as std from 'std';\n    2  import * as os from 'os';\n    3  import path from 'path';\n    4  import { Console } from 'console';\n    5  import REPL from 'repl';\n    6  import inspect from 'inspect';\n    7  import { types, define, filter, split, getOpt, toUnixTime } from 'util';\n    8  import * as fs from 'fs';\n    9  import { setLog, LLL_USER, LLL_NOTICE, LLL_WARN, client, server, URL } from 'net';\n   10  /*import { Socket } from 'sockets';\n   11  import { EventEmitter } from 'events';\n   12  import { Repeater } from 'repeater';*/ import rpc from './js/rpc.js';\n   13  import * as rpc2 from './js/rpc.js';\n   14  \n   15  globalThis.fs = fs;\n   16  \n   17  function ReadJSON(filename) {\n   18    let data = fs.readFileSync(filename, 'utf-8');\n   19  \n   20    if(data) console.debug(`${data.length} bytes read from '${filename}'`);\n   21    return data ? JSON.parse(data) : null;\n   22  }\n   23  \n   24  function WriteFile(name, data, verbose = true) {\n   25    if(types.isGeneratorFunction(data)) {\n   26      let fd = fs.openSync(name, os.O_WRONLY | os.O_TRUNC | os.O_CREAT, 0x1a4);\n   27      let r = 0;\n   28      for(let item of data) {\n   29        r += fs.writeSync(fd, toArrayBuffer(item + ''));\n   30      }\n   31      fs.closeSync(fd);\n   32      let stat = fs.statSync(name);\n   33      return stat?.size;\n   34    }\n   35    if(types.isIterator(data)) data = [...data];\n   36    if(types.isArray(data)) data = data.join('\\n');\n   37  \n   38    if(typeof data == 'string' && !data.endsWith('\\n')) data += '\\n';\n   39    let ret = fs.writeFileSync(name, data);\n   40  \n   41    if(verbose) console.log(`Wrote ${name}: ${ret} bytes`);\n   42  }\n   43  \n   44  function WriteJSON(name, data) {\n   45    WriteFile(name, JSON.stringify(data, null, 2));\n   46  }\n   47  \n   48  function main(...args) {\n   49    const base = path.basename(process.argv[1], '.js').replace(/\\.[a-z]*$/, '');\n   50    const config = ReadJSON(`.${base}-config`) ?? {};\n   51    globalThis.console = new Console({\n   52      inspectOptions: { compact: 1, customInspect: true }\n   53    });\n   54    let params = getOpt(\n   55      {\n   56        verbose: [false, (a, v) => (v | 0) + 1, 'v'],\n   57        listen: [false, null, 'l'],\n   58        connect: [false, null, 'c'],\n   59        client: [false, null, 'C'],\n   60        server: [false, null, 'S'],\n   61        debug: [false, null, 'x'],\n   62        tls: [false, null, 't'],\n   63        'no-tls': [false, (v, pv, o) => ((o.tls = false), true), 'T'],\n   64        address: [true, null, 'a'],\n   65        port: [true, null, 'p'],\n   66        'ssl-cert': [true, null],\n   67        'ssl-private-key': [true, null],\n   68        '@': 'url'\n   69      },\n   70      args\n   71    );\n   72    if(params['no-tls'] === true) params.tls = false;\n   73  \n   74    console.log('params', params);\n   75    console.log('setLog', setLog);\n   76    const {\n   77      '@': [url = 'wss://127.0.0.1:8993/ws'],\n   78      'ssl-cert': sslCert = 'localhost.crt',\n   79      'ssl-private-key': sslPrivateKey = 'localhost.key'\n   80    } = params;\n   81  \n   82    const listen = params.connect && !params.listen ? false : true;\n   83    const serve = !params.client || params.server;\n   84  \n   85    Object.assign(globalThis, { ...rpc2, rpc });\n   86    let name = process.argv[1];\n   87    name = name\n   88      .replace(/.*\\//, '')\n   89      .replace(/-/g, ' ')\n   90      .replace(/\\.[^\\/.]*$/, '');\n   91  \n   92    let [prefix, suffix] = name.split(' ');\n   93  \n   94    let repl = new REPL(`\\x1b[38;5;165m${prefix} \\x1b[38;5;39m${suffix}\\x1b[0m`, fs, false);\n   95  \n   96    repl.historyLoad(null, false);\n   97    repl.loadSaveOptions();\n   98  \n   99    repl.help = () => {};\n  100    let { log } = console;\n  101    repl.show = arg => std.puts((typeof arg == 'string' ? arg : inspect(arg, globalThis.console.options)) + '\\n');\n  102  \n  103    repl.cleanup = () => {\n  104      repl.readlineRemovePrompt();\n  105      let numLines = repl.historySave();\n  106  \n  107      repl.printStatus(`EXIT (wrote ${numLines} history entries)`, false);\n  108  \n  109      std.exit(0);\n  110    };\n  111  \n  112    console.log = repl.printFunction(log);\n  113    let uri = new URL(url);\n  114    console.log('main', { url, uri });\n  115  \n  116    let cli = (globalThis.sock = new rpc.Socket(\n  117      uri,\n  118      rpc[`RPC${serve ? 'Server' : 'Client'}Connection`],\n  119      +params.verbose\n  120    ));\n  121  \n  122    cli.register({ Worker: os.Worker, REPL });\n  123  \n  124    let connections = new Set();\n  125    function createWS(url, callbacks, listen) {\n  126      console.log('createWS', { url, callbacks, listen });\n  127      const { protocol, host, port, path } = url;\n  128      console.log('createWS', { protocol, host, port, path });\n  129      setLog((params.debug ? LLL_USER : 0) | (((params.debug ? LLL_NOTICE : LLL_WARN) << 1) - 1), (level, ...args) => {\n  130        repl.printStatus(...args);\n  131        //if(params.debug) console.log((['ERR', 'WARN', 'NOTICE', 'INFO', 'DEBUG', 'PARSER', 'HEADER', 'EXT', 'CLIENT', 'LATENCY', 'MINNET', 'THREAD'][Math.log2(level)] ?? level + '').padEnd(8), ...args);\n  132      });\n  133  \n  134      return [client, server][+listen]({\n  135        protocol,\n  136        host,\n  137        port,\n  138        path,\n  139        tls: params.tls,\n  140        sslCert,\n  141        sslPrivateKey,\n  142        mimetypes: [\n  143          ['.svgz', 'application/gzip'],\n  144          ['.mjs', 'application/javascript'],\n  145          ['.wasm', 'application/octet-stream'],\n  146          ['.eot', 'application/vnd.ms-fontobject'],\n  147          ['.lib', 'application/x-archive'],\n  148          ['.bz2', 'application/x-bzip2'],\n  149          ['.gitignore', 'text/plain'],\n  150          ['.cmake', 'text/plain'],\n  151          ['.hex', 'text/plain'],\n  152          ['.md', 'text/plain'],\n  153          ['.pbxproj', 'text/plain'],\n  154          ['.wat', 'text/plain'],\n  155          ['.c', 'text/x-c'],\n  156          ['.h', 'text/x-c'],\n  157          ['.cpp', 'text/x-c++'],\n  158          ['.hpp', 'text/x-c++'],\n  159          ['.filters', 'text/xml'],\n  160          ['.plist', 'text/xml'],\n  161          ['.storyboard', 'text/xml'],\n  162          ['.vcxproj', 'text/xml'],\n  163          ['.bat', 'text/x-msdos-batch'],\n  164          ['.mm', 'text/x-objective-c'],\n  165          ['.m', 'text/x-objective-c'],\n  166          ['.sh', 'text/x-shellscript']\n  167        ],\n  168        mounts: {\n  169          '/': ['/', '.', 'index.html'],\n  170          '/404.html': function* (req, res) {\n  171            console.log('/404.html', { req, res });\n  172            yield '<html><head><meta charset=utf-8 http-equiv=\"Content-Language\" content=\"en\"/><link rel=\"stylesheet\" type=\"text/css\" href=\"/error.css\"/></head><body><h1>403</h1></body></html>';\n  173          },\n  174          proxy(req, res) {\n  175            const { url, method, headers } = req;\n  176            const { status, ok, type } = res;\n  177  \n  178            console.log('proxy', { url, method, headers }, { status, ok, url, type });\n  179          },\n  180          *config(req, res) {\n  181            console.log('/config', { req, res });\n  182            yield '{}';\n  183          },\n  184          *files(req, resp) {\n  185            const { body, headers } = req;\n  186            const { 'content-type': content_type } = headers;\n  187            const data = JSON.parse(body);\n  188  \n  189            resp.type = 'application/json';\n  190  \n  191            let {\n  192              dir = 'tmp',\n  193              filter = '.(brd|sch|G[A-Z][A-Z])$',\n  194              verbose = false,\n  195              objects = false,\n  196              key = 'mtime'\n  197            } = data;\n  198            let absdir = path.realpath(dir);\n  199            let components = absdir.split(path.sep);\n  200  \n  201            if(components.length && components[0] === '') components.shift();\n  202            if(components.length < 2 || components[0] != 'home') throw new Error(`Access error`);\n  203  \n  204            console.log('\\x1b[38;5;215m*files\\x1b[0m', {\n  205              dir,\n  206              components,\n  207              absdir\n  208            });\n  209            console.log('\\x1b[38;5;215m*files\\x1b[0m', { absdir });\n  210  \n  211            let names = fs.readdirSync(absdir) ?? [];\n  212            if(filter) {\n  213              const re = new RegExp(filter, 'gi');\n  214              names = names.filter(name => re.test(name));\n  215            }\n  216  \n  217            let entries = names.map(file => [file, fs.statSync(`${dir}/${file}`)]);\n  218  \n  219            entries = entries.reduce((acc, [file, st]) => {\n  220              let name = file + (st.isDirectory() ? '/' : '');\n  221              let obj = {\n  222                name\n  223              };\n  224              acc.push([\n  225                name,\n  226                Object.assign(obj, {\n  227                  mtime: toUnixTime(st.mtime),\n  228                  time: toUnixTime(st.ctime),\n  229                  mode: `0${(st.mode & 0x09ff).toString(8)}`,\n  230                  size: st.size\n  231                })\n  232              ]);\n  233              return acc;\n  234            }, []);\n  235  \n  236            let cmp = {\n  237              string(a, b) {\n  238                return b[1][key].localeCompare(a[1][key]);\n  239              },\n  240              number(a, b) {\n  241                return b[1][key] - a[1][key];\n  242              }\n  243            }[typeof entries[0][1][key]];\n  244  \n  245            entries = entries.sort(cmp);\n  246  \n  247            console.log('\\x1b[38;5;215m*files\\x1b[0m', { entries });\n  248            names = entries.map(([name, obj]) => (objects ? obj : name));\n  249  \n  250            yield JSON.stringify(...[names, ...(verbose ? [null, 2] : [])]);\n  251          }\n  252        },\n  253        ...url,\n  254  \n  255        ...callbacks,\n  256        onConnect(ws, req) {\n  257          console.log('test-rpc', { ws, req });\n  258          connections.add(ws);\n  259  \n  260          return callbacks.onConnect(ws, req);\n  261        },\n  262        onClose(ws, status, reason, error) {\n  263          console.log('\\x1b[38;5;165monClose\\x1b[0m [\\n  ', req, ',\\n  ', rsp, '\\n]');\n  264          connections.delete(ws);\n  265  \n  266          return callbacks.onClose(ws, req);\n  267        },\n  268        onHttp(ws, req, rsp) {\n  269          const { url, method, headers } = req;\n  270          console.log('\\x1b[38;5;33monHttp\\x1b[0m [\\n  ', req, ',\\n  ', rsp, '\\n]');\n  271          return rsp;\n  272        },\n  273        onMessage(ws, data) {\n  274          console.log('onMessage', ws, data);\n  275          return callbacks.onMessage(ws, data);\n  276        },\n  277        onFd(fd, rd, wr) {\n  278          // console.log('onFd', { fd, rd, wr });\n  279          return callbacks.onFd(fd, rd, wr);\n  280        },\n  281        ...(url && url.host ? url : {})\n  282      });\n  283    }\n  284    globalThis[['connection', 'listener'][+listen]] = cli;\n  285  \n  286    define(globalThis, {\n  287      get connections() {\n  288        return [...connections].filter(c => c.fd !== null);\n  289      }\n  290    });\n  291  \n  292    Object.assign(globalThis, {\n  293      repl,\n  294      ...rpc,\n  295      quit,\n  296      exit: quit,\n  297      cli,\n  298      std,\n  299      os,\n  300      fs,\n  301      path,\n  302      ReadJSON,\n  303      WriteFile,\n  304      WriteJSON\n  305    });\n  306  \n  307    define(globalThis, listen ? { server: cli, cli } : { client: cli, cli });\n  308    /* delete globalThis.DEBUG;\n  309    Object.defineProperty(globalThis, 'DEBUG', { get: DebugFlags });*/\n  310  \n  311    if(listen) cli.listen(createWS, os);\n  312    else cli.connect(createWS, os);\n  313  \n  314    function quit(why) {\n  315      console.log(`quit('${why}')`);\n  316  \n  317      let cfg = { inspectOptions: console.options };\n  318      WriteJSON(`.${base}-config`, cfg);\n  319      repl.cleanup(why);\n  320    }\n  321  \n  322    repl.runSync();\n  323  }\n  324  \n  325  try {\n  326    main(...scriptArgs.slice(1));\n  327  } catch(error) {\n  328    console.log(`FAIL: ${error?.message ?? error}\\n${error?.stack}`);\n  329    std.exit(1);\n  330  } finally {\n  331    //console.log('SUCCESS');\n  332  }\n  333  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-client-ws.js:\n    1  import { exit, puts } from 'std';\n    2  import { URL, LLL_INFO, LLL_USER, setLog } from 'net';\n    3  import Client from './client.js';\n    4  import { close, exec, open, O_RDWR, setReadHandler, setWriteHandler, Worker, ttySetRaw, sleep } from 'os';\n    5  import { in as stdin, out as stdout, err as stderr } from 'std';\n    6  import { assert, getpid, exists, randStr, abbreviate, escape } from './common.js';\n    7  import { spawn } from './spawn.js';\n    8  import { log } from './log.js';\n    9  \n   10  function main(...args) {\n   11    const debug = args.indexOf('-x') != -1;\n   12    args = args.filter(arg => !/^-[x]/.test(arg));\n   13    let pid;\n   14  \n   15    if(args.length == 0) {\n   16      pid = spawn('server.js', ['localhost', 30000], scriptArgs[0].replace(/.*\\//g, '').replace('.js', '.log'));\n   17      sleep(100);\n   18      args.push('wss://localhost:30000/ws');\n   19    }\n   20  \n   21    for(let arg of args) {\n   22      Client(\n   23        arg,\n   24        {\n   25          onConnect(ws, req) {\n   26            log('onConnect', { ws, req });\n   27  \n   28            ws.send('TEST STRING');\n   29            ws.send(new Uint8Array([0x54, 0x45, 0x53, 0x54, 0x20, 0x44, 0x41, 0x54, 0x41]).buffer);\n   30            ws.send('QUIT');\n   31          },\n   32          onClose(ws, reason) {\n   33            log(`onClose ${reason}`);\n   34            exit(0);\n   35          },\n   36          onError(ws, error) {\n   37            log(`onError '${error}'`);\n   38            exit(1);\n   39          },\n   40          onMessage(ws, msg) {\n   41            log(`onMessage '${msg}'`);\n   42  \n   43            if(msg.endsWith('QUIT')) {\n   44              log(`CLOSING!`);\n   45              ws.close(1001);\n   46            }\n   47          }\n   48        },\n   49        debug ? LLL_INFO - 1 : LLL_USER\n   50      );\n   51    }\n   52  }\n   53  \n   54  try {\n   55    main(...scriptArgs.slice(1));\n   56  } catch(error) {\n   57    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n   58    exit(1);\n   59  }\n   60  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/server.js:\n    1  import { exit } from 'std';\n    2  import { close, exec, open, realpath, O_RDWR, setReadHandler, setWriteHandler, Worker } from 'os';\n    3  import { server, URL, setLog, logLevels, LLL_ALL, LLL_ERR, LLL_WARN, LLL_NOTICE, LLL_INFO, LLL_DEBUG, LLL_PARSER, LLL_HEADER, LLL_EXT, LLL_CLIENT, LLL_LATENCY, LLL_USER, LLL_THREAD } from 'net.so';\n    4  import { Levels, DefaultLevels, Init, isDebug, log } from './log.js';\n    5  import { getpid, once, exists } from './common.js';\n    6  \n    7  const w = Worker.parent;\n    8  const name = w ? 'CHILD\\t' : 'PARENT\\t';\n    9  //let log = (...args) => console.log(name, ...args);\n   10  let log = (...args) => console.log(...args);\n   11  const connections = new Set();\n   12  \n   13  /*import('console').then(({ Console }) => { globalThis.console = new Console(err, { inspectOptions: { compact: 0, customInspect: true, maxStringLength: 100 } });\n   14    log = (...args) => globalThis.console.log(name, ...args);\n   15  });*/\n   16  \n   17  const MimeTypes = [\n   18    ['.svgz', 'application/gzip'],\n   19    ['.mjs', 'application/javascript'],\n   20    ['.wasm', 'application/octet-stream'],\n   21    ['.eot', 'application/vnd.ms-fontobject'],\n   22    ['.lib', 'application/x-archive'],\n   23    ['.bz2', 'application/x-bzip2'],\n   24    ['.gitignore', 'text/plain'],\n   25    ['.cmake', 'text/plain'],\n   26    ['.hex', 'text/plain'],\n   27    ['.md', 'text/plain'],\n   28    ['.pbxproj', 'text/plain'],\n   29    ['.wat', 'text/plain'],\n   30    ['.c', 'text/x-c'],\n   31    ['.h', 'text/x-c'],\n   32    ['.cpp', 'text/x-c++'],\n   33    ['.hpp', 'text/x-c++'],\n   34    ['.filters', 'text/xml'],\n   35    ['.plist', 'text/xml'],\n   36    ['.storyboard', 'text/xml'],\n   37    ['.vcxproj', 'text/xml'],\n   38    ['.bat', 'text/x-msdos-batch'],\n   39    ['.mm', 'text/x-objective-c'],\n   40    ['.m', 'text/x-objective-c'],\n   41    ['.sh', 'text/x-shellscript']\n   42  ];\n   43  \n   44  export function MakeCert(sslCert, sslPrivateKey) {\n   45    let stderr = open('/dev/null', O_RDWR);\n   46    let ret = exec(\n   47      [\n   48        'openssl',\n   49        'req',\n   50        '-x509',\n   51        '-out',\n   52        sslCert,\n   53        '-keyout',\n   54        sslPrivateKey,\n   55        '-newkey',\n   56        'rsa:2048',\n   57        '-nodes',\n   58        '-sha256',\n   59        '-subj',\n   60        '/CN=localhost'\n   61      ],\n   62      { stderr }\n   63    );\n   64    close(stderr);\n   65    return ret;\n   66  }\n   67  \n   68  if(w) {\n   69    try {\n   70      log(`Starting worker`, w);\n   71  \n   72      MinnetServer.worker(w);\n   73    } catch(error) {\n   74      w.postMessage({ type: 'error', error });\n   75    }\n   76  } else {\n   77    try {\n   78      const args = [...(globalThis.scriptArgs ?? process.argv)];\n   79      const mydir = args[0].replace(/(\\/|^)[^\\/]*$/g, '$1.');\n   80  \n   81      const parentDir = mydir + '/..';\n   82  \n   83      if(/(^|\\/)server\\.js$/.test(args[0])) {\n   84        const sslCert = mydir + '/localhost.crt',\n   85          sslPrivateKey = mydir + '/localhost.key';\n   86  \n   87        const host = args[1] ?? 'localhost',\n   88          port = args[2] ? +args[2] : 30000;\n   89  \n   90        log('MinnetServer', { host, port });\n   91  \n   92        setLog(\n   93          LLL_WARN | LLL_USER,\n   94          (level, message) =>\n   95            !/LOAD_EXTRA|VHOST_CERT_AGING|EVENT_WAIT/.test(message) &&\n   96            log(`${logLevels[level].padEnd(10)} ${message.trim()}`)\n   97        );\n   98        //  setLog(0, (level, message) => {});\n   99  \n  100        Init('server.js');\n  101  \n  102        server({\n  103          tls: true,\n  104          mimetypes: MimeTypes,\n  105          host,\n  106          port,\n  107          protocol: 'http',\n  108          sslCert,\n  109          sslPrivateKey,\n  110          mounts: {\n  111            '/': ['/', parentDir, 'index.html'],\n  112            '/404.html': function* (req, res) {\n  113              log('/404.html', { req, res });\n  114              yield '<html><head><meta charset=utf-8 http-equiv=\"Content-Language\" content=\"en\"/><link rel=\"stylesheet\" type=\"text/css\" href=\"/error.css\"/></head><body><h1>403</h1></body></html>';\n  115            },\n  116            *generator(req, res) {\n  117              log('/generator', { req, res });\n  118              yield 'This';\n  119              yield ' ';\n  120              yield 'is';\n  121              yield ' ';\n  122              yield 'a';\n  123              yield ' ';\n  124              yield 'generated';\n  125              yield ' ';\n  126              yield 'response';\n  127              yield '\\n';\n  128            }\n  129          },\n  130          onConnect: (ws, req) => {\n  131            /*const { url, path } = req;\n  132            const { family, address, port } = ws;\n  133            log('onConnect', { url, path, family, address, port });*/\n  134            log('onConnect', { ws, req });\n  135          },\n  136          onClose: (ws, status, reason) => {\n  137            log('onClose', { ws, status, reason });\n  138            ws.close(status);\n  139            // if(status >= 1000) exit(status - 1000);\n  140          },\n  141          onError: (ws, error) => {\n  142            log('onError', { ws, error });\n  143          },\n  144          onHttp: (ws, req, rsp) => {\n  145            log('onHttp', { req, rsp });\n  146          },\n  147          onFd: (fd, rd, wr) => {\n  148            //log('onFd', { fd, rd, wr });\n  149            setReadHandler(fd, rd);\n  150            setWriteHandler(fd, wr);\n  151          },\n  152          onMessage: (ws, msg) => {\n  153            log('onMessage', typeof ws, { ws, msg });\n  154            ws.send('ECHO: ' + msg);\n  155            //ws.send(JSON.stringify({ type: 'message', msg }));\n  156          }\n  157        });\n  158      }\n  159    } catch(error) {\n  160      log('ERROR', error);\n  161    }\n  162  }\n  163  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-generator.js:\n    1  import { generator } from 'net';\n    2  import REPL from 'repl';\n    3  import { Console } from 'console';\n    4  \n    5  async function main() {\n    6    globalThis.console = new Console({ inspectOptions: { compact: 2 } });\n    7  \n    8    let gen = new generator(async (push, stop) => {\n    9      console.log('generator', { push, stop });\n   10      for(let i = 0; i < 100; i++) {\n   11        let pr = push(new Uint32Array([i * 1e6]));\n   12        await pr;\n   13        console.log(`wrote #${i}`);\n   14  \n   15        if(i >= 42) stop();\n   16      }\n   17      await stop(new Uint8Array([70, 105, 110, 105, 115, 104]));\n   18    });\n   19    console.log('gen', gen);\n   20  \n   21    /* for await(let item of gen) {\n   22      console.log('item', new Uint32Array(item));\n   23    }*/\n   24  \n   25    let item,\n   26      i = 0;\n   27    while((item = await gen.next())) {\n   28      let { value, done } = item;\n   29      console.log(`item #${i}`, { value, done });\n   30    }\n   31  \n   32    let repl = new REPL();\n   33    console.log('repl', repl);\n   34    repl.run();\n   35  }\n   36  \n   37  main();\n   38  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-fetch.js:\n    1  import { exit, puts, open } from 'std';\n    2  import { fetch, Request, Response, setLog, logLevels, LLL_DEBUG, LLL_INFO, LLL_USER } from 'net';\n    3  import { log } from './log.js';\n    4  \n    5  function WriteFile(name, data) {\n    6    try {\n    7      let f = open(name, 'w+');\n    8      log(`WriteFile \\x1b[1;31m${name}\\x1b[0m =`, f);\n    9  \n   10      let r = f.write(data, 0, data.byteLength);\n   11      f.close();\n   12      return r;\n   13    } catch(err) {\n   14      throw new Error(`Couldn't write to '${name}': ${err.message}`);\n   15    }\n   16  }\n   17  \n   18  function FetchNext(array) {\n   19    return new Promise((resolve, reject) => {\n   20      let url = array.shift();\n   21      let reqObj;\n   22      let request = new Request(\n   23        url,\n   24        (reqObj = {\n   25          headers: {\n   26            accept:\n   27              'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n   28            'accept-language': 'en-US,en;q=0.9',\n   29            pragma: 'no-cache',\n   30            'cache-control': 'no-cache',\n   31            authority: 'www.discogs.com',\n   32            'user-agent':\n   33              'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.27 Safari/537.36',\n   34            'upgrade-insecure-requests': '1',\n   35            cookie:\n   36              'sid=deb14330f89995598b4cd37ecd8f0c3d; language2=en; mp_session=ed5700f25fac3c643b872191; OptanonConsent=isIABGlobal=false&datestamp=Mon+Feb+14+2022+09%3A15%3A59+GMT%2B0100+(Central+European+Standard+Time)&version=6.20.0&hosts=&consentId=16f6b226-a0fd-429d-ba34-0bdad57d38f1&interactionCount=1&landingPath=https%3A%2F%2Fwww.discogs.com%2Fsell%2Fundefined&groups=C0001%3A1%2CC0004%3A1%2CC0003%3A1%2CC0002%3A1%2CSTACK8%3A0; currency=USD; ck_username=diskosenn; ppc_onboard_prompt=seen; session=\"5V0o/D1Lm2v3OYz32dQNvkTeAkE=?_expires=MTY2MjM3NDY4MQ==&auth_token=IktCZ0tWaWdxWkp3cWdubzZkY0RoMXpEb09EIg==&created_at=IjIwMjItMDMtMDlUMTA6NDQ6NDEuMjc3MDkxIg==&idp%3Auser_id=ODM2OTAyMg==\"; __cf_bm=wo1vbcsHdRLdP1d.0TGEZ4nNZ4CrE_3K2j6Emuboaa8-1647067526-0-AVL1/sHkoRhF7/QIXuMC5nsTWQGo9HeFvV+unN2AzKdpRYx75fgQcO+o/8mqWVuP+CFBzCoVX+iGaQW2z3edfNs='\n   37          }\n   38        })\n   39      );\n   40      log(`fetching \\x1b[1;33m${url}\\x1b[0m`);\n   41      log(console.config({ compact: 0 }), 'request:', request);\n   42      fetch(url, reqObj)\n   43        .then(response => {\n   44          console.log('response', response);\n   45          log(console.config({ compact: 0 }), response);\n   46          let prom = response.arrayBuffer();\n   47          prom.then(buf => {\n   48            console.log('buf', buf);\n   49            let prom = response.text();\n   50            console.log('prom', prom);\n   51            prom.then(text => {\n   52              log('arrayBuffer()', console.config({ compact: 2 }), buf);\n   53  \n   54              let filename = response.url.path.replace(/.*\\//g, '');\n   55  \n   56              log('filename', filename);\n   57              WriteFile(filename, buf);\n   58  \n   59              array.length ? FetchNext(array) : resolve();\n   60            });\n   61          });\n   62        })\n   63        .catch(error => (log('error', error), reject(error)));\n   64    });\n   65  }\n   66  \n   67  function main(...args) {\n   68    if(args.length == 0)\n   69      //args = ['http://www.w3.org/Home.html'];\n   70      args =\n   71        'Assis,Autoren,Backgrounds,Beklagenswert,BewegungMaterie,BodyMassIndex,BriefBenz,CERN_Auffassungen,DeadEndBigBang,Elementarteilchen,GOMAntwort,GOMProjekt,Glaube,Gravitation,Hintergruende,Hix,Jooss,Kapillare,Krueger,LetterBenz,MasseEnergieFehler1,Materie,Materiedefinition,NeuesCERN,Neutrinos,Nobelpreis,PM_Urknall,PhysikFehler,Physik_heute,PhysikerPhysik,PistorPohl,SackgasseUrknall,Tegmark,TheoriePraxis,Urknall,Urknallbeschreibung,WasIstLos,Weltraumteleskop,WhatIsGoing,WikipediaPhysik_Einleitung'\n   72          .split(',')\n   73          .map(n => `http://hauptplatz.unipohl.de/Wissenschaft/${n}.htm`);\n   74  \n   75    setLog(\n   76      -1,\n   77      (() => {\n   78        let lf = open('test-fetch.log', 'w');\n   79        return (level, msg) => {\n   80          //  log(logLevels[level].padEnd(10) + msg);\n   81          lf.puts(logLevels[level].padEnd(10) + msg + '\\n');\n   82          lf.flush();\n   83        };\n   84      })()\n   85    );\n   86  \n   87    import('console')\n   88      .then(\n   89        ({ Console }) => (\n   90          (globalThis.console = new Console({\n   91            inspectOptions: { compact: 1, depth: 2, maxArrayLength: 10, maxStringLength: 64, reparseable: false }\n   92          })),\n   93          run()\n   94        )\n   95      )\n   96      .catch(run);\n   97  \n   98    function run() {\n   99      FetchNext(args)\n  100        .then(() => {\n  101          log('SUCCEEDED');\n  102        })\n  103        .catch(err => {\n  104          log('FAILED:', typeof err, err);\n  105        });\n  106    }\n  107  }\n  108  \n  109  try {\n  110    main(...scriptArgs.slice(1));\n  111  } catch(error) {\n  112    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n  113    exit(1);\n  114  }\n  115  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/common.js:\n    1  import { open } from 'std';\n    2  import { readlink, stat } from 'os';\n    3  \n    4  export function assert(actual, expected, message) {\n    5    if(arguments.length == 1) expected = true;\n    6  \n    7    if(actual === expected) return;\n    8  \n    9    if(\n   10      actual !== null &&\n   11      expected !== null &&\n   12      typeof actual == 'object' &&\n   13      typeof expected == 'object' &&\n   14      actual.toString() === expected.toString()\n   15    )\n   16      return;\n   17  \n   18    console.log('assert', { actual, expected, message });\n   19  \n   20    throw Error(\n   21      'assertion failed: got |' + actual + '|' + ', expected |' + expected + '|' + (message ? ' (' + message + ')' : '')\n   22    );\n   23  }\n   24  \n   25  export const getpid = () => parseInt(readlink('/proc/self')[0]);\n   26  \n   27  export const once = fn => {\n   28    let ret,\n   29      ran = false;\n   30    return (...args) => (ran ? ret : ((ran = true), (ret = fn.apply(this, args))));\n   31  };\n   32  \n   33  export const exists = path => {\n   34    let [st, err] = stat(path);\n   35    return !err;\n   36  };\n   37  \n   38  export const randStr = (\n   39    n,\n   40    set = '_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n   41    rng = Math.random\n   42  ) => {\n   43    let o = '';\n   44    while(--n >= 0) o += set[Math.round(rng() * (set.length - 1))];\n   45    return o;\n   46  };\n   47  \n   48  export const escape = s =>\n   49    [\n   50      [/\\r/g, '\\\\r'],\n   51      [/\\n/g, '\\\\n']\n   52    ].reduce((a, [exp, rpl]) => a.replace(exp, rpl), s);\n   53  \n   54  export const abbreviate = s => (s.length > 100 ? s.substring(0, 45) + ' ... ' + s.substring(-45) : s);\n   55  \n   56  export async function save(generator, file) {\n   57    let handle;\n   58  \n   59    for await(let chunk of await generator) {\n   60      handle ??= open(file, 'w');\n   61  \n   62      if(chunk === undefined) break;\n   63  \n   64      console.log('Written:', handle.write(chunk, 0, chunk.byteLength));\n   65    }\n   66  \n   67    handle.flush();\n   68    handle.close();\n   69  }\n   70  \n   71  export default { assert, getpid, once, exists, randStr, escape, abbreviate };\n   72  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/fetch.js:\n    1  import { err, fdopen } from 'std';\n    2  import { pipe, exec, close, waitpid, WNOHANG } from 'os';\n    3  \n    4  const fetchArgs = {\n    5    curl: (url, file) => ['-s', '-k', '-L', url].concat(file ? ['-o', file] : []),\n    6    fetch: (url, file) => ['--quiet', '--no-verify-peer', '-o', file ?? '/dev/stdout', url],\n    7    wget: (url, file) => ['--quiet', '--no-check-certificate', '--content-disposition', '-O', file ?? '-', url]\n    8  };\n    9  \n   10  const programs = Object.keys(fetchArgs);\n   11  \n   12  let fetchProgram;\n   13  \n   14  export function Fetch(url, file) {\n   15    let ret,\n   16      options = {},\n   17      pipe;\n   18  \n   19    if(!(file ?? false)) {\n   20      [pipe, options.stdout] = pipe();\n   21      //    options.block=false;\n   22    }\n   23  \n   24    err.puts(`Fetching ${url} ...\\n`);\n   25  \n   26    for(let p of fetchProgram ? [fetchProgram] : programs) {\n   27      let args = [p].concat(fetchArgs[p](url, file));\n   28      if((ret = exec(args, options)) == 0) {\n   29        fetchProgram = p;\n   30        break;\n   31      }\n   32    }\n   33  \n   34    if(pipe) {\n   35      close(options.stdout);\n   36      let f = fdopen(pipe, 'r');\n   37      let str = f.readAsString();\n   38  \n   39      f.close();\n   40      close(pipe);\n   41  \n   42      waitpid(ret, WNOHANG);\n   43      ret = str;\n   44    }\n   45  \n   46    return ret;\n   47  }\n   48  \n   49  export const TestFetch = (host, port) => (location, file) => Fetch(`http://${host}:${port}/${location}`, file);\n   50  \n   51  export default Fetch;\n   52  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-server-http.js:\n    1  import { exit, loadFile } from 'std';\n    2  import { kill, SIGTERM, sleep, WNOHANG } from 'os';\n    3  import { randStr } from './common.js';\n    4  import { spawn, wait4 } from './spawn.js';\n    5  import Client from './client.js';\n    6  import { log } from './log.js';\n    7  \n    8  function TestClient(url) {\n    9    const message = randStr(100);\n   10  \n   11    return Client(url, {\n   12      onConnect(ws, req) {\n   13        log('onConnect', { ws, req });\n   14      },\n   15      onClose(ws, reason) {\n   16        log('onClose', { ws, reason });\n   17        exit(reason);\n   18      },\n   19      onError(ws, error) {\n   20        log('onError', { ws, error });\n   21        exit(1);\n   22      },\n   23      onHttp(req, resp) {\n   24        const { url } = resp;\n   25        log('onHttp', { req, resp });\n   26        log('req.url', req.url);\n   27        log('resp.url', resp.url);\n   28        log('url.path', url.path);\n   29  \n   30        let file = loadFile('.' + url.path);\n   31  \n   32        let body = resp.text();\n   33        log('onHttp', { body, file });\n   34  \n   35        if(file.length == body.length) if (file === body) exit(0);\n   36      }\n   37    });\n   38  }\n   39  \n   40  function main(...args) {\n   41    let pid = spawn('server.js', ['localhost', 30000], scriptArgs[0].replace(/.*\\//g, '').replace('.js', '.log'));\n   42    let status = [];\n   43  \n   44    sleep(100);\n   45  \n   46    TestClient('https://localhost:30000/minnet.h');\n   47  \n   48    kill(pid, SIGTERM);\n   49    wait4(pid, status, WNOHANG);\n   50    log('status', status);\n   51  }\n   52  \n   53  try {\n   54    main(...scriptArgs.slice(1));\n   55  } catch(error) {\n   56    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n   57    exit(1);\n   58  }\n   59  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/client.js:\n    1  import { err, exit, puts } from 'std';\n    2  import { setReadHandler, setWriteHandler } from 'os';\n    3  import { client, setLog, LLL_WARN, LLL_CLIENT, LLL_USER, URL, Generator, logLevels } from 'net';\n    4  import { Levels, DefaultLevels, Init, isDebug, log } from './log.js';\n    5  import { escape, abbreviate } from './common.js';\n    6  \n    7  const connections = new Set();\n    8  \n    9  export default function Client(url, options, debug) {\n   10    //log('MinnetClient', { url, options });\n   11    Init('client.js', typeof debug == 'number' ? debug : LLL_CLIENT | (debug ? LLL_USER : 0));\n   12  \n   13    let {\n   14      onConnect,\n   15      onClose,\n   16      onError,\n   17      onHttp,\n   18      onFd,\n   19      onMessage,\n   20      tls = true,\n   21      sslCert = 'localhost.crt',\n   22      sslPrivateKey = 'localhost.key',\n   23      headers = {},\n   24      ...opts\n   25    } = options;\n   26  \n   27    log(`Client connecting to ${url} ...`);\n   28  \n   29    /* setLog(\n   30      LLL_WARN | (debug ? LLL_USER : 0),\n   31      (level, message) =>\n   32        !/LOAD_EXTRA|VHOST_CERT_AGING/.test(message) &&\n   33        log(`${logLevels[level].padEnd(10)} ${message.replace(/\\n/g, '\\\\n').trim()}`)\n   34    );\n   35  */\n   36    let writable,\n   37      readable,\n   38      c,\n   39      pr,\n   40      resolve,\n   41      reject,\n   42      remoteName = new Promise((resolve, reject) => {\n   43        readable = new Generator(async (push, stop) => {\n   44          c = client(url, {\n   45            tls,\n   46            sslCert,\n   47            sslPrivateKey,\n   48            headers: {\n   49              'User-Agent': 'minnet',\n   50              ...headers\n   51            },\n   52            ...opts,\n   53            onConnect(ws, req) {\n   54              console.log('onConnect');\n   55              connections.add(ws);\n   56  \n   57              writable = {\n   58                write(chunk) {\n   59                  return ws.send(chunk);\n   60                }\n   61              };\n   62  \n   63              onConnect ? onConnect(ws, req) : console.log('onConnect', ws, req);\n   64            },\n   65            onClose(ws, status, reason, error) {\n   66              connections.delete(ws);\n   67  \n   68              if(resolve) resolve({ value: { status, reason, error }, done: true });\n   69  \n   70              onClose\n   71                ? onClose(ws, status, reason, error)\n   72                : (console.log('onClose', { ws, reason }), exit(reason != 1000 && reason != 0 ? 1 : 0));\n   73              pr = reject = resolve = null;\n   74            },\n   75            onError(ws, error) {\n   76              connections.delete(ws);\n   77  \n   78              onError ? onError(ws, error) : (console.log('onError', { ws, error }), exit(error));\n   79            },\n   80  \n   81            onFd(fd, rd, wr) {\n   82              setReadHandler(fd, rd);\n   83              setWriteHandler(fd, wr);\n   84            },\n   85            onMessage(ws, msg) {\n   86              onMessage\n   87                ? onMessage(ws, msg)\n   88                : (console.log('onMessage', console.config({ maxStringLen: 100 }), { ws, msg }),\n   89                  puts(escape(abbreviate(msg)) + '\\n'));\n   90            },\n   91            async onHttp(req, resp) {\n   92              let text = await resp.text();\n   93              let { path } = resp.url;\n   94  \n   95              path = path.replace(/.*\\//g, '');\n   96              resolve(path || 'index.html');\n   97  \n   98              log('onHttp(1)', resp.url.path);\n   99              log('onHttp(2)', text.replace(/\\n/g, '\\\\n').substring(0, 100));\n  100  \n  101              console.log('push', /* await*/ push(text));\n  102            }\n  103          });\n  104        });\n  105      });\n  106  \n  107    return {\n  108      get remoteName() {\n  109        return remoteName;\n  110      },\n  111      readable: Object.defineProperties(\n  112        {},\n  113        {\n  114          [Symbol.asyncIterator]: {\n  115            value: () => readable\n  116          },\n  117          getReader: {\n  118            value: () => ({ read: () => readable.next() })\n  119          },\n  120          [Symbol.toStringTag]: { value: 'ReadableStream' }\n  121        }\n  122      ),\n  123      writable\n  124    };\n  125  }\n  126  \n  127  Object.defineProperty(Client, 'connections', {\n  128    get() {\n  129      return [...connections];\n  130    }\n  131  });\n  132  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-client-http.js:\n    1  import { exit, puts } from 'std';\n    2  import { URL, LLL_INFO, LLL_USER, setLog } from 'net';\n    3  import Client from './client.js';\n    4  import { kill, close, exec, open, O_RDWR, setReadHandler, setWriteHandler, Worker, ttySetRaw, sleep } from 'os';\n    5  import { in as stdin, out as stdout, err as stderr } from 'std';\n    6  import { assert, getpid, exists, randStr, abbreviate, escape, save } from './common.js';\n    7  import { spawn, wait4 } from './spawn.js';\n    8  import { log } from './log.js';\n    9  \n   10  async function main(...args) {\n   11    const debug = args.indexOf('-x') != -1;\n   12    args = args.filter(arg => !/^-[x]/.test(arg));\n   13    let pid;\n   14  \n   15    if(args.length == 0) {\n   16      pid = spawn('server.js', ['localhost', 30000], null /*scriptArgs[0].replace(/.*\\//g, '').replace('.js', '.log')*/);\n   17      sleep(1000);\n   18      args.push('https://localhost:30000/src/minnet.h');\n   19    }\n   20  \n   21    for(let arg of args) {\n   22      let cli;\n   23  \n   24      cli = Client(\n   25        arg,\n   26        {\n   27          block: false,\n   28          onHttp(req, resp) {\n   29            log('onHttp', { req, resp });\n   30  \n   31            /*  let body = resp.text();\n   32            puts(body);*/\n   33            log(`Headers:`, resp.headers);\n   34          },\n   35          onMessage(...args) {\n   36            log('onMessage', { args });\n   37            /* stdout.puts(`\\r\\x1b[1;34m< ${escape(msg)}\\x1b[0m\\n`);\n   38              stdout.flush();*/\n   39          }\n   40        },\n   41        1 // debug ? LLL_INFO - 1 : LLL_USER\n   42      );\n   43  \n   44      console.log('cli', cli);\n   45      console.log('cli.readable', cli.readable);\n   46  \n   47      save(cli.readable, 'output.txt');\n   48  \n   49      /*for await(let chunk of cli.readable) {\n   50        console.log(\n   51          'DATA: ' +\n   52            chunk\n   53              .replace(/\\n/g, '\\n      ')\n   54              .split('\\n')\n   55              .map(line => line.substring(0, 80))\n   56              .join('\\n')\n   57        );\n   58      }*/\n   59    }\n   60  \n   61    function terminate(code = 0, ex = true) {\n   62      let status;\n   63      kill(pid, 9);\n   64      wait4(pid, st => ((status = st), console.log(`exited: status=${status}`)));\n   65      if(ex) exit(code);\n   66      else return status;\n   67    }\n   68  }\n   69  \n   70  try {\n   71    main(...scriptArgs.slice(1));\n   72  } catch(error) {\n   73    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n   74    exit(1);\n   75  }\n   76  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-client.js:\n    1  import { exit, puts, open } from 'std';\n    2  import { URL, LLL_ALL, LLL_INFO, LLL_USER, setLog } from 'net';\n    3  import Client from './client.js';\n    4  import { close, exec, O_RDWR, setReadHandler, setWriteHandler, Worker, ttySetRaw, sleep, kill, signal, SIGINT } from 'os';\n    5  import { in as stdin, out as stdout, err as stderr } from 'std';\n    6  import { assert, getpid, exists, randStr, abbreviate, escape, save } from './common.js';\n    7  import { spawn, wait4, WNOHANG } from './spawn.js';\n    8  import { log } from './log.js';\n    9  \n   10  function main(...args) {\n   11    const debug = args.indexOf('-x') != -1;\n   12    args = args.filter(arg => !/^-[x]/.test(arg));\n   13    let pid;\n   14  \n   15    if(args.length == 0) {\n   16      pid = spawn(\n   17        'server.js',\n   18        ['localhost', 30000],\n   19        null //      scriptArgs[0].replace(/.*\\//g, '').replace('.js', '.log')\n   20      );\n   21      sleep(1000);\n   22      args.push('wss://localhost:30000/ws');\n   23    }\n   24  \n   25    /*setLog(\n   26      LLL_ALL,\n   27      (() => {\n   28        let lf = open('test-client.log', 'w');\n   29        return (level, msg) => {\n   30          log(logLevels[level].padEnd(10) + msg);\n   31          puts('LOG: ' + msg);\n   32          lf.puts(logLevels[level].padEnd(10) + msg + '\\n');\n   33          lf.flush();\n   34        };\n   35      })()\n   36    );*/\n   37  \n   38    (async function() {\n   39      for(let arg of args) {\n   40        let result, gen;\n   41  \n   42        result = Client(\n   43          arg,\n   44          {\n   45            block: false,\n   46            onConnect(ws, req) {\n   47              log('onConnect', { ws, req });\n   48  \n   49              if(req?.url?.protocol) {\n   50                const { protocol } = req.url;\n   51                log('protocol', protocol);\n   52  \n   53                if(!protocol.startsWith('http')) {\n   54                  if(protocol.startsWith('ws')) {\n   55                    setReadHandler(0, () => {\n   56                      stdout.puts(`\\r\\x1b[0;37m>`);\n   57                      stdout.flush();\n   58                      let line = stdin.getline();\n   59  \n   60                      if(line.length) {\n   61                        let s = line;\n   62                        let result = ws.send(line);\n   63                        log('result:', { result, s });\n   64                        result.then(() => log('Sent:', { s }));\n   65                        stdout.puts(`\\x1b[0m\\n`);\n   66                        stdout.flush();\n   67                      }\n   68                    });\n   69                  } else {\n   70                    ttySetRaw(0);\n   71                    setReadHandler(0, () => {\n   72                      let b = stdin.getByte();\n   73                      if(b == 13) b = 10;\n   74                      else if(b == 127) b = 8;\n   75                      else if(b < 32 || b > 'z'.charCodeAt(0)) stdout.puts('char: ' + b);\n   76                      stdout.putByte(b);\n   77                      stdout.flush();\n   78  \n   79                      ws.send(String.fromCharCode(b));\n   80                    });\n   81                  }\n   82                }\n   83              }\n   84  \n   85              signal(SIGINT, () => {\n   86                console.log('SIGINT', terminate(0, false));\n   87                ws.close();\n   88                exit(0);\n   89              });\n   90            },\n   91            onClose(ws, status, reason, error) {\n   92              //log('onClose', { ws, status, reason, error });\n   93              terminate(0);\n   94            },\n   95            onError(ws, error) {\n   96              log('onError', { ws, error });\n   97              terminate(1);\n   98            },\n   99            onMessage(ws, msg) {\n  100              log('onMessage', { ws, msg });\n  101              stdout.puts(`\\r\\x1b[1;34m< ${escape(msg)}\\x1b[0m\\n`);\n  102              stdout.flush();\n  103              // ws.close(1000);\n  104            }\n  105          },\n  106          debug ? LLL_INFO - 1 : LLL_USER\n  107        );\n  108  \n  109        /*log('result', result);\n  110        log('result[Symbol.asyncIterator]', result[Symbol.asyncIterator]);*/\n  111  \n  112        let file = (await result.remoteName) || 'output.txt';\n  113  \n  114        log('file', file);\n  115  \n  116        save(result.readable, file /*?? 'output.txt'*/);\n  117  \n  118        /*for await(let chunk of result.readable)\n  119          log('chunk', chunk.length);*/\n  120      }\n  121    })();\n  122  \n  123    function terminate(code = 0, ex = true) {\n  124      let status;\n  125      if(pid > 0) {\n  126        kill(pid, 9);\n  127        wait4(pid, st => ((status = st), console.log(`exited: status=${status}`)));\n  128      }\n  129      if(ex) exit(code);\n  130      else return status;\n  131    }\n  132  }\n  133  \n  134  try {\n  135    main(...scriptArgs.slice(1));\n  136  } catch(error) {\n  137    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n  138    exit(1);\n  139  }\n  140  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/test-server-ws.js:\n    1  import { exit } from 'std';\n    2  import { kill, SIGTERM, sleep, WNOHANG } from 'os';\n    3  import { assert, randStr } from './common.js';\n    4  import { spawn, wait4 } from './spawn.js';\n    5  import Client from './client.js';\n    6  import { log } from './log.js';\n    7  \n    8  function TestClient(url) {\n    9    const message = randStr(100);\n   10  \n   11    return Client(url, {\n   12      onConnect(ws, req) {\n   13        log('onConnect', { ws, req });\n   14        ws.send(message);\n   15      },\n   16      onClose(ws, reason) {\n   17        log('onClose', { ws, reason });\n   18        exit(0);\n   19      },\n   20      onError(ws, error) {\n   21        log('onError', { ws, error });\n   22        exit(1);\n   23      },\n   24      onMessage(ws, msg) {\n   25        log('onMessage', { ws, msg });\n   26        const exitCode = +!(`ECHO: ${message}` == msg);\n   27        ws.close(1000 + exitCode);\n   28      }\n   29    });\n   30  }\n   31  \n   32  function main(...args) {\n   33    let pid = spawn('server.js', ['localhost', 30000], scriptArgs[0].replace(/.*\\//g, '').replace('.js', '.log'));\n   34    let status = [];\n   35  \n   36    sleep(100);\n   37  \n   38    TestClient('ws://localhost:30000/ws');\n   39  \n   40    kill(pid, SIGTERM);\n   41    wait4(pid, status, WNOHANG);\n   42    log('status', status);\n   43  }\n   44  \n   45  try {\n   46    main(...scriptArgs.slice(1));\n   47  } catch(error) {\n   48    log(`FAIL: ${error && error.message}\\n${error && error.stack}`);\n   49    exit(1);\n   50  }\n   51  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/log.js:\n    1  import { setLog, URL, LLL_ERR, LLL_WARN, LLL_NOTICE, LLL_INFO, LLL_DEBUG, LLL_PARSER, LLL_HEADER, LLL_EXT, LLL_CLIENT, LLL_LATENCY, LLL_USER, LLL_THREAD } from 'net.so';\n    2  import { err } from 'std';\n    3  \n    4  let logName;\n    5  \n    6  export const Levels = (() => {\n    7    const llObj = {\n    8      LLL_ERR,\n    9      LLL_WARN,\n   10      LLL_NOTICE,\n   11      LLL_INFO,\n   12      LLL_DEBUG,\n   13      LLL_PARSER,\n   14      LLL_HEADER,\n   15      LLL_EXT,\n   16      LLL_CLIENT,\n   17      LLL_LATENCY,\n   18      LLL_USER,\n   19      LLL_THREAD\n   20    };\n   21    return Object.keys(llObj).reduce((acc, n) => {\n   22      let v = Math.log2(llObj[n]);\n   23      if(Math.floor(v) === v) acc[llObj[n]] = n.substring(4);\n   24      return acc;\n   25    }, {});\n   26  })();\n   27  \n   28  export const isDebug = () => scriptArgs.some(a => /^-[dx]/.test(a));\n   29  export const DebugCallback = fn => (isDebug() ? fn : () => {});\n   30  \n   31  export const DefaultLevels =\n   32    LLL_ERR | LLL_WARN | LLL_NOTICE | LLL_INFO | LLL_CLIENT | LLL_LATENCY | LLL_USER | LLL_THREAD;\n   33  \n   34  export const Init = (name, mask = LLL_USER | ((LLL_CLIENT << 1) - 1)) => {\n   35    if(typeof name == 'string') logName = name;\n   36    setLog(\n   37      mask,\n   38      DebugCallback((level, msg) => {\n   39        let l = Levels[level];\n   40        /*  if(!(level & mask)) return;\n   41        if(level >= LLL_NOTICE && level <= LLL_EXT) return;*/\n   42        if(l == 'USER') l = name ?? l;\n   43        err.puts(`${l.padEnd(10)} ${msg}\\n`);\n   44      })\n   45    );\n   46  };\n   47  \n   48  export const SetLog = (name, maxLevel = LLL_CLIENT) => {\n   49    if(typeof name == 'string') logName = name;\n   50  \n   51    setLog(LLL_USER | ((maxLevel << 1) - 1), (level, msg) => {\n   52      let l = Levels[level] ?? 'UNKNOWN';\n   53      if(l == 'USER') l = name ?? l;\n   54      err.puts(('X', l).padEnd(9) + msg.replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n'));\n   55    });\n   56  };\n   57  \n   58  export const log = (() => {\n   59    logName ??= scriptArgs[0].replace(/.*\\//g, '');\n   60    let cons = console;\n   61    import('console').then(({ Console }) => {\n   62      globalThis.console = cons = new Console(\n   63        /*err, */ {\n   64          inspectOptions: { compact: 1, depth: 10, customInspect: true, maxStringLength: 1000, colors: true }\n   65        }\n   66      );\n   67    });\n   68    return (...args) => cons.log(logName + ':', ...args);\n   69  })();\n   70  \n\n~/Projects/plot-cv/quickjs/qjs-net/tests/spawn.js:\n    1  import { readlink, open, O_WRONLY, O_CREAT, O_TRUNC, exec, close, waitpid } from 'os';\n    2  export { WNOHANG } from 'os';\n    3  \n    4  export const getexe = () => readlink('/proc/self/exe')[0];\n    5  export const thisdir = () => {\n    6    let [argv0] = scriptArgs;\n    7    let re = /\\/[^\\/]*$/;\n    8    if(re.test(argv0)) return argv0.replace(re, '');\n    9    return '.';\n   10  };\n   11  \n   12  export function spawn(script, args = [], log) {\n   13    let argv = [getexe(), thisdir() + '/' + script].concat(args);\n   14    let fd;\n   15    let pid = exec(argv, {\n   16      block: false,\n   17      usePath: false,\n   18      file: argv[0],\n   19      ...(() => {\n   20        let o = {};\n   21        if(log) {\n   22          fd = open(log, O_WRONLY | O_CREAT | O_TRUNC, 0o644);\n   23          console.log('opened', log, fd);\n   24          o.stdin = o.stdout = o.stderr = fd;\n   25        }\n   26        return o;\n   27      })()\n   28    });\n   29    if(fd) close(fd);\n   30    return pid;\n   31  }\n   32  \n   33  export function wait4(pid, status, options = 0) {\n   34    let [ret, st] = waitpid(pid, options);\n   35  \n   36    ({\n   37      array: st => status.splice(0, status.length, st),\n   38      object: st => (status.status = st),\n   39      function: st => status(st)\n   40    }[Array.isArray(status) ? 'array' : typeof status](st));\n   41    return ret;\n   42  }\n   43  \n\n~/Projects/plot-cv/quickjs/qjs-net/js/minnet.js:\n    1  import { FormParser, Generator, Hash, LLL_ALL, LLL_CLIENT, LLL_DEBUG, LLL_ERR, LLL_EXT, LLL_HEADER, LLL_INFO, LLL_LATENCY, LLL_NOTICE, LLL_PARSER, LLL_THREAD, LLL_USER, LLL_WARN, METHOD_DELETE, METHOD_GET, METHOD_HEAD, METHOD_OPTIONS, METHOD_PATCH, METHOD_POST, METHOD_PUT, Request, Response, Ringbuffer, Socket, URL, client, default, fetch, getSessions, logLevels, server, setLog } from 'net';\n    2  \n    3  \n    4  console.log('Request',Request);\n    5  delete Request.prototype.text;\n    6  Request.prototype.text = async function text() {}\n    7  \n    8  export { FormParser, Generator, Hash, LLL_ALL, LLL_CLIENT, LLL_DEBUG, LLL_ERR, LLL_EXT, LLL_HEADER, LLL_INFO, LLL_LATENCY, LLL_NOTICE, LLL_PARSER, LLL_THREAD, LLL_USER, LLL_WARN, METHOD_DELETE, METHOD_GET, METHOD_HEAD, METHOD_OPTIONS, METHOD_PATCH, METHOD_POST, METHOD_PUT, Request, Response, Ringbuffer, Socket, URL, client, default, fetch, getSessions, logLevels, server, setLog } from 'net';\n    9  \n\n~/Projects/plot-cv/quickjs/qjs-net/js/debugger-client.js:\n    1  import { WebSocketClient } from './lib/net/websocket-async.js';\n    2  import Util from './lib/util.js';\n    3  import path from './lib/path.js';\n    4  import { DebuggerProtocol } from './debuggerprotocol.js';\n    5  /* prettier-ignore */ import { toString, toArrayBuffer, extendArray } from './lib/misc.js';\n    6  /* prettier-ignore */ import React, {h, html, render, Fragment, Component, useState, useLayoutEffect, useRef } from './lib/dom/preactComponent.js';\n    7  /* prettier-ignore */ import { EventEmitter, EventTarget } from './lib/events.js';\n    8  /* prettier-ignore */ import { DroppingBuffer, FixedBuffer, MAX_QUEUE_LENGTH, Repeater, RepeaterOverflowError, SlidingBuffer } from './lib/repeater/repeater.js';\n    9  /* prettier-ignore */ import { useAsyncIter, useRepeater, useResult, useValue } from './lib/repeater/react-hooks.js';\n   10  /* prettier-ignore */ import { TimeoutError, delay, interval, timeout } from './lib/repeater/timers.js';\n   11  /* prettier-ignore */ import { InMemoryPubSub } from './lib/repeater/pubsub.js';\n   12  /* prettier-ignore */ import { semaphore, throttler } from './lib/repeater/limiters.js';\n   13  import { trkl } from './lib/trkl.js';\n   14  import { classNames } from './lib/classNames.js';\n   15  /* prettier-ignore */ import { HSLA, RGBA, Point, isPoint, Size, isSize, Line, isLine, Rect, isRect, PointList, Polyline, Matrix, isMatrix, BBox, TRBL, Timer, Tree, Node, XPath, Element, isElement, CSS, SVG, Container, Layer, Renderer, Select, ElementPosProps, ElementRectProps, ElementRectProxy, ElementSizeProps, ElementWHProps, ElementXYProps, Align, Anchor, dom, isNumber, Unit, ScalarValue, ElementTransformation, CSSTransformSetters, Transition, TransitionList, RandomColor } from './lib/dom.js';\n   16  /* prettier-ignore */ import { useClick, useIterable, useIterator, useAsyncGenerator, useAsyncIterable, useAsyncIterator, useGenerator, useActive, useClickout, useConditional, useDebouncedCallback, useDebounce, useDimensions, useDoubleClick, useElement, EventTracker, useEvent, useFocus, useForceUpdate, useGetSet, useHover, useMousePosition, useToggleButtonGroupState, useTrkl, useFetch } from './lib/hooks.js';\n   17  /* prettier-ignore */ import { clamp, identity, noop, compose, maybe, snd, toPair, getOffset, getPositionOnElement, isChildOf } from './lib/hooks.js';\n   18  import { JSLexer, Location } from './lib/jslexer.js';\n   19  import { Chooser, DynamicLabel, Button, FileList, Panel, SizedAspectRatioBox, TransformedElement, Canvas, ColorWheel, Slider, CrossHair, FloatingPanel, DropDown, Conditional, Fence, Zoomable, DisplayList, Ruler, Toggle } from './components.js';\n   20  \n   21  let cwd = '.';\n   22  let responses = {};\n   23  let currentSource = trkl(null);\n   24  let currentLine = trkl(-1);\n   25  let url;\n   26  let seq = 0;\n   27  \n   28  currentSource.id = 'currentSource';\n   29  currentLine.id = 'currentLine';\n   30  \n   31  currentSource.subscribe(source => console.log('currentSource set to', source));\n   32  currentLine.subscribe(line => console.log('currentLine set to', line));\n   33  \n   34  const doRender = Util.memoize(RenderUI);\n   35  \n   36  window.addEventListener('load', e => {\n   37    url = Util.parseURL();\n   38    console.log('URL', url);\n   39    let socketURL = Util.makeURL({\n   40      location: url.location + '/ws',\n   41      protocol: url.protocol == 'https' ? 'wss' : 'ws'\n   42    });\n   43  \n   44    (async () => {\n   45      globalThis.ws = await CreateSocket(socketURL);\n   46      console.log(`Loaded`, { socketURL, ws });\n   47    })();\n   48  });\n   49  \n   50  globalThis.addEventListener('keypress', e => {\n   51    const handler = {\n   52      KeyN: Next,\n   53      KeyI: StepIn,\n   54      KeyO: StepOut,\n   55      KeyC: Continue,\n   56      KeyP: Pause\n   57    }[e.code];\n   58    //console.log('keypress', e, handler);\n   59  \n   60    if(handler) handler();\n   61  });\n   62  \n   63  /******************************************************************************\n   64   * Components                                                                 *\n   65   ******************************************************************************/\n   66  const SourceLine = ({ lineno, text, active, children }) =>\n   67    h(Fragment, {}, [\n   68      h(\n   69        'pre',\n   70        {\n   71          class: classNames('lineno', active && 'active', ['even', 'odd'][lineno % 2])\n   72        },\n   73        h('a', { name: `line-${lineno}` }, [lineno + ''])\n   74      ),\n   75      h('pre', { class: classNames('text', active && 'active'), innerHTML: text })\n   76    ]);\n   77  \n   78  const SourceText = ({ text, filename }) => {\n   79    const activeLine = useTrkl(currentLine);\n   80    let tokens, lines;\n   81  \n   82    try {\n   83      tokens = TokenizeJS(text, filename);\n   84      lines = [...tokens];\n   85    } catch(e) {\n   86      console.log('Error tokenizing:', e.message);\n   87    }\n   88  \n   89    lines ??= text.split(/\\n/g).map(line => [[null, line]]);\n   90  \n   91    return h(\n   92      Fragment,\n   93      {},\n   94      lines.reduce((acc, tokens, i) => {\n   95        const text = tokens\n   96          .map(([type, token]) => [type, token.replace(/ /g, '\\xa0')])\n   97          .reduce((acc, [type, token]) => {\n   98            acc.push(type == 'whitespace' ? token : `<span class=\"${type}\">${token}</span>`);\n   99            return acc;\n  100          }, []);\n  101  \n  102        //console.log('text',text);\n  103        acc.push(h(SourceLine, { lineno: i + 1, text: text.join(''), active: activeLine == i + 1 }, text));\n  104  \n  105        return acc;\n  106      }, [])\n  107    );\n  108  };\n  109  \n  110  const SourceFile = props => {\n  111    console.log('props.file', currentSource());\n  112    const file = useTrkl(currentSource);\n  113    console.log('file', file);\n  114    const filename = file ? path.relative(cwd, file, cwd) : null;\n  115    let text =\n  116      (file &&\n  117        !/^<.*>$/.test(file) &&\n  118        useFetch(filename, resp => {\n  119          console.log('Fetch', resp.status, Util.makeURL({ location: '/' + filename }));\n  120          return resp.text();\n  121        })) ||\n  122      '';\n  123  \n  124    return h('div', { class: 'container' }, [\n  125      h('div', {}, []),\n  126      h('div', { class: 'header' }, [filename]),\n  127      h(SourceText, { text, filename })\n  128    ]);\n  129  };\n  130  \n  131  /******************************************************************************\n  132   * End of Components                                                          *\n  133   ******************************************************************************/\n  134  \n  135  async function LoadSource(filename) {\n  136    try {\n  137      let response = await fetch(filename);\n  138      return await response.text();\n  139    } catch(e) {}\n  140  }\n  141  \n  142  /* prettier-ignore */ Object.assign(globalThis, { Connect,DebuggerProtocol, LoadSource, Util, toString, toArrayBuffer, extendArray, React, h, html, render, Fragment, Component, useState, useLayoutEffect, useRef, EventEmitter, EventTarget, Element, isElement, path });\n  143  /* prettier-ignore */ Object.assign(globalThis, { DroppingBuffer, FixedBuffer, MAX_QUEUE_LENGTH, Repeater, RepeaterOverflowError, SlidingBuffer, useAsyncIter, useRepeater, useResult, useValue, TimeoutError, delay, interval, timeout, InMemoryPubSub, semaphore, throttler, trkl });\n  144  /* prettier-ignore */ Object.assign(globalThis, { HSLA, RGBA, Point, isPoint, Size, isSize, Line, isLine, Rect, isRect, PointList, Polyline, Matrix, isMatrix, BBox, TRBL, Timer, Tree, Node, XPath, Element, isElement, CSS, SVG, Container, Layer, Renderer, Select, ElementPosProps, ElementRectProps, ElementRectProxy, ElementSizeProps, ElementWHProps, ElementXYProps, Align, Anchor, dom, isNumber, Unit, ScalarValue, ElementTransformation, CSSTransformSetters, Transition, TransitionList, RandomColor });\n  145  /* prettier-ignore */ Object.assign(globalThis, {   useIterable, useIterator, useAsyncGenerator, useAsyncIterable, useAsyncIterator, useGenerator, useActive, useClickout, useConditional, useDebouncedCallback, useDebounce, useDimensions, useDoubleClick, useElement, EventTracker, useEvent, useFocus, useForceUpdate, useGetSet, useHover, useMousePosition, useToggleButtonGroupState, useTrkl, useFetch });\n  146  /* prettier-ignore */ Object.assign(globalThis, { clamp, identity, noop, compose, maybe, snd, toPair, getOffset, getPositionOnElement, isChildOf });\n  147  /* prettier-ignore */ Object.assign(globalThis, { RenderUI, Start, GetVariables, SendRequest, StepIn,StepOut, Next, Continue, Pause, Evaluate, StackTrace });\n  148  /* prettier-ignore */ Object.assign(globalThis, {JSLexer, Location});\n  149  \n  150  function Start(args, address) {\n  151    return Initiate('start', address, false, args);\n  152  }\n  153  \n  154  function Connect(address) {\n  155    return Initiate('connect', address, true);\n  156  }\n  157  \n  158  function Initiate(command, address, connect = false, args) {\n  159    address ??= `${url.query.address ?? '127.0.0.1'}:${url.query.port ?? 9901}`;\n  160    console.log('Initiate', { command, address, connect, args });\n  161    return ws.send(JSON.stringify({ command, connect, address, args }));\n  162  }\n  163  \n  164  const tokenColors = {\n  165    comment: new RGBA(0, 255, 0),\n  166    regexpLiteral: new RGBA(255, 0, 255),\n  167    templateLiteral: new RGBA(0, 255, 255),\n  168    punctuator: new RGBA(0, 255, 255),\n  169    numericLiteral: new RGBA(0, 255, 255),\n  170    stringLiteral: new RGBA(0, 255, 255),\n  171    booleanLiteral: new RGBA(255, 255, 0),\n  172    nullLiteral: new RGBA(255, 0, 255),\n  173    keyword: new RGBA(255, 0, 0),\n  174    identifier: new RGBA(255, 255, 0),\n  175    privateIdentifier: new RGBA(255, 255, 0),\n  176    whitespace: new RGBA(255, 255, 255)\n  177  };\n  178  \n  179  function* TokenizeJS(data, filename) {\n  180    let lex = new JSLexer();\n  181    lex.setInput(data, filename);\n  182  \n  183    let { tokens } = lex;\n  184    let colors = Object.entries(tokenColors).reduce(\n  185      (acc, [type, c]) => ({ ...acc, [tokens.indexOf(type) + 1]: c.hex() }),\n  186      {}\n  187    );\n  188    let prev = {};\n  189    let out = [];\n  190    for(let { id, lexeme, line } of lex) {\n  191      const type = tokens[id - 1];\n  192      let { line } = lex.loc;\n  193      line -= lexeme.split(/\\n/g).length - 1;\n  194  \n  195      //console.log('tok', { id, lexeme, line });\n  196  \n  197      if(prev.line != line) {\n  198        for(let i = prev.line; i < line; i++) {\n  199          yield out;\n  200          out = [];\n  201        }\n  202      }\n  203  \n  204      for(let s of lexeme.split(/\\n/g).reduce((acc, l) => {\n  205        if(l != '') {\n  206          if(acc.length) acc[acc.length - 1] += '\\n';\n  207          acc.push(l);\n  208        }\n  209        return acc;\n  210      }, [])) {\n  211        out.push([type, s]);\n  212        if(s.endsWith('\\n')) {\n  213          yield out;\n  214          out = [];\n  215          line++;\n  216        }\n  217      }\n  218  \n  219      prev.line = line;\n  220      line = lex.loc;\n  221    }\n  222    out += '</pre>';\n  223  }\n  224  \n  225  Object.assign(globalThis, {\n  226    responses,\n  227    currentLine,\n  228    currentSource,\n  229    TokenizeJS\n  230  });\n  231  Object.assign(globalThis, { Start, Initiate, LoadSource, GetVariables });\n  232  \n  233  async function CreateSocket(endpoint) {\n  234    let ws = (globalThis.ws = new WebSocketClient());\n  235  \n  236    console.log('ws', ws);\n  237    await ws.connect(endpoint);\n  238  \n  239    (async function ReadSocket() {\n  240      for await(let msg of ws) {\n  241        let data;\n  242        try {\n  243          data = JSON.parse(msg.data);\n  244        } catch(e) {\n  245          console.log('WS ERROR parsing', msg.data);\n  246        }\n  247        globalThis.response = data;\n  248        if(data) {\n  249          console.log('ws received ', data);\n  250          const { response, request_seq } = data;\n  251          if(response) {\n  252            const { command } = response;\n  253  \n  254            /* if(command == 'file') {\n  255              const { path, data } = response;\n  256              CreateSource(data, path);\n  257              continue;\n  258            } else*/\n  259  \n  260            if(['start', 'connect'].indexOf(command) >= 0) {\n  261              cwd = response.cwd;\n  262  \n  263              console.log('command:', command);\n  264              console.log('response:', response);\n  265  \n  266              if(response.args[0]) {\n  267                currentSource(response.args[0]);\n  268              } else {\n  269                UpdatePosition();\n  270              }\n  271              RenderUI();\n  272              continue;\n  273            }\n  274  \n  275            if(command == 'start') {\n  276              cwd = response.cwd;\n  277              console.log('start', response);\n  278              RenderUI(response.args[0]);\n  279              continue;\n  280            }\n  281          }\n  282  \n  283          if(responses[request_seq]) responses[request_seq](data);\n  284        } else {\n  285          console.log('WS', data);\n  286        }\n  287        if(['end', 'error'].indexOf(data.type) >= 0) {\n  288          document.body.innerHTML = '';\n  289          continue;\n  290        }\n  291      }\n  292    })();\n  293  \n  294    ws.sendMessage = function(msg) {\n  295      return this.send(JSON.stringify(msg));\n  296    };\n  297  \n  298    if(url.query.port) await Connect();\n  299    else await Start([url.query.script ?? 'test-video.js', 'test.jpg']);\n  300  \n  301    return ws;\n  302  }\n  303  \n  304  function GetVariables(ref = 0) {\n  305    return SendRequest('variables', { variablesReference: ref });\n  306  }\n  307  \n  308  async function UpdatePosition() {\n  309    const stack = (globalThis.stack = await StackTrace());\n  310    console.log('stack', stack);\n  311  \n  312    const { filename, line, name } = stack[0];\n  313  \n  314    currentSource(filename);\n  315    //  RenderUI(filename);\n  316    currentLine(line);\n  317  \n  318    RenderUI();\n  319  \n  320    // doRender(currentSource);\n  321  \n  322    window.location.hash = `#line-${line}`;\n  323  }\n  324  \n  325  async function StepIn() {\n  326    await SendRequest('stepIn');\n  327    await UpdatePosition();\n  328  }\n  329  \n  330  async function StepOut() {\n  331    await SendRequest('stepOut');\n  332    await UpdatePosition();\n  333  }\n  334  \n  335  async function Next() {\n  336    await SendRequest('next');\n  337    await UpdatePosition();\n  338  }\n  339  \n  340  async function Continue() {\n  341    return SendRequest('continue');\n  342  }\n  343  \n  344  async function Pause() {\n  345    await SendRequest('pause');\n  346    await UpdatePosition();\n  347  }\n  348  \n  349  async function Evaluate(expression) {\n  350    return SendRequest('evaluate', { expression });\n  351  }\n  352  \n  353  async function StackTrace() {\n  354    let { body } = await SendRequest('stackTrace');\n  355    return body;\n  356  }\n  357  \n  358  /*\n  359    {\n  360      \"type\": \"breakpoints\",\n  361      \"breakpoints\": {\n  362        \"path\": \"lib/ecmascript/parser2.js\",\n  363        \"breakpoints\": [ { \"line\": 470, \"column\": 0 }, { \"line\": 2151, \"column\": 0 }, { \"line\": 2401, \"column\": 0 } ]\n  364      }\n  365    }\n  366  */\n  367  \n  368  function SendRequest(command, args = {}) {\n  369    const request_seq = ++seq;\n  370    ws.sendMessage({ type: 'request', request: { request_seq, command, args } });\n  371    return new Promise((resolve, reject) => (responses[request_seq] = resolve));\n  372  }\n  373  \n  374  /*const Button = ({image}) => {\n  375  const ref = useClick(e => {\n  376    console.log('click!!!!');\n  377  });\n  378   return  h('button', { ref, class: 'button' }, h('img', { src: image }));\n  379  }*/\n  380  /*\n  381  \n  382  const ButtonBar=  ({children}) => \n  383  h('div', {class: 'button-bar' }, children);*/\n  384  \n  385  function RenderUI() {\n  386    console.log('RenderUI');\n  387    /* if(currentSource() != file) \n  388      currentSource(file);*/\n  389  \n  390    const component = h(Fragment, {}, [\n  391      h(Panel, { className: classNames('buttons', 'no-select'), tag: 'header' }, [\n  392        h(Button, { image: 'static/svg/continue.svg', fn: Continue }),\n  393        h(Button, { image: 'static/svg/pause.svg', fn: Pause }),\n  394        //h(Button, {image: 'static/svg/start.svg'}),\n  395        h(Button, {\n  396          image: 'static/svg/step-into.svg',\n  397          fn: StepIn\n  398        }),\n  399        h(Button, {\n  400          image: 'static/svg/step-out.svg',\n  401          fn: StepOut\n  402        }),\n  403        h(Button, { image: 'static/svg/step-over.svg', fn: Next })\n  404        //   h(Button, { image: 'static/svg/restart.svg' }),\n  405        //h(Button, {image: 'static/svg/stop.svg', enable: trkl(false)}),\n  406      ]),\n  407      h('main', {}, h(SourceFile, { file: currentSource })),\n  408      h('footer', {}, [])\n  409    ]);\n  410    const { body } = document;\n  411    let r = render(component, body);\n  412    console.log('rendered', r);\n  413  }\n  414  \n\n~/Projects/plot-cv/quickjs/qjs-net/js/event-emitter.js:\n    1  const indexOf = (haystack, needle) => Array.prototype.indexOf.call(haystack, needle);\n    2  \n    3  export class EventEmitter {\n    4    #events = {};\n    5  \n    6    constructor() {}\n    7  \n    8    on(event, listener) {\n    9      if(!Array.isArray(this.#events[event])) this.#events[event] = [];\n   10      this.#events[event].push(listener);\n   11    }\n   12  \n   13    removeListener(event, listener) {\n   14      const handlers = this.#events[event];\n   15      if(Array.isArray(handlers)) {\n   16        const idx = indexOf(handlers, listener);\n   17        if(idx > -1) {\n   18          handlers.splice(idx, 1);\n   19          if(handlers.length == 0) delete this.#events[event];\n   20        }\n   21      }\n   22    }\n   23  \n   24    removeAllListeners(event) {\n   25      if(event) {\n   26        if(Array.isArray(this.#events[event])) delete this.#events[event];\n   27      } else {\n   28        this.#events = {};\n   29      }\n   30    }\n   31  \n   32    rawListeners(event) {\n   33      if(Array.isArray(this.#events[event])) return [...this.#events[event]];\n   34    }\n   35  \n   36    emit(event, ...args) {\n   37      const handlers = this.#events[event];\n   38      if(Array.isArray(handlers)) for(let handler of handlers) handler.apply(this, args);\n   39    }\n   40  \n   41    once(event, listener) {\n   42      const callback = (...args) => {\n   43        this.removeListener(event, callback);\n   44        listener.apply(this, args);\n   45      };\n   46      callback.listener = listener;\n   47      this.on(event, callback);\n   48    }\n   49  }\n   50  \n   51  EventEmitter.prototype[Symbol.toStringTag] = 'EventEmitter';\n   52  \n\n~/Projects/plot-cv/quickjs/qjs-net/js/rpc.js:\n    1  import { EventEmitter } from './event-emitter.js';\n    2  \n    3  let sockId;\n    4  \n    5  export const LogWrap = (globalThis.LogWrap = function LogWrap(log) {\n    6    if(typeof log == 'string') {\n    7      let str = log;\n    8      log = (...args) => console.log(str, ...args);\n    9    } else if(!log) {\n   10      log = (...args) => console.log(...args);\n   11    }\n   12    return (value, ...args) => (log(value, ...args), value);\n   13  });\n   14  \n   15  export const VfnAdapter = vfn => ({\n   16    get: k => vfn(k),\n   17    set: (k, v) => vfn(k, v)\n   18  });\n   19  \n   20  export const VfnDecorator = vfn => define(vfn, VfnAdapter(vfn));\n   21  \n   22  /*export const DebugFlags = (globalThis.DebugFlags = memoize((environ = (globalThis.process && process.env['DEBUG']) || '') => {\n   23    let a = Array.isArray(environ) ? environ : environ.split(/[^A-Za-z0-9_]+/g);\n   24    a = a.filter(n => n !== '');\n   25    a = a.reduce((acc, n) => {\n   26      acc[n] = true;\n   27      return acc;\n   28    }, {});\n   29    return a;\n   30  }));*/\n   31  \n   32  globalThis.GetClasses = function* GetClasses(obj) {\n   33    let keys = GetKeys(obj);\n   34  \n   35    for(let name of keys) {\n   36      try {\n   37        if(typeof obj[name] == 'function' && 'prototype' in obj[name]) yield [name, obj[name]];\n   38      } catch(e) {}\n   39    }\n   40  \n   41    // console.log(\"desc:\", desc);\n   42    return desc;\n   43  };\n   44  \n   45  export function Mapper(map = new WeakMap()) {\n   46    let self;\n   47    self = function(key, value) {\n   48      if(value === undefined) value = map.get(key);\n   49      else map.set(key, value);\n   50      return value;\n   51    };\n   52    return Object.setPrototypeOf(self, Mapper.prototype);\n   53  }\n   54  \n   55  Mapper.prototype = function() {};\n   56  Mapper.prototype.constructor = Mapper;\n   57  \n   58  export function DefaultConstructor(mapper, fn = (...args) => new Object(...args)) {\n   59    let self;\n   60    self = function(...args) {\n   61      let [key, value] = args;\n   62      if(args.length <= 1) {\n   63        if(!(value = map.get(key))) {\n   64          value = fn(...args.slice(1));\n   65          map.set(key, value);\n   66        }\n   67      } else {\n   68        map.set(key, value);\n   69      }\n   70      return value;\n   71    };\n   72    return Object.setPrototypeOf(self, DefaultConstructor.prototype);\n   73  }\n   74  \n   75  DefaultConstructor.prototype = function() {};\n   76  DefaultConstructor.prototype.constructor = DefaultConstructor;\n   77  \n   78  export function EventLogger(\n   79    instance = {},\n   80    callback = (name, event, thisObj) => console.log('EventLogger', { name, event, thisObj })\n   81  ) {\n   82    function WrapEvent(handler, name) {\n   83      return function(e) {\n   84        return callback(name, e, this);\n   85      };\n   86    }\n   87  \n   88    return new Proxy(instance, {\n   89      get(obj, prop) {\n   90        if(prop.startsWith('on')) {\n   91          return WrapEvent(obj[prop], prop.slice(2));\n   92        }\n   93        return obj[prop];\n   94      }\n   95    });\n   96  }\n   97  \n   98  /** @interface MessageReceiver */\n   99  export class MessageReceiver extends EventEmitter {\n  100    static [Symbol.hasInstance](instance) {\n  101      return 'onmessage' in instance;\n  102    }\n  103  \n  104    /** @abstract */\n  105    onmessage(msg) {\n  106      throw new Error(`MessageReceiver.onmessage unimplemented`);\n  107    }\n  108  }\n  109  \n  110  /** @interface MessageTransmitter */\n  111  export class MessageTransmitter {\n  112    static [Symbol.hasInstance](instance) {\n  113      return typeof sendMessage == 'function';\n  114    }\n  115    /** @abstract */\n  116    sendMessage() {\n  117      throw new Error(`MessageReceiver.sendMessage unimplemented`);\n  118    }\n  119  }\n  120  \n  121  /**\n  122   * @interface MessageTransceiver\n  123   * @mixes MessageReceiver\n  124   * @mixes MessageTransmitter\n  125   */\n  126  export function MessageTransceiver() {}\n  127  \n  128  Object.assign(MessageTransceiver.prototype, MessageReceiver.prototype, MessageTransmitter.prototype);\n  129  \n  130  Object.defineProperty(MessageTransceiver, Symbol.hasInstance, {\n  131    value: instance => [MessageReceiver, MessageTransmitter].every(ctor => ctor[Symbol.hasInstance](instance))\n  132  });\n  133  \n  134  const codecs = {\n  135    none() {\n  136      return {\n  137        name: 'none',\n  138        encode: v => v,\n  139        decode: v => v\n  140      };\n  141    },\n  142    json(verbose = false) {\n  143      return {\n  144        name: 'json',\n  145        encode: v => JSON.stringify(v, ...(verbose ? [null, 2] : [])),\n  146        decode: v => JSON.parse(v)\n  147      };\n  148    }\n  149  };\n  150  \n  151  if(globalThis.inspect) {\n  152    codecs.js = function js(verbose = false) {\n  153      return {\n  154        name: 'js',\n  155        encode: v => inspect(v, { colors: false, compact: verbose ? false : -2 }),\n  156        decode: v => eval(`(${v})`)\n  157      };\n  158    };\n  159  }\n  160  \n  161  if(globalThis.bjson) {\n  162    codecs.bjson = function bjson() {\n  163      return {\n  164        name: 'bjson',\n  165        encode: v => bjson.write(v),\n  166        decode: v => bjson.read(v)\n  167      };\n  168    };\n  169  }\n  170  \n  171  export function RPCApi(c) {\n  172    let api;\n  173    api = define(new.target ? this : new RPCApi(c), { connection: c });\n  174  \n  175    return api;\n  176  }\n  177  \n  178  for(let cmd of ['list', 'new', 'methods', 'properties', 'keys', 'names', 'symbols', 'call', 'set', 'get'])\n  179    RPCApi.prototype[cmd] = MakeCommandFunction(cmd, o => o.connection);\n  180  \n  181  export function RPCProxy(c) {\n  182    let obj = define(new.target ? this : new RPCProxy(c), { connection: c });\n  183  \n  184    return new Proxy(obj, {});\n  185  }\n  186  \n  187  export function RPCObject(id, connection) {\n  188    let obj = define(new.target ? this : new RPCObject(id), { connection, id });\n  189    return api.methods({ id }).then(r => Object.assign(obj, r));\n  190  }\n  191  \n  192  RPCObject.prototype[Symbol.toStringTag] = 'RPCObject';\n  193  \n  194  export function RPCFactory(api) {\n  195    async function Factory(opts) {\n  196      if(typeof opts == 'string') {\n  197        const name = opts;\n  198        opts = { class: name };\n  199      }\n  200      let instance = await api.new(opts);\n  201      let { connection } = api;\n  202      let obj = Object.setPrototypeOf({ instance, connection }, RPCObject.prototype);\n  203  \n  204      define(obj, await api.methods(instance));\n  205      return obj;\n  206    }\n  207  \n  208    return Factory;\n  209  }\n  210  \n  211  RPCFactory.prototype = function() {};\n  212  RPCFactory.prototype[Symbol.toStringTag] = 'RPCFactory';\n  213  \n  214  /**\n  215   * @interface Connection\n  216   */\n  217  export class Connection extends MessageTransceiver {\n  218    static fromSocket = new WeakMap();\n  219  \n  220    lastSeq = 0;\n  221  \n  222    static equal(a, b) {\n  223      return (a.socket != null && a.socket === b.socket) || (typeof a.fd == 'number' && a.fd === b.fd);\n  224    }\n  225    static get last() {\n  226      return this.list.last;\n  227    }\n  228  \n  229    makeSeq() {\n  230      return ++this.lastSeq;\n  231    }\n  232  \n  233    constructor(socket, instance, log, codec = 'none') {\n  234      super();\n  235      this.fd = socket.fd;\n  236      define(this, {\n  237        seq: 0,\n  238        socket,\n  239        exception: null,\n  240        log(...args) {\n  241          /*if(DebugFlags()[this[Symbol.toStringTag]]) */ console.log(...args);\n  242        },\n  243        messages: { requests: {}, responses: {} }\n  244      });\n  245      define(this, typeof codec == 'string' && codecs[codec] ? { codecName: codec, codec: codecs[codec]() } : {});\n  246      define(this, typeof codec == 'object' && codec.name ? { codecName: codec.name, codec } : {});\n  247      (this.constructor ?? Connection).set.add(this);\n  248      Connection.fromSocket.set(socket, this);\n  249    }\n  250  \n  251    error(message) {\n  252      const { socket } = this;\n  253      const status = socket.CLOSE_STATUS_PROTOCOL_ERR || 1000;\n  254  \n  255      console.log(`ERROR: ${message}`);\n  256      this.exception = new Error(message);\n  257      console.log('error(', status, message, ')');\n  258      this.close(status, message.slice(0, 128));\n  259      return this.exception;\n  260    }\n  261  \n  262    close(status, reason) {\n  263      const { socket } = this;\n  264      console.log('close(', status, reason, ')');\n  265      socket.close(status, reason);\n  266      delete this.socket;\n  267      delete this.fd;\n  268      this.connected = false;\n  269    }\n  270  \n  271    onmessage(msg) {\n  272      let { codec, codecName } = this;\n  273      if(!msg) return;\n  274      if(typeof msg == 'string' && msg.trim() == '') return;\n  275      this.log('Connection.onmessage', { msg, codec, codecName });\n  276      let data;\n  277      try {\n  278        data = codec.decode((msg && msg.data) || msg);\n  279      } catch(err) {\n  280        throw this.error(`${this.codec.name} parse error: ${(err && err.message) || msg}`);\n  281        return this.exception;\n  282      }\n  283      let response = this.processMessage(data);\n  284      this.log('Connection.onmessage', { data, response });\n  285      if(isThenable(response)) response.then(r => this.sendMessage(r));\n  286      else if(response !== undefined) this.sendMessage(response);\n  287    }\n  288  \n  289    processMessage(data) {\n  290      this.log('Connection', '.processMessage', { data });\n  291      throw new Error('Virtual method');\n  292    }\n  293  \n  294    onconnect(sock) {\n  295      //console.log(\"Connection.onconnect\", sock, this);\n  296    }\n  297  \n  298    onopen = LogWrap('Connection.onopen');\n  299  \n  300    /*  onopen(arg) {\n  301      this.log('Connection.onopen', { arg });\n  302    }*/\n  303  \n  304    onpong(data) {\n  305      console.log('Connection.onpong:', data);\n  306    }\n  307  \n  308    onerror(error) {\n  309      console.log('Connection.onerror', error ? ` (${error})` : '');\n  310      this.connected = false;\n  311      this.cleanup();\n  312    }\n  313  \n  314    onclose(code, why) {\n  315      console.log('Connection.onclose', code, why ? ` (${why})` : '');\n  316      this.connected = false;\n  317      this.cleanup();\n  318    }\n  319  \n  320    cleanup() {\n  321      if(this.instances) for(let id in this.instances) delete this.instances[id];\n  322    }\n  323  \n  324    sendMessage(obj) {\n  325      this.log('Connection.sendMessage', obj);\n  326      if(typeof obj == 'object')\n  327        if(typeof obj.seq == 'number') {\n  328          if(this.messages && this.messages.requests) this.messages.requests[obj.seq] = obj;\n  329        } else {\n  330          obj.seq = this.makeSeq();\n  331        }\n  332      let msg = typeof obj != 'string' ? this.codec.encode(obj) : obj;\n  333  \n  334      this.socket.send(msg);\n  335    }\n  336  \n  337    sendCommand(command, params = {}) {\n  338      let message = { command, ...params };\n  339      this.log('Connection.sendCommand', { command, params, message });\n  340      if(typeof params == 'object' && params != null && typeof params.seq != 'number')\n  341        params.seq = this.seq = (this.seq | 0) + 1;\n  342      if(this.messages && this.messages.requests)\n  343        if(typeof params.seq == 'number') this.messages.requests[params.seq] = message;\n  344      if(this.messages && this.messages.requests) this.messages.requests[params.seq] = message;\n  345      this.sendMessage(message);\n  346    }\n  347  \n  348    static getCallbacks(instance, verbosity = 0) {\n  349      const { classes, fdlist, log } = instance;\n  350      const ctor = this;\n  351      const verbose = verbosity > 1 ? (msg, ...args) => log('VERBOSE ' + msg, args) : () => {};\n  352      //log(`${ctor.name}.getCallbacks`, { instance, log, verbosity });\n  353      const handle = (sock, event, ...args) => {\n  354        let conn, obj;\n  355        if((conn = fdlist[sock.fd])) {\n  356          //verbose(`Handle fd #${sock.fd} ${event}`);\n  357          callHandler(conn, event, ...args);\n  358        } else {\n  359          throw new Error(`No connection for fd #${sock.fd}!`);\n  360        }\n  361        obj = { then: fn => (fn(sock.fd), obj) };\n  362        return obj;\n  363      };\n  364      const remove = sock => {\n  365        const { fd } = sock;\n  366        delete fdlist[fd];\n  367      };\n  368      return {\n  369        onConnect(sock, req) {\n  370          //        verbose(`Connected`,sock);\n  371          let connection = fdlist[sock.fd];\n  372          if(!connection) connection = new ctor(sock, instance, log, 'json', classes);\n  373          connection.socket ??= sock;\n  374          const { url, method, headers } = req;\n  375          verbose(`Connected`, sock, req);\n  376          fdlist[sock.fd] = connection;\n  377          handle(sock, 'connect', sock, req);\n  378        },\n  379        onOpen(sock) {\n  380          verbose(`Opened`, sock, ctor.name);\n  381          fdlist[sock.fd] = new ctor(sock, instance, log, 'json', classes);\n  382          fdlist[sock.fd].socket ??= sock;\n  383          handle(sock, 'open');\n  384        },\n  385        onMessage(sock, msg) {\n  386          verbose(`Message`, sock, msg);\n  387          handle(sock, 'message', msg);\n  388        },\n  389        onError(sock, error) {\n  390          verbose(`Error`, sock, error);\n  391          callHandler(instance, 'error', error);\n  392          handle(sock, 'error', error);\n  393          remove(sock);\n  394        },\n  395        onClose(sock, code, why) {\n  396          verbose(`Closed`, sock, code, why);\n  397          handle(sock, 'close', code, why);\n  398          remove(sock);\n  399        },\n  400        onPong(sock, data) {\n  401          verbose(`Pong`, sock, data);\n  402          handle(sock, 'pong', data);\n  403        }\n  404      };\n  405    }\n  406  }\n  407  \n  408  //inherits(Connection, EventEmitter);\n  409  \n  410  /*define(Connection.prototype, { [Symbol.toStringTag]: 'Connection' });\n  411  weakAssign(Connection.prototype, EventEmitter.prototype);*/\n  412  \n  413  Connection.list = [];\n  414  \n  415  function RPCServerEndpoint(classes = {}) {\n  416    return {\n  417      new({ class: name, args = [] }) {\n  418        this.log('RPCServerEndpoint.new');\n  419        let obj, ret, id;\n  420        try {\n  421          obj = new this.classes[name](...args);\n  422          id = this.makeId();\n  423          this.instances[id] = obj;\n  424        } catch(e) {\n  425          return statusResponse(false, e.message);\n  426        }\n  427        return { success: true, result: { id, name } };\n  428      },\n  429      list() {\n  430        this.log('RPCServerEndpoint.list');\n  431  \n  432        return { success: true, result: Object.keys({ ...classes, ...this.classes }) };\n  433      },\n  434      delete: objectCommand(({ id }, respond) => {\n  435        delete this.instances[id];\n  436        return respond(true);\n  437      }),\n  438      call: objectCommand(({ obj, method, args = [] }, respond) => {\n  439        if(method in obj && typeof obj[method] == 'function') {\n  440          const result = obj[method](...args);\n  441          if(isThenable(result))\n  442            return result.then(result => respond(true, result)).catch(error => respond(false, error));\n  443          return respond(true, result);\n  444        }\n  445        return respond(false, `No such method on object #${id}: ${method}`);\n  446      }),\n  447      keys: objectCommand(({ obj, enumerable = true }, respond) => {\n  448        return respond(\n  449          true,\n  450          GetProperties(obj, enumerable ? obj => Object.keys(obj) : obj => Object.getOwnPropertyNames(obj))\n  451        );\n  452      }),\n  453      names: objectCommand(({ obj, enumerable = true }, respond) => {\n  454        return respond(\n  455          true,\n  456          GetProperties(obj, obj => Object.getOwnPropertyNames(obj))\n  457        );\n  458      }),\n  459      symbols: objectCommand(({ obj, enumerable = true }, respond) => {\n  460        return respond(\n  461          true,\n  462          GetProperties(obj, obj => Object.getOwnPropertySymbols(obj)).map(sym => sym.description)\n  463        );\n  464      }),\n  465      properties: MakeListCommand(v => typeof v != 'function'),\n  466      methods: MakeListCommand(v => typeof v == 'function', { enumerable: false }),\n  467      get: objectCommand(({ obj, property }, respond) => {\n  468        if(property in obj && typeof obj[property] != 'function') {\n  469          const result = obj[property];\n  470          return respond(true, result);\n  471        }\n  472        return respond(false, `No such property on object #${id}: ${property}`);\n  473      }),\n  474      set: objectCommand(({ obj, property, value }, respond) => {\n  475        return respond(true, (obj[property] = value));\n  476      })\n  477    };\n  478  }\n  479  \n  480  export class RPCServer extends Connection {\n  481    constructor(socket, instance, log, codec = codecs.json(false), classes) {\n  482      //log('RPCServer.constructor', { socket, classes, instance, log });\n  483      super(socket, instance, log, codec);\n  484  \n  485      let connection = this;\n  486      define(connection, {\n  487        classes,\n  488        instances: {},\n  489        lastId: 0,\n  490        connected: true,\n  491        messages: { requests: {}, responses: {} },\n  492        commands: RPCServerEndpoint()\n  493      });\n  494  \n  495      RPCServer.set.add(connection);\n  496    }\n  497  \n  498    makeId() {\n  499      return ++this.lastId;\n  500    }\n  501  \n  502    processMessage(data) {\n  503      let fn,\n  504        ret = null;\n  505      if(!('command' in data)) return statusResponse(false, `No command specified`);\n  506      const { command, seq, params } = data;\n  507      const { commands } = this;\n  508      fn = commands[command];\n  509      this.log('RPCServer.processMessage', { command, seq, params });\n  510      if(typeof seq == 'number') this.messages.requests[seq] = data;\n  511      if(typeof fn == 'function') return fn.call(this, data);\n  512      switch (command) {\n  513        default: {\n  514          ret = statusResponse(false, `No such command '${command}'`);\n  515          break;\n  516        }\n  517      }\n  518      return ret;\n  519    }\n  520  }\n  521  \n  522  define(RPCServer.prototype, { [Symbol.toStringTag]: 'RPCServer' });\n  523  \n  524  RPCServer.list = [];\n  525  \n  526  /**\n  527   * @class This class describes a client connection.\n  528   *\n  529   * @class      RPCClient\n  530   * @param      {Object} socket\n  531   * @param      {Object} classes\n  532   * @param      {Object} instance\n  533   * @param      {Function} instance\n  534   *\n  535   */\n  536  export class RPCClient extends Connection {\n  537    constructor(socket, instance, log, codec = codecs.json(false), classes) {\n  538      super(socket, instance, log, codec);\n  539      this.instances = {};\n  540      this.classes = classes;\n  541      this.connected = true;\n  542      RPCClient.set.add(this);\n  543      //this.log('RPCClient.constructor', { socket, instance, log, codec, classes } /*, new Error().stack.replace(/Error\\n?/, '')*/);\n  544      this.on('error', e => console.error('RPCClient', e));\n  545      //this.on('response', r => console.log('RPCClient.onresponse', r));\n  546      let api;\n  547  \n  548      Object.defineProperties(this, {\n  549        api: {\n  550          get() {\n  551            return api ?? (api = new RPCApi(this));\n  552          }\n  553        }\n  554      });\n  555    }\n  556  \n  557    processMessage(response) {\n  558      this.log('RPCClient.processMessage', response, new Error().stack.replace(/Error\\n?/, ''));\n  559      const { success, error, result, seq } = response;\n  560  \n  561      if(success) this.emit('response', result);\n  562      else if(error) this.emit('error', error);\n  563    }\n  564  \n  565    command(name, params) {\n  566      return new Promise((accept, reject) => {\n  567        this.once('response', response => accept(response));\n  568        this.once('error', e => reject(e));\n  569  \n  570        this.sendCommand(name, params);\n  571      });\n  572    }\n  573  }\n  574  \n  575  define(RPCClient.prototype, { [Symbol.toStringTag]: 'RPCClient' });\n  576  \n  577  /**\n  578   * @class Creates new RPC socket\n  579   *\n  580   * @param      {string}     [url=window.location.href]     URL (ws://127.0.0.1) or Port\n  581   * @param      {function}   [service=RPCServer]  The service constructor\n  582   * @return     {RPCSocket}  The RPC socket.\n  583   */\n  584  export function RPCSocket(url, service = RPCServer, verbosity = 1) {\n  585    if(!new.target) return new RPCSocket(url, service, verbosity);\n  586  \n  587    console.log('RPCSocket', { url, service, verbosity });\n  588  \n  589    // const DEBUG = DebugFlags();\n  590    const instance = new.target ? this : new RPCSocket(url, service, verbosity);\n  591    const log = /*console.config\n  592      ? (msg, ...args) => {\n  593          const { console } = globalThis;\n  594          console \n  595            .log(\n  596              { msg },\n  597              console.config({\n  598                multiline: false,\n  599                compact: false,\n  600                maxStringLength: 100,\n  601                stringBreakNewline: false,\n  602                hideKeys: ['obj']\n  603              }),\n  604              ...args\n  605            );\n  606        }\n  607      : console.log; */ (...args) => {\n  608      let tok = (args[0] || '').replace(/[^A-Za-z0-9_].*/g, '');\n  609  \n  610      /*if(DEBUG[tok]) console.debug(...args);\n  611      else */ console.log(...args);\n  612    };\n  613  \n  614    define(instance, {\n  615      get fd() {\n  616        let ret = Object.keys(this.fdlist)[0] ?? -1;\n  617        if(!isNaN(+ret)) ret = +ret;\n  618        return ret;\n  619      },\n  620      get socket() {\n  621        return this.fdlist[this.fd]?.socket;\n  622      },\n  623      get connection() {\n  624        return this.fdlist[this.fd];\n  625      },\n  626      fdlist: {},\n  627      classes: {},\n  628      log\n  629    });\n  630  \n  631    const callbacks = service.getCallbacks(instance, verbosity);\n  632  \n  633    if(!url) url = globalThis.location?.href;\n  634    if(typeof url != 'object') url = parseURL(url);\n  635  \n  636    /*if(url.protocol == 'ws') url.protocol = 'http';\n  637    if(url.protocol == 'wss') url.protocol = 'https';*/\n  638  \n  639    define(instance, {\n  640      service,\n  641      callbacks,\n  642      url,\n  643      log,\n  644      register(ctor) {\n  645        if(typeof ctor == 'object' && ctor !== null) {\n  646          for(let name in ctor) instance.classes[name] = ctor[name];\n  647        } else {\n  648          instance.classes[ctor.name] = ctor;\n  649        }\n  650        return this;\n  651      },\n  652      listen(new_ws, os = globalThis.os) {\n  653        if(!new_ws) new_ws = MakeWebSocket;\n  654        this.log(`${service.name} listening on ${this.url}`);\n  655        if(os) setHandlers(os, callbacks);\n  656        this.listening = true;\n  657        this.ws = new_ws(this.url, callbacks, true);\n  658        if(new_ws !== MakeWebSocket)\n  659          if(this.ws.then) this.ws.then(() => (this.listening = false));\n  660          else this.listening = false;\n  661        return this;\n  662      },\n  663      async connect(new_ws, os = globalThis.os) {\n  664        if(!new_ws) new_ws = MakeWebSocket;\n  665        this.log(`${service.name} connecting to ${this.url}`);\n  666        if(os) setHandlers(os, callbacks);\n  667        this.ws = new_ws(this.url, callbacks, false);\n  668        //console.log('connect()', this.ws);\n  669        return this;\n  670      },\n  671      /* prettier-ignore */ get connected() {\n  672        const ws = this.ws;\n  673        console.log(\"ws\", ws);\n  674        if(ws)\n  675        return typeof ws.readyState == 'number' ? ws.readyState == ws.OPEN : false;\n  676      const {fdlist} = instance;\n  677        console.log(\"fdlist\", fdlist);\n  678  \n  679      return  fdlist[Object.keys( fdlist)[0]].connected;\n  680      }\n  681    });\n  682  \n  683    RPCSocket.set.add(instance);\n  684  \n  685    return instance;\n  686  }\n  687  \n  688  for(let ctor of [RPCSocket, Connection, RPCClient, RPCServer]) {\n  689    let set = new Set();\n  690    define(ctor, {\n  691      set,\n  692      get list() {\n  693        return [...set];\n  694      },\n  695      get last() {\n  696        return this.list.last;\n  697      }\n  698    });\n  699  }\n  700  \n  701  Object.defineProperty(RPCSocket.prototype, Symbol.toStringTag, { value: 'RPCSocket' });\n  702  \n  703  function MakeWebSocket(url, callbacks) {\n  704    let ws;\n  705    try {\n  706      ws = new WebSocket(url + '');\n  707    } catch(error) {\n  708      callbacks.onError(ws, error);\n  709      return null;\n  710    }\n  711    ws.onconnect = () => callbacks.onConnect(ws);\n  712    ws.onopen = () => callbacks.onOpen(ws);\n  713    ws.onerror = error => callbacks.onError(ws, error);\n  714    ws.onmessage = msg => callbacks.onMessage(ws, msg);\n  715    ws.onpong = pong => callbacks.onPong(ws, pong);\n  716    ws.onclose = reason => callbacks.onClose(ws, reason);\n  717    ws.fd = sockId = (sockId | 0) + 1;\n  718  \n  719    return ws;\n  720  }\n  721  \n  722  export function isThenable(value) {\n  723    return typeof value == 'object' && value != null && typeof value.then == 'function';\n  724  }\n  725  \n  726  export function hasHandler(obj, eventName) {\n  727    if(typeof obj == 'object' && obj != null) {\n  728      const handler = obj['on' + eventName];\n  729      if(typeof handler == 'function') return handler;\n  730    }\n  731  }\n  732  \n  733  export function callHandler(obj, eventName, ...args) {\n  734    let ret,\n  735      fn = hasHandler(obj, eventName);\n  736    if(fn) return fn.call(obj, ...args);\n  737  }\n  738  \n  739  export function parseURL(url_or_port) {\n  740    let protocol, host, port;\n  741    if(!isNaN(+url_or_port)) [protocol, host, port] = ['ws', '0.0.0.0', url_or_port];\n  742    else {\n  743      [protocol = 'ws', host, port = 80] = [.../(.*:\\/\\/|)([^:/]*)(:[0-9]+|).*/.exec(url_or_port)].slice(1);\n  744      if(typeof port == 'string') port = port.slice(1);\n  745    }\n  746    port = +port;\n  747    if(protocol) {\n  748      protocol = protocol.slice(0, -3);\n  749      if(protocol.startsWith('http')) protocol = protocol.replace('http', 'ws');\n  750    } else {\n  751      protocol = 'ws';\n  752    }\n  753  \n  754    return define(\n  755      {\n  756        protocol,\n  757        host,\n  758        port\n  759      },\n  760      {\n  761        toString() {\n  762          const { protocol, host, port } = this;\n  763          return `${protocol || 'ws'}://${host}:${port}`;\n  764        }\n  765      }\n  766    );\n  767  }\n  768  \n  769  export function GetProperties(\n  770    obj,\n  771    method = obj => Object.getOwnPropertyNames(obj),\n  772    pred = (obj, depth) => obj !== Object.prototype\n  773  ) {\n  774    let set = new Set();\n  775    let depth = 0;\n  776    do {\n  777      if(!pred(obj, depth)) break;\n  778      for(let prop of method(obj, depth)) set.add(prop);\n  779      let proto = Object.getPrototypeOf(obj);\n  780      if(proto === obj) break;\n  781      obj = proto;\n  782      ++depth;\n  783    } while(typeof obj == 'object' && obj != null);\n  784    return [...set];\n  785  }\n  786  \n  787  export function GetKeys(obj, pred = (obj, depth) => obj !== Object.prototype) {\n  788    let keys = new Set();\n  789    for(let key of GetProperties(obj, obj => Object.getOwnPropertyNames(obj), pred)) keys.add(key);\n  790    for(let key of GetProperties(obj, obj => Object.getOwnPropertySymbols(obj), pred)) keys.add(key);\n  791    return [...keys];\n  792  }\n  793  \n  794  export function getPropertyDescriptors(obj, merge = true, pred = (proto, depth) => true) {\n  795    let a = [];\n  796    let depth = 0,\n  797      desc,\n  798      ok;\n  799    do {\n  800      desc = Object.getOwnPropertyDescriptors(obj);\n  801      try {\n  802        ok = pred(obj, depth);\n  803      } catch(e) {}\n  804      if(ok) a.push(desc);\n  805      let proto = Object.getPrototypeOf(obj);\n  806      if(proto === obj) break;\n  807      obj = proto;\n  808      ++depth;\n  809    } while(typeof obj == 'object' && obj != null);\n  810    if(merge) {\n  811      let i = 0;\n  812      let result = {};\n  813      for(let desc of a) for (let prop of GetKeys(desc)) if(!(prop in result)) result[prop] = desc[prop];\n  814      return result;\n  815    }\n  816    return a;\n  817  }\n  818  \n  819  export function define(obj, ...args) {\n  820    let propdesc = {};\n  821    for(let props of args) {\n  822      let desc = Object.getOwnPropertyDescriptors(props);\n  823      for(let prop of GetKeys(desc)) {\n  824        propdesc[prop] = { ...desc[prop], enumerable: false, configurable: true };\n  825        if('value' in propdesc[prop]) propdesc[prop].writable = true;\n  826      }\n  827    }\n  828    Object.defineProperties(obj, propdesc);\n  829    return obj;\n  830  }\n  831  \n  832  export function setHandlers(os, handlers) {\n  833    handlers.onFd = function(fd, readable, writable) {\n  834      //console.log('\\x1b[38;5;82monFd\\x1b[0m(', fd, ',', readable, ',', writable, ')');\n  835      os.setReadHandler(fd, readable);\n  836      os.setWriteHandler(fd, writable);\n  837    };\n  838  }\n  839  \n  840  export function statusResponse(success, result_or_error, data) {\n  841    let r = { success };\n  842    if(result_or_error !== undefined) r[success ? 'result' : 'error'] = result_or_error;\n  843    if(typeof data == 'object' && data != null && typeof data.seq == 'number') r.seq = data.seq;\n  844    return r;\n  845  }\n  846  \n  847  export function objectCommand(fn) {\n  848    return function(data) {\n  849      const respond = (success, result) => statusResponse(success, result, data);\n  850      const { id, ...rest } = data;\n  851      if(id in this.instances) {\n  852        data.obj = this.instances[id];\n  853        return fn.call(this, data, respond);\n  854      }\n  855      return respond(false, `No such object #${id}`);\n  856    };\n  857  }\n  858  \n  859  export function MakeListCommand(pred = v => typeof v != 'function', defaults = { maxDepth: Infinity }) {\n  860    return objectCommand((data, respond) => {\n  861      const { obj, enumerable = true, source = false, keyDescriptor = true, valueDescriptor = true } = data;\n  862      defaults = { enumerable: true, writable: true, configurable: true, ...defaults };\n  863      let propDesc = getPropertyDescriptors(obj, true, (proto, depth) => depth < (defaults.maxDepth ?? Infinity));\n  864      let keys = GetKeys(propDesc);\n  865      let map = keys.reduce((acc, key) => {\n  866        const desc = propDesc[key];\n  867        let value = desc?.value || obj[key];\n  868        if(pred(value)) {\n  869          if(valueDescriptor) {\n  870            value = SerializeValue(value, source);\n  871            for(let flag of ['enumerable', 'writable', 'configurable'])\n  872              if(desc[flag] !== undefined) if (desc[flag] != defaults[flag]) value[flag] = desc[flag];\n  873          } else if(typeof value == 'function') {\n  874            value = value + '';\n  875          }\n  876          acc.push([keyDescriptor ? SerializeValue(key) : key, value]);\n  877        }\n  878        return acc;\n  879      }, []);\n  880      return respond(true, map);\n  881    });\n  882  }\n  883  \n  884  export function getPrototypeName(proto) {\n  885    return proto.constructor?.name ?? proto[Symbol.toStringTag];\n  886  }\n  887  \n  888  function DeserializeEntries(e) {\n  889    if(Array.isArray(e)) return e.map(a => a.map(DeserializeValue));\n  890    throw new Error(`DeserializeEntries e=${inspect(e)}`);\n  891  }\n  892  \n  893  function DeserializeKeys(e) {\n  894    if(Array.isArray(e)) return e.map(([k]) => DeserializeValue(k));\n  895    throw new Error(`DeserializeKeys e=${inspect(e)}`);\n  896  }\n  897  \n  898  function DeserializeMap(e) {\n  899    return new Map(DeserializeEntries(e));\n  900  }\n  901  \n  902  function DeserializeObject(e) {\n  903    return Object.fromEntries(DeserializeEntries(e));\n  904  }\n  905  \n  906  function ForwardMethods(e, ret = {}, thisObj) {\n  907    let keys = DeserializeKeys(e);\n  908    for(let key of keys) {\n  909      ret[key] = MakeCommandFunction(key, o => o.connection, thisObj);\n  910    }\n  911    // console.log(`ForwardMethods`, { e, keys, ret });\n  912    return ret;\n  913  }\n  914  \n  915  function ForwardObject(e, thisObj) {\n  916    let obj = ForwardMethods(e, {}, thisObj);\n  917    console.log(`ForwardObject`, { e, obj, thisObj });\n  918    return obj;\n  919  }\n  920  \n  921  function MakeCommandFunction(cmd, getConnection, thisObj, t) {\n  922    const pfx = [`RESPONSE to`, typeof cmd == 'symbol' ? cmd : `\"${cmd}\"`];\n  923    t ??= { methods: ForwardMethods, properties: DeserializeObject, symbols: DeserializeSymbols };\n  924    if(typeof getConnection != 'function')\n  925      getConnection = obj => (typeof obj == 'object' && obj != null && 'connection' in obj && obj.connection) || obj;\n  926    //console.log(\"MakeCommandFunction\",{cmd,getConnection,thisObj});\n  927    return function(params = {}) {\n  928      thisObj = thisObj || this;\n  929      let client = getConnection(thisObj);\n  930      return new Promise((resolve, reject) => {\n  931        client.once('response', r => {\n  932          if(t[cmd]) r = t[cmd](r);\n  933          resolve(r);\n  934        });\n  935  \n  936        client.sendCommand(cmd, params);\n  937      });\n  938    };\n  939    return async function(params = {}) {\n  940      let client = getConnection(this);\n  941      await client.sendCommand(cmd, params);\n  942      let r = await client.waitFor('response');\n  943      if(t[cmd]) r = t[cmd](r);\n  944      console.log(`RESPONSE to '${cmd}'`, r);\n  945      return r;\n  946    };\n  947  }\n  948  \n  949  export function SerializeValue(value, source = false) {\n  950    const type = typeof value;\n  951    let desc = { type };\n  952    if(type == 'object' && value != null) {\n  953      desc['class'] = getPrototypeName(value) ?? getPrototypeName(Object.getPrototypeOf(value));\n  954      //desc['chain'] = getPrototypeChain(value).map(getPrototypeName);\n  955    } else if(type == 'symbol') {\n  956      desc['description'] = value.description;\n  957      desc['symbol'] = value.toString();\n  958    } else if(type == 'function') {\n  959      if(value.length !== undefined) desc['length'] = value.length;\n  960    }\n  961    if(value instanceof ArrayBuffer) {\n  962      let array = new Uint8Array(value);\n  963      value = [...array];\n  964      desc['class'] = 'ArrayBuffer';\n  965      // delete desc['chain'];\n  966    }\n  967    if(typeof value == 'function') {\n  968      if(source) desc.source = value + '';\n  969    } else if(typeof value != 'symbol') {\n  970      desc.value = value;\n  971    }\n  972    return desc;\n  973  }\n  974  \n  975  export function DeserializeSymbols(names) {\n  976    return names.map(n => n.replace(/Symbol\\./, '')).map(n => Symbol[n]);\n  977  }\n  978  \n  979  export function DeserializeValue(desc) {\n  980    if(desc.type == 'symbol') return Symbol.for(desc.description);\n  981    // if(desc.type=='string')\n  982    return desc.value;\n  983  }\n  984  \n  985  export const RPCConnect = (url, service = RPCClient) => new RPCSocket(url, service).connect();\n  986  export const RPCListen = (url, service = RPCServer) => new RPCSocket(url, service).listen();\n  987  \n  988  export default {\n  989    Connection,\n  990    ServerConnection: RPCServer,\n  991    ClientConnection: RPCClient,\n  992    Commands: RPCServerEndpoint,\n  993    Socket: RPCSocket,\n  994    Api: RPCApi,\n  995    Factory: RPCFactory,\n  996    MessageReceiver,\n  997    MessageTransmitter,\n  998    MessageTransceiver,\n  999    SerializeValue,\n 1000    DeserializeValue,\n 1001    EventLogger,\n 1002    connect: RPCConnect,\n 1003    listen: RPCListen\n 1004  };\n 1005  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n    1  #define _GNU_SOURCE\n    2  #include \"minnet-client-http.h\"\n    3  #include \"minnet-client.h\"\n    4  #include \"minnet-websocket.h\"\n    5  #include \"minnet-request.h\"\n    6  #include \"minnet-response.h\"\n    7  #include \"context.h\"\n    8  #include \"closure.h\"\n    9  #include \"minnet.h\"\n   10  #include \"jsutils.h\"\n   11  #include <quickjs-libc.h>\n   12  #include <strings.h>\n   13  #include <errno.h>\n   14  #include <libwebsockets.h>\n   15  \n   16  // static JSCallback client_cb_message, client_cb_connect, client_cb_close, client_cb_pong, client_cb_fd;\n   17  \n   18  static int client_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len);\n   19  \n   20  static THREAD_LOCAL struct list_head minnet_clients = {0, 0};\n   21  \n   22  static const struct lws_protocols client_protocols[] = {\n   23      {\"raw\", client_callback, 0, 0, 0, 0, 0},\n   24      {\"http\", http_client_callback, 0, 0, 0, 0, 0},\n   25      {\"ws\", client_callback, 0, 0, 0, 0, 0},\n   26      {0},\n   27  };\n   28  \n   29  static JSValue\n   30  close_status(JSContext* ctx, const char* in, size_t len) {\n   31    if(len >= 2)\n   32      return JS_NewInt32(ctx, ((uint8_t*)in)[0] << 8 | ((uint8_t*)in)[1]);\n   33    return JS_UNDEFINED;\n   34  }\n   35  \n   36  static JSValue\n   37  close_reason(JSContext* ctx, const char* in, size_t len) {\n   38    if(len > 2)\n   39      return JS_NewStringLen(ctx, &in[2], len - 2);\n   40    return JS_UNDEFINED;\n   41  }\n   42  \n   43  void\n   44  client_certificate(struct context* context, JSValueConst options) {\n   45    struct lws_context_creation_info* info = &context->info;\n   46    JSContext* ctx = context->js;\n   47  \n   48    context->crt = JS_GetPropertyStr(ctx, options, \"sslCert\");\n   49    context->key = JS_GetPropertyStr(ctx, options, \"sslPrivateKey\");\n   50    context->ca = JS_GetPropertyStr(ctx, options, \"sslCA\");\n   51  \n   52    if(JS_IsString(context->crt))\n   53      info->client_ssl_cert_filepath = js_tostring(ctx, context->crt);\n   54    else if(JS_IsObject(context->crt))\n   55      info->client_ssl_cert_mem = js_toptrsize(ctx, &info->client_ssl_cert_mem_len, context->crt);\n   56  \n   57    if(JS_IsString(context->key))\n   58      info->client_ssl_private_key_filepath = js_tostring(ctx, context->key);\n   59    else if(JS_IsObject(context->key))\n   60      info->client_ssl_key_mem = js_toptrsize(ctx, &info->client_ssl_key_mem_len, context->key);\n   61  \n   62    if(JS_IsString(context->ca))\n   63      info->client_ssl_ca_filepath = js_tostring(ctx, context->ca);\n   64    else if(JS_IsObject(context->ca))\n   65      info->client_ssl_ca_mem = js_toptrsize(ctx, &info->client_ssl_ca_mem_len, context->ca);\n   66  }\n   67  \n   68  MinnetClient*\n   69  client_new(JSContext* ctx) {\n   70    MinnetClient* client;\n   71  \n   72    if(!(client = js_mallocz(ctx, sizeof(MinnetClient))))\n   73      return 0;\n   74  \n   75    client_zero(client);\n   76  \n   77    if(minnet_clients.next == NULL)\n   78      init_list_head(&minnet_clients);\n   79  \n   80    list_add_tail(&client->link, &minnet_clients);\n   81    context_add(&client->context);\n   82  \n   83    return client;\n   84  }\n   85  \n   86  void\n   87  client_free(MinnetClient* client, JSContext* ctx) {\n   88    return client_free_rt(client, JS_GetRuntime(ctx));\n   89  }\n   90  \n   91  void\n   92  client_free_rt(MinnetClient* client, JSRuntime* rt) {\n   93    if(--client->ref_count == 0) {\n   94      DEBUG(\"%s() client=%p\\n\", __func__, client);\n   95  \n   96      if(client->link.prev)\n   97        list_del(&client->link);\n   98  \n   99      JS_FreeValueRT(rt, client->headers);\n  100      client->headers = JS_UNDEFINED;\n  101      JS_FreeValueRT(rt, client->body);\n  102      client->body = JS_UNDEFINED;\n  103      JS_FreeValueRT(rt, client->next);\n  104      client->next = JS_UNDEFINED;\n  105  \n  106      if(client->connect_info.method) {\n  107        js_free_rt(rt, (void*)client->connect_info.method);\n  108        client->connect_info.method = 0;\n  109      }\n  110  \n  111      js_promise_free_rt(rt, &client->promise);\n  112  \n  113      context_clear(&client->context);\n  114      context_delete(&client->context);\n  115  \n  116      session_clear_rt(&client->session, rt);\n  117  \n  118      js_free_rt(rt, client);\n  119    }\n  120  }\n  121  \n  122  void\n  123  client_zero(MinnetClient* client) {\n  124    client->ref_count = 1;\n  125    client->headers = JS_NULL;\n  126    client->body = JS_NULL;\n  127    client->next = JS_NULL;\n  128  \n  129    session_zero(&client->session);\n  130    js_promise_zero(&client->promise);\n  131    callbacks_zero(&client->on);\n  132    // client->link.next = client->link.prev = 0;\n  133  }\n  134  \n  135  MinnetClient*\n  136  client_dup(MinnetClient* client) {\n  137    ++client->ref_count;\n  138    return client;\n  139  }\n  140  \n  141  struct client_context*\n  142  lws_client(struct lws* wsi) {\n  143    return lws_context_user(lws_get_context(wsi));\n  144  }\n  145  \n  146  static JSValue\n  147  minnet_client_handler(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  148  \n  149    /*switch(magic) {\n  150      case ON_RESOLVE: {\n  151        DEBUG(\"%s %s %d\\n\", __func__, \"ON_RESOLVE\", ((union closure*)ptr)->ref_count);\n  152        break;\n  153      }\n  154      case ON_REJECT: {\n  155        DEBUG(\"%s %s\\n\", __func__, \"ON_REJECT\", ((union closure*)ptr)->ref_count);\n  156        break;\n  157      }\n  158    }\n  159  */\n  160    return JS_UNDEFINED;\n  161  }\n  162  \n  163  JSValue\n  164  minnet_client_closure(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  165    int argind = 0, status = -1;\n  166    JSValue value, ret = JS_NULL;\n  167    MinnetClient* client = 0;\n  168    JSValue options = argv[0];\n  169    struct lws /**wsi = 0, */* wsi2;\n  170  \n  171    BOOL block = TRUE, binary = FALSE;\n  172    struct wsi_opaque_user_data* opaque = 0;\n  173    MinnetProtocol proto;\n  174  \n  175    // SETLOG(LLL_INFO)\n  176  \n  177    if(!(client = client_new(ctx)))\n  178      return JS_ThrowOutOfMemory(ctx);\n  179  \n  180    client_zero(client);\n  181  \n  182    if(ptr) {\n  183      union closure* closure = ptr;\n  184  \n  185      closure->pointer = client;\n  186      closure->free_func = (closure_free_t*)client_free_rt;\n  187    }\n  188  \n  189    *client = (MinnetClient){\n  190        .context = (struct context){.ref_count = 1},\n  191        .headers = JS_UNDEFINED,\n  192        .body = JS_UNDEFINED,\n  193        .next = JS_UNDEFINED,\n  194    };\n  195  \n  196    session_zero(&client->session);\n  197  \n  198    if(!(client->request = request_from(argc, argv, ctx))) {\n  199      client_free(client, ctx);\n  200      return JS_ThrowTypeError(ctx, \"argument 1 must be a Request/URL object or an URL string\");\n  201    }\n  202  \n  203    /*enum protocol p = url_protocol(client->request->url);\n  204    client->request->secure = protocol_is_tls(p);*/\n  205  \n  206    js_promise_zero(&client->promise);\n  207  \n  208    if(argc >= 2) {\n  209  \n  210      if(JS_IsObject(argv[1]))\n  211        argind++;\n  212  \n  213      /*    if(JS_IsString(argv[argind])) {\n  214            tmp = JS_ToCString(ctx, argv[argind]);\n  215            argind++;\n  216          } else if((req = minnet_request_data(argv[argind]))) {\n  217            client->request = request_dup(req);\n  218            client->url = url_clone(req->url, ctx);\n  219            client->headers = JS_GetPropertyStr(ctx, argv[argind], \"headers\");\n  220            argind++;\n  221          }*/\n  222    }\n  223  \n  224    options = argv[argind];\n  225  \n  226    if(!JS_IsObject(options))\n  227      return JS_ThrowTypeError(ctx, \"argument %d must be options object\", argind + 1);\n  228  \n  229    {\n  230      struct context* context = &client->context;\n  231  \n  232      context->js = ctx;\n  233      context->error = JS_NULL;\n  234  \n  235      memset(&context->info, 0, sizeof(struct lws_context_creation_info));\n  236      context->info.options = LWS_SERVER_OPTION_DO_SSL_GLOBAL_INIT;\n  237      context->info.options |= LWS_SERVER_OPTION_H2_JUST_FIX_WINDOW_UPDATE_OVERFLOW;\n  238      context->info.port = CONTEXT_PORT_NO_LISTEN;\n  239      context->info.protocols = client_protocols;\n  240      context->info.user = client;\n  241  \n  242      if(!context->lws) {\n  243        //  client_certificate(&client->context, options);\n  244  \n  245        if(!(context->lws = lws_create_context(&context->info))) {\n  246          lwsl_err(\"minnet-client: libwebsockets init failed\\n\");\n  247          return JS_ThrowInternalError(ctx, \"minnet-client: libwebsockets init failed\");\n  248        }\n  249      }\n  250    }\n  251  \n  252    GETCBPROP(options, \"onPong\", client->on.pong)\n  253    GETCBPROP(options, \"onClose\", client->on.close)\n  254    GETCBPROP(options, \"onConnect\", client->on.connect)\n  255    GETCBPROP(options, \"onMessage\", client->on.message)\n  256    GETCBPROP(options, \"onFd\", client->on.fd)\n  257    GETCBPROP(options, \"onHttp\", client->on.http)\n  258  \n  259    value = JS_GetPropertyStr(ctx, options, \"binary\");\n  260    if(!JS_IsUndefined(value))\n  261      binary = JS_ToBool(ctx, value);\n  262    JS_FreeValue(ctx, value);\n  263  \n  264    value = JS_GetPropertyStr(ctx, options, \"block\");\n  265    if(!JS_IsUndefined(value))\n  266      block = JS_ToBool(ctx, value);\n  267    JS_FreeValue(ctx, value);\n  268  \n  269    value = JS_GetPropertyStr(ctx, options, \"body\");\n  270    if(!JS_IsUndefined(value))\n  271      client->body = JS_DupValue(ctx, value);\n  272    JS_FreeValue(ctx, value);\n  273  \n  274    /* value = JS_GetPropertyStr(ctx, options, \"headers\");\n  275     if(JS_IsObject(value)) {\n  276       client->headers = JS_DupValue(ctx, value);\n  277     }\n  278     JS_FreeValue(ctx, value);\n  279  \n  280     if(JS_IsObject(client->headers)) {\n  281       headers_fromobj(&client->request->headers, client->headers, ctx);\n  282     }\n  283   */\n  284    client->response = response_new(ctx);\n  285    url_copy(&client->response->url, client->request->url, ctx);\n  286    client->response->generator = generator_new(ctx);\n  287  \n  288    proto = protocol_number(client->request->url.protocol);\n  289  \n  290    url_info(client->request->url, &client->connect_info);\n  291  \n  292    value = JS_GetPropertyStr(ctx, options, \"protocol\");\n  293    if(!JS_IsUndefined(value)) {\n  294      const char* str = JS_ToCString(ctx, value);\n  295  \n  296      if(client->connect_info.protocol)\n  297        free((void*)client->connect_info.protocol);\n  298  \n  299      client->connect_info.protocol = strdup(str);\n  300      JS_FreeCString(ctx, str);\n  301    }\n  302    JS_FreeValue(ctx, value);\n  303  \n  304    DEBUG(\"alpn = '%s'\\n\", client->connect_info.alpn);\n  305  \n  306    client->connect_info.pwsi = &client->wsi;\n  307    client->connect_info.context = client->context.lws;\n  308  \n  309    switch(proto) {\n  310      case PROTOCOL_RAW: {\n  311        client->connect_info.method = js_strdup(ctx, \"RAW\");\n  312        break;\n  313      }\n  314      case PROTOCOL_HTTP:\n  315      case PROTOCOL_HTTPS: {\n  316        const char* str;\n  317  \n  318        value = JS_GetPropertyStr(ctx, options, \"method\");\n  319        str = JS_ToCString(ctx, value);\n  320        client->connect_info.method = js_strdup(ctx, JS_IsString(value) ? str : method_string(METHOD_GET));\n  321        JS_FreeValue(ctx, value);\n  322        JS_FreeCString(ctx, str);\n  323  \n  324        break;\n  325      }\n  326      default: {\n  327        break;\n  328      }\n  329    }\n  330  \n  331    DEBUG(\"METHOD: %s\\n\", client->connect_info.method);\n  332    DEBUG(\"PROTOCOL: %s\\n\", client->connect_info.protocol);\n  333  \n  334    if(!block)\n  335      ret = js_promise_create(ctx, &client->promise);\n  336  \n  337    errno = 0;\n  338  \n  339  #ifdef LWS_WITH_UDP\n  340    if(proto == PROTOCOL_RAW && !strcmp(client->request->url.protocol, \"udp\")) {\n  341      struct lws_vhost* vhost;\n  342      MinnetURL* url = &client->request->url;\n  343  \n  344      vhost = lws_create_vhost(client->context.lws, &client->context.info);\n  345      wsi2 = lws_create_adopt_udp(vhost, url->host, url->port, 0, \"raw\", 0, 0, 0, 0, 0);\n  346      *client->connect_info.pwsi = wsi2;\n  347    } else\n  348  #endif\n  349    {\n  350      wsi2 = lws_client_connect_via_info(&client->connect_info);\n  351    }\n  352    DEBUG(\"client->wsi = %p, wsi2 = %p, h2 = %d, ssl = %d\\n\", client->wsi, wsi2, wsi_http2(client->wsi), wsi_tls(client->wsi));\n  353  \n  354    if(!client->wsi /*&& !wsi2*/) {\n  355      if(!block) {\n  356        if(js_promise_pending(&client->promise)) {\n  357          JSValue err = js_error_new(ctx, \"[2] Connection failed: %s\", strerror(errno));\n  358          js_promise_reject(ctx, &client->promise, err);\n  359          JS_FreeValue(ctx, err);\n  360        }\n  361      } else {\n  362        ret = JS_ThrowInternalError(ctx, \"Connection failed: %s\", strerror(errno));\n  363        goto fail;\n  364      }\n  365    }\n  366  \n  367    opaque = lws_opaque(client->wsi, client->context.js);\n  368    opaque->binary = binary;\n  369    opaque->connect_info = &client->connect_info;\n  370    /*opaque->req = client->request;\n  371    opaque->resp = client->response;*/\n  372  \n  373    if(!block)\n  374      return ret;\n  375  \n  376    for(;;) {\n  377      if(status != opaque->status)\n  378        status = opaque->status;\n  379  \n  380      if(status == CLOSED)\n  381        break;\n  382  \n  383      js_std_loop(ctx);\n  384  \n  385      if(client->context.exception) {\n  386        ret = JS_EXCEPTION;\n  387        break;\n  388      }\n  389    }\n  390  \n  391    // client_free(client);\n  392  \n  393  fail:\n  394    return ret;\n  395  }\n  396  \n  397  JSValue\n  398  minnet_client(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  399    union closure* closure;\n  400    JSValue ret;\n  401  \n  402    if(!(closure = closure_new(ctx)))\n  403      return JS_ThrowOutOfMemory(ctx);\n  404  \n  405    ret = minnet_client_closure(ctx, this_val, argc, argv, 0, closure);\n  406  \n  407    if(js_is_promise(ctx, ret)) {\n  408      JSValue func[2], tmp;\n  409  \n  410      func[0] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  411      func[1] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  412  \n  413      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n  414      JS_FreeValue(ctx, ret);\n  415      ret = tmp;\n  416  \n  417      tmp = js_invoke(ctx, ret, \"catch\", 1, &func[1]);\n  418      JS_FreeValue(ctx, ret);\n  419      ret = tmp;\n  420  \n  421      JS_FreeValue(ctx, func[0]);\n  422      JS_FreeValue(ctx, func[1]);\n  423    }\n  424  \n  425    closure_free(closure);\n  426  \n  427    return ret;\n  428  }\n  429  \n  430  /*uint8_t*\n  431  scan_backwards(uint8_t* ptr, uint8_t ch) {\n  432    if(ptr[-1] == '\\n') {\n  433      do { --ptr; } while(ptr[-1] != ch);\n  434      return ptr;\n  435    }\n  436    return 0;\n  437  }\n  438  */\n  439  static int\n  440  client_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  441    MinnetClient* client = lws_client(wsi);\n  442    struct wsi_opaque_user_data* opaque = 0;\n  443    JSContext* ctx;\n  444    int ret = 0;\n  445  \n  446    if(lws_reason_poll(reason))\n  447      return wsi_handle_poll(wsi, reason, &client->on.fd, in);\n  448  \n  449    if(lws_reason_http(reason))\n  450      return http_client_callback(wsi, reason, user, in, len);\n  451  \n  452    if((ctx = client->context.js))\n  453      opaque = lws_opaque(wsi, ctx);\n  454  \n  455    LOGCB(\"CLIENT      \", \"fd=%d, h2=%i, tls=%i%s%.*s%s\", lws_get_socket_fd(wsi), wsi_http2(wsi), wsi_tls(wsi), (in && len) ? \", in='\" : \"\", (int)len, (char*)in, (in && len) ? \"'\" : \"\");\n  456  \n  457    switch(reason) {\n  458      case LWS_CALLBACK_OPENSSL_PERFORM_SERVER_CERT_VERIFICATION: {\n  459        return 0;\n  460      }\n  461      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER:\n  462      case LWS_CALLBACK_PROTOCOL_INIT: {\n  463        break;\n  464      }\n  465      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS: {\n  466        break;\n  467      }\n  468      case LWS_CALLBACK_WS_CLIENT_BIND_PROTOCOL:\n  469      case LWS_CALLBACK_RAW_SKT_BIND_PROTOCOL: {\n  470        session_zero(&client->session);\n  471        break;\n  472      }\n  473      case LWS_CALLBACK_WS_CLIENT_DROP_PROTOCOL:\n  474      case LWS_CALLBACK_RAW_SKT_DROP_PROTOCOL: {\n  475  \n  476        break;\n  477      }\n  478  \n  479      case LWS_CALLBACK_CLIENT_FILTER_PRE_ESTABLISH:\n  480      case LWS_CALLBACK_CONNECTING: {\n  481        break;\n  482      }\n  483      case LWS_CALLBACK_WSI_CREATE:\n  484      case LWS_CALLBACK_SERVER_NEW_CLIENT_INSTANTIATED: {\n  485        if(!opaque->ws)\n  486          opaque->ws = ws_new(wsi, ctx);\n  487        break;\n  488      }\n  489      case LWS_CALLBACK_CLIENT_CLOSED: {\n  490        if(opaque->status < CLOSED) {\n  491          opaque->status = CLOSED;\n  492        }\n  493      }\n  494      case LWS_CALLBACK_RAW_CLOSE:\n  495      case LWS_CALLBACK_WS_PEER_INITIATED_CLOSE:\n  496      case LWS_CALLBACK_CLIENT_CONNECTION_ERROR: {\n  497        if(opaque->status < CLOSING) {\n  498          JSContext* ctx;\n  499          int32_t result = -1, err = /*opaque ? opaque->error :*/ 0;\n  500  \n  501          if(reason == LWS_CALLBACK_CLIENT_CONNECTION_ERROR && in) {\n  502            if(!strncmp(\"conn fail: \", in, 11)) {\n  503              err = /*opaque->error =*/atoi(&((const char*)in)[11]);\n  504              client->context.error = JS_NewString(client->context.js, strerror(err));\n  505            } else {\n  506              client->context.error = JS_NewStringLen(client->context.js, in, len);\n  507            }\n  508          } else\n  509            client->context.error = JS_UNDEFINED;\n  510  \n  511          opaque->status = CLOSING;\n  512          if((ctx = client->on.close.ctx)) {\n  513            JSValue ret;\n  514            int argc = 1;\n  515            JSValueConst cb_argv[4] = {client->session.ws_obj};\n  516  \n  517            if(reason == LWS_CALLBACK_CLIENT_CONNECTION_ERROR) {\n  518  \n  519              cb_argv[argc++] = JS_UNDEFINED;\n  520              cb_argv[argc++] = JS_DupValue(ctx, client->context.error);\n  521              cb_argv[argc++] = JS_NewInt32(ctx, err);\n  522  \n  523            } else {\n  524              cb_argv[argc++] = close_status(ctx, in, len);\n  525              cb_argv[argc++] = close_reason(ctx, in, len);\n  526              cb_argv[argc++] = JS_NewInt32(ctx, err);\n  527            }\n  528  \n  529            ret = client_exception(client, callback_emit(&client->on.close, argc, cb_argv));\n  530            if(JS_IsNumber(ret))\n  531              JS_ToInt32(ctx, &result, ret);\n  532            JS_FreeValue(ctx, ret);\n  533  \n  534            while(--argc >= 0) JS_FreeValue(ctx, cb_argv[argc]);\n  535          }\n  536          ret = result;\n  537          break;\n  538        }\n  539      }\n  540      case LWS_CALLBACK_RAW_ADOPT: {\n  541        // lwsl_user(\"ADOPT! %s\", client->request->url.protocol);\n  542  \n  543        if(strcasecmp(client->request->url.protocol, \"udp\"))\n  544          break;\n  545      }\n  546  \n  547      case LWS_CALLBACK_ESTABLISHED:\n  548      case LWS_CALLBACK_CLIENT_ESTABLISHED:\n  549      case LWS_CALLBACK_RAW_CONNECTED: {\n  550        if(opaque->status < OPEN) {\n  551          JSContext* ctx;\n  552  \n  553          /* int status;\n  554           status = lws_http_client_http_response(wsi);*/\n  555  \n  556          opaque->status = OPEN;\n  557          if((ctx = client->on.connect.ctx)) {\n  558            client->request->ip = wsi_ipaddr(wsi);\n  559            client->session.ws_obj = minnet_ws_fromwsi(ctx, wsi);\n  560  \n  561            if(reason != LWS_CALLBACK_RAW_CONNECTED) {\n  562              client->session.req_obj = minnet_request_wrap(ctx, client->request);\n  563            }\n  564            // lwsl_user(\"client   \" FGC(171, \"%-38s\") \" fd=%i, in=%.*s\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(lws_get_network_wsi(wsi)), (int)len, (char*)in);\n  565  \n  566            if((client->on.connect.ctx = ctx))\n  567              client_exception(client, callback_emit(&client->on.connect, 3, &client->session.ws_obj));\n  568          }\n  569          /*if(!minnet_response_data(sess->resp_obj))*/\n  570        }\n  571        break;\n  572      }\n  573  \n  574      case LWS_CALLBACK_CLIENT_WRITEABLE:\n  575      case LWS_CALLBACK_RAW_WRITEABLE: {\n  576  \n  577        /*\n  578        ByteBuffer* buf = &client->session.send_buf;\n  579        int ret, size = buffer_REMAIN(buf);\n  580  \n  581        if((ret = lws_write(wsi, buf->read, size, LWS_WRITE_TEXT)) != size) {\n  582          lwsl_err(\"sending message failed: %d < %d\\n\", ret, size);\n  583          ret = -1;\n  584          break;\n  585        }\n  586  \n  587        buffer_reset(buf);*/\n  588  \n  589        session_writable(&client->session, opaque->binary, ctx);\n  590        break;\n  591      }\n  592  \n  593      case LWS_CALLBACK_RECEIVE:\n  594      case LWS_CALLBACK_CLIENT_RECEIVE:\n  595      case LWS_CALLBACK_RAW_RX: {\n  596        JSContext* ctx;\n  597        if((ctx = client->on.message.ctx)) {\n  598          // MinnetWebsocket* ws = minnet_ws_data(client->session.ws_obj);\n  599          JSValue msg = opaque->binary ? JS_NewArrayBufferCopy(ctx, in, len) : JS_NewStringLen(ctx, in, len);\n  600          JSValue cb_argv[] = {client->session.ws_obj, msg};\n  601  \n  602          client_exception(client, callback_emit(&client->on.message, countof(cb_argv), cb_argv));\n  603  \n  604          JS_FreeValue(ctx, cb_argv[1]);\n  605        }\n  606        break;\n  607      }\n  608      case LWS_CALLBACK_CLIENT_RECEIVE_PONG: {\n  609        JSContext* ctx;\n  610        if((ctx = client->on.pong.ctx)) {\n  611          JSValue data = JS_NewArrayBufferCopy(ctx, in, len);\n  612          JSValue cb_argv[] = {client->session.ws_obj, data};\n  613          client_exception(client, callback_emit(&client->on.pong, 2, cb_argv));\n  614          JS_FreeValue(ctx, cb_argv[1]);\n  615        }\n  616        break;\n  617      }\n  618      case LWS_CALLBACK_WSI_DESTROY: {\n  619        if(client->wsi == wsi) {\n  620          BOOL is_error = JS_IsUndefined(client->context.error);\n  621  \n  622          (is_error ? js_promise_reject : js_promise_resolve)(client->context.js, &client->promise, client->context.error);\n  623          JS_FreeValue(client->context.js, client->context.error);\n  624          client->context.error = JS_UNDEFINED;\n  625        }\n  626        break;\n  627      }\n  628      case LWS_CALLBACK_PROTOCOL_DESTROY: {\n  629        break;\n  630      }\n  631      default: {\n  632        minnet_lws_unhandled(__func__, reason);\n  633        break;\n  634      }\n  635    }\n  636  \n  637    if(opaque && opaque->status >= CLOSING)\n  638      ret = -1;\n  639  \n  640    /*  lwsl_user(len ? \"client      \" FG(\"%d\") \"%-38s\" NC \" is_ssl=%i len=%zu in='%.*s' ret=%d\\n\" : \"client      \" FG(\"%d\") \"%-38s\" NC \" is_ssl=%i len=%zu\\n\",\n  641                22 + (reason * 2),\n  642                lws_callback_name(reason) + 13,\n  643                wsi_tls(wsi),\n  644                len,\n  645                (int)MIN(len, 32),\n  646                (reason == LWS_CALLBACK_RAW_RX || reason == LWS_CALLBACK_CLIENT_RECEIVE || reason == LWS_CALLBACK_RECEIVE) ? 0 : (char*)in,\n  647                ret);*/\n  648  \n  649    return ret;\n  650  }\n  651  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.h:\n    1  #ifndef MINNET_SERVER_HTTP_H\n    2  #define MINNET_SERVER_HTTP_H\n    3  \n    4  #include <quickjs.h>\n    5  #include \"minnet.h\"\n    6  #include \"session.h\"\n    7  \n    8  struct http_request;\n    9  struct http_response;\n   10  \n   11  typedef union http_vhost_options {\n   12    struct lws_protocol_vhost_options lws;\n   13    struct {\n   14      union http_vhost_options *next, *options;\n   15      const char *name, *value;\n   16    };\n   17  \n   18  } MinnetVhostOptions;\n   19  \n   20  typedef struct http_mount {\n   21    union {\n   22      struct {\n   23        struct http_mount* next;\n   24        const char *mnt, *org, *def, *pro;\n   25        union http_vhost_options *cgienv, *extra_mimetypes, *interpret;\n   26      };\n   27      struct lws_http_mount lws;\n   28    };\n   29    JSCallback callback;\n   30  } MinnetHttpMount;\n   31  \n   32  MinnetVhostOptions* vhost_options_create(JSContext*, const char*, const char*);\n   33  MinnetVhostOptions* vhost_options_new(JSContext*, JSValue);\n   34  MinnetVhostOptions* vhost_options_fromobj(JSContext* ctx, JSValueConst obj);\n   35  \n   36  void vhost_options_dump(MinnetVhostOptions* vo);\n   37  void vhost_options_free_list(JSContext*, MinnetVhostOptions*);\n   38  void vhost_options_free(JSContext*, MinnetVhostOptions*);\n   39  MinnetHttpMount* mount_create(JSContext*, const char*, const char*, const char* def, const char* pro, enum lws_mount_protocols origin_proto);\n   40  MinnetHttpMount* mount_new(JSContext*, JSValue, const char*);\n   41  struct http_mount* mount_find(MinnetHttpMount*, const char*, size_t);\n   42  struct http_mount* mount_find_s(MinnetHttpMount*, const char*);\n   43  void mount_fromvalue(JSContext* ctx, MinnetHttpMount** m, JSValueConst opt_mounts);\n   44  void mount_free(JSContext*, MinnetHttpMount const*);\n   45  BOOL mount_is_proxy(MinnetHttpMount const* m);\n   46  int http_server_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   47  \n   48  #endif /* MINNET_SERVER_HTTP_H */\n   49  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.h:\n    1  #ifndef MINNET_GENERATOR_H\n    2  #define MINNET_GENERATOR_H\n    3  \n    4  #include \"generator.h\"\n    5  \n    6  typedef struct generator MinnetGenerator;\n    7  \n    8  extern THREAD_LOCAL JSValue minnet_generator_proto, minnet_generator_ctor;\n    9  extern THREAD_LOCAL JSClassID minnet_generator_class_id;\n   10  extern JSClassDef minnet_generator_class;\n   11  extern const JSCFunctionListEntry minnet_generator_proto_funcs[];\n   12  extern const size_t minnet_generator_proto_funcs_size;\n   13  \n   14  JSValue minnet_generator_constructor(JSContext*, JSValueConst new_target, int argc, JSValueConst argv[]);\n   15  JSValue minnet_generator_iterator(JSContext*, MinnetGenerator* gen);\n   16  JSValue minnet_generator_reader(JSContext*, MinnetGenerator* gen);\n   17  JSValue minnet_generator_create(JSContext*, MinnetGenerator** gen_p);\n   18  \n   19  #endif /* MINNET_GENERATOR_H */\n   20  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.h:\n    1  #ifndef MINNET_REQUEST_H\n    2  #define MINNET_REQUEST_H\n    3  \n    4  #include \"request.h\"\n    5  #include \"minnet-url.h\"\n    6  \n    7  typedef struct http_request MinnetRequest;\n    8  \n    9  MinnetRequest* minnet_request_data(JSValueConst);\n   10  JSValue minnet_request_from(JSContext*, int argc, JSValueConst argv[]);\n   11  JSValue minnet_request_constructor(JSContext*, JSValueConst, int, JSValueConst argv[]);\n   12  JSValue minnet_request_new(JSContext*, MinnetURL, enum http_method);\n   13  JSValue minnet_request_wrap(JSContext*, MinnetRequest*);\n   14  \n   15  extern THREAD_LOCAL JSValue minnet_request_proto, minnet_request_ctor;\n   16  extern THREAD_LOCAL JSClassID minnet_request_class_id;\n   17  extern JSClassDef minnet_request_class;\n   18  extern const JSCFunctionListEntry minnet_request_proto_funcs[];\n   19  extern const size_t minnet_request_proto_funcs_size;\n   20  \n   21  static inline MinnetRequest*\n   22  minnet_request_data2(JSContext* ctx, JSValueConst obj) {\n   23    return JS_GetOpaque2(ctx, obj, minnet_request_class_id);\n   24  }\n   25  \n   26  #endif /* MINNET_REQUEST_H */\n   27  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-websocket.c:\n    1  #include \"buffer.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"minnet-websocket.h\"\n    4  #include \"minnet-server.h\"\n    5  #include \"minnet-server-http.h\"\n    6  #include \"minnet-request.h\"\n    7  #include \"minnet-response.h\"\n    8  #include \"minnet-ringbuffer.h\"\n    9  #include \"minnet.h\"\n   10  #include \"opaque.h\"\n   11  #include <strings.h>\n   12  #include <assert.h>\n   13  #include <libwebsockets.h>\n   14  \n   15  THREAD_LOCAL JSValue minnet_ws_proto, minnet_ws_ctor;\n   16  THREAD_LOCAL JSClassID minnet_ws_class_id;\n   17  \n   18  enum {\n   19    WEBSOCKET_PROTOCOL,\n   20    WEBSOCKET_FD,\n   21    WEBSOCKET_ADDRESS,\n   22    WEBSOCKET_FAMILY,\n   23    WEBSOCKET_PORT,\n   24    WEBSOCKET_PEER,\n   25    WEBSOCKET_SSL,\n   26    WEBSOCKET_BINARY,\n   27    WEBSOCKET_READYSTATE,\n   28    WEBSOCKET_CONTEXT,\n   29    /*  WEBSOCKET_RESERVED_BITS,\n   30      WEBSOCKET_FINAL_FRAGMENT,\n   31      WEBSOCKET_FIRST_FRAGMENT,\n   32      WEBSOCKET_PARTIAL_BUFFERED,*/\n   33  };\n   34  \n   35  enum { RESPONSE_BODY, RESPONSE_HEADER, RESPONSE_REDIRECT };\n   36  \n   37  MinnetWebsocket*\n   38  minnet_ws_data(JSValueConst obj) {\n   39    return JS_GetOpaque(obj, minnet_ws_class_id);\n   40  }\n   41  \n   42  JSValue\n   43  minnet_ws_new(JSContext* ctx, struct lws* wsi) {\n   44    MinnetWebsocket* ws;\n   45    JSValue ws_obj;\n   46  \n   47    if(!(ws = ws_new(wsi, ctx)))\n   48      return JS_ThrowOutOfMemory(ctx);\n   49  \n   50    ws_obj = JS_NewObjectProtoClass(ctx, minnet_ws_proto, minnet_ws_class_id);\n   51  \n   52    if(JS_IsException(ws_obj))\n   53      return JS_EXCEPTION;\n   54  \n   55    JS_SetOpaque(ws_obj, ws);\n   56  \n   57    return ws_obj;\n   58  }\n   59  \n   60  JSValue\n   61  minnet_ws_wrap(JSContext* ctx, MinnetWebsocket* ws) {\n   62    JSValue ret = JS_NewObjectProtoClass(ctx, minnet_ws_proto, minnet_ws_class_id);\n   63  \n   64    if(JS_IsException(ret))\n   65      return JS_EXCEPTION;\n   66  \n   67    JS_SetOpaque(ret, ws_dup(ws));\n   68  \n   69    return ret;\n   70  }\n   71  \n   72  JSValue\n   73  minnet_ws_fromwsi(JSContext* ctx, struct lws* wsi) {\n   74    MinnetWebsocket* ws;\n   75    JSValue ret;\n   76  \n   77    if(!(ws = ws_new(wsi, ctx)))\n   78      return JS_ThrowOutOfMemory(ctx);\n   79  \n   80    ret = JS_NewObjectProtoClass(ctx, minnet_ws_proto, minnet_ws_class_id);\n   81  \n   82    if(JS_IsException(ret))\n   83      return JS_EXCEPTION;\n   84  \n   85    JS_SetOpaque(ret, ws);\n   86  \n   87    return ret;\n   88  }\n   89  \n   90  static JSValue\n   91  minnet_ws_send(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n   92    MinnetWebsocket* ws;\n   93    JSValue ret = JS_UNDEFINED;\n   94    JSBuffer jsbuf;\n   95    QueueItem* item;\n   96  \n   97    if(!(ws = minnet_ws_data2(ctx, this_val)))\n   98      return JS_EXCEPTION;\n   99  \n  100    // assert(ws->lwsi);\n  101    if(ws->lwsi == 0 || ((size_t)ws->lwsi) >> 4 == 0xfffffffffffffff)\n  102      return ret;\n  103  \n  104    if(argc == 0)\n  105      return JS_ThrowTypeError(ctx, \"argument 1 expecting String/ArrayBuffer\");\n  106  \n  107    jsbuf = js_input_args(ctx, argc, argv);\n  108  \n  109    if((item = ws_send(ws, jsbuf.data, jsbuf.size, ctx))) {\n  110      ResolveFunctions fns;\n  111  \n  112      ret = js_promise_create(ctx, &fns);\n  113  \n  114      item->unref = deferred_newjs(fns.resolve, ctx);\n  115      // item->unref = deferred_new(&JS_FreeValue, fns.resolve, ctx);\n  116      JS_FreeValue(ctx, fns.reject);\n  117    }\n  118  \n  119    return ret;\n  120  }\n  121  \n  122  static JSValue\n  123  minnet_ws_respond(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  124    MinnetWebsocket* ws;\n  125    JSValue ret = JS_UNDEFINED;\n  126  \n  127    if(!(ws = minnet_ws_data2(ctx, this_val)))\n  128      return JS_EXCEPTION;\n  129  \n  130    ByteBuffer header = BUFFER_0();\n  131  \n  132    switch(magic) {\n  133      case RESPONSE_BODY: {\n  134        const char* msg = 0;\n  135        uint32_t status = 0;\n  136  \n  137        JS_ToUint32(ctx, &status, argv[0]);\n  138        if(argc >= 2)\n  139          msg = JS_ToCString(ctx, argv[1]);\n  140        lws_return_http_status(ws->lwsi, status, msg);\n  141        if(msg)\n  142          JS_FreeCString(ctx, msg);\n  143        break;\n  144      }\n  145      case RESPONSE_REDIRECT: {\n  146        const char* msg = 0;\n  147        size_t len = 0;\n  148        uint32_t status = 0;\n  149        JS_ToUint32(ctx, &status, argv[0]);\n  150  \n  151        if(argc >= 2)\n  152          msg = JS_ToCStringLen(ctx, &len, argv[1]);\n  153        if(lws_http_redirect(ws->lwsi, status, (unsigned char*)msg, len, &header.write, header.end) < 0)\n  154          ret = JS_NewInt32(ctx, -1);\n  155        if(msg)\n  156          JS_FreeCString(ctx, msg);\n  157        break;\n  158      }\n  159      case RESPONSE_HEADER: {\n  160        size_t namelen;\n  161        const char* namestr = JS_ToCStringLen(ctx, &namelen, argv[0]);\n  162        char* name = js_malloc(ctx, namelen + 2);\n  163        size_t len;\n  164        const char* value = JS_ToCStringLen(ctx, &len, argv[1]);\n  165        memcpy(name, namestr, namelen);\n  166        name[namelen] = ':';\n  167        name[namelen + 1] = '\\0';\n  168  \n  169        if(lws_add_http_header_by_name(ws->lwsi, (const uint8_t*)name, (const uint8_t*)value, len, &header.write, header.end) < 0)\n  170          ret = JS_NewInt32(ctx, -1);\n  171  \n  172        js_free(ctx, name);\n  173        JS_FreeCString(ctx, namestr);\n  174        JS_FreeCString(ctx, value);\n  175        break;\n  176      }\n  177    }\n  178  \n  179    return ret;\n  180  }\n  181  \n  182  static JSValue\n  183  minnet_ws_ping(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  184    MinnetWebsocket* ws;\n  185    uint8_t* data;\n  186    size_t len;\n  187  \n  188    if(!(ws = minnet_ws_data2(ctx, this_val)))\n  189      return JS_EXCEPTION;\n  190  \n  191    data = JS_GetArrayBuffer(ctx, &len, argv[0]);\n  192    if(data) {\n  193      uint8_t buffer[len + LWS_PRE];\n  194      memcpy(&buffer[LWS_PRE], data, len);\n  195  \n  196      int m = lws_write(ws->lwsi, &buffer[LWS_PRE], len, LWS_WRITE_PING);\n  197      if((size_t)m < len) {\n  198        // Sending ping failed\n  199        return JS_EXCEPTION;\n  200      }\n  201    } else {\n  202      uint8_t buffer[LWS_PRE];\n  203      lws_write(ws->lwsi, &buffer[LWS_PRE], 0, LWS_WRITE_PING);\n  204    }\n  205    return JS_UNDEFINED;\n  206  }\n  207  \n  208  static JSValue\n  209  minnet_ws_pong(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  210    MinnetWebsocket* ws;\n  211    uint8_t* data;\n  212    size_t len;\n  213  \n  214    if(!(ws = minnet_ws_data2(ctx, this_val)))\n  215      return JS_EXCEPTION;\n  216  \n  217    data = JS_GetArrayBuffer(ctx, &len, argv[0]);\n  218    if(data) {\n  219      uint8_t buffer[len + LWS_PRE];\n  220      memcpy(&buffer[LWS_PRE], data, len);\n  221  \n  222      int m = lws_write(ws->lwsi, &buffer[LWS_PRE], len, LWS_WRITE_PONG);\n  223      if((size_t)m < len) {\n  224        // Sending pong failed\n  225        return JS_EXCEPTION;\n  226      }\n  227    } else {\n  228      uint8_t buffer[LWS_PRE];\n  229      lws_write(ws->lwsi, &buffer[LWS_PRE], 0, LWS_WRITE_PONG);\n  230    }\n  231    return JS_UNDEFINED;\n  232  }\n  233  \n  234  static JSValue\n  235  minnet_ws_close(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  236    MinnetWebsocket* ws;\n  237    const char* reason = 0;\n  238    size_t rlen = 0;\n  239  \n  240    if(!(ws = minnet_ws_data2(ctx, this_val)))\n  241      return JS_EXCEPTION;\n  242  \n  243    if(ws->lwsi) {\n  244      int optind = 0;\n  245      int32_t status = LWS_CLOSE_STATUS_NORMAL;\n  246      struct wsi_opaque_user_data* opaque;\n  247  \n  248      while(optind < argc) {\n  249        if(JS_IsNumber(argv[optind]) || optind + 1 < argc) {\n  250          JS_ToInt32(ctx, &status, argv[optind]);\n  251        } else {\n  252          reason = JS_ToCStringLen(ctx, &rlen, argv[optind]);\n  253          if(rlen > 124)\n  254            rlen = 124;\n  255        }\n  256        optind++;\n  257      }\n  258  \n  259      opaque = ws_opaque(ws);\n  260      assert(opaque);\n  261  \n  262      // printf(\"minnet_ws_close fd=%d reason=%s\\n\", lws_get_socket_fd(ws->lwsi), reason);\n  263      if(opaque->status < CLOSING) {\n  264        // const struct lws_protocols* protocol = lws_get_protocol(ws->lwsi);\n  265  \n  266        // if(!strncmp(protocol->name, \"ws\", 2))\n  267        lws_close_reason(ws->lwsi, status, (uint8_t*)reason, rlen);\n  268      }\n  269  \n  270      opaque->status = CLOSED;\n  271  \n  272      lws_close_free_wsi(ws->lwsi, status, \"minnet_ws_close\");\n  273      ws->lwsi = 0;\n  274  \n  275      return JS_TRUE;\n  276    }\n  277  \n  278    return JS_FALSE;\n  279  }\n  280  \n  281  static JSValue\n  282  minnet_ws_get(JSContext* ctx, JSValueConst this_val, int magic) {\n  283    MinnetWebsocket* ws;\n  284    JSValue ret = JS_UNDEFINED;\n  285  \n  286    if(!(ws = minnet_ws_data(this_val)))\n  287      return JS_UNDEFINED;\n  288  \n  289    if(!ws->lwsi)\n  290      return JS_NULL;\n  291  \n  292    switch(magic) {\n  293      case WEBSOCKET_FD: {\n  294        ret = JS_NewInt32(ctx, lws_get_socket_fd(lws_get_network_wsi(ws->lwsi)));\n  295        break;\n  296      }\n  297      case WEBSOCKET_ADDRESS: {\n  298        struct sockaddr_in addr;\n  299        socklen_t addrlen = sizeof(addr);\n  300        int fd = lws_get_socket_fd(lws_get_network_wsi(ws->lwsi));\n  301  \n  302        if(getpeername(fd, (struct sockaddr*)&addr, &addrlen) != -1) {\n  303          char address[1024];\n  304          lws_get_peer_simple(ws->lwsi, address, sizeof(address));\n  305  \n  306          ret = JS_NewString(ctx, address);\n  307        }\n  308        break;\n  309      }\n  310      case WEBSOCKET_FAMILY:\n  311      case WEBSOCKET_PORT: {\n  312        struct sockaddr_in addr;\n  313        socklen_t addrlen = sizeof(addr);\n  314        int fd = lws_get_socket_fd(lws_get_network_wsi(ws->lwsi));\n  315  \n  316        if(getpeername(fd, (struct sockaddr*)&addr, &addrlen) != -1) {\n  317          ret = JS_NewInt32(ctx, magic == 2 ? addr.sin_family : ntohs(addr.sin_port));\n  318        }\n  319        break;\n  320      }\n  321      case WEBSOCKET_PEER: {\n  322        struct sockaddr_in addr;\n  323        socklen_t addrlen = sizeof(addr);\n  324        int fd = lws_get_socket_fd(lws_get_network_wsi(ws->lwsi));\n  325  \n  326        if(getpeername(fd, (struct sockaddr*)&addr, &addrlen) != -1) {\n  327          ret = JS_NewArrayBufferCopy(ctx, (const uint8_t*)&addr, addrlen);\n  328        }\n  329        break;\n  330      }\n  331      case WEBSOCKET_SSL: {\n  332        ret = JS_NewBool(ctx, wsi_tls(lws_get_network_wsi(ws->lwsi)));\n  333        break;\n  334      }\n  335      case WEBSOCKET_BINARY: {\n  336        ret = JS_NewBool(ctx, ws_opaque(ws)->binary);\n  337        break;\n  338      }\n  339      case WEBSOCKET_READYSTATE: {\n  340        ret = JS_NewUint32(ctx, ws_opaque(ws)->status);\n  341        break;\n  342      }\n  343      case WEBSOCKET_PROTOCOL: {\n  344        const struct lws_protocols* protocol;\n  345        struct lws_client_connect_info* cinfo;\n  346  \n  347        if((cinfo = ws_opaque(ws)->connect_info) && cinfo->protocol)\n  348          ret = JS_NewString(ctx, cinfo->protocol);\n  349        else if((protocol = lws_get_protocol(ws->lwsi)))\n  350          ret = JS_NewString(ctx, protocol->name);\n  351        break;\n  352      }\n  353  \n  354        /* case WEBSOCKET_RESERVED_BITS: {\n  355           ret = JS_NewUint32(ctx, lws_get_reserved_bits(ws->lwsi));\n  356           break;\n  357         }\n  358         case WEBSOCKET_FINAL_FRAGMENT: {\n  359           ret = JS_NewBool(ctx, lws_is_final_fragment(ws->lwsi));\n  360           break;\n  361         }\n  362         case WEBSOCKET_FIRST_FRAGMENT: {\n  363           ret = JS_NewBool(ctx, lws_is_first_fragment(ws->lwsi));\n  364           break;\n  365         }\n  366         case WEBSOCKET_PARTIAL_BUFFERED: {\n  367           ret = JS_NewInt32(ctx, lws_partial_buffered(ws->lwsi));\n  368           break;\n  369         }*/\n  370    }\n  371    return ret;\n  372  }\n  373  \n  374  static JSValue\n  375  minnet_ws_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  376    MinnetWebsocket* ws;\n  377    JSValue ret = JS_UNDEFINED;\n  378  \n  379    if(!(ws = minnet_ws_data2(ctx, this_val)))\n  380      return JS_EXCEPTION;\n  381  \n  382    switch(magic) {\n  383  \n  384      case WEBSOCKET_BINARY: {\n  385        ws_opaque(ws)->binary = JS_ToBool(ctx, value);\n  386        break;\n  387      }\n  388    }\n  389    return ret;\n  390  }\n  391  \n  392  enum {\n  393    WEBSOCKET_FROMFD = 0,\n  394  };\n  395  \n  396  static JSValue\n  397  minnet_ws_static(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  398    JSValue ret = JS_UNDEFINED;\n  399    switch(magic) {\n  400      case WEBSOCKET_FROMFD: {\n  401        struct lws* wsi;\n  402        struct context* context;\n  403        int32_t fd = -1;\n  404  \n  405        if(argc > 0)\n  406          JS_ToInt32(ctx, &fd, argv[0]);\n  407  \n  408        if((context = context_for_fd(fd, &wsi))) {\n  409          struct wsi_opaque_user_data* opaque;\n  410          struct session_data* sess;\n  411  \n  412          if((opaque = opaque_fromwsi(wsi))) {\n  413            if(!opaque->ws)\n  414              opaque->ws = ws_new(wsi, ctx);\n  415  \n  416            ret = minnet_ws_wrap(ctx, opaque->ws);\n  417          } else if((sess = lws_session(wsi))) {\n  418            ret = JS_NewInt32(ctx, -2);\n  419          } else {\n  420            ret = minnet_ws_new(ctx, wsi);\n  421          }\n  422        }\n  423  \n  424        break;\n  425      }\n  426    }\n  427    return ret;\n  428  }\n  429  \n  430  JSValue\n  431  minnet_ws_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n  432    JSValue proto, obj;\n  433    MinnetWebsocket* ws;\n  434  \n  435    if(!(ws = js_mallocz(ctx, sizeof(MinnetWebsocket))))\n  436      return JS_ThrowOutOfMemory(ctx);\n  437  \n  438    /* using new_target to get the prototype is necessary when the class is extended. */\n  439    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n  440    if(JS_IsException(proto))\n  441      proto = JS_DupValue(ctx, minnet_ws_proto);\n  442  \n  443    obj = JS_NewObjectProtoClass(ctx, proto, minnet_ws_class_id);\n  444    JS_FreeValue(ctx, proto);\n  445    if(JS_IsException(obj))\n  446      goto fail;\n  447  \n  448    /* if(argc > 0) {\n  449       if(JS_IsNumber(argv[0])) {\n  450         uint32_t fd;\n  451         JS_ToUint32(ctx, &fd, argv[0]);\n  452         ws->lwsi = lws_adopt_socket(server->context.lws, fd);\n  453       }\n  454     }*/\n  455  \n  456    JS_SetOpaque(obj, ws);\n  457  \n  458    if(ws->lwsi) {\n  459      struct wsi_opaque_user_data* opaque = opaque_new(ctx);\n  460      // opaque->obj = JS_VALUE_GET_OBJ(JS_DupValue(ctx, obj));\n  461      // opaque->handler = JS_NULL;\n  462      lws_set_opaque_user_data(ws->lwsi, opaque);\n  463    }\n  464  \n  465    return obj;\n  466  \n  467  fail:\n  468    js_free(ctx, ws);\n  469    JS_FreeValue(ctx, obj);\n  470    return JS_EXCEPTION;\n  471  }\n  472  \n  473  static void\n  474  minnet_ws_finalizer(JSRuntime* rt, JSValue val) {\n  475    MinnetWebsocket* ws;\n  476    if((ws = minnet_ws_data(val))) {\n  477      ws_free_rt(ws, rt);\n  478    }\n  479  }\n  480  \n  481  JSClassDef minnet_ws_class = {\n  482      \"MinnetWebsocket\",\n  483      .finalizer = minnet_ws_finalizer,\n  484  };\n  485  \n  486  const JSCFunctionListEntry minnet_ws_proto_funcs[] = {\n  487      JS_CFUNC_DEF(\"send\", 1, minnet_ws_send),\n  488      JS_CFUNC_MAGIC_DEF(\"respond\", 1, minnet_ws_respond, RESPONSE_BODY),\n  489      JS_CFUNC_MAGIC_DEF(\"redirect\", 2, minnet_ws_respond, RESPONSE_REDIRECT),\n  490      JS_CFUNC_MAGIC_DEF(\"header\", 2, minnet_ws_respond, RESPONSE_HEADER),\n  491      JS_CFUNC_DEF(\"ping\", 1, minnet_ws_ping),\n  492      JS_CFUNC_DEF(\"pong\", 1, minnet_ws_pong),\n  493      JS_CFUNC_DEF(\"close\", 1, minnet_ws_close),\n  494      JS_CGETSET_MAGIC_FLAGS_DEF(\"protocol\", minnet_ws_get, 0, WEBSOCKET_PROTOCOL, JS_PROP_ENUMERABLE),\n  495      JS_CGETSET_MAGIC_FLAGS_DEF(\"fd\", minnet_ws_get, 0, WEBSOCKET_FD, JS_PROP_ENUMERABLE),\n  496      JS_CGETSET_MAGIC_FLAGS_DEF(\"address\", minnet_ws_get, 0, WEBSOCKET_ADDRESS, 0),\n  497      JS_ALIAS_DEF(\"remoteAddress\", \"address\"),\n  498      JS_CGETSET_MAGIC_FLAGS_DEF(\"family\", minnet_ws_get, 0, WEBSOCKET_FAMILY, 0),\n  499      JS_CGETSET_MAGIC_FLAGS_DEF(\"port\", minnet_ws_get, 0, WEBSOCKET_PORT, 0),\n  500      JS_CGETSET_MAGIC_FLAGS_DEF(\"peer\", minnet_ws_get, 0, WEBSOCKET_PEER, 0),\n  501      JS_CGETSET_MAGIC_FLAGS_DEF(\"ssl\", minnet_ws_get, 0, WEBSOCKET_SSL, 0),\n  502      JS_ALIAS_DEF(\"tls\", \"ssl\"),\n  503      JS_CGETSET_MAGIC_FLAGS_DEF(\"binary\", minnet_ws_get, minnet_ws_set, WEBSOCKET_BINARY, 0),\n  504      JS_CGETSET_MAGIC_FLAGS_DEF(\"readyState\", minnet_ws_get, 0, WEBSOCKET_READYSTATE, JS_PROP_ENUMERABLE),\n  505      /*JS_CGETSET_MAGIC_FLAGS_DEF(\"reservedBits\", minnet_ws_get, 0, WEBSOCKET_RESERVED_BITS, 0),\n  506      JS_CGETSET_MAGIC_FLAGS_DEF(\"firstFragment\", minnet_ws_get, 0, WEBSOCKET_FIRST_FRAGMENT, 0),\n  507      JS_CGETSET_MAGIC_FLAGS_DEF(\"finalFragment\", minnet_ws_get, 0, WEBSOCKET_FINAL_FRAGMENT, 0),\n  508      JS_CGETSET_MAGIC_FLAGS_DEF(\"partialBuffered\", minnet_ws_get, 0, WEBSOCKET_PARTIAL_BUFFERED, 0),*/\n  509      JS_ALIAS_DEF(\"remote\", \"peer\"),\n  510      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetWebsocket\", JS_PROP_CONFIGURABLE),\n  511      JS_PROP_INT32_DEF(\"CONNECTING\", 0, JS_PROP_CONFIGURABLE),\n  512      JS_PROP_INT32_DEF(\"OPEN\", 1, JS_PROP_CONFIGURABLE),\n  513      JS_PROP_INT32_DEF(\"CLOSING\", 2, JS_PROP_CONFIGURABLE),\n  514      JS_PROP_INT32_DEF(\"CLOSED\", 3, JS_PROP_CONFIGURABLE),\n  515  };\n  516  \n  517  const JSCFunctionListEntry minnet_ws_static_funcs[] = {\n  518      JS_CFUNC_MAGIC_DEF(\"byFd\", 1, minnet_ws_static, 0),\n  519      JS_PROP_INT32_DEF(\"CONNECTING\", 0, JS_PROP_ENUMERABLE),\n  520      JS_PROP_INT32_DEF(\"OPEN\", 1, JS_PROP_ENUMERABLE),\n  521      JS_PROP_INT32_DEF(\"CLOSING\", 2, JS_PROP_ENUMERABLE),\n  522      JS_PROP_INT32_DEF(\"CLOSED\", 3, JS_PROP_ENUMERABLE),\n  523  };\n  524  \n  525  const JSCFunctionListEntry minnet_ws_proto_defs[] = {\n  526      JS_PROP_INT32_DEF(\"CLOSE_STATUS_NORMAL\", LWS_CLOSE_STATUS_NORMAL, 0),\n  527      JS_PROP_INT32_DEF(\"CLOSE_STATUS_GOINGAWAY\", LWS_CLOSE_STATUS_GOINGAWAY, 0),\n  528      JS_PROP_INT32_DEF(\"CLOSE_STATUS_PROTOCOL_ERR\", LWS_CLOSE_STATUS_PROTOCOL_ERR, 0),\n  529      JS_PROP_INT32_DEF(\"CLOSE_STATUS_UNACCEPTABLE_OPCODE\", LWS_CLOSE_STATUS_UNACCEPTABLE_OPCODE, 0),\n  530      JS_PROP_INT32_DEF(\"CLOSE_STATUS_RESERVED\", LWS_CLOSE_STATUS_RESERVED, 0),\n  531      JS_PROP_INT32_DEF(\"CLOSE_STATUS_NO_STATUS\", LWS_CLOSE_STATUS_NO_STATUS, 0),\n  532      JS_PROP_INT32_DEF(\"CLOSE_STATUS_ABNORMAL_CLOSE\", LWS_CLOSE_STATUS_ABNORMAL_CLOSE, 0),\n  533      JS_PROP_INT32_DEF(\"CLOSE_STATUS_INVALID_PAYLOAD\", LWS_CLOSE_STATUS_INVALID_PAYLOAD, 0),\n  534      JS_PROP_INT32_DEF(\"CLOSE_STATUS_POLICY_VIOLATION\", LWS_CLOSE_STATUS_POLICY_VIOLATION, 0),\n  535      JS_PROP_INT32_DEF(\"CLOSE_STATUS_MESSAGE_TOO_LARGE\", LWS_CLOSE_STATUS_MESSAGE_TOO_LARGE, 0),\n  536      JS_PROP_INT32_DEF(\"CLOSE_STATUS_EXTENSION_REQUIRED\", LWS_CLOSE_STATUS_EXTENSION_REQUIRED, 0),\n  537      JS_PROP_INT32_DEF(\"CLOSE_STATUS_UNEXPECTED_CONDITION\", LWS_CLOSE_STATUS_UNEXPECTED_CONDITION, 0),\n  538      JS_PROP_INT32_DEF(\"CLOSE_STATUS_TLS_FAILURE\", LWS_CLOSE_STATUS_TLS_FAILURE, 0),\n  539      JS_PROP_INT32_DEF(\"HTTP_STATUS_CONTINUE\", HTTP_STATUS_CONTINUE, 0),\n  540      JS_PROP_INT32_DEF(\"HTTP_STATUS_OK\", HTTP_STATUS_OK, 0),\n  541      JS_PROP_INT32_DEF(\"HTTP_STATUS_NO_CONTENT\", HTTP_STATUS_NO_CONTENT, 0),\n  542      JS_PROP_INT32_DEF(\"HTTP_STATUS_PARTIAL_CONTENT\", HTTP_STATUS_PARTIAL_CONTENT, 0),\n  543      JS_PROP_INT32_DEF(\"HTTP_STATUS_MOVED_PERMANENTLY\", HTTP_STATUS_MOVED_PERMANENTLY, 0),\n  544      JS_PROP_INT32_DEF(\"HTTP_STATUS_FOUND\", HTTP_STATUS_FOUND, 0),\n  545      JS_PROP_INT32_DEF(\"HTTP_STATUS_SEE_OTHER\", HTTP_STATUS_SEE_OTHER, 0),\n  546      JS_PROP_INT32_DEF(\"HTTP_STATUS_NOT_MODIFIED\", HTTP_STATUS_NOT_MODIFIED, 0),\n  547      JS_PROP_INT32_DEF(\"HTTP_STATUS_BAD_REQUEST\", HTTP_STATUS_BAD_REQUEST, 0),\n  548      JS_PROP_INT32_DEF(\"HTTP_STATUS_UNAUTHORIZED\", HTTP_STATUS_UNAUTHORIZED, 0),\n  549      JS_PROP_INT32_DEF(\"HTTP_STATUS_PAYMENT_REQUIRED\", HTTP_STATUS_PAYMENT_REQUIRED, 0),\n  550      JS_PROP_INT32_DEF(\"HTTP_STATUS_FORBIDDEN\", HTTP_STATUS_FORBIDDEN, 0),\n  551      JS_PROP_INT32_DEF(\"HTTP_STATUS_NOT_FOUND\", HTTP_STATUS_NOT_FOUND, 0),\n  552      JS_PROP_INT32_DEF(\"HTTP_STATUS_METHOD_NOT_ALLOWED\", HTTP_STATUS_METHOD_NOT_ALLOWED, 0),\n  553      JS_PROP_INT32_DEF(\"HTTP_STATUS_NOT_ACCEPTABLE\", HTTP_STATUS_NOT_ACCEPTABLE, 0),\n  554      JS_PROP_INT32_DEF(\"HTTP_STATUS_PROXY_AUTH_REQUIRED\", HTTP_STATUS_PROXY_AUTH_REQUIRED, 0),\n  555      JS_PROP_INT32_DEF(\"HTTP_STATUS_REQUEST_TIMEOUT\", HTTP_STATUS_REQUEST_TIMEOUT, 0),\n  556      JS_PROP_INT32_DEF(\"HTTP_STATUS_CONFLICT\", HTTP_STATUS_CONFLICT, 0),\n  557      JS_PROP_INT32_DEF(\"HTTP_STATUS_GONE\", HTTP_STATUS_GONE, 0),\n  558      JS_PROP_INT32_DEF(\"HTTP_STATUS_LENGTH_REQUIRED\", HTTP_STATUS_LENGTH_REQUIRED, 0),\n  559      JS_PROP_INT32_DEF(\"HTTP_STATUS_PRECONDITION_FAILED\", HTTP_STATUS_PRECONDITION_FAILED, 0),\n  560      JS_PROP_INT32_DEF(\"HTTP_STATUS_REQ_ENTITY_TOO_LARGE\", HTTP_STATUS_REQ_ENTITY_TOO_LARGE, 0),\n  561      JS_PROP_INT32_DEF(\"HTTP_STATUS_REQ_URI_TOO_LONG\", HTTP_STATUS_REQ_URI_TOO_LONG, 0),\n  562      JS_PROP_INT32_DEF(\"HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE\", HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE, 0),\n  563      JS_PROP_INT32_DEF(\"HTTP_STATUS_REQ_RANGE_NOT_SATISFIABLE\", HTTP_STATUS_REQ_RANGE_NOT_SATISFIABLE, 0),\n  564      JS_PROP_INT32_DEF(\"HTTP_STATUS_EXPECTATION_FAILED\", HTTP_STATUS_EXPECTATION_FAILED, 0),\n  565      JS_PROP_INT32_DEF(\"HTTP_STATUS_INTERNAL_SERVER_ERROR\", HTTP_STATUS_INTERNAL_SERVER_ERROR, 0),\n  566      JS_PROP_INT32_DEF(\"HTTP_STATUS_NOT_IMPLEMENTED\", HTTP_STATUS_NOT_IMPLEMENTED, 0),\n  567      JS_PROP_INT32_DEF(\"HTTP_STATUS_BAD_GATEWAY\", HTTP_STATUS_BAD_GATEWAY, 0),\n  568      JS_PROP_INT32_DEF(\"HTTP_STATUS_SERVICE_UNAVAILABLE\", HTTP_STATUS_SERVICE_UNAVAILABLE, 0),\n  569      JS_PROP_INT32_DEF(\"HTTP_STATUS_GATEWAY_TIMEOUT\", HTTP_STATUS_GATEWAY_TIMEOUT, 0),\n  570      JS_PROP_INT32_DEF(\"HTTP_STATUS_HTTP_VERSION_NOT_SUPPORTED\", HTTP_STATUS_HTTP_VERSION_NOT_SUPPORTED, 0),\n  571  };\n  572  \n  573  const size_t minnet_ws_proto_funcs_size = countof(minnet_ws_proto_funcs);\n  574  const size_t minnet_ws_static_funcs_size = countof(minnet_ws_static_funcs);\n  575  const size_t minnet_ws_proto_defs_size = countof(minnet_ws_proto_defs);\n  576  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.h:\n    1  #ifndef MINNET_CLIENT_HTTP_H\n    2  #define MINNET_CLIENT_HTTP_H\n    3  \n    4  #include \"minnet-request.h\"\n    5  #include <libwebsockets.h>\n    6  \n    7  int http_client_callback(struct lws*, enum lws_callback_reasons reason, void* user, void* in, size_t len);\n    8  \n    9  #endif /* MINNET_CLIENT_HTTP_H */\n   10  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c:\n    1  #include \"minnet-client.h\"\n    2  #include \"minnet-client-http.h\"\n    3  #include \"minnet-websocket.h\"\n    4  #include \"minnet-response.h\"\n    5  #include \"minnet.h\"\n    6  #include \"headers.h\"\n    7  #include \"jsutils.h\"\n    8  #include <libwebsockets.h>\n    9  \n   10  typedef struct {\n   11    int ref_count;\n   12    JSContext* ctx;\n   13    struct session_data* session;\n   14    MinnetResponse* resp;\n   15    struct lws* wsi;\n   16  } HTTPAsyncResolveClosure;\n   17  \n   18  int\n   19  http_client_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n   20  \n   21    if(reason == LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS)\n   22      return 0;\n   23  \n   24    MinnetClient* client = lws_client(wsi);\n   25    struct session_data* session = &client->session;\n   26    JSContext* ctx = client ? client->context.js : 0;\n   27    struct wsi_opaque_user_data* opaque;\n   28  \n   29    if(lws_reason_poll(reason))\n   30      return wsi_handle_poll(wsi, reason, &client->on.fd, in);\n   31  \n   32    if((opaque = lws_opaque(wsi, ctx))) {\n   33      if(!opaque->sess && session)\n   34        opaque->sess = session;\n   35    }\n   36  \n   37    // lwsl_user(\"client-http \" FG(\"%d\") \"%-38s\" NC \" is_ssl=%i len=%zu in='%.*s'\\n\", 22 + (reason * 2), lws_callback_name(reason) + 13, wsi_tls(wsi), len, (int)MIN(len, 32), (char*)in);\n   38    if(reason != LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ)\n   39      LOGCB(\"CLIENT-HTTP \", \"fd=%d, h2=%i, tls=%i%s%.*s%s\", lws_get_socket_fd(wsi), wsi_http2(wsi), wsi_tls(wsi), (in && len) ? \", in='\" : \"\", (int)len, (char*)in, (in && len) ? \"'\" : \"\");\n   40  \n   41    switch(reason) {\n   42      case LWS_CALLBACK_CLIENT_FILTER_PRE_ESTABLISH: {\n   43  \n   44        MinnetRequest* req = client->request;\n   45        MinnetResponse* resp;\n   46  \n   47        if(req) {\n   48          // url_fromwsi(&req->url, wsi, ctx);\n   49  \n   50          session->req_obj = minnet_request_wrap(ctx, client->request);\n   51        }\n   52  \n   53        if(!(resp = opaque->resp)) {\n   54          resp = opaque->resp = response_new(ctx);\n   55  \n   56          resp->generator = generator_new(ctx);\n   57          resp->status = lws_http_client_http_response(wsi);\n   58  \n   59          headers_tobuffer(ctx, &opaque->resp->headers, wsi);\n   60          session->resp_obj = minnet_response_wrap(ctx, opaque->resp);\n   61        }\n   62        /*    if(js_is_nullish(session->req_obj))\n   63              session->req_obj = minnet_request_wrap(ctx, client->request);\n   64            if(js_is_nullish(session->resp_obj))\n   65              session->resp_obj = minnet_response_wrap(ctx, client->response);\n   66      */\n   67        return 0;\n   68      }\n   69      case LWS_CALLBACK_SERVER_NEW_CLIENT_INSTANTIATED:\n   70      case LWS_CALLBACK_WSI_CREATE:\n   71      case LWS_CALLBACK_CONNECTING: {\n   72        break;\n   73      }\n   74      case LWS_CALLBACK_PROTOCOL_INIT: {\n   75        session_zero(session);\n   76        return 0;\n   77      }\n   78      case LWS_CALLBACK_CLIENT_CONNECTION_ERROR: {\n   79        if(js_promise_pending(&client->promise)) {\n   80          JSValue err = js_error_new(ctx, \"%s\", (char*)in);\n   81          js_promise_reject(ctx, &client->promise, err);\n   82          JS_FreeValue(ctx, err);\n   83        }\n   84        return -1;\n   85      }\n   86  \n   87      case LWS_CALLBACK_CLIENT_HTTP_BIND_PROTOCOL: {\n   88        session->req_obj = JS_NULL;\n   89        session->resp_obj = JS_NULL;\n   90        break;\n   91      }\n   92      case LWS_CALLBACK_CLIENT_HTTP_DROP_PROTOCOL: {\n   93        break;\n   94      }\n   95      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER: {\n   96  \n   97        MinnetRequest* req = client->request;\n   98        ByteBuffer buf = BUFFER_N(*(uint8_t**)in, len);\n   99  \n  100        req->h2 = wsi_http2(wsi);\n  101  \n  102        size_t n = headers_write(&buf.write, buf.end, &req->headers, wsi);\n  103  \n  104        DEBUG(\"APPEND_HANDSHAKE_HEADER %zu %zd '%.*s'\\n\", n, buffer_HEAD(&buf), (int)n, buf.read);\n  105        *(uint8_t**)in += n;\n  106  \n  107        if(method_number(client->connect_info.method) == METHOD_POST && !lws_http_is_redirected_to_get(wsi)) {\n  108          lws_client_http_body_pending(wsi, 1);\n  109          lws_callback_on_writable(wsi);\n  110        }\n  111        break;\n  112      }\n  113  \n  114      case LWS_CALLBACK_WSI_DESTROY: {\n  115        if(client->wsi == wsi) {\n  116          if(js_promise_pending(&client->promise))\n  117            js_promise_resolve(ctx, &client->promise, JS_UNDEFINED);\n  118        }\n  119        return -1;\n  120        break;\n  121      }\n  122  \n  123      case LWS_CALLBACK_CLOSED_CLIENT_HTTP: {\n  124        if(opaque->status < CLOSED) {\n  125          opaque->status = CLOSED;\n  126          if(client->on.close.ctx) {\n  127            JSValueConst cb_argv[] = {\n  128                JS_DupValue(client->on.close.ctx, session->ws_obj),\n  129                JS_NewInt32(client->on.close.ctx, 0),\n  130            };\n  131            client_exception(client, callback_emit(&client->on.close, countof(cb_argv), cb_argv));\n  132            JS_FreeValue(client->on.close.ctx, cb_argv[0]);\n  133            JS_FreeValue(client->on.close.ctx, cb_argv[1]);\n  134          }\n  135  \n  136          if(opaque->resp->generator)\n  137            generator_close(opaque->resp->generator, JS_UNDEFINED);\n  138        }\n  139        lws_cancel_service(lws_get_context(wsi)); /* abort poll wait */\n  140        return -1;\n  141      }\n  142  \n  143      case LWS_CALLBACK_ESTABLISHED_CLIENT_HTTP: {\n  144        int status;\n  145        MinnetResponse* resp;\n  146  \n  147        // client->req->h2 = wsi_http2(wsi);\n  148  \n  149        if(!(resp = opaque->resp)) {\n  150          resp = opaque->resp = response_new(ctx);\n  151          resp->generator = generator_new(ctx);\n  152          resp->status = lws_http_client_http_response(wsi);\n  153          headers_tobuffer(ctx, &opaque->resp->headers, wsi);\n  154          session->resp_obj = minnet_response_wrap(ctx, opaque->resp);\n  155        }\n  156  \n  157        headers_tobuffer(ctx, &opaque->resp->headers, wsi);\n  158  \n  159        if(!resp->type)\n  160          resp->type = headers_get(&resp->headers, \"content-type\", ctx);\n  161  \n  162        if(resp->type) {\n  163          if(!strncmp(resp->type, \"text/\", 5))\n  164            resp->generator->block_fn = &block_tostring;\n  165        }\n  166  \n  167        url_copy(&resp->url, client->request->url, client->on.http.ctx);\n  168  \n  169        // opaque->resp->headers = headers_gettoken(ctx, wsi, WSI_TOKEN_HTTP_CONTENT_TYPE);\n  170  \n  171        if(!opaque->ws)\n  172          opaque->ws = ws_new(wsi, ctx);\n  173        session->ws_obj = minnet_ws_wrap(ctx, opaque->ws);\n  174  \n  175        opaque->resp->status = status = lws_http_client_http_response(wsi);\n  176  \n  177        lwsl_user(\"http-established #1 \" FGC(171, \"%-38s\") \"  server response: %d\\n\", lws_callback_name(reason) + 13, status);\n  178        {\n  179          size_t i, hdrlen = lws_hdr_total_length(wsi, WSI_TOKEN_HTTP);\n  180          char buf[(((hdrlen + 1) + 7) >> 3) << 3];\n  181          lws_hdr_copy(wsi, buf, sizeof(buf), WSI_TOKEN_HTTP);\n  182          buf[hdrlen] = '\\0';\n  183          if(buf[(i = byte_chr(buf, hdrlen, ' '))])\n  184            i += 1;\n  185          client->response->status_text = js_strdup(ctx, &buf[i]);\n  186        }\n  187  \n  188        if(client->on.http.ctx) {\n  189          JSValue ret;\n  190          ret = client_exception(client, callback_emit_this(&client->on.http, session->ws_obj, 2, &session->req_obj));\n  191          JS_FreeValue(client->on.http.ctx, ret);\n  192        }\n  193  \n  194        if(method_number(client->connect_info.method) == METHOD_POST) {\n  195          lws_client_http_body_pending(wsi, 1);\n  196          lws_callback_on_writable(wsi);\n  197        }\n  198        return 0;\n  199      }\n  200  \n  201      case LWS_CALLBACK_CLIENT_HTTP_WRITEABLE:\n  202        /*  case LWS_CALLBACK_HTTP_WRITEABLE: */ {\n  203          if(method_number(client->connect_info.method) == METHOD_POST) {\n  204            JSValue value;\n  205            int n;\n  206            ssize_t size, r;\n  207            // MinnetRequest* req = client->request;\n  208            ByteBuffer buf;\n  209            buffer_alloc(&buf, 1024);\n  210  \n  211            if(lws_http_is_redirected_to_get(wsi))\n  212              break;\n  213            if(JS_IsObject(client->body)) {\n  214              while(!client->done) {\n  215                value = js_iterator_next(ctx, client->body, &client->next, &client->done, 0, 0);\n  216  \n  217                DEBUG(\"js_iterator_next() = %s %i done=%i\\n\", JS_ToCString(ctx, value), JS_VALUE_GET_TAG(value), client->done);\n  218  \n  219                if(JS_IsException(value)) {\n  220                  JSValue exception = JS_GetException(ctx);\n  221                  js_error_print(ctx, exception);\n  222                  JS_Throw(ctx, exception);\n  223                } else if(!js_is_nullish(value)) {\n  224                  JSBuffer input = js_buffer_new(ctx, value);\n  225                  // js_std_dump_error(ctx);\n  226  \n  227                  DEBUG(\"\\x1b[2K\\ryielded %p %zu\\n\", input.data, input.size);\n  228                  buffer_append(&buf, input.data, input.size);\n  229                  DEBUG(\"\\x1b[2K\\rbuffered %zu/%zu bytes\\n\", buffer_REMAIN(&buf), buffer_HEAD(&buf));\n  230                  js_buffer_free(&input, ctx);\n  231                }\n  232  \n  233                break;\n  234              }\n  235            }\n  236            n = client->done ? LWS_WRITE_HTTP_FINAL : LWS_WRITE_HTTP;\n  237            size = buf.write - buf.start;\n  238            if((r = lws_write(wsi, buf.start, size, (enum lws_write_protocol)n)) != size)\n  239              return 1;\n  240            DEBUG(\"\\x1b[2K\\rwrote %zd%s\\n\", r, n == LWS_WRITE_HTTP_FINAL ? \" (final)\" : \"\");\n  241            if(n != LWS_WRITE_HTTP_FINAL)\n  242              lws_callback_on_writable(wsi);\n  243          }\n  244          return 0;\n  245        }\n  246  \n  247      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP: {\n  248        int ret;\n  249        static uint8_t buffer[1024 + LWS_PRE];\n  250        ByteBuffer buf = BUFFER(buffer);\n  251        int len = buffer_AVAIL(&buf);\n  252        // lwsl_user(\"http #1  \" FGC(171, \"%-38s\") \" fd=%d buf=%p write=%zu len=%d\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(wsi), block_BEGIN(&buf), buffer_HEAD(&buf), len);\n  253        ret = lws_http_client_read(wsi, (char**)&buf.write, &len);\n  254        if(ret)\n  255          return -1;\n  256        return 0;\n  257      }\n  258  \n  259      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ: {\n  260        MinnetResponse* resp = opaque->resp;\n  261  \n  262        LOGCB(\"CLIENT-HTTP(2)\", \"len=%zu in='%.*s'\", len, len > 30 ? 30 : (int)len, (char*)in);\n  263  \n  264        if(!JS_IsObject(session->resp_obj))\n  265          session->resp_obj = minnet_response_wrap(ctx, opaque->resp);\n  266  \n  267        DEBUG(\"LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ len=%zu in='%.*s'\", len, /*len > 30 ? 30 :*/ (int)len, (char*)in);\n  268  \n  269        generator_write(resp->generator, in, len, JS_UNDEFINED);\n  270  \n  271        return 0;\n  272      }\n  273  \n  274      case LWS_CALLBACK_COMPLETED_CLIENT_HTTP: {\n  275        MinnetResponse* resp = opaque->resp;\n  276        Generator* gen = resp->generator;\n  277        LOGCB(\"CLIENT-HTTP(2)\", \"gen->q=%p\", gen->q);\n  278  \n  279        if(gen && gen->q) {\n  280  \n  281          if(gen->q->continuous && !JS_IsNull(gen->callback)) {\n  282            BOOL done = FALSE;\n  283            JSValue ret = generator_dequeue(gen, &done);\n  284  \n  285            JS_Call(ctx, gen->callback, JS_UNDEFINED, 1, &ret);\n  286            JS_FreeValue(ctx, ret);\n  287          }\n  288        }\n  289  \n  290        if(client->on.http.ctx) {\n  291          /*        MinnetRequest* req;\n  292                  MinnetResponse* resp = minnet_response_data2(client->on.http.ctx, session->resp_obj);\n  293                  int32_t result = -1;\n  294                  JSValue ret;\n  295          */\n  296  \n  297          // url_copy(&resp->url, client->request->url, client->on.http.ctx);\n  298  \n  299          // resp->type = headers_get(&resp->headers, \"content-type\", client->on.http.ctx);\n  300  \n  301          /*    ret = client_exception(client, callback_emit_this(&client->on.http, session->ws_obj, 2, &session->req_obj));\n  302  \n  303              if(JS_IsNumber(ret)) {\n  304                JS_ToInt32(client->on.http.ctx, &result, ret);\n  305  \n  306                //printf(\"onHttp() returned: %\" PRId32 \"\\n\", result);\n  307                client->wsi = wsi;\n  308  \n  309              } else if((req = minnet_request_data(ret))) {\n  310                url_info(req->url, &client->connect_info);\n  311                client->connect_info.pwsi = &client->wsi;\n  312                client->connect_info.context = client->context.lws;\n  313  \n  314                if(client->request) {\n  315                  request_free(client->request, client->on.http.ctx);\n  316                  client->request = 0;\n  317                }\n  318  \n  319                if(client->response) {\n  320                  response_free(client->response, client->on.http.ctx);\n  321                  client->response = 0;\n  322                }\n  323                if(opaque->resp) {\n  324                  response_free(opaque->resp, client->on.http.ctx);\n  325                  opaque->resp = 0;\n  326                }\n  327  \n  328                client->request = req;\n  329                client->response = response_new(client->on.http.ctx);\n  330  \n  331  \n  332                lws_client_connect_via_info(&client->connect_info);\n  333  \n  334                result = 0;\n  335              } else if(js_is_promise(ctx, ret)) {\n  336                JSValue promise = client_promise(ctx, session, resp, wsi, ret);\n  337  \n  338              } else {\n  339                const char* str = JS_ToCString(ctx, ret);\n  340                JS_ThrowInternalError(client->on.http.ctx, \"onHttp didn't return a number: %s\", str);\n  341                if(str)\n  342                  JS_FreeCString(ctx, str);\n  343              }\n  344  \n  345              if(result != 0) {\n  346                lws_cancel_service(lws_get_context(wsi));\n  347              }\n  348  \n  349              return result;*/\n  350        }\n  351        break;\n  352      }\n  353      case LWS_CALLBACK_PROTOCOL_DESTROY: {\n  354        break;\n  355      }\n  356      default: {\n  357        minnet_lws_unhandled(__func__, reason);\n  358        break;\n  359      }\n  360    }\n  361  \n  362    /* if(reason < LWS_CALLBACK_ADD_POLL_FD || reason > LWS_CALLBACK_UNLOCK_POLL)\n  363       lwsl_notice(\"client-http  %-38s fd=%i, in='%.*s'\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(lws_get_network_wsi(wsi)), (int)len, (char*)in);\n  364   */\n  365    return lws_callback_http_dummy(wsi, reason, user, in, len);\n  366  }\n  367  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.c:\n    1  #include \"minnet-ringbuffer.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"deferred.h\"\n    4  #include <quickjs.h>\n    5  #include <assert.h>\n    6  #include <libwebsockets.h>\n    7  #include <pthread.h>\n    8  \n    9  THREAD_LOCAL JSClassID minnet_ringbuffer_class_id;\n   10  THREAD_LOCAL JSValue minnet_ringbuffer_proto, minnet_ringbuffer_ctor;\n   11  \n   12  enum {\n   13    RINGBUFFER_WAITING_ELEMENTS,\n   14    RINGBUFFER_GET_ELEMENT,\n   15    RINGBUFFER_CONSUME,\n   16    RINGBUFFER_SKIP,\n   17    RINGBUFFER_UPDATE_OLDEST_TAIL,\n   18    RINGBUFFER_CREATE_TAIL,\n   19    RINGBUFFER_INSERT,\n   20    RINGBUFFER_BUMP_HEAD,\n   21    RINGBUFFER_TYPE,\n   22    RINGBUFFER_COUNT,\n   23    RINGBUFFER_BYTELEN,\n   24    RINGBUFFER_SIZE,\n   25    RINGBUFFER_ELEMENTLEN,\n   26    RINGBUFFER_AVAIL,\n   27    RINGBUFFER_BUFFER,\n   28    RINGBUFFER_HEAD,\n   29    RINGBUFFER_OLDEST_TAIL,\n   30    RINGBUFFER_INSERTRANGE,\n   31    RINGBUFFER_CONSUMERANGE,\n   32  };\n   33  \n   34  JSValue\n   35  minnet_ringbuffer_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n   36    JSValue proto, obj;\n   37    MinnetRingbuffer* rb;\n   38  \n   39    if(!(rb = ringbuffer_new(ctx)))\n   40      return JS_ThrowOutOfMemory(ctx);\n   41  \n   42    /* using new_target to get the prototype is necessary when the class is extended. */\n   43    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n   44    if(JS_IsException(proto) || JS_IsUndefined(proto))\n   45      proto = JS_DupValue(ctx, minnet_ringbuffer_proto);\n   46  \n   47    obj = JS_NewObjectProtoClass(ctx, proto, minnet_ringbuffer_class_id);\n   48    JS_FreeValue(ctx, proto);\n   49    if(JS_IsException(obj))\n   50      goto fail;\n   51  \n   52    while(argc > 0) {\n   53  \n   54      if(JS_IsString(argv[0])) {\n   55        const char* type;\n   56        type = JS_ToCString(ctx, argv[0]);\n   57        pstrcpy(rb->type, sizeof(rb->type), type);\n   58        JS_FreeCString(ctx, type);\n   59        argc -= 1;\n   60        argv += 1;\n   61  \n   62      } else if(argc >= 2 && JS_IsNumber(argv[0]) && JS_IsNumber(argv[1])) {\n   63        uint32_t element_size = 0, count = 0;\n   64        JS_ToUint32(ctx, &element_size, argv[0]);\n   65        JS_ToUint32(ctx, &count, argv[1]);\n   66  \n   67        rb->ring = lws_ring_create(rb->element_len = element_size, rb->size = count, ringbuffer_destroy_element);\n   68  \n   69        argc -= 2;\n   70        argv += 2;\n   71      } else {\n   72        break;\n   73      }\n   74    }\n   75  \n   76    JS_SetOpaque(obj, rb);\n   77  \n   78    return obj;\n   79  \n   80  fail:\n   81    js_free(ctx, rb);\n   82    JS_FreeValue(ctx, obj);\n   83    return JS_EXCEPTION;\n   84  }\n   85  \n   86  struct ringbuffer_tail {\n   87    union {\n   88      JSBuffer buf;\n   89      uint32_t* ptr;\n   90    };\n   91    MinnetRingbuffer* rb;\n   92    JSContext* ctx;\n   93  };\n   94  \n   95  static void\n   96  tail_finalize(void* ptr) {\n   97    struct ringbuffer_tail* tail = ptr;\n   98  \n   99    ringbuffer_free(tail->rb, tail->ctx);\n  100    js_buffer_free(&tail->buf, tail->ctx);\n  101    js_free(tail->ctx, tail);\n  102  }\n  103  \n  104  static struct ringbuffer_tail*\n  105  tail_new(JSContext* ctx, struct ringbuffer* rb, JSValueConst tail_value) {\n  106    struct ringbuffer_tail* tail;\n  107  \n  108    if((tail = js_malloc(ctx, sizeof(struct ringbuffer_tail)))) {\n  109      tail->ctx = ctx;\n  110      tail->rb = ringbuffer_dup(rb);\n  111      tail->buf = js_input_chars(ctx, tail_value);\n  112    }\n  113    return tail;\n  114  }\n  115  \n  116  static JSValue\n  117  tail_next(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* opaque) {\n  118    JSValue ret = JS_UNDEFINED;\n  119    struct ringbuffer_tail* tail = opaque;\n  120    struct lws_ring* r = tail->rb->ring;\n  121    uint32_t consumed, nelem = lws_ring_get_count_waiting_elements(r, tail->ptr);\n  122  \n  123    JSBuffer buf = js_buffer_alloc(ctx, nelem * ringbuffer_element_len(tail->rb));\n  124  \n  125    if((consumed = lws_ring_consume(r, tail->ptr, buf.data, nelem)) == nelem) {\n  126      lws_ring_update_oldest_tail(r, *tail->ptr);\n  127  \n  128      ret = js_iterator_result(ctx, buf.value, FALSE);\n  129    }\n  130  \n  131    js_buffer_free(&buf, ctx);\n  132  \n  133    return ret;\n  134  }\n  135  \n  136  static JSValue\n  137  minnet_ringbuffer_multitail(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  138    MinnetRingbuffer* rb;\n  139    JSValue ret = JS_UNDEFINED;\n  140    JSBuffer tail_buf;\n  141    uint32_t new_tail, *tail_ptr = 0;\n  142    int index = 0;\n  143  \n  144    if(!(rb = JS_GetOpaque2(ctx, this_val, minnet_ringbuffer_class_id)))\n  145      return JS_EXCEPTION;\n  146  \n  147    index += js_buffer_fromargs(ctx, argc, argv, &tail_buf);\n  148  \n  149    if(tail_buf.data) {\n  150      if(tail_buf.size < sizeof(uint32_t)) {\n  151        js_buffer_free(&tail_buf, ctx);\n  152        ret = JS_ThrowRangeError(ctx, \"invalid tail\");\n  153        goto fail;\n  154      }\n  155  \n  156      tail_ptr = (uint32_t*)tail_buf.data;\n  157      new_tail = *tail_ptr;\n  158  \n  159    } else if(argc < 1 || JS_ToUint32(ctx, &new_tail, argv[index++])) {\n  160      ret = JS_ThrowRangeError(ctx, \"invalid tail\");\n  161      goto fail;\n  162    }\n  163  \n  164    switch(magic) {\n  165      case RINGBUFFER_WAITING_ELEMENTS: {\n  166        ret = JS_NewUint32(ctx, lws_ring_get_count_waiting_elements(rb->ring, &new_tail));\n  167        break;\n  168      }\n  169  \n  170      case RINGBUFFER_GET_ELEMENT: {\n  171        ret =\n  172            JS_NewArrayBuffer(ctx, (uint8_t*)lws_ring_get_element(rb->ring, &new_tail), ringbuffer_element_len(rb), &deferred_finalizer, deferred_new(&ringbuffer_free, ringbuffer_dup(rb), ctx), FALSE);\n  173        break;\n  174      }\n  175  \n  176      case RINGBUFFER_CONSUME: {\n  177        JSBuffer buf;\n  178        uint32_t count;\n  179  \n  180        index += js_buffer_fromargs(ctx, argc - index, argv + index, &buf);\n  181  \n  182        if(buf.data) {\n  183          size_t elem_len = ringbuffer_element_len(rb);\n  184          if((buf.size % elem_len) != 0) {\n  185            ret = JS_ThrowRangeError(ctx, \"buffer size not a multiple of element length (%zu)\", elem_len);\n  186            break;\n  187          }\n  188          count = buf.size / elem_len;\n  189        } else if(argc - index < 1 || JS_ToUint32(ctx, &count, argv[index++])) {\n  190          ret = JS_ThrowRangeError(ctx, \"invalid tail\");\n  191          break;\n  192        }\n  193        ret = JS_NewUint32(ctx, lws_ring_consume(rb->ring, tail_ptr, buf.data, count));\n  194        js_buffer_free(&buf, ctx);\n  195        break;\n  196      }\n  197  \n  198      case RINGBUFFER_CONSUMERANGE: {\n  199        JSValue ab = JS_GetPropertyStr(ctx, this_val, \"buffer\");\n  200  \n  201        ret = js_typedarray_new(ctx, 8, FALSE, FALSE, ab, new_tail, (ringbuffer_bytelength(rb) - new_tail) / rb->element_len);\n  202        JS_FreeValue(ctx, ab);\n  203  \n  204        break;\n  205      }\n  206      case RINGBUFFER_SKIP: {\n  207        uint32_t n;\n  208  \n  209        if(argc - index < 1 || JS_ToUint32(ctx, &n, argv[index])) {\n  210          ret = JS_ThrowRangeError(ctx, \"invalid count\");\n  211          break;\n  212        }\n  213        ret = JS_NewUint32(ctx, lws_ring_consume(rb->ring, tail_ptr, 0, n));\n  214        break;\n  215      }\n  216  \n  217      case RINGBUFFER_UPDATE_OLDEST_TAIL: {\n  218        lws_ring_update_oldest_tail(rb->ring, new_tail);\n  219        break;\n  220      }\n  221    }\n  222  \n  223  fail:\n  224    js_buffer_free(&tail_buf, ctx);\n  225    return ret;\n  226  }\n  227  \n  228  static void\n  229  tail_decorate(JSContext* ctx, JSValueConst obj, JSValueConst ringbuffer, const char* name, int argc, int magic) {\n  230    JSValue func = JS_NewCFunctionMagic(ctx, minnet_ringbuffer_multitail, name, 0, JS_CFUNC_generic_magic, magic);\n  231    JS_SetPropertyStr(ctx, obj, name, js_function_bind_this_1(ctx, func, ringbuffer, obj));\n  232    JS_FreeValue(ctx, func);\n  233  }\n  234  \n  235  static JSValue\n  236  minnet_ringbuffer_method(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  237    MinnetRingbuffer* rb;\n  238  \n  239    if(!(rb = JS_GetOpaque2(ctx, this_val, minnet_ringbuffer_class_id)))\n  240      return JS_EXCEPTION;\n  241  \n  242    JSValue ret = JS_UNDEFINED;\n  243    switch(magic) {\n  244  \n  245      case RINGBUFFER_CREATE_TAIL: {\n  246        uint32_t tail = lws_ring_get_oldest_tail(rb->ring);\n  247  \n  248        ret = JS_NewArrayBufferCopy(ctx, (const uint8_t*)&tail, sizeof(uint32_t));\n  249  \n  250        tail_decorate(ctx, ret, this_val, \"getWaitingElements\", 0, RINGBUFFER_WAITING_ELEMENTS);\n  251        tail_decorate(ctx, ret, this_val, \"getElement\", 0, RINGBUFFER_GET_ELEMENT);\n  252        tail_decorate(ctx, ret, this_val, \"consume\", 1, RINGBUFFER_CONSUME);\n  253  \n  254        JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, tail_next, 0, 0, tail_new(ctx, rb, ret), tail_finalize));\n  255        break;\n  256      }\n  257  \n  258      case RINGBUFFER_INSERT: {\n  259        JSBuffer buf = js_input_args(ctx, argc, argv);\n  260        size_t elem_len = ringbuffer_element_len(rb);\n  261  \n  262        if((buf.size % elem_len) != 0) {\n  263          ret = JS_ThrowRangeError(ctx, \"input argument size not a multiple of element length (%zu)\", elem_len);\n  264          break;\n  265        }\n  266        ret = JS_NewUint32(ctx, ringbuffer_insert(rb, buf.data, buf.size / elem_len));\n  267        js_buffer_free(&buf, ctx);\n  268        break;\n  269      }\n  270  \n  271      case RINGBUFFER_BUMP_HEAD: {\n  272        uint64_t n;\n  273  \n  274        if(JS_ToIndex(ctx, &n, argv[0]))\n  275          return JS_ThrowRangeError(ctx, \"expecting byte size\");\n  276  \n  277        lws_ring_bump_head(rb->ring, n);\n  278        break;\n  279      }\n  280    }\n  281    return ret;\n  282  }\n  283  \n  284  static JSValue\n  285  minnet_ringbuffer_get(JSContext* ctx, JSValueConst this_val, int magic) {\n  286    MinnetRingbuffer* rb;\n  287  \n  288    if(!(rb = JS_GetOpaque2(ctx, this_val, minnet_ringbuffer_class_id)))\n  289      return JS_EXCEPTION;\n  290  \n  291    JSValue ret = JS_UNDEFINED;\n  292    switch(magic) {\n  293  \n  294      case RINGBUFFER_TYPE: {\n  295        ret = JS_NewStringLen(ctx, rb->type, strlen(rb->type));\n  296        break;\n  297      }\n  298  \n  299      case RINGBUFFER_COUNT: {\n  300        ret = JS_NewUint32(ctx, ringbuffer_waiting(rb));\n  301        break;\n  302      }\n  303  \n  304      case RINGBUFFER_BYTELEN: {\n  305        ret = JS_NewInt64(ctx, ringbuffer_waiting(rb) * ringbuffer_element_len(rb));\n  306        break;\n  307      }\n  308  \n  309      case RINGBUFFER_SIZE: {\n  310        ret = JS_NewUint32(ctx, rb->size);\n  311        break;\n  312      }\n  313  \n  314      case RINGBUFFER_ELEMENTLEN: {\n  315        ret = JS_NewUint32(ctx, ringbuffer_element_len(rb));\n  316        break;\n  317      }\n  318  \n  319      case RINGBUFFER_AVAIL: {\n  320        ret = JS_NewUint32(ctx, ringbuffer_avail(rb));\n  321        break;\n  322      }\n  323  \n  324      case RINGBUFFER_BUFFER: {\n  325        struct {\n  326          void* buf;\n  327          void (*destroy)(void*);\n  328          uint32_t buflen;\n  329        }* r = (void*)rb->ring;\n  330  \n  331        ret = JS_NewArrayBuffer(ctx, r->buf, r->buflen, &deferred_finalizer, deferred_new(ringbuffer_free, ctx, ringbuffer_dup(rb)), FALSE);\n  332        break;\n  333      }\n  334  \n  335      case RINGBUFFER_HEAD: {\n  336        struct {\n  337          void* buf;\n  338          void (*destroy_element)(void* element);\n  339          uint32_t buflen, element_len, head, oldest_tail;\n  340        }* r = (void*)rb->ring;\n  341  \n  342        ret = JS_NewUint32(ctx, r->head);\n  343        break;\n  344      }\n  345  \n  346      case RINGBUFFER_OLDEST_TAIL: {\n  347        ret = JS_NewUint32(ctx, lws_ring_get_oldest_tail(rb->ring));\n  348        break;\n  349      }\n  350  \n  351      case RINGBUFFER_INSERTRANGE: {\n  352        struct {\n  353          void* buf;\n  354          void (*destroy_element)(void*);\n  355          uint32_t buflen, element_len, head;\n  356        }* r = (void*)rb->ring;\n  357  \n  358        JSValue ab = JS_GetPropertyStr(ctx, this_val, \"buffer\");\n  359  \n  360        ret = js_typedarray_new(ctx, 8, FALSE, FALSE, ab, r->head, (r->buflen - r->head) / r->element_len);\n  361        JS_FreeValue(ctx, ab);\n  362  \n  363        /*void* data = 0;\n  364        size_t size = 0;\n  365  \n  366        if(!lws_ring_next_linear_insert_range(rb->ring, &data, &size))\n  367          ret = JS_NewArrayBuffer(ctx, data, size, js_closure_free_ab, js_closure_new(ctx, ringbuffer_dup(rb), (js_closure_finalizer_t*)ringbuffer_free), FALSE);*/\n  368        break;\n  369      }\n  370    }\n  371    return ret;\n  372  }\n  373  \n  374  static JSValue\n  375  minnet_ringbuffer_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  376    MinnetRingbuffer* rb;\n  377    struct {\n  378      void* buf;\n  379      void (*destroy_element)(void*);\n  380      uint32_t buflen, element_len, head;\n  381    }* r = 0;\n  382  \n  383    if(!(rb = JS_GetOpaque2(ctx, this_val, minnet_ringbuffer_class_id)))\n  384      return JS_EXCEPTION;\n  385  \n  386    r = (void*)rb->ring;\n  387  \n  388    JSValue ret = JS_UNDEFINED;\n  389    switch(magic) {\n  390      case RINGBUFFER_HEAD: {\n  391        uint32_t n;\n  392  \n  393        if(JS_ToUint32(ctx, &n, value))\n  394          return JS_ThrowRangeError(ctx, \"expecting byte offset\");\n  395  \n  396        r->head = n % r->buflen;\n  397        break;\n  398      }\n  399  \n  400      case RINGBUFFER_OLDEST_TAIL: {\n  401        uint32_t n;\n  402  \n  403        if(JS_ToUint32(ctx, &n, value))\n  404          return JS_ThrowRangeError(ctx, \"expecting byte offset\");\n  405  \n  406        if(n > r->buflen)\n  407          return JS_ThrowRangeError(ctx, \"out of range (0-%\" PRIu32 \") byte offset\", r->buflen);\n  408  \n  409        lws_ring_update_oldest_tail(rb->ring, n);\n  410        break;\n  411      }\n  412    }\n  413  \n  414    return ret;\n  415  }\n  416  \n  417  static void\n  418  minnet_ringbuffer_finalizer(JSRuntime* rt, JSValue val) {\n  419    MinnetRingbuffer* rb;\n  420  \n  421    if((rb = JS_GetOpaque(val, minnet_ringbuffer_class_id))) {\n  422  \n  423      ringbuffer_free_rt(rb, rt);\n  424    }\n  425  }\n  426  \n  427  JSClassDef minnet_ringbuffer_class = {\n  428      \"MinnetRingbuffer\",\n  429      .finalizer = minnet_ringbuffer_finalizer,\n  430  };\n  431  \n  432  const JSCFunctionListEntry minnet_ringbuffer_proto_funcs[] = {\n  433      JS_CFUNC_MAGIC_DEF(\"getWaitingElements\", 0, minnet_ringbuffer_multitail, RINGBUFFER_WAITING_ELEMENTS),\n  434      JS_CFUNC_MAGIC_DEF(\"getElement\", 0, minnet_ringbuffer_multitail, RINGBUFFER_GET_ELEMENT),\n  435      JS_CFUNC_MAGIC_DEF(\"consume\", 1, minnet_ringbuffer_multitail, RINGBUFFER_CONSUME),\n  436      JS_CFUNC_MAGIC_DEF(\"skip\", 0, minnet_ringbuffer_multitail, RINGBUFFER_SKIP),\n  437      JS_CFUNC_MAGIC_DEF(\"updateOldestTail\", 0, minnet_ringbuffer_multitail, RINGBUFFER_UPDATE_OLDEST_TAIL),\n  438      JS_CFUNC_MAGIC_DEF(\"getConsumeRange\", 0, minnet_ringbuffer_multitail, RINGBUFFER_CONSUMERANGE),\n  439      JS_CFUNC_MAGIC_DEF(\"createTail\", 0, minnet_ringbuffer_method, RINGBUFFER_CREATE_TAIL),\n  440      JS_CFUNC_MAGIC_DEF(\"insert\", 1, minnet_ringbuffer_method, RINGBUFFER_INSERT),\n  441      JS_CFUNC_MAGIC_DEF(\"bumpHead\", 1, minnet_ringbuffer_method, RINGBUFFER_BUMP_HEAD),\n  442      JS_CGETSET_MAGIC_FLAGS_DEF(\"type\", minnet_ringbuffer_get, 0, RINGBUFFER_TYPE, JS_PROP_ENUMERABLE),\n  443      JS_CGETSET_MAGIC_FLAGS_DEF(\"length\", minnet_ringbuffer_get, 0, RINGBUFFER_COUNT, JS_PROP_ENUMERABLE),\n  444      JS_CGETSET_MAGIC_FLAGS_DEF(\"byteLength\", minnet_ringbuffer_get, 0, RINGBUFFER_BYTELEN, JS_PROP_ENUMERABLE),\n  445      JS_CGETSET_MAGIC_FLAGS_DEF(\"size\", minnet_ringbuffer_get, 0, RINGBUFFER_SIZE, JS_PROP_ENUMERABLE),\n  446      JS_CGETSET_MAGIC_FLAGS_DEF(\"elementLength\", minnet_ringbuffer_get, 0, RINGBUFFER_ELEMENTLEN, JS_PROP_ENUMERABLE),\n  447      JS_CGETSET_MAGIC_FLAGS_DEF(\"avail\", minnet_ringbuffer_get, 0, RINGBUFFER_AVAIL, JS_PROP_ENUMERABLE),\n  448      JS_CGETSET_MAGIC_FLAGS_DEF(\"buffer\", minnet_ringbuffer_get, 0, RINGBUFFER_BUFFER, 0),\n  449      JS_CGETSET_MAGIC_FLAGS_DEF(\"head\", minnet_ringbuffer_get, minnet_ringbuffer_set, RINGBUFFER_HEAD, JS_PROP_ENUMERABLE),\n  450      JS_CGETSET_MAGIC_FLAGS_DEF(\"oldestTail\", minnet_ringbuffer_get, minnet_ringbuffer_set, RINGBUFFER_OLDEST_TAIL, JS_PROP_ENUMERABLE),\n  451      JS_CGETSET_MAGIC_FLAGS_DEF(\"linearInsertRange\", minnet_ringbuffer_get, 0, RINGBUFFER_INSERTRANGE, 0),\n  452      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetRingbuffer\", JS_PROP_CONFIGURABLE),\n  453  };\n  454  \n  455  const size_t minnet_ringbuffer_proto_funcs_size = countof(minnet_ringbuffer_proto_funcs);\n  456  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.c:\n    1  #include \"minnet-generator.h\"\n    2  #include \"jsutils.h\"\n    3  #include <quickjs.h>\n    4  #include <assert.h>\n    5  #include <libwebsockets.h>\n    6  \n    7  THREAD_LOCAL JSClassID minnet_generator_class_id;\n    8  THREAD_LOCAL JSValue minnet_generator_proto, minnet_generator_ctor;\n    9  \n   10  JSClassDef minnet_generator_class = {\n   11      \"MinnetGenerator\",\n   12      //.finalizer = minnet_generator_finalizer,\n   13  };\n   14  \n   15  static const JSCFunctionListEntry minnet_generator_funcs[] = {\n   16      JS_CFUNC_DEF(\"[Symbol.asyncIterator]\", 0, (JSCFunction*)&JS_DupValue),\n   17      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetGenerator\", JS_PROP_CONFIGURABLE),\n   18  };\n   19  \n   20  static JSValue\n   21  minnet_generator_next(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst* argv, int magic, void* opaque) {\n   22    MinnetGenerator* gen = (MinnetGenerator*)opaque;\n   23    JSValue ret = JS_UNDEFINED;\n   24  \n   25    ret = generator_next(gen);\n   26  \n   27    return ret;\n   28  }\n   29  \n   30  static JSValue\n   31  minnet_generator_push(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst* argv, int magic, void* opaque) {\n   32    MinnetGenerator* gen = (MinnetGenerator*)opaque;\n   33    JSValue ret = JS_UNDEFINED;\n   34  \n   35    if(argc < 1)\n   36      return JS_ThrowInternalError(ctx, \"argument required\");\n   37  \n   38    JSValue callback = argc > 1 ? JS_DupValue(ctx, argv[1]) : JS_NULL;\n   39  \n   40    ret = generator_push(gen, argv[0]);\n   41    JS_FreeValue(ctx, callback);\n   42    return ret;\n   43  }\n   44  \n   45  static JSValue\n   46  minnet_generator_stop(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst* argv, int magic, void* opaque) {\n   47    MinnetGenerator* gen = (MinnetGenerator*)opaque;\n   48    JSValue ret = JS_UNDEFINED;\n   49  \n   50    JSValue callback = argc > 1 ? JS_DupValue(ctx, argv[1]) : JS_NULL;\n   51  \n   52    ret = JS_NewBool(ctx, generator_close(gen, callback));\n   53  \n   54    JS_FreeValue(ctx, callback);\n   55  \n   56    return ret;\n   57  }\n   58  \n   59  JSValue\n   60  minnet_generator_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n   61    MinnetGenerator* gen;\n   62    JSValue ret, args[2];\n   63  \n   64    if(!(gen = generator_new(ctx)))\n   65      return JS_ThrowOutOfMemory(ctx);\n   66  \n   67    if(argc < 1 || !JS_IsFunction(ctx, argv[0]))\n   68      return JS_ThrowInternalError(ctx, \"MinnetGenerator needs a function parameter\");\n   69  \n   70    args[0] = js_function_cclosure(ctx, minnet_generator_push, 0, 0, generator_dup(gen), (void*)&generator_free);\n   71    args[1] = js_function_cclosure(ctx, minnet_generator_stop, 0, 0, generator_dup(gen), (void*)&generator_free);\n   72  \n   73    ret = JS_Call(ctx, argv[0], JS_UNDEFINED, 2, args);\n   74  \n   75    JS_FreeValue(ctx, ret);\n   76    JS_FreeValue(ctx, args[0]);\n   77    JS_FreeValue(ctx, args[1]);\n   78  \n   79    return minnet_generator_iterator(ctx, gen);\n   80  }\n   81  \n   82  JSValue\n   83  minnet_generator_iterator(JSContext* ctx, MinnetGenerator* gen) {\n   84    JSValue ret = JS_NewObject(ctx);\n   85  \n   86    JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n   87    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n   88  \n   89    return ret;\n   90  }\n   91  \n   92  JSValue\n   93  minnet_generator_create(JSContext* ctx, MinnetGenerator** gen_p) {\n   94    if(!*gen_p)\n   95      *gen_p = generator_new(ctx);\n   96    else\n   97      generator_dup(*gen_p);\n   98  \n   99    return minnet_generator_iterator(ctx, *gen_p);\n  100  }\n  101  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.h:\n    1  #ifndef MINNET_CLIENT_H\n    2  #define MINNET_CLIENT_H\n    3  \n    4  #include <libwebsockets.h>\n    5  #include <quickjs.h>\n    6  #include <stdint.h>\n    7  #include \"callback.h\"\n    8  #include \"context.h\"\n    9  #include <cutils.h>\n   10  #include \"jsutils.h\"\n   11  #include \"session.h\"\n   12  \n   13  #define client_exception(client, retval) context_exception(&(client->context), (retval))\n   14  \n   15  typedef struct client_context {\n   16    union {\n   17      int ref_count;\n   18      struct context context;\n   19    };\n   20    struct lws* wsi;\n   21    CallbackList on;\n   22    JSValue headers, body, next;\n   23    BOOL done;\n   24    struct session_data session;\n   25    struct http_request* request;\n   26    struct http_response* response;\n   27    struct lws_client_connect_info connect_info;\n   28    ResolveFunctions promise;\n   29    struct list_head link;\n   30  } MinnetClient;\n   31  \n   32  void client_certificate(struct context*, JSValueConst options);\n   33  MinnetClient* client_new(JSContext*);\n   34  MinnetClient* client_find(struct lws*);\n   35  void client_free(MinnetClient*, JSContext* ctx);\n   36  void client_free_rt(MinnetClient*, JSRuntime* rt);\n   37  void client_zero(MinnetClient*);\n   38  MinnetClient* client_dup(MinnetClient*);\n   39  struct client_context* lws_client(struct lws*);\n   40  JSValue minnet_client_closure(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr);\n   41  JSValue minnet_client(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[]);\n   42  uint8_t* scan_backwards(uint8_t*, uint8_t ch);\n   43  \n   44  #endif\n   45  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-proxy.c:\n    1  #include \"minnet-server-proxy.h\"\n    2  #include <libwebsockets.h>\n    3  \n    4  typedef struct proxy_msg {\n    5    lws_dll2_t list;\n    6    size_t len;\n    7  \n    8  } proxy_msg_t;\n    9  \n   10  typedef struct proxy_conn {\n   11    struct lws* wsi_ws;\n   12    struct lws* wsi_raw;\n   13  \n   14    lws_dll2_owner_t pending_msg_to_ws;\n   15    lws_dll2_owner_t pending_msg_to_raw;\n   16  } proxy_conn_t;\n   17  \n   18  /*int\n   19  proxy_server_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n   20    proxy_conn_t* pc = (proxy_conn_t*)lws_get_opaque_user_data(wsi);\n   21  \n   22    LOG(\"PROXY-WS-SERVER\", \"in=%.*s len=%d\", (int)len, (char*)in, (int)len);\n   23  \n   24    switch(reason) {\n   25      case LWS_CALLBACK_ESTABLISHED: {\n   26        struct lws_client_connect_info info;\n   27  \n   28        pc = proxy_new();\n   29        lws_set_opaque_user_data(wsi, pc);\n   30  \n   31        pc->wsi_ws = wsi;\n   32  \n   33        memset(&info, 0, sizeof(info));\n   34  \n   35        info.method = \"RAW\";\n   36        info.context = lws_get_context(wsi);\n   37        info.port = 1234;\n   38        info.address = \"127.0.0.1\";\n   39        info.ssl_connection = 0;\n   40        info.local_protocol_name = \"lws-ws-raw-raw\";\n   41  \n   42        info.opaque_user_data = pc;\n   43  \n   44        info.pwsi = &pc->wsi_raw;\n   45  \n   46        if(!lws_client_connect_via_info(&info)) {\n   47          lwsl_warn(\"%s: onward connection failed\\n\", __func__);\n   48          return -1;\n   49        }\n   50  \n   51        break;\n   52      }\n   53      case LWS_CALLBACK_CLOSED: {\n   54        lws_dll2_foreach_safe(&pc->pending_msg_to_ws, NULL, proxy_ws_raw_msg_destroy);\n   55        pc->wsi_ws = NULL;\n   56        lws_set_opaque_user_data(wsi, NULL);\n   57        if(!pc->wsi_raw) {\n   58          free(pc);\n   59          break;\n   60        }\n   61        if(pc->pending_msg_to_raw.count) {\n   62          lws_set_timeout(pc->wsi_raw, PENDING_TIMEOUT_KILLED_BY_PROXY_CLIENT_CLOSE, 3);\n   63          break;\n   64        }\n   65        lws_wsi_close(pc->wsi_raw, LWS_TO_KILL_ASYNC);\n   66        break;\n   67      }\n   68      case LWS_CALLBACK_SERVER_WRITEABLE: {\n   69        proxy_msg_t* msg;\n   70        uint8_t* data;\n   71        int m, a;\n   72  \n   73        if(!pc || !pc->pending_msg_to_ws.count)\n   74          break;\n   75  \n   76        msg = lws_container_of(pc->pending_msg_to_ws.head, proxy_msg_t, list);\n   77        data = (uint8_t*)&msg[1] + LWS_PRE;\n   78  \n   79        m = lws_write(wsi, data, msg->len, LWS_WRITE_TEXT);\n   80        a = (int)msg->len;\n   81        lws_dll2_remove(&msg->list);\n   82        free(msg);\n   83  \n   84        if(m < a) {\n   85          lwsl_err(\"ERROR %d writing to ws\\n\", m);\n   86          return -1;\n   87        }\n   88  \n   89        if(pc->pending_msg_to_ws.count)\n   90          lws_callback_on_writable(wsi);\n   91        break;\n   92      }\n   93      case LWS_CALLBACK_RECEIVE: {\n   94        proxy_msg_t* msg;\n   95        uint8_t* data;\n   96  \n   97        if(!pc || !pc->wsi_raw)\n   98          break;\n   99  \n  100        msg = (proxy_msg_t*)malloc(sizeof(*msg) + LWS_PRE + len);\n  101        data = (uint8_t*)&msg[1] + LWS_PRE;\n  102  \n  103        if(!msg) {\n  104          lwsl_user(\"OOM: dropping\\n\");\n  105          break;\n  106        }\n  107  \n  108        memset(msg, 0, sizeof(*msg));\n  109        msg->len = len;\n  110        memcpy(data, in, len);\n  111  \n  112        lws_dll2_add_tail(&msg->list, &pc->pending_msg_to_raw);\n  113  \n  114        lws_callback_on_writable(pc->wsi_raw);\n  115        break;\n  116      }\n  117      default: {\n  118        break;\n  119      }\n  120    }\n  121  \n  122    return 0;\n  123  }\n  124  */\n  125  /*int\n  126  proxy_rawclient_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  127    proxy_conn_t* pc = (proxy_conn_t*)lws_get_opaque_user_data(wsi);\n  128    proxy_msg_t* msg;\n  129    uint8_t* data;\n  130    int m, a;\n  131    LOG(\"PROXY-RAW-CLIENT\", \"in=%.*s len=%d\", (int)len, (char*)in, (int)len);\n  132  \n  133    switch(reason) {\n  134      case LWS_CALLBACK_CLIENT_CONNECTION_ERROR:\n  135        lwsl_warn(\"%s: onward raw connection failed\\n\", __func__);\n  136        pc->wsi_raw = NULL;\n  137        break;\n  138  \n  139      case LWS_CALLBACK_RAW_ADOPT:\n  140        lwsl_user(\"LWS_CALLBACK_RAW_ADOPT\\n\");\n  141        pc->wsi_raw = wsi;\n  142        lws_callback_on_writable(wsi);\n  143        break;\n  144  \n  145      case LWS_CALLBACK_RAW_CLOSE:\n  146        lwsl_user(\"LWS_CALLBACK_RAW_CLOSE\\n\");\n  147  \n  148        lws_dll2_foreach_safe(&pc->pending_msg_to_raw, NULL, proxy_ws_raw_msg_destroy);\n  149  \n  150        pc->wsi_raw = NULL;\n  151        lws_set_opaque_user_data(wsi, NULL);\n  152  \n  153        if(!pc->wsi_ws) {\n  154  \n  155          free(pc);\n  156          break;\n  157        }\n  158  \n  159        if(pc->pending_msg_to_ws.count) {\n  160  \n  161          lws_set_timeout(pc->wsi_ws, PENDING_TIMEOUT_KILLED_BY_PROXY_CLIENT_CLOSE, 3);\n  162          break;\n  163        }\n  164  \n  165        lws_wsi_close(pc->wsi_ws, LWS_TO_KILL_ASYNC);\n  166        break;\n  167  \n  168      case LWS_CALLBACK_RAW_RX:\n  169        lwsl_user(\"LWS_CALLBACK_RAW_RX (%d)\\n\", (int)len);\n  170        if(!pc || !pc->wsi_ws)\n  171          break;\n  172  \n  173        msg = (proxy_msg_t*)malloc(sizeof(*msg) + LWS_PRE + len);\n  174        data = (uint8_t*)&msg[1] + LWS_PRE;\n  175  \n  176        if(!msg) {\n  177          lwsl_user(\"OOM: dropping\\n\");\n  178          break;\n  179        }\n  180  \n  181        memset(msg, 0, sizeof(*msg));\n  182        msg->len = len;\n  183        memcpy(data, in, len);\n  184  \n  185        lws_dll2_add_tail(&msg->list, &pc->pending_msg_to_ws);\n  186  \n  187        lws_callback_on_writable(pc->wsi_ws);\n  188        break;\n  189  \n  190      case LWS_CALLBACK_RAW_WRITEABLE:\n  191        lwsl_user(\"LWS_CALLBACK_RAW_WRITEABLE\\n\");\n  192        if(!pc || !pc->pending_msg_to_raw.count)\n  193          break;\n  194  \n  195        msg = lws_container_of(pc->pending_msg_to_raw.head, proxy_msg_t, list);\n  196        data = (uint8_t*)&msg[1] + LWS_PRE;\n  197  \n  198        m = lws_write(wsi, data, msg->len, LWS_WRITE_TEXT);\n  199        a = (int)msg->len;\n  200        lws_dll2_remove(&msg->list);\n  201        free(msg);\n  202  \n  203        if(m < a) {\n  204          lwsl_err(\"ERROR %d writing to raw\\n\", m);\n  205          return -1;\n  206        }\n  207  \n  208        if(pc->pending_msg_to_raw.count)\n  209          lws_callback_on_writable(wsi);\n  210        break;\n  211      default: break;\n  212    }\n  213  \n  214    return 0;\n  215  }\n  216  */\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n    1  #define _GNU_SOURCE\n    2  #include \"minnet-request.h\"\n    3  #include \"minnet-response.h\"\n    4  #include \"minnet-client.h\"\n    5  #include \"minnet.h\"\n    6  #include \"buffer.h\"\n    7  #include \"closure.h\"\n    8  #include \"jsutils.h\"\n    9  #include <strings.h>\n   10  #include <quickjs.h>\n   11  \n   12  enum {\n   13    ON_HTTP = 0,\n   14    ON_ERROR,\n   15    ON_CLOSE,\n   16    ON_FD,\n   17  };\n   18  \n   19  static JSValue\n   20  fetch_handler(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* opaque) {\n   21    union closure* closure = opaque;\n   22    MinnetClient* client = closure->pointer;\n   23  \n   24    DEBUG(\"%s magic=%s client=%p\\n\", __func__, magic == ON_HTTP ? \"ON_HTTP\" : magic == ON_ERROR ? \"ON_ERROR\" : \"ON_FD\", client);\n   25  \n   26    switch(magic) {\n   27      case ON_HTTP: {\n   28        if(js_promise_pending(&client->promise))\n   29          js_promise_resolve(ctx, &client->promise, argv[1]);\n   30  \n   31        return JS_NewInt32(ctx, 0);\n   32        break;\n   33      }\n   34  \n   35      case ON_CLOSE:\n   36      case ON_ERROR: {\n   37        const char* str = JS_ToCString(ctx, argv[1]);\n   38        JSValue err = js_error_new(ctx, \"%s: %s\", magic == ON_CLOSE ? \"onClose\" : \"onError\", str);\n   39        JS_FreeCString(ctx, str);\n   40  \n   41        //  JS_SetPropertyStr(ctx, err, \"message\", JS_DupValue(ctx, argv[1]));\n   42        if(js_promise_pending(&client->promise))\n   43          js_promise_reject(ctx, &client->promise, err);\n   44        JS_FreeValue(ctx, err);\n   45        break;\n   46      }\n   47  \n   48      case ON_FD: {\n   49        JSValue os, tmp, set_write, set_read, args[2] = {argv[0], JS_NULL};\n   50        os = js_global_get(ctx, \"os\");\n   51        if(!JS_IsObject(os))\n   52          return JS_ThrowTypeError(ctx, \"globalThis.os must be imported module\");\n   53        set_read = JS_GetPropertyStr(ctx, os, \"setReadHandler\");\n   54        set_write = JS_GetPropertyStr(ctx, os, \"setWriteHandler\");\n   55        args[1] = argv[1];\n   56        tmp = JS_Call(ctx, set_read, os, 2, args);\n   57        JS_FreeValue(ctx, tmp);\n   58        args[1] = argv[2];\n   59        tmp = JS_Call(ctx, set_write, os, 2, args);\n   60        JS_FreeValue(ctx, tmp);\n   61        JS_FreeValue(ctx, os);\n   62        JS_FreeValue(ctx, set_write);\n   63        JS_FreeValue(ctx, set_read);\n   64        break;\n   65      }\n   66    }\n   67  \n   68    return JS_UNDEFINED;\n   69  }\n   70  \n   71  JSValue\n   72  minnet_fetch(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n   73    JSValue ret, handlers[4], args[2];\n   74    union closure* cc;\n   75    // MinnetFetch* fc;\n   76  \n   77    if(argc >= 2 && !JS_IsObject(argv[1]))\n   78      return JS_ThrowTypeError(ctx, \"argument 2 must be an object\");\n   79    /*\n   80      if(!(fc = fetch_new(ctx)))\n   81        return JS_ThrowOutOfMemory(ctx);*/\n   82  \n   83    if(!(cc = closure_new(ctx)))\n   84      return JS_ThrowOutOfMemory(ctx);\n   85  \n   86    args[0] = argv[0];\n   87    args[1] = argc <= 1 ? JS_NewObject(ctx) : JS_DupValue(ctx, argv[1]);\n   88  \n   89    handlers[0] = js_function_cclosure(ctx, &fetch_handler, 2, ON_HTTP, closure_dup(cc), closure_free);\n   90    handlers[1] = js_function_cclosure(ctx, &fetch_handler, 2, ON_ERROR, closure_dup(cc), closure_free);\n   91    handlers[2] = js_function_cclosure(ctx, &fetch_handler, 2, ON_CLOSE, closure_dup(cc), closure_free);\n   92    handlers[3] = js_function_cclosure(ctx, &fetch_handler, 3, ON_FD, closure_dup(cc), closure_free);\n   93  \n   94    JS_SetPropertyStr(ctx, args[1], \"onHttp\", handlers[0]);\n   95    JS_SetPropertyStr(ctx, args[1], \"onError\", handlers[1]);\n   96    JS_SetPropertyStr(ctx, args[1], \"onClose\", handlers[2]);\n   97    JS_SetPropertyStr(ctx, args[1], \"onFd\", handlers[3]);\n   98    JS_SetPropertyStr(ctx, args[1], \"block\", JS_FALSE);\n   99  \n  100    ret = minnet_client_closure(ctx, this_val, 2, args, 0, cc);\n  101  \n  102    JS_FreeValue(ctx, args[1]);\n  103  \n  104    DEBUG(\"%s url=%s client=%p\\n\", __func__, JS_ToCString(ctx, args[0]), cc->pointer);\n  105  \n  106    cc->pointer = client_dup(cc->pointer);\n  107  \n  108    return ret;\n  109  }\n  110  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.h:\n    1  #ifndef MINNET_RINGBUFFER_H\n    2  #define MINNET_RINGBUFFER_H\n    3  \n    4  #include \"utils.h\"\n    5  #include \"ringbuffer.h\"\n    6  \n    7  typedef struct ringbuffer MinnetRingbuffer;\n    8  \n    9  JSValue minnet_ringbuffer_constructor(JSContext*, JSValueConst, int, JSValueConst argv[]);\n   10  JSValue minnet_ringbuffer_new(JSContext*, const char*, size_t, const void* x, size_t n);\n   11  JSValue minnet_ringbuffer_wrap(JSContext*, struct ringbuffer*);\n   12  \n   13  extern JSClassDef minnet_ringbuffer_class;\n   14  extern THREAD_LOCAL JSValue minnet_ringbuffer_proto, minnet_ringbuffer_ctor;\n   15  extern THREAD_LOCAL JSClassID minnet_ringbuffer_class_id;\n   16  extern const JSCFunctionListEntry minnet_ringbuffer_proto_funcs[], minnet_ringbuffer_proto_tail[];\n   17  extern const size_t minnet_ringbuffer_proto_funcs_size;\n   18  \n   19  static inline MinnetRingbuffer*\n   20  minnet_ringbuffer_data(JSContext* ctx, JSValueConst obj) {\n   21    return JS_GetOpaque2(ctx, obj, minnet_ringbuffer_class_id);\n   22  }\n   23  #endif /* MINNET_RINGBUFFER_H */\n   24  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.h:\n    1  #ifndef MINNET_FORM_PARSER_H\n    2  #define MINNET_FORM_PARSER_H\n    3  \n    4  #include \"form-parser.h\"\n    5  #include \"minnet-websocket.h\"\n    6  #include \"utils.h\"\n    7  \n    8  typedef struct form_parser MinnetFormParser;\n    9  \n   10  JSValue minnet_form_parser_constructor(JSContext*, JSValueConst new_target, int argc, JSValueConst argv[]);\n   11  JSValue minnet_form_parser_new(JSContext*, MinnetWebsocket* ws, int nparams, const char* const* param_names, size_t chunk_size);\n   12  JSValue minnet_form_parser_wrap(JSContext*, MinnetFormParser* fp);\n   13  JSValue minnet_form_parser_call(JSContext*, JSValueConst func_obj, JSValueConst this_val, int argc, JSValueConst argv[], int flags);\n   14  \n   15  extern THREAD_LOCAL JSValue minnet_form_parser_proto, minnet_form_parser_ctor;\n   16  extern THREAD_LOCAL JSClassID minnet_form_parser_class_id;\n   17  extern JSClassDef minnet_form_parser_class;\n   18  extern const JSCFunctionListEntry minnet_form_parser_proto_funcs[];\n   19  extern const size_t minnet_form_parser_proto_funcs_size;\n   20  \n   21  static inline MinnetFormParser*\n   22  minnet_form_parser_data(JSValueConst obj) {\n   23    return JS_GetOpaque(obj, minnet_form_parser_class_id);\n   24  }\n   25  \n   26  static inline MinnetFormParser*\n   27  minnet_form_parser_data2(JSContext* ctx, JSValueConst obj) {\n   28    return JS_GetOpaque2(ctx, obj, minnet_form_parser_class_id);\n   29  }\n   30  #endif /* MINNET_FORM_PARSER_H */\n   31  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-proxy.h:\n    1  #ifndef MINNET_SERVER_PROXY_H\n    2  #define MINNET_SERVER_PROXY_H\n    3  \n    4  #include <quickjs.h>\n    5  #include \"minnet.h\"\n    6  \n    7  enum { ACCEPTED = 0, ONWARD };\n    8  \n    9  /*typedef struct proxy_msg {\n   10    lws_dll2_t list;\n   11    size_t len;\n   12  } MinnetProxyMessage;*/\n   13  \n   14  typedef struct proxy_connection {\n   15    struct lws* wsi[2];\n   16    lws_dll2_owner_t queue[2];\n   17  } MinnetProxyConnection;\n   18  \n   19  int proxy_ws_raw_msg_destroy(struct lws_dll2*, void*);\n   20  int proxy_server_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   21  int proxy_rawclient_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   22  \n   23  #endif /* MINNET_SERVER_PROXY_H */\n   24  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c:\n    1  #include \"minnet-server.h\"\n    2  #include \"minnet-websocket.h\"\n    3  #include \"minnet-request.h\"\n    4  #include \"jsutils.h\"\n    5  #include \"headers.h\"\n    6  #include \"minnet-response.h\"\n    7  #include <alloca.h>\n    8  #include <assert.h>\n    9  #include <libwebsockets.h>\n   10  \n   11  int http_server_callback(struct lws*, enum lws_callback_reasons, void*, void*, size_t);\n   12  \n   13  char* lws_hdr_simple_ptr(struct lws*, int);\n   14  \n   15  int\n   16  ws_server_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n   17    struct session_data* session = user;\n   18    MinnetServer* server = lws_context_user(lws_get_context(wsi));\n   19    JSContext* ctx = server->context.js;\n   20    struct wsi_opaque_user_data* opaque = lws_get_opaque_user_data(wsi);\n   21  \n   22    if(lws_reason_poll(reason))\n   23      return wsi_handle_poll(wsi, reason, &server->cb.fd, in);\n   24  \n   25    if(lws_reason_http(reason))\n   26      return http_server_callback(wsi, reason, user, in, len);\n   27  \n   28    if(reason != LWS_CALLBACK_OPENSSL_LOAD_EXTRA_SERVER_VERIFY_CERTS)\n   29      LOGCB(\"WS\", \"fd=%d, %s%sin='%.*s'\", lws_get_socket_fd(wsi), wsi_http2(wsi) ? \"h2, \" : \"\", wsi_tls(wsi) ? \"ssl, \" : \"\", (int)len, (char*)in);\n   30  \n   31    switch(reason) {\n   32      case LWS_CALLBACK_CONNECTING: {\n   33        break;\n   34      }\n   35      case LWS_CALLBACK_OPENSSL_PERFORM_SERVER_CERT_VERIFICATION: {\n   36        X509_STORE_CTX_set_error(user, X509_V_OK);\n   37        return 0;\n   38      }\n   39      case LWS_CALLBACK_CLIENT_CONNECTION_ERROR:\n   40      case LWS_CALLBACK_CHILD_CLOSING: {\n   41        break;\n   42      }\n   43      case LWS_CALLBACK_FILTER_NETWORK_CONNECTION:\n   44      case LWS_CALLBACK_FILTER_PROTOCOL_CONNECTION: {\n   45        break;\n   46      }\n   47      case LWS_CALLBACK_PROTOCOL_INIT: {\n   48        break;\n   49      }\n   50      case LWS_CALLBACK_PROTOCOL_DESTROY: {\n   51        break;\n   52      }\n   53  \n   54      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_SERVER_VERIFY_CERTS:\n   55      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS: {\n   56        return lws_callback_http_dummy(wsi, reason, user, in, len);\n   57      }\n   58      case LWS_CALLBACK_SERVER_NEW_CLIENT_INSTANTIATED: {\n   59  \n   60        struct lws* parent;\n   61  \n   62        if((parent = lws_get_parent(wsi))) {\n   63          struct wsi_opaque_user_data* opaque2 = lws_get_opaque_user_data(parent);\n   64  \n   65          opaque2->upstream = wsi;\n   66        }\n   67  \n   68        wsi_cert(wsi);\n   69        if(!opaque->ws)\n   70          opaque->ws = ws_new(wsi, ctx);\n   71        return 0;\n   72      }\n   73  \n   74      case LWS_CALLBACK_WSI_CREATE: {\n   75        if(!opaque && ctx)\n   76          opaque = lws_opaque(wsi, ctx);\n   77  \n   78        if(opaque && session)\n   79          opaque->sess = session;\n   80  \n   81        if(!opaque->ws)\n   82          opaque->ws = ws_new(wsi, ctx);\n   83        /*      if(session)\n   84                session->ws_obj = minnet_ws_wrap(ctx, opaque->ws);*/\n   85        break;\n   86        return 0;\n   87      }\n   88  \n   89      case LWS_CALLBACK_WSI_DESTROY: {\n   90  \n   91        /*   if((opaque = lws_get_opaque_user_data(wsi)))*/ {\n   92          if(opaque->ws)\n   93            opaque->ws->lwsi = 0;\n   94  \n   95          opaque->sess = 0;\n   96  \n   97          lws_set_opaque_user_data(wsi, 0);\n   98  \n   99          opaque_free(opaque, ctx);\n  100        }\n  101        return 0;\n  102      }\n  103  \n  104      case LWS_CALLBACK_HTTP_CONFIRM_UPGRADE: {\n  105        int ret = 0;\n  106        MinnetURL url = {.protocol = protocol_string(PROTOCOL_WS)};\n  107        url_fromwsi(&url, wsi, ctx);\n  108  \n  109        if(!wsi_tls(wsi) && !strcmp(in, \"h2c\")) {\n  110          char* dest;\n  111          size_t destlen;\n  112          ByteBuffer out = BUFFER_0();\n  113          url.protocol = protocol_string(PROTOCOL_HTTPS);\n  114          dest = url_format(url, ctx);\n  115          destlen = url_length(url);\n  116  \n  117          buffer_alloc(&out, 1024);\n  118  \n  119          if(lws_http_redirect(wsi, 308, (const unsigned char*)dest, destlen, &out.write, out.end) < 0)\n  120            ret = -1;\n  121          else\n  122            ret = 1;\n  123  \n  124          url_free(&url, ctx);\n  125          js_free(ctx, dest);\n  126          return ret;\n  127        }\n  128  \n  129        if(!opaque)\n  130          opaque = lws_opaque(wsi, ctx);\n  131  \n  132        if(!opaque->req) {\n  133          opaque->req = request_new(url, METHOD_GET, ctx);\n  134          opaque->req->ip = wsi_ipaddr(wsi);\n  135          opaque->req->secure = wsi_tls(wsi);\n  136          headers_tobuffer(ctx, &opaque->req->headers, wsi);\n  137        } else {\n  138          url_free(&url, ctx);\n  139        }\n  140        return ret;\n  141      }\n  142  \n  143      case LWS_CALLBACK_ESTABLISHED: {\n  144        // struct wsi_opaque_user_data* opaque = lws_opaque(wsi, ctx);\n  145        int status;\n  146        status = lws_http_client_http_response(wsi);\n  147        MinnetHttpMount* mount = 0;\n  148        MinnetURL* url;\n  149  \n  150        if(!opaque->req) {\n  151          opaque->req = request_fromwsi(wsi, ctx);\n  152          opaque->req->ip = wsi_ipaddr(wsi);\n  153        }\n  154  \n  155        if(opaque->req) {\n  156          url = &opaque->req->url;\n  157  \n  158          if((mount = mount_find_s((MinnetHttpMount*)server->context.info.mounts, url->path))) {\n  159            // printf(\"found mount mnt=%s org=%s def=%s pro=%s\\n\", mount->mnt, mount->org, mount->def, mount->pro);\n  160          }\n  161  \n  162          if(!JS_IsObject(session->req_obj))\n  163            session->req_obj = minnet_request_wrap(ctx, opaque->req);\n  164  \n  165          session->resp_obj = minnet_response_new(ctx, opaque->req->url, status, 0, TRUE, \"text/html\");\n  166        }\n  167  \n  168        opaque->status = OPEN;\n  169  \n  170        if(server->cb.connect.ctx) {\n  171  \n  172          if(!JS_IsObject(session->ws_obj))\n  173            session->ws_obj = minnet_ws_fromwsi(ctx, wsi);\n  174  \n  175          if(!opaque->ws) {\n  176            if((opaque->ws = minnet_ws_data(session->ws_obj)))\n  177              opaque->ws->ref_count++;\n  178          }\n  179  \n  180          LOGCB(\"ws\", \"wsi#%\" PRId64 \" req=%p\", opaque->serial, opaque->req);\n  181          server_exception(server, callback_emit_this(&server->cb.connect, session->ws_obj, 2, &session->ws_obj));\n  182        }\n  183        return 0;\n  184      }\n  185  \n  186      case LWS_CALLBACK_WS_PEER_INITIATED_CLOSE:\n  187      case LWS_CALLBACK_CLOSED: {\n  188        if(opaque->status < CLOSING) {\n  189          JSValue why = JS_UNDEFINED;\n  190          int code = -1;\n  191  \n  192          if(in) {\n  193            uint8_t* codep = in;\n  194            code = (codep[0] << 8) + codep[1];\n  195            if(len - 2 > 0)\n  196              why = JS_NewStringLen(server->context.js, (char*)in + 2, len - 2);\n  197          }\n  198  \n  199          opaque->status = CLOSING;\n  200  \n  201          LOGCB(\"ws\", \"fd=%d, status=%d code=%d\", lws_get_socket_fd(wsi), opaque->status, code);\n  202  \n  203          if(ctx) {\n  204            JSValue args[3] = {\n  205                session->ws_obj,\n  206                code != -1 ? JS_NewInt32(ctx, code) : JS_UNDEFINED,\n  207                why,\n  208            };\n  209            server_exception(server, callback_emit(&server->cb.close, code != -1 ? 3 : 1, args));\n  210            JS_FreeValue(ctx, args[1]);\n  211          }\n  212          JS_FreeValue(server->context.js, why);\n  213          /*JS_FreeValue(server->context.js, session->ws_obj);\n  214          session->ws_obj = JS_NULL;*/\n  215        }\n  216        return 0;\n  217      }\n  218  \n  219      case LWS_CALLBACK_SERVER_WRITEABLE: {\n  220        // fprintf(stderr, \"\\x1b[1;33mwritable\\x1b[0m %s fd=%d\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(wsi));\n  221        session_writable(session, opaque->binary, ctx);\n  222        break;\n  223      }\n  224  \n  225      case LWS_CALLBACK_RECEIVE: {\n  226        if(ctx) {\n  227          BOOL binary = lws_frame_is_binary(wsi);\n  228          JSValue msg = binary ? JS_NewArrayBufferCopy(ctx, in, len) : JS_NewStringLen(ctx, in, len);\n  229          JSValue args[2] = {\n  230              JS_DupValue(ctx, session->ws_obj),\n  231              msg,\n  232          };\n  233          server_exception(server, callback_emit(&server->cb.message, 2, args));\n  234          JS_FreeValue(ctx, args[0]);\n  235          JS_FreeValue(ctx, args[1]);\n  236        }\n  237        return 0;\n  238      }\n  239      case LWS_CALLBACK_RECEIVE_PONG: {\n  240        if(server->cb.pong.ctx) {\n  241          // ws_obj = minnet_ws_fromwsi(server->cb.pong.ctx, wsi);\n  242          JSValue msg = JS_NewArrayBufferCopy(server->cb.pong.ctx, in, len);\n  243          JSValue args[2] = {\n  244              JS_DupValue(server->cb.pong.ctx, session->ws_obj),\n  245              msg,\n  246          };\n  247          server_exception(server, callback_emit(&server->cb.pong, 2, args));\n  248          JS_FreeValue(server->cb.pong.ctx, args[0]);\n  249          JS_FreeValue(server->cb.pong.ctx, args[1]);\n  250        }\n  251        return 0;\n  252      }\n  253      case LWS_CALLBACK_WS_SERVER_DROP_PROTOCOL: {\n  254        if(opaque)\n  255          opaque->sess = 0;\n  256  \n  257        return 0;\n  258      }\n  259      case LWS_CALLBACK_VHOST_CERT_AGING:\n  260      case LWS_CALLBACK_EVENT_WAIT_CANCELLED:\n  261      case LWS_CALLBACK_GET_THREAD_ID: {\n  262        return 0;\n  263      }\n  264      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER:\n  265      case LWS_CALLBACK_CLIENT_FILTER_PRE_ESTABLISH: break;\n  266      case LWS_CALLBACK_CONFIRM_EXTENSION_OKAY: {\n  267        return 0;\n  268      }\n  269      default: {\n  270        // printf(\"ws_server_callback %s %p %p %zu\\n\", lws_callback_name(reason), user, in, len);\n  271        minnet_lws_unhandled(__func__, reason);\n  272        break;\n  273      }\n  274    }\n  275  \n  276    // lwsl_user(\"ws   \" FG(\"%d\") \"%-38s\" NC \" fd=%d url='%s' in='%.*s'\\n\", 22 + (reason * 2), lws_callback_name(reason) + 13, lws_get_socket_fd(wsi), wsi_token(wsi, server->context.js, //\n  277    // WSI_TOKEN_GET_URI), (int)len, (char*)in);\n  278  \n  279    if(opaque && opaque->status >= CLOSING)\n  280      return -1;\n  281  \n  282    return 0; // lws_callback_http_dummy(wsi, reason, user, in, len);\n  283  }\n  284  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.h:\n    1  #ifndef MINNET_H\n    2  #define MINNET_H\n    3  \n    4  #include <inttypes.h>\n    5  #include <libwebsockets.h>\n    6  #include <quickjs.h>\n    7  #include <stddef.h>\n    8  #include \"jsutils.h\"\n    9  #include \"utils.h\"\n   10  #include \"lws-utils.h\"\n   11  \n   12  #undef DEBUG\n   13  \n   14  #ifdef DEBUG_OUTPUT\n   15  #define DEBUG(x...) minnet_debug(x)\n   16  #else\n   17  #define DEBUG(x...)\n   18  #endif\n   19  \n   20  extern struct lws_protocols *minnet_client_protocols, *minnet_server_protocols;\n   21  \n   22  typedef union {\n   23    struct lws_protocols lws;\n   24    struct {\n   25      const char* name;\n   26      lws_callback_function* callback;\n   27      size_t per_session_data_size;\n   28      size_t rx_buffer_size;\n   29      unsigned int id;\n   30      void* user;\n   31      size_t tx_packet_size;\n   32      enum { CLIENT, SERVER } type;\n   33    };\n   34  } MinnetProtocols;\n   35  \n   36  #define SETLOG(max_level) lws_set_log_level(((((max_level) << 1) - 1) & (~LLL_PARSER)) | LLL_USER, NULL);\n   37  \n   38  #define ADD(ptr, inst, member) \\\n   39    do { \\\n   40      (*(ptr)) = (inst); \\\n   41      (ptr) = &(*(ptr))->member; \\\n   42    } while(0);\n   43  \n   44  #define LOG(name, fmt, args...) \\\n   45    lwsl_user(\"%-15s\" \\\n   46              \" \" fmt \"\\n\", \\\n   47              (char*)(name), \\\n   48              args);\n   49  #define LOGCB(name, fmt, args...) LOG((name), FG(\"%d\") \"%-38s\" NC \" wsi#%\" PRId64 \" \" fmt \"\", 22 + (reason * 2), lws_callback_name(reason) + 13, opaque ? opaque->serial : -1, args);\n   50  \n   51  #define BOOL_OPTION(name, prop, var) \\\n   52    JSValue name = JS_GetPropertyStr(ctx, options, prop); \\\n   53    if(!JS_IsUndefined(name)) \\\n   54      var = JS_ToBool(ctx, name); \\\n   55    JS_FreeValue(ctx, name);\n   56  \n   57  typedef enum socket_state MinnetStatus;\n   58  \n   59  void minnet_io_handlers(JSContext*, struct lws* wsi, struct lws_pollargs args, JSValueConst out[2]);\n   60  void minnet_log_callback(int, const char* line);\n   61  int minnet_lws_unhandled(const char*, int reason);\n   62  void minnet_debug(const char*, ...);\n   63  \n   64  struct js_callback;\n   65  \n   66  int wsi_handle_poll(struct lws*, enum lws_callback_reasons, struct js_callback*, struct lws_pollargs* args);\n   67  JSValue minnet_get_sessions(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[]);\n   68  JSModuleDef* JS_INIT_MODULE(JSContext*, const char* module_name);\n   69  \n   70  int minnet_protocol_count(MinnetProtocols**);\n   71  int minnet_protocol_add(MinnetProtocols** plist, struct lws_protocols protocol);\n   72  \n   73  #endif /* MINNET_H */\n   74  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.c:\n    1  #include \"minnet-url.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"utils.h\"\n    4  #include \"query.h\"\n    5  #include <assert.h>\n    6  #include <limits.h>\n    7  #include <ctype.h>\n    8  #include <strings.h>\n    9  \n   10  static THREAD_LOCAL JSValue minnet_url_proto, minnet_url_ctor;\n   11  THREAD_LOCAL JSClassID minnet_url_class_id;\n   12  \n   13  enum {\n   14    URL_PROTOCOL,\n   15    URL_HOSTNAME,\n   16    URL_HOST,\n   17    URL_PORT,\n   18    URL_PATHNAME,\n   19    URL_QUERY,\n   20    URL_TLS,\n   21    URL_SEARCH,\n   22    URL_HASH,\n   23    URL_ORIGIN,\n   24    URL_HREF,\n   25  };\n   26  \n   27  MinnetURL*\n   28  minnet_url_data(JSValueConst obj) {\n   29    return JS_GetOpaque(obj, minnet_url_class_id);\n   30  }\n   31  \n   32  JSValue\n   33  minnet_url_wrap(JSContext* ctx, MinnetURL* url) {\n   34    JSValue url_obj = JS_NewObjectProtoClass(ctx, minnet_url_proto, minnet_url_class_id);\n   35  \n   36    if(JS_IsException(url_obj))\n   37      return JS_EXCEPTION;\n   38    /*\n   39      if(!(url = js_mallocz(ctx, sizeof(MinnetURL)))) {\n   40        JS_FreeValue(ctx, url_obj);\n   41        return JS_EXCEPTION;\n   42      }\n   43  \n   44      *url = u;\n   45    */\n   46    JS_SetOpaque(url_obj, url);\n   47  \n   48    return url_obj;\n   49  }\n   50  \n   51  JSValue\n   52  minnet_url_new(JSContext* ctx, MinnetURL u) {\n   53    MinnetURL* url;\n   54  \n   55    if(!(url = url_new(ctx)))\n   56      return JS_ThrowOutOfMemory(ctx);\n   57  \n   58    url_copy(url, u, ctx);\n   59    return minnet_url_wrap(ctx, url);\n   60  }\n   61  \n   62  static JSValue\n   63  minnet_url_get(JSContext* ctx, JSValueConst this_val, int magic) {\n   64    MinnetURL* url;\n   65    JSValue ret = JS_UNDEFINED;\n   66  \n   67    if(!(url = minnet_url_data(this_val)))\n   68      return JS_UNDEFINED;\n   69  \n   70    switch(magic) {\n   71      case URL_PROTOCOL: {\n   72        ret = url->protocol ? JS_NewString(ctx, url->protocol) : JS_NULL;\n   73        break;\n   74      }\n   75  \n   76      case URL_HOSTNAME: {\n   77        ret = url->host ? JS_NewString(ctx, url->host) : JS_NULL;\n   78        break;\n   79      }\n   80  \n   81      case URL_HOST: {\n   82        char* str;\n   83        if((str = url_host(*url, ctx))) {\n   84          ret = JS_NewString(ctx, str);\n   85          js_free(ctx, str);\n   86        }\n   87        break;\n   88      }\n   89  \n   90      case URL_PORT: {\n   91        if(url->port >= 0 && url->port <= 0xffff)\n   92          ret = JS_NewUint32(ctx, url->port);\n   93        break;\n   94      }\n   95  \n   96      case URL_PATHNAME: {\n   97        ret = url->path ? JS_NewStringLen(ctx, url->path, str_chrs(url->path, \"?#\", 2)) : JS_NewString(ctx, \"\");\n   98        break;\n   99      }\n  100  \n  101      case URL_QUERY: {\n  102        const char* query;\n  103        if((query = url_query(*url)))\n  104          ret = query_object(query, ctx);\n  105        else\n  106          ret = JS_NULL;\n  107        break;\n  108      }\n  109  \n  110      case URL_TLS: {\n  111        if(url->protocol) {\n  112          MinnetProtocol proto = protocol_number(url->protocol);\n  113          ret = JS_NewBool(ctx, protocol_is_tls(proto));\n  114        }\n  115        break;\n  116      }\n  117  \n  118      case URL_SEARCH: {\n  119        const char* search;\n  120        size_t searchlen;\n  121        if((search = url_search(*url, &searchlen)))\n  122          ret = JS_NewStringLen(ctx, search, searchlen);\n  123        break;\n  124      }\n  125  \n  126      case URL_HASH: {\n  127        const char* hash;\n  128        if((hash = url_hash(*url)))\n  129          ret = JS_NewString(ctx, hash);\n  130        break;\n  131      }\n  132  \n  133      case URL_HREF: {\n  134        char* str;\n  135        if((str = url_format(*url, ctx))) {\n  136          ret = JS_NewString(ctx, str);\n  137          js_free(ctx, str);\n  138        }\n  139        break;\n  140      }\n  141  \n  142      case URL_ORIGIN: {\n  143        char *str, *end;\n  144        if((str = url_format(*url, ctx))) {\n  145          end = url->path ? strstr(str, url->path) : str + strlen(str);\n  146          ret = JS_NewStringLen(ctx, str, end - str);\n  147          js_free(ctx, str);\n  148        }\n  149        break;\n  150      }\n  151    }\n  152    return ret;\n  153  }\n  154  \n  155  static JSValue\n  156  minnet_url_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  157    MinnetURL* url;\n  158    JSValue ret = JS_UNDEFINED;\n  159    size_t len;\n  160    const char* str;\n  161  \n  162    if(!(url = minnet_url_data2(ctx, this_val)))\n  163      return JS_EXCEPTION;\n  164  \n  165    switch(magic) {\n  166      case URL_PROTOCOL: {\n  167        if(JS_IsNull(value) || JS_IsUndefined(value)) {\n  168          url->protocol = 0;\n  169        } else if((str = JS_ToCString(ctx, value))) {\n  170          MinnetProtocol proto = protocol_number(str);\n  171          JS_FreeCString(ctx, str);\n  172          url->protocol = protocol_string(proto);\n  173        }\n  174        break;\n  175      }\n  176  \n  177      case URL_HOSTNAME: {\n  178        if((str = JS_ToCString(ctx, value))) {\n  179          if(url->host)\n  180            js_free(ctx, url->host);\n  181          url->host = js_strdup(ctx, str);\n  182          JS_FreeCString(ctx, str);\n  183        }\n  184        break;\n  185      }\n  186  \n  187      case URL_PORT: {\n  188        int32_t port = -1;\n  189        JS_ToInt32(ctx, &port, value);\n  190        url->port = URL_IS_VALID_PORT(port) ? port : -1;\n  191        break;\n  192      }\n  193  \n  194      case URL_PATHNAME: {\n  195        if((str = JS_ToCStringLen(ctx, &len, value))) {\n  196          url_set_path_len(url, str, len, ctx);\n  197          JS_FreeCString(ctx, str);\n  198        }\n  199        break;\n  200      }\n  201  \n  202      case URL_QUERY: {\n  203        if(JS_IsString(value)) {\n  204          if((str = JS_ToCStringLen(ctx, &len, value))) {\n  205            url_set_query_len(url, str, len, ctx);\n  206            JS_FreeCString(ctx, str);\n  207          }\n  208        } else if(JS_IsObject(value)) {\n  209          char* query;\n  210          if((query = query_from(value, ctx))) {\n  211            url_set_query(url, query, ctx);\n  212            js_free(ctx, query);\n  213          }\n  214        } else if(JS_IsNull(value) || JS_IsUndefined(value)) {\n  215          size_t pathlen;\n  216          if(url->path[(pathlen = str_chr(url->path, '?'))]) {\n  217            url->path[pathlen] = '\\0';\n  218          }\n  219        }\n  220        break;\n  221      }\n  222    }\n  223    return ret;\n  224  }\n  225  \n  226  enum {\n  227    URL_TO_STRING,\n  228    URL_TO_OBJECT,\n  229  };\n  230  \n  231  JSValue\n  232  minnet_url_method(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  233    MinnetURL* url;\n  234    JSValue ret = JS_UNDEFINED;\n  235  \n  236    if(!(url = minnet_url_data2(ctx, this_val)))\n  237      return JS_EXCEPTION;\n  238  \n  239    switch(magic) {\n  240      case URL_TO_STRING: {\n  241        char* str;\n  242  \n  243        if((str = url_format(*url, ctx))) {\n  244          ret = JS_NewString(ctx, str);\n  245          js_free(ctx, str);\n  246        }\n  247        break;\n  248      }\n  249      case URL_TO_OBJECT: {\n  250        ret = url_object(*url, ctx);\n  251        break;\n  252      }\n  253    }\n  254    return ret;\n  255  }\n  256  \n  257  JSValue\n  258  minnet_url_from(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  259    MinnetURL* url;\n  260  \n  261    if(!(url = url_new(ctx)))\n  262      return JS_ThrowOutOfMemory(ctx);\n  263  \n  264    url_fromvalue(url, argv[0], ctx);\n  265  \n  266    if(!url_valid(*url))\n  267      return JS_ThrowTypeError(ctx, \"Not a valid URL\");\n  268  \n  269    return minnet_url_wrap(ctx, url);\n  270  }\n  271  \n  272  JSValue\n  273  minnet_url_inspect(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  274    DynBuf dbuf;\n  275    char* str;\n  276    MinnetURL* url;\n  277    JSValue ret, options = argc >= 2 && JS_IsObject(argv[1]) ? JS_DupValue(ctx, argv[1]) : argc >= 1 && JS_IsObject(argv[0]) ? JS_DupValue(ctx, argv[0]) : JS_NewObject(ctx);\n  278    JSValue opt_colors = JS_GetPropertyStr(ctx, options, \"colors\");\n  279    BOOL colors = JS_IsUndefined(opt_colors) ? TRUE : JS_ToBool(ctx, opt_colors);\n  280    JS_FreeValue(ctx, opt_colors);\n  281  \n  282    if(!(url = minnet_url_data2(ctx, this_val)))\n  283      return JS_EXCEPTION;\n  284  \n  285    dbuf_init2(&dbuf, ctx, (DynBufReallocFunc*)js_realloc);\n  286  \n  287    dbuf_putstr(&dbuf, colors ? \"\\x1b[1;31mMinnetURL\\x1b[0m\" : \"MinnetURL\");\n  288    if((str = url_format(*url, ctx))) {\n  289      dbuf_printf(&dbuf, colors ? \" \\x1b[1;33m%s\\x1b[0m\" : \" %s\", str);\n  290      js_free(ctx, str);\n  291    }\n  292    ret = JS_NewStringLen(ctx, (const char*)dbuf.buf, dbuf.size);\n  293    dbuf_free(&dbuf);\n  294  \n  295    JS_FreeValue(ctx, options);\n  296  \n  297    return ret;\n  298  }\n  299  \n  300  JSValue\n  301  minnet_url_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n  302    JSValue proto, obj;\n  303    MinnetURL* url;\n  304  \n  305    if(!(url = js_mallocz(ctx, sizeof(MinnetURL))))\n  306      return JS_ThrowOutOfMemory(ctx);\n  307  \n  308    /* using new_target to get the prototype is necessary when the class is extended. */\n  309    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n  310    if(JS_IsException(proto))\n  311      proto = JS_DupValue(ctx, minnet_url_proto);\n  312  \n  313    obj = JS_NewObjectProtoClass(ctx, proto, minnet_url_class_id);\n  314    JS_FreeValue(ctx, proto);\n  315    if(JS_IsException(obj))\n  316      goto fail;\n  317  \n  318    if(JS_IsString(argv[0])) {\n  319      const char* str;\n  320  \n  321      if((str = JS_ToCString(ctx, argv[0])))\n  322        url_parse(url, str, ctx);\n  323      JS_FreeCString(ctx, str);\n  324    }\n  325  \n  326    JS_SetOpaque(obj, url);\n  327    return obj;\n  328  \n  329  fail:\n  330    js_free(ctx, url);\n  331    JS_FreeValue(ctx, obj);\n  332    return JS_EXCEPTION;\n  333  }\n  334  \n  335  static void\n  336  minnet_url_finalizer(JSRuntime* rt, JSValue val) {\n  337    MinnetURL* url = JS_GetOpaque(val, minnet_url_class_id);\n  338    if(url) {\n  339      url_free_rt(url, rt);\n  340      js_free_rt(rt, url);\n  341    }\n  342  }\n  343  \n  344  static JSClassDef minnet_url_class = {\n  345      \"MinnetURL\",\n  346      .finalizer = minnet_url_finalizer,\n  347  };\n  348  \n  349  static const JSCFunctionListEntry minnet_url_proto_funcs[] = {\n  350      JS_CGETSET_MAGIC_FLAGS_DEF(\"protocol\", minnet_url_get, minnet_url_set, URL_PROTOCOL, JS_PROP_ENUMERABLE),\n  351      JS_CGETSET_MAGIC_FLAGS_DEF(\"hostname\", minnet_url_get, minnet_url_set, URL_HOSTNAME, JS_PROP_ENUMERABLE),\n  352      JS_CGETSET_MAGIC_FLAGS_DEF(\"host\", minnet_url_get, 0, URL_HOST, 0),\n  353      JS_CGETSET_MAGIC_FLAGS_DEF(\"port\", minnet_url_get, minnet_url_set, URL_PORT, JS_PROP_ENUMERABLE),\n  354      JS_CGETSET_MAGIC_FLAGS_DEF(\"pathname\", minnet_url_get, minnet_url_set, URL_PATHNAME, JS_PROP_ENUMERABLE),\n  355      JS_CGETSET_MAGIC_FLAGS_DEF(\"path\", minnet_url_get, 0, URL_PATHNAME, 0),\n  356      JS_CGETSET_MAGIC_FLAGS_DEF(\"query\", minnet_url_get, minnet_url_set, URL_QUERY, 0),\n  357      JS_CGETSET_MAGIC_FLAGS_DEF(\"search\", minnet_url_get, 0, URL_SEARCH, JS_PROP_ENUMERABLE),\n  358      JS_CGETSET_MAGIC_FLAGS_DEF(\"hash\", minnet_url_get, 0, URL_HASH, JS_PROP_ENUMERABLE),\n  359      JS_CGETSET_MAGIC_FLAGS_DEF(\"origin\", minnet_url_get, 0, URL_ORIGIN, 0),\n  360      JS_CGETSET_MAGIC_FLAGS_DEF(\"tls\", minnet_url_get, 0, URL_TLS, 0),\n  361      JS_CGETSET_MAGIC_FLAGS_DEF(\"href\", minnet_url_get, 0, URL_HREF, 0),\n  362      JS_CFUNC_MAGIC_DEF(\"toString\", 0, minnet_url_method, URL_TO_STRING),\n  363      JS_CFUNC_MAGIC_DEF(\"toObject\", 0, minnet_url_method, URL_TO_OBJECT),\n  364      JS_CFUNC_DEF(\"inspect\", 0, minnet_url_inspect),\n  365      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetURL\", JS_PROP_CONFIGURABLE),\n  366  };\n  367  \n  368  static const JSCFunctionListEntry minnet_url_static_funcs[] = {\n  369      JS_CFUNC_DEF(\"from\", 1, minnet_url_from),\n  370  };\n  371  \n  372  int\n  373  minnet_url_init(JSContext* ctx, JSModuleDef* m) {\n  374    JSAtom inspect_atom;\n  375  \n  376    // Add class URL\n  377    JS_NewClassID(&minnet_url_class_id);\n  378    JS_NewClass(JS_GetRuntime(ctx), minnet_url_class_id, &minnet_url_class);\n  379    minnet_url_proto = JS_NewObject(ctx);\n  380    JS_SetPropertyFunctionList(ctx, minnet_url_proto, minnet_url_proto_funcs, countof(minnet_url_proto_funcs));\n  381  \n  382    minnet_url_ctor = JS_NewCFunction2(ctx, minnet_url_constructor, \"MinnetURL\", 0, JS_CFUNC_constructor, 0);\n  383    JS_SetPropertyFunctionList(ctx, minnet_url_ctor, minnet_url_static_funcs, countof(minnet_url_static_funcs));\n  384  \n  385    JS_SetConstructor(ctx, minnet_url_ctor, minnet_url_proto);\n  386  \n  387    inspect_atom = js_symbol_static_atom(ctx, \"inspect\");\n  388  \n  389    if(!js_atom_is_symbol(ctx, inspect_atom)) {\n  390      JS_FreeAtom(ctx, inspect_atom);\n  391      inspect_atom = js_symbol_for_atom(ctx, \"quickjs.inspect.custom\");\n  392    }\n  393  \n  394    if(js_atom_is_symbol(ctx, inspect_atom))\n  395      JS_SetProperty(ctx, minnet_url_proto, inspect_atom, JS_NewCFunction(ctx, minnet_url_inspect, \"inspect\", 0));\n  396  \n  397    JS_FreeAtom(ctx, inspect_atom);\n  398  \n  399    if(m)\n  400      JS_SetModuleExport(ctx, m, \"URL\", minnet_url_ctor);\n  401  \n  402    return 0;\n  403  }\n  404  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n    1  #include \"jsutils.h\"\n    2  #include \"minnet-websocket.h\"\n    3  #include \"minnet-server.h\"\n    4  #include \"minnet-client.h\"\n    5  #include \"minnet-server-http.h\"\n    6  #include \"minnet-server-proxy.h\"\n    7  #include \"minnet-response.h\"\n    8  #include \"minnet-request.h\"\n    9  #include \"closure.h\"\n   10  #include <list.h>\n   11  #include <quickjs-libc.h>\n   12  #include <libwebsockets.h>\n   13  \n   14  #include \"../libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c\"\n   15  #include \"../libwebsockets/plugins/deaddrop/protocol_lws_deaddrop.c\"\n   16  #include \"../libwebsockets/plugins/protocol_lws_mirror.c\"\n   17  #include \"minnet-plugin-broker.c\"\n   18  \n   19  int proxy_callback(struct lws*, enum lws_callback_reasons, void*, void*, size_t);\n   20  \n   21  static struct lws_protocols protocols[] = {\n   22      {\"ws\", ws_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   23      {\"http\", http_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   24      /* {\"defprot\", lws_callback_http_dummy, sizeof(struct session_data), 1024, 0, NULL, 0},\n   25       {\"proxy-ws-raw-ws\", proxy_server_callback, 0, 1024, 0, NULL, 0},\n   26         {\"proxy-ws-raw-raw\", proxy_rawclient_callback, 0, 1024, 0, NULL, 0},\n   27       {\"proxy-ws\", proxy_callback, 0, 1024, 0, NULL, 0},*/\n   28      MINNET_PLUGIN_BROKER(broker),\n   29      LWS_PLUGIN_PROTOCOL_DEADDROP,\n   30      // LWS_PLUGIN_PROTOCOL_RAW_PROXY,\n   31      LWS_PLUGIN_PROTOCOL_MIRROR,\n   32      {0},\n   33  };\n   34  \n   35  static struct lws_protocols protocols2[] = {\n   36      {\"ws\", ws_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   37      {\"http\", http_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   38      /* {\"defprot\", defprot_callback, sizeof(struct session_data), 0},\n   39       {\"proxy-ws-raw-ws\", proxy_server_callback, 0, 1024, 0, NULL, 0},\n   40        {\"proxy-ws-raw-raw\", proxy_rawclient_callback, 0, 1024, 0, NULL, 0},\n   41     {\"proxy-ws\", proxy_callback, sizeof(struct session_data), 1024, 0, NULL, 0}, MINNET_PLUGIN_BROKER(broker),\n   42          LWS_PLUGIN_PROTOCOL_RAW_PROXY,*/\n   43      LWS_PLUGIN_PROTOCOL_MIRROR,\n   44      {0, 0},\n   45  };\n   46  \n   47  static const struct lws_http_mount mount = {\n   48      /* .mount_next */ NULL,  /* linked-list \"next\" */\n   49      /* .mountpoint */ \"/\",   /* mountpoint URL */\n   50      /* .origin */ \".\",       /* serve from dir */\n   51      /* .def */ \"index.html\", /* default filename */\n   52      /* .protocol */ NULL,\n   53      /* .cgienv */ NULL,\n   54      /* .extra_mimetypes */ NULL,\n   55      /* .interpret */ NULL,\n   56      /* .cgi_timeout */ 0,\n   57      /* .cache_max_age */ 0,\n   58      /* .auth_mask */ 0,\n   59      /* .cache_reusable */ 0,\n   60      /* .cache_revalidate */ 0,\n   61      /* .cache_intermediaries */ 0,\n   62      /* .origin_protocol */ LWSMPRO_FILE, /* files in a dir */\n   63      /* .mountpoint_len */ 1,             /* char count */\n   64      /* .basic_auth_login_file */ NULL,\n   65  };\n   66  \n   67  static const struct lws_extension extension_pmd[] = {\n   68      {\n   69          \"permessage-deflate\",\n   70          lws_extension_callback_pm_deflate,\n   71          \"permessage-deflate\"\n   72          \"; client_no_context_takeover\"\n   73          \"; client_max_window_bits\",\n   74      },\n   75      {\n   76          NULL,\n   77          NULL,\n   78          NULL,\n   79      },\n   80  };\n   81  \n   82  static MinnetServer*\n   83  server_new(JSContext* ctx) {\n   84    MinnetServer* server;\n   85  \n   86    if(!(server = js_mallocz(ctx, sizeof(MinnetServer))))\n   87      return (void*)-1;\n   88  \n   89    server->context.error = JS_NULL;\n   90    server->context.js = ctx;\n   91    server->context.info = (struct lws_context_creation_info){.protocols = protocols2, .user = server};\n   92  \n   93    context_add(&server->context);\n   94  \n   95    return server;\n   96  }\n   97  \n   98  static BOOL\n   99  server_init(MinnetServer* server) {\n  100    if(!(server->context.lws = lws_create_context(&server->context.info))) {\n  101      lwsl_err(\"libwebsockets init failed\\n\");\n  102      return FALSE;\n  103    }\n  104  \n  105    if(!lws_create_vhost(server->context.lws, &server->context.info)) {\n  106      lwsl_err(\"Failed to create vhost\\n\");\n  107      return FALSE;\n  108    }\n  109  \n  110    return TRUE;\n  111  }\n  112  \n  113  void\n  114  server_free(MinnetServer* server) {\n  115    JSContext* ctx = server->context.js;\n  116  \n  117    if(--server->ref_count == 0) {\n  118      js_promise_free(ctx, &server->promise);\n  119  \n  120      context_clear(&server->context);\n  121  \n  122      js_free(ctx, server);\n  123    }\n  124  }\n  125  \n  126  void\n  127  server_mounts(MinnetServer* server, JSValueConst opt_mounts) {\n  128    JSContext* ctx = server->context.js;\n  129    struct lws_context_creation_info* info = &server->context.info;\n  130    MinnetHttpMount** m = (MinnetHttpMount**)&info->mounts;\n  131  \n  132    *m = 0;\n  133  \n  134    if(JS_IsArray(ctx, opt_mounts)) {\n  135      uint32_t i;\n  136      for(i = 0;; i++) {\n  137        MinnetHttpMount* mount;\n  138        JSValue mountval = JS_GetPropertyUint32(ctx, opt_mounts, i);\n  139        if(JS_IsUndefined(mountval))\n  140          break;\n  141        mount = mount_new(ctx, mountval, 0);\n  142        mount->extra_mimetypes = server->mimetypes;\n  143        mount->pro = \"http\";\n  144        ADD(m, mount, next);\n  145      }\n  146    } else if(JS_IsObject(opt_mounts)) {\n  147      JSPropertyEnum* tmp_tab;\n  148      uint32_t i, tmp_len = 0;\n  149      JS_GetOwnPropertyNames(ctx, &tmp_tab, &tmp_len, opt_mounts, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK | JS_GPN_SYMBOL_MASK);\n  150  \n  151      for(i = 0; i < tmp_len; i++) {\n  152        MinnetHttpMount* mount;\n  153        JSAtom prop = tmp_tab[i].atom;\n  154        const char* name = JS_AtomToCString(ctx, prop);\n  155        JSValue mountval = JS_GetProperty(ctx, opt_mounts, prop);\n  156        mount = mount_new(ctx, mountval, name);\n  157        mount->extra_mimetypes = server->mimetypes;\n  158        mount->pro = \"http\";\n  159        ADD(m, mount, next);\n  160        JS_FreeCString(ctx, name);\n  161      }\n  162    }\n  163  }\n  164  \n  165  void\n  166  server_certificate(struct context* context, JSValueConst options) {\n  167    struct lws_context_creation_info* info = &context->info;\n  168    JSContext* ctx = context->js;\n  169  \n  170    context->crt = JS_GetPropertyStr(context->js, options, \"sslCert\");\n  171    context->key = JS_GetPropertyStr(context->js, options, \"sslPrivateKey\");\n  172    context->ca = JS_GetPropertyStr(context->js, options, \"sslCA\");\n  173  \n  174    if(JS_IsString(context->crt)) {\n  175      info->ssl_cert_filepath = js_tostring(ctx, context->crt);\n  176      DEBUG(\"server SSL certificate file: %s\\n\", info->ssl_cert_filepath);\n  177    } else {\n  178      info->server_ssl_cert_mem = js_toptrsize(ctx, &info->server_ssl_cert_mem_len, context->crt);\n  179      DEBUG(\"server SSL certificate memory: %p [%u]\\n\", info->server_ssl_cert_mem, info->server_ssl_cert_mem_len);\n  180    }\n  181  \n  182    if(JS_IsString(context->key)) {\n  183      info->ssl_private_key_filepath = js_tostring(ctx, context->key);\n  184      DEBUG(\"server SSL private key file: %s\\n\", info->ssl_private_key_filepath);\n  185    } else {\n  186      info->server_ssl_private_key_mem = js_toptrsize(ctx, &info->server_ssl_private_key_mem_len, context->key);\n  187      DEBUG(\"server SSL private key memory: %p [%u]\\n\", info->server_ssl_private_key_mem, info->server_ssl_private_key_mem_len);\n  188    }\n  189  \n  190    if(JS_IsString(context->ca)) {\n  191      info->ssl_ca_filepath = js_tostring(ctx, context->ca);\n  192      DEBUG(\"server SSL CA certificate file: %s\\n\", info->ssl_ca_filepath);\n  193    } else {\n  194      info->server_ssl_ca_mem = js_toptrsize(ctx, &info->server_ssl_ca_mem_len, context->ca);\n  195      DEBUG(\"server SSL CA certificate memory: %p [%u]\\n\", info->server_ssl_ca_mem, info->server_ssl_ca_mem_len);\n  196    }\n  197  }\n  198  \n  199  static JSValue\n  200  minnet_server_handler(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  201    return JS_UNDEFINED;\n  202  }\n  203  \n  204  static JSValue\n  205  minnet_server_timeout(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  206    MinnetServer* server = ptr;\n  207    struct TimerClosure* timer = server->context.timer;\n  208  \n  209    if(timer) {\n  210      // DEBUG(\"timeout %\" PRIu32 \"\\n\", timer->interval);\n  211      uint32_t new_interval;\n  212  \n  213      do {\n  214        new_interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n  215  \n  216        if(new_interval == 0)\n  217          lws_service_tsi(server->context.lws, -1, 0);\n  218      } while(new_interval == 0);\n  219  \n  220      // DEBUG(\"new_interval %\" PRIu32 \"\\n\", new_interval);\n  221      timer->interval = new_interval;\n  222  \n  223      js_timer_restart(timer);\n  224  \n  225      return JS_FALSE;\n  226    }\n  227    // DEBUG(\"timeout %s %s\\n\", JS_ToCString(ctx, argv[0]), JS_ToCString(ctx, argv[argc - 1]));\n  228  \n  229    return JS_TRUE;\n  230  }\n  231  \n  232  JSValue\n  233  minnet_server_closure(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  234    int argind = 0, a = 0;\n  235    BOOL block = TRUE, is_tls = FALSE, is_h2 = TRUE, per_message_deflate = FALSE;\n  236    MinnetServer* server;\n  237    MinnetURL url = {0};\n  238    JSValue ret, options;\n  239    struct lws_context_creation_info* info;\n  240  \n  241    if((server = server_new(ctx)) == (void*)-1)\n  242      return JS_ThrowOutOfMemory(ctx);\n  243    if(!server)\n  244      return JS_ThrowInternalError(ctx, \"lws init failed\");\n  245  \n  246    if(ptr) {\n  247      union closure* closure = ptr;\n  248      closure->pointer = server;\n  249      closure->free_func = (closure_free_t*)server_free;\n  250    }\n  251  \n  252    info = &server->context.info;\n  253  \n  254    ret = JS_NewInt32(ctx, 0);\n  255    options = argv[0];\n  256  \n  257    if(argc >= 2 && JS_IsString(argv[argind])) {\n  258      const char* str;\n  259      if((str = JS_ToCString(ctx, argv[argind]))) {\n  260        url_parse(&url, str, ctx);\n  261        JS_FreeCString(ctx, str);\n  262      }\n  263      argind++;\n  264    }\n  265  \n  266    options = argv[argind];\n  267  \n  268    if(!JS_IsObject(options))\n  269      return JS_ThrowTypeError(ctx, \"argument %d must be options object\", argind + 1);\n  270  \n  271    JSValue opt_port = JS_GetPropertyStr(ctx, options, \"port\");\n  272    JSValue opt_host = JS_GetPropertyStr(ctx, options, \"host\");\n  273    JSValue opt_protocol = JS_GetPropertyStr(ctx, options, \"protocol\");\n  274    JSValue opt_tls = JS_GetPropertyStr(ctx, options, \"tls\");\n  275    JSValue opt_on_pong = JS_GetPropertyStr(ctx, options, \"onPong\");\n  276    JSValue opt_on_close = JS_GetPropertyStr(ctx, options, \"onClose\");\n  277    JSValue opt_on_connect = JS_GetPropertyStr(ctx, options, \"onConnect\");\n  278    JSValue opt_on_message = JS_GetPropertyStr(ctx, options, \"onMessage\");\n  279    JSValue opt_on_fd = JS_GetPropertyStr(ctx, options, \"onFd\");\n  280    JSValue opt_on_http = JS_GetPropertyStr(ctx, options, \"onHttp\");\n  281    JSValue opt_on_read = JS_GetPropertyStr(ctx, options, \"onRead\");\n  282    JSValue opt_on_post = JS_GetPropertyStr(ctx, options, \"onPost\");\n  283    JSValue opt_mounts = JS_GetPropertyStr(ctx, options, \"mounts\");\n  284    JSValue opt_mimetypes = JS_GetPropertyStr(ctx, options, \"mimetypes\");\n  285    JSValue opt_error_document = JS_GetPropertyStr(ctx, options, \"errorDocument\");\n  286    JSValue opt_options = JS_GetPropertyStr(ctx, options, \"options\");\n  287  \n  288    if(!JS_IsUndefined(opt_tls)) {\n  289  \n  290      is_tls = JS_ToBool(ctx, opt_tls);\n  291      DEBUG(\"is_tls = %d\\n\", is_tls);\n  292    }\n  293  \n  294    if(!JS_IsUndefined(opt_port)) {\n  295      int32_t port;\n  296      JS_ToInt32(ctx, &port, opt_port);\n  297      url.port = port;\n  298    }\n  299  \n  300    if(JS_IsString(opt_host))\n  301      js_replace_string(ctx, opt_host, &url.host);\n  302    if(JS_IsString(opt_protocol)) {\n  303      const char* protocol;\n  304  \n  305      if((protocol = JS_ToCString(ctx, opt_protocol))) {\n  306        url_set_protocol(&url, protocol);\n  307        JS_FreeCString(ctx, protocol);\n  308      }\n  309    }\n  310  \n  311    BOOL_OPTION(opt_block, \"block\", block);\n  312    BOOL_OPTION(opt_h2, \"h2\", is_h2);\n  313    BOOL_OPTION(opt_pmd, \"permessageDeflate\", per_message_deflate);\n  314  \n  315    GETCB(opt_on_pong, server->cb.pong)\n  316    GETCB(opt_on_close, server->cb.close)\n  317    GETCB(opt_on_connect, server->cb.connect)\n  318    GETCB(opt_on_message, server->cb.message)\n  319    GETCB(opt_on_fd, server->cb.fd)\n  320    GETCB(opt_on_http, server->cb.http)\n  321    GETCB(opt_on_read, server->cb.read)\n  322    GETCB(opt_on_post, server->cb.post)\n  323  \n  324    for(int i = 0; i < countof(protocols); i++) protocols[i].user = ctx;\n  325  \n  326    info->protocols = protocols2;\n  327  \n  328    info->mounts = &mount;\n  329    info->vhost_name = url_format((MinnetURL){.host = url.host, .port = url.port}, ctx);\n  330  \n  331    if(JS_IsString(opt_error_document))\n  332      info->error_document_404 = js_tostring(ctx, opt_error_document);\n  333    else\n  334      info->error_document_404 = js_strdup(ctx, \"/404.html\");\n  335  \n  336    info->port = url.port;\n  337    info->timeout_secs = 0;\n  338    info->options = 0;\n  339  \n  340    if(per_message_deflate)\n  341      info->extensions = extension_pmd;\n  342  \n  343    // client_certificate(&server->context, options);\n  344  \n  345    info->options |= LWS_SERVER_OPTION_PEER_CERT_NOT_REQUIRED;\n  346    info->options |= LWS_SERVER_OPTION_DO_SSL_GLOBAL_INIT;\n  347    info->options |= LWS_SERVER_OPTION_DISABLE_IPV6;\n  348    info->options |= LWS_SERVER_OPTION_IGNORE_MISSING_CERT;\n  349  \n  350    // info->options |= LWS_SERVER_OPTION_CREATE_VHOST_SSL_CTX;\n  351  \n  352    info->options |= LWS_SERVER_OPTION_REQUIRE_VALID_OPENSSL_CLIENT_CERT;\n  353  \n  354    if(is_tls) {\n  355      server_certificate(&server->context, options);\n  356  \n  357      // info->options |= LWS_SERVER_OPTION_REDIRECT_HTTP_TO_HTTPS;\n  358      info->options |= LWS_SERVER_OPTION_ALLOW_HTTP_ON_HTTPS_LISTENER;\n  359      info->options |= LWS_SERVER_OPTION_ALLOW_NON_SSL_ON_SSL_PORT;\n  360    }\n  361    client_certificate(&server->context, options);\n  362  \n  363    if(is_h2) {\n  364      info->options |= LWS_SERVER_OPTION_H2_JUST_FIX_WINDOW_UPDATE_OVERFLOW;\n  365      info->options |= LWS_SERVER_OPTION_VH_H2_HALF_CLOSED_LONG_POLL;\n  366    }\n  367    // info->options |= LWS_SERVER_OPTION_HTTP_HEADERS_SECURITY_BEST_PRACTICES_ENFORCE;\n  368  \n  369    if(JS_IsArray(ctx, opt_mimetypes)) {\n  370      MinnetVhostOptions *vopts, **vop = &server->mimetypes;\n  371      uint32_t i;\n  372      for(i = 0;; i++) {\n  373        JSValue mimetype = JS_GetPropertyUint32(ctx, opt_mimetypes, i);\n  374        if(JS_IsUndefined(mimetype))\n  375          break;\n  376        vopts = vhost_options_new(ctx, mimetype);\n  377        ADD(vop, vopts, next);\n  378      }\n  379    }\n  380  \n  381    /*{\n  382      MinnetVhostOptions* pvo;\n  383  \n  384      for(pvo = server->mimetypes; pvo; pvo = pvo->next) {\n  385        DEBUG(\"pvo mimetype %s %s\\n\", pvo->name, pvo->value);\n  386      }\n  387    }*/\n  388  \n  389    MinnetVhostOptions *vhopt = 0, **vhptr = &vhopt;\n  390  \n  391    ADD(vhptr, vhost_options_create(ctx, \"lws-deaddrop\", \"\"), next);\n  392    ADD(vhptr, vhost_options_create(ctx, \"lws-mirror-protocol\", \"\"), next);\n  393    ADD(vhptr, vhost_options_create(ctx, \"raw-proxy\", \"\"), next);\n  394  \n  395    info->pvo = &vhopt->lws;\n  396  \n  397    if(!JS_IsUndefined(opt_options)) {\n  398  \n  399      vhopt->options = vhost_options_fromobj(ctx, opt_options);\n  400  \n  401      fprintf(stderr, \"vhost options:\\n\");\n  402      vhost_options_dump(vhopt->options);\n  403    }\n  404  \n  405    server_mounts(server, opt_mounts);\n  406  \n  407    if(!server_init(server))\n  408      return JS_ThrowInternalError(ctx, \"libwebsockets init failed\");\n  409  \n  410    JSValue timer_cb = js_function_cclosure(ctx, minnet_server_timeout, 4, 0, server, 0);\n  411    uint32_t interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n  412    if(interval == 0)\n  413      interval = 10;\n  414    server->context.timer = js_timer_interval(ctx, timer_cb, interval);\n  415  \n  416    if(!block)\n  417      return ret;\n  418  \n  419    while(a >= 0) {\n  420      if(!JS_IsNull(server->context.error)) {\n  421        ret = JS_Throw(ctx, server->context.error);\n  422        break;\n  423      }\n  424  \n  425      if(server->cb.fd.ctx)\n  426        js_std_loop(ctx);\n  427      else\n  428        a = lws_service(server->context.lws, 20);\n  429    }\n  430  \n  431    // lws_context_destroy(server->context.lws);\n  432  \n  433    if(server->mimetypes)\n  434      vhost_options_free_list(ctx, server->mimetypes);\n  435  \n  436    if(info->mounts) {\n  437      const MinnetHttpMount *mount, *next;\n  438  \n  439      for(mount = (MinnetHttpMount*)info->mounts; mount; mount = next) {\n  440        next = (MinnetHttpMount*)mount->lws.mount_next;\n  441        mount_free(ctx, mount);\n  442      }\n  443    }\n  444  \n  445    if(info->server_ssl_ca_mem)\n  446      js_clear(ctx, &info->server_ssl_ca_mem);\n  447    if(info->server_ssl_cert_mem)\n  448      js_clear(ctx, &info->server_ssl_cert_mem);\n  449    if(info->server_ssl_private_key_mem)\n  450      js_clear(ctx, &info->server_ssl_private_key_mem);\n  451    if(info->ssl_ca_filepath)\n  452      js_clear(ctx, &info->ssl_ca_filepath);\n  453    if(info->ssl_cert_filepath)\n  454      js_clear(ctx, &info->ssl_cert_filepath);\n  455    if(info->ssl_private_key_filepath)\n  456      js_clear(ctx, &info->ssl_private_key_filepath);\n  457  \n  458    /*js_buffer_free(&server->context.key, ctx);\n  459    js_buffer_free(&server->context.crt, ctx);\n  460    js_buffer_free(&server->context.ca, ctx);*/\n  461  \n  462    /* if(info->ssl_cert_filepath)\n  463       JS_FreeCString(ctx, info->ssl_cert_filepath);\n  464  \n  465     if(info->ssl_private_key_filepath)\n  466       JS_FreeCString(ctx, info->ssl_private_key_filepath);\n  467  \n  468     js_free(ctx, (void*)info->vhost_name);\n  469   */\n  470    FREECB(server->cb.pong)\n  471    FREECB(server->cb.close)\n  472    FREECB(server->cb.connect)\n  473    FREECB(server->cb.message)\n  474    FREECB(server->cb.fd)\n  475    FREECB(server->cb.http)\n  476  \n  477    return ret;\n  478  }\n  479  \n  480  JSValue\n  481  minnet_server(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  482    union closure* closure;\n  483    JSValue ret;\n  484  \n  485    if(!(closure = closure_new(ctx)))\n  486      return JS_ThrowOutOfMemory(ctx);\n  487  \n  488    ret = minnet_server_closure(ctx, this_val, argc, argv, 0, closure);\n  489  \n  490    if(js_is_promise(ctx, ret)) {\n  491      JSValue func[2], tmp;\n  492  \n  493      func[0] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  494      func[1] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  495  \n  496      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n  497      JS_FreeValue(ctx, ret);\n  498      ret = tmp;\n  499  \n  500      tmp = js_invoke(ctx, ret, \"catch\", 1, &func[1]);\n  501      JS_FreeValue(ctx, ret);\n  502      ret = tmp;\n  503  \n  504      JS_FreeValue(ctx, func[0]);\n  505      JS_FreeValue(ctx, func[1]);\n  506    }\n  507  \n  508    closure_free(closure);\n  509  \n  510    return ret;\n  511  }\n  512  \n  513  int\n  514  defprot_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  515    MinnetServer* server = /*session ? session->server :*/ lws_context_user(lws_get_context(wsi));\n  516  \n  517    // if(!lws_reason_poll(reason)) printf(\"defprot_callback %s %p %p %zu\\n\", lws_callback_name(reason), user, in, len);\n  518  \n  519    switch(reason) {\n  520      case LWS_CALLBACK_LOCK_POLL:\n  521      case LWS_CALLBACK_UNLOCK_POLL: {\n  522        return 0;\n  523      }\n  524      case LWS_CALLBACK_ADD_POLL_FD: {\n  525        struct lws_pollargs* args = in;\n  526        if(server->cb.fd.ctx) {\n  527          JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  528          minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  529          server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  530          JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  531          JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  532          JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  533        }\n  534        return 0;\n  535      }\n  536      case LWS_CALLBACK_DEL_POLL_FD: {\n  537        struct lws_pollargs* args = in;\n  538        if(server->cb.fd.ctx) {\n  539          JSValue argv[3] = {\n  540              JS_NewInt32(server->cb.fd.ctx, args->fd),\n  541          };\n  542          minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  543          server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  544          JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  545          JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  546          JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  547        }\n  548        return 0;\n  549      }\n  550      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: {\n  551        struct lws_pollargs* args = in;\n  552        if(server->cb.fd.ctx) {\n  553          if(args->events != args->prev_events) {\n  554            JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  555            minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  556            server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  557            JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  558            JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  559            JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  560          }\n  561        }\n  562        return 0;\n  563      }\n  564      case LWS_CALLBACK_EVENT_WAIT_CANCELLED:\n  565      case LWS_CALLBACK_GET_THREAD_ID: {\n  566        return 0;\n  567      }\n  568      default: {\n  569        break;\n  570      }\n  571    }\n  572  \n  573    return lws_callback_http_dummy(wsi, reason, user, in, len);\n  574  }\n  575  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c:\n    1  #include \"minnet.h\"\n    2  #include \"minnet-server-http.h\"\n    3  #include <assert.h>\n    4  #include <ctype.h>\n    5  #include <cutils.h>\n    6  #include <inttypes.h>\n    7  #include <libwebsockets.h>\n    8  #include <stdint.h>\n    9  #include <stdio.h>\n   10  #include <string.h>\n   11  #include <sys/types.h>\n   12  #include \"context.h\"\n   13  #include \"headers.h\"\n   14  #include \"jsutils.h\"\n   15  #include \"minnet-form-parser.h\"\n   16  #include \"minnet-generator.h\"\n   17  #include \"minnet-request.h\"\n   18  #include \"minnet-response.h\"\n   19  #include \"minnet-server.h\"\n   20  #include \"minnet-url.h\"\n   21  #include \"minnet-websocket.h\"\n   22  #include \"opaque.h\"\n   23  #include <quickjs.h>\n   24  #include \"utils.h\"\n   25  #include \"buffer.h\"\n   26  \n   27  static int serve_generator(JSContext* ctx, struct session_data* session, struct lws* wsi, BOOL* done_p);\n   28  \n   29  int lws_hdr_simple_create(struct lws*, enum lws_token_indexes, const char*);\n   30  \n   31  MinnetVhostOptions*\n   32  vhost_options_create(JSContext* ctx, const char* name, const char* value) {\n   33    MinnetVhostOptions* vo = js_mallocz(ctx, sizeof(MinnetVhostOptions));\n   34  \n   35    // DEBUG(\"vhost_options_create %s %s\\n\", name, value);\n   36  \n   37    vo->name = name ? js_strdup(ctx, name) : 0;\n   38    vo->value = value ? js_strdup(ctx, value) : 0;\n   39  \n   40    return vo;\n   41  }\n   42  \n   43  MinnetVhostOptions*\n   44  vhost_options_new(JSContext* ctx, JSValueConst vhost_option) {\n   45    MinnetVhostOptions* vo;\n   46    JSValue name, value;\n   47    const char *namestr, *valuestr;\n   48  \n   49    name = JS_GetPropertyUint32(ctx, vhost_option, 0);\n   50    value = JS_GetPropertyUint32(ctx, vhost_option, 1);\n   51  \n   52    namestr = JS_ToCString(ctx, name);\n   53    valuestr = JS_ToCString(ctx, value);\n   54  \n   55    JS_FreeValue(ctx, name);\n   56    JS_FreeValue(ctx, value);\n   57  \n   58    vo = vhost_options_create(ctx, namestr, valuestr);\n   59  \n   60    JS_FreeCString(ctx, namestr);\n   61    JS_FreeCString(ctx, valuestr);\n   62  \n   63    return vo;\n   64  }\n   65  \n   66  MinnetVhostOptions*\n   67  vhost_options_fromentries(JSContext* ctx, JSValueConst arr) {\n   68    uint32_t i, len = js_get_propertystr_uint32(ctx, arr, \"length\");\n   69    MinnetVhostOptions *vo = 0, **voptr = &vo;\n   70  \n   71    for(i = 0; i < len; i++) {\n   72      JSValue val = JS_GetPropertyUint32(ctx, arr, i);\n   73  \n   74      *voptr = vhost_options_new(ctx, val);\n   75      voptr = &(*voptr)->next;\n   76  \n   77      JS_FreeValue(ctx, val);\n   78    }\n   79  \n   80    return vo;\n   81  }\n   82  \n   83  MinnetVhostOptions*\n   84  vhost_options_fromobj(JSContext* ctx, JSValueConst obj) {\n   85    JSPropertyEnum* tab;\n   86    uint32_t tab_len, i;\n   87    MinnetVhostOptions *vo = 0, **voptr = &vo;\n   88  \n   89    if(JS_IsArray(ctx, obj))\n   90      return vhost_options_fromentries(ctx, obj);\n   91  \n   92    if(JS_GetOwnPropertyNames(ctx, &tab, &tab_len, obj, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK))\n   93      return 0;\n   94  \n   95    for(i = 0; i < tab_len; i++) {\n   96      JSAtom prop = tab[i].atom;\n   97      const char* name = JS_AtomToCString(ctx, prop);\n   98      JSValue val = JS_GetProperty(ctx, obj, prop);\n   99      const char* value = JS_ToCString(ctx, val);\n  100      JS_FreeValue(ctx, val);\n  101  \n  102      *voptr = vhost_options_create(ctx, name, value);\n  103      voptr = &(*voptr)->next;\n  104  \n  105      JS_FreeCString(ctx, name);\n  106      JS_FreeCString(ctx, value);\n  107    }\n  108    js_free(ctx, tab);\n  109  \n  110    return vo;\n  111  }\n  112  \n  113  void\n  114  vhost_options_dump(MinnetVhostOptions* vo) {\n  115  \n  116    uint32_t i = 0;\n  117    while(vo) {\n  118      i++;\n  119      DEBUG(\"option %u %s = %s\\n\", i, vo->name, vo->value);\n  120  \n  121      vo = vo->next;\n  122    }\n  123  }\n  124  \n  125  void\n  126  vhost_options_free_list(JSContext* ctx, MinnetVhostOptions* vo) {\n  127    MinnetVhostOptions* next;\n  128  \n  129    do {\n  130  \n  131      if(vo->name)\n  132        js_free(ctx, (void*)vo->name);\n  133      if(vo->value)\n  134        js_free(ctx, (void*)vo->value);\n  135      if(vo->options)\n  136        vhost_options_free_list(ctx, vo->options);\n  137  \n  138      next = vo->next;\n  139      js_free(ctx, (void*)vo);\n  140    } while((vo = next));\n  141  }\n  142  \n  143  /*void\n  144  vhost_options_free(JSContext* ctx, MinnetVhostOptions* vo) {\n  145  \n  146    if(vo->name)\n  147      js_free(ctx, (void*)vo->name);\n  148    if(vo->value)\n  149      js_free(ctx, (void*)vo->value);\n  150  \n  151    if(vo->options)\n  152      vhost_options_free_list(ctx, vo->options);\n  153  \n  154    js_free(ctx, (void*)vo);\n  155  }\n  156  */\n  157  MinnetHttpMount*\n  158  mount_create(JSContext* ctx, const char* mountpoint, const char* origin, const char* def, const char* pro, enum lws_mount_protocols origin_proto) {\n  159    MinnetHttpMount* m;\n  160  \n  161    if((m = js_mallocz(ctx, sizeof(MinnetHttpMount)))) {\n  162      DEBUG(\"mount_create mnt=%-10s org=%-20s def=%-15s protocol=%-10s origin_protocol=%s\\n\",\n  163            mountpoint,\n  164            origin,\n  165            def,\n  166            pro,\n  167            ((const char*[]){\n  168                \"HTTP\",\n  169                \"HTTPS\",\n  170                \"FILE\",\n  171                \"CGI\",\n  172                \"REDIR_HTTP\",\n  173                \"REDIR_HTTPS\",\n  174                \"CALLBACK\",\n  175            })[origin_proto]);\n  176      m->lws.mountpoint = js_strdup(ctx, mountpoint);\n  177      m->lws.origin = origin ? js_strdup(ctx, origin) : 0;\n  178      m->lws.def = def ? js_strdup(ctx, def) : 0;\n  179      m->lws.protocol = pro ? pro : js_strdup(ctx, /*origin_proto == LWSMPRO_CALLBACK ? \"http\" :*/ \"defprot\");\n  180      m->lws.origin_protocol = origin_proto;\n  181      m->lws.mountpoint_len = strlen(mountpoint);\n  182    }\n  183  \n  184    return m;\n  185  }\n  186  \n  187  MinnetHttpMount*\n  188  mount_new(JSContext* ctx, JSValueConst obj, const char* key) {\n  189    MinnetHttpMount* ret;\n  190    JSValue mnt = JS_UNDEFINED, org = JS_UNDEFINED, def = JS_UNDEFINED, pro = JS_UNDEFINED;\n  191  \n  192    if(JS_IsArray(ctx, obj)) {\n  193      mnt = JS_GetPropertyUint32(ctx, obj, 0);\n  194      org = JS_GetPropertyUint32(ctx, obj, 1);\n  195      def = JS_GetPropertyUint32(ctx, obj, 2);\n  196      pro = JS_GetPropertyUint32(ctx, obj, 3);\n  197      // opt = JS_GetPropertyUint32(ctx, obj, 4);\n  198    } else if(JS_IsFunction(ctx, obj)) {\n  199  \n  200      if(!key) {\n  201        size_t namelen;\n  202        JSValue name = JS_GetPropertyStr(ctx, obj, \"name\");\n  203        const char* namestr = JS_ToCStringLen(ctx, &namelen, name);\n  204        char buf[namelen + 2];\n  205        pstrcpy(&buf[1], namelen + 1, namestr);\n  206        buf[0] = '/';\n  207        buf[namelen + 1] = '\\0';\n  208        JS_FreeCString(ctx, namestr);\n  209        mnt = JS_NewString(ctx, buf);\n  210        JS_FreeValue(ctx, name);\n  211      } else {\n  212        mnt = JS_NewString(ctx, key);\n  213      }\n  214  \n  215      org = JS_DupValue(ctx, obj);\n  216    }\n  217  \n  218    const char* path = JS_ToCString(ctx, mnt);\n  219  \n  220    DEBUG(\"mount_new '%s'\\n\", path);\n  221  \n  222    if(JS_IsFunction(ctx, org)) {\n  223      ret = mount_create(ctx, path, 0, 0, 0, LWSMPRO_CALLBACK);\n  224  \n  225      GETCBTHIS(org, ret->callback, JS_UNDEFINED);\n  226  \n  227    } else {\n  228      const char* dest = JS_ToCString(ctx, org);\n  229      char* protocol = JS_IsString(pro) ? js_tostring(ctx, pro) : 0;\n  230      const char* dotslashslash = strstr(dest, \"://\");\n  231      size_t plen = dotslashslash ? dotslashslash - dest : 0;\n  232      const char* origin = &dest[plen ? plen + 3 : 0];\n  233      const char* index = JS_IsUndefined(def) ? 0 : JS_ToCString(ctx, def);\n  234      enum lws_mount_protocols proto = plen == 0 ? LWSMPRO_CALLBACK : (plen == 5 && !strncmp(dest, \"https\", plen)) ? LWSMPRO_HTTPS : LWSMPRO_HTTP;\n  235  \n  236      ret = mount_create(ctx, path, origin, index, protocol, proto);\n  237  \n  238      if(index)\n  239        JS_FreeCString(ctx, index);\n  240      JS_FreeCString(ctx, dest);\n  241    }\n  242  \n  243    JS_FreeCString(ctx, path);\n  244  \n  245    JS_FreeValue(ctx, mnt);\n  246    JS_FreeValue(ctx, org);\n  247    JS_FreeValue(ctx, def);\n  248  \n  249    return ret;\n  250  }\n  251  \n  252  MinnetHttpMount*\n  253  mount_find(MinnetHttpMount* mounts, const char* x, size_t n) {\n  254    struct lws_http_mount *p, *m = 0;\n  255    int protocol = n == 0 ? LWSMPRO_CALLBACK : LWSMPRO_HTTP;\n  256    size_t l = 0;\n  257  \n  258    // DEBUG(\"mount_find('%.*s')\\n\", (int)n, x);\n  259  \n  260    if(n == 0)\n  261      n = strlen(x);\n  262  \n  263    if(protocol == LWSMPRO_CALLBACK && x[0] == '/') {\n  264      x++;\n  265      n--;\n  266    }\n  267  \n  268    for(p = (struct lws_http_mount*)mounts; p; p = (struct lws_http_mount*)p->mount_next) {\n  269      if(protocol != LWSMPRO_CALLBACK || p->origin_protocol == LWSMPRO_CALLBACK) {\n  270        const char* mnt = p->mountpoint;\n  271        size_t len = p->mountpoint_len;\n  272        if(protocol == LWSMPRO_CALLBACK && mnt[0] == '/') {\n  273          mnt++;\n  274          len--;\n  275        }\n  276        // DEBUG(\"mount_find x='%.*s' '%.*s'\\n\", (int)n, x, (int)len, mnt);\n  277  \n  278        if((len == n || (n > len && (x[len] == '/' || x[len] == '?'))) && !strncmp(x, mnt, n)) {\n  279          m = p;\n  280          /*   break;*/\n  281        }\n  282        if(n >= len && len >= l && !strncmp(mnt, x, MIN(len, n))) {\n  283          m = p;\n  284        }\n  285      }\n  286    }\n  287    if(m) {\n  288      DEBUG(\"mount_find org=%s mnt=%s cb.ctx=%p\\n\", ((MinnetHttpMount*)m)->org, ((MinnetHttpMount*)m)->mnt, ((MinnetHttpMount*)m)->callback.ctx);\n  289    }\n  290    return (MinnetHttpMount*)m;\n  291  }\n  292  \n  293  MinnetHttpMount*\n  294  mount_find_s(MinnetHttpMount* mounts, const char* x) {\n  295    struct lws_http_mount *p, *m = 0;\n  296    size_t n = strlen(x);\n  297  \n  298    for(p = (struct lws_http_mount*)mounts; p; p = (struct lws_http_mount*)p->mount_next) {\n  299      const char* mnt = p->mountpoint;\n  300      size_t len = p->mountpoint_len;\n  301  \n  302      // DEBUG(\"mount x='%.*s' '%.*s'\\n\", (int)n, x, (int)len, mnt);\n  303  \n  304      if(len == n && !strncmp(x, mnt, n)) {\n  305        m = p;\n  306        break;\n  307      }\n  308  \n  309      if(len == 1 && mnt[0] == '/')\n  310        m = p;\n  311  \n  312      if((n > len && (x[len] == '/' || x[len] == '?')) && (len == 0 || !strncmp(x, mnt, len))) {\n  313        m = p;\n  314        break;\n  315      }\n  316    }\n  317    return (MinnetHttpMount*)m;\n  318  }\n  319  \n  320  void\n  321  mount_free(JSContext* ctx, MinnetHttpMount const* m) {\n  322    js_free(ctx, (void*)m->lws.mountpoint);\n  323  \n  324    if(m->org)\n  325      js_free(ctx, (void*)m->org);\n  326  \n  327    if(m->def)\n  328      js_free(ctx, (void*)m->def);\n  329  \n  330    if(m->pro)\n  331      js_free(ctx, (void*)m->pro);\n  332  \n  333    js_free(ctx, (void*)m);\n  334  }\n  335  \n  336  BOOL\n  337  mount_is_proxy(MinnetHttpMount const* m) {\n  338    return m->lws.origin_protocol == LWSMPRO_HTTP || m->lws.origin_protocol == LWSMPRO_HTTPS;\n  339  }\n  340  \n  341  typedef struct {\n  342    int ref_count;\n  343    JSContext* ctx;\n  344    struct session_data* session;\n  345    MinnetResponse* resp;\n  346    struct lws* wsi;\n  347  } HTTPAsyncResolveClosure;\n  348  \n  349  static void\n  350  serve_resolved_free(void* ptr) {\n  351    HTTPAsyncResolveClosure* closure = ptr;\n  352  \n  353    if(--closure->ref_count == 0) {\n  354      if(closure->resp)\n  355        response_free(closure->resp, JS_GetRuntime(closure->ctx));\n  356  \n  357      js_free(closure->ctx, ptr);\n  358    }\n  359  }\n  360  \n  361  static JSValue\n  362  serve_rejected(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  363    HTTPAsyncResolveClosure* closure = ptr;\n  364    struct session_data* session = closure->session;\n  365  \n  366    const char* message = JS_ToCString(ctx, argv[0]);\n  367  \n  368    assert(session->wait_resolve > 0);\n  369    --session->wait_resolve;\n  370  \n  371    LOG(\"SERVER-HTTP(1)\", FG(\"%d\") \"%-38s\" NC \" wait_resolve=%i error=%s\", 90, __func__, session->wait_resolve, message);\n  372  \n  373    MinnetServer* server;\n  374  \n  375    if((server = lws_context_user(lws_get_context(closure->wsi))))\n  376      server_exception(server, JS_Throw(ctx, argv[0]));\n  377  \n  378    queue_write(&session->sendq, message, strlen(message), ctx);\n  379    queue_close(&session->sendq);\n  380  \n  381    JS_FreeCString(ctx, message);\n  382    return JS_UNDEFINED;\n  383  }\n  384  \n  385  static JSValue\n  386  serve_resolved(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  387    HTTPAsyncResolveClosure* closure = ptr;\n  388    struct session_data* session = closure->session;\n  389    // struct wsi_opaque_user_data* opaque = lws_get_opaque_user_data(closure->wsi);\n  390  \n  391    assert(session->wait_resolve > 0);\n  392    --session->wait_resolve;\n  393  \n  394    LOG(\"SERVER-HTTP(1)\",\n  395        FG(\"%d\") \"%-38s\" NC /*\" wsi#%\" PRIi64*/ \" argv[0]=%s wait_resolve=%i error=%i\",\n  396        90,\n  397        __func__,\n  398        /* opaque->serial,*/\n  399        JS_ToCString(ctx, argv[0]),\n  400        session->wait_resolve,\n  401        JS_IsError(ctx, argv[0]));\n  402  \n  403    if(JS_IsObject(argv[0])) {\n  404      JSValue value = JS_GetPropertyStr(ctx, argv[0], \"value\");\n  405      JSValue done_prop = JS_GetPropertyStr(ctx, argv[0], \"done\");\n  406      BOOL done = JS_ToBool(ctx, done_prop);\n  407      JSBuffer out = js_buffer_new(ctx, value);\n  408      JS_FreeValue(ctx, done_prop);\n  409  \n  410      LOG(\"SERVER-HTTP(2)\", FG(\"%d\") \"%-38s\" NC /*\" wsi#%\" PRIi64*/ \" done=%i out = { .data ='%.*s', .size = %zu }\", 63, __func__, /*opaque->serial,*/ done, (int)out.size, out.data, out.size);\n  411  \n  412      if(out.data) {\n  413        queue_write(&session->sendq, out.data, out.size, ctx);\n  414  \n  415        lws_callback_on_writable(closure->wsi);\n  416      }\n  417  \n  418      js_buffer_free(&out, ctx);\n  419  \n  420      JS_FreeValue(ctx, value);\n  421  \n  422      if(done) {\n  423        queue_close(&session->sendq);\n  424      } /* else {\n  425         int ret = serve_generator(ctx, session, closure->wsi, &done);\n  426  \n  427         LOG(\"SERVER-HTTP(3)\", FG(\"%d\") \"%-38s\" NC \" done=%i ret=%i wait_resolve=%i\", 93, __func__,  done, ret, session->wait_resolve);\n  428  \n  429         assert(session->wait_resolve);\n  430       }*/\n  431    }\n  432  \n  433    return JS_UNDEFINED;\n  434  }\n  435  \n  436  static JSValue\n  437  serve_promise(JSContext* ctx, struct session_data* session, JSValueConst value) {\n  438    struct wsi_opaque_user_data* opaque = session_opaque(session);\n  439    HTTPAsyncResolveClosure* p;\n  440    JSValue ret = JS_UNDEFINED;\n  441  \n  442    ++session->wait_resolve;\n  443  \n  444    LOG(\"SERVER-HTTP(2)\", FG(\"%d\") \"%-38s\" NC \" promise=%s\", 27, __func__, JS_ToCString(ctx, value));\n  445  \n  446    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n  447      *p = (HTTPAsyncResolveClosure){2, ctx, session, opaque->resp ? response_dup(opaque->resp) : 0, session_wsi(session)};\n  448      JSValue resolve = js_function_cclosure(ctx, serve_resolved, 1, 0, p, serve_resolved_free);\n  449      JSValue thened = js_promise_then(ctx, value, resolve);\n  450      JSValue reject = js_function_cclosure(ctx, serve_rejected, 1, 0, p, serve_resolved_free);\n  451      JSValue catched = js_promise_catch(ctx, thened, reject);\n  452  \n  453      LOG(\"SERVER-HTTP(3)\", FG(\"%d\") \"%-38s\" NC \" thened=%s catched=%s\", 51, __func__, JS_ToCString(ctx, thened), JS_ToCString(ctx, catched));\n  454  \n  455      JS_FreeValue(ctx, resolve);\n  456      JS_FreeValue(ctx, reject);\n  457      JS_FreeValue(ctx, thened);\n  458      ret = catched;\n  459  \n  460    } else {\n  461      ret = JS_ThrowOutOfMemory(ctx);\n  462    }\n  463  \n  464    return ret;\n  465  }\n  466  \n  467  static int\n  468  serve_generator(JSContext* ctx, struct session_data* session, struct lws* wsi, BOOL* done_p) {\n  469    MinnetResponse* resp = session_response(session);\n  470  \n  471    if(!resp->generator)\n  472      response_generator(resp, ctx);\n  473  \n  474    LOG(\"SERVER-HTTP(1)\",\n  475        FG(\"%d\") \"%-38s\" NC \" callback=%\" PRIu32 \" run=%\" PRIu32 \" done=%s wait_resolve=%i closed=%i complete=%i\",\n  476        112,\n  477        __func__,\n  478        session->callback_count,\n  479        ++session->generator_run,\n  480        *done_p ? \"TRUE\" : \"FALSE\",\n  481        session->wait_resolve,\n  482        queue_closed(&session->sendq),\n  483        queue_complete(&session->sendq));\n  484  \n  485    assert(session->wait_resolve == 0);\n  486    assert(!queue_complete(&session->sendq));\n  487  \n  488    if(session->wait_resolve)\n  489      return 0;\n  490  \n  491    if(JS_IsObject(session->generator) && !queue_complete(&session->sendq)) {\n  492      session->next = JS_UNDEFINED;\n  493  \n  494      while(!*done_p && !session->wait_resolve) {\n  495        JSValue ret = js_iterator_next(ctx, session->generator, &session->next, done_p, 0, 0);\n  496  \n  497        LOG(\"SERVER-HTTP(2)\",\n  498            FG(\"%d\") \"%-38s\" NC \" i=%\" PRIu32 \" done=%s wait_resolve=%i ret=%s\",\n  499            190,\n  500            __func__,\n  501            resp->generator->chunks_read,\n  502            *done_p ? \"TRUE\" : \"FALSE\",\n  503            session->wait_resolve,\n  504            JS_ToCString(ctx, ret));\n  505  \n  506        if(js_is_promise(ctx, ret)) {\n  507          JSValue promise = serve_promise(ctx, session, ret);\n  508          JS_FreeValue(ctx, promise);\n  509        } else if(JS_IsException(ret)) {\n  510          JSValue exception = JS_GetException(ctx);\n  511          js_error_print(ctx, exception);\n  512          *done_p = TRUE;\n  513        } else {\n  514          JSBuffer out = JS_BUFFER_DEFAULT();\n  515          if(js_buffer_from(ctx, &out, ret)) {\n  516            LOG(\"SERVER-HTTP(4)\",\n  517                FG(\"%d\") \"%-38s\" NC \" out={ .data = '%.*s', .size = %zu }\",\n  518                82,\n  519                __func__,\n  520                (int)(out.size > 255 ? 255 : out.size),\n  521                out.size > 255 ? &out.data[out.size - 255] : out.data,\n  522                out.size);\n  523            queue_write(&session->sendq, out.data, out.size, ctx);\n  524          }\n  525          js_buffer_free(&out, ctx);\n  526        }\n  527        JS_FreeValue(ctx, ret);\n  528        if(*done_p)\n  529          queue_close(&session->sendq);\n  530  \n  531        break; /* XXX: generate multiple? */\n  532      }\n  533    } else {\n  534      *done_p = TRUE;\n  535    }\n  536  \n  537    LOG(\"SERVER-HTTP(3)\", FG(\"%d\") \"%-38s\" NC \" wait_resolve=%d sendq=%zu done=%s\", 70, __func__, session->wait_resolve, session->sendq.size, *done_p ? \"TRUE\" : \"FALSE\");\n  538  \n  539    if(queue_complete(&session->sendq) || queue_size(&session->sendq))\n  540      lws_callback_on_writable(wsi);\n  541  \n  542    return 0;\n  543  }\n  544  \n  545  static int\n  546  serve_callback(JSCallback* cb, struct session_data* session, struct lws* wsi) {\n  547    int ret = session_callback(session, cb, wsi_context(wsi));\n  548  \n  549    LOG(\"SERVER-HTTP(5)\", FG(\"%d\") \"%-38s\" NC \" iterator=%d async=%d\", 70, __func__, js_is_iterator(cb->ctx, session->generator), js_is_async_generator(cb->ctx, session->generator));\n  550  \n  551    if(js_is_iterator(cb->ctx, session->generator)) {\n  552      if(js_is_async_generator(cb->ctx, session->generator)) {\n  553        BOOL done = FALSE;\n  554        ret = serve_generator(cb->ctx, session, wsi, &done);\n  555      } else {\n  556        lws_callback_on_writable(wsi);\n  557      }\n  558    }\n  559  \n  560    return ret;\n  561  }\n  562  \n  563  static BOOL\n  564  has_transfer_encoding(MinnetRequest* req, const char* enc) {\n  565    const char* accept;\n  566    size_t len, enclen = strlen(enc);\n  567  \n  568    if((accept = headers_getlen(&req->headers, &len, \"accept-encoding\"))) {\n  569      size_t toklen, pos;\n  570  \n  571      for(pos = 0; pos < len; (pos += toklen, pos += scan_charsetnskip(&accept[pos], \", \", len - pos))) {\n  572        toklen = scan_noncharsetnskip(&accept[pos], \", \", len - pos);\n  573  \n  574        if(toklen == enclen && !strncmp(&accept[pos], enc, toklen))\n  575          return TRUE;\n  576      }\n  577    }\n  578  \n  579    return FALSE;\n  580  }\n  581  \n  582  static int\n  583  serve_response(struct lws* wsi, ByteBuffer* buf, MinnetResponse* resp, JSContext* ctx, struct session_data* session) {\n  584    struct wsi_opaque_user_data* opaque = lws_opaque(wsi, ctx);\n  585    lws_filepos_t content_len = LWS_ILLEGAL_HTTP_CONTENT_LEN;\n  586  \n  587    if(session->response_sent)\n  588      return 0;\n  589  \n  590    if(!resp->generator)\n  591      response_generator(resp, ctx);\n  592  \n  593    LOG(\"SERVER-HTTP\", FG(\"%d\") \"%-38s\" NC \" status=%d type=%s generator=%d\", 165, __func__, resp->status, resp->type, resp->generator != NULL);\n  594  \n  595    /*if(!wsi_http2(wsi)) {\n  596      BOOL done = FALSE;\n  597      serve_generator(ctx, session, wsi, &done);\n  598    }*/\n  599    if(queue_complete(&session->sendq))\n  600      content_len = queue_bytes(&session->sendq);\n  601  \n  602    if(lws_add_http_common_headers(wsi, resp->status, resp->type, content_len, &buf->write, buf->end))\n  603      return 1;\n  604  \n  605    for(const uint8_t *x = resp->headers.start, *end = resp->headers.write; x < end; x += headers_next(x, end)) {\n  606      size_t len, n;\n  607      len = headers_length(x, end);\n  608      if(len > (n = headers_namelen(x, end))) {\n  609        char* prop = headers_name(x, end, ctx);\n  610  \n  611        n = headers_value(x, end);\n  612  \n  613        DEBUG(\"HTTP header %s = %.*s\\n\", prop, (int)(len - n), &x[n]);\n  614        if((lws_add_http_header_by_name(wsi, (const unsigned char*)prop, (const unsigned char*)&x[n], len - n, &buf->write, buf->end)))\n  615          JS_ThrowInternalError(ctx, \"lws_add_http_header_by_name failed\");\n  616        js_free(ctx, (void*)prop);\n  617      }\n  618    }\n  619  \n  620    if(has_transfer_encoding(opaque->req, \"deflate\")) {\n  621      if(!(byte_finds(buf->start, block_SIZE(buf), wsi_http2(wsi) ? \"\\020content-encoding\" : \"content-encoding\") < block_SIZE(buf)))\n  622        lws_http_compression_apply(wsi, \"deflate\", &buf->write, buf->end, 0);\n  623    }\n  624  \n  625    int ret = lws_finalize_write_http_header(wsi, buf->start, &buf->write, buf->end);\n  626  \n  627    DEBUG(\"HTTP headers '%.*s'\\n\", (int)buffer_HEAD(buf), buf->start);\n  628  \n  629    if(ret)\n  630      return 2;\n  631  \n  632    session->response_sent = TRUE;\n  633  \n  634    return 0;\n  635  }\n  636  \n  637  static size_t\n  638  file_size(FILE* fp) {\n  639    long pos = ftell(fp);\n  640    size_t size = 0;\n  641  \n  642    if(fseek(fp, 0, SEEK_END) != -1) {\n  643      size = ftell(fp);\n  644      fseek(fp, pos, SEEK_SET);\n  645    }\n  646  \n  647    return size;\n  648  }\n  649  \n  650  static int\n  651  serve_file(JSContext* ctx, struct session_data* session, struct lws* wsi, const char* path, MinnetHttpMount* mount) {\n  652    MinnetResponse* resp = opaque_fromwsi(wsi)->resp;\n  653    FILE* fp;\n  654    const char* mime = lws_get_mimetype(path, &mount->lws);\n  655    // BOOL compressed = has_transfer_encoding(req, \"gzip\");\n  656  \n  657    DEBUG(\"serve_file path=%s mount=%s\\n\", path, mount->mnt);\n  658  \n  659    if(path[0] == '\\0')\n  660      path = mount->def;\n  661  \n  662    response_generator(resp, ctx);\n  663  \n  664    if((fp = fopen(path, \"rb\"))) {\n  665      size_t n = file_size(fp);\n  666      ByteBlock blk;\n  667  \n  668      block_alloc(&blk, n);\n  669      if(fread(blk.start, n, 1, fp) == 1) {\n  670        queue_put(&session->sendq, blk, ctx);\n  671        queue_close(&session->sendq);\n  672      } else {\n  673        block_free(&blk);\n  674      }\n  675  \n  676      if(mime) {\n  677        if(resp->type)\n  678          js_free(ctx, resp->type);\n  679  \n  680        resp->type = js_strdup(ctx, mime);\n  681      }\n  682  \n  683      fclose(fp);\n  684  \n  685    } else {\n  686      const char* body = \"<html>\\n  <head>\\n    <title>404 Not Found</title>\\n    <meta charset=utf-8 http-equiv=\\\"Content-Language\\\" content=\\\"en\\\"/>\\n  </head>\\n  <body>\\n    <h1>404 Not \"\n  687                         \"Found</h1>\\n  </body>\\n</html>\\n\";\n  688      resp->status = 404;\n  689  \n  690      // response_write(resp, body, strlen(body), ctx);\n  691      queue_write(&session->sendq, body, strlen(body), ctx);\n  692      queue_close(&session->sendq);\n  693    }\n  694  \n  695    lws_callback_on_writable(wsi);\n  696  \n  697    lwsl_user(\"serve_file path=%s mount=%.*s gen=%d\", path, mount->lws.mountpoint_len, mount->lws.mountpoint, resp->generator != NULL);\n  698  \n  699    return 0;\n  700  }\n  701  \n  702  static int\n  703  http_server_writable(struct session_data* session, struct lws* wsi, BOOL done) {\n  704    struct http_response* resp = session_response(session);\n  705    enum lws_write_protocol n, wp = -1;\n  706    size_t remain = 0;\n  707    ssize_t ret = 0;\n  708  \n  709    LOG(\"SERVER-HTTP(1)\", FG(\"%d\") \"%-38s\" NC \" status=%d type=%s generator=%d done=%d\", 207, __func__ + 12, resp->status, resp->type, resp->generator != NULL, done);\n  710  \n  711    n = (done || resp->generator->closing) ? LWS_WRITE_HTTP_FINAL : LWS_WRITE_HTTP;\n  712  \n  713    if(queue_size(&session->sendq)) {\n  714      ByteBlock buf;\n  715      size_t pos = 0;\n  716  \n  717      buf = queue_next(&session->sendq, &done);\n  718  \n  719      while((remain = block_SIZE(&buf) - pos) > 0) {\n  720  \n  721        uint8_t* x = block_BEGIN(&buf) + pos;\n  722        size_t l = wsi_http2(wsi) ? (remain > 1024 ? 1024 : remain) : remain;\n  723  \n  724        if(l > 0) {\n  725          wp = queue_size(&session->sendq) == 0 && remain == l ? LWS_WRITE_HTTP_FINAL : n;\n  726          ret = lws_write(wsi, x, l, wp);\n  727          LOG(\"SERVER-HTTP(2)\", FG(\"%d\") \"%-38s\" NC \" len=%zu final=%d ret=%zd data='%.*s'\", 112, __func__ + 12, l, wp == LWS_WRITE_HTTP_FINAL, ret, (int)(l > 32 ? 32 : l), x);\n  728  \n  729          remain -= l;\n  730          pos += l;\n  731        }\n  732      }\n  733  \n  734      block_free(&buf);\n  735    }\n  736    LOG(\"SERVER-HTTP(3)\", FG(\"%d\") \"%-38s\" NC \" done=%i remain=%zu closed=%d\", 39, __func__ + 12, done, remain, queue_closed(&session->sendq));\n  737  \n  738    if(done || queue_closed(&session->sendq))\n  739      return 1;\n  740  \n  741    if(!done)\n  742      lws_callback_on_writable(wsi);\n  743  \n  744    return 0;\n  745  }\n  746  \n  747  int\n  748  http_server_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  749    int ret = 0;\n  750    uint8_t buf[LWS_PRE + LWS_RECOMMENDED_MIN_HEADER_SPACE];\n  751    MinnetServer* server = lws_context_user(lws_get_context(wsi));\n  752    struct session_data* session = user;\n  753    JSContext* ctx = server ? server->context.js : 0;\n  754    struct wsi_opaque_user_data* opaque = lws_get_opaque_user_data(wsi);\n  755  \n  756    if(lws_reason_poll(reason)) {\n  757      assert(server);\n  758      return wsi_handle_poll(wsi, reason, &server->cb.fd, in);\n  759    }\n  760  \n  761    if(!opaque && ctx)\n  762      opaque = lws_opaque(wsi, ctx);\n  763  \n  764    assert(opaque);\n  765  \n  766    if(session) {\n  767      if(opaque)\n  768        opaque->sess = session;\n  769      ++session->callback_count;\n  770    }\n  771  \n  772    if(reason != LWS_CALLBACK_HTTP_WRITEABLE)\n  773      LOGCB(\"HTTP(1)\",\n  774            \"%s%sfd=%d len=%d in='%.*s' url=%s\",\n  775            wsi_http2(wsi) ? \"h2, \" : \"http/1.1, \",\n  776            wsi_tls(wsi) ? \"TLS, \" : \"plain, \",\n  777            lws_get_socket_fd(lws_get_network_wsi(wsi)),\n  778            (int)len,\n  779            (int)MIN(32, len),\n  780            (char*)in,\n  781            opaque && opaque->req ? url_string(&opaque->req->url) : 0);\n  782  \n  783    if(opaque->upstream)\n  784      if(reason != LWS_CALLBACK_FILTER_HTTP_CONNECTION)\n  785        return lws_callback_http_dummy(wsi, reason, user, in, len);\n  786  \n  787    switch(reason) {\n  788      case LWS_CALLBACK_ESTABLISHED:\n  789      case LWS_CALLBACK_CHECK_ACCESS_RIGHTS:\n  790      case LWS_CALLBACK_PROTOCOL_INIT:\n  791      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_SERVER_VERIFY_CERTS:\n  792      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS:\n  793      case LWS_CALLBACK_PROTOCOL_DESTROY:\n  794      case LWS_CALLBACK_HTTP_CONFIRM_UPGRADE: break;\n  795  \n  796      case LWS_CALLBACK_FILTER_HTTP_CONNECTION: {\n  797        if((session->mount = mount_find((MinnetHttpMount*)server->context.info.mounts, in, len)))\n  798          if(mount_is_proxy(session->mount))\n  799            lws_hdr_simple_create(wsi, wsi_http2(wsi) ? WSI_TOKEN_HTTP_COLON_AUTHORITY : WSI_TOKEN_HOST, \"\");\n  800  \n  801        if(opaque->upstream)\n  802          return lws_callback_http_dummy(wsi, reason, user, in, len);\n  803  \n  804        if(ctx && opaque->ws)\n  805          session->ws_obj = minnet_ws_wrap(ctx, opaque->ws);\n  806        if(!opaque->req)\n  807          opaque->req = request_fromwsi(wsi, ctx);\n  808        if(in) {\n  809          /* opaque->uri = in;\n  810           opaque->uri_len = len ? len : strlen(in);*/\n  811          url_set_path_len(&opaque->req->url, in, len, ctx);\n  812        }\n  813        url_set_protocol(&opaque->req->url, wsi_tls(wsi) ? \"https\" : \"http\");\n  814        break;\n  815      }\n  816  \n  817      case LWS_CALLBACK_HTTP_BIND_PROTOCOL: {\n  818        opaque->status = OPEN;\n  819        if(opaque->req)\n  820          url_set_protocol(&opaque->req->url, wsi_tls(wsi) ? \"https\" : \"http\");\n  821        break;\n  822      }\n  823  \n  824      case LWS_CALLBACK_ADD_HEADERS: {\n  825        break;\n  826      }\n  827  \n  828      case LWS_CALLBACK_HTTP_BODY: {\n  829        // LOGCB(\"HTTP\", \"%slen: %zu parser: %p\", wsi_http2(wsi) ? \"h2, \" : \"\", len, opaque->form_parser);\n  830  \n  831        MinnetRequest* req = minnet_request_data2(ctx, session->req_obj);\n  832        session->in_body = TRUE;\n  833        if(len) {\n  834          if(opaque->form_parser) {\n  835            form_parser_process(opaque->form_parser, in, len);\n  836          } else {\n  837            if(!req->body) {\n  838              req->body = generator_new(ctx);\n  839              req->body->block_fn = &block_tostring;\n  840            }\n  841          }\n  842  \n  843          if(req->body) {\n  844            generator_write(req->body, in, len, JS_UNDEFINED);\n  845          }\n  846        }\n  847        if(server->cb.read.ctx) {\n  848          JSValue args[] = {\n  849              JS_NewStringLen(server->cb.read.ctx, in, len),\n  850          };\n  851          JSValue ret = server_exception(server, callback_emit_this(&server->cb.read, session->req_obj, countof(args), args));\n  852          JS_FreeValue(server->cb.read.ctx, ret);\n  853        }\n  854        break;\n  855      }\n  856  \n  857      case LWS_CALLBACK_HTTP_BODY_COMPLETION: {\n  858        MinnetFormParser* fp;\n  859        ByteBuffer b = BUFFER(buf);\n  860        JSCallback* cb;\n  861        MinnetRequest* req = opaque->req;\n  862  \n  863        session->in_body = FALSE;\n  864  \n  865        LOGCB(\"HTTP(2)\", \"%slen: %zu\", wsi_http2(wsi) ? \"h2, \" : \"\", len);\n  866  \n  867        if((fp = opaque->form_parser)) {\n  868          lws_spa_finalize(fp->spa);\n  869          if(fp->cb.finalize.ctx) {\n  870            JSValue ret = server_exception(server, callback_emit(&fp->cb.finalize, 0, 0));\n  871            JS_FreeValue(fp->cb.finalize.ctx, ret);\n  872          }\n  873        }\n  874  \n  875        cb = session->mount ? &session->mount->callback : 0;\n  876  \n  877        if(cb && cb->ctx) {\n  878          assert(!JS_IsObject(session->generator));\n  879          ret = serve_callback(cb, session, wsi);\n  880          /*    JSValue ret = server_exception(server, callback_emit_this(cb, session->ws_obj, 2, session->args));\n  881  \n  882              assert(js_is_iterator(ctx, ret));\n  883              session->generator = ret;*/\n  884        }\n  885  \n  886        req = minnet_request_data2(ctx, session->req_obj);\n  887        if(req->body) {\n  888          DEBUG(\"POST body: %p\\n\", req->body);\n  889          generator_close(req->body, JS_UNDEFINED);\n  890        }\n  891  \n  892        if(server->cb.post.ctx) {\n  893          JSValue args[] = {\n  894              minnet_generator_iterator(server->cb.post.ctx, opaque->req->body),\n  895          };\n  896          JSValue ret = server_exception(server, callback_emit_this(&server->cb.post, session->req_obj, countof(args), args));\n  897          JS_FreeValue(server->cb.post.ctx, ret);\n  898  \n  899        } else {\n  900        }\n  901        if(serve_response(wsi, &b, opaque->resp, ctx, session)) {\n  902          JS_FreeValue(ctx, session->ws_obj);\n  903          session->ws_obj = JS_NULL;\n  904          // return 1;\n  905        }\n  906  \n  907        lws_callback_on_writable(wsi);\n  908        break;\n  909      }\n  910  \n  911      case LWS_CALLBACK_HTTP: {\n  912        MinnetRequest* req = opaque->req ? opaque->req : (opaque->req = request_fromwsi(wsi, ctx));\n  913        JSValue* args = &session->ws_obj;\n  914        char* path = in;\n  915        size_t mountpoint_len = 0, pathlen = 0;\n  916        MinnetHttpMount *mounts, *mount;\n  917        JSCallback* cb;\n  918  \n  919        assert(req);\n  920        assert(req->url.path);\n  921  \n  922        pathlen = req->url.path ? strlen(req->url.path) : 0;\n  923  \n  924        /*if(opaque->uri)\n  925          mountpoint_len = (char*)in - opaque->uri;\n  926        else */\n  927        if(req->url.path && in && len < pathlen)\n  928          mountpoint_len = pathlen - len;\n  929  \n  930        LOGCB(\"HTTP(2)\", \"mountpoint='%.*s' path='%s'\", (int)mountpoint_len, req->url.path, path);\n  931  \n  932        if(!opaque->req->headers.write)\n  933          headers_tobuffer(ctx, &opaque->req->headers, wsi);\n  934  \n  935        mounts = (MinnetHttpMount*)server->context.info.mounts;\n  936  \n  937        if(!session->mount)\n  938          if(path)\n  939            session->mount = mount_find(mounts, path, 0);\n  940        if(!session->mount)\n  941          if(req->url.path)\n  942            session->mount = mount_find(mounts, req->url.path, mountpoint_len);\n  943        if(req->url.path && !session->mount)\n  944          if(!(session->mount = mount_find(mounts, req->url.path, mountpoint_len)))\n  945            session->mount = mount_find(mounts, req->url.path, 0);\n  946  \n  947        if((mount = session->mount)) {\n  948          size_t mlen = strlen(mount->mnt);\n  949  \n  950          // DEBUG(\"mount->mnt = '%s'\\n\", mount->mnt);\n  951          // DEBUG(\"mount->mnt = '%.*s'\\n\", (int)mlen, mount->mnt);\n  952  \n  953          assert(req->url.path);\n  954          assert(mount->mnt);\n  955          assert(mlen);\n  956  \n  957          if(!strcmp(req->url.path + mlen, path)) {\n  958            assert(!strcmp(req->url.path + mlen, path));\n  959  \n  960            LOGCB(\"HTTP(2)\",\n  961                  \"mount: mnt='%s', org='%s', pro='%s', origin_protocol='%s'\\n\",\n  962                  mount->mnt,\n  963                  mount->org,\n  964                  mount->pro,\n  965                  ((const char*[]){\n  966                      \"HTTP\",\n  967                      \"HTTPS\",\n  968                      \"FILE\",\n  969                      \"CGI\",\n  970                      \"REDIR_HTTP\",\n  971                      \"REDIR_HTTPS\",\n  972                      \"CALLBACK\",\n  973                  })[(uintptr_t)mount->lws.origin_protocol]);\n  974          }\n  975  \n  976          session->req_obj = minnet_request_wrap(ctx, opaque->req);\n  977  \n  978          if(!JS_IsObject(session->ws_obj))\n  979            if(opaque->ws)\n  980              session->ws_obj = minnet_ws_wrap(ctx, opaque->ws);\n  981  \n  982          if(!JS_IsObject(session->resp_obj))\n  983            session->resp_obj = minnet_response_new(ctx, req->url, 200, 0, TRUE, \"text/html\");\n  984  \n  985          opaque->resp = minnet_response_data2(ctx, session->resp_obj);\n  986          LOGCB(\"HTTP(3)\", \"req=%p, header=%zu mnt=%s org=%s\", req, buffer_HEAD(&req->headers), mount->mnt, mount->org);\n  987          request_dup(req);\n  988          cb = &mount->callback;\n  989          if(mount && !mount->callback.ctx)\n  990            cb = 0;\n  991  \n  992          if(mount && ((mount->lws.origin_protocol == LWSMPRO_CALLBACK && (!cb || !cb->ctx)) ||\n  993                       (mount->lws.origin_protocol == LWSMPRO_FILE || (mount->lws.origin_protocol == LWSMPRO_CALLBACK && mount->lws.origin)))) {\n  994            ret = serve_file(ctx, session, wsi, path, mount);\n  995            if(ret) {\n  996              LOGCB(\"HTTP(4)\", \"serve_file FAIL %d\", ret);\n  997              JS_FreeValue(ctx, session->ws_obj);\n  998              session->ws_obj = JS_NULL;\n  999              lws_callback_on_writable(wsi);\n 1000              ret = 0;\n 1001              break;\n 1002            }\n 1003          }\n 1004  \n 1005          if(mount && mount->lws.origin_protocol == LWSMPRO_CALLBACK) {\n 1006            if(cb && cb->ctx) {\n 1007              if(req->method == METHOD_GET) {\n 1008                /*    resp = session_callback(resp, session, cb);\n 1009                    JSValue gen = callback_emit_this(cb, session->ws_obj, 2, &args[1]);\n 1010                    gen = server_exception(server, gen);\n 1011  \n 1012                    LOGCB(\"HTTP(5)\",\n 1013                          \"gen=%s next=%s is_iterator=%d is_async_generator=%d\",\n 1014                          JS_ToCString(ctx, gen),\n 1015                          JS_ToCString(ctx, JS_GetPropertyStr(ctx, gen, \"next\")),\n 1016                          js_is_iterator(ctx, gen),\n 1017                          js_is_async_generator(ctx, gen));\n 1018                    if(js_is_iterator(ctx, gen)) {\n 1019                      assert(js_is_iterator(ctx, gen));\n 1020                      session->generator = gen;\n 1021                      session->next = JS_UNDEFINED;\n 1022  \n 1023                      if(js_is_async_generator(ctx, gen)) {\n 1024                        BOOL done = FALSE;\n 1025                        ret = serve_generator(ctx, session,  wsi, &done);\n 1026                      } else\n 1027                        lws_callback_on_writable(wsi);\n 1028                    } else {\n 1029                      LOGCB(\"HTTP(6)\", \"gen=%s\", JS_ToCString(ctx, gen));\n 1030                    }*/\n 1031                ret = serve_callback(cb, session, wsi);\n 1032              }\n 1033            }\n 1034          }\n 1035  \n 1036          if(server->cb.http.ctx) {\n 1037            cb = &server->cb.http;\n 1038            JSValue val = server_exception(server, callback_emit_this(cb, session->ws_obj, 3, args));\n 1039            JS_FreeValue(ctx, val);\n 1040          }\n 1041        }\n 1042  \n 1043        return ret;\n 1044        break;\n 1045      }\n 1046  \n 1047      case LWS_CALLBACK_HTTP_WRITEABLE: {\n 1048        MinnetResponse* resp;\n 1049        BOOL done = FALSE;\n 1050  \n 1051        LOGCB(\"HTTP(2)\",\n 1052              \"%smnt=%s closed=%d complete=%d sendq=%zu\",\n 1053              wsi_http2(wsi) ? \"h2, \" : \"\",\n 1054              session->mount ? session->mount->mnt : 0,\n 1055              queue_closed(&session->sendq),\n 1056              queue_complete(&session->sendq),\n 1057              queue_size(&session->sendq));\n 1058  \n 1059        if(!(resp = opaque->resp)) {\n 1060          resp = opaque->resp = response_new(ctx);\n 1061          session->resp_obj = minnet_response_wrap(ctx, resp);\n 1062        }\n 1063  \n 1064        if(!session->response_sent) {\n 1065          ByteBuffer b = BUFFER(buf);\n 1066          session->response_sent = !serve_response(wsi, &b, opaque->resp, ctx, session);\n 1067        }\n 1068  \n 1069        if(!(queue_closed(&session->sendq) || queue_complete(&session->sendq)) && !session->wait_resolve)\n 1070          ret = serve_generator(ctx, session, wsi, &done);\n 1071  \n 1072        // if(queue_closed(&session->sendq) || queue_size(&session->sendq))\n 1073        if(http_server_writable(session, wsi, !!queue_closed(&session->sendq)))\n 1074          ret = http_server_callback(wsi, LWS_CALLBACK_HTTP_FILE_COMPLETION, session, in, len);\n 1075        else if(queue_closed(&session->sendq) && queue_complete(&session->sendq))\n 1076          ret = lws_http_transaction_completed(wsi);\n 1077  \n 1078        break;\n 1079      }\n 1080  \n 1081      case LWS_CALLBACK_HTTP_DROP_PROTOCOL: {\n 1082        // opaque_clear(opaque, ctx);\n 1083        break;\n 1084      }\n 1085  \n 1086      case LWS_CALLBACK_HTTP_FILE_COMPLETION: {\n 1087        // opaque_clear(opaque, ctx);\n 1088  \n 1089        return lws_callback_http_dummy(wsi, reason, user, in, len);\n 1090        break;\n 1091      }\n 1092  \n 1093      case LWS_CALLBACK_CLOSED_HTTP: {\n 1094        // lws_close_free_wsi(wsi, LWS_CLOSE_STATUS_NOSTATUS, __func__);\n 1095        ret = -1;\n 1096        break;\n 1097      }\n 1098      case LWS_CALLBACK_VHOST_CERT_AGING:\n 1099      case LWS_CALLBACK_EVENT_WAIT_CANCELLED:\n 1100      case LWS_CALLBACK_GET_THREAD_ID: {\n 1101        break;\n 1102      }\n 1103  \n 1104      case LWS_CALLBACK_ESTABLISHED_CLIENT_HTTP: {\n 1105        struct wsi_opaque_user_data* opaque2 = lws_get_opaque_user_data(lws_get_parent(wsi));\n 1106  \n 1107        opaque2->upstream = wsi;\n 1108      }\n 1109      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER:\n 1110      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP:\n 1111      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ:\n 1112      case LWS_CALLBACK_CLOSED_CLIENT_HTTP:\n 1113      case LWS_CALLBACK_COMPLETED_CLIENT_HTTP: {\n 1114        return lws_callback_http_dummy(wsi, reason, user, in, len);\n 1115      }\n 1116      default: {\n 1117        minnet_lws_unhandled(__func__, reason);\n 1118        break;\n 1119      }\n 1120    }\n 1121    // int ret = 0;\n 1122    if(/*reason != LWS_CALLBACK_HTTP_WRITEABLE && reason != LWS_CALLBACK_CLOSED_HTTP &&*/ (reason < LWS_CALLBACK_HTTP_BIND_PROTOCOL || reason > LWS_CALLBACK_CHECK_ACCESS_RIGHTS)) {\n 1123      LOGCB(\"SERVER-HTTP(/)\", \"%s%sfd=%i ret=%d\\n\", wsi_http2(wsi) ? \"h2, \" : \"http/1.1, \", wsi_tls(wsi) ? \"TLS, \" : \"plain, \", lws_get_socket_fd(lws_get_network_wsi(wsi)), ret);\n 1124    }\n 1125  \n 1126    if(ret == 0)\n 1127      ret = lws_callback_http_dummy(wsi, reason, user, in, len);\n 1128  \n 1129    return ret;\n 1130  }\n 1131  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.c:\n    1  #define _GNU_SOURCE\n    2  #include <quickjs.h>\n    3  #include <cutils.h>\n    4  #include \"minnet-request.h\"\n    5  #include \"minnet-ringbuffer.h\"\n    6  #include \"minnet-generator.h\"\n    7  #include \"minnet.h\"\n    8  #include \"headers.h\"\n    9  #include \"jsutils.h\"\n   10  #include <ctype.h>\n   11  #include <strings.h>\n   12  #include <libwebsockets.h>\n   13  \n   14  THREAD_LOCAL JSClassID minnet_request_class_id;\n   15  THREAD_LOCAL JSValue minnet_request_proto, minnet_request_ctor;\n   16  \n   17  enum {\n   18    REQUEST_TYPE,\n   19    REQUEST_METHOD,\n   20    REQUEST_URI,\n   21    REQUEST_PATH,\n   22    REQUEST_HEADERS,\n   23    REQUEST_ARRAYBUFFER,\n   24    REQUEST_TEXT,\n   25    REQUEST_BODY,\n   26    REQUEST_IP,\n   27    REQUEST_H2,\n   28    REQUEST_PROTOCOL,\n   29    REQUEST_SECURE,\n   30    REQUEST_REFERER,\n   31  };\n   32  \n   33  MinnetRequest*\n   34  minnet_request_data(JSValueConst obj) {\n   35    return JS_GetOpaque(obj, minnet_request_class_id);\n   36  }\n   37  \n   38  JSValue\n   39  minnet_request_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n   40    JSValue proto, obj;\n   41    MinnetRequest* req;\n   42    BOOL got_url = FALSE;\n   43  \n   44    if(!(req = request_alloc(ctx)))\n   45      return JS_ThrowOutOfMemory(ctx);\n   46  \n   47    /* using new_target to get the prototype is necessary when the class is extended. */\n   48    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n   49    if(JS_IsException(proto))\n   50      proto = JS_DupValue(ctx, minnet_request_proto);\n   51  \n   52    obj = JS_NewObjectProtoClass(ctx, proto, minnet_request_class_id);\n   53    JS_FreeValue(ctx, proto);\n   54    if(JS_IsException(obj))\n   55      goto fail;\n   56  \n   57    JS_SetOpaque(obj, req);\n   58  \n   59    while(argc > 0) {\n   60  \n   61      if(!got_url) {\n   62        got_url = url_fromvalue(&req->url, argv[0], ctx);\n   63      }\n   64      if(JS_IsObject(argv[0])) {\n   65        js_copy_properties(ctx, obj, argv[0], JS_GPN_STRING_MASK);\n   66      }\n   67  \n   68      argc--;\n   69      argv++;\n   70    }\n   71  \n   72    req->read_only = TRUE;\n   73    return obj;\n   74  \n   75  fail:\n   76    js_free(ctx, req);\n   77    JS_FreeValue(ctx, obj);\n   78    return JS_EXCEPTION;\n   79  }\n   80  \n   81  JSValue\n   82  minnet_request_clone(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n   83    MinnetRequest *req, *req2;\n   84  \n   85    if(!(req = minnet_request_data2(ctx, this_val)))\n   86      return JS_EXCEPTION;\n   87  \n   88    if((req2 = request_new(url_clone(req->url, ctx), req->method, ctx)))\n   89      return minnet_request_wrap(ctx, req2);\n   90  \n   91    return JS_ThrowOutOfMemory(ctx);\n   92  }\n   93  \n   94  JSValue\n   95  minnet_request_wrap(JSContext* ctx, MinnetRequest* req) {\n   96    JSValue ret = JS_NewObjectProtoClass(ctx, minnet_request_proto, minnet_request_class_id);\n   97  \n   98    if(JS_IsException(ret))\n   99      return JS_EXCEPTION;\n  100  \n  101    JS_SetOpaque(ret, request_dup(req));\n  102  \n  103    return ret;\n  104  }\n  105  \n  106  static JSValue\n  107  minnet_request_get(JSContext* ctx, JSValueConst this_val, int magic) {\n  108    MinnetRequest* req;\n  109    JSValue ret = JS_UNDEFINED;\n  110  \n  111    if(!(req = minnet_request_data2(ctx, this_val)))\n  112      return JS_EXCEPTION;\n  113  \n  114    switch(magic) {\n  115      case REQUEST_METHOD: {\n  116        ret = JS_NewString(ctx, method_name(req->method));\n  117        break;\n  118      }\n  119      case REQUEST_TYPE: {\n  120        char* type;\n  121  \n  122        if((type = headers_get(&req->headers, \"content-type\", ctx))) {\n  123          ret = JS_NewString(ctx, type);\n  124          js_free(ctx, type);\n  125        }\n  126        break;\n  127      }\n  128      case REQUEST_URI: {\n  129        ret = minnet_url_new(ctx, req->url);\n  130        break;\n  131      }\n  132      case REQUEST_PATH: {\n  133        ret = JS_NewString(ctx, req->url.path ? req->url.path : \"\");\n  134        break;\n  135      }\n  136      case REQUEST_HEADERS: {\n  137        DEBUG(\"REQUEST_HEADERS start=%p, end=%p\\n\", req->headers.start, req->headers.end);\n  138  \n  139        if(buffer_BYTES(&req->headers))\n  140          ret = headers_object(ctx, req->headers.start, req->headers.write);\n  141        // ret = buffer_tostring(&req->headers, ctx);\n  142        break;\n  143      }\n  144      case REQUEST_REFERER: {\n  145        char* ref;\n  146  \n  147        if((ref = headers_get(&req->headers, \"referer\", ctx))) {\n  148          ret = JS_NewString(ctx, ref);\n  149          js_free(ctx, ref);\n  150        }\n  151  \n  152        break;\n  153      }\n  154  \n  155      case REQUEST_BODY: {\n  156        switch(req->method) {\n  157          case METHOD_GET:\n  158          case METHOD_OPTIONS:\n  159          case METHOD_PATCH:\n  160          case METHOD_PUT:\n  161          case METHOD_DELETE:\n  162          case METHOD_HEAD:\n  163            if(!req->body)\n  164              break;\n  165  \n  166          case METHOD_POST: ret = minnet_generator_create(ctx, &req->body); break;\n  167        }\n  168        break;\n  169      }\n  170      case REQUEST_IP: {\n  171        ret = req->ip ? JS_NewString(ctx, req->ip) : JS_NULL;\n  172        break;\n  173      }\n  174      case REQUEST_PROTOCOL: {\n  175        ret = JS_NewString(ctx, req->url.protocol);\n  176        break;\n  177      }\n  178      case REQUEST_SECURE: {\n  179        ret = JS_NewBool(ctx, req->secure);\n  180        break;\n  181      }\n  182      case REQUEST_H2: {\n  183        ret = JS_NewBool(ctx, req->h2);\n  184        break;\n  185      }\n  186    }\n  187    return ret;\n  188  }\n  189  \n  190  static JSValue\n  191  minnet_request_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  192    MinnetRequest* req;\n  193    JSValue ret = JS_UNDEFINED;\n  194    const char* str;\n  195    size_t len;\n  196    if(!(req = minnet_request_data2(ctx, this_val)))\n  197      return JS_EXCEPTION;\n  198  \n  199    if(req->read_only)\n  200      return JS_ThrowReferenceError(ctx, \"Request object is read-only\");\n  201  \n  202    str = JS_ToCStringLen(ctx, &len, value);\n  203  \n  204    switch(magic) {\n  205      case REQUEST_METHOD:\n  206      case REQUEST_TYPE: {\n  207        int32_t m = -1;\n  208        if(JS_IsNumber(value))\n  209          JS_ToInt32(ctx, &m, value);\n  210        else\n  211          m = method_number(str);\n  212        if(m >= 0 && method_string(m))\n  213          req->method = m;\n  214        break;\n  215      }\n  216      case REQUEST_URI: {\n  217        url_free(&req->url, ctx);\n  218        url_parse(&req->url, str, ctx);\n  219        break;\n  220      }\n  221      case REQUEST_PATH: {\n  222        if(req->url.path) {\n  223          js_free(ctx, req->url.path);\n  224          req->url.path = 0;\n  225        }\n  226        req->url.path = js_strdup(ctx, str);\n  227        break;\n  228      }\n  229      case REQUEST_HEADERS: {\n  230  \n  231        if(JS_IsObject(value)) {\n  232          headers_fromobj(&req->headers, value, ctx);\n  233        } else {\n  234          const char* str = JS_ToCString(ctx, value);\n  235          ret = JS_ThrowReferenceError(ctx, \"Cannot set headers to '%s'\", str);\n  236          JS_FreeCString(ctx, str);\n  237        }\n  238        break;\n  239      }\n  240    }\n  241  \n  242    JS_FreeCString(ctx, str);\n  243  \n  244    return ret;\n  245  }\n  246  \n  247  static JSValue\n  248  minnet_request_method(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  249    MinnetRequest* req;\n  250    JSValue ret = JS_UNDEFINED;\n  251  \n  252    if(!(req = minnet_request_data2(ctx, this_val)))\n  253      return JS_EXCEPTION;\n  254  \n  255    switch(magic) {\n  256  \n  257      case REQUEST_ARRAYBUFFER: {\n  258        if(req->body) {\n  259          ResolveFunctions funcs = {JS_NULL, JS_NULL};\n  260          ret = js_promise_create(ctx, &funcs);\n  261          JS_FreeValue(ctx, funcs.reject);\n  262  \n  263          generator_continuous(req->body, funcs.resolve);\n  264          req->body->block_fn = &block_toarraybuffer;\n  265        }\n  266        break;\n  267      }\n  268      case REQUEST_TEXT: {\n  269        if(req->body) {\n  270          ResolveFunctions funcs = {JS_NULL, JS_NULL};\n  271          ret = js_promise_create(ctx, &funcs);\n  272          JS_FreeValue(ctx, funcs.reject);\n  273  \n  274          generator_continuous(req->body, funcs.resolve);\n  275          req->body->block_fn = &block_tostring;\n  276        }\n  277        break;\n  278      }\n  279    }\n  280    return ret;\n  281  }\n  282  \n  283  static JSValue\n  284  minnet_request_getheader(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  285    MinnetRequest* req;\n  286    JSValue ret = JS_UNDEFINED;\n  287    const char *key, *value;\n  288  \n  289    if(!(req = minnet_request_data2(ctx, this_val)))\n  290      return JS_EXCEPTION;\n  291  \n  292    key = JS_ToCString(ctx, argv[0]);\n  293  \n  294    value = headers_get(&req->headers, key, ctx);\n  295  \n  296    ret = JS_NewString(ctx, value);\n  297  \n  298    js_free(ctx, (void*)value);\n  299    JS_FreeCString(ctx, key);\n  300  \n  301    return ret;\n  302  }\n  303  \n  304  static void\n  305  minnet_request_finalizer(JSRuntime* rt, JSValue val) {\n  306    MinnetRequest* req;\n  307  \n  308    if((req = minnet_request_data(val)))\n  309      request_free(req, rt);\n  310  }\n  311  \n  312  JSClassDef minnet_request_class = {\n  313      \"MinnetRequest\",\n  314      .finalizer = minnet_request_finalizer,\n  315  };\n  316  \n  317  const JSCFunctionListEntry minnet_request_proto_funcs[] = {\n  318      JS_CGETSET_MAGIC_FLAGS_DEF(\"type\", minnet_request_get, minnet_request_set, REQUEST_TYPE, 0),\n  319      JS_CGETSET_MAGIC_FLAGS_DEF(\"method\", minnet_request_get, minnet_request_set, REQUEST_METHOD, JS_PROP_ENUMERABLE),\n  320      JS_CGETSET_MAGIC_FLAGS_DEF(\"url\", minnet_request_get, minnet_request_set, REQUEST_URI, JS_PROP_ENUMERABLE),\n  321      JS_CGETSET_MAGIC_FLAGS_DEF(\"path\", minnet_request_get, minnet_request_set, REQUEST_PATH, 0),\n  322      JS_CGETSET_MAGIC_FLAGS_DEF(\"headers\", minnet_request_get, minnet_request_set, REQUEST_HEADERS, JS_PROP_ENUMERABLE),\n  323      JS_CGETSET_MAGIC_FLAGS_DEF(\"referer\", minnet_request_get, 0, REQUEST_REFERER, 0),\n  324      JS_CFUNC_MAGIC_DEF(\"arrayBuffer\", 0, minnet_request_method, REQUEST_ARRAYBUFFER),\n  325      JS_CFUNC_MAGIC_DEF(\"text\", 0, minnet_request_method, REQUEST_TEXT),\n  326      JS_CGETSET_MAGIC_FLAGS_DEF(\"body\", minnet_request_get, 0, REQUEST_BODY, 0),\n  327      JS_CGETSET_MAGIC_FLAGS_DEF(\"secure\", minnet_request_get, 0, REQUEST_SECURE, JS_PROP_ENUMERABLE),\n  328      JS_CGETSET_MAGIC_FLAGS_DEF(\"ip\", minnet_request_get, 0, REQUEST_IP, JS_PROP_ENUMERABLE),\n  329      JS_CGETSET_MAGIC_FLAGS_DEF(\"h2\", minnet_request_get, 0, REQUEST_H2, JS_PROP_CONFIGURABLE | JS_PROP_ENUMERABLE),\n  330      JS_CGETSET_MAGIC_FLAGS_DEF(\"protocol\", minnet_request_get, 0, REQUEST_PROTOCOL, 0),\n  331      JS_CFUNC_DEF(\"get\", 1, minnet_request_getheader),\n  332      JS_CFUNC_DEF(\"clone\", 0, minnet_request_clone),\n  333      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetRequest\", JS_PROP_CONFIGURABLE),\n  334  };\n  335  \n  336  const size_t minnet_request_proto_funcs_size = countof(minnet_request_proto_funcs);\n  337  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.h:\n    1  #ifndef MINNET_RESPONSE_H\n    2  #define MINNET_RESPONSE_H\n    3  \n    4  #include \"response.h\"\n    5  #include \"minnet-url.h\"\n    6  \n    7  typedef struct http_response MinnetResponse;\n    8  \n    9  MinnetResponse* minnet_response_data(JSValueConst);\n   10  JSValue minnet_response_new(JSContext*, MinnetURL, int, char* status_text, BOOL headers_sent, const char* type);\n   11  JSValue minnet_response_wrap(JSContext*, MinnetResponse*);\n   12  JSValue minnet_response_constructor(JSContext*, JSValue, int, JSValue argv[]);\n   13  void minnet_response_finalizer(JSRuntime*, JSValue);\n   14  \n   15  extern THREAD_LOCAL JSClassID minnet_response_class_id;\n   16  extern THREAD_LOCAL JSValue minnet_response_proto, minnet_response_ctor;\n   17  extern JSClassDef minnet_response_class;\n   18  extern const JSCFunctionListEntry minnet_response_proto_funcs[];\n   19  extern const size_t minnet_response_proto_funcs_size;\n   20  \n   21  static inline MinnetResponse*\n   22  minnet_response_data2(JSContext* ctx, JSValueConst obj) {\n   23    return JS_GetOpaque2(ctx, obj, minnet_response_class_id);\n   24  }\n   25  #endif /* MINNET_RESPONSE_H */\n   26  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.h:\n    1  #ifndef MINNET_FETCH_H\n    2  #define MINNET_FETCH_H\n    3  \n    4  #include <quickjs.h>\n    5  \n    6  JSValue minnet_fetch(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[]);\n    7  \n    8  #endif /* MINNET_FETCH_H */\n    9  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.h:\n    1  #ifndef MINNET_URL_H\n    2  #define MINNET_URL_H\n    3  \n    4  #include \"url.h\"\n    5  \n    6  typedef enum protocol MinnetProtocol;\n    7  \n    8  typedef struct url MinnetURL;\n    9  \n   10  MinnetURL* minnet_url_data(JSValueConst);\n   11  JSValue minnet_url_wrap(JSContext*, MinnetURL* url);\n   12  JSValue minnet_url_new(JSContext*, MinnetURL u);\n   13  JSValue minnet_url_method(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[], int magic);\n   14  JSValue minnet_url_from(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[]);\n   15  JSValue minnet_url_inspect(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[]);\n   16  JSValue minnet_url_constructor(JSContext*, JSValueConst new_target, int argc, JSValueConst argv[]);\n   17  int minnet_url_init(JSContext*, JSModuleDef* m);\n   18  \n   19  extern THREAD_LOCAL JSClassID minnet_url_class_id;\n   20  \n   21  int minnet_url_init(JSContext*, JSModuleDef* m);\n   22  \n   23  static inline MinnetURL*\n   24  minnet_url_data2(JSContext* ctx, JSValueConst obj) {\n   25    return JS_GetOpaque2(ctx, obj, minnet_url_class_id);\n   26  }\n   27  \n   28  #endif /* MINNET_URL_H */\n   29  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c:\n    1  #define _GNU_SOURCE\n    2  #include <quickjs.h>\n    3  #include <cutils.h>\n    4  #include \"minnet-form-parser.h\"\n    5  #include \"callback.h\"\n    6  #include \"jsutils.h\"\n    7  #include <ctype.h>\n    8  #include <strings.h>\n    9  #include <libwebsockets.h>\n   10  \n   11  THREAD_LOCAL JSClassID minnet_form_parser_class_id;\n   12  THREAD_LOCAL JSValue minnet_form_parser_proto, minnet_form_parser_ctor;\n   13  \n   14  enum { FORM_PARSER_PARAMS, FORM_PARSER_SOCKET, FORM_PARSER_READ, FORM_PARSER_ON_OPEN, FORM_PARSER_ON_CONTENT, FORM_PARSER_ON_CLOSE, FORM_PARSER_ON_FINALIZE };\n   15  \n   16  JSValue\n   17  minnet_form_parser_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n   18    JSValue proto, obj;\n   19    MinnetFormParser* fp;\n   20    MinnetWebsocket* ws;\n   21    char** param_names;\n   22    int param_count;\n   23    uint64_t chunk_size = 1024;\n   24  \n   25    if(!(fp = form_parser_alloc(ctx)))\n   26      return JS_ThrowOutOfMemory(ctx);\n   27  \n   28    /* using new_target to get the prototype is necessary when the class is extended. */\n   29    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n   30    if(JS_IsException(proto))\n   31      proto = JS_DupValue(ctx, minnet_form_parser_proto);\n   32  \n   33    obj = JS_NewObjectProtoClass(ctx, proto, minnet_form_parser_class_id);\n   34    JS_FreeValue(ctx, proto);\n   35    if(JS_IsException(obj))\n   36      goto fail;\n   37  \n   38    if(argc < 1 || (ws = minnet_ws_data(argv[0])) == 0) {\n   39      JS_ThrowInternalError(ctx, \"argument 1 must be Socket\");\n   40      goto fail;\n   41    }\n   42    if(argc < 2 || (param_names = js_array_to_argv(ctx, &param_count, argv[1])) == 0) {\n   43      JS_ThrowInternalError(ctx, \"argument 2 must be Array of parameter names\");\n   44      goto fail;\n   45    }\n   46  \n   47    JS_SetOpaque(obj, fp);\n   48  \n   49    if(argc >= 3 && JS_IsObject(argv[2])) {\n   50      JSValue this_val = obj;\n   51  \n   52      JSValue cb_content = JS_GetPropertyStr(ctx, argv[2], \"onContent\");\n   53      JSValue cb_open = JS_GetPropertyStr(ctx, argv[2], \"onOpen\");\n   54      JSValue cb_close = JS_GetPropertyStr(ctx, argv[2], \"onClose\");\n   55      JSValue cb_finalize = JS_GetPropertyStr(ctx, argv[2], \"onFinalize\");\n   56      JSValue opt_chunksz = JS_GetPropertyStr(ctx, argv[2], \"chunkSize\");\n   57  \n   58      GETCB(cb_content, fp->cb.content)\n   59      GETCB(cb_open, fp->cb.open)\n   60      GETCB(cb_close, fp->cb.close)\n   61      GETCB(cb_finalize, fp->cb.finalize)\n   62  \n   63      JS_SetPropertyStr(ctx, obj, \"oncontent\", fp->cb.content.func_obj);\n   64      JS_SetPropertyStr(ctx, obj, \"onopen\", fp->cb.open.func_obj);\n   65      JS_SetPropertyStr(ctx, obj, \"onclose\", fp->cb.close.func_obj);\n   66      JS_SetPropertyStr(ctx, obj, \"onfinalize\", fp->cb.finalize.func_obj);\n   67  \n   68      if(JS_IsNumber(opt_chunksz)) {\n   69        JS_ToIndex(ctx, &chunk_size, opt_chunksz);\n   70      }\n   71    }\n   72  \n   73    form_parser_init(fp, ws, param_count, (const char* const*)param_names, chunk_size);\n   74  \n   75    {\n   76      struct wsi_opaque_user_data* opaque = ws_opaque(ws);\n   77  \n   78      if(opaque->form_parser)\n   79        form_parser_free(opaque->form_parser, ctx);\n   80  \n   81      opaque->form_parser = fp;\n   82    }\n   83  \n   84    return obj;\n   85  \n   86  fail:\n   87    js_free(ctx, fp);\n   88    JS_FreeValue(ctx, obj);\n   89    return JS_EXCEPTION;\n   90  }\n   91  \n   92  static JSValue\n   93  minnet_form_parser_get(JSContext* ctx, JSValueConst this_val, int magic) {\n   94    MinnetFormParser* fp;\n   95    JSValue ret = JS_UNDEFINED;\n   96  \n   97    if(!(fp = minnet_form_parser_data2(ctx, this_val)))\n   98      return JS_EXCEPTION;\n   99  \n  100    switch(magic) {\n  101  \n  102      case FORM_PARSER_PARAMS: {\n  103        ret = js_argv_to_array(ctx, fp->spa_create_info.param_names);\n  104        break;\n  105      }\n  106      case FORM_PARSER_SOCKET: {\n  107        ret = minnet_ws_wrap(ctx, fp->ws);\n  108        break;\n  109      }\n  110      case FORM_PARSER_READ: {\n  111        ret = JS_NewUint32(ctx, fp->read);\n  112        break;\n  113      }\n  114      case FORM_PARSER_ON_OPEN: {\n  115        ret = JS_DupValue(ctx, fp->cb.open.func_obj);\n  116        break;\n  117      }\n  118      case FORM_PARSER_ON_CONTENT: {\n  119        ret = JS_DupValue(ctx, fp->cb.content.func_obj);\n  120        break;\n  121      }\n  122      case FORM_PARSER_ON_CLOSE: {\n  123        ret = JS_DupValue(ctx, fp->cb.close.func_obj);\n  124        break;\n  125      }\n  126      case FORM_PARSER_ON_FINALIZE: {\n  127        ret = JS_DupValue(ctx, fp->cb.finalize.func_obj);\n  128        break;\n  129      }\n  130    }\n  131    return ret;\n  132  }\n  133  \n  134  static JSValue\n  135  minnet_form_parser_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  136    MinnetFormParser* fp;\n  137    JSValue ret = JS_UNDEFINED;\n  138  \n  139    if(!(fp = minnet_form_parser_data2(ctx, this_val)))\n  140      return JS_EXCEPTION;\n  141  \n  142    switch(magic) {\n  143  \n  144      case FORM_PARSER_ON_OPEN: {\n  145        JS_FreeValue(ctx, fp->cb.open.func_obj);\n  146        JS_FreeValue(ctx, fp->cb.open.this_obj);\n  147        fp->cb.open.ctx = ctx;\n  148        fp->cb.open.func_obj = JS_DupValue(ctx, value);\n  149        fp->cb.open.this_obj = JS_DupValue(ctx, this_val);\n  150        break;\n  151      }\n  152      case FORM_PARSER_ON_CONTENT: {\n  153        JS_FreeValue(ctx, fp->cb.content.func_obj);\n  154        JS_FreeValue(ctx, fp->cb.content.this_obj);\n  155        fp->cb.content.ctx = ctx;\n  156        fp->cb.content.func_obj = JS_DupValue(ctx, value);\n  157        fp->cb.content.this_obj = JS_DupValue(ctx, this_val);\n  158        break;\n  159      }\n  160      case FORM_PARSER_ON_CLOSE: {\n  161        JS_FreeValue(ctx, fp->cb.close.func_obj);\n  162        JS_FreeValue(ctx, fp->cb.close.this_obj);\n  163        fp->cb.close.ctx = ctx;\n  164        fp->cb.close.func_obj = JS_DupValue(ctx, value);\n  165        fp->cb.close.this_obj = JS_DupValue(ctx, this_val);\n  166        break;\n  167      }\n  168      case FORM_PARSER_ON_FINALIZE: {\n  169        JS_FreeValue(ctx, fp->cb.finalize.func_obj);\n  170        JS_FreeValue(ctx, fp->cb.finalize.this_obj);\n  171        fp->cb.finalize.ctx = ctx;\n  172        fp->cb.finalize.func_obj = JS_DupValue(ctx, value);\n  173        fp->cb.finalize.this_obj = JS_DupValue(ctx, this_val);\n  174        break;\n  175      }\n  176    }\n  177  \n  178    return ret;\n  179  }\n  180  \n  181  static void\n  182  minnet_form_parser_finalizer(JSRuntime* rt, JSValue val) {\n  183    MinnetFormParser* fp;\n  184  \n  185    if((fp = minnet_form_parser_data(val)))\n  186      form_parser_free_rt(fp, rt);\n  187  }\n  188  \n  189  static int\n  190  minnet_form_parser_get_own_property(JSContext* ctx, JSPropertyDescriptor* pdesc, JSValueConst obj, JSAtom prop) {\n  191    MinnetFormParser* fp = minnet_form_parser_data2(ctx, obj);\n  192    int64_t index;\n  193  \n  194    if(js_atom_is_index(ctx, &index, prop)) {\n  195      if(form_parser_param_valid(fp, index)) {\n  196  \n  197        pdesc->flags = JS_PROP_ENUMERABLE;\n  198        pdesc->value = JS_NewString(ctx, form_parser_param_name(fp, index));\n  199        pdesc->getter = JS_UNDEFINED;\n  200        pdesc->setter = JS_UNDEFINED;\n  201        return TRUE;\n  202      }\n  203    } else if(js_atom_is_length(ctx, prop)) {\n  204      pdesc->flags = JS_PROP_ENUMERABLE;\n  205      pdesc->value = JS_NewUint32(ctx, form_parser_param_count(fp));\n  206      pdesc->getter = JS_UNDEFINED;\n  207      pdesc->setter = JS_UNDEFINED;\n  208      return TRUE;\n  209    } else {\n  210      const char* str = JS_AtomToCString(ctx, prop);\n  211      BOOL ret = FALSE;\n  212      int index;\n  213  \n  214      if(strncmp(str, \"on\", 2)) {\n  215  \n  216        if((index = form_parser_param_index(fp, str)) != -1) {\n  217          ret = TRUE;\n  218          pdesc->flags = JS_PROP_ENUMERABLE;\n  219          pdesc->value = JS_NewStringLen(ctx, lws_spa_get_string(fp->spa, index), lws_spa_get_length(fp->spa, index));\n  220          pdesc->getter = JS_UNDEFINED;\n  221          pdesc->setter = JS_UNDEFINED;\n  222        }\n  223      }\n  224  \n  225      JS_FreeCString(ctx, str);\n  226      return ret;\n  227    }\n  228  \n  229    return FALSE;\n  230  }\n  231  \n  232  static int\n  233  minnet_form_parser_get_own_property_names(JSContext* ctx, JSPropertyEnum** ptab, uint32_t* plen, JSValueConst obj) {\n  234    MinnetFormParser* fp = minnet_form_parser_data2(ctx, obj);\n  235    JSPropertyEnum* props;\n  236    size_t i, len = form_parser_param_count(fp);\n  237  \n  238    props = js_malloc(ctx, sizeof(JSPropertyEnum) * (len + 1));\n  239  \n  240    for(i = 0; i < len; i++) {\n  241      props[i].is_enumerable = TRUE;\n  242      props[i].atom = JS_NewAtom(ctx, form_parser_param_name(fp, i));\n  243    }\n  244  \n  245    props[len].is_enumerable = TRUE;\n  246    props[len].atom = JS_NewAtom(ctx, \"length\");\n  247  \n  248    *ptab = props;\n  249    *plen = len + 1;\n  250    return 0;\n  251  }\n  252  \n  253  static int\n  254  minnet_form_parser_has_property(JSContext* ctx, JSValueConst obj, JSAtom prop) {\n  255    MinnetFormParser* fp = minnet_form_parser_data2(ctx, obj);\n  256    int64_t index;\n  257  \n  258    if(js_atom_is_index(ctx, &index, prop)) {\n  259  \n  260      return form_parser_param_valid(fp, index);\n  261    } else if(js_atom_is_length(ctx, prop)) {\n  262      return TRUE;\n  263    } else {\n  264      const char* str = JS_AtomToCString(ctx, prop);\n  265  \n  266      BOOL ret = form_parser_param_exists(fp, str);\n  267  \n  268      JS_FreeCString(ctx, str);\n  269      return ret;\n  270    }\n  271  \n  272    return FALSE;\n  273  }\n  274  \n  275  static JSValue\n  276  minnet_form_parser_get_property(JSContext* ctx, JSValueConst obj, JSAtom prop, JSValueConst receiver) {\n  277    MinnetFormParser* fp = minnet_form_parser_data2(ctx, obj);\n  278    JSValue value = JS_UNDEFINED;\n  279    int64_t index;\n  280  \n  281    if(js_atom_is_index(ctx, &index, prop)) {\n  282      if(form_parser_param_valid(fp, index)) {\n  283  \n  284        value = JS_NewString(ctx, form_parser_param_name(fp, index));\n  285      }\n  286    } else if(js_atom_is_length(ctx, prop)) {\n  287      value = JS_NewUint32(ctx, form_parser_param_count(fp));\n  288    } else {\n  289      const char* str = JS_AtomToCString(ctx, prop);\n  290  \n  291      int index;\n  292  \n  293      if((index = form_parser_param_index(fp, str)) != -1) {\n  294        value = JS_NewStringLen(ctx, lws_spa_get_string(fp->spa, index), lws_spa_get_length(fp->spa, index));\n  295  \n  296      } else {\n  297        JSValue proto = JS_GetPrototype(ctx, obj);\n  298        if(JS_IsObject(proto) && JS_HasProperty(ctx, proto, prop))\n  299          value = JS_GetProperty(ctx, proto, prop);\n  300      }\n  301  \n  302      JS_FreeCString(ctx, str);\n  303    }\n  304  \n  305    return value;\n  306  }\n  307  \n  308  static int\n  309  minnet_form_parser_define_own_property(JSContext* ctx, JSValueConst this_obj, JSAtom prop, JSValueConst val, JSValueConst getter, JSValueConst setter, int flags) {\n  310    // MinnetFormParser* fp = minnet_form_parser_data2(ctx, this_obj);\n  311  \n  312    if(js_atom_is_index(ctx, NULL, prop)) {\n  313      return TRUE;\n  314    } else if(js_atom_is_length(ctx, prop)) {\n  315      return TRUE;\n  316    }\n  317  \n  318    /* run the default define own property */\n  319    return JS_DefineProperty(ctx, this_obj, prop, val, getter, setter, flags | JS_PROP_NO_EXOTIC);\n  320  }\n  321  \n  322  JSValue\n  323  minnet_form_parser_call(JSContext* ctx, JSValueConst func_obj, JSValueConst this_val, int argc, JSValueConst argv[], int flags) {\n  324    MinnetFormParser* fp = minnet_form_parser_data2(ctx, func_obj);\n  325    JSValue ret = JS_UNDEFINED;\n  326  \n  327    if(argc < 1)\n  328      return JS_ThrowInternalError(ctx, \"argument 1 must be String, ArrayBuffer or null\");\n  329  \n  330    if(JS_IsNull(argv[0])) {\n  331      ret = JS_NewInt32(ctx, lws_spa_finalize(fp->spa));\n  332  \n  333    } else {\n  334      JSBuffer buf;\n  335  \n  336      js_buffer_from(ctx, &buf, argv[0]);\n  337  \n  338      if(buf.data == 0)\n  339        return JS_ThrowInternalError(ctx, \"argument 1 must be String or ArrayBuffer\");\n  340  \n  341      ret = JS_NewInt32(ctx, form_parser_process(fp, buf.data, buf.size));\n  342  \n  343      js_buffer_free(&buf, ctx);\n  344    }\n  345    if(!JS_IsNull(fp->exception)) {\n  346  \n  347      JS_Throw(ctx, fp->exception);\n  348      ret = JS_EXCEPTION;\n  349    }\n  350    return ret;\n  351  }\n  352  \n  353  static JSClassExoticMethods minnet_form_parser_exotic_methods = {\n  354      .get_own_property = minnet_form_parser_get_own_property,\n  355      .get_own_property_names = minnet_form_parser_get_own_property_names,\n  356      .has_property = minnet_form_parser_has_property,\n  357      .define_own_property = minnet_form_parser_define_own_property,\n  358      .get_property = minnet_form_parser_get_property,\n  359      //.set_property = minnet_form_parser_set_property,\n  360  };\n  361  JSClassDef minnet_form_parser_class = {\n  362      \"MinnetFormParser\",\n  363      .finalizer = minnet_form_parser_finalizer,\n  364      .exotic = &minnet_form_parser_exotic_methods,\n  365      .call = &minnet_form_parser_call,\n  366  };\n  367  \n  368  const JSCFunctionListEntry minnet_form_parser_proto_funcs[] = {\n  369      JS_CGETSET_MAGIC_FLAGS_DEF(\"socket\", minnet_form_parser_get, minnet_form_parser_set, FORM_PARSER_SOCKET, 0),\n  370      JS_CGETSET_MAGIC_FLAGS_DEF(\"params\", minnet_form_parser_get, minnet_form_parser_set, FORM_PARSER_PARAMS, 0),\n  371      JS_CGETSET_MAGIC_FLAGS_DEF(\"read\", minnet_form_parser_get, 0, FORM_PARSER_READ, 0),\n  372      /* JS_CGETSET_MAGIC_FLAGS_DEF(\"onclose\", minnet_form_parser_get, 0, FORM_PARSER_ON_CLOSE, 0),\n  373       JS_CGETSET_MAGIC_FLAGS_DEF(\"onopen\", minnet_form_parser_get, 0, FORM_PARSER_ON_OPEN , 0),\n  374       JS_CGETSET_MAGIC_FLAGS_DEF(\"oncontent\", minnet_form_parser_get, 0, FORM_PARSER_ON_CONTENT , 0),\n  375       JS_CGETSET_MAGIC_FLAGS_DEF(\"onfinalize\", minnet_form_parser_get, 0, FORM_PARSER_ON_FINALIZE , 0),*/\n  376      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetFormParser\", JS_PROP_CONFIGURABLE),\n  377  };\n  378  \n  379  const size_t minnet_form_parser_proto_funcs_size = countof(minnet_form_parser_proto_funcs);\n  380  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-websocket.h:\n    1  #ifndef MINNET_WEBSOCKET_H\n    2  #define MINNET_WEBSOCKET_H\n    3  \n    4  #include \"ws.h\"\n    5  \n    6  typedef struct socket MinnetWebsocket;\n    7  \n    8  MinnetWebsocket* minnet_ws_data(JSValueConst);\n    9  JSValue minnet_ws_new(JSContext*, struct lws*);\n   10  struct wsi_opaque_user_data* lws_opaque(struct lws*, JSContext*);\n   11  JSValue minnet_ws_wrap(JSContext*, MinnetWebsocket*);\n   12  JSValue minnet_ws_fromwsi(JSContext*, struct lws*);\n   13  JSValue minnet_ws_constructor(JSContext*, JSValue, int, JSValue argv[]);\n   14  \n   15  extern THREAD_LOCAL JSClassID minnet_ws_class_id;\n   16  extern THREAD_LOCAL JSValue minnet_ws_proto, minnet_ws_ctor;\n   17  extern JSClassDef minnet_ws_class;\n   18  extern const JSCFunctionListEntry minnet_ws_proto_funcs[], minnet_ws_static_funcs[], minnet_ws_proto_defs[];\n   19  extern const size_t minnet_ws_proto_funcs_size, minnet_ws_static_funcs_size, minnet_ws_proto_defs_size;\n   20  \n   21  static inline MinnetWebsocket*\n   22  minnet_ws_data2(JSContext* ctx, JSValueConst obj) {\n   23    return JS_GetOpaque2(ctx, obj, minnet_ws_class_id);\n   24  }\n   25  #endif /* MINNET_WEBSOCKET_H */\n   26  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n    1  #define _GNU_SOURCE\n    2  #include \"minnet-server.h\"\n    3  #include \"minnet-client.h\"\n    4  #include \"minnet-request.h\"\n    5  #include \"minnet-response.h\"\n    6  #include \"minnet-websocket.h\"\n    7  #include \"minnet-ringbuffer.h\"\n    8  #include \"minnet-generator.h\"\n    9  #include \"minnet-form-parser.h\"\n   10  #include \"minnet-hash.h\"\n   11  #include \"minnet-fetch.h\"\n   12  #include \"jsutils.h\"\n   13  #include \"utils.h\"\n   14  #include \"buffer.h\"\n   15  #include <libwebsockets.h>\n   16  #include <assert.h>\n   17  #include <errno.h>\n   18  #include <string.h>\n   19  #include <strings.h>\n   20  #include <ctype.h>\n   21  #include <sys/time.h>\n   22  #include <stdarg.h>\n   23  \n   24  /*#ifdef _WIN32\n   25  #include \"poll.h\"\n   26  #endif*/\n   27  \n   28  static THREAD_LOCAL JSValue minnet_log_cb, minnet_log_this;\n   29  static THREAD_LOCAL int32_t minnet_log_level = 0;\n   30  static THREAD_LOCAL JSContext* minnet_log_ctx = 0;\n   31  struct lws_protocols *minnet_client_protocols = 0, *minnet_server_protocols = 0;\n   32  \n   33  #ifndef POLLIN\n   34  #define POLLIN 1\n   35  #endif\n   36  #ifndef POLLOUT\n   37  #define POLLOUT 4\n   38  #endif\n   39  #ifndef POLLERR\n   40  #define POLLERR 8\n   41  #endif\n   42  #ifndef POLLHUP\n   43  #define POLLHUP 16\n   44  #endif\n   45  \n   46  #define PIO (POLLIN | POLLOUT | POLLERR)\n   47  \n   48  typedef struct {\n   49    JSContext* ctx;\n   50    struct lws* lwsi;\n   51    struct wsi_opaque_user_data* opaque;\n   52  } LWSIOHandler;\n   53  \n   54  typedef enum { READ_HANDLER = 0, WRITE_HANDLER } JSIOHandler;\n   55  \n   56  static void\n   57  lws_iohandler_free(void* ptr) {\n   58    LWSIOHandler* closure = ptr;\n   59    JSContext* ctx = closure->ctx;\n   60    js_free(ctx, closure);\n   61  };\n   62  \n   63  static JSValue\n   64  lws_iohandler(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n   65    LWSIOHandler* closure = ptr;\n   66    struct pollfd* p;\n   67    int32_t wr;\n   68    JSValue ret = JS_UNDEFINED;\n   69  \n   70    assert(closure->opaque);\n   71    p = &closure->opaque->poll;\n   72  \n   73    JS_ToInt32(ctx, &wr, argv[0]);\n   74  \n   75    p->revents = magic & (wr == WRITE_HANDLER ? POLLOUT : POLLIN);\n   76  \n   77    if((p->revents & PIO) != magic) {\n   78      if(poll(p, 1, 0) < 0)\n   79        lwsl_err(\"poll error: %s\\n\", strerror(errno));\n   80    }\n   81  \n   82    if(p->revents & PIO) {\n   83      struct lws_pollfd x = {p->fd, magic, p->revents & PIO};\n   84  \n   85      if(p->revents & (POLLERR | POLLHUP)) {\n   86        closure->opaque->poll = *p;\n   87        // closure->opaque->error = errno;\n   88      }\n   89      /*if(x.revents & POLLOUT)\n   90        if(x.revents & POLLIN)\n   91          x.revents &= ~(POLLOUT);*/\n   92      // errno = 0;\n   93  \n   94      ret = JS_NewInt32(ctx, lws_service_fd(lws_get_context(closure->lwsi), &x));\n   95    }\n   96  \n   97    return ret;\n   98  }\n   99  \n  100  static JSValue\n  101  minnet_io_handler(JSContext* ctx, int fd, int events, struct lws* wsi) {\n  102    LWSIOHandler* h;\n  103  \n  104    if(!(h = js_mallocz(ctx, sizeof(LWSIOHandler))))\n  105      return JS_ThrowOutOfMemory(ctx);\n  106  \n  107    *h = (LWSIOHandler){ctx, wsi, lws_opaque(wsi, ctx)};\n  108  \n  109    h->opaque->poll = (struct pollfd){fd, events, 0};\n  110  \n  111    return js_function_cclosure(ctx, lws_iohandler, 1, events, h, lws_iohandler_free);\n  112  }\n  113  \n  114  void\n  115  minnet_io_handlers(JSContext* ctx, struct lws* wsi, struct lws_pollargs args, JSValue out[2]) {\n  116    JSValue func = JS_NULL;\n  117    int events = args.events & (POLLIN | POLLOUT);\n  118  \n  119    if(events)\n  120      func = minnet_io_handler(ctx, args.fd, events, wsi);\n  121  \n  122    out[0] = (events & POLLIN) ? js_function_bind_1(ctx, func, JS_NewInt32(ctx, READ_HANDLER)) : JS_NULL;\n  123    out[1] = (events & POLLOUT) ? js_function_bind_1(ctx, func, JS_NewInt32(ctx, WRITE_HANDLER)) : JS_NULL;\n  124  \n  125    JS_FreeValue(ctx, func);\n  126  }\n  127  \n  128  \n  129  JSValue\n  130  minnet_default_fd_callback(JSContext* ctx) {\n  131  \n  132       JSvalue os = js_global_get(ctx, \"os\");\n  133        if(!JS_IsObject(os))\n  134          return JS_ThrowTypeError(ctx, \"globalThis.os must be imported module\");\n  135        set_read = JS_GetPropertyStr(ctx, os, \"setReadHandler\");\n  136        set_write = JS_GetPropertyStr(ctx, os, \"setWriteHandler\");\n  137        args[1] = argv[1];\n  138        tmp = JS_Call(ctx, set_read, os, 2, args);\n  139        JS_FreeValue(ctx, tmp);\n  140        args[1] = argv[2];\n  141        tmp = JS_Call(ctx, set_write, os, 2, args);\n  142        JS_FreeValue(ctx, tmp);\n  143        JS_FreeValue(ctx, os);\n  144        JS_FreeValue(ctx, set_write);\n  145        JS_FreeValue(ctx, set_read);\n  146        break;\n  147      }\n  148  \n  149  void\n  150  minnet_log_callback(int level, const char* line) {\n  151    if(minnet_log_ctx) {\n  152      size_t n = 0, len = strlen(line);\n  153  \n  154      if(JS_IsFunction(minnet_log_ctx, minnet_log_cb)) {\n  155  \n  156        n = skip_brackets(line, len);\n  157        line += n;\n  158        len -= n;\n  159        n = skip_directory(line, len);\n  160        line += n;\n  161        len -= n;\n  162  \n  163        strip_trailing_newline(line, &len);\n  164  \n  165        JSValueConst argv[2] = {\n  166            JS_NewInt32(minnet_log_ctx, level),\n  167            JS_NewStringLen(minnet_log_ctx, line, len),\n  168        };\n  169        JSValue ret = JS_Call(minnet_log_ctx, minnet_log_cb, minnet_log_this, 2, argv);\n  170  \n  171        if(JS_IsException(ret)) {\n  172          JSValue exception = JS_GetException(minnet_log_ctx);\n  173          JS_FreeValue(minnet_log_ctx, exception);\n  174        }\n  175  \n  176        JS_FreeValue(minnet_log_ctx, argv[0]);\n  177        JS_FreeValue(minnet_log_ctx, argv[1]);\n  178        JS_FreeValue(minnet_log_ctx, ret);\n  179      } else {\n  180        js_console_log(minnet_log_ctx, &minnet_log_this, &minnet_log_cb);\n  181      }\n  182    }\n  183  }\n  184  \n  185  static int\n  186  wsi_iohandler(struct lws* wsi, struct js_callback* cb, struct lws_pollargs args) {\n  187    JSValue argv[3] = {\n  188        JS_NewInt32(cb->ctx, args.fd),\n  189        JS_NULL,\n  190        JS_NULL,\n  191    };\n  192  \n  193    minnet_io_handlers(cb->ctx, wsi, args, &argv[1]);\n  194    callback_emit(cb, countof(argv), argv);\n  195  \n  196    js_vector_free(cb->ctx, countof(argv), argv);\n  197    return 0;\n  198  }\n  199  \n  200  int\n  201  wsi_handle_poll(struct lws* wsi, enum lws_callback_reasons reason, struct js_callback* cb, struct lws_pollargs* args) {\n  202    switch(reason) {\n  203      case LWS_CALLBACK_LOCK_POLL:\n  204      case LWS_CALLBACK_UNLOCK_POLL: break;\n  205      case LWS_CALLBACK_ADD_POLL_FD:\n  206        if(cb->ctx)\n  207          wsi_iohandler(wsi, cb, *args);\n  208        break;\n  209      case LWS_CALLBACK_DEL_POLL_FD:\n  210        if(cb->ctx)\n  211          wsi_iohandler(wsi, cb, *args);\n  212        break;\n  213      case LWS_CALLBACK_CHANGE_MODE_POLL_FD:\n  214        if(cb->ctx)\n  215          if(args->events != args->prev_events)\n  216            wsi_iohandler(wsi, cb, *args);\n  217        break;\n  218      default: return -1;\n  219    }\n  220    return 0;\n  221  }\n  222  \n  223  int\n  224  minnet_lws_unhandled(const char* handler, int reason) {\n  225    lwsl_warn(\"Unhandled \\x1b[1;31m%s\\x1b[0m event: %i %s\\n\", handler, reason, lws_callback_name(reason));\n  226    assert(0);\n  227    return -1;\n  228  }\n  229  \n  230  static JSValue\n  231  set_log(JSContext* ctx, JSValueConst this_val, JSValueConst value, JSValueConst thisObj) {\n  232    JSValue ret = JS_VALUE_GET_TAG(minnet_log_cb) == 0 ? JS_UNDEFINED : minnet_log_cb;\n  233  \n  234    minnet_log_ctx = ctx;\n  235    minnet_log_cb = JS_DupValue(ctx, value);\n  236  \n  237    if(!JS_IsUndefined(minnet_log_this) && !JS_IsNull(minnet_log_this) && JS_VALUE_GET_TAG(minnet_log_this) != 0)\n  238      JS_FreeValue(ctx, minnet_log_this);\n  239  \n  240    minnet_log_this = JS_DupValue(ctx, thisObj);\n  241  \n  242    return ret;\n  243  }\n  244  \n  245  static JSValue\n  246  minnet_set_log(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  247    JSValue ret;\n  248    if(argc >= 1 && JS_IsNumber(argv[0])) {\n  249      JS_ToInt32(ctx, &minnet_log_level, argv[0]);\n  250      argc--;\n  251      argv++;\n  252    }\n  253  \n  254    ret = set_log(ctx, this_val, argv[0], argc > 1 ? argv[1] : JS_NULL);\n  255    lws_set_log_level(((unsigned)minnet_log_level & ((1u << LLL_COUNT) - 1)), minnet_log_callback);\n  256    return ret;\n  257  }\n  258  \n  259  JSValue\n  260  minnet_get_sessions(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  261    struct list_head* el;\n  262    JSValue ret;\n  263    uint32_t i = 0;\n  264  \n  265    ret = JS_NewArray(ctx);\n  266  \n  267    list_for_each_prev(el, &opaque_list) {\n  268      struct wsi_opaque_user_data* opaque = list_entry(el, struct wsi_opaque_user_data, link);\n  269      DEBUG(\"%s @%u #%\" PRId64 \" %p\\n\", __func__, i, opaque->serial, opaque);\n  270  \n  271      JS_SetPropertyUint32(ctx, ret, i++, opaque->sess ? session_object(opaque->sess, ctx) : JS_NewInt64(ctx, opaque->serial));\n  272    }\n  273    return ret;\n  274  }\n  275  \n  276  static const JSCFunctionListEntry minnet_loglevels[] = {\n  277      JS_INDEX_STRING_DEF(1, \"ERR\"),\n  278      JS_INDEX_STRING_DEF(2, \"WARN\"),\n  279      JS_INDEX_STRING_DEF(4, \"NOTICE\"),\n  280      JS_INDEX_STRING_DEF(8, \"INFO\"),\n  281      JS_INDEX_STRING_DEF(16, \"DEBUG\"),\n  282      JS_INDEX_STRING_DEF(32, \"PARSER\"),\n  283      JS_INDEX_STRING_DEF(64, \"HEADER\"),\n  284      JS_INDEX_STRING_DEF(128, \"EXT\"),\n  285      JS_INDEX_STRING_DEF(256, \"CLIENT\"),\n  286      JS_INDEX_STRING_DEF(512, \"LATENCY\"),\n  287      JS_INDEX_STRING_DEF(1024, \"USER\"),\n  288      JS_INDEX_STRING_DEF(2048, \"THREAD\"),\n  289      JS_INDEX_STRING_DEF(4095, \"ALL\"),\n  290  };\n  291  \n  292  static const JSCFunctionListEntry minnet_funcs[] = {\n  293      JS_CFUNC_DEF(\"server\", 1, minnet_server),\n  294      JS_CFUNC_DEF(\"client\", 1, minnet_client),\n  295      JS_CFUNC_DEF(\"fetch\", 1, minnet_fetch),\n  296      // JS_CFUNC_SPECIAL_DEF(\"formParser\", 0, constructor, minnet_form_parser_constructor),\n  297      // JS_CFUNC_SPECIAL_DEF(\"generator\", 0, constructor, minnet_generator_constructor),\n  298      // JS_CFUNC_SPECIAL_DEF(\"hash\", 0, constructor, minnet_hash_constructor),\n  299      // JS_CFUNC_SPECIAL_DEF(\"request\", 0, constructor, minnet_request_constructor),\n  300      // JS_CFUNC_SPECIAL_DEF(\"response\", 0, constructor, minnet_response_constructor),\n  301      // JS_CFUNC_SPECIAL_DEF(\"ringbuffer\", 0, constructor, minnet_ringbuffer_constructor),\n  302      // JS_CFUNC_SPECIAL_DEF(\"url\", 0, constructor, minnet_url_constructor),\n  303      // JS_CFUNC_SPECIAL_DEF(\"socket\", 0, constructor, minnet_ws_constructor),\n  304      JS_CFUNC_DEF(\"getSessions\", 0, minnet_get_sessions),\n  305      JS_CFUNC_DEF(\"setLog\", 1, minnet_set_log),\n  306      JS_PROP_INT32_DEF(\"METHOD_GET\", METHOD_GET, 0),\n  307      JS_PROP_INT32_DEF(\"METHOD_POST\", METHOD_POST, 0),\n  308      JS_PROP_INT32_DEF(\"METHOD_OPTIONS\", METHOD_OPTIONS, 0),\n  309      JS_PROP_INT32_DEF(\"METHOD_PUT\", METHOD_PUT, 0),\n  310      JS_PROP_INT32_DEF(\"METHOD_PATCH\", METHOD_PATCH, 0),\n  311      JS_PROP_INT32_DEF(\"METHOD_DELETE\", METHOD_DELETE, 0),\n  312      JS_PROP_INT32_DEF(\"METHOD_HEAD\", METHOD_HEAD, 0),\n  313  \n  314      JS_PROP_INT32_DEF(\"LLL_ERR\", LLL_ERR, 0),\n  315      JS_PROP_INT32_DEF(\"LLL_WARN\", LLL_WARN, 0),\n  316      JS_PROP_INT32_DEF(\"LLL_NOTICE\", LLL_NOTICE, 0),\n  317      JS_PROP_INT32_DEF(\"LLL_INFO\", LLL_INFO, 0),\n  318      JS_PROP_INT32_DEF(\"LLL_DEBUG\", LLL_DEBUG, 0),\n  319      JS_PROP_INT32_DEF(\"LLL_PARSER\", LLL_PARSER, 0),\n  320      JS_PROP_INT32_DEF(\"LLL_HEADER\", LLL_HEADER, 0),\n  321      JS_PROP_INT32_DEF(\"LLL_EXT\", LLL_EXT, 0),\n  322      JS_PROP_INT32_DEF(\"LLL_CLIENT\", LLL_CLIENT, 0),\n  323      JS_PROP_INT32_DEF(\"LLL_LATENCY\", LLL_LATENCY, 0),\n  324      JS_PROP_INT32_DEF(\"LLL_USER\", LLL_USER, 0),\n  325      JS_PROP_INT32_DEF(\"LLL_THREAD\", LLL_THREAD, 0),\n  326      JS_PROP_INT32_DEF(\"LLL_ALL\", ~((~0u) << LLL_COUNT), 0),\n  327      JS_OBJECT_DEF(\"logLevels\", minnet_loglevels, countof(minnet_loglevels), JS_PROP_CONFIGURABLE),\n  328  };\n  329  \n  330  static int\n  331  js_minnet_init(JSContext* ctx, JSModuleDef* m) {\n  332  \n  333    // minnet_js_module = JS_ReadObject(ctx, qjsc_minnet, qjsc_minnet_size, JS_READ_OBJ_BYTECODE);\n  334  \n  335    JS_SetModuleExportList(ctx, m, minnet_funcs, countof(minnet_funcs));\n  336  \n  337    // Add class Response\n  338    JS_NewClassID(&minnet_response_class_id);\n  339    JS_NewClass(JS_GetRuntime(ctx), minnet_response_class_id, &minnet_response_class);\n  340  \n  341    minnet_response_proto = JS_NewObject(ctx);\n  342    JS_SetPropertyFunctionList(ctx, minnet_response_proto, minnet_response_proto_funcs, minnet_response_proto_funcs_size);\n  343    JS_SetClassProto(ctx, minnet_response_class_id, minnet_response_proto);\n  344  \n  345    minnet_response_ctor = JS_NewCFunction2(ctx, minnet_response_constructor, \"MinnetResponse\", 0, JS_CFUNC_constructor, 0);\n  346    JS_SetConstructor(ctx, minnet_response_ctor, minnet_response_proto);\n  347  \n  348    if(m)\n  349      JS_SetModuleExport(ctx, m, \"Response\", minnet_response_ctor);\n  350  \n  351    // Add class Request\n  352    JS_NewClassID(&minnet_request_class_id);\n  353  \n  354    JS_NewClass(JS_GetRuntime(ctx), minnet_request_class_id, &minnet_request_class);\n  355    minnet_request_proto = JS_NewObject(ctx);\n  356    JS_SetPropertyFunctionList(ctx, minnet_request_proto, minnet_request_proto_funcs, minnet_request_proto_funcs_size);\n  357    JS_SetClassProto(ctx, minnet_request_class_id, minnet_request_proto);\n  358  \n  359    minnet_request_ctor = JS_NewCFunction2(ctx, minnet_request_constructor, \"MinnetRequest\", 0, JS_CFUNC_constructor, 0);\n  360    JS_SetConstructor(ctx, minnet_request_ctor, minnet_request_proto);\n  361  \n  362    if(m)\n  363      JS_SetModuleExport(ctx, m, \"Request\", minnet_request_ctor);\n  364  \n  365    // Add class Ringbuffer\n  366    JS_NewClassID(&minnet_ringbuffer_class_id);\n  367  \n  368    JS_NewClass(JS_GetRuntime(ctx), minnet_ringbuffer_class_id, &minnet_ringbuffer_class);\n  369    minnet_ringbuffer_proto = JS_NewObject(ctx);\n  370    JS_SetPropertyFunctionList(ctx, minnet_ringbuffer_proto, minnet_ringbuffer_proto_funcs, minnet_ringbuffer_proto_funcs_size);\n  371    JS_SetClassProto(ctx, minnet_ringbuffer_class_id, minnet_ringbuffer_proto);\n  372  \n  373    minnet_ringbuffer_ctor = JS_NewCFunction2(ctx, minnet_ringbuffer_constructor, \"MinnetRingbuffer\", 0, JS_CFUNC_constructor, 0);\n  374    JS_SetConstructor(ctx, minnet_ringbuffer_ctor, minnet_ringbuffer_proto);\n  375  \n  376    if(m)\n  377      JS_SetModuleExport(ctx, m, \"Ringbuffer\", minnet_ringbuffer_ctor);\n  378  \n  379    // Add class Generator\n  380    JS_NewClassID(&minnet_generator_class_id);\n  381  \n  382    JS_NewClass(JS_GetRuntime(ctx), minnet_generator_class_id, &minnet_generator_class);\n  383    minnet_generator_proto = JS_NewObject(ctx);\n  384    // JS_SetPropertyFunctionList(ctx, minnet_generator_proto, minnet_generator_proto_funcs, minnet_generator_proto_funcs_size);\n  385    JS_SetClassProto(ctx, minnet_generator_class_id, minnet_generator_proto);\n  386  \n  387    minnet_generator_ctor = JS_NewCFunction2(ctx, minnet_generator_constructor, \"MinnetGenerator\", 0, JS_CFUNC_constructor, 0);\n  388    JS_SetConstructor(ctx, minnet_generator_ctor, minnet_generator_proto);\n  389  \n  390    if(m)\n  391      JS_SetModuleExport(ctx, m, \"Generator\", minnet_generator_ctor);\n  392  \n  393    // Add class URL\n  394    minnet_url_init(ctx, m);\n  395  \n  396    // Add class WebSocket\n  397    JS_NewClassID(&minnet_ws_class_id);\n  398    JS_NewClass(JS_GetRuntime(ctx), minnet_ws_class_id, &minnet_ws_class);\n  399    minnet_ws_proto = JS_NewObject(ctx);\n  400    JS_SetPropertyFunctionList(ctx, minnet_ws_proto, minnet_ws_proto_funcs, minnet_ws_proto_funcs_size);\n  401    JS_SetPropertyFunctionList(ctx, minnet_ws_proto, minnet_ws_proto_defs, minnet_ws_proto_defs_size);\n  402  \n  403    minnet_ws_ctor = JS_NewCFunction2(ctx, minnet_ws_constructor, \"MinnetWebsocket\", 0, JS_CFUNC_constructor, 0);\n  404    JS_SetPropertyFunctionList(ctx, minnet_ws_ctor, minnet_ws_static_funcs, minnet_ws_static_funcs_size);\n  405  \n  406    JS_SetConstructor(ctx, minnet_ws_ctor, minnet_ws_proto);\n  407  \n  408    JS_SetPropertyFunctionList(ctx, minnet_ws_ctor, minnet_ws_proto_defs, minnet_ws_proto_defs_size);\n  409  \n  410    if(m)\n  411      JS_SetModuleExport(ctx, m, \"Socket\", minnet_ws_ctor);\n  412  \n  413    // Add class FormParser\n  414    JS_NewClassID(&minnet_form_parser_class_id);\n  415  \n  416    JS_NewClass(JS_GetRuntime(ctx), minnet_form_parser_class_id, &minnet_form_parser_class);\n  417    minnet_form_parser_proto = JS_NewObject(ctx);\n  418    JS_SetPropertyFunctionList(ctx, minnet_form_parser_proto, minnet_form_parser_proto_funcs, minnet_form_parser_proto_funcs_size);\n  419    JS_SetClassProto(ctx, minnet_form_parser_class_id, minnet_form_parser_proto);\n  420  \n  421    minnet_form_parser_ctor = JS_NewCFunction2(ctx, minnet_form_parser_constructor, \"MinnetFormParser\", 0, JS_CFUNC_constructor, 0);\n  422    JS_SetConstructor(ctx, minnet_form_parser_ctor, minnet_form_parser_proto);\n  423  \n  424    if(m)\n  425      JS_SetModuleExport(ctx, m, \"FormParser\", minnet_form_parser_ctor);\n  426  \n  427    // Add class Hash\n  428    JS_NewClassID(&minnet_hash_class_id);\n  429  \n  430    JS_NewClass(JS_GetRuntime(ctx), minnet_hash_class_id, &minnet_hash_class);\n  431    minnet_hash_proto = JS_NewObject(ctx);\n  432    JS_SetPropertyFunctionList(ctx, minnet_hash_proto, minnet_hash_proto_funcs, minnet_hash_proto_funcs_size);\n  433    JS_SetClassProto(ctx, minnet_hash_class_id, minnet_hash_proto);\n  434  \n  435    minnet_hash_ctor = JS_NewCFunction2(ctx, minnet_hash_constructor, \"MinnetHash\", 0, JS_CFUNC_constructor, 0);\n  436    JS_SetConstructor(ctx, minnet_hash_ctor, minnet_hash_proto);\n  437    JS_SetPropertyFunctionList(ctx, minnet_hash_ctor, minnet_hash_static_funcs, minnet_hash_static_funcs_size);\n  438  \n  439    if(m)\n  440      JS_SetModuleExport(ctx, m, \"Hash\", minnet_hash_ctor);\n  441  \n  442    {\n  443      JSValue minnet_default = JS_NewObject(ctx);\n  444      JS_SetPropertyFunctionList(ctx, minnet_default, minnet_funcs, countof(minnet_funcs));\n  445      JS_SetModuleExport(ctx, m, \"default\", minnet_default);\n  446    }\n  447  \n  448    return 0;\n  449  }\n  450  \n  451  __attribute__((visibility(\"default\"))) JSModuleDef*\n  452  JS_INIT_MODULE(JSContext* ctx, const char* module_name) {\n  453    JSModuleDef* m;\n  454    m = JS_NewCModule(ctx, module_name, js_minnet_init);\n  455    if(!m)\n  456      return NULL;\n  457    JS_AddModuleExport(ctx, m, \"Response\");\n  458    JS_AddModuleExport(ctx, m, \"Request\");\n  459    JS_AddModuleExport(ctx, m, \"Ringbuffer\");\n  460    JS_AddModuleExport(ctx, m, \"Generator\");\n  461    JS_AddModuleExport(ctx, m, \"Socket\");\n  462    JS_AddModuleExport(ctx, m, \"FormParser\");\n  463    JS_AddModuleExport(ctx, m, \"Hash\");\n  464    JS_AddModuleExport(ctx, m, \"URL\");\n  465    JS_AddModuleExport(ctx, m, \"default\");\n  466    JS_AddModuleExportList(ctx, m, minnet_funcs, countof(minnet_funcs));\n  467  \n  468    minnet_log_ctx = ctx;\n  469  \n  470    lws_set_log_level(minnet_log_level, minnet_log_callback);\n  471  \n  472    return m;\n  473  }\n  474  \n  475  void\n  476  minnet_debug(const char* format, ...) {\n  477    int n;\n  478    va_list ap;\n  479    char buf[1024];\n  480    va_start(ap, format);\n  481    n = vsnprintf(buf, sizeof(buf), format, ap);\n  482    va_end(ap);\n  483  \n  484    if(n < sizeof(buf)) {\n  485      if(buf[n - 1] != '\\n')\n  486        buf[n++] = '\\n';\n  487    }\n  488  \n  489    for(int i = 0; i < n; i++) {\n  490      if(i + 1 != n) {\n  491        if(buf[i] == '\\n') {\n  492          fputs(\"\\\\n\", stdout);\n  493          continue;\n  494        }\n  495        if(buf[i] == '\\r') {\n  496          fputs(\"\\\\r\", stdout);\n  497          continue;\n  498        }\n  499      }\n  500      fputc(buf[i], stdout);\n  501    }\n  502    fflush(stdout);\n  503  }\n  504  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-plugin-broker.c:\n    1  /*\n    2   * ws protocol handler plugin for \"lws-minimal-broker\"\n    3   *\n    4   * Written in 2010-2019 by Andy Green <andy@warmcat.com>\n    5   *\n    6   * This file is made available under the Creative Commons CC0 1.0\n    7   * Universal Public Domain Dedication.\n    8   *\n    9   * This implements a minimal \"broker\", for systems that look like this\n   10   *\n   11   * [ publisher  ws client ] <-> [ ws server  broker ws server ] <-> [ ws client subscriber ]\n   12   *\n   13   * The \"publisher\" role is to add data to the broker.\n   14   *\n   15   * The \"subscriber\" role is to hear about all data added to the system.\n   16   *\n   17   * The \"broker\" role is to manage incoming data from publishers and pass it out\n   18   * to subscribers.\n   19   *\n   20   * Any number of publishers and subscribers are supported.\n   21   *\n   22   * This example implements a single ws server, using one ws protocol, that treats ws\n   23   * connections as being in publisher or subscriber mode according to the URL the ws\n   24   * connection was made to.  ws connections to \"/publisher\" URL are understood to be\n   25   * publishing data and to any other URL, subscribing.\n   26   */\n   27  \n   28  #if !defined(LWS_PLUGIN_STATIC)\n   29  #define LWS_DLL\n   30  #define LWS_INTERNAL\n   31  #include <libwebsockets.h>\n   32  #endif\n   33  \n   34  #include <string.h>\n   35  \n   36  /* one of these created for each message */\n   37  \n   38  typedef struct broker_msg {\n   39    void* payload; /* is malloc'd */\n   40    size_t len;\n   41  } BrokerMsg;\n   42  \n   43  /* one of these is created for each client connecting to us */\n   44  \n   45  typedef struct broker_session {\n   46    struct broker_session* pss_list;\n   47    struct lws* wsi;\n   48    uint32_t tail;\n   49    char publishing; /* nonzero: peer is publishing to us */\n   50  } BrokerSession;\n   51  \n   52  /* one of these is created for each vhost our protocol is used with */\n   53  \n   54  typedef struct broker_vhost {\n   55    struct lws_context* context;\n   56    struct lws_vhost* vhost;\n   57    const struct lws_protocols* protocol;\n   58  \n   59    struct broker_session* pss_list; /* linked-list of live pss*/\n   60  \n   61    struct lws_ring* ring; /* ringbuffer holding unsent messages */\n   62  } BrokerVhost;\n   63  \n   64  /* destroys the message when everyone has had a copy of it */\n   65  \n   66  static void\n   67  broker_destroy_message(void* _msg) {\n   68    BrokerMsg* msg = _msg;\n   69  \n   70    free(msg->payload);\n   71    msg->payload = NULL;\n   72    msg->len = 0;\n   73  }\n   74  \n   75  static int\n   76  broker_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n   77    BrokerSession* pss = user;\n   78    BrokerVhost* vhd = lws_protocol_vh_priv_get(lws_get_vhost(wsi), lws_get_protocol(wsi));\n   79  \n   80    switch(reason) {\n   81      case LWS_CALLBACK_PROTOCOL_INIT:\n   82        vhd = lws_protocol_vh_priv_zalloc(lws_get_vhost(wsi), lws_get_protocol(wsi), sizeof(BrokerVhost));\n   83        vhd->context = lws_get_context(wsi);\n   84        vhd->protocol = lws_get_protocol(wsi);\n   85        vhd->vhost = lws_get_vhost(wsi);\n   86  \n   87        vhd->ring = lws_ring_create(sizeof(BrokerMsg), 8, broker_destroy_message);\n   88        if(!vhd->ring)\n   89          return 1;\n   90        break;\n   91  \n   92      case LWS_CALLBACK_PROTOCOL_DESTROY: lws_ring_destroy(vhd->ring); break;\n   93  \n   94      case LWS_CALLBACK_ESTABLISHED:\n   95        pss->tail = lws_ring_get_oldest_tail(vhd->ring);\n   96        pss->wsi = wsi;\n   97  \n   98        char buf[32];\n   99  \n  100        if(lws_hdr_copy(wsi, buf, sizeof(buf), WSI_TOKEN_GET_URI) > 0)\n  101          pss->publishing = !strcmp(buf, \"/publisher\");\n  102  \n  103        if(!pss->publishing)\n  104          /* add subscribers to the list of live pss held in the vhd */\n  105          lws_ll_fwd_insert(pss, pss_list, vhd->pss_list);\n  106        break;\n  107  \n  108      case LWS_CALLBACK_CLOSED:\n  109        /* remove our closing pss from the list of live pss */\n  110        lws_ll_fwd_remove(BrokerSession, pss_list, pss, vhd->pss_list);\n  111        break;\n  112  \n  113      case LWS_CALLBACK_SERVER_WRITEABLE:\n  114  \n  115        if(pss->publishing)\n  116          break;\n  117  \n  118        const BrokerMsg* pmsg;\n  119  \n  120        if(!(pmsg = lws_ring_get_element(vhd->ring, &pss->tail)))\n  121          break;\n  122  \n  123        int m;\n  124  \n  125        /* notice we allowed for LWS_PRE in the payload already */\n  126        if((m = lws_write(wsi, ((unsigned char*)pmsg->payload) + LWS_PRE, pmsg->len, LWS_WRITE_TEXT)) < (int)pmsg->len) {\n  127          lwsl_err(\"ERROR %d writing to ws socket\\n\", m);\n  128          return -1;\n  129        }\n  130  \n  131        lws_ring_consume_and_update_oldest_tail(vhd->ring,     /* lws_ring object */\n  132                                                BrokerSession, /* type of objects with tails */\n  133                                                &pss->tail,    /* tail of guy doing the consuming */\n  134                                                1,             /* number of payload objects being consumed */\n  135                                                vhd->pss_list, /* head of list of objects with tails */\n  136                                                tail,          /* member name of tail in objects with tails */\n  137                                                pss_list       /* member name of next object in objects with tails */\n  138        );\n  139  \n  140        /* more to do? */\n  141        if(lws_ring_get_element(vhd->ring, &pss->tail))\n  142          /* come back as soon as we can write more */\n  143          lws_callback_on_writable(pss->wsi);\n  144        break;\n  145  \n  146      case LWS_CALLBACK_RECEIVE:\n  147  \n  148        if(!pss->publishing)\n  149          break;\n  150  \n  151        /* For test, our policy is ignore publishing when there are no subscribers connected */\n  152        if(!vhd->pss_list)\n  153          break;\n  154  \n  155        int n;\n  156  \n  157        if(!(n = (int)lws_ring_get_count_free_elements(vhd->ring))) {\n  158          lwsl_user(\"dropping!\\n\");\n  159          break;\n  160        }\n  161  \n  162        BrokerMsg amsg;\n  163  \n  164        amsg.len = len;\n  165        /* notice we over-allocate by LWS_PRE */\n  166  \n  167        if(!(amsg.payload = malloc(LWS_PRE + len))) {\n  168          lwsl_user(\"OOM: dropping\\n\");\n  169          break;\n  170        }\n  171  \n  172        memcpy((char*)amsg.payload + LWS_PRE, in, len);\n  173        if(!lws_ring_insert(vhd->ring, &amsg, 1)) {\n  174          broker_destroy_message(&amsg);\n  175          lwsl_user(\"dropping 2!\\n\");\n  176          break;\n  177        }\n  178  \n  179        /* let every subscriber know we want to write something on them as soon as they are ready */\n  180        lws_start_foreach_llp(BrokerSession**, ppss, vhd->pss_list) {\n  181          if(!(*ppss)->publishing)\n  182            lws_callback_on_writable((*ppss)->wsi);\n  183        }\n  184        lws_end_foreach_llp(ppss, pss_list);\n  185        break;\n  186  \n  187      default: break;\n  188    }\n  189  \n  190    return 0;\n  191  }\n  192  \n  193  #define MINNET_PLUGIN_BROKER(name) \\\n  194    { #name, broker_callback, sizeof(BrokerSession), 128, 0, NULL, 0 }\n  195  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.h:\n    1  #ifndef MINNET_SERVER_H\n    2  #define MINNET_SERVER_H\n    3  \n    4  #include <quickjs.h>\n    5  #include \"buffer.h\"\n    6  #include \"minnet.h\"\n    7  #include \"minnet-server-http.h\"\n    8  #include \"context.h\"\n    9  \n   10  #define server_exception(server, retval) context_exception(&((server)->context), (retval))\n   11  \n   12  struct http_mount;\n   13  \n   14  typedef struct server_context {\n   15    union {\n   16      int ref_count;\n   17      struct context context;\n   18    };\n   19    struct lws* wsi;\n   20    CallbackList cb;\n   21    MinnetVhostOptions* mimetypes;\n   22    ResolveFunctions promise;\n   23  } MinnetServer;\n   24  \n   25  struct proxy_connection;\n   26  \n   27  void server_certificate(struct context*, JSValue);\n   28  JSValue minnet_server(JSContext*, JSValue, int, JSValue argv[]);\n   29  int defprot_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   30  int ws_server_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   31  \n   32  static inline struct server_context*\n   33  lws_server(struct lws* wsi) {\n   34    return lws_context_user(lws_get_context(wsi));\n   35  }\n   36  // extern THREAD_LOCAL MinnetServer minnet_server;\n   37  \n   38  #endif /* MINNET_SERVER_H */\n   39  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.c:\n    1  #include \"minnet-websocket.h\"\n    2  #include \"minnet-response.h\"\n    3  #include \"minnet-generator.h\"\n    4  #include \"minnet.h\"\n    5  #include \"buffer.h\"\n    6  #include \"jsutils.h\"\n    7  #include \"headers.h\"\n    8  #include <cutils.h>\n    9  #include <assert.h>\n   10  \n   11  THREAD_LOCAL JSClassID minnet_response_class_id;\n   12  THREAD_LOCAL JSValue minnet_response_proto, minnet_response_ctor;\n   13  \n   14  enum { RESPONSE_HEADER };\n   15  enum {\n   16    RESPONSE_OK,\n   17    RESPONSE_HEADERS_SENT,\n   18    RESPONSE_URL,\n   19    RESPONSE_STATUS,\n   20    RESPONSE_STATUSTEXT,\n   21    RESPONSE_REDIRECTED,\n   22    RESPONSE_BODYUSED,\n   23    RESPONSE_BODY,\n   24    RESPONSE_TYPE,\n   25    RESPONSE_OFFSET,\n   26    RESPONSE_HEADERS,\n   27  };\n   28  \n   29  MinnetResponse*\n   30  minnet_response_data(JSValueConst obj) {\n   31    return JS_GetOpaque(obj, minnet_response_class_id);\n   32  }\n   33  \n   34  JSValue\n   35  minnet_response_new(JSContext* ctx, MinnetURL url, int status, char* status_text, BOOL headers_sent, const char* type) {\n   36    MinnetResponse* resp;\n   37  \n   38    if((resp = response_new(ctx))) {\n   39      response_init(resp, url, status, status_text, headers_sent, type ? js_strdup(ctx, type) : 0);\n   40  \n   41      return minnet_response_wrap(ctx, resp);\n   42    }\n   43  \n   44    return JS_NULL;\n   45  }\n   46  \n   47  JSValue\n   48  minnet_response_wrap(JSContext* ctx, MinnetResponse* resp) {\n   49    JSValue ret = JS_NewObjectProtoClass(ctx, minnet_response_proto, minnet_response_class_id);\n   50  \n   51    if(JS_IsException(ret))\n   52      return JS_EXCEPTION;\n   53  \n   54    JS_SetOpaque(ret, response_dup(resp));\n   55    return ret;\n   56  }\n   57  \n   58  enum {\n   59    RESPONSE_ARRAYBUFFER = 0,\n   60    RESPONSE_TEXT,\n   61    RESPONSE_JSON,\n   62  };\n   63  \n   64  static JSValue\n   65  minnet_response_method(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n   66    JSValue ret;\n   67    ResolveFunctions funcs;\n   68    MinnetResponse* resp;\n   69  \n   70    if(!(resp = minnet_response_data2(ctx, this_val)))\n   71      return JS_EXCEPTION;\n   72  \n   73    ret = js_promise_create(ctx, &funcs);\n   74  \n   75    switch(magic) {\n   76      case RESPONSE_ARRAYBUFFER: {\n   77        break;\n   78      }\n   79      case RESPONSE_TEXT: {\n   80        if(resp->generator) {\n   81          generator_continuous(resp->generator, funcs.resolve);\n   82        }\n   83        break;\n   84      }\n   85      case RESPONSE_JSON: {\n   86        break;\n   87      }\n   88    }\n   89  \n   90    js_promise_free(ctx, &funcs);\n   91  \n   92    return ret;\n   93  }\n   94  \n   95  enum {\n   96    HEADERS_GET = 0,\n   97    HEADERS_SET,\n   98    HEADERS_APPEND,\n   99    HEADERS_LOCATION,\n  100  };\n  101  \n  102  static JSValue\n  103  minnet_response_header(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  104    JSValue ret = JS_UNDEFINED;\n  105    MinnetResponse* resp;\n  106    const char* key;\n  107    size_t keylen;\n  108  \n  109    if(!(resp = minnet_response_data2(ctx, this_val)))\n  110      return JS_EXCEPTION;\n  111  \n  112    key = JS_ToCStringLen(ctx, &keylen, argv[0]);\n  113  \n  114    switch(magic) {\n  115      case HEADERS_GET: {\n  116        size_t vlen;\n  117        char* v;\n  118  \n  119        if((v = headers_getlen(&resp->headers, &vlen, key)))\n  120          ret = JS_NewStringLen(ctx, v, vlen);\n  121  \n  122        break;\n  123      }\n  124      case HEADERS_SET: {\n  125        const char* v;\n  126  \n  127        if((v = JS_ToCString(ctx, argv[1])))\n  128          ret = JS_NewInt32(ctx, headers_set(&resp->headers, key, v));\n  129  \n  130        break;\n  131      }\n  132      case HEADERS_APPEND: {\n  133        const char* v;\n  134        size_t vlen;\n  135  \n  136        if((v = JS_ToCStringLen(ctx, &vlen, argv[1])))\n  137          ret = JS_NewInt32(ctx, headers_appendb(&resp->headers, key, keylen, v, vlen));\n  138  \n  139        break;\n  140      }\n  141      case HEADERS_LOCATION: {\n  142        ret = JS_NewInt32(ctx, headers_set(&resp->headers, \"Location\", key));\n  143        break;\n  144      }\n  145    }\n  146  \n  147    return ret;\n  148  }\n  149  \n  150  static JSValue\n  151  minnet_response_clone(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  152    MinnetResponse *resp, *clone;\n  153  \n  154    if(!(resp = minnet_response_data2(ctx, this_val)))\n  155      return JS_EXCEPTION;\n  156  \n  157    if(!(clone = response_new(ctx)))\n  158      return JS_ThrowOutOfMemory(ctx);\n  159  \n  160    clone->read_only = resp->read_only;\n  161    clone->status = resp->status;\n  162    clone->read_only = resp->read_only;\n  163    clone->url = url_clone(resp->url, ctx);\n  164    clone->type = js_strdup(ctx, resp->type);\n  165  \n  166    buffer_clone(&clone->headers, &resp->headers);\n  167    // buffer_clone(clone->body, resp->body);\n  168  \n  169    return minnet_response_wrap(ctx, clone);\n  170  }\n  171  \n  172  static JSValue\n  173  minnet_response_get(JSContext* ctx, JSValueConst this_val, int magic) {\n  174    MinnetResponse* resp;\n  175    JSValue ret = JS_UNDEFINED;\n  176  \n  177    if(!(resp = minnet_response_data2(ctx, this_val)))\n  178      return JS_EXCEPTION;\n  179  \n  180    switch(magic) {\n  181      case RESPONSE_STATUS: {\n  182        ret = JS_NewInt32(ctx, resp->status);\n  183        break;\n  184      }\n  185      case RESPONSE_OK: {\n  186        ret = JS_NewBool(ctx, resp->status >= 200 && resp->status <= 299);\n  187        break;\n  188      }\n  189      case RESPONSE_STATUSTEXT: {\n  190        ret = resp->status_text ? JS_NewString(ctx, resp->status_text) : JS_NULL;\n  191        break;\n  192      }\n  193      case RESPONSE_HEADERS_SENT: {\n  194        ret = JS_NewBool(ctx, resp->headers_sent);\n  195        break;\n  196      }\n  197      case RESPONSE_URL: {\n  198        ret = minnet_url_new(ctx, resp->url);\n  199        break;\n  200      }\n  201      case RESPONSE_TYPE: {\n  202        char* type;\n  203        size_t len;\n  204  \n  205        /*   if((type = resp->type))\n  206             len = strlen(type);\n  207           else*/\n  208        type = headers_getlen(&resp->headers, &len, \"content-type\");\n  209  \n  210        ret = type ? JS_NewStringLen(ctx, type, len) : JS_NULL;\n  211        break;\n  212      }\n  213        /* case RESPONSE_OFFSET: {\n  214           ret = JS_NewInt64(ctx, buffer_HEAD(resp->body));\n  215           break;\n  216         }*/\n  217      case RESPONSE_HEADERS: {\n  218        ret = headers_object(ctx, resp->headers.start, resp->headers.write);\n  219        break;\n  220      }\n  221      case RESPONSE_BODYUSED: {\n  222        ret = JS_NewBool(ctx, resp->generator != NULL);\n  223        break;\n  224      }\n  225      case RESPONSE_BODY: {\n  226        if(resp->generator)\n  227          ret = minnet_generator_iterator(ctx, generator_dup(resp->generator));\n  228        break;\n  229      }\n  230    }\n  231  \n  232    return ret;\n  233  }\n  234  \n  235  static JSValue\n  236  minnet_response_set(JSContext* ctx, JSValueConst this_val, JSValueConst value, int magic) {\n  237    MinnetResponse* resp;\n  238    JSValue ret = JS_UNDEFINED;\n  239    const char* str;\n  240    size_t len;\n  241    if(!(resp = minnet_response_data2(ctx, this_val)))\n  242      return JS_EXCEPTION;\n  243  \n  244    if(resp->read_only)\n  245      return JS_ThrowReferenceError(ctx, \"Response object is read-only\");\n  246  \n  247    str = JS_ToCStringLen(ctx, &len, value);\n  248  \n  249    switch(magic) {\n  250      case RESPONSE_STATUS: {\n  251        int32_t s;\n  252        if(!JS_ToInt32(ctx, &s, value))\n  253          resp->status = s;\n  254        break;\n  255      }\n  256      case RESPONSE_HEADERS_SENT: {\n  257        resp->headers_sent = JS_ToBool(ctx, value);\n  258        break;\n  259      }\n  260      case RESPONSE_URL: {\n  261        url_free(&resp->url, ctx);\n  262        url_parse(&resp->url, str, ctx);\n  263        break;\n  264      }\n  265      case RESPONSE_TYPE: {\n  266        headers_set(&resp->headers, \"content-type\", str);\n  267        //  resp->type = js_strdup(ctx, str);\n  268        break;\n  269      }\n  270      case RESPONSE_BODYUSED: {\n  271        break;\n  272      }\n  273      case RESPONSE_BODY: {\n  274        /* if(!resp->body)\n  275           response_generator(resp, ctx);\n  276  \n  277         resp->body->read = resp->body->write = resp->body->start;\n  278  \n  279         buffer_fromvalue(resp->body, value, ctx);*/\n  280        break;\n  281      }\n  282      case RESPONSE_HEADERS: {\n  283        int n = headers_fromobj(&resp->headers, value, ctx);\n  284  \n  285        if(n <= 0) {\n  286          ret = JS_ThrowTypeError(ctx, \"Invalid headers object\");\n  287        } else {\n  288          DEBUG(\"minnet-response: %d headers added\\n\", n);\n  289  \n  290          ret = JS_DupValue(ctx, value);\n  291        }\n  292  \n  293        break;\n  294      }\n  295    }\n  296  \n  297    JS_FreeCString(ctx, str);\n  298    return ret;\n  299  }\n  300  \n  301  static JSValue\n  302  minnet_response_iterator(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  303    JSValue ret = JS_UNDEFINED;\n  304    MinnetResponse* resp;\n  305  \n  306    if(!(resp = minnet_response_data2(ctx, this_val)))\n  307      return JS_EXCEPTION;\n  308  \n  309    if(resp->generator)\n  310      ret = minnet_generator_create(ctx, &resp->generator);\n  311  \n  312    return ret;\n  313  }\n  314  \n  315  JSValue\n  316  minnet_response_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n  317    JSValue proto, obj;\n  318    MinnetResponse* resp;\n  319    int i;\n  320  \n  321    if(!(resp = js_mallocz(ctx, sizeof(MinnetResponse))))\n  322      return JS_ThrowOutOfMemory(ctx);\n  323  \n  324    /* using new_target to get the prototype is necessary when the class is extended. */\n  325    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n  326    if(JS_IsException(proto))\n  327      proto = JS_DupValue(ctx, minnet_response_proto);\n  328  \n  329    obj = JS_NewObjectProtoClass(ctx, proto, minnet_response_class_id);\n  330    JS_FreeValue(ctx, proto);\n  331    if(JS_IsException(obj))\n  332      goto fail;\n  333  \n  334    if(argc >= 1 && argc < 3) {\n  335  \n  336      if(!js_is_nullish(argv[0])) {\n  337        // XXXX buffer_fromvalue(resp->body, argv[0], ctx);\n  338      }\n  339  \n  340      argc--;\n  341      argv++;\n  342    }\n  343  \n  344    for(i = 0; i < argc; i++) {\n  345      if(JS_IsObject(argv[i]) && !JS_IsNull(argv[i])) {\n  346        js_copy_properties(ctx, obj, argv[i], JS_GPN_STRING_MASK);\n  347        argc--;\n  348        argv++;\n  349      } else if(JS_IsString(argv[i])) {\n  350        const char* str = JS_ToCString(ctx, argv[i]);\n  351        if(!resp->url.path)\n  352          url_parse(&resp->url, str, ctx);\n  353        else if(!resp->type)\n  354          resp->type = js_strdup(ctx, str);\n  355        JS_FreeCString(ctx, str);\n  356  \n  357      } else if(JS_IsBool(argv[i])) {\n  358        resp->headers_sent = JS_ToBool(ctx, argv[i]);\n  359      } else if(JS_IsNumber(argv[i])) {\n  360        int32_t s;\n  361        if(!JS_ToInt32(ctx, &s, argv[i]))\n  362          resp->status = s;\n  363      }\n  364    }\n  365  \n  366    JS_SetOpaque(obj, resp);\n  367  \n  368    return obj;\n  369  \n  370  fail:\n  371    js_free(ctx, resp);\n  372    JS_FreeValue(ctx, obj);\n  373    return JS_EXCEPTION;\n  374  }\n  375  \n  376  void\n  377  minnet_response_finalizer(JSRuntime* rt, JSValue val) {\n  378    MinnetResponse* res;\n  379  \n  380    if((res = minnet_response_data(val)))\n  381      response_free(res, rt);\n  382  }\n  383  \n  384  JSClassDef minnet_response_class = {\n  385      \"MinnetResponse\",\n  386      .finalizer = minnet_response_finalizer,\n  387  };\n  388  \n  389  const JSCFunctionListEntry minnet_response_proto_funcs[] = {\n  390      JS_CFUNC_MAGIC_DEF(\"arrayBuffer\", 0, minnet_response_method, RESPONSE_ARRAYBUFFER),\n  391      JS_CFUNC_MAGIC_DEF(\"text\", 0, minnet_response_method, RESPONSE_TEXT),\n  392      JS_CFUNC_MAGIC_DEF(\"json\", 0, minnet_response_method, RESPONSE_JSON),\n  393      JS_CFUNC_MAGIC_DEF(\"set\", 2, minnet_response_header, HEADERS_SET),\n  394      JS_CFUNC_MAGIC_DEF(\"get\", 1, minnet_response_header, HEADERS_GET),\n  395      JS_CFUNC_MAGIC_DEF(\"append\", 2, minnet_response_header, HEADERS_APPEND),\n  396      JS_CFUNC_MAGIC_DEF(\"location\", 1, minnet_response_header, HEADERS_LOCATION),\n  397      JS_CFUNC_DEF(\"clone\", 0, minnet_response_clone),\n  398      JS_CGETSET_MAGIC_FLAGS_DEF(\"status\", minnet_response_get, minnet_response_set, RESPONSE_STATUS, JS_PROP_ENUMERABLE),\n  399      JS_CGETSET_MAGIC_FLAGS_DEF(\"statusText\", minnet_response_get, minnet_response_set, RESPONSE_STATUSTEXT, 0),\n  400      JS_CGETSET_MAGIC_FLAGS_DEF(\"bodyUsed\", minnet_response_get, 0, RESPONSE_BODYUSED, JS_PROP_ENUMERABLE),\n  401      JS_CGETSET_MAGIC_FLAGS_DEF(\"body\", minnet_response_get, minnet_response_set, RESPONSE_BODY, 0),\n  402      JS_CGETSET_MAGIC_FLAGS_DEF(\"ok\", minnet_response_get, 0, RESPONSE_OK, 0),\n  403      JS_CGETSET_MAGIC_FLAGS_DEF(\"headersSent\", minnet_response_get, 0, RESPONSE_HEADERS_SENT, 0),\n  404      JS_CGETSET_MAGIC_FLAGS_DEF(\"redirected\", minnet_response_get, minnet_response_set, RESPONSE_REDIRECTED, 0),\n  405      JS_CGETSET_MAGIC_FLAGS_DEF(\"url\", minnet_response_get, minnet_response_set, RESPONSE_URL, JS_PROP_ENUMERABLE),\n  406      JS_CGETSET_MAGIC_FLAGS_DEF(\"type\", minnet_response_get, minnet_response_set, RESPONSE_TYPE, 0),\n  407      JS_CGETSET_MAGIC_FLAGS_DEF(\"headers\", minnet_response_get, minnet_response_set, RESPONSE_HEADERS, JS_PROP_ENUMERABLE),\n  408      JS_CFUNC_DEF(\"[Symbol.asyncIterator]\", 0, minnet_response_iterator),\n  409      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetResponse\", JS_PROP_CONFIGURABLE),\n  410  };\n  411  \n  412  const size_t minnet_response_proto_funcs_size = countof(minnet_response_proto_funcs);\n  413  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-hash.h:\n    1  #ifndef MINNET_HASH_H\n    2  #define MINNET_HASH_H\n    3  \n    4  #include \"utils.h\"\n    5  #include \"jsutils.h\"\n    6  #include <libwebsockets.h>\n    7  \n    8  typedef struct hash_hmac {\n    9    union {\n   10      struct lws_genhash_ctx hash;\n   11      struct lws_genhmac_ctx hmac;\n   12    } lws;\n   13    uint8_t type;\n   14    // uint32_t size;\n   15    BOOL hmac : 1, initialized : 1, finalized : 1;\n   16    uint8_t digest[0];\n   17  } MinnetHash;\n   18  \n   19  JSValueConst minnet_hash_constructor(JSContext*, JSValueConst, int, JSValueConst argv[]);\n   20  JSValueConst minnet_hash_call(JSContext*, JSValueConst, JSValueConst, int argc, JSValueConst argv[], int flags);\n   21  \n   22  extern THREAD_LOCAL JSValue minnet_hash_proto, minnet_hash_ctor;\n   23  extern THREAD_LOCAL JSClassID minnet_hash_class_id;\n   24  extern JSClassDef minnet_hash_class;\n   25  extern const JSCFunctionListEntry minnet_hash_proto_funcs[], minnet_hash_static_funcs[];\n   26  extern const size_t minnet_hash_proto_funcs_size, minnet_hash_static_funcs_size;\n   27  \n   28  static inline MinnetHash*\n   29  minnet_hash_data(JSValueConst obj) {\n   30    return JS_GetOpaque(obj, minnet_hash_class_id);\n   31  }\n   32  \n   33  static inline MinnetHash*\n   34  minnet_hash_data2(JSContext* ctx, JSValueConst obj) {\n   35    return JS_GetOpaque2(ctx, obj, minnet_hash_class_id);\n   36  }\n   37  #endif /* MINNET_HASH_H */\n   38  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-hash.c:\n    1  #define _GNU_SOURCE\n    2  #include \"minnet-hash.h\"\n    3  #include \"utils.h\"\n    4  #include <assert.h>\n    5  \n    6  THREAD_LOCAL JSClassID minnet_hash_class_id;\n    7  THREAD_LOCAL JSValue minnet_hash_proto, minnet_hash_ctor;\n    8  \n    9  enum {\n   10    HASH_UPDATE,\n   11    HASH_FINALIZE,\n   12    HASH_VALUEOF,\n   13    HASH_TOSTRING,\n   14    HASH_TYPE,\n   15    HASH_HMAC,\n   16    HASH_FINALIZED,\n   17    HASH_BYTELENGTH,\n   18    HASH_BITLENGTH,\n   19  };\n   20  \n   21  static char hash_hexdigits[] = \"0123456789abcdef\"\n   22                                 \"ghijklmnopqrstuvwxyz\";\n   23  \n   24  static MinnetHash*\n   25  hash_alloc(JSContext* ctx, uint8_t type, BOOL hmac) {\n   26    MinnetHash* ret;\n   27    size_t bytes = hmac ? lws_genhmac_size(type - (LWS_GENHASH_TYPE_SHA256 - LWS_GENHMAC_TYPE_SHA256)) : lws_genhash_size(type);\n   28  \n   29    ret = js_mallocz(ctx, sizeof(MinnetHash) + bytes);\n   30    ret->type = type;\n   31    ret->hmac = hmac;\n   32    return ret;\n   33  }\n   34  \n   35  static BOOL\n   36  hash_init(MinnetHash* h, const uint8_t* key, size_t key_len) {\n   37    assert(!h->initialized);\n   38    if(h->hmac ? lws_genhmac_init(&h->lws.hmac, h->type - (LWS_GENHASH_TYPE_SHA256 - LWS_GENHMAC_TYPE_SHA256), key, key_len) : lws_genhash_init(&h->lws.hash, h->type))\n   39      return FALSE;\n   40    h->initialized = TRUE;\n   41    return TRUE;\n   42  }\n   43  \n   44  static size_t\n   45  hash_size(MinnetHash* h) {\n   46    return h->hmac ? lws_genhmac_size(h->type - (LWS_GENHASH_TYPE_SHA256 - LWS_GENHMAC_TYPE_SHA256)) : lws_genhash_size(h->type);\n   47  }\n   48  \n   49  static BOOL\n   50  hash_update(MinnetHash* h, const void* data, size_t size) {\n   51    assert(h->initialized);\n   52    assert(!h->finalized);\n   53    if(h->hmac ? lws_genhmac_update(&h->lws.hmac, data, size) : lws_genhash_update(&h->lws.hash, data, size))\n   54      return FALSE;\n   55    return TRUE;\n   56  }\n   57  \n   58  static void*\n   59  tmp_realloc(void* opaque, void* ptr, size_t size) {\n   60    return realloc(ptr, size);\n   61  }\n   62  \n   63  static char*\n   64  hash_tostring(MinnetHash* h, int bits_per_char) {\n   65    DynBuf dbuf = {0};\n   66    size_t bitpos, bitsize = hash_size(h) * 8;\n   67    unsigned base = uint_pow(2, bits_per_char);\n   68    unsigned mask = base - 1;\n   69  \n   70    dbuf_init2(&dbuf, 0, tmp_realloc);\n   71  \n   72    for(bitpos = 0; bitpos < bitsize; bitpos += base) {\n   73      uint8_t byte = h->digest[bitpos >> 3];\n   74      unsigned shift_right = bitpos & 0x7;\n   75      unsigned remain = 8 - shift_right;\n   76      uint8_t value = byte >> shift_right;\n   77      if(remain < bits_per_char) {\n   78        value |= h->digest[(bitpos >> 3) + 1] << remain;\n   79      }\n   80  \n   81      dbuf_putc(&dbuf, hash_hexdigits[value & mask]);\n   82    }\n   83    dbuf_putc(&dbuf, '\\0');\n   84  \n   85    return (char*)dbuf.buf;\n   86  }\n   87  \n   88  static BOOL\n   89  hash_finalize(MinnetHash* h) {\n   90    assert(h->initialized);\n   91    assert(!h->finalized);\n   92    if(h->hmac ? lws_genhmac_destroy(&h->lws.hmac, h->digest) : lws_genhash_destroy(&h->lws.hash, h->digest))\n   93      return FALSE;\n   94    h->finalized = TRUE;\n   95    return TRUE;\n   96  }\n   97  \n   98  JSValue\n   99  minnet_hash_constructor(JSContext* ctx, JSValueConst new_target, int argc, JSValueConst argv[]) {\n  100    JSValue proto, obj;\n  101    MinnetHash* h = NULL;\n  102    int32_t type = -1;\n  103    JSBuffer buf = JS_BUFFER_DEFAULT();\n  104  \n  105    /* using new_target to get the prototype is necessary when the class is extended. */\n  106    proto = JS_GetPropertyStr(ctx, new_target, \"prototype\");\n  107    if(JS_IsException(proto))\n  108      proto = JS_DupValue(ctx, minnet_hash_proto);\n  109  \n  110    obj = JS_NewObjectProtoClass(ctx, proto, minnet_hash_class_id);\n  111    JS_FreeValue(ctx, proto);\n  112    if(JS_IsException(obj))\n  113      goto fail;\n  114  \n  115    if(argc >= 1)\n  116      JS_ToInt32(ctx, &type, argv[0]);\n  117  \n  118    if(type < LWS_GENHASH_TYPE_MD5 || type > LWS_GENHASH_TYPE_SHA512) {\n  119      JS_ThrowInternalError(ctx, \"argument 1 must be one of Hash.TYPE_*\");\n  120      goto fail;\n  121    }\n  122  \n  123    if(type >= LWS_GENHASH_TYPE_SHA256 && argc > 1) {\n  124      buf = js_input_args(ctx, argc - 1, argv + 1);\n  125  \n  126      if(buf.data == 0) {\n  127        JS_ThrowInternalError(ctx, \"argument 2 must be String, ArrayBuffer, DataView or TypedArray\");\n  128        goto fail;\n  129      }\n  130    }\n  131  \n  132    if(!(h = hash_alloc(ctx, type, buf.data != NULL))) {\n  133      JS_ThrowOutOfMemory(ctx);\n  134      goto fail;\n  135    }\n  136  \n  137    if(!hash_init(h, buf.data, buf.size)) {\n  138      JS_ThrowInternalError(ctx, \"failed to initialize MinnetHash\");\n  139      goto fail;\n  140    }\n  141  \n  142    JS_SetOpaque(obj, h);\n  143  \n  144    return obj;\n  145  \n  146  fail:\n  147    if(h)\n  148      js_free(ctx, h);\n  149    JS_FreeValue(ctx, obj);\n  150    return JS_EXCEPTION;\n  151  }\n  152  \n  153  static JSValue\n  154  minnet_hash_method(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic) {\n  155    MinnetHash* h;\n  156    JSValue ret = JS_UNDEFINED;\n  157  \n  158    if(!(h = minnet_hash_data2(ctx, this_val)))\n  159      return JS_EXCEPTION;\n  160  \n  161    if(magic <= HASH_FINALIZE)\n  162      if(h->finalized)\n  163        return JS_ThrowInternalError(ctx, \"Hash already finalized\");\n  164  \n  165    if(magic >= HASH_VALUEOF)\n  166      if(!h->finalized)\n  167        return JS_ThrowInternalError(ctx, \"Hash not finalized\");\n  168  \n  169    switch(magic) {\n  170      case HASH_UPDATE: {\n  171        JSBuffer buf = js_input_args(ctx, argc, argv);\n  172  \n  173        if(buf.data == 0) {\n  174          JS_ThrowInternalError(ctx, \"argument 1 must be String, ArrayBuffer, DataView or TypedArray\");\n  175          ret = JS_EXCEPTION;\n  176        } else if(!hash_update(h, buf.data, buf.size)) {\n  177          JS_ThrowInternalError(ctx, \"Hash update failed\");\n  178          ret = JS_EXCEPTION;\n  179        } else {\n  180          ret = JS_NewInt64(ctx, buf.size);\n  181        }\n  182  \n  183        js_buffer_free(&buf, ctx);\n  184        break;\n  185      }\n  186      case HASH_FINALIZE: {\n  187  \n  188        if(!hash_finalize(h))\n  189          return JS_ThrowInternalError(ctx, \"Hash finalize\");\n  190  \n  191        ret = JS_NewArrayBufferCopy(ctx, h->digest, hash_size(h));\n  192        break;\n  193      }\n  194      case HASH_VALUEOF: {\n  195        ret = JS_NewArrayBufferCopy(ctx, h->digest, hash_size(h));\n  196        break;\n  197      }\n  198      case HASH_TOSTRING: {\n  199        uint32_t bits_per_char = 4;\n  200        if(argc >= 1)\n  201          JS_ToUint32(ctx, &bits_per_char, argv[0]);\n  202  \n  203        if(bits_per_char == 4) {\n  204          unsigned i;\n  205          size_t size = hash_size(h);\n  206          char buf[size * 2];\n  207          for(i = 0; i < size; i++) {\n  208            buf[(i << 1)] = hash_hexdigits[h->digest[i] >> 4];\n  209            buf[(i << 1) + 1] = hash_hexdigits[h->digest[i] & 0x0f];\n  210          }\n  211          ret = JS_NewStringLen(ctx, buf, size * 2);\n  212        } else if(bits_per_char > 0 && bits_per_char <= 5) {\n  213          char* str;\n  214  \n  215          if((str = hash_tostring(h, bits_per_char))) {\n  216            ret = JS_NewString(ctx, str);\n  217            free(str);\n  218          }\n  219        }\n  220        break;\n  221      }\n  222    }\n  223  \n  224    return ret;\n  225  }\n  226  \n  227  static JSValue\n  228  minnet_hash_get(JSContext* ctx, JSValueConst this_val, int magic) {\n  229    MinnetHash* h;\n  230    JSValue ret = JS_UNDEFINED;\n  231  \n  232    if(!(h = minnet_hash_data2(ctx, this_val)))\n  233      return JS_EXCEPTION;\n  234  \n  235    switch(magic) {\n  236      case HASH_TYPE: {\n  237        ret = JS_NewInt32(ctx, h->type);\n  238        break;\n  239      }\n  240      case HASH_BYTELENGTH: {\n  241        ret = JS_NewUint32(ctx, hash_size(h));\n  242        break;\n  243      }\n  244      case HASH_BITLENGTH: {\n  245        ret = JS_NewUint32(ctx, hash_size(h) * 8);\n  246        break;\n  247      }\n  248      case HASH_HMAC: {\n  249        ret = JS_NewBool(ctx, h->hmac);\n  250        break;\n  251      }\n  252      case HASH_FINALIZED: {\n  253        ret = JS_NewUint32(ctx, h->finalized);\n  254        break;\n  255      }\n  256    }\n  257    return ret;\n  258  }\n  259  \n  260  static void\n  261  minnet_hash_finalizer(JSRuntime* rt, JSValue val) {\n  262    MinnetHash* h;\n  263  \n  264    if((h = minnet_hash_data(val))) {\n  265      if(!h->finalized)\n  266        hash_finalize(h);\n  267      js_free_rt(rt, h);\n  268    }\n  269  }\n  270  \n  271  JSValue\n  272  minnet_hash_call(JSContext* ctx, JSValueConst func_obj, JSValueConst this_val, int argc, JSValueConst argv[], int flags) {\n  273    /*MinnetHash* h = minnet_hash_data2(ctx, func_obj);*/\n  274    return minnet_hash_method(ctx, func_obj, argc, argv, (argc < 1 || js_is_nullish(argv[0])) ? HASH_FINALIZE : HASH_UPDATE);\n  275  }\n  276  \n  277  static int\n  278  minnet_hash_get_own_property(JSContext* ctx, JSPropertyDescriptor* pdesc, JSValueConst obj, JSAtom prop) {\n  279    MinnetHash* h = minnet_hash_data2(ctx, obj);\n  280    int64_t index;\n  281  \n  282    if(js_atom_is_index(ctx, &index, prop)) {\n  283  \n  284      if(h->finalized && index >= 0 && index < hash_size(h)) {\n  285  \n  286        pdesc->flags = JS_PROP_ENUMERABLE;\n  287        pdesc->value = JS_NewUint32(ctx, h->digest[index]);\n  288        pdesc->getter = JS_UNDEFINED;\n  289        pdesc->setter = JS_UNDEFINED;\n  290        return TRUE;\n  291      }\n  292    } else if(js_atom_is_length(ctx, prop)) {\n  293      pdesc->flags = JS_PROP_ENUMERABLE;\n  294      pdesc->value = JS_NewUint32(ctx, hash_size(h));\n  295      pdesc->getter = JS_UNDEFINED;\n  296      pdesc->setter = JS_UNDEFINED;\n  297      return TRUE;\n  298    }\n  299  \n  300    return FALSE;\n  301  }\n  302  \n  303  static int\n  304  minnet_hash_get_own_property_names(JSContext* ctx, JSPropertyEnum** ptab, uint32_t* plen, JSValueConst obj) {\n  305    MinnetHash* h = minnet_hash_data2(ctx, obj);\n  306    JSPropertyEnum* props;\n  307    size_t i, len = h->finalized ? hash_size(h) : 0;\n  308  \n  309    props = js_malloc(ctx, sizeof(JSPropertyEnum) * (len + 1));\n  310  \n  311    for(i = 0; i < len; i++) {\n  312      props[i].is_enumerable = TRUE;\n  313      props[i].atom = JS_NewAtomUInt32(ctx, i);\n  314    }\n  315  \n  316    props[len].is_enumerable = TRUE;\n  317    props[len].atom = JS_NewAtom(ctx, \"length\");\n  318  \n  319    *ptab = props;\n  320    *plen = len + 1;\n  321    return 0;\n  322  }\n  323  \n  324  static int\n  325  minnet_hash_has_property(JSContext* ctx, JSValueConst obj, JSAtom prop) {\n  326    MinnetHash* h = minnet_hash_data2(ctx, obj);\n  327    int64_t index;\n  328  \n  329    if(js_atom_is_index(ctx, &index, prop)) {\n  330  \n  331      return h->finalized && index >= 0 && index < hash_size(h);\n  332    } else if(js_atom_is_length(ctx, prop)) {\n  333      return TRUE;\n  334    }\n  335  \n  336    return FALSE;\n  337  }\n  338  \n  339  static JSValue\n  340  minnet_hash_get_property(JSContext* ctx, JSValueConst obj, JSAtom prop, JSValueConst receiver) {\n  341    MinnetHash* h = minnet_hash_data2(ctx, obj);\n  342    JSValue value = JS_UNDEFINED;\n  343    int64_t index;\n  344  \n  345    if(js_atom_is_index(ctx, &index, prop)) {\n  346      if(h->finalized && index >= 0 && index < hash_size(h)) {\n  347  \n  348        value = JS_NewUint32(ctx, h->digest[index]);\n  349      }\n  350    } else if(js_atom_is_length(ctx, prop)) {\n  351      value = JS_NewUint32(ctx, h->finalized ? hash_size(h) : 0);\n  352    } else {\n  353      JSValue proto = JS_GetPrototype(ctx, obj);\n  354      if(JS_IsObject(proto) && JS_HasProperty(ctx, proto, prop))\n  355        value = JS_GetProperty(ctx, proto, prop);\n  356    }\n  357  \n  358    return value;\n  359  }\n  360  \n  361  static JSClassExoticMethods minnet_hash_exotic_methods = {\n  362      .get_own_property = minnet_hash_get_own_property,\n  363      .get_own_property_names = minnet_hash_get_own_property_names,\n  364      .has_property = minnet_hash_has_property,\n  365      .get_property = minnet_hash_get_property,\n  366  };\n  367  \n  368  JSClassDef minnet_hash_class = {\n  369      \"MinnetHash\",\n  370      .finalizer = minnet_hash_finalizer,\n  371      .call = &minnet_hash_call,\n  372      .exotic = &minnet_hash_exotic_methods,\n  373  };\n  374  \n  375  const JSCFunctionListEntry minnet_hash_proto_funcs[] = {\n  376      JS_CFUNC_MAGIC_DEF(\"valueOf\", 0, minnet_hash_method, HASH_VALUEOF),\n  377      JS_CFUNC_MAGIC_DEF(\"toString\", 0, minnet_hash_method, HASH_TOSTRING),\n  378      JS_CFUNC_MAGIC_DEF(\"update\", 1, minnet_hash_method, HASH_UPDATE),\n  379      JS_CFUNC_MAGIC_DEF(\"finalize\", 0, minnet_hash_method, HASH_FINALIZE),\n  380      JS_CGETSET_MAGIC_FLAGS_DEF(\"type\", minnet_hash_get, 0, HASH_TYPE, 0),\n  381      JS_CGETSET_MAGIC_FLAGS_DEF(\"byteLength\", minnet_hash_get, 0, HASH_BYTELENGTH, 0),\n  382      JS_CGETSET_MAGIC_FLAGS_DEF(\"bitLength\", minnet_hash_get, 0, HASH_BITLENGTH, 0),\n  383      JS_CGETSET_MAGIC_FLAGS_DEF(\"hmac\", minnet_hash_get, 0, HASH_HMAC, 0),\n  384      JS_CGETSET_MAGIC_FLAGS_DEF(\"finalized\", minnet_hash_get, 0, HASH_FINALIZED, 0),\n  385      JS_PROP_STRING_DEF(\"[Symbol.toStringTag]\", \"MinnetHash\", JS_PROP_CONFIGURABLE),\n  386      JS_PROP_INT32_DEF(\"TYPE_MD5\", LWS_GENHASH_TYPE_MD5, 0),\n  387      JS_PROP_INT32_DEF(\"TYPE_SHA1\", LWS_GENHASH_TYPE_SHA1, 0),\n  388      JS_PROP_INT32_DEF(\"TYPE_SHA256\", LWS_GENHASH_TYPE_SHA256, 0),\n  389      JS_PROP_INT32_DEF(\"TYPE_SHA384\", LWS_GENHASH_TYPE_SHA384, 0),\n  390      JS_PROP_INT32_DEF(\"TYPE_SHA512\", LWS_GENHASH_TYPE_SHA512, 0),\n  391  };\n  392  \n  393  const JSCFunctionListEntry minnet_hash_static_funcs[] = {\n  394      JS_PROP_INT32_DEF(\"TYPE_MD5\", LWS_GENHASH_TYPE_MD5, JS_PROP_ENUMERABLE),\n  395      JS_PROP_INT32_DEF(\"TYPE_SHA1\", LWS_GENHASH_TYPE_SHA1, JS_PROP_ENUMERABLE),\n  396      JS_PROP_INT32_DEF(\"TYPE_SHA256\", LWS_GENHASH_TYPE_SHA256, JS_PROP_ENUMERABLE),\n  397      JS_PROP_INT32_DEF(\"TYPE_SHA384\", LWS_GENHASH_TYPE_SHA384, JS_PROP_ENUMERABLE),\n  398      JS_PROP_INT32_DEF(\"TYPE_SHA512\", LWS_GENHASH_TYPE_SHA512, JS_PROP_ENUMERABLE),\n  399  };\n  400  \n  401  const size_t minnet_hash_proto_funcs_size = countof(minnet_hash_proto_funcs);\n  402  const size_t minnet_hash_static_funcs_size = countof(minnet_hash_static_funcs);\n  403  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/plugins/mirror.c:\n    1  /*\n    2   * libwebsockets-test-server - libwebsockets test implementation\n    3   *\n    4   * Written in 2010-2019 by Andy Green <andy@warmcat.com>\n    5   *\n    6   * This file is made available under the Creative Commons CC0 1.0\n    7   * Universal Public Domain Dedication.\n    8   *\n    9   * The person who associated a work with this deed has dedicated\n   10   * the work to the public domain by waiving all of his or her rights\n   11   * to the work worldwide under copyright law, including all related\n   12   * and neighboring rights, to the extent allowed by law. You can copy,\n   13   * modify, distribute and perform the work, even for commercial purposes,\n   14   * all without asking permission.\n   15   *\n   16   * The test apps are intended to be adapted for use in your code, which\n   17   * may be proprietary.  So unlike the library itself, they are licensed\n   18   * Public Domain.\n   19   *\n   20   * Notice that the lws_pthread... locking apis are all zero-footprint\n   21   * NOPs in the case LWS_MAX_SMP == 1, which is the default.  When lws\n   22   * is built for multiple service threads though, they resolve to their\n   23   * pthreads equivalents.\n   24   */\n   25  \n   26  #if !defined(LWS_PLUGIN_STATIC)\n   27  #if !defined(LWS_DLL)\n   28  #define LWS_DLL\n   29  #endif\n   30  #if !defined(LWS_INTERNAL)\n   31  #define LWS_INTERNAL\n   32  #endif\n   33  #include <libwebsockets.h>\n   34  #endif\n   35  \n   36  #include <string.h>\n   37  #include <stdlib.h>\n   38  \n   39  #define QUEUELEN 32\n   40  /* queue free space below this, rx flow is disabled */\n   41  #define RXFLOW_MIN (4)\n   42  /* queue free space above this, rx flow is enabled */\n   43  #define RXFLOW_MAX ((2 * QUEUELEN) / 3)\n   44  \n   45  #define MAX_MIRROR_INSTANCES 3\n   46  \n   47  struct mirror_instance;\n   48  \n   49  struct per_session_data__lws_mirror {\n   50    struct lws* wsi;\n   51    struct mirror_instance* mi;\n   52    struct per_session_data__lws_mirror* same_mi_pss_list;\n   53    uint32_t tail;\n   54  };\n   55  \n   56  /* this is the element in the ring */\n   57  struct a_message {\n   58    void* payload;\n   59    size_t len;\n   60  };\n   61  \n   62  struct mirror_instance {\n   63    struct mirror_instance* next;\n   64    lws_pthread_mutex(lock) /* protects all mirror instance data */\n   65        struct per_session_data__lws_mirror* same_mi_pss_list;\n   66    /**< must hold the the per_vhost_data__lws_mirror.lock as well\n   67     * to change mi list membership */\n   68    struct lws_ring* ring;\n   69    int messages_allocated;\n   70    char name[30];\n   71    char rx_enabled;\n   72  };\n   73  \n   74  struct per_vhost_data__lws_mirror {\n   75    lws_pthread_mutex(lock) /* protects mi_list membership changes */\n   76        struct mirror_instance* mi_list;\n   77  };\n   78  \n   79  /* enable or disable rx from all connections to this mirror instance */\n   80  static void\n   81  __mirror_rxflow_instance(struct mirror_instance* mi, int enable) {\n   82    lws_start_foreach_ll(struct per_session_data__lws_mirror*, pss, mi->same_mi_pss_list) { lws_rx_flow_control(pss->wsi, enable); }\n   83    lws_end_foreach_ll(pss, same_mi_pss_list);\n   84  \n   85    mi->rx_enabled = (char)enable;\n   86  }\n   87  \n   88  /*\n   89   * Find out which connection to this mirror instance has the longest number\n   90   * of still unread elements in the ringbuffer and update the lws_ring \"oldest\n   91   * tail\" with it.  Elements behind the \"oldest tail\" are freed and recycled for\n   92   * new head content.  Elements after the \"oldest tail\" are still waiting to be\n   93   * read by somebody.\n   94   *\n   95   * If the oldest tail moved on from before, check if it created enough space\n   96   * in the queue to re-enable RX flow control for the mirror instance.\n   97   *\n   98   * Mark connections that are at the oldest tail as being on a 3s timeout to\n   99   * transmit something, otherwise the connection will be closed.  Without this,\n  100   * a choked or nonresponsive connection can block the FIFO from freeing up any\n  101   * new space for new data.\n  102   *\n  103   * You can skip calling this if on your connection, before processing, the tail\n  104   * was not equal to the current worst, ie,  if the tail you will work on is !=\n  105   * lws_ring_get_oldest_tail(ring) then no need to call this when the tail\n  106   * has changed; it wasn't the oldest so it won't change the oldest.\n  107   *\n  108   * Returns 0 if oldest unchanged or 1 if oldest changed from this call.\n  109   */\n  110  static int\n  111  __mirror_update_worst_tail(struct mirror_instance* mi) {\n  112    uint32_t wai, worst = 0, worst_tail = 0, oldest;\n  113    struct per_session_data__lws_mirror* worst_pss = NULL;\n  114  \n  115    oldest = lws_ring_get_oldest_tail(mi->ring);\n  116  \n  117    lws_start_foreach_ll(struct per_session_data__lws_mirror*, pss, mi->same_mi_pss_list) {\n  118      wai = (uint32_t)lws_ring_get_count_waiting_elements(mi->ring, &pss->tail);\n  119      if(wai >= worst) {\n  120        worst = wai;\n  121        worst_tail = pss->tail;\n  122        worst_pss = pss;\n  123      }\n  124    }\n  125    lws_end_foreach_ll(pss, same_mi_pss_list);\n  126  \n  127    if(!worst_pss)\n  128      return 0;\n  129  \n  130    lws_ring_update_oldest_tail(mi->ring, worst_tail);\n  131    if(oldest == lws_ring_get_oldest_tail(mi->ring))\n  132      return 0;\n  133    /*\n  134     * The oldest tail did move on.  Check if we should re-enable rx flow\n  135     * for the mirror instance since we made some space now.\n  136     */\n  137    if(!mi->rx_enabled && /* rx is disabled */\n  138       lws_ring_get_count_free_elements(mi->ring) >= RXFLOW_MAX)\n  139      /* there is enough space, let's re-enable rx for our instance */\n  140      __mirror_rxflow_instance(mi, 1);\n  141  \n  142    /* if nothing in queue, no timeout needed */\n  143    if(!worst)\n  144      return 1;\n  145  \n  146    /*\n  147     * The guy(s) with the oldest tail block the ringbuffer from recycling\n  148     * the FIFO entries he has not read yet.  Don't allow those guys to\n  149     * block the FIFO operation for very long.\n  150     */\n  151    lws_start_foreach_ll(struct per_session_data__lws_mirror*, pss, mi->same_mi_pss_list) {\n  152      if(pss->tail == worst_tail)\n  153        /*\n  154         * Our policy is if you are the slowest connection,\n  155         * you had better transmit something to help with that\n  156         * within 3s, or we will hang up on you to stop you\n  157         * blocking the FIFO for everyone else.\n  158         */\n  159        lws_set_timeout(pss->wsi, PENDING_TIMEOUT_USER_REASON_BASE, 3);\n  160    }\n  161    lws_end_foreach_ll(pss, same_mi_pss_list);\n  162  \n  163    return 1;\n  164  }\n  165  \n  166  static void\n  167  __mirror_callback_all_in_mi_on_writable(struct mirror_instance* mi) {\n  168    /* ask for WRITABLE callback for every wsi on this mi */\n  169    lws_start_foreach_ll(struct per_session_data__lws_mirror*, pss, mi->same_mi_pss_list) { lws_callback_on_writable(pss->wsi); }\n  170    lws_end_foreach_ll(pss, same_mi_pss_list);\n  171  }\n  172  \n  173  static void\n  174  __mirror_destroy_message(void* _msg) {\n  175    struct a_message* msg = _msg;\n  176  \n  177    free(msg->payload);\n  178    msg->payload = NULL;\n  179    msg->len = 0;\n  180  }\n  181  \n  182  static int\n  183  callback_lws_mirror(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  184    struct per_session_data__lws_mirror* pss = (struct per_session_data__lws_mirror*)user;\n  185    struct per_vhost_data__lws_mirror* v = (struct per_vhost_data__lws_mirror*)lws_protocol_vh_priv_get(lws_get_vhost(wsi), lws_get_protocol(wsi));\n  186    char name[300], update_worst, sent_something, *pn = name;\n  187    struct mirror_instance* mi = NULL;\n  188    const struct a_message* msg;\n  189    struct a_message amsg;\n  190    uint32_t oldest_tail;\n  191    int n, count_mi = 0;\n  192  \n  193    switch(reason) {\n  194      case LWS_CALLBACK_ESTABLISHED:\n  195        lwsl_info(\"%s: LWS_CALLBACK_ESTABLISHED\\n\", __func__);\n  196        if(!v) {\n  197          lws_protocol_vh_priv_zalloc(lws_get_vhost(wsi), lws_get_protocol(wsi), sizeof(struct per_vhost_data__lws_mirror));\n  198          v = (struct per_vhost_data__lws_mirror*)lws_protocol_vh_priv_get(lws_get_vhost(wsi), lws_get_protocol(wsi));\n  199          lws_pthread_mutex_init(&v->lock);\n  200        }\n  201  \n  202        /*\n  203         * mirror instance name... defaults to \"\", but if URL includes\n  204         * \"?mirror=xxx\", will be \"xxx\"\n  205         */\n  206  \n  207        if(lws_get_urlarg_by_name_safe(wsi, \"mirror\", name, sizeof(name) - 1) < 0) {\n  208          lwsl_debug(\"get urlarg failed\\n\");\n  209          name[0] = '\\0';\n  210        }\n  211  \n  212        // lwsl_notice(\"%s: mirror name '%s'\\n\", __func__, pn);\n  213  \n  214        /* is there already a mirror instance of this name? */\n  215  \n  216        lws_pthread_mutex_lock(&v->lock); /* vhost lock { */\n  217  \n  218        lws_start_foreach_ll(struct mirror_instance*, mi1, v->mi_list) {\n  219          count_mi++;\n  220          if(!strcmp(pn, mi1->name)) {\n  221            /* yes... we will join it */\n  222            mi = mi1;\n  223            break;\n  224          }\n  225        }\n  226        lws_end_foreach_ll(mi1, next);\n  227  \n  228        if(!mi) {\n  229  \n  230          /* no existing mirror instance for name */\n  231          if(count_mi == MAX_MIRROR_INSTANCES) {\n  232            lws_pthread_mutex_unlock(&v->lock); /* } vh lock */\n  233            return -1;\n  234          }\n  235  \n  236          /* create one with this name, and join it */\n  237          mi = malloc(sizeof(*mi));\n  238          if(!mi)\n  239            goto bail1;\n  240          memset(mi, 0, sizeof(*mi));\n  241          mi->ring = lws_ring_create(sizeof(struct a_message), QUEUELEN, __mirror_destroy_message);\n  242          if(!mi->ring) {\n  243            free(mi);\n  244            goto bail1;\n  245          }\n  246  \n  247          mi->next = v->mi_list;\n  248          v->mi_list = mi;\n  249          lws_snprintf(mi->name, sizeof(mi->name) - 1, \"%s\", pn);\n  250          mi->rx_enabled = 1;\n  251  \n  252          lws_pthread_mutex_init(&mi->lock);\n  253  \n  254          lwsl_notice(\"Created new mi %p '%s'\\n\", mi, pn);\n  255        }\n  256  \n  257        /* add our pss to list of guys bound to this mi */\n  258  \n  259        lws_ll_fwd_insert(pss, same_mi_pss_list, mi->same_mi_pss_list);\n  260  \n  261        /* init the pss */\n  262  \n  263        pss->mi = mi;\n  264        pss->tail = lws_ring_get_oldest_tail(mi->ring);\n  265        pss->wsi = wsi;\n  266  \n  267        lws_pthread_mutex_unlock(&v->lock); /* } vhost lock */\n  268        break;\n  269  \n  270      bail1:\n  271        lws_pthread_mutex_unlock(&v->lock); /* } vhost lock */\n  272        return 1;\n  273  \n  274      case LWS_CALLBACK_CLOSED:\n  275        /* detach our pss from the mirror instance */\n  276        mi = pss->mi;\n  277        if(!mi)\n  278          break;\n  279  \n  280        lws_pthread_mutex_lock(&v->lock); /* vhost lock { */\n  281  \n  282        /* remove our closing pss from its mirror instance list */\n  283        lws_ll_fwd_remove(struct per_session_data__lws_mirror, same_mi_pss_list, pss, mi->same_mi_pss_list);\n  284        pss->mi = NULL;\n  285  \n  286        if(mi->same_mi_pss_list) {\n  287          /*\n  288           * Still other pss using the mirror instance.  The pss\n  289           * going away may have had the oldest tail, reconfirm\n  290           * using the remaining pss what is the current oldest\n  291           * tail.  If the oldest tail moves on, this call also\n  292           * will re-enable rx flow control when appropriate.\n  293           */\n  294          lws_pthread_mutex_lock(&mi->lock); /* mi lock { */\n  295          __mirror_update_worst_tail(mi);\n  296          lws_pthread_mutex_unlock(&mi->lock); /* } mi lock */\n  297          lws_pthread_mutex_unlock(&v->lock);  /* } vhost lock */\n  298          break;\n  299        }\n  300  \n  301        /* No more pss using the mirror instance... delete mi */\n  302  \n  303        lws_start_foreach_llp(struct mirror_instance**, pmi, v->mi_list) {\n  304          if(*pmi == mi) {\n  305            *pmi = (*pmi)->next;\n  306  \n  307            lws_ring_destroy(mi->ring);\n  308            lws_pthread_mutex_destroy(&mi->lock);\n  309  \n  310            free(mi);\n  311            break;\n  312          }\n  313        }\n  314        lws_end_foreach_llp(pmi, next);\n  315  \n  316        lws_pthread_mutex_unlock(&v->lock); /* } vhost lock */\n  317        break;\n  318  \n  319      case LWS_CALLBACK_CONFIRM_EXTENSION_OKAY: return 1; /* disallow compression */\n  320  \n  321      case LWS_CALLBACK_PROTOCOL_INIT: /* per vhost */\n  322        if(!v) {\n  323          lws_protocol_vh_priv_zalloc(lws_get_vhost(wsi), lws_get_protocol(wsi), sizeof(struct per_vhost_data__lws_mirror));\n  324          v = (struct per_vhost_data__lws_mirror*)lws_protocol_vh_priv_get(lws_get_vhost(wsi), lws_get_protocol(wsi));\n  325          if(!v)\n  326            return 0;\n  327          lws_pthread_mutex_init(&v->lock);\n  328        }\n  329        break;\n  330  \n  331      case LWS_CALLBACK_PROTOCOL_DESTROY: lws_pthread_mutex_destroy(&v->lock); break;\n  332  \n  333      case LWS_CALLBACK_SERVER_WRITEABLE:\n  334        lws_pthread_mutex_lock(&pss->mi->lock); /* instance lock { */\n  335        oldest_tail = lws_ring_get_oldest_tail(pss->mi->ring);\n  336        update_worst = oldest_tail == pss->tail;\n  337        sent_something = 0;\n  338  \n  339        do {\n  340          msg = lws_ring_get_element(pss->mi->ring, &pss->tail);\n  341          if(!msg)\n  342            break;\n  343  \n  344          if(!msg->payload) {\n  345            lwsl_err(\"%s: NULL payload: worst = %d,\"\n  346                     \" pss->tail = %d\\n\",\n  347                     __func__,\n  348                     oldest_tail,\n  349                     pss->tail);\n  350            if(lws_ring_consume(pss->mi->ring, &pss->tail, NULL, 1))\n  351              continue;\n  352            break;\n  353          }\n  354  \n  355          n = lws_write(wsi, (unsigned char*)msg->payload + LWS_PRE, msg->len, LWS_WRITE_TEXT);\n  356          if(n < 0) {\n  357            lwsl_info(\"%s: WRITEABLE: %d\\n\", __func__, n);\n  358  \n  359            goto bail2;\n  360          }\n  361          sent_something = 1;\n  362          lws_ring_consume(pss->mi->ring, &pss->tail, NULL, 1);\n  363  \n  364        } while(!lws_send_pipe_choked(wsi));\n  365  \n  366        /* if any left for us to send, ask for writeable again */\n  367        if(lws_ring_get_count_waiting_elements(pss->mi->ring, &pss->tail))\n  368          lws_callback_on_writable(wsi);\n  369  \n  370        if(!sent_something || !update_worst)\n  371          goto done1;\n  372  \n  373        /*\n  374         * We are no longer holding the oldest tail (since we sent\n  375         * something.  So free us of the timeout related to hogging the\n  376         * oldest tail.\n  377         */\n  378        lws_set_timeout(pss->wsi, NO_PENDING_TIMEOUT, 0);\n  379        /*\n  380         * If we were originally at the oldest fifo position of\n  381         * all the tails, now we used some up we may have\n  382         * changed the oldest fifo position and made some space.\n  383         */\n  384        __mirror_update_worst_tail(pss->mi);\n  385  \n  386      done1:\n  387        lws_pthread_mutex_unlock(&pss->mi->lock); /* } instance lock */\n  388        break;\n  389  \n  390      bail2:\n  391        lws_pthread_mutex_unlock(&pss->mi->lock); /* } instance lock */\n  392  \n  393        return -1;\n  394  \n  395      case LWS_CALLBACK_RECEIVE:\n  396        lws_pthread_mutex_lock(&pss->mi->lock); /* mi lock { */\n  397        n = (int)lws_ring_get_count_free_elements(pss->mi->ring);\n  398        if(!n) {\n  399          lwsl_notice(\"dropping!\\n\");\n  400          if(pss->mi->rx_enabled)\n  401            __mirror_rxflow_instance(pss->mi, 0);\n  402          goto req_writable;\n  403        }\n  404  \n  405        amsg.payload = malloc(LWS_PRE + len);\n  406        amsg.len = len;\n  407        if(!amsg.payload) {\n  408          lwsl_notice(\"OOM: dropping\\n\");\n  409          goto done2;\n  410        }\n  411  \n  412        memcpy((char*)amsg.payload + LWS_PRE, in, len);\n  413        if(!lws_ring_insert(pss->mi->ring, &amsg, 1)) {\n  414          __mirror_destroy_message(&amsg);\n  415          lwsl_notice(\"dropping!\\n\");\n  416          if(pss->mi->rx_enabled)\n  417            __mirror_rxflow_instance(pss->mi, 0);\n  418          goto req_writable;\n  419        }\n  420  \n  421        if(pss->mi->rx_enabled && lws_ring_get_count_free_elements(pss->mi->ring) < RXFLOW_MIN)\n  422          __mirror_rxflow_instance(pss->mi, 0);\n  423  \n  424      req_writable:\n  425        __mirror_callback_all_in_mi_on_writable(pss->mi);\n  426  \n  427      done2:\n  428        lws_pthread_mutex_unlock(&pss->mi->lock); /* } mi lock */\n  429        break;\n  430  \n  431      case LWS_CALLBACK_EVENT_WAIT_CANCELLED: lwsl_info(\"LWS_CALLBACK_EVENT_WAIT_CANCELLED\\n\"); break;\n  432  \n  433      default: break;\n  434    }\n  435  \n  436    return 0;\n  437  }\n  438  \n  439  #define LWS_PLUGIN_PROTOCOL_MIRROR \\\n  440    { \\\n  441      \"lws-mirror-protocol\", callback_lws_mirror, sizeof(struct per_session_data__lws_mirror), 4096, /* rx buf size must be >= permessage-deflate rx size */ \\\n  442          0, NULL, 0 \\\n  443    }\n  444  \n  445  #if !defined(LWS_PLUGIN_STATIC)\n  446  \n  447  LWS_VISIBLE const struct lws_protocols lws_mirror_protocols[] = {LWS_PLUGIN_PROTOCOL_MIRROR};\n  448  \n  449  LWS_VISIBLE const lws_plugin_protocol_t lws_mirror = {\n  450      .hdr = {\"lws mirror\", \"lws_protocol_plugin\", LWS_BUILD_HASH, LWS_PLUGIN_API_MAGIC},\n  451  \n  452      .protocols = lws_mirror_protocols,\n  453      .count_protocols = LWS_ARRAY_SIZE(lws_mirror_protocols),\n  454      .extensions = NULL,\n  455      .count_extensions = 0,\n  456  };\n  457  \n  458  #endif\n  459  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.h:\n    1  #ifndef QJSNET_LIB_RINGBUFFER_H\n    2  #define QJSNET_LIB_RINGBUFFER_H\n    3  \n    4  #include <quickjs.h>\n    5  #include \"buffer.h\"\n    6  #include <libwebsockets.h>\n    7  #include <pthread.h>\n    8  \n    9  struct ringbuffer {\n   10    int ref_count;\n   11    size_t size, element_len;\n   12    char type[256];\n   13    struct lws_ring* ring;\n   14    pthread_mutex_t lock_ring; /* serialize access to the ring buffer */\n   15  };\n   16  \n   17  void ringbuffer_dump(struct ringbuffer const*);\n   18  void ringbuffer_destroy_element(void*);\n   19  void ringbuffer_init(struct ringbuffer*, size_t element_len, size_t count, const char* type, size_t typelen);\n   20  struct ringbuffer* ringbuffer_new(JSContext*);\n   21  void ringbuffer_init2(struct ringbuffer*, size_t element_len, size_t count);\n   22  size_t ringbuffer_insert(struct ringbuffer*, const void* ptr, size_t n);\n   23  size_t ringbuffer_consume(struct ringbuffer*, void* ptr, size_t n);\n   24  size_t ringbuffer_skip(struct ringbuffer*, size_t n);\n   25  const void* ringbuffer_next(struct ringbuffer*);\n   26  size_t ringbuffer_bytelength(struct ringbuffer*);\n   27  size_t ringbuffer_waiting(struct ringbuffer*);\n   28  size_t ringbuffer_avail(struct ringbuffer*);\n   29  void ringbuffer_zero(struct ringbuffer*);\n   30  void ringbuffer_free(struct ringbuffer*, JSContext* ctx);\n   31  void ringbuffer_free_rt(struct ringbuffer*, JSRuntime* rt);\n   32  \n   33  static inline int\n   34  ringbuffer_lock(struct ringbuffer* strm) {\n   35    return pthread_mutex_lock(&strm->lock_ring);\n   36  }\n   37  \n   38  static inline struct ringbuffer*\n   39  ringbuffer_dup(struct ringbuffer* rb) {\n   40    ++rb->ref_count;\n   41    return rb;\n   42  }\n   43  \n   44  static inline int\n   45  ringbuffer_unlock(struct ringbuffer* strm) {\n   46    return pthread_mutex_unlock(&strm->lock_ring);\n   47  }\n   48  \n   49  static inline size_t\n   50  ringbuffer_element_len(struct ringbuffer* rb) {\n   51    return rb->element_len;\n   52  }\n   53  \n   54  #endif /* QJSNET_LIB_RINGBUFFER_H */\n   55  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/session.c:\n    1  #include \"session.h\"\n    2  #include \"request.h\"\n    3  #include \"response.h\"\n    4  #include \"opaque.h\"\n    5  #include \"ringbuffer.h\"\n    6  #include \"jsutils.h\"\n    7  #include \"ws.h\"\n    8  #include \"context.h\"\n    9  #include \"lws-utils.h\"\n   10  #include <assert.h>\n   11  \n   12  struct socket* minnet_ws_data(JSValueConst);\n   13  Request* minnet_request_data(JSValueConst);\n   14  Response* minnet_response_data(JSValueConst);\n   15  \n   16  extern Response* minnet_response_data(JSValueConst);\n   17  \n   18  void\n   19  session_zero(struct session_data* session) {\n   20    session->ws_obj = JS_NULL;\n   21    session->req_obj = JS_NULL;\n   22    session->resp_obj = JS_NULL;\n   23    session->mount = 0;\n   24    session->proxy = 0;\n   25    session->generator = JS_NULL;\n   26    session->next = JS_NULL;\n   27    session->in_body = FALSE;\n   28    session->response_sent = FALSE;\n   29    session->wait_resolve = FALSE;\n   30    session->server = NULL;\n   31    session->client = NULL;\n   32  \n   33    queue_zero(&session->sendq);\n   34  }\n   35  \n   36  void\n   37  session_clear_rt(struct session_data* session, JSRuntime* rt) {\n   38  \n   39    JS_FreeValueRT(rt, session->ws_obj);\n   40    session->ws_obj = JS_UNDEFINED;\n   41  \n   42    JS_FreeValueRT(rt, session->req_obj);\n   43    session->req_obj = JS_UNDEFINED;\n   44    JS_FreeValueRT(rt, session->resp_obj);\n   45    session->resp_obj = JS_UNDEFINED;\n   46    JS_FreeValueRT(rt, session->generator);\n   47    session->generator = JS_UNDEFINED;\n   48    JS_FreeValueRT(rt, session->next);\n   49    session->next = JS_UNDEFINED;\n   50  \n   51    if(queue_size(&session->sendq))\n   52      queue_clear_rt(&session->sendq, rt);\n   53  }\n   54  \n   55  JSValue\n   56  session_object(struct session_data* session, JSContext* ctx) {\n   57    JSValue ret;\n   58    ret = JS_NewArray(ctx);\n   59  \n   60    JS_SetPropertyUint32(ctx, ret, 1, JS_DupValue(ctx, session->ws_obj));\n   61    JS_SetPropertyUint32(ctx, ret, 2, JS_DupValue(ctx, session->req_obj));\n   62    JS_SetPropertyUint32(ctx, ret, 3, JS_DupValue(ctx, session->resp_obj));\n   63  \n   64    return ret;\n   65  }\n   66  \n   67  int\n   68  session_writable(struct session_data* session, BOOL binary, JSContext* ctx) {\n   69  \n   70    int ret = 0;\n   71    size_t size;\n   72    struct socket* ws = minnet_ws_data(session->ws_obj);\n   73  \n   74    if((size = queue_size(&session->sendq)) > 0) {\n   75      ByteBlock chunk;\n   76      BOOL done = FALSE;\n   77  \n   78      chunk = queue_next(&session->sendq, &done);\n   79  \n   80      ret = lws_write(ws->lwsi, block_BEGIN(&chunk), block_SIZE(&chunk), binary ? LWS_WRITE_BINARY : LWS_WRITE_TEXT);\n   81  \n   82      block_free(&chunk);\n   83    }\n   84  \n   85    if(queue_size(&session->sendq) > 0)\n   86      lws_callback_on_writable(ws->lwsi);\n   87  \n   88    return ret;\n   89  }\n   90  \n   91  int\n   92  session_callback(struct session_data* session, JSCallback* cb, struct context* context) {\n   93    int ret = 0;\n   94    JSValue result = callback_emit_this(cb, session->ws_obj, 2, &session->req_obj);\n   95    context_exception(context, result);\n   96  \n   97    if(JS_IsException(result)) {\n   98      JS_FreeValue(cb->ctx, result);\n   99      ret = -1;\n  100    } else if(js_is_iterator(cb->ctx, result)) {\n  101      assert(js_is_iterator(cb->ctx, result));\n  102      session->generator = result;\n  103      session->next = JS_UNDEFINED;\n  104    } else {\n  105      JS_FreeValue(cb->ctx, result);\n  106    }\n  107  \n  108    return ret;\n  109  }\n  110  \n  111  struct wsi_opaque_user_data*\n  112  session_opaque(struct session_data* sess) {\n  113    struct socket* ws;\n  114  \n  115    if((ws = session_ws(sess))) {\n  116      assert(ws->lwsi);\n  117      return lws_get_opaque_user_data(ws->lwsi);\n  118    }\n  119  \n  120    return 0;\n  121  }\n  122  \n  123  Response*\n  124  session_response(struct session_data* sess) {\n  125    if(JS_IsObject(sess->resp_obj))\n  126      return minnet_response_data(sess->resp_obj);\n  127    return 0;\n  128  }\n  129  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/headers.h:\n    1  #ifndef QJSNET_LIB_HEADERS_H\n    2  #define QJSNET_LIB_HEADERS_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <libwebsockets.h>\n    6  #include \"buffer.h\"\n    7  #include \"utils.h\"\n    8  \n    9  JSValue headers_object(JSContext*, const void* start, const void* e);\n   10  size_t headers_write(uint8_t**, uint8_t* end, ByteBuffer* buffer, struct lws* wsi);\n   11  int headers_fromobj(ByteBuffer*, JSValueConst obj, JSContext* ctx);\n   12  ssize_t headers_findb(ByteBuffer*, const char* name, size_t namelen);\n   13  char* headers_at(ByteBuffer*, size_t* lenptr, size_t index);\n   14  char* headers_getlen(ByteBuffer*, size_t* lenptr, const char* name);\n   15  char* headers_get(ByteBuffer*, const char* name, JSContext* ctx);\n   16  ssize_t headers_find(ByteBuffer*, const char* name);\n   17  int headers_tobuffer(JSContext*, ByteBuffer* headers, struct lws* wsi);\n   18  char* headers_gettoken(JSContext*, struct lws* wsi, enum lws_token_indexes tok);\n   19  ssize_t headers_unsetb(ByteBuffer*, const char* name, size_t namelen);\n   20  ssize_t headers_set(ByteBuffer*, const char* name, const char* value);\n   21  ssize_t headers_appendb(ByteBuffer*, const char* name, size_t namelen, const char* value, size_t valuelen);\n   22  \n   23  static inline size_t\n   24  headers_length(const void* start, const void* end) {\n   25    return byte_chrs(start, (uint8_t*)end - (uint8_t*)start, \"\\r\\n\", 2);\n   26  }\n   27  \n   28  static inline size_t\n   29  headers_next(const void* start, const void* end) {\n   30    return scan_nextline(start, (const uint8_t*)end - (const uint8_t*)start);\n   31  }\n   32  \n   33  static inline size_t\n   34  headers_namelen(const void* start, const void* end) {\n   35    return byte_chr(start, (uint8_t*)end - (uint8_t*)start, ':');\n   36  }\n   37  \n   38  static inline size_t\n   39  headers_value(const void* start, const void* end) {\n   40    size_t pos = headers_namelen(start, end), len = (uint8_t*)end - (uint8_t*)start;\n   41  \n   42    if(pos < len && ((uint8_t*)start)[pos] == ':') {\n   43      ++pos;\n   44      while(pos < len && ((uint8_t*)start)[pos] == ' ') ++pos;\n   45    }\n   46    return pos;\n   47  }\n   48  \n   49  static inline char*\n   50  headers_name(const void* start, const void* end, JSContext* ctx) {\n   51    return js_strndup(ctx, start, headers_namelen(start, end));\n   52  }\n   53  \n   54  #endif /* QJSNET_LIB_HEADERS_H */\n   55  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/session.h:\n    1  #ifndef QJSNET_LIB_SESSION_H\n    2  #define QJSNET_LIB_SESSION_H\n    3  \n    4  #include \"callback.h\"\n    5  #include \"queue.h\"\n    6  \n    7  struct http_mount;\n    8  struct proxy_connection;\n    9  struct context;\n   10  struct server_context;\n   11  struct client_context;\n   12  struct wsi_opaque_user_data;\n   13  \n   14  struct session_data {\n   15    JSValue ws_obj;\n   16    union {\n   17      struct {\n   18        JSValue req_obj;\n   19        JSValue resp_obj;\n   20      };\n   21      JSValue args[2];\n   22    };\n   23    struct http_mount* mount;\n   24    struct proxy_connection* proxy;\n   25    JSValue generator, next;\n   26    BOOL in_body, response_sent;\n   27    uint32_t wait_resolve, generator_run, callback_count;\n   28    struct server_context* server;\n   29    struct client_context* client;\n   30    Queue sendq;\n   31  };\n   32  \n   33  // extern THREAD_LOCAL struct list_head session_list;\n   34  \n   35  void session_zero(struct session_data*);\n   36  void session_clear(struct session_data*, JSContext* ctx);\n   37  void session_clear_rt(struct session_data*, JSRuntime* rt);\n   38  JSValue session_object(struct session_data* session, JSContext* ctx);\n   39  int session_writable(struct session_data*, BOOL binary, JSContext* ctx);\n   40  int session_callback(struct session_data* session, JSCallback* cb, struct context*);\n   41  \n   42  #define session_ws(sess) minnet_ws_data((sess)->ws_obj)\n   43  #define session_wsi(sess) session_ws(sess)->lwsi\n   44  \n   45  struct wsi_opaque_user_data* session_opaque(struct session_data*);\n   46  struct http_response* session_response(struct session_data*);\n   47  \n   48  #endif /* QJSNET_LIB_SESSION_H */\n   49  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/response.c:\n    1  #include \"session.h\"\n    2  #include \"response.h\"\n    3  #include \"buffer.h\"\n    4  #include \"jsutils.h\"\n    5  #include \"headers.h\"\n    6  #include <assert.h>\n    7  \n    8  Response* minnet_response_data(JSValueConst);\n    9  \n   10  void\n   11  response_init(Response* resp, URL url, int32_t status, char* status_text, BOOL headers_sent, char* type) {\n   12    // memset(resp, 0, sizeof(Response));\n   13  \n   14    resp->status = status;\n   15    resp->status_text = status_text;\n   16    resp->headers_sent = headers_sent;\n   17    resp->url = url;\n   18    resp->type = type;\n   19    resp->headers = BUFFER_0();\n   20    resp->generator = NULL;\n   21  }\n   22  \n   23  Response*\n   24  response_dup(Response* resp) {\n   25    ++resp->ref_count;\n   26    return resp;\n   27  }\n   28  \n   29  void\n   30  response_clear(Response* resp, JSRuntime* rt) {\n   31    url_free_rt(&resp->url, rt);\n   32    if(resp->type) {\n   33      js_free_rt(rt, (void*)resp->type);\n   34      resp->type = 0;\n   35    }\n   36  \n   37    buffer_free(&resp->headers);\n   38    generator_destroy(&resp->generator);\n   39  }\n   40  \n   41  void\n   42  response_free(Response* resp, JSRuntime* rt) {\n   43    if(--resp->ref_count == 0) {\n   44      response_clear(resp, rt);\n   45      js_free_rt(rt, resp);\n   46    }\n   47  }\n   48  \n   49  Response*\n   50  response_new(JSContext* ctx) {\n   51    Response* resp;\n   52  \n   53    if(!(resp = js_mallocz(ctx, sizeof(Response))))\n   54      JS_ThrowOutOfMemory(ctx);\n   55  \n   56    resp->ref_count = 1;\n   57  \n   58    return resp;\n   59  }\n   60  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/headers.c:\n    1  #include \"utils.h\"\n    2  #include \"headers.h\"\n    3  #include <libwebsockets.h>\n    4  #include <strings.h>\n    5  \n    6  JSValue\n    7  headers_object(JSContext* ctx, const void* start, const void* e) {\n    8    JSValue ret = JS_NewObject(ctx);\n    9    size_t len, namelen, n;\n   10    const uint8_t *x, *end;\n   11  \n   12    for(x = start, end = e; x < end; x += len + 1) {\n   13      len = byte_chrs(x, end - x, \"\\r\\n\", 2);\n   14      if(len > (n = byte_chr(x, len, ':'))) {\n   15        const char* prop = (namelen = n) ? js_strndup(ctx, (const char*)x, namelen) : 0;\n   16        if(x[n] == ':')\n   17          n++;\n   18        if(isspace(x[n]))\n   19          n++;\n   20        if(prop) {\n   21          JS_DefinePropertyValueStr(ctx, ret, prop, JS_NewStringLen(ctx, (const char*)&x[n], len - n), JS_PROP_ENUMERABLE);\n   22          js_free(ctx, (void*)prop);\n   23        }\n   24      }\n   25    }\n   26    return ret;\n   27  }\n   28  \n   29  size_t\n   30  headers_write(uint8_t** in, uint8_t* end, ByteBuffer* buffer, struct lws* wsi) {\n   31    int ret;\n   32    uint8_t *p = buffer->read, *q = buffer->write, *start = *in;\n   33  \n   34    while(p < q) {\n   35      size_t next = scan_nextline(p, q - p);\n   36      size_t m, namelen = byte_chr(p, next, ':');\n   37      uint8_t* name = p;\n   38  \n   39      m = namelen + 1;\n   40      while(p[m] && p[m] == ' ') ++m;\n   41      p += m;\n   42      next -= m;\n   43  \n   44      uint8_t tmp = name[namelen + 1];\n   45      name[namelen + 1] = '\\0';\n   46      ret = lws_add_http_header_by_name(wsi, name, p, scan_eol(p, next), in, end);\n   47      name[namelen + 1] = tmp;\n   48      // printf(\"name=%.*s value='%.*s'\\namelen\", (int)namelen, name, (int)linelen, p);\n   49      p += next;\n   50  \n   51      if(ret)\n   52        break;\n   53    }\n   54  \n   55    return *in - start;\n   56  }\n   57  \n   58  int\n   59  headers_fromobj(ByteBuffer* buffer, JSValueConst obj, JSContext* ctx) {\n   60    JSPropertyEnum* tab;\n   61    uint32_t tab_len, i;\n   62  \n   63    if(JS_GetOwnPropertyNames(ctx, &tab, &tab_len, obj, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK))\n   64      return 0;\n   65  \n   66    for(i = 0; i < tab_len; i++) {\n   67      JSValue jsval = JS_GetProperty(ctx, obj, tab[i].atom);\n   68      size_t value_len, prop_len;\n   69      const char *value, *prop;\n   70  \n   71      value = JS_ToCStringLen(ctx, &value_len, jsval);\n   72      JS_FreeValue(ctx, jsval);\n   73  \n   74      prop = JS_AtomToCString(ctx, tab[i].atom);\n   75      prop_len = strlen(prop);\n   76  \n   77      buffer_grow(buffer, prop_len + 2 + value_len + 2);\n   78  \n   79      buffer_write(buffer, prop, prop_len);\n   80      buffer_write(buffer, \": \", 2);\n   81      buffer_write(buffer, value, value_len);\n   82      buffer_write(buffer, \"\\r\\n\", 2);\n   83  \n   84      JS_FreeCString(ctx, prop);\n   85      JS_FreeCString(ctx, value);\n   86    }\n   87  \n   88    js_free(ctx, tab);\n   89    return i;\n   90  }\n   91  \n   92  ssize_t\n   93  headers_findb(ByteBuffer* b, const char* name, size_t namelen) {\n   94    uint8_t* x;\n   95    ssize_t ret = 0;\n   96  \n   97    for(x = b->start; x < b->write;) {\n   98      size_t c = byte_chrs(x, b->write - x, \"\\r\\n\", 2);\n   99  \n  100      // printf(\"%s %.*s\\n\", __func__, (int)c, (char*)x);\n  101  \n  102      if(!strncasecmp((const char*)x, name, namelen) && x[namelen] == ':')\n  103        return ret;\n  104  \n  105      while(isspace(x[c]) && x + c < b->write) ++c;\n  106      x += c;\n  107      ++ret;\n  108    }\n  109  \n  110    return -1;\n  111  }\n  112  \n  113  char*\n  114  headers_at(ByteBuffer* b, size_t* lenptr, size_t index) {\n  115    uint8_t* x;\n  116    size_t i = 0;\n  117    for(x = b->start; x < b->write;) {\n  118      size_t c = byte_chrs(x, b->write - x, \"\\r\\n\", 2);\n  119      if(i == index) {\n  120        if(lenptr)\n  121          *lenptr = c;\n  122        return (char*)x;\n  123      }\n  124      while(isspace(x[c]) && x + c < b->write) ++c;\n  125      x += c;\n  126      ++i;\n  127    }\n  128    return 0;\n  129  }\n  130  \n  131  char*\n  132  headers_getlen(ByteBuffer* b, size_t* lenptr, const char* name) {\n  133    ssize_t i;\n  134  \n  135    if((i = headers_find(b, name)) != -1) {\n  136      size_t l, n;\n  137      char* x = headers_at(b, &l, i);\n  138      n = scan_nonwhitenskip(x, l);\n  139      x += n;\n  140      l -= n;\n  141      n = scan_whitenskip(x, l);\n  142      x += n;\n  143      l -= n;\n  144      if(lenptr)\n  145        *lenptr = l;\n  146      return x;\n  147    }\n  148  \n  149    return 0;\n  150  }\n  151  \n  152  char*\n  153  headers_get(ByteBuffer* buffer, const char* name, JSContext* ctx) {\n  154    size_t len;\n  155    char* str;\n  156  \n  157    if((str = headers_getlen(buffer, &len, name)))\n  158      return js_strndup(ctx, str, len);\n  159    return 0;\n  160  }\n  161  \n  162  ssize_t\n  163  headers_find(ByteBuffer* buffer, const char* name) {\n  164    return headers_findb(buffer, name, strlen(name));\n  165  }\n  166  \n  167  int\n  168  headers_tobuffer(JSContext* ctx, ByteBuffer* headers, struct lws* wsi) {\n  169    int tok, len, count = 0;\n  170  \n  171    if(!headers->start)\n  172      buffer_alloc(headers, 1024);\n  173  \n  174    for(tok = WSI_TOKEN_HOST; tok < WSI_TOKEN_COUNT; tok++) {\n  175      if(tok == WSI_TOKEN_HTTP || tok == WSI_TOKEN_HTTP_URI_ARGS)\n  176        continue;\n  177  \n  178      if((len = lws_hdr_total_length(wsi, tok)) > 0) {\n  179        char hdr[len + 1];\n  180        const char* name;\n  181  \n  182        if((name = (const char*)lws_token_to_string(tok))) {\n  183          int namelen = 1 + byte_chr(name + 1, strlen(name + 1), ':');\n  184          lws_hdr_copy(wsi, hdr, len + 1, tok);\n  185          hdr[len] = '\\0';\n  186  \n  187          // printf(\"headers %i %.*s '%s'\\n\", tok, namelen, name, hdr);\n  188  \n  189          if(!headers->alloc)\n  190            buffer_alloc(headers, 1024);\n  191  \n  192          while(!buffer_printf(headers, \"%.*s: %s\\n\", namelen, name, hdr)) { buffer_grow(headers, 1024); }\n  193          ++count;\n  194        }\n  195      }\n  196    }\n  197    return count;\n  198  }\n  199  \n  200  ssize_t\n  201  headers_unsetb(ByteBuffer* b, const char* name, size_t namelen) {\n  202    ssize_t i;\n  203  \n  204    if((i = headers_findb(b, name, namelen)) >= 0) {\n  205      uint8_t* x = b->start + i;\n  206      size_t c = byte_chrs(x, b->write - x, \"\\r\\n\", 2);\n  207  \n  208      while(isspace(b->start[c]) && b->start + c < b->write) ++c;\n  209  \n  210      memcpy(x, x + c, b->write - (b->start + c));\n  211      b->write -= c;\n  212  \n  213      if(b->write < b->end)\n  214        memset(b->write, 0, b->end - b->write);\n  215    }\n  216    return i;\n  217  }\n  218  \n  219  ssize_t\n  220  headers_set(ByteBuffer* b, const char* name, const char* value) {\n  221    size_t namelen = strlen(name), valuelen = strlen(value);\n  222    size_t c = namelen + 2 + valuelen + 2;\n  223  \n  224    headers_unsetb(b, name, namelen);\n  225  \n  226    buffer_grow(b, c);\n  227    buffer_write(b, name, namelen);\n  228    buffer_write(b, \": \", 2);\n  229    buffer_write(b, value, valuelen);\n  230    buffer_write(b, \"\\r\\n\", 2);\n  231  \n  232    return c;\n  233  }\n  234  \n  235  ssize_t\n  236  headers_appendb(ByteBuffer* b, const char* name, size_t namelen, const char* value, size_t valuelen) {\n  237    ssize_t i;\n  238  \n  239    if((i = headers_findb(b, name, namelen)) >= 0) {\n  240      uint8_t *x = b->start + i, *y;\n  241      size_t c = byte_chrs(x, b->write - x, \"\\r\\n\", 2);\n  242  \n  243      //    while(isspace(b->start[c]) && b->start + c < b->write) ++c;\n  244      y = x + c;\n  245  \n  246      if((b->write - y) > 0 && valuelen > 0) {\n  247        memmove(y + valuelen, y, b->write - y);\n  248      }\n  249      if(valuelen > 0)\n  250        memcpy(y, value, valuelen);\n  251  \n  252      b->write += valuelen;\n  253  \n  254      if(b->write < b->end)\n  255        memset(b->write, 0, b->end - b->write);\n  256    }\n  257  \n  258    return i;\n  259  }\n  260  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/closure.c:\n    1  #include \"closure.h\"\n    2  #include \"context.h\"\n    3  \n    4  union closure*\n    5  closure_new(JSContext* ctx) {\n    6    union closure* closure;\n    7  \n    8    if((closure = js_mallocz(ctx, sizeof(union closure)))) {\n    9      closure->ref_count = 1;\n   10      closure->ctx = ctx;\n   11    }\n   12  \n   13    return closure;\n   14  }\n   15  \n   16  union closure*\n   17  closure_dup(union closure* c) {\n   18    ++c->ref_count;\n   19    return c;\n   20  }\n   21  \n   22  void\n   23  closure_free(void* ptr) {\n   24    union closure* closure = ptr;\n   25  \n   26    if(--closure->ref_count == 0) {\n   27      JSContext* ctx = closure->ctx;\n   28      // printf(\"%s() pointer=%p\\n\", __func__, closure->pointer);\n   29  \n   30      if(closure->free_func) {\n   31        closure->free_func(closure->pointer, JS_GetRuntime(ctx));\n   32        closure->pointer = NULL;\n   33      }\n   34  \n   35      js_free(ctx, closure);\n   36    }\n   37  }\n   38  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/url.c:\n    1  #include \"url.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"lws-utils.h\"\n    4  #include \"utils.h\"\n    5  #include \"query.h\"\n    6  #include <assert.h>\n    7  #include <limits.h>\n    8  #include <ctype.h>\n    9  #include <strings.h>\n   10  \n   11  URL* minnet_url_data(JSValueConst);\n   12  \n   13  #ifndef HAVE_STRLCPY\n   14  size_t\n   15  strlcpy(char* dst, const char* src, size_t siz) {\n   16    register char* d = dst;\n   17    register const char* s = src;\n   18    register size_t n = siz;\n   19  \n   20    if(n != 0 && --n != 0) {\n   21      do {\n   22        if((*d++ = *s++) == 0)\n   23          break;\n   24      } while(--n != 0);\n   25    }\n   26  \n   27    if(n == 0) {\n   28      if(siz != 0)\n   29        *d = '\\0';\n   30      while(*s++)\n   31        ;\n   32    }\n   33  \n   34    return (s - src - 1);\n   35  }\n   36  \n   37  #endif\n   38  \n   39  static char const* const protocol_names[] = {\n   40      \"ws\",\n   41      \"wss\",\n   42      \"http\",\n   43      \"https\",\n   44      \"raw\",\n   45      \"tls\",\n   46  };\n   47  \n   48  enum protocol\n   49  protocol_number(const char* protocol) {\n   50    int i;\n   51  \n   52    for(i = countof(protocol_names) - 1; i >= 0; --i)\n   53      if(!strcasecmp(protocol, protocol_names[i]))\n   54        return i;\n   55  \n   56    return PROTOCOL_RAW;\n   57  }\n   58  \n   59  const char*\n   60  protocol_string(enum protocol p) {\n   61    int i = (unsigned int)p;\n   62    assert(i >= 0);\n   63    assert(i < countof(protocol_names));\n   64    return protocol_names[i];\n   65  }\n   66  \n   67  uint16_t\n   68  protocol_default_port(enum protocol p) {\n   69    switch(p) {\n   70      case PROTOCOL_WS:\n   71      case PROTOCOL_HTTP: {\n   72        return 80;\n   73      }\n   74      case PROTOCOL_WSS:\n   75      case PROTOCOL_HTTPS: {\n   76        return 443;\n   77      }\n   78      default: {\n   79        return 0;\n   80      }\n   81    }\n   82  }\n   83  \n   84  BOOL\n   85  protocol_is_tls(enum protocol p) {\n   86    switch(p) {\n   87      case PROTOCOL_WSS:\n   88      case PROTOCOL_HTTPS:\n   89      case PROTOCOL_TLS: {\n   90        return TRUE;\n   91      }\n   92      default: {\n   93        return FALSE;\n   94      }\n   95    }\n   96  }\n   97  \n   98  static const char*\n   99  start_from(const char* p, char ch) {\n  100    if(p) {\n  101      for(; *p; p++) {\n  102        if(*p == '\\\\')\n  103          ++p;\n  104        else if(*p == ch)\n  105          break;\n  106      }\n  107    }\n  108    return p;\n  109  }\n  110  \n  111  void\n  112  url_init(URL* url, const char* protocol, const char* host, int port, const char* path, JSContext* ctx) {\n  113    enum protocol proto = protocol_number(protocol);\n  114  \n  115    url->protocol = protocol_string(proto);\n  116    url->host = js_strdup(ctx, host && *host ? host : \"0.0.0.0\");\n  117    url->port = URL_IS_VALID_PORT(port) ? port : protocol_default_port(proto);\n  118    url->path = js_strdup(ctx, path ? path : \"\");\n  119  }\n  120  \n  121  void\n  122  url_parse(URL* url, const char* u, JSContext* ctx) {\n  123    enum protocol proto = PROTOCOL_WS;\n  124    const char *s, *t;\n  125  \n  126    if((s = strstr(u, \"://\"))) {\n  127      url->protocol = js_strndup(ctx, u, s - u);\n  128      proto = protocol_number(url->protocol);\n  129      u = s + 3;\n  130    } else {\n  131      url->protocol = 0;\n  132    }\n  133  \n  134    for(s = u; *s; ++s)\n  135      if(*s == ':' || *s == '/')\n  136        break;\n  137  \n  138    url->host = s > u ? js_strndup(ctx, u, s - u) : 0;\n  139  \n  140    if(*s == ':') {\n  141      unsigned long n = strtoul(++s, (char**)&t, 10);\n  142  \n  143      url->port = n != ULONG_MAX ? n : 0;\n  144      if(s < t)\n  145        s = t;\n  146    } else if(url->protocol) {\n  147      url->port = protocol_default_port(proto);\n  148    } else {\n  149      url->port = -1;\n  150    }\n  151  \n  152    // if(!url->path)\n  153    if(s && *s)\n  154      url->path = s && *s ? js_strdup(ctx, s) : 0;\n  155  }\n  156  \n  157  size_t\n  158  url_print(char* buf, size_t size, const URL url) {\n  159    size_t pos = 0;\n  160  \n  161    if(url.protocol && *url.protocol) {\n  162      if((pos += buf ? strlcpy(buf, url.protocol, size - pos) : strlen(url.protocol)) + 3 > size)\n  163        return pos;\n  164  \n  165      if((pos += buf ? strlcpy(&buf[pos], \"://\", size - pos) : 3) >= size)\n  166        return pos;\n  167    }\n  168  \n  169    if(url.host) {\n  170      if((pos += buf ? strlcpy(&buf[pos], url.host, size - pos) : strlen(url.host)) >= size)\n  171        return pos;\n  172    }\n  173  \n  174    if(url.port) {\n  175      if(size - pos < 7)\n  176        return pos;\n  177      if(!buf) {\n  178        pos += 1 + (url.port > 9999 ? 5 : url.port > 999 ? 4 : url.port > 99 ? 3 : url.port > 9 ? 2 : 1);\n  179      } else {\n  180        sprintf(&buf[pos], \":%u\", url.port);\n  181        pos += strlen(&buf[pos]);\n  182      }\n  183    }\n  184  \n  185    if(url.path) {\n  186      if((pos += buf ? strlcpy(&buf[pos], url.path, size - pos) : strlen(url.path)) >= size)\n  187        return pos;\n  188    }\n  189  \n  190    return pos;\n  191  }\n  192  \n  193  char*\n  194  url_format(const URL url, JSContext* ctx) {\n  195    size_t len = (url.protocol ? strlen(url.protocol) + 3 : 0) + (url.host ? strlen(url.host) + 1 + 5 : 0) + (url.path ? strlen(url.path) : 0) + 1;\n  196    char* str;\n  197    enum protocol proto = -1;\n  198  \n  199    if((str = js_malloc(ctx, len))) {\n  200      size_t pos = 0;\n  201      const char* host;\n  202      str[pos] = '\\0';\n  203      if(url.protocol) {\n  204        proto = protocol_number(url.protocol);\n  205        strcpy(str, url.protocol);\n  206        pos += strlen(str);\n  207        strcpy(&str[pos], \"://\");\n  208        pos += 3;\n  209      }\n  210      if((host = url.host ? url.host : (pos > 0 || url.port >= 0) ? \"0.0.0.0\" : 0)) {\n  211        if(proto != -1 && (url.port == protocol_default_port(proto) || url.port < 0)) {\n  212          strcpy(&str[pos], host);\n  213          pos += strlen(&str[pos]);\n  214        } else {\n  215          pos += sprintf(&str[pos], \"%s:%u\", host, url.port);\n  216        }\n  217      }\n  218      if(url.path)\n  219        strcpy(&str[pos], url.path);\n  220    }\n  221    return str;\n  222  }\n  223  \n  224  char*\n  225  url_host(const URL url, JSContext* ctx) {\n  226    size_t len = (url.host ? strlen(url.host) + 1 + 5 : 0) + 1;\n  227    char* str;\n  228  \n  229    if((str = js_malloc(ctx, len))) {\n  230      size_t pos = 0;\n  231      const char* host;\n  232      str[pos] = '\\0';\n  233  \n  234      if((host = url.host ? url.host : (pos > 0 || url.port >= 0) ? \"0.0.0.0\" : 0)) {\n  235        if(url.port < 0) {\n  236          strcpy(&str[pos], host);\n  237          pos += strlen(&str[pos]);\n  238        } else {\n  239          pos += sprintf(&str[pos], \"%s:%u\", host, url.port);\n  240        }\n  241      }\n  242    }\n  243    return str;\n  244  }\n  245  \n  246  size_t\n  247  url_length(const URL url) {\n  248    return url_print(0, 8192, url);\n  249    /*size_t portlen = url.port >= 10000 ? 6 : url.port >= 1000 ? 5 : url.port >= 100 ? 4 : url.port >= 10 ? 3 : url.port >= 1 ? 2 : 0;\n  250    return (url.protocol ? strlen(url.protocol) + 3 : 0) + (url.host ? strlen(url.host) + portlen : 0) + (url.path ? strlen(url.path) : 0) + 1;*/\n  251  }\n  252  \n  253  void\n  254  url_free(URL* url, JSContext* ctx) {\n  255    if(url->host)\n  256      js_free(ctx, url->host);\n  257    if(url->path)\n  258      js_free(ctx, url->path);\n  259    memset(url, 0, sizeof(URL));\n  260  }\n  261  \n  262  void\n  263  url_free_rt(URL* url, JSRuntime* rt) {\n  264    if(url->host)\n  265      js_free_rt(rt, url->host);\n  266    if(url->path)\n  267      js_free_rt(rt, url->path);\n  268    memset(url, 0, sizeof(URL));\n  269  }\n  270  \n  271  enum protocol\n  272  url_set_protocol(URL* url, const char* proto) {\n  273    enum protocol p = protocol_number(proto);\n  274  \n  275    url->protocol = protocol_string(p);\n  276    return p;\n  277  }\n  278  \n  279  BOOL\n  280  url_set_path_len(URL* url, const char* path, size_t len, JSContext* ctx) {\n  281    char* oldpath = url->path;\n  282    BOOL ret = FALSE;\n  283  \n  284    if(has_query_b(path, len)) {\n  285      ret = !!(url->path = js_strndup(ctx, path, len));\n  286    } else {\n  287      const char* oldquery;\n  288  \n  289      if((oldquery = url_query(*url))) {\n  290        if((url->path = js_malloc(ctx, len + 1 + strlen(oldquery) + 1))) {\n  291          memcpy(url->path, path, len);\n  292          url->path[len] = '?';\n  293          strcpy(&url->path[len + 1], oldquery);\n  294        }\n  295      } else {\n  296        url->path = js_strndup(ctx, path, len);\n  297        ret = !!url->path;\n  298      }\n  299    }\n  300    js_free(ctx, oldpath);\n  301    return ret;\n  302  }\n  303  \n  304  BOOL\n  305  url_set_query_len(URL* url, const char* query, size_t len, JSContext* ctx) {\n  306    size_t pathlen;\n  307    char* oldquery;\n  308  \n  309    if(url->path && (oldquery = strchr(url->path, '?'))) {\n  310      pathlen = oldquery - url->path;\n  311    } else {\n  312      pathlen = url->path ? strlen(url->path) : 0;\n  313    }\n  314    if((url->path = js_realloc(ctx, url->path, pathlen + 1 + len + 1))) {\n  315      url->path[pathlen] = '?';\n  316      memcpy(&url->path[pathlen + 1], query, len);\n  317      url->path[pathlen + 1 + len] = '\\0';\n  318      return TRUE;\n  319    }\n  320    return FALSE;\n  321  }\n  322  \n  323  void\n  324  url_info(const URL url, struct lws_client_connect_info* info) {\n  325    enum protocol proto = url.protocol ? protocol_number(url.protocol) : PROTOCOL_RAW;\n  326  \n  327    memset(info, 0, sizeof(struct lws_client_connect_info));\n  328  \n  329    switch(proto) {\n  330      case PROTOCOL_HTTP:\n  331      case PROTOCOL_HTTPS: {\n  332  #if defined(LWS_ROLE_H2) && defined(LWS_ROLE_H1)\n  333        info->alpn = \"h2,http/1.1\";\n  334  #elif defined(LWS_ROLE_H2)\n  335        info->alpn = \"h2\";\n  336  #elif defined(LWS_ROLE_H1)\n  337        info->alpn = \"http/1.1\";\n  338  #endif\n  339        info->protocol = strdup(\"http\");\n  340        break;\n  341      }\n  342      case PROTOCOL_WS:\n  343      case PROTOCOL_WSS: {\n  344        info->protocol = strdup(\"ws\");\n  345        break;\n  346      }\n  347      default: {\n  348        info->method = \"RAW\";\n  349        info->local_protocol_name = \"raw\";\n  350        break;\n  351      }\n  352    }\n  353  \n  354    info->port = url.port;\n  355    info->address = url.host;\n  356  \n  357    if(protocol_is_tls(proto)) {\n  358      info->ssl_connection = LCCSCF_USE_SSL;\n  359      info->ssl_connection |= LCCSCF_ALLOW_SELFSIGNED;\n  360      info->ssl_connection |= LCCSCF_ALLOW_INSECURE;\n  361      info->ssl_connection |= LCCSCF_ALLOW_EXPIRED;\n  362      info->ssl_connection |= LCCSCF_SKIP_SERVER_CERT_HOSTNAME_CHECK;\n  363  #ifdef LWS_ROLE_H2\n  364      info->ssl_connection |= LCCSCF_H2_QUIRK_OVERFLOWS_TXCR | LCCSCF_H2_QUIRK_NGHTTP2_END_STREAM;\n  365  #endif\n  366    }\n  367  \n  368    info->path = url.path ? url.path : \"/\";\n  369    info->host = info->address;\n  370    info->origin = info->address;\n  371  }\n  372  \n  373  const char*\n  374  url_query(const URL url) {\n  375    const char* p;\n  376  \n  377    if(*(p = start_from(url.path, '?')) == '?')\n  378      ++p;\n  379    else\n  380      p = 0;\n  381  \n  382    return p;\n  383  }\n  384  \n  385  const char*\n  386  url_search(const URL url, size_t* len_p) {\n  387    const char* s;\n  388  \n  389    if((s = start_from(url.path, '?')))\n  390      if(len_p)\n  391        *len_p = str_chr(s, '#');\n  392  \n  393    return s;\n  394  }\n  395  \n  396  const char*\n  397  url_hash(const URL url) {\n  398    return start_from(url.path, '#');\n  399  }\n  400  \n  401  void\n  402  url_fromobj(URL* url, JSValueConst obj, JSContext* ctx) {\n  403    JSValue value;\n  404    const char *protocol, *host, *path;\n  405    int32_t port = -1;\n  406  \n  407    value = JS_GetPropertyStr(ctx, obj, \"protocol\");\n  408    protocol = JS_ToCString(ctx, value);\n  409    JS_FreeValue(ctx, value);\n  410  \n  411    value = JS_GetPropertyStr(ctx, obj, \"hostname\");\n  412    if(JS_IsUndefined(value))\n  413      value = JS_GetPropertyStr(ctx, obj, \"host\");\n  414    host = JS_ToCString(ctx, value);\n  415    JS_FreeValue(ctx, value);\n  416  \n  417    value = JS_GetPropertyStr(ctx, obj, \"port\");\n  418    JS_ToInt32(ctx, &port, value);\n  419    JS_FreeValue(ctx, value);\n  420  \n  421    value = JS_GetPropertyStr(ctx, obj, \"pathname\");\n  422    if(JS_IsUndefined(value))\n  423      value = JS_GetPropertyStr(ctx, obj, \"path\");\n  424    path = JS_ToCString(ctx, value);\n  425    JS_FreeValue(ctx, value);\n  426  \n  427    url_init(url, protocol, host, port, path, ctx);\n  428  \n  429    if(protocol)\n  430      JS_FreeCString(ctx, protocol);\n  431    if(host)\n  432      JS_FreeCString(ctx, host);\n  433    if(path)\n  434      JS_FreeCString(ctx, path);\n  435  }\n  436  \n  437  BOOL\n  438  url_fromvalue(URL* url, JSValueConst value, JSContext* ctx) {\n  439    URL* other;\n  440  \n  441    if((other = minnet_url_data(value))) {\n  442      url_copy(url, *other, ctx);\n  443    } else if(JS_IsObject(value)) {\n  444      url_fromobj(url, value, ctx);\n  445    } else if(JS_IsString(value)) {\n  446      const char* str = JS_ToCString(ctx, value);\n  447      url_parse(url, str, ctx);\n  448      JS_FreeCString(ctx, str);\n  449    } else {\n  450      return FALSE;\n  451    }\n  452  \n  453    return TRUE;\n  454  }\n  455  \n  456  void\n  457  url_fromwsi(URL* url, struct lws* wsi, JSContext* ctx) {\n  458    int i, port = -1;\n  459    char* p;\n  460    const char* protocol;\n  461    typedef char* get_host_and_port(struct lws*, int*);\n  462    get_host_and_port* fns[] = {\n  463        &wsi_host_and_port,\n  464        &wsi_vhost_and_port,\n  465    };\n  466  \n  467    for(i = 0; i < countof(fns); i++) {\n  468      if((p = fns[i](wsi, &port))) {\n  469        if(p[0]) {\n  470          if(url->host)\n  471            js_free(ctx, url->host);\n  472          url->host = p;\n  473          if(URL_IS_VALID_PORT(port)) {\n  474            url->port = port;\n  475            break;\n  476          }\n  477        } else {\n  478          js_free(ctx, p);\n  479        }\n  480      }\n  481    }\n  482  \n  483    if((p = wsi_uri_and_method(wsi, 0))) {\n  484      if(url->path)\n  485        free(url->path);\n  486      url->path = p;\n  487    }\n  488  \n  489    assert(url->path);\n  490  \n  491    if(url_query(*url) == NULL) {\n  492      char* q;\n  493      size_t qlen;\n  494      if((q = wsi_query_string_len(wsi, &qlen))) {\n  495        url_set_query_len(url, q, qlen, ctx);\n  496        free(q);\n  497      }\n  498    }\n  499  \n  500    if((protocol = wsi_protocol_name(wsi))) {\n  501      enum protocol number = protocol_number(protocol);\n  502  \n  503      if(number >= 0 && number < NUM_PROTOCOLS) {\n  504        if(!protocol_is_tls(number)) {\n  505          if(wsi_tls(wsi))\n  506            number++;\n  507        }\n  508  \n  509        url->protocol = protocol_string(number);\n  510      }\n  511    }\n  512  \n  513    // url->query = minnet_query_string(wsi, ctx);\n  514  }\n  515  \n  516  URL*\n  517  url_new(JSContext* ctx) {\n  518  \n  519    URL* url;\n  520  \n  521    if(!(url = js_mallocz(ctx, sizeof(URL))))\n  522      return url;\n  523  \n  524    url->ref_count = 1;\n  525    return url;\n  526  }\n  527  \n  528  JSValue\n  529  url_object(const URL url, JSContext* ctx) {\n  530    JSValue ret = JS_NewObject(ctx);\n  531  \n  532    if(url.protocol)\n  533      JS_SetPropertyStr(ctx, ret, \"protocol\", JS_NewString(ctx, url.protocol));\n  534  \n  535    if(url.host)\n  536      JS_SetPropertyStr(ctx, ret, \"hostname\", JS_NewString(ctx, url.host));\n  537  \n  538    if(URL_IS_VALID_PORT(url.port))\n  539      JS_SetPropertyStr(ctx, ret, \"port\", JS_NewUint32(ctx, url.port));\n  540  \n  541    if(url.path) {\n  542      size_t len = str_chrs(url.path, \"?#\", 2);\n  543      JS_SetPropertyStr(ctx, ret, \"pathname\", JS_NewStringLen(ctx, url.path, len));\n  544  \n  545      const char* str;\n  546      if((str = url_search(url, &len)))\n  547        JS_SetPropertyStr(ctx, ret, \"search\", JS_NewStringLen(ctx, str, len));\n  548      if((str = url_hash(url)))\n  549        JS_SetPropertyStr(ctx, ret, \"hash\", JS_NewString(ctx, str));\n  550    }\n  551  \n  552    return ret;\n  553  }\n  554  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/poll.h:\n    1  #ifndef QJSNET_LIB_LIB_POLL_H\n    2  #define QJSNET_LIB_LIB_POLL_H\n    3  \n    4  #include <stddef.h>\n    5  \n    6  #ifdef __cplusplus\n    7  extern \"C\" {\n    8  #endif /* defined(__cplusplus) */\n    9  \n   10  enum {\n   11    POLLIN = 0x0001,\n   12  #define POLLIN POLLIN\n   13    POLLPRI = 0x0002,\n   14  #define POLLPRI POLLPRI\n   15    POLLOUT = 0x0004,\n   16  #define POLLOUT POLLOUT\n   17    POLLERR = 0x0008,\n   18  #define POLLERR POLLERR\n   19    POLLHUP = 0x0010,\n   20  #define POLLHUP POLLHUP\n   21    POLLNVAL = 0x0020,\n   22  #define POLLNVAL POLLNVAL\n   23    POLLRDNORM = 0x0040,\n   24  #define POLLRDNORM POLLRDNORM\n   25    POLLRDBAND = 0x0080,\n   26  #define POLLRDBAND POLLRDBAND\n   27    POLLWRBAND = 0x0200,\n   28  #define POLLWRBAND POLLWRBAND\n   29    POLLMSG = 0x0400,\n   30  #define POLLMSG POLLMSG\n   31    /* POLLREMOVE is for /dev/epoll (/dev/misc/eventpoll),\n   32     * a new event notification mechanism for 2.6 */\n   33    POLLREMOVE = 0x1000,\n   34  #define POLLREMOVE POLLREMOVE\n   35  };\n   36  \n   37  #if defined(__sparc__) || defined(__mips__)\n   38  #define POLLWRNORM POLLOUT\n   39  #else\n   40  #define POLLWRNORM 0x0100\n   41  #endif\n   42  \n   43  struct pollfd {\n   44    int fd;\n   45    short events;\n   46    short revents;\n   47  };\n   48  \n   49  typedef unsigned int nfds_t;\n   50  \n   51  extern int poll(struct pollfd* ufds, nfds_t nfds, int timeout);\n   52  \n   53  #ifdef _GNU_SOURCE\n   54  #include <signal.h>\n   55  int ppoll(struct pollfd* fds, nfds_t nfds, const struct timespec* timeout, const sigset_t* sigmask);\n   56  #endif\n   57  \n   58  #ifdef __cplusplus\n   59  }\n   60  \n   61  #endif /* defined(__cplusplus) */\n   62  \n   63  #endif /* QJSNET_LIB_LIB_POLL_H */\n   64  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/utils.h:\n    1  #ifndef QJSNET_LIB_UTILS_H\n    2  #define QJSNET_LIB_UTILS_H\n    3  \n    4  #include <stddef.h>\n    5  #include <ctype.h>\n    6  #include <libwebsockets.h>\n    7  #include <arpa/inet.h>\n    8  #include <quickjs.h>\n    9  #include <cutils.h>\n   10  #include <list.h>\n   11  \n   12  #if defined(_WIN32) || defined(__MINGW32__)\n   13  #define VISIBLE __declspec(dllexport)\n   14  #define HIDDEN\n   15  #else\n   16  #define VISIBLE __attribute__((visibility(\"default\")))\n   17  #define HIDDEN __attribute__((visibility(\"hidden\")))\n   18  #endif\n   19  \n   20  #ifdef _Thread_local\n   21  #define THREAD_LOCAL _Thread_local\n   22  #elif defined(__GNUC__) || defined(__INTEL_COMPILER) || defined(__SUNPRO_CC) || defined(__IBMCPP__)\n   23  #define THREAD_LOCAL __thread\n   24  #elif defined(_WIN32)\n   25  #define THREAD_LOCAL __declspec(thread)\n   26  #else\n   27  #error No TLS implementation found.\n   28  #endif\n   29  \n   30  #define MAX(a, b) ((a) > (b) ? (a) : (b))\n   31  #define MIN(a, b) ((a) < (b) ? (a) : (b))\n   32  \n   33  #define FG(c) \"\\x1b[38;5;\" c \"m\"\n   34  #define BG(c) \"\\x1b[48;5;\" c \"m\"\n   35  #define FGC(c, str) FG(#c) str NC\n   36  #define BGC(c, str) BG(#c) str NC\n   37  #define NC \"\\x1b[0m\"\n   38  \n   39  #define countof(x) (sizeof(x) / sizeof((x)[0]))\n   40  \n   41  size_t str_chr(const char*, char);\n   42  size_t str_chrs(const char*, const char needles[], size_t nn);\n   43  size_t byte_chr(const void*, size_t, char);\n   44  size_t byte_chrs(const void*, size_t, const char[], size_t);\n   45  size_t byte_rchr(const void*, size_t, char);\n   46  int byte_diff(const void*, size_t len, const void* b);\n   47  size_t byte_equal(const void*, size_t n, const void* t);\n   48  size_t byte_findb(const void*, size_t hlen, const void* what, size_t wlen);\n   49  \n   50  static inline char*\n   51  str_ndup(const char* s, size_t n) {\n   52    char* r = malloc(n + 1);\n   53    if(r == NULL)\n   54      return NULL;\n   55    memcpy(r, s, n);\n   56    r[n] = '\\0';\n   57    return r;\n   58  }\n   59  \n   60  static inline size_t\n   61  byte_finds(const void* haystack, size_t hlen, const char* what) {\n   62    return byte_findb(haystack, hlen, what, strlen(what));\n   63  }\n   64  \n   65  size_t scan_whitenskip(const void*, size_t);\n   66  size_t scan_nonwhitenskip(const void*, size_t);\n   67  size_t scan_eol(const void*, size_t);\n   68  size_t scan_nextline(const void*, size_t);\n   69  size_t scan_charsetnskip(const void*, const char*, size_t);\n   70  size_t scan_noncharsetnskip(const void*, const char*, size_t);\n   71  \n   72  size_t skip_brackets(const char*, size_t len);\n   73  size_t skip_directory(const char*, size_t len);\n   74  size_t strip_trailing_newline(const char*, size_t* len_p);\n   75  \n   76  unsigned uint_pow(unsigned, unsigned degree);\n   77  \n   78  int socket_geterror(int);\n   79  char* socket_address(int, int (*fn)(int, struct sockaddr*, socklen_t*));\n   80  \n   81  static inline BOOL\n   82  has_query(const char* str) {\n   83    return !!strchr(str, '?');\n   84  }\n   85  \n   86  static inline BOOL\n   87  has_query_b(const char* str, size_t len) {\n   88    return byte_chr(str, len, '?') < len;\n   89  }\n   90  \n   91  static inline char*\n   92  socket_remote(int fd) {\n   93    return socket_address(fd, &getpeername);\n   94  }\n   95  \n   96  static inline char*\n   97  socket_local(int fd) {\n   98    return socket_address(fd, &getsockname);\n   99  }\n  100  \n  101  size_t list_size(struct list_head*);\n  102  \n  103  #endif /* QJSNET_LIB_UTILS_H */\n  104  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/generator.h:\n    1  #ifndef QJSNET_LIB_GENERATOR_H\n    2  #define QJSNET_LIB_GENERATOR_H\n    3  \n    4  #include \"buffer.h\"\n    5  #include \"asynciterator.h\"\n    6  #include \"queue.h\"\n    7  \n    8  typedef struct generator {\n    9    union {\n   10      AsyncIterator iterator;\n   11      struct {\n   12        struct list_head reads;\n   13        BOOL closed, closing;\n   14      };\n   15    };\n   16    JSContext* ctx;\n   17    Queue* q;\n   18    JSValue callback;\n   19    uint64_t bytes_written, bytes_read;\n   20    uint32_t chunks_written, chunks_read;\n   21    JSValue (*block_fn)(ByteBlock*, JSContext*);\n   22    int ref_count;\n   23  } Generator;\n   24  \n   25  void generator_zero(Generator*);\n   26  void generator_destroy(Generator**);\n   27  BOOL generator_free(Generator*);\n   28  Generator* generator_new(JSContext*);\n   29  JSValue generator_dequeue(Generator*, BOOL* done_p);\n   30  JSValue generator_next(Generator*);\n   31  ssize_t generator_write(Generator*, const void* data, size_t len, JSValueConst callback);\n   32  JSValue generator_push(Generator*, JSValueConst value);\n   33  BOOL generator_yield(Generator*, JSValueConst value, JSValueConst callback);\n   34  BOOL generator_close(Generator*, JSValueConst callback);\n   35  BOOL generator_continuous(Generator*, JSValueConst callback);\n   36  \n   37  static inline Generator*\n   38  generator_dup(Generator* gen) {\n   39    ++gen->ref_count;\n   40    return gen;\n   41  }\n   42  \n   43  #endif /* QJSNET_LIB_GENERATOR_H */\n   44  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ref.c:\n    1  #include <assert.h>\n    2  #include \"ref.h\"\n    3  \n    4  void\n    5  ref_clear(Ref* r) {\n    6    deferred_clear(&r->dup);\n    7    deferred_clear(&r->free);\n    8  }\n    9  \n   10  void\n   11  ref_free(Ref* r) {\n   12    if(--r->ref_count == 0) {\n   13      JSContext* ctx = r->dup.argv[0];\n   14      ref_clear(r);\n   15      js_free(ctx, r);\n   16    }\n   17  }\n   18  \n   19  Ref*\n   20  ref_new(ptr_t dup, ptr_t free, int argc, ptr_t argv[], JSContext* ctx) {\n   21    Ref* r;\n   22  \n   23    if(!(r = js_malloc(ctx, sizeof(Ref))))\n   24      return 0;\n   25  \n   26    r->ref_count = 1;\n   27  \n   28    deferred_init(&r->dup, dup, argc, argv);\n   29    deferred_init(&r->free, free, argc, argv);\n   30    return r;\n   31  }\n   32  \n   33  Ref*\n   34  ref_new2(ptr_t dup, ptr_t free, ptr_t a1, ptr_t a2, JSContext* ctx) {\n   35    Ref* r;\n   36    ptr_t args[] = {\n   37        a1,\n   38        a2,\n   39    };\n   40  \n   41    if(!(r = js_malloc(ctx, sizeof(Ref))))\n   42      return 0;\n   43  \n   44    r->ref_count = 1;\n   45  \n   46    deferred_init(&r->dup, dup, 2, args);\n   47    deferred_init(&r->free, free, 2, args);\n   48    return r;\n   49  }\n   50  \n   51  Ref*\n   52  ref_new3(ptr_t dup, ptr_t free, ptr_t a1, ptr_t a2, ptr_t a3, JSContext* ctx) {\n   53    Ref* r;\n   54    ptr_t args[] = {\n   55        a1,\n   56        a2,\n   57        a3,\n   58    };\n   59  \n   60    if(!(r = js_malloc(ctx, sizeof(Ref))))\n   61      return 0;\n   62  \n   63    r->ref_count = 1;\n   64  \n   65    deferred_init(&r->dup, dup, 3, args);\n   66    deferred_init(&r->free, free, 3, args);\n   67    return r;\n   68  }\n   69  \n   70  Ref*\n   71  ref_newjs(ptr_t dup, ptr_t free, JSValueConst arg, JSContext* ctx) {\n   72    return ref_new3(dup, free, ctx, ((ptr_t*)&arg)[0], ((ptr_t*)&arg)[1], ctx);\n   73  }\n   74  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/opaque.h:\n    1  #ifndef QJSNET_LIB_OPAQUE_H\n    2  #define QJSNET_LIB_OPAQUE_H\n    3  \n    4  #include <list.h>\n    5  #include <libwebsockets.h>\n    6  #include <stdint.h>\n    7  #include <stdbool.h>\n    8  #include <assert.h>\n    9  #include \"utils.h\"\n   10  \n   11  enum socket_state {\n   12    CONNECTING = 0,\n   13    OPEN = 1,\n   14    CLOSING = 2,\n   15    CLOSED = 3,\n   16  };\n   17  \n   18  struct socket;\n   19  struct http_request;\n   20  struct http_response;\n   21  struct session_data;\n   22  struct form_parser;\n   23  \n   24  struct wsi_opaque_user_data {\n   25    int ref_count;\n   26    struct socket* ws;\n   27    struct http_request* req;\n   28    struct http_response* resp;\n   29    struct session_data* sess;\n   30    int64_t serial;\n   31    enum socket_state status;\n   32    struct pollfd poll;\n   33    BOOL binary;\n   34    struct list_head link;\n   35    struct form_parser* form_parser;\n   36    struct lws* upstream;\n   37    struct lws_client_connect_info* connect_info;\n   38  };\n   39  \n   40  extern THREAD_LOCAL int64_t serial;\n   41  extern THREAD_LOCAL struct list_head opaque_list;\n   42  \n   43  void opaque_clear_rt(struct wsi_opaque_user_data*, JSRuntime* rt);\n   44  void opaque_free_rt(struct wsi_opaque_user_data*, JSRuntime* rt);\n   45  void opaque_clear(struct wsi_opaque_user_data*, JSContext* ctx);\n   46  void opaque_free(struct wsi_opaque_user_data*, JSContext* ctx);\n   47  struct wsi_opaque_user_data* opaque_new(JSContext*);\n   48  struct wsi_opaque_user_data* lws_opaque(struct lws*, JSContext* ctx);\n   49  bool opaque_valid(struct wsi_opaque_user_data* opaque);\n   50  \n   51  static inline struct wsi_opaque_user_data*\n   52  opaque_dup(struct wsi_opaque_user_data* opaque) {\n   53    ++opaque->ref_count;\n   54    return opaque;\n   55  }\n   56  \n   57  static inline struct wsi_opaque_user_data*\n   58  opaque_fromwsi(struct lws* wsi) {\n   59    struct wsi_opaque_user_data* opaque = lws_get_opaque_user_data(wsi);\n   60    assert(opaque);\n   61    return opaque;\n   62  }\n   63  \n   64  #endif /* QJSNET_LIB_OPAQUE_H */\n   65  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/queue.c:\n    1  #include \"queue.h\"\n    2  #include <assert.h>\n    3  \n    4  void\n    5  queue_zero(Queue* q) {\n    6    init_list_head(&q->items);\n    7    q->continuous = FALSE;\n    8    q->size = 0;\n    9  }\n   10  \n   11  void\n   12  queue_clear(Queue* q, JSContext* ctx) {\n   13    queue_clear_rt(q, JS_GetRuntime(ctx));\n   14  }\n   15  \n   16  void\n   17  queue_clear_rt(Queue* q, JSRuntime* rt) {\n   18    struct list_head *p, *p2;\n   19  \n   20    list_for_each_safe(p, p2, &q->items) {\n   21      QueueItem* i = list_entry(p, QueueItem, link);\n   22  \n   23      list_del(p);\n   24      block_free(&i->block);\n   25      // JS_FreeValueRT(rt, i->value);\n   26  \n   27      free(p);\n   28    }\n   29  \n   30    q->size = 0;\n   31  }\n   32  \n   33  void\n   34  queue_free(Queue* q, JSContext* ctx) {\n   35    queue_clear(q, ctx);\n   36    js_free(ctx, q);\n   37  }\n   38  \n   39  Queue*\n   40  queue_new(JSContext* ctx) {\n   41    Queue* q;\n   42  \n   43    if((q = js_malloc(ctx, sizeof(Queue))))\n   44      queue_zero(q);\n   45  \n   46    return q;\n   47  }\n   48  \n   49  QueueItem*\n   50  queue_front(Queue* q) {\n   51    return list_empty(&q->items) ? 0 : list_entry(q->items.next, QueueItem, link);\n   52  }\n   53  \n   54  QueueItem*\n   55  queue_back(Queue* q) {\n   56    return list_empty(&q->items) ? 0 : list_entry(q->items.prev, QueueItem, link);\n   57  }\n   58  \n   59  QueueItem*\n   60  queue_last_chunk(Queue* q) {\n   61    struct list_head* el;\n   62  \n   63    list_for_each_prev(el, &q->items) {\n   64      QueueItem* i = list_entry(el, QueueItem, link);\n   65  \n   66      if(block_SIZE(&i->block) || !i->done)\n   67        return i;\n   68    }\n   69  \n   70    return 0;\n   71  }\n   72  \n   73  ByteBlock\n   74  queue_next(Queue* q, BOOL* done_p) {\n   75    ByteBlock ret = {0, 0};\n   76    QueueItem* i;\n   77    BOOL done = FALSE;\n   78  \n   79    if((i = queue_front(q))) {\n   80      ret = i->block;\n   81      done = i->done;\n   82  \n   83      if(i->unref) {\n   84        JSContext* ctx = deferred_getctx(i->unref);\n   85        JSValue fn = deferred_getjs(i->unref);\n   86  \n   87        JS_FreeValue(ctx, JS_Call(ctx, fn, JS_UNDEFINED, 0, 0));\n   88  \n   89        deferred_call(i->unref);\n   90        deferred_free(i->unref);\n   91      }\n   92  \n   93      if(!done) {\n   94        list_del(&i->link);\n   95  \n   96        --q->size;\n   97        free(i);\n   98      }\n   99    }\n  100  \n  101    if(done_p)\n  102      *done_p = done;\n  103  \n  104    return ret;\n  105  }\n  106  \n  107  QueueItem*\n  108  queue_add(Queue* q, ByteBlock chunk) {\n  109    QueueItem* i;\n  110  \n  111    if(queue_complete(q))\n  112      return 0;\n  113  \n  114    if(q->items.next == 0 && q->items.prev == 0)\n  115      init_list_head(&q->items);\n  116  \n  117    if((i = malloc(sizeof(QueueItem)))) {\n  118      i->block = chunk;\n  119      i->done = FALSE;\n  120      i->unref = 0;\n  121      i->unref = 0;\n  122  \n  123      list_add_tail(&i->link, &q->items);\n  124  \n  125      ++q->size;\n  126    }\n  127  \n  128    return i;\n  129  }\n  130  \n  131  QueueItem*\n  132  queue_put(Queue* q, ByteBlock chunk, JSContext* ctx) {\n  133    QueueItem* i;\n  134  \n  135    if(q->continuous && (i = queue_last_chunk(q))) {\n  136      if(!block_SIZE(&i->block)) {\n  137        //      i->block = chunk;\n  138        i->block = block_copy(chunk.start, block_SIZE(&chunk));\n  139      } else {\n  140        if(block_append(&i->block, block_BEGIN(&chunk), block_SIZE(&chunk)) == -1)\n  141          i = 0;\n  142      }\n  143      block_free(&chunk);\n  144    } else {\n  145      i = queue_add(q, chunk);\n  146    }\n  147    return i;\n  148  }\n  149  \n  150  QueueItem*\n  151  queue_write(Queue* q, const void* data, size_t size, JSContext* ctx) {\n  152    QueueItem* i;\n  153  \n  154    if(q->continuous && (i = queue_last_chunk(q))) {\n  155      if(block_append(&i->block, data, size) == -1)\n  156        i = 0;\n  157    } else {\n  158      ByteBlock chunk = block_copy(data, size);\n  159  \n  160      i = queue_add(q, chunk);\n  161    }\n  162  \n  163    return i;\n  164  }\n  165  \n  166  QueueItem*\n  167  queue_close(Queue* q) {\n  168    QueueItem* i;\n  169  \n  170    if(q->items.next == 0 && q->items.prev == 0)\n  171      init_list_head(&q->items);\n  172  \n  173    if(queue_complete(q))\n  174      return queue_back(q);\n  175  \n  176    assert(!queue_closed(q));\n  177  \n  178    if((i = malloc(sizeof(QueueItem)))) {\n  179      i->block = (ByteBlock){0, 0};\n  180      i->done = TRUE;\n  181      i->unref = 0;\n  182  \n  183      list_add_tail(&i->link, &q->items);\n  184    }\n  185  \n  186    return i;\n  187  }\n  188  \n  189  int64_t\n  190  queue_bytes(Queue* q) {\n  191    QueueItem* i;\n  192    struct list_head* el;\n  193    size_t bytes = 0;\n  194  \n  195    if(!queue_complete(q))\n  196      return -1;\n  197  \n  198    list_for_each(el, &q->items) {\n  199      i = list_entry(el, QueueItem, link);\n  200  \n  201      bytes += block_SIZE(&i->block);\n  202    }\n  203  \n  204    return bytes;\n  205  }\n  206  \n  207  QueueItem*\n  208  queue_continuous(Queue* q) {\n  209    QueueItem* i;\n  210  \n  211    q->continuous = TRUE;\n  212  \n  213    if(!(i = queue_last_chunk(q))) {\n  214      if((i = malloc(sizeof(QueueItem)))) {\n  215        i->block = (ByteBlock){0, 0};\n  216        i->done = FALSE;\n  217        i->unref = 0;\n  218  \n  219        list_add_tail(&i->link, &q->items);\n  220      }\n  221    }\n  222  \n  223    return i;\n  224  }\n  225  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/context.c:\n    1  #include <assert.h>\n    2  #include <libwebsockets.h>\n    3  #include \"context.h\"\n    4  #include \"utils.h\"\n    5  \n    6  THREAD_LOCAL struct list_head context_list = {0, 0};\n    7  \n    8  JSValue\n    9  context_exception(struct context* context, JSValue retval) {\n   10    if(JS_IsException(retval)) {\n   11      context->exception = TRUE;\n   12      context->error = JS_GetException(context->js);\n   13  \n   14      JSValue stack = JS_GetPropertyStr(context->js, context->error, \"stack\");\n   15      const char* err = JS_ToCString(context->js, context->error);\n   16      const char* stk = JS_ToCString(context->js, stack);\n   17      // printf(\"Got exception: %s\\n%s\\n\", err, stk);\n   18      JS_FreeCString(context->js, err);\n   19      JS_FreeCString(context->js, stk);\n   20      JS_FreeValue(context->js, stack);\n   21      JS_Throw(context->js, context->error);\n   22    }\n   23  \n   24    return retval;\n   25  }\n   26  \n   27  void\n   28  context_clear(struct context* context) {\n   29    JSContext* ctx = context->js;\n   30  \n   31    lws_set_log_level(0, 0);\n   32  \n   33    lws_context_destroy(context->lws);\n   34    // lws_set_log_level(((unsigned)minnet_log_level & ((1u << LLL_COUNT) - 1)), minnet_log_callback);\n   35  \n   36    JS_FreeValue(ctx, context->crt);\n   37    JS_FreeValue(ctx, context->key);\n   38    JS_FreeValue(ctx, context->ca);\n   39  \n   40    JS_FreeValue(ctx, context->error);\n   41  }\n   42  \n   43  void\n   44  context_add(struct context* context) {\n   45  \n   46    if(context_list.next == 0 && context_list.prev == 0)\n   47      init_list_head(&context_list);\n   48  \n   49    list_add(&context->link, &context_list);\n   50  }\n   51  \n   52  void\n   53  context_delete(struct context* context) {\n   54    if(context->link.next || context->link.prev)\n   55      list_del(&context->link);\n   56  }\n   57  \n   58  struct context*\n   59  context_for_fd(int fd, struct lws** p_wsi) {\n   60    struct list_head* el;\n   61  \n   62    if(context_list.next == 0 && context_list.prev == 0)\n   63      init_list_head(&context_list);\n   64  \n   65    list_for_each(el, &context_list) {\n   66      struct context* context = list_entry(el, struct context, link);\n   67      struct lws* wsi;\n   68  \n   69      if((wsi = wsi_from_fd(context->lws, fd))) {\n   70        if(p_wsi)\n   71          *p_wsi = wsi;\n   72        return context;\n   73      }\n   74    }\n   75  \n   76    return 0;\n   77  }\n   78  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/callback.h:\n    1  #ifndef QJSNET_LIB_CALLBACK_H\n    2  #define QJSNET_LIB_CALLBACK_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <libwebsockets.h>\n    6  \n    7  #define GETCBPROP(obj, opt, cb_ptr) GETCB(JS_GetPropertyStr(ctx, obj, opt), cb_ptr)\n    8  #define GETCB(opt, cb_ptr) GETCBTHIS(opt, cb_ptr, this_val)\n    9  #define GETCBTHIS(opt, cb_ptr, this_obj) \\\n   10    if(JS_IsFunction(ctx, opt)) { \\\n   11      cb_ptr = (JSCallback){opt, JS_DupValue(ctx, this_obj), ctx, #cb_ptr}; \\\n   12    }\n   13  \n   14  #define FREECB(cb_ptr) \\\n   15    do { \\\n   16      JS_FreeValue(ctx, cb_ptr.this_obj); \\\n   17      JS_FreeValue(ctx, cb_ptr.func_obj); \\\n   18    } while(0);\n   19  \n   20  #define FREECB_RT(cb_ptr) \\\n   21    do { \\\n   22      JS_FreeValueRT(rt, cb_ptr.this_obj); \\\n   23      JS_FreeValueRT(rt, cb_ptr.func_obj); \\\n   24    } while(0);\n   25  \n   26  typedef struct js_callback {\n   27    JSValue func_obj, this_obj;\n   28    JSContext* ctx;\n   29    const char* name;\n   30  } JSCallback;\n   31  \n   32  static inline void\n   33  callback_zero(JSCallback* cb) {\n   34    cb->ctx = 0;\n   35    cb->this_obj = JS_UNDEFINED;\n   36    cb->func_obj = JS_NULL;\n   37    cb->name = 0;\n   38  }\n   39  \n   40  static inline void\n   41  callback_clear(JSCallback* cb) {\n   42    if(cb->ctx) {\n   43      JS_FreeValue(cb->ctx, cb->this_obj);\n   44      cb->this_obj = JS_UNDEFINED;\n   45      JS_FreeValue(cb->ctx, cb->func_obj);\n   46      cb->func_obj = JS_NULL;\n   47    }\n   48    cb->ctx = 0;\n   49  }\n   50  \n   51  typedef enum callback_e { MESSAGE = 0, CONNECT, CLOSE, PONG, FD, HTTP, READ, POST, NUM_CALLBACKS } CallbackType;\n   52  \n   53  typedef struct callbacks {\n   54    union {\n   55      struct {\n   56        JSCallback message, connect, close, pong, fd, http, read, post;\n   57      };\n   58      JSCallback on[NUM_CALLBACKS];\n   59    };\n   60  } CallbackList;\n   61  \n   62  static inline void\n   63  callbacks_zero(CallbackList* cbs) {\n   64    for(int i = 0; i < NUM_CALLBACKS; i++) callback_zero(&cbs->on[i]);\n   65  }\n   66  \n   67  static inline void\n   68  callbacks_clear(CallbackList* cbs) {\n   69    for(int i = 0; i < NUM_CALLBACKS; i++) callback_clear(&cbs->on[i]);\n   70  }\n   71  \n   72  JSValue callback_emit_this(const struct js_callback*, JSValue, int, JSValue* argv);\n   73  JSValue callback_emit(const struct js_callback*, int, JSValue*);\n   74  \n   75  #endif /* QJSNET_LIB_CALLBACK_H */\n   76  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/query.h:\n    1  #ifndef QJSNET_LIB_QUERY_H\n    2  #define QJSNET_LIB_QUERY_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <cutils.h>\n    6  #include \"jsutils.h\"\n    7  \n    8  JSValue query_object(const char* q, JSContext* ctx);\n    9  JSValue query_object_len(const char* q, size_t n, JSContext* ctx);\n   10  BOOL query_entry(const char* q, size_t n, JSContext* ctx, JSEntry* entry);\n   11  char* query_from(JSValueConst obj, JSContext* ctx);\n   12  \n   13  #endif /* QJSNET_LIB_QUERY_H */\n   14  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/queue.h:\n    1  #ifndef QJSNET_LIB_QUEUE_H\n    2  #define QJSNET_LIB_QUEUE_H\n    3  \n    4  #include \"buffer.h\"\n    5  #include \"jsutils.h\"\n    6  #include \"deferred.h\"\n    7  \n    8  typedef struct queue {\n    9    struct list_head items;\n   10    size_t size;\n   11    BOOL continuous;\n   12  } Queue;\n   13  \n   14  typedef struct queue_item {\n   15    struct list_head link;\n   16    ByteBlock block;\n   17    BOOL done;\n   18    Deferred* unref;\n   19  } QueueItem;\n   20  \n   21  void queue_zero(Queue*);\n   22  void queue_clear(Queue*, JSContext* ctx);\n   23  void queue_clear_rt(Queue*, JSRuntime* rt);\n   24  void queue_free(Queue*, JSContext* ctx);\n   25  Queue* queue_new(JSContext*);\n   26  QueueItem* queue_front(Queue*);\n   27  QueueItem* queue_back(Queue*);\n   28  QueueItem* queue_last_chunk(Queue*);\n   29  ByteBlock queue_next(Queue*, BOOL* done_p);\n   30  QueueItem* queue_add(Queue*, ByteBlock chunk);\n   31  QueueItem* queue_put(Queue*, ByteBlock chunk, JSContext* ctx);\n   32  QueueItem* queue_write(Queue*, const void* data, size_t size, JSContext* ctx);\n   33  QueueItem* queue_close(Queue*);\n   34  int64_t queue_bytes(Queue*);\n   35  QueueItem* queue_continuous(Queue* q);\n   36  \n   37  static inline BOOL\n   38  queue_empty(Queue* q) {\n   39    return list_empty(&q->items);\n   40  }\n   41  \n   42  static inline BOOL\n   43  queue_closed(Queue* q) {\n   44    QueueItem* i;\n   45    return (i = queue_front(q)) ? i->done : FALSE;\n   46  }\n   47  \n   48  static inline BOOL\n   49  queue_complete(Queue* q) {\n   50    QueueItem* i;\n   51    return (i = queue_back(q)) ? i->done : FALSE;\n   52  }\n   53  \n   54  static inline size_t\n   55  queue_size(Queue* q) {\n   56    return q->size;\n   57  }\n   58  \n   59  #endif /* QJSNET_LIB_QUEUE_H */\n   60  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/utils.c:\n    1  #include \"utils.h\"\n    2  \n    3  size_t\n    4  str_chr(const char* in, char needle) {\n    5    const char* t;\n    6  \n    7    for(t = in; *t; ++t)\n    8      if(*t == needle)\n    9        break;\n   10  \n   11    return (size_t)(t - in);\n   12  }\n   13  \n   14  size_t\n   15  str_chrs(const char* in, const char needles[], size_t nn) {\n   16    const char* t = in;\n   17    size_t i;\n   18    for(;;) {\n   19      if(!*t)\n   20        break;\n   21      for(i = 0; i < nn; i++)\n   22        if(*t == needles[i])\n   23          return (size_t)(t - in);\n   24      ++t;\n   25    }\n   26    return (size_t)(t - in);\n   27  }\n   28  \n   29  size_t\n   30  byte_chr(const void* x, size_t len, char c) {\n   31    const char *s, *t, *str = x;\n   32  \n   33    for(s = str, t = s + len; s < t; ++s)\n   34      if(*s == c)\n   35        break;\n   36  \n   37    return s - str;\n   38  }\n   39  \n   40  size_t\n   41  byte_chrs(const void* x, size_t len, const char needle[], size_t nl) {\n   42    const char *s, *t;\n   43  \n   44    for(s = x, t = (const char*)x + len; s != t; s++)\n   45      if(byte_chr(needle, nl, *s) < nl)\n   46        break;\n   47  \n   48    return s - (const char*)x;\n   49  }\n   50  \n   51  size_t\n   52  byte_rchr(const void* x, size_t len, char needle) {\n   53    const char *s, *t;\n   54  \n   55    for(s = x, t = (const char*)x + len; --t >= s;)\n   56      if(*t == needle)\n   57        return (size_t)(t - s);\n   58  \n   59    return len;\n   60  }\n   61  \n   62  int\n   63  byte_diff(const void* a, size_t len, const void* b) {\n   64    size_t i;\n   65    for(i = 0; i < len; ++i) {\n   66      int r = ((unsigned char*)a)[i] - ((unsigned char*)b)[i];\n   67      if(r)\n   68        return r;\n   69    }\n   70    return 0;\n   71  }\n   72  \n   73  size_t\n   74  byte_equal(const void* s, size_t n, const void* t) {\n   75    return byte_diff(s, n, t) == 0;\n   76  }\n   77  \n   78  size_t\n   79  byte_findb(const void* haystack, size_t hlen, const void* what, size_t wlen) {\n   80    size_t i, last;\n   81    const char* s = (const char*)haystack;\n   82    if(hlen < wlen)\n   83      return hlen;\n   84    last = hlen - wlen;\n   85    for(i = 0; i <= last; i++) {\n   86      if(byte_equal(s, wlen, what))\n   87        return i;\n   88      s++;\n   89    }\n   90    return hlen;\n   91  }\n   92  \n   93  size_t\n   94  scan_whitenskip(const void* s, size_t limit) {\n   95    const char *t = s, *u = t + limit;\n   96  \n   97    while(t < u && isspace(*t)) ++t;\n   98  \n   99    return t - (const char*)s;\n  100  }\n  101  \n  102  size_t\n  103  scan_nonwhitenskip(const void* s, size_t limit) {\n  104    const char *t = s, *u = t + limit;\n  105  \n  106    while(t < u && !isspace(*t)) ++t;\n  107  \n  108    return t - (const char*)s;\n  109  }\n  110  \n  111  size_t\n  112  scan_eol(const void* s, size_t limit) {\n  113    const char* t = s;\n  114    size_t i = byte_chr(s, limit, '\\n');\n  115  \n  116    while(i > 0 && t[i - 1] == '\\r') i--;\n  117  \n  118    return i;\n  119  }\n  120  \n  121  size_t\n  122  scan_nextline(const void* s, size_t limit) {\n  123    size_t i;\n  124  \n  125    if((i = byte_chr(s, limit, '\\n')) < limit)\n  126      i++;\n  127  \n  128    return i;\n  129  }\n  130  \n  131  size_t\n  132  scan_charsetnskip(const void* s, const char* charset, size_t limit) {\n  133    const char *t, *u, *i;\n  134  \n  135    for(t = s, u = t + limit; t < u; t++) {\n  136      for(i = charset; *i; i++)\n  137        if(*i == *t)\n  138          break;\n  139      if(*i != *t)\n  140        break;\n  141    }\n  142    return t - (const char*)s;\n  143  }\n  144  \n  145  size_t\n  146  scan_noncharsetnskip(const void* s, const char* charset, size_t limit) {\n  147    const char *t, *u, *i;\n  148  \n  149    for(t = s, u = t + limit; t < u; t++) {\n  150      for(i = charset; *i; i++)\n  151        if(*i == *t)\n  152          break;\n  153      if(*i == *t)\n  154        break;\n  155    }\n  156  \n  157    return t - (const char*)s;\n  158  }\n  159  \n  160  size_t\n  161  skip_brackets(const char* line, size_t len) {\n  162    size_t n = 0;\n  163  \n  164    if(len > 0 && line[0] == '[') {\n  165      if((n = byte_chr(line, len, ']')) < len)\n  166        n++;\n  167  \n  168      while(n < len && isspace(line[n])) n++;\n  169  \n  170      if(n + 1 < len && line[n + 1] == ':')\n  171        n += 2;\n  172  \n  173      while(n < len && (isspace(line[n]) || line[n] == '-')) n++;\n  174    }\n  175  \n  176    return n;\n  177  }\n  178  \n  179  size_t\n  180  skip_directory(const char* line, size_t len) {\n  181    if(line[0] == '/') {\n  182      size_t colon = byte_chr(line, len, ':');\n  183      size_t slash = byte_rchr(line, colon, '/');\n  184  \n  185      if(slash < colon)\n  186        return slash + 1;\n  187    }\n  188  \n  189    return 0;\n  190  }\n  191  \n  192  size_t\n  193  strip_trailing_newline(const char* line, size_t* len_p) {\n  194    size_t len = *len_p;\n  195  \n  196    while(len > 0 && (line[len - 1] == '\\n' || line[len - 1] == '\\r')) len--;\n  197  \n  198    return *len_p = len;\n  199  }\n  200  \n  201  unsigned\n  202  uint_pow(unsigned base, unsigned degree) {\n  203    unsigned result = 1;\n  204    unsigned term = base;\n  205    while(degree) {\n  206      if(degree & 1)\n  207        result *= term;\n  208      term *= term;\n  209      degree = degree >> 1;\n  210    }\n  211    return result;\n  212  }\n  213  \n  214  size_t\n  215  list_size(struct list_head* list) {\n  216    size_t count = 0;\n  217    if(list->next && list->prev) {\n  218      struct list_head* el;\n  219      list_for_each(el, list)++ count;\n  220    }\n  221    return count;\n  222  }\n  223  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/buffer.h:\n    1  #ifndef QJSNET_LIB_BUFFER_H\n    2  #define QJSNET_LIB_BUFFER_H\n    3  \n    4  #include <cutils.h>\n    5  #include <libwebsockets.h>\n    6  #include <quickjs.h>\n    7  #include <stdarg.h>\n    8  #include <stdint.h>\n    9  #include <string.h>\n   10  #include <sys/types.h>\n   11  \n   12  typedef struct byte_block {\n   13    uint8_t* start;\n   14    uint8_t* end;\n   15  } ByteBlock;\n   16  \n   17  #define BLOCK_0() \\\n   18    (ByteBlock) { \\\n   19      { 0, 0 } \\\n   20    }\n   21  \n   22  #define block_SIZE(b) (size_t)((b)->end - (b)->start)\n   23  #define block_BEGIN(b) (void*)(b)->start\n   24  #define block_END(b) (void*)(b)->end\n   25  #define block_ALLOC(b) (void*)((b)->start ? (b)->start - LWS_PRE : 0)\n   26  \n   27  uint8_t* block_alloc(ByteBlock*, size_t size);\n   28  uint8_t* block_realloc(ByteBlock*, size_t size);\n   29  void block_free(ByteBlock*);\n   30  uint8_t* block_grow(ByteBlock*, size_t size);\n   31  ByteBlock block_copy(const void*, size_t size);\n   32  JSValue block_toarraybuffer(ByteBlock*, JSContext* ctx);\n   33  JSValue block_tostring(ByteBlock*, JSContext* ctx);\n   34  ssize_t block_append(ByteBlock*, const void* data, size_t size);\n   35  \n   36  static inline ByteBlock\n   37  block_move(ByteBlock* blk) {\n   38    ByteBlock ret = {blk->start, blk->end};\n   39    blk->start = 0;\n   40    blk->end = 0;\n   41    return ret;\n   42  }\n   43  \n   44  typedef union byte_buffer {\n   45    struct {\n   46      uint8_t *start, *end, *read, *write, *alloc;\n   47    };\n   48    ByteBlock block;\n   49  } ByteBuffer;\n   50  \n   51  #define BUFFER(buf) \\\n   52    (ByteBuffer) { \\\n   53      { (uint8_t*)(buf) + LWS_PRE, (uint8_t*)(buf) + sizeof(buf) - 1, (uint8_t*)(buf) + LWS_PRE, (uint8_t*)(buf) + LWS_PRE, 0 } \\\n   54    }\n   55  \n   56  #define BUFFER_0() \\\n   57    (ByteBuffer) { \\\n   58      { 0, 0, 0, 0, 0 } \\\n   59    }\n   60  \n   61  #define BUFFER_N(buf, n) \\\n   62    (ByteBuffer) { \\\n   63      { (uint8_t*)(buf), (uint8_t*)(buf) + (n), (uint8_t*)(buf), (uint8_t*)(buf), 0 } \\\n   64    }\n   65  \n   66  #define buffer_AVAIL(b) (ptrdiff_t)((b)->end - (b)->write)\n   67  #define buffer_BYTES(b) (ptrdiff_t)((b)->write - (b)->start)\n   68  #define buffer_REMAIN(b) (ptrdiff_t)((b)->write - (b)->read)\n   69  #define buffer_HEAD(b) (size_t)((b)->write - (b)->start)\n   70  #define buffer_TAIL(b) (size_t)((b)->read - (b)->start)\n   71  #define buffer_ALLOC(b) (void*)((b)->alloc)\n   72  \n   73  #define buffer_BEGIN(b) block_BEGIN(&(b)->block)\n   74  #define buffer_END(b) block_END(&(b)->block)\n   75  #define buffer_SIZE(b) block_SIZE(&(b)->block)\n   76  \n   77  #define buffer_zero(b) memset((b), 0, sizeof(ByteBuffer))\n   78  \n   79  uint8_t* buffer_alloc(ByteBuffer*, size_t size);\n   80  ssize_t buffer_append(ByteBuffer*, const void* x, size_t n);\n   81  void buffer_free(ByteBuffer*);\n   82  BOOL buffer_write(ByteBuffer*, const void* x, size_t n);\n   83  int buffer_vprintf(ByteBuffer*, const char* format, va_list ap);\n   84  int buffer_printf(ByteBuffer*, const char* format, ...);\n   85  uint8_t* buffer_realloc(ByteBuffer*, size_t size);\n   86  int buffer_fromvalue(ByteBuffer*, JSValueConst value, JSContext* ctx);\n   87  JSValue buffer_tostring(ByteBuffer const*, JSContext* ctx);\n   88  size_t buffer_escape(ByteBuffer*, const void* x, size_t len);\n   89  char* buffer_escaped(ByteBuffer const*);\n   90  BOOL buffer_clone(ByteBuffer*, const ByteBuffer* other);\n   91  BOOL buffer_putchar(ByteBuffer*, char c);\n   92  uint8_t* buffer_grow(ByteBuffer* buf, size_t size);\n   93  \n   94  static inline void\n   95  buffer_reset(ByteBuffer* buf) {\n   96    buf->read = buf->start;\n   97    buf->write = buf->start;\n   98  }\n   99  \n  100  typedef struct writer {\n  101    uint8_t **write, *end;\n  102  } BufferWriter;\n  103  \n  104  static inline BufferWriter\n  105  buffer_writer(ByteBuffer* bb) {\n  106    return (BufferWriter){&bb->write, bb->end};\n  107  }\n  108  typedef struct reader {\n  109    uint8_t **read, *write;\n  110  } BufferReader;\n  111  \n  112  static inline BufferReader\n  113  buffer_reader(ByteBuffer* bb) {\n  114    return (BufferReader){&bb->read, bb->write};\n  115  }\n  116  \n  117  #endif /* QJSNET_LIB_BUFFER_H */\n  118  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ref.h:\n    1  #ifndef QJSNET_LIB_REF_H\n    2  #define QJSNET_LIB_REF_H\n    3  \n    4  #include \"deferred.h\"\n    5  \n    6  typedef struct ref {\n    7    int ref_count;\n    8    Deferred dup, free;\n    9  } Ref;\n   10  \n   11  void ref_clear(Ref* r);\n   12  void ref_free(Ref* r);\n   13  Ref* ref_new(ptr_t dup, ptr_t free, int argc, ptr_t argv[], JSContext* ctx);\n   14  Ref* ref_new2(ptr_t dup, ptr_t free, ptr_t a1, ptr_t a2, JSContext* ctx);\n   15  Ref* ref_new3(ptr_t dup, ptr_t free, ptr_t a1, ptr_t a2, ptr_t a3, JSContext* ctx);\n   16  Ref* ref_newjs(ptr_t dup, ptr_t free, JSValueConst arg, JSContext* ctx);\n   17  \n   18  static inline Ref*\n   19  ref_dup(Ref* r) {\n   20    ++r->ref_count;\n   21    return r;\n   22  }\n   23  \n   24  #endif /* QJSNET_LIB_REF_H */\n   25  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.h:\n    1  #ifndef QJSNET_LIB_FORM_PARSER_H\n    2  #define QJSNET_LIB_FORM_PARSER_H\n    3  \n    4  #include <libwebsockets.h>\n    5  #include <stdbool.h>\n    6  #include \"callback.h\"\n    7  \n    8  typedef struct form_parser {\n    9    int ref_count;\n   10    struct lws_spa_create_info spa_create_info;\n   11    struct lws_spa* spa;\n   12    struct lwsac* lwsac_head;\n   13    struct socket* ws;\n   14    struct {\n   15      JSCallback content, open, close, finalize;\n   16    } cb;\n   17    JSValue exception;\n   18    JSValue name, file;\n   19    size_t read;\n   20  } FormParser;\n   21  \n   22  void form_parser_init(FormParser*, struct socket* ws, int nparams, const char* const* param_names, size_t chunk_size);\n   23  FormParser* form_parser_alloc(JSContext*);\n   24  void form_parser_clear(FormParser*, JSContext* ctx);\n   25  void form_parser_clear_rt(FormParser*, JSRuntime* rt);\n   26  void form_parser_free(FormParser*, JSContext* ctx);\n   27  void form_parser_free_rt(FormParser*, JSRuntime* rt);\n   28  const char* form_parser_param_name(FormParser*, int index);\n   29  bool form_parser_param_valid(FormParser*, int index);\n   30  size_t form_parser_param_count(FormParser*);\n   31  int form_parser_param_index(FormParser*, const char* name);\n   32  bool form_parser_param_exists(FormParser*, const char* name);\n   33  int form_parser_process(FormParser*, const void* data, size_t len);\n   34  \n   35  #endif /* QJSNET_LIB_FORM_PARSER_H */\n   36  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/response.h:\n    1  #ifndef QJSNET_LIB_RESPONSE_H\n    2  #define QJSNET_LIB_RESPONSE_H\n    3  \n    4  #include <stdbool.h>\n    5  #include <stdint.h>\n    6  #include <sys/types.h>\n    7  #include \"url.h\"\n    8  #include \"buffer.h\"\n    9  #include \"generator.h\"\n   10  \n   11  struct session_data;\n   12  \n   13  typedef struct http_response {\n   14    int ref_count;\n   15    bool read_only : 1, headers_sent : 1, compress : 1;\n   16    URL url;\n   17    char* type;\n   18    int status;\n   19    char* status_text;\n   20    ByteBuffer headers;\n   21    Generator* generator;\n   22  } Response;\n   23  \n   24  void response_init(Response*, URL url, int32_t status, char* status_text, BOOL headers_sent, char* type);\n   25  Response* response_dup(Response*);\n   26  void response_clear(Response*, JSRuntime* rt);\n   27  void response_free(Response*, JSRuntime* rt);\n   28  Response* response_new(JSContext*);\n   29  \n   30  static inline Generator*\n   31  response_generator(struct http_response* resp, JSContext* ctx) {\n   32    if(!resp->generator)\n   33      resp->generator = generator_new(ctx);\n   34    return resp->generator;\n   35  }\n   36  \n   37  struct http_response* response_new(JSContext*);\n   38  \n   39  #endif /* QJSNET_LIB_RESPONSE_H */\n   40  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h:\n    1  #ifndef QJSNET_LIB_LWS_UTILS_H\n    2  #define QJSNET_LIB_LWS_UTILS_H\n    3  \n    4  #include <libwebsockets.h>\n    5  #include <stdbool.h>\n    6  \n    7  enum http_method {\n    8    METHOD_GET = 0,\n    9    METHOD_POST,\n   10    METHOD_OPTIONS,\n   11    METHOD_PATCH,\n   12    METHOD_PUT,\n   13    METHOD_DELETE,\n   14    METHOD_HEAD,\n   15  };\n   16  \n   17  typedef enum http_method HTTPMethod;\n   18  \n   19  static inline void*\n   20  wsi_context(struct lws* wsi) {\n   21    return lws_context_user(lws_get_context(wsi));\n   22  }\n   23  \n   24  bool wsi_http2(struct lws*);\n   25  bool wsi_tls(struct lws*);\n   26  void wsi_cert(struct lws*);\n   27  char* wsi_query_string_len(struct lws*, size_t* len_p);\n   28  bool wsi_token_exists(struct lws*, enum lws_token_indexes token);\n   29  char* wsi_token_len(struct lws*, enum lws_token_indexes token, size_t* len_p);\n   30  char* wsi_uri_and_method(struct lws*, HTTPMethod* method);\n   31  char* wsi_host_and_port(struct lws*, int* port);\n   32  const char* wsi_protocol_name(struct lws*);\n   33  char* wsi_vhost_and_port(struct lws*, int* port);\n   34  HTTPMethod wsi_method(struct lws*);\n   35  char* wsi_ipaddr(struct lws*);\n   36  const char* lws_callback_name(int);\n   37  \n   38  static inline char*\n   39  wsi_token(struct lws* wsi, enum lws_token_indexes token) {\n   40    return wsi_token_len(wsi, token, NULL);\n   41  }\n   42  \n   43  static inline bool\n   44  lws_reason_poll(int reason) {\n   45    switch(reason) {\n   46      case LWS_CALLBACK_LOCK_POLL:\n   47      case LWS_CALLBACK_UNLOCK_POLL:\n   48      case LWS_CALLBACK_ADD_POLL_FD:\n   49      case LWS_CALLBACK_DEL_POLL_FD:\n   50      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: return true;\n   51    }\n   52    return false;\n   53  }\n   54  \n   55  static inline bool\n   56  lws_reason_http(int reason) {\n   57    switch(reason) {\n   58      case LWS_CALLBACK_ESTABLISHED_CLIENT_HTTP:\n   59      case LWS_CALLBACK_CLOSED_CLIENT_HTTP:\n   60      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ:\n   61      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP:\n   62      case LWS_CALLBACK_CLIENT_HTTP_WRITEABLE:\n   63      case LWS_CALLBACK_CLIENT_HTTP_REDIRECT:\n   64      case LWS_CALLBACK_CLIENT_HTTP_BIND_PROTOCOL:\n   65      case LWS_CALLBACK_CLIENT_HTTP_DROP_PROTOCOL:\n   66      case LWS_CALLBACK_COMPLETED_CLIENT_HTTP:\n   67      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER:\n   68      case LWS_CALLBACK_ADD_HEADERS:\n   69      case LWS_CALLBACK_CLOSED_HTTP:\n   70      case LWS_CALLBACK_FILTER_HTTP_CONNECTION:\n   71      case LWS_CALLBACK_HTTP:\n   72      case LWS_CALLBACK_HTTP_BIND_PROTOCOL:\n   73      case LWS_CALLBACK_HTTP_BODY:\n   74      case LWS_CALLBACK_HTTP_BODY_COMPLETION:\n   75      case LWS_CALLBACK_HTTP_DROP_PROTOCOL:\n   76      case LWS_CALLBACK_HTTP_FILE_COMPLETION:\n   77      case LWS_CALLBACK_HTTP_WRITEABLE: return true;\n   78    }\n   79    return false;\n   80  }\n   81  \n   82  static inline bool\n   83  lws_reason_client(int reason) {\n   84    switch(reason) {\n   85      case LWS_CALLBACK_CONNECTING:\n   86      case LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER:\n   87      case LWS_CALLBACK_CLIENT_CLOSED:\n   88      case LWS_CALLBACK_CLIENT_CONFIRM_EXTENSION_SUPPORTED:\n   89      case LWS_CALLBACK_CLIENT_CONNECTION_ERROR:\n   90      case LWS_CALLBACK_CLIENT_ESTABLISHED:\n   91      case LWS_CALLBACK_CLIENT_FILTER_PRE_ESTABLISH:\n   92      case LWS_CALLBACK_CLIENT_HTTP_BIND_PROTOCOL:\n   93      case LWS_CALLBACK_CLIENT_HTTP_DROP_PROTOCOL:\n   94      case LWS_CALLBACK_CLIENT_HTTP_REDIRECT:\n   95      case LWS_CALLBACK_CLIENT_HTTP_WRITEABLE:\n   96      case LWS_CALLBACK_CLIENT_RECEIVE:\n   97      case LWS_CALLBACK_CLIENT_RECEIVE_PONG:\n   98      case LWS_CALLBACK_CLIENT_WRITEABLE:\n   99      case LWS_CALLBACK_CLOSED_CLIENT_HTTP:\n  100      case LWS_CALLBACK_COMPLETED_CLIENT_HTTP:\n  101      case LWS_CALLBACK_ESTABLISHED_CLIENT_HTTP:\n  102      case LWS_CALLBACK_MQTT_CLIENT_CLOSED:\n  103      case LWS_CALLBACK_MQTT_CLIENT_ESTABLISHED:\n  104      case LWS_CALLBACK_MQTT_CLIENT_RX:\n  105      case LWS_CALLBACK_MQTT_CLIENT_WRITEABLE:\n  106      case LWS_CALLBACK_MQTT_NEW_CLIENT_INSTANTIATED:\n  107      case LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS:\n  108      case LWS_CALLBACK_OPENSSL_PERFORM_CLIENT_CERT_VERIFICATION:\n  109      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP:\n  110      case LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ:\n  111      case LWS_CALLBACK_SERVER_NEW_CLIENT_INSTANTIATED:\n  112      case LWS_CALLBACK_WS_CLIENT_BIND_PROTOCOL:\n  113      case LWS_CALLBACK_WS_CLIENT_DROP_PROTOCOL: return true;\n  114    }\n  115    return false;\n  116  }\n  117  \n  118  static inline int\n  119  wsi_query_len(struct lws* wsi) {\n  120    return lws_hdr_total_length(wsi, WSI_TOKEN_HTTP_URI_ARGS);\n  121  }\n  122  \n  123  #endif /* QJSNET_LIB_LWS_UTILS_H */\n  124  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ws.c:\n    1  #include \"ws.h\"\n    2  #include \"buffer.h\"\n    3  #include \"jsutils.h\"\n    4  #include \"opaque.h\"\n    5  #include \"session.h\"\n    6  #include \"ringbuffer.h\"\n    7  #include <strings.h>\n    8  #include <assert.h>\n    9  #include <libwebsockets.h>\n   10  \n   11  struct socket*\n   12  ws_new(struct lws* wsi, JSContext* ctx) {\n   13    struct socket* ws;\n   14    struct wsi_opaque_user_data* opaque;\n   15  \n   16    if(!(ws = js_mallocz(ctx, sizeof(struct socket))))\n   17      return 0;\n   18  \n   19    ws->lwsi = wsi;\n   20    ws->ref_count = 2;\n   21    // ringbuffer_init2(&ws->sendq, sizeof(ByteBlock), 65536 * 2);\n   22  \n   23    if((opaque = lws_opaque(wsi, ctx))) {\n   24      opaque->ws = ws;\n   25      opaque->status = 0;\n   26    }\n   27  \n   28    return ws;\n   29  }\n   30  \n   31  void\n   32  ws_clear_rt(struct socket* ws, JSRuntime* rt) {\n   33    struct lws* wsi = ws->lwsi;\n   34  \n   35    ws->lwsi = 0;\n   36  \n   37    if(wsi) {\n   38      struct wsi_opaque_user_data* opaque;\n   39  \n   40      if((opaque = lws_get_opaque_user_data(wsi))) {\n   41        lws_set_opaque_user_data(wsi, 0);\n   42        opaque_free_rt(opaque, rt);\n   43  \n   44        /*  if(status < CLOSING)\n   45            lws_close_free_wsi(wsi, LWS_CLOSE_STATUS_NOSTATUS, __func__);*/\n   46      }\n   47    }\n   48  \n   49    // ringbuffer_zero(&ws->sendq);\n   50  }\n   51  \n   52  void\n   53  ws_clear(struct socket* ws, JSContext* ctx) {\n   54    ws_clear_rt(ws, JS_GetRuntime(ctx));\n   55  }\n   56  \n   57  void\n   58  ws_free_rt(struct socket* ws, JSRuntime* rt) {\n   59    if(--ws->ref_count == 0) {\n   60      ws_clear_rt(ws, rt);\n   61      js_free_rt(rt, ws);\n   62    }\n   63  }\n   64  \n   65  void\n   66  ws_free(struct socket* ws, JSContext* ctx) {\n   67    if(--ws->ref_count == 0) {\n   68      ws_clear(ws, ctx);\n   69      js_free(ctx, ws);\n   70    }\n   71  }\n   72  \n   73  struct socket*\n   74  ws_dup(struct socket* ws) {\n   75    ++ws->ref_count;\n   76    return ws;\n   77  }\n   78  \n   79  QueueItem*\n   80  ws_enqueue(struct socket* ws, ByteBlock chunk) {\n   81    struct wsi_opaque_user_data* opaque;\n   82    QueueItem* item = 0;\n   83  \n   84    if((opaque = lws_get_opaque_user_data(ws->lwsi))) {\n   85      struct session_data* session = opaque->sess;\n   86  \n   87      if((item = queue_add(&session->sendq, chunk))) {\n   88  \n   89        lws_callback_on_writable(ws->lwsi);\n   90      }\n   91    }\n   92  \n   93    return item;\n   94  }\n   95  \n   96  QueueItem*\n   97  ws_send(struct socket* ws, const void* data, size_t size, JSContext* ctx) {\n   98    ByteBlock chunk = block_copy(data, size);\n   99  \n  100    return ws_enqueue(ws, chunk);\n  101  }\n  102  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/assure.h:\n    1  /* Run-time assert-like macros.\n    2  \n    3     Copyright (C) 2014-2020 Free Software Foundation, Inc.\n    4  \n    5     This program is free software: you can redistribute it and/or modify\n    6     it under the terms of the GNU General Public License as published by\n    7     the Free Software Foundation; either version 3 of the License, or\n    8     (at your option) any later version.\n    9  \n   10     This program is distributed in the hope that it will be useful,\n   11     but WITHOUT ANY WARRANTY; without even the implied warranty of\n   12     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n   13     GNU General Public License for more details.\n   14  \n   15     You should have received a copy of the GNU General Public License\n   16     along with this program.  If not, see <https://www.gnu.org/licenses/>.  */\n   17  \n   18  /* Written by Paul Eggert.  */\n   19  \n   20  #ifndef _GL_ASSURE_H\n   21  #define _GL_ASSURE_H\n   22  \n   23  #include <assert.h>\n   24  \n   25  /* Check E's value at runtime, and report an error and abort if not.\n   26     However, do nothing if NDEBUG is defined.\n   27  \n   28     Unlike standard 'assert', this macro always compiles E even when NDEBUG\n   29     is defined, so as to catch typos and avoid some GCC warnings.  */\n   30  \n   31  #ifdef NDEBUG\n   32  #define assure(E) ((void)(0 && (E)))\n   33  #else\n   34  #define assure(E) assert(E)\n   35  #endif\n   36  \n   37  #endif\n   38  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/deferred.c:\n    1  #include <assert.h>\n    2  #include \"deferred.h\"\n    3  #include \"jsutils.h\"\n    4  \n    5  void\n    6  deferred_clear(Deferred* def) {\n    7    def->num_calls = 0;\n    8    def->only_once = FALSE;\n    9    def->func = 0;\n   10  \n   11    for(int i = 0; i < 8; i++) { def->argv[i] = 0; }\n   12  }\n   13  \n   14  void\n   15  deferred_free(Deferred* def) {\n   16    if(def->next)\n   17      deferred_destructor(def->next);\n   18  \n   19    if(--def->ref_count == 0) {\n   20      deferred_clear(def);\n   21      free(def);\n   22    }\n   23  }\n   24  \n   25  Deferred*\n   26  deferred_newv(ptr_t fn, int argc, ptr_t argv[]) {\n   27    Deferred* def;\n   28  \n   29    if(!(def = malloc(sizeof(Deferred))))\n   30      return 0;\n   31  \n   32    deferred_init(def, fn, argc, argv);\n   33  \n   34    def->ref_count = 1;\n   35    def->num_calls = 0;\n   36    def->only_once = FALSE;\n   37  \n   38    return def;\n   39  }\n   40  \n   41  Deferred*\n   42  deferred_newjs(JSValue func, JSContext* ctx) {\n   43    Deferred* def;\n   44    /*ptr_t args[] = {\n   45        ctx,\n   46        ((ptr_t*)&v)[0],\n   47        ((ptr_t*)&v)[1],\n   48    };\n   49    def = deferred_newv(fn, 3, args);*/\n   50    def = deferred_new(&JS_Call, ctx, func, JS_UNDEFINED);\n   51  \n   52    def->next = deferred_new(&JS_FreeValue, ctx, func);\n   53    return def;\n   54  }\n   55  \n   56  void\n   57  deferred_init(Deferred* def, ptr_t fn, int argc, ptr_t argv[]) {\n   58    int i;\n   59  \n   60    def->ref_count = 0;\n   61    def->func = fn;\n   62  \n   63    for(i = 0; i < 8; i++) { def->argv[i] = i < argc ? argv[i] : 0; }\n   64  \n   65    def->argc = argc;\n   66    def->num_calls = 0;\n   67    def->only_once = FALSE;\n   68    def->next = 0;\n   69  }\n   70  \n   71  DoubleWord\n   72  deferred_call_x(Deferred* def, ...) {\n   73    ptr_t const* av = def->argv;\n   74    DoubleWord ret = {{0, 0}};\n   75    va_list a;\n   76    int argc = def->argc;\n   77    size_t arg;\n   78  \n   79    va_start(a, def);\n   80  \n   81    while(argc < countof(def->argv) && (arg = va_arg(a, size_t))) {\n   82      if(arg == DEFERRED_SENTINEL)\n   83        break;\n   84      def->argv[argc++] = (ptr_t)arg;\n   85    }\n   86  \n   87    va_end(a);\n   88  \n   89    assert(!def->only_once || def->num_calls < 1);\n   90  \n   91    if(!def->only_once || def->num_calls < 1) {\n   92  \n   93      if(def->func == (void*)&JS_Call)\n   94        ret = def->func(av[0], av[1], av[2], av[3], av[4], (ptr_t)(size_t)((argc - def->argc) > 0 ? 1 : 0), (ptr_t)&av[def->argc], 0);\n   95      else\n   96        ret = def->func(av[0], av[1], av[2], av[3], av[4], av[5], av[6], av[7]);\n   97  \n   98      ++def->num_calls;\n   99    }\n  100  \n  101    return ret;\n  102  }\n  103  \n  104  void\n  105  deferred_destructor(void* ptr) {\n  106    Deferred* def = ptr;\n  107  \n  108    do {\n  109      ptr = def->next;\n  110      def->next = NULL;\n  111      deferred_call(def);\n  112      deferred_free(def);\n  113    } while((def = ptr));\n  114  }\n  115  \n  116  void\n  117  deferred_finalizer(JSRuntime* rt, void* opaque, void* ptr) {\n  118    deferred_destructor(opaque);\n  119  }\n  120  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/query.c:\n    1  #include \"query.h\"\n    2  \n    3  JSValue\n    4  query_object(const char* q, JSContext* ctx) {\n    5    return query_object_len(q, strlen(q), ctx);\n    6  }\n    7  \n    8  JSValue\n    9  query_object_len(const char* q, size_t n, JSContext* ctx) {\n   10    const char *p, *end = q + n;\n   11    size_t entrylen;\n   12    JSValue ret = JS_NewObject(ctx);\n   13    JSEntry entry = JS_ENTRY();\n   14  \n   15    for(p = q; p < end; p += entrylen + 1) {\n   16      entrylen = byte_chr(p, end - p, '&');\n   17      if(query_entry(p, entrylen, ctx, &entry))\n   18        js_entry_apply(ctx, &entry, ret);\n   19    }\n   20    return ret;\n   21  }\n   22  \n   23  BOOL\n   24  query_entry(const char* q, size_t n, JSContext* ctx, JSEntry* entry) {\n   25    size_t len;\n   26  \n   27    if((len = byte_chr(q, n, '=')) < n) {\n   28      char* decoded;\n   29      const char *value = q + len + 1, *end = q + n;\n   30  \n   31      js_entry_clear(ctx, entry);\n   32  \n   33      entry->key = JS_NewAtomLen(ctx, q, len);\n   34      len = end - value;\n   35  \n   36      decoded = js_strndup(ctx, value, len);\n   37      lws_urldecode(decoded, decoded, len + 1);\n   38      entry->value = JS_NewString(ctx, decoded);\n   39      js_free(ctx, decoded);\n   40      return TRUE;\n   41    }\n   42  \n   43    return FALSE;\n   44  }\n   45  \n   46  char*\n   47  query_from(JSValueConst obj, JSContext* ctx) {\n   48    JSPropertyEnum* tab;\n   49    uint32_t tab_len, i;\n   50    DynBuf out;\n   51    dbuf_init2(&out, ctx, (DynBufReallocFunc*)js_realloc);\n   52  \n   53    if(JS_GetOwnPropertyNames(ctx, &tab, &tab_len, obj, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK))\n   54      return 0;\n   55  \n   56    for(i = 0; i < tab_len; i++) {\n   57      JSValue value = JS_GetProperty(ctx, obj, tab[i].atom);\n   58      size_t len;\n   59      const char *prop, *str;\n   60  \n   61      str = JS_ToCStringLen(ctx, &len, value);\n   62      prop = JS_AtomToCString(ctx, tab[i].atom);\n   63  \n   64      dbuf_putstr(&out, prop);\n   65      dbuf_putc(&out, '=');\n   66      dbuf_realloc(&out, out.size + (len * 3) + 1);\n   67  \n   68      lws_urlencode((char*)&out.buf[out.size], str, out.allocated_size - out.size);\n   69      out.size += strlen((const char*)&out.buf[out.size]);\n   70  \n   71      JS_FreeCString(ctx, prop);\n   72      JS_FreeCString(ctx, str);\n   73  \n   74      JS_FreeValue(ctx, value);\n   75    }\n   76  \n   77    js_free(ctx, tab);\n   78    return (char*)out.buf;\n   79  }\n   80  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.c:\n    1  #include \"ringbuffer.h\"\n    2  #include \"utils.h\"\n    3  #include <quickjs.h>\n    4  #include <assert.h>\n    5  #include <libwebsockets.h>\n    6  #include <pthread.h>\n    7  \n    8  /*void\n    9  ringbuffer_dump(struct ringbuffer const* rb) {\n   10    [object Object]\n   11  }\n   12  */\n   13  void\n   14  ringbuffer_destroy_element(void* element) {}\n   15  \n   16  void\n   17  ringbuffer_init(struct ringbuffer* rb, size_t element_len, size_t count, const char* type, size_t typelen) {\n   18    if(type)\n   19      pstrcpy(rb->type, MIN(typelen + 1, sizeof(rb->type)), type);\n   20  \n   21    rb->size = count;\n   22    rb->element_len = element_len;\n   23    rb->ring = lws_ring_create(element_len, count, ringbuffer_destroy_element);\n   24  \n   25    pthread_mutex_init(&rb->lock_ring, 0);\n   26  }\n   27  \n   28  struct ringbuffer*\n   29  ringbuffer_new(JSContext* ctx) {\n   30    struct ringbuffer* rb;\n   31  \n   32    if((rb = js_mallocz(ctx, sizeof(struct ringbuffer))))\n   33      rb->ref_count = 1;\n   34  \n   35    return rb;\n   36  }\n   37  \n   38  size_t\n   39  ringbuffer_insert(struct ringbuffer* rb, const void* ptr, size_t n) {\n   40    size_t ret;\n   41    assert(rb->ring);\n   42  \n   43    pthread_mutex_lock(&rb->lock_ring);\n   44  \n   45    ret = lws_ring_insert(rb->ring, ptr, n);\n   46    pthread_mutex_unlock(&rb->lock_ring);\n   47  \n   48    return ret;\n   49  }\n   50  \n   51  size_t\n   52  ringbuffer_consume(struct ringbuffer* rb, void* ptr, size_t n) {\n   53    size_t ret;\n   54    assert(rb->ring);\n   55    pthread_mutex_lock(&rb->lock_ring);\n   56  \n   57    ret = lws_ring_consume(rb->ring, 0, ptr, n);\n   58  \n   59    pthread_mutex_unlock(&rb->lock_ring);\n   60    return ret;\n   61  }\n   62  \n   63  size_t\n   64  ringbuffer_skip(struct ringbuffer* rb, size_t n) {\n   65    size_t ret;\n   66    assert(rb->ring);\n   67    pthread_mutex_lock(&rb->lock_ring);\n   68  \n   69    ret = lws_ring_consume(rb->ring, 0, 0, n);\n   70  \n   71    pthread_mutex_unlock(&rb->lock_ring);\n   72    return ret;\n   73  }\n   74  \n   75  const void*\n   76  ringbuffer_next(struct ringbuffer* rb) {\n   77    assert(rb->ring);\n   78    return lws_ring_get_element(rb->ring, 0);\n   79  }\n   80  \n   81  size_t\n   82  ringbuffer_waiting(struct ringbuffer* rb) {\n   83    assert(rb->ring);\n   84    return lws_ring_get_count_waiting_elements(rb->ring, 0);\n   85  }\n   86  \n   87  size_t\n   88  ringbuffer_bytelength(struct ringbuffer* rb) {\n   89    return rb->size * rb->element_len;\n   90  }\n   91  \n   92  size_t\n   93  ringbuffer_avail(struct ringbuffer* rb) {\n   94    assert(rb->ring);\n   95    return lws_ring_get_count_free_elements(rb->ring);\n   96  }\n   97  \n   98  void\n   99  ringbuffer_zero(struct ringbuffer* rb) {\n  100    lws_ring_destroy(rb->ring);\n  101    memset(rb, 0, sizeof(struct ringbuffer));\n  102  }\n  103  \n  104  void\n  105  ringbuffer_free(struct ringbuffer* rb, JSContext* ctx) {\n  106    ringbuffer_free_rt(rb, JS_GetRuntime(ctx));\n  107  }\n  108  \n  109  void\n  110  ringbuffer_free_rt(struct ringbuffer* rb, JSRuntime* rt) {\n  111    if(--rb->ref_count == 0) {\n  112      ringbuffer_zero(rb);\n  113      js_free_rt(rt, rb);\n  114    }\n  115  }\n  116  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/opaque.c:\n    1  #include \"opaque.h\"\n    2  #include \"ws.h\"\n    3  #include \"request.h\"\n    4  #include \"response.h\"\n    5  #include \"form-parser.h\"\n    6  #include <assert.h>\n    7  \n    8  // static THREAD_LOCAL void* prev_ptr = 0;\n    9  THREAD_LOCAL int64_t serial = 0;\n   10  THREAD_LOCAL struct list_head opaque_list = {0, 0};\n   11  \n   12  void\n   13  opaque_clear_rt(struct wsi_opaque_user_data* opaque, JSRuntime* rt) {\n   14    if(opaque->ws) {\n   15      struct socket* ws = opaque->ws;\n   16      opaque->ws = 0;\n   17      ws_free_rt(ws, rt);\n   18    }\n   19    if(opaque->req) {\n   20      Request* req = opaque->req;\n   21      opaque->req = 0;\n   22      request_free(req, rt);\n   23    }\n   24    if(opaque->resp) {\n   25      Response* resp = opaque->resp;\n   26      opaque->resp = 0;\n   27      response_free(resp, rt);\n   28    }\n   29    if(opaque->form_parser) {\n   30      form_parser_free_rt(opaque->form_parser, rt);\n   31      opaque->form_parser = 0;\n   32    }\n   33  }\n   34  \n   35  void\n   36  opaque_free_rt(struct wsi_opaque_user_data* opaque, JSRuntime* rt) {\n   37    opaque_clear_rt(opaque, rt);\n   38  \n   39    if(--opaque->ref_count == 0) {\n   40      assert(opaque->link.next);\n   41      list_del(&opaque->link);\n   42  \n   43      js_free_rt(rt, opaque);\n   44    }\n   45  }\n   46  \n   47  void\n   48  opaque_free(struct wsi_opaque_user_data* opaque, JSContext* ctx) {\n   49    opaque_free_rt(opaque, JS_GetRuntime(ctx));\n   50  }\n   51  \n   52  struct wsi_opaque_user_data*\n   53  opaque_new(JSContext* ctx) {\n   54    struct wsi_opaque_user_data* opaque;\n   55  \n   56    if((opaque = js_mallocz(ctx, sizeof(struct wsi_opaque_user_data)))) {\n   57      opaque->serial = ++serial;\n   58      opaque->status = CONNECTING;\n   59      opaque->ref_count = 1;\n   60  \n   61      if(opaque_list.prev == NULL)\n   62        init_list_head(&opaque_list);\n   63  \n   64      list_add(&opaque->link, &opaque_list);\n   65    }\n   66  \n   67    return opaque;\n   68  }\n   69  \n   70  struct wsi_opaque_user_data*\n   71  lws_opaque(struct lws* wsi, JSContext* ctx) {\n   72    struct wsi_opaque_user_data* opaque;\n   73  \n   74    if((opaque = lws_get_opaque_user_data(wsi)))\n   75      return opaque;\n   76  \n   77    assert(ctx);\n   78  \n   79    opaque = opaque_new(ctx);\n   80  \n   81    lws_set_opaque_user_data(wsi, opaque);\n   82    return opaque;\n   83  }\n   84  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/context.h:\n    1  #ifndef QJSNET_LIB_CONTEXT_H\n    2  #define QJSNET_LIB_CONTEXT_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <cutils.h>\n    6  #include <list.h>\n    7  #include <libwebsockets.h>\n    8  \n    9  struct context {\n   10    int ref_count;\n   11    JSContext* js;\n   12    struct lws_context* lws;\n   13    BOOL exception;\n   14    JSValue error;\n   15    JSValue crt, key, ca;\n   16    struct TimerClosure* timer;\n   17    struct list_head link;\n   18    struct lws_context_creation_info info;\n   19  };\n   20  \n   21  JSValue context_exception(struct context*, JSValueConst retval);\n   22  void context_clear(struct context*);\n   23  void context_add(struct context*);\n   24  void context_delete(struct context*);\n   25  struct context* context_for_fd(int, struct lws** p_wsi);\n   26  \n   27  #endif /* QJSNET_LIB_CONTEXT_H */\n   28  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/poll.c:\n    1  /* Emulation for poll(2)\n    2     Contributed by Paolo Bonzini.\n    3  \n    4     Copyright 2001-2003, 2006-2020 Free Software Foundation, Inc.\n    5  \n    6     This file is part of gnulib.\n    7  \n    8     This program is free software; you can redistribute it and/or modify\n    9     it under the terms of the GNU General Public License as published by\n   10     the Free Software Foundation; either version 3, or (at your option)\n   11     any later version.\n   12  \n   13     This program is distributed in the hope that it will be useful,\n   14     but WITHOUT ANY WARRANTY; without even the implied warranty of\n   15     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n   16     GNU General Public License for more details.\n   17  \n   18     You should have received a copy of the GNU General Public License along\n   19     with this program; if not, see <https://www.gnu.org/licenses/>.  */\n   20  \n   21  #ifndef HAVE_POLL\n   22  \n   23  /* Tell gcc not to warn about the (nfd < 0) tests, below.  */\n   24  #if(__GNUC__ == 4 && 3 <= __GNUC_MINOR__) || 4 < __GNUC__\n   25  #pragma GCC diagnostic ignored \"-Wtype-limits\"\n   26  #endif\n   27  \n   28  #include <alloca.h>\n   29  \n   30  #include <sys/types.h>\n   31  \n   32  /* Specification.  */\n   33  #include \"poll.h\"\n   34  \n   35  #include <errno.h>\n   36  #include <limits.h>\n   37  \n   38  #ifndef __MSYS__\n   39  #if defined(_WIN32) && !defined(__CYGWIN__)\n   40  #define WINDOWS_NATIVE\n   41  #include <winsock2.h>\n   42  #include <windows.h>\n   43  #include <io.h>\n   44  #include <stdio.h>\n   45  #include <conio.h>\n   46  #if GNULIB_MSVC_NOTHROW\n   47  #include \"msvc-nothrow.h\"\n   48  #else\n   49  #include <io.h>\n   50  #endif\n   51  #else\n   52  #include <sys/time.h>\n   53  #include <sys/socket.h>\n   54  #include <unistd.h>\n   55  #endif\n   56  \n   57  /*#include <sys/select.h>\n   58  #include <sys/socket.h>*/\n   59  \n   60  #ifdef HAVE_SYS_IOCTL_H\n   61  #include <sys/ioctl.h>\n   62  #endif\n   63  #ifdef HAVE_SYS_FILIO_H\n   64  #include <sys/filio.h>\n   65  #endif\n   66  \n   67  #include <time.h>\n   68  \n   69  #include \"assure.h\"\n   70  \n   71  #ifndef INFTIM\n   72  #define INFTIM (-1)\n   73  #endif\n   74  \n   75  /* BeOS does not have MSG_PEEK.  */\n   76  #ifndef MSG_PEEK\n   77  #define MSG_PEEK 0\n   78  #endif\n   79  \n   80  #ifdef WINDOWS_NATIVE\n   81  \n   82  /* Do *not* use the function WSAPoll\n   83     <https://docs.microsoft.com/en-us/windows/desktop/api/winsock2/nf-winsock2-wsapoll>\n   84     because there is a bug named ‚ÄúWindows 8 Bugs 309411 - WSAPoll does not\n   85     report failed connections‚Äù that Microsoft won't fix.\n   86     See Daniel Stenberg: \"WASPoll is broken\"\n   87     <https://daniel.haxx.se/blog/2012/10/10/wsapoll-is-broken/>.  */\n   88  \n   89  /* Here we need the recv() function from Windows, that takes a SOCKET as\n   90     first argument, not any possible gnulib override.  */\n   91  #undef recv\n   92  \n   93  /* Here we need the select() function from Windows, because we pass bit masks\n   94     of SOCKETs, not bit masks of FDs.  */\n   95  #undef select\n   96  \n   97  /* Here we need timeval from Windows since this is what the select() function\n   98     from Windows requires.  */\n   99  #undef timeval\n  100  \n  101  /* Avoid warnings from gcc -Wcast-function-type.  */\n  102  #define GetProcAddress (void*)GetProcAddress\n  103  \n  104  static BOOL\n  105  IsConsoleHandle(HANDLE h) {\n  106    DWORD mode;\n  107    return GetConsoleMode(h, &mode) != 0;\n  108  }\n  109  \n  110  static BOOL\n  111  IsSocketHandle(HANDLE h) {\n  112    WSANETWORKEVENTS ev;\n  113  \n  114    if(IsConsoleHandle(h))\n  115      return FALSE;\n  116  \n  117    /* Under Wine, it seems that getsockopt returns 0 for pipes too.\n  118       WSAEnumNetworkEvents instead distinguishes the two correctly.  */\n  119    ev.lNetworkEvents = 0xDEADBEEF;\n  120    WSAEnumNetworkEvents((SOCKET)h, NULL, &ev);\n  121    return ev.lNetworkEvents != 0xDEADBEEF;\n  122  }\n  123  \n  124  /* Declare data structures for ntdll functions.  */\n  125  typedef struct _FILE_PIPE_LOCAL_INFORMATION {\n  126    ULONG NamedPipeType;\n  127    ULONG NamedPipeConfiguration;\n  128    ULONG MaximumInstances;\n  129    ULONG CurrentInstances;\n  130    ULONG InboundQuota;\n  131    ULONG ReadDataAvailable;\n  132    ULONG OutboundQuota;\n  133    ULONG WriteQuotaAvailable;\n  134    ULONG NamedPipeState;\n  135    ULONG NamedPipeEnd;\n  136  } FILE_PIPE_LOCAL_INFORMATION, *PFILE_PIPE_LOCAL_INFORMATION;\n  137  \n  138  typedef struct _IO_STATUS_BLOCK {\n  139    union {\n  140      DWORD Status;\n  141      PVOID Pointer;\n  142    } u;\n  143    ULONG_PTR Information;\n  144  } IO_STATUS_BLOCK, *PIO_STATUS_BLOCK;\n  145  \n  146  typedef enum _FILE_INFORMATION_CLASS { FilePipeLocalInformation = 24 } FILE_INFORMATION_CLASS, *PFILE_INFORMATION_CLASS;\n  147  \n  148  typedef DWORD(WINAPI* PNtQueryInformationFile)(HANDLE, IO_STATUS_BLOCK*, VOID*, ULONG, FILE_INFORMATION_CLASS);\n  149  \n  150  #ifndef PIPE_BUF\n  151  #define PIPE_BUF 512\n  152  #endif\n  153  \n  154  /* Compute revents values for file handle H.  If some events cannot happen\n  155     for the handle, eliminate them from *P_SOUGHT.  */\n  156  \n  157  static int\n  158  windows_compute_revents(HANDLE h, int* p_sought) {\n  159    int i, ret, happened;\n  160    INPUT_RECORD* irbuffer;\n  161    DWORD avail, nbuffer;\n  162    BOOL bRet;\n  163    IO_STATUS_BLOCK iosb;\n  164    FILE_PIPE_LOCAL_INFORMATION fpli;\n  165    static PNtQueryInformationFile NtQueryInformationFile;\n  166    static BOOL once_only;\n  167  \n  168    switch(GetFileType(h)) {\n  169      case FILE_TYPE_PIPE:\n  170        if(!once_only) {\n  171          NtQueryInformationFile = (PNtQueryInformationFile)GetProcAddress(GetModuleHandle(\"ntdll.dll\"), \"NtQueryInformationFile\");\n  172          once_only = TRUE;\n  173        }\n  174  \n  175        happened = 0;\n  176        if(PeekNamedPipe(h, NULL, 0, NULL, &avail, NULL) != 0) {\n  177          if(avail)\n  178            happened |= *p_sought & (POLLIN | POLLRDNORM);\n  179        } else if(GetLastError() == ERROR_BROKEN_PIPE)\n  180          happened |= POLLHUP;\n  181  \n  182        else {\n  183          /* It was the write-end of the pipe.  Check if it is writable.\n  184             If NtQueryInformationFile fails, optimistically assume the pipe is\n  185             writable.  This could happen on Windows 9x, where\n  186             NtQueryInformationFile is not available, or if we inherit a pipe\n  187             that doesn't permit FILE_READ_ATTRIBUTES access on the write end\n  188             (I think this should not happen since Windows XP SP2; WINE seems\n  189             fine too).  Otherwise, ensure that enough space is available for\n  190             atomic writes.  */\n  191          memset(&iosb, 0, sizeof(iosb));\n  192          memset(&fpli, 0, sizeof(fpli));\n  193  \n  194          if(!NtQueryInformationFile || NtQueryInformationFile(h, &iosb, &fpli, sizeof(fpli), FilePipeLocalInformation) || fpli.WriteQuotaAvailable >= PIPE_BUF ||\n  195             (fpli.OutboundQuota < PIPE_BUF && fpli.WriteQuotaAvailable == fpli.OutboundQuota))\n  196            happened |= *p_sought & (POLLOUT | POLLWRNORM | POLLWRBAND);\n  197        }\n  198        return happened;\n  199  \n  200      case FILE_TYPE_CHAR:\n  201        ret = WaitForSingleObject(h, 0);\n  202        if(!IsConsoleHandle(h))\n  203          return ret == WAIT_OBJECT_0 ? *p_sought & ~(POLLPRI | POLLRDBAND) : 0;\n  204  \n  205        nbuffer = avail = 0;\n  206        bRet = GetNumberOfConsoleInputEvents(h, &nbuffer);\n  207        if(bRet) {\n  208          /* Input buffer.  */\n  209          *p_sought &= POLLIN | POLLRDNORM;\n  210          if(nbuffer == 0)\n  211            return POLLHUP;\n  212          if(!*p_sought)\n  213            return 0;\n  214  \n  215          irbuffer = (INPUT_RECORD*)alloca(nbuffer * sizeof(INPUT_RECORD));\n  216          bRet = PeekConsoleInput(h, irbuffer, nbuffer, &avail);\n  217          if(!bRet || avail == 0)\n  218            return POLLHUP;\n  219  \n  220          for(i = 0; i < avail; i++)\n  221            if(irbuffer[i].EventType == KEY_EVENT)\n  222              return *p_sought;\n  223          return 0;\n  224        } else {\n  225          /* Screen buffer.  */\n  226          *p_sought &= POLLOUT | POLLWRNORM | POLLWRBAND;\n  227          return *p_sought;\n  228        }\n  229  \n  230      default:\n  231        ret = WaitForSingleObject(h, 0);\n  232        if(ret == WAIT_OBJECT_0)\n  233          return *p_sought & ~(POLLPRI | POLLRDBAND);\n  234  \n  235        return *p_sought & (POLLOUT | POLLWRNORM | POLLWRBAND);\n  236    }\n  237  }\n  238  \n  239  /* Convert fd_sets returned by select into revents values.  */\n  240  \n  241  static int\n  242  windows_compute_revents_socket(SOCKET h, int sought, long lNetworkEvents) {\n  243    int happened = 0;\n  244  \n  245    if((lNetworkEvents & (FD_READ | FD_ACCEPT | FD_CLOSE)) == FD_ACCEPT)\n  246      happened |= (POLLIN | POLLRDNORM) & sought;\n  247  \n  248    else if(lNetworkEvents & (FD_READ | FD_ACCEPT | FD_CLOSE)) {\n  249      int r, error;\n  250  \n  251      char data[64];\n  252      WSASetLastError(0);\n  253      r = recv(h, data, sizeof(data), MSG_PEEK);\n  254      error = WSAGetLastError();\n  255      WSASetLastError(0);\n  256  \n  257      if(r > 0 || error == WSAENOTCONN)\n  258        happened |= (POLLIN | POLLRDNORM) & sought;\n  259  \n  260      /* Distinguish hung-up sockets from other errors.  */\n  261      else if(r == 0 || error == WSAESHUTDOWN || error == WSAECONNRESET || error == WSAECONNABORTED || error == WSAENETRESET)\n  262        happened |= POLLHUP;\n  263  \n  264      else\n  265        happened |= POLLERR;\n  266    }\n  267  \n  268    if(lNetworkEvents & (FD_WRITE | FD_CONNECT))\n  269      happened |= (POLLOUT | POLLWRNORM | POLLWRBAND) & sought;\n  270  \n  271    if(lNetworkEvents & FD_OOB)\n  272      happened |= (POLLPRI | POLLRDBAND) & sought;\n  273  \n  274    return happened;\n  275  }\n  276  \n  277  #else /* !MinGW */\n  278  \n  279  /* Convert select(2) returned fd_sets into poll(2) revents values.  */\n  280  static int\n  281  compute_revents(int fd, int sought, fd_set* rfds, fd_set* wfds, fd_set* efds) {\n  282    int happened = 0;\n  283    if(FD_ISSET(fd, rfds)) {\n  284      int r;\n  285      int socket_errno;\n  286  \n  287  #if defined __MACH__ && defined __APPLE__\n  288      /* There is a bug in Mac OS X that causes it to ignore MSG_PEEK\n  289         for some kinds of descriptors.  Detect if this descriptor is a\n  290         connected socket, a server socket, or something else using a\n  291         0-byte recv, and use ioctl(2) to detect POLLHUP.  */\n  292      r = recv(fd, NULL, 0, MSG_PEEK);\n  293      socket_errno = (r < 0) ? errno : 0;\n  294      if(r == 0 || socket_errno == ENOTSOCK)\n  295        ioctl(fd, FIONREAD, &r);\n  296  #else\n  297      char data[64];\n  298      r = recv(fd, data, sizeof(data), MSG_PEEK);\n  299      socket_errno = (r < 0) ? errno : 0;\n  300  #endif\n  301      if(r == 0)\n  302        happened |= POLLHUP;\n  303  \n  304      /* If the event happened on an unconnected server socket,\n  305         that's fine. */\n  306      else if(r > 0 || (/* (r == -1) && */ socket_errno == ENOTCONN))\n  307        happened |= (POLLIN | POLLRDNORM) & sought;\n  308  \n  309      /* Distinguish hung-up sockets from other errors.  */\n  310      else if(socket_errno == ESHUTDOWN || socket_errno == ECONNRESET || socket_errno == ECONNABORTED || socket_errno == ENETRESET)\n  311        happened |= POLLHUP;\n  312  \n  313      /* some systems can't use recv() on non-socket, including HP NonStop */\n  314      else if(socket_errno == ENOTSOCK)\n  315        happened |= (POLLIN | POLLRDNORM) & sought;\n  316  \n  317      else\n  318        happened |= POLLERR;\n  319    }\n  320  \n  321    if(FD_ISSET(fd, wfds))\n  322      happened |= (POLLOUT | POLLWRNORM | POLLWRBAND) & sought;\n  323  \n  324    if(FD_ISSET(fd, efds))\n  325      happened |= (POLLPRI | POLLRDBAND) & sought;\n  326  \n  327    return happened;\n  328  }\n  329  \n  330  #endif /* !MinGW */\n  331  \n  332  int\n  333  poll(struct pollfd* pfd, nfds_t nfd, int timeout) {\n  334  #ifndef WINDOWS_NATIVE\n  335    fd_set rfds, wfds, efds;\n  336    struct timeval tv;\n  337    struct timeval* ptv;\n  338    int maxfd, rc;\n  339    nfds_t i;\n  340  \n  341    if(nfd > INT_MAX) {\n  342      errno = EINVAL;\n  343      return -1;\n  344    }\n  345    /* Don't check directly for NFD greater than OPEN_MAX.  Any practical use\n  346       of a too-large NFD is caught by one of the other checks below, and\n  347       checking directly for getdtablesize is too much of a portability\n  348       and/or performance and/or correctness hassle.  */\n  349  \n  350    /* EFAULT is not necessary to implement, but let's do it in the\n  351       simplest case. */\n  352    if(!pfd && nfd) {\n  353      errno = EFAULT;\n  354      return -1;\n  355    }\n  356  \n  357    /* convert timeout number into a timeval structure */\n  358    if(timeout == 0) {\n  359      ptv = &tv;\n  360      ptv->tv_sec = 0;\n  361      ptv->tv_usec = 0;\n  362    } else if(timeout > 0) {\n  363      ptv = &tv;\n  364      ptv->tv_sec = timeout / 1000;\n  365      ptv->tv_usec = (timeout % 1000) * 1000;\n  366    } else if(timeout == INFTIM)\n  367      /* wait forever */\n  368      ptv = NULL;\n  369    else {\n  370      errno = EINVAL;\n  371      return -1;\n  372    }\n  373  \n  374    /* create fd sets and determine max fd */\n  375    maxfd = -1;\n  376    FD_ZERO(&rfds);\n  377    FD_ZERO(&wfds);\n  378    FD_ZERO(&efds);\n  379    for(i = 0; i < nfd; i++) {\n  380      if(pfd[i].fd < 0)\n  381        continue;\n  382      if(maxfd < pfd[i].fd) {\n  383        maxfd = pfd[i].fd;\n  384        if(FD_SETSIZE <= maxfd) {\n  385          errno = EINVAL;\n  386          return -1;\n  387        }\n  388      }\n  389      if(pfd[i].events & (POLLIN | POLLRDNORM))\n  390        FD_SET(pfd[i].fd, &rfds);\n  391      /* see select(2): \"the only exceptional condition detectable\n  392         is out-of-band data received on a socket\", hence we push\n  393         POLLWRBAND events onto wfds instead of efds. */\n  394      if(pfd[i].events & (POLLOUT | POLLWRNORM | POLLWRBAND))\n  395        FD_SET(pfd[i].fd, &wfds);\n  396      if(pfd[i].events & (POLLPRI | POLLRDBAND))\n  397        FD_SET(pfd[i].fd, &efds);\n  398    }\n  399  \n  400    /* examine fd sets */\n  401    rc = select(maxfd + 1, &rfds, &wfds, &efds, ptv);\n  402    if(rc < 0)\n  403      return rc;\n  404  \n  405    /* establish results */\n  406    rc = 0;\n  407    for(i = 0; i < nfd; i++) {\n  408      pfd[i].revents = (pfd[i].fd < 0 ? 0 : compute_revents(pfd[i].fd, pfd[i].events, &rfds, &wfds, &efds));\n  409      rc += pfd[i].revents != 0;\n  410    }\n  411  \n  412    return rc;\n  413  #else\n  414    static struct timeval tv0;\n  415    static HANDLE hEvent;\n  416    WSANETWORKEVENTS ev;\n  417    HANDLE h, handle_array[FD_SETSIZE + 2];\n  418    DWORD ret, wait_timeout, nhandles;\n  419    fd_set rfds, wfds, xfds;\n  420    BOOL poll_again;\n  421    MSG msg;\n  422    int rc = 0;\n  423    nfds_t i;\n  424  \n  425    if(nfd > INT_MAX || timeout < -1) {\n  426      errno = EINVAL;\n  427      return -1;\n  428    }\n  429  \n  430    if(!hEvent)\n  431      hEvent = CreateEvent(NULL, FALSE, FALSE, NULL);\n  432  \n  433  restart:\n  434    handle_array[0] = hEvent;\n  435    nhandles = 1;\n  436    FD_ZERO(&rfds);\n  437    FD_ZERO(&wfds);\n  438    FD_ZERO(&xfds);\n  439  \n  440    /* Classify socket handles and create fd sets. */\n  441    for(i = 0; i < nfd; i++) {\n  442      int sought = pfd[i].events;\n  443      pfd[i].revents = 0;\n  444      if(pfd[i].fd < 0)\n  445        continue;\n  446      if(!(sought & (POLLIN | POLLRDNORM | POLLOUT | POLLWRNORM | POLLWRBAND | POLLPRI | POLLRDBAND)))\n  447        continue;\n  448  \n  449      h = (HANDLE)_get_osfhandle(pfd[i].fd);\n  450      assure(h != NULL);\n  451      if(IsSocketHandle(h)) {\n  452        int requested = FD_CLOSE;\n  453  \n  454        /* see above; socket handles are mapped onto select.  */\n  455        if(sought & (POLLIN | POLLRDNORM)) {\n  456          requested |= FD_READ | FD_ACCEPT;\n  457          FD_SET((SOCKET)h, &rfds);\n  458        }\n  459        if(sought & (POLLOUT | POLLWRNORM | POLLWRBAND)) {\n  460          requested |= FD_WRITE | FD_CONNECT;\n  461          FD_SET((SOCKET)h, &wfds);\n  462        }\n  463        if(sought & (POLLPRI | POLLRDBAND)) {\n  464          requested |= FD_OOB;\n  465          FD_SET((SOCKET)h, &xfds);\n  466        }\n  467  \n  468        if(requested)\n  469          WSAEventSelect((SOCKET)h, hEvent, requested);\n  470      } else {\n  471        /* Poll now.  If we get an event, do not poll again.  Also,\n  472           screen buffer handles are waitable, and they'll block until\n  473           a character is available.  windows_compute_revents eliminates\n  474           bits for the \"wrong\" direction. */\n  475        pfd[i].revents = windows_compute_revents(h, &sought);\n  476        if(sought)\n  477          handle_array[nhandles++] = h;\n  478        if(pfd[i].revents)\n  479          timeout = 0;\n  480      }\n  481    }\n  482  \n  483    if(select(0, &rfds, &wfds, &xfds, &tv0) > 0) {\n  484      /* Do MsgWaitForMultipleObjects anyway to dispatch messages, but\n  485         no need to call select again.  */\n  486      poll_again = FALSE;\n  487      wait_timeout = 0;\n  488    } else {\n  489      poll_again = TRUE;\n  490      if(timeout == INFTIM)\n  491        wait_timeout = INFINITE;\n  492      else\n  493        wait_timeout = timeout;\n  494    }\n  495  \n  496    for(;;) {\n  497      ret = MsgWaitForMultipleObjects(nhandles, handle_array, FALSE, wait_timeout, QS_ALLINPUT);\n  498  \n  499      if(ret == WAIT_OBJECT_0 + nhandles) {\n  500        /* new input of some other kind */\n  501        BOOL bRet;\n  502        while((bRet = PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)) != 0) {\n  503          TranslateMessage(&msg);\n  504          DispatchMessage(&msg);\n  505        }\n  506      } else\n  507        break;\n  508    }\n  509  \n  510    if(poll_again)\n  511      select(0, &rfds, &wfds, &xfds, &tv0);\n  512  \n  513    /* Place a sentinel at the end of the array.  */\n  514    handle_array[nhandles] = NULL;\n  515    nhandles = 1;\n  516    for(i = 0; i < nfd; i++) {\n  517      int happened;\n  518  \n  519      if(pfd[i].fd < 0)\n  520        continue;\n  521      if(!(pfd[i].events & (POLLIN | POLLRDNORM | POLLOUT | POLLWRNORM | POLLWRBAND)))\n  522        continue;\n  523  \n  524      h = (HANDLE)_get_osfhandle(pfd[i].fd);\n  525      if(h != handle_array[nhandles]) {\n  526        /* It's a socket.  */\n  527        WSAEnumNetworkEvents((SOCKET)h, NULL, &ev);\n  528        WSAEventSelect((SOCKET)h, 0, 0);\n  529  \n  530        /* If we're lucky, WSAEnumNetworkEvents already provided a way\n  531           to distinguish FD_READ and FD_ACCEPT; this saves a recv later.  */\n  532        if(FD_ISSET((SOCKET)h, &rfds) && !(ev.lNetworkEvents & (FD_READ | FD_ACCEPT)))\n  533          ev.lNetworkEvents |= FD_READ | FD_ACCEPT;\n  534        if(FD_ISSET((SOCKET)h, &wfds))\n  535          ev.lNetworkEvents |= FD_WRITE | FD_CONNECT;\n  536        if(FD_ISSET((SOCKET)h, &xfds))\n  537          ev.lNetworkEvents |= FD_OOB;\n  538  \n  539        happened = windows_compute_revents_socket((SOCKET)h, pfd[i].events, ev.lNetworkEvents);\n  540      } else {\n  541        /* Not a socket.  */\n  542        int sought = pfd[i].events;\n  543        happened = windows_compute_revents(h, &sought);\n  544        nhandles++;\n  545      }\n  546  \n  547      if((pfd[i].revents |= happened) != 0)\n  548        rc++;\n  549    }\n  550  \n  551    if(!rc && timeout == INFTIM) {\n  552      SleepEx(1, TRUE);\n  553      goto restart;\n  554    }\n  555  \n  556    return rc;\n  557  #endif\n  558  }\n  559  \n  560  #endif /* defined(__MSYS__) */\n  561  \n  562  #endif /* !defined(HAVE_POLL) */\n  563  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.h:\n    1  #ifndef QJSNET_LIB_ASYNCITERATOR_H\n    2  #define QJSNET_LIB_ASYNCITERATOR_H\n    3  \n    4  #include \"jsutils.h\"\n    5  \n    6  typedef struct async_read {\n    7    struct list_head link;\n    8    ResolveFunctions promise;\n    9    uint32_t id;\n   10  } AsyncRead;\n   11  \n   12  typedef struct async_iterator {\n   13    struct list_head reads;\n   14    BOOL closed, closing;\n   15    uint32_t serial;\n   16  } AsyncIterator;\n   17  void asynciterator_zero(AsyncIterator*);\n   18  void asynciterator_clear(AsyncIterator*, JSRuntime* rt);\n   19  JSValue asynciterator_next(AsyncIterator*, JSContext* ctx);\n   20  BOOL asynciterator_stop(AsyncIterator*, JSContext* ctx);\n   21  int asynciterator_cancel(AsyncIterator*, JSValueConst error, JSContext* ctx);\n   22  BOOL asynciterator_emplace(AsyncIterator*, JSValueConst value, BOOL done, JSContext* ctx);\n   23  JSValue asynciterator_object(JSValueConst, BOOL done, JSContext* ctx);\n   24  \n   25  static inline BOOL\n   26  asynciterator_yield(AsyncIterator* it, JSValueConst value, JSContext* ctx) {\n   27    return list_empty(&it->reads) ? FALSE : asynciterator_emplace(it, value, FALSE, ctx);\n   28  }\n   29  \n   30  #endif /* QJSNET_LIB_ASYNCITERATOR_H */\n   31  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n    1  #define _GNU_SOURCE\n    2  #include <stdarg.h>\n    3  #include <stddef.h>\n    4  #include <string.h>\n    5  #include <assert.h>\n    6  #include <ctype.h>\n    7  #include \"jsutils.h\"\n    8  #include \"buffer.h\"\n    9  \n   10  JSValue\n   11  js_object_constructor(JSContext* ctx, JSValueConst value) {\n   12    JSValue ctor = JS_UNDEFINED;\n   13    if(JS_IsObject(value))\n   14      ctor = JS_GetPropertyStr(ctx, value, \"constructor\");\n   15    return ctor;\n   16  }\n   17  \n   18  char*\n   19  js_object_classname(JSContext* ctx, JSValueConst value) {\n   20    JSValue proto = JS_UNDEFINED, ctor;\n   21    const char* name;\n   22    char* s = 0;\n   23    ctor = js_object_constructor(ctx, value);\n   24    if(!JS_IsFunction(ctx, ctor)) {\n   25      proto = JS_GetPrototype(ctx, value);\n   26      ctor = js_object_constructor(ctx, proto);\n   27    }\n   28    if((name = js_function_name(ctx, ctor))) {\n   29      s = name && name[0] ? js_strdup(ctx, name) : 0;\n   30      JS_FreeCString(ctx, name);\n   31    }\n   32  \n   33    JS_FreeValue(ctx, ctor);\n   34    JS_FreeValue(ctx, proto);\n   35    return s;\n   36  }\n   37  \n   38  void\n   39  js_console_log(JSContext* ctx, JSValue* console, JSValue* console_log) {\n   40    JSValue global = JS_GetGlobalObject(ctx);\n   41    *console = JS_GetPropertyStr(ctx, global, \"console\");\n   42    *console_log = JS_GetPropertyStr(ctx, *console, \"log\");\n   43    JS_FreeValue(ctx, global);\n   44  }\n   45  \n   46  JSValue\n   47  js_function_bound(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, JSValue* func_data) {\n   48    BOOL bind_this = !!(magic & JS_BIND_THIS);\n   49    int i = 0, k = 0, count = magic & ~(JS_BIND_THIS);\n   50    JSValue args[argc + count], fn;\n   51  \n   52    fn = *func_data++;\n   53  \n   54    if(bind_this)\n   55      this_val = func_data[i++];\n   56  \n   57    for(; i < count; i++) args[k++] = func_data[i];\n   58  \n   59    for(i = 0; i < argc; i++) args[k++] = argv[i];\n   60  \n   61    return JS_Call(ctx, fn, this_val, k, args);\n   62  }\n   63  \n   64  JSValue\n   65  js_function_bind(JSContext* ctx, JSValueConst func, int flags, JSValueConst argv[]) {\n   66    int i, argc = flags & ~(JS_BIND_THIS);\n   67    JSValue data[argc + 1];\n   68  \n   69    data[0] = JS_DupValue(ctx, func);\n   70    for(i = 0; i < argc; i++) data[i + 1] = JS_DupValue(ctx, argv[i]);\n   71  \n   72    return JS_NewCFunctionData(ctx, js_function_bound, 0, flags, argc + 1, data);\n   73  }\n   74  \n   75  JSValue\n   76  js_function_bind_1(JSContext* ctx, JSValueConst func, JSValueConst arg) {\n   77    return js_function_bind(ctx, func, 1, &arg);\n   78  }\n   79  \n   80  JSValue\n   81  js_function_bind_this(JSContext* ctx, JSValueConst func, JSValueConst this_val) {\n   82    return js_function_bind(ctx, func, 1 | JS_BIND_THIS, &this_val);\n   83  }\n   84  \n   85  JSValue\n   86  js_function_bind_this_1(JSContext* ctx, JSValueConst func, JSValueConst this_val, JSValueConst arg) {\n   87    JSValueConst bound[] = {this_val, arg};\n   88    return js_function_bind(ctx, func, countof(bound) | JS_BIND_THIS, bound);\n   89  }\n   90  \n   91  const char*\n   92  js_function_name(JSContext* ctx, JSValueConst value) {\n   93    JSValue str, name, args[2], idx;\n   94    const char* s = 0;\n   95    int32_t i = -1;\n   96    str = js_invoke(ctx, value, \"toString\", 0, 0);\n   97    args[0] = JS_NewString(ctx, \"function \");\n   98    idx = js_invoke(ctx, str, \"indexOf\", 1, args);\n   99    JS_FreeValue(ctx, args[0]);\n  100    JS_ToInt32(ctx, &i, idx);\n  101    if(i != 0) {\n  102      JS_FreeValue(ctx, str);\n  103      return 0;\n  104    }\n  105    args[0] = JS_NewString(ctx, \"(\");\n  106    idx = js_invoke(ctx, str, \"indexOf\", 1, args);\n  107    JS_FreeValue(ctx, args[0]);\n  108    args[0] = JS_NewUint32(ctx, 9);\n  109    args[1] = idx;\n  110    name = js_invoke(ctx, str, \"substring\", 2, args);\n  111    JS_FreeValue(ctx, args[0]);\n  112    JS_FreeValue(ctx, args[1]);\n  113    JS_FreeValue(ctx, str);\n  114    s = JS_ToCString(ctx, name);\n  115    JS_FreeValue(ctx, name);\n  116    return s;\n  117  }\n  118  \n  119  JSValue\n  120  js_function_prototype(JSContext* ctx) {\n  121    JSValue ret, fn = JS_NewCFunction(ctx, 0, \"\", 0);\n  122    ret = JS_GetPrototype(ctx, fn);\n  123    JS_FreeValue(ctx, fn);\n  124    return ret;\n  125  }\n  126  \n  127  JSValue\n  128  js_iterator_result(JSContext* ctx, JSValueConst value, BOOL done) {\n  129    JSValue ret = JS_NewObject(ctx);\n  130  \n  131    JS_SetPropertyStr(ctx, ret, \"done\", JS_NewBool(ctx, done));\n  132    JS_SetPropertyStr(ctx, ret, \"value\", JS_DupValue(ctx, value));\n  133  \n  134    return ret;\n  135  }\n  136  \n  137  JSValue\n  138  js_iterator_next(JSContext* ctx, JSValueConst obj, JSValue* next, BOOL* done_p, int argc, JSValueConst argv[]) {\n  139    JSValue fn, result, done, value;\n  140  \n  141    if(!JS_IsObject(obj))\n  142      return JS_ThrowTypeError(ctx, \"argument is not an object (%d) \\\"%s\\\"\", JS_VALUE_GET_TAG(obj), JS_ToCString(ctx, obj));\n  143  \n  144    if(JS_IsObject(*next) && JS_IsFunction(ctx, *next)) {\n  145      fn = *next;\n  146    } else {\n  147      if(JS_IsFunction(ctx, obj)) {\n  148        JSValue tmp = JS_Call(ctx, obj, JS_UNDEFINED, 0, 0);\n  149        if(JS_IsObject(tmp)) {\n  150          JS_FreeValue(ctx, obj);\n  151          obj = tmp;\n  152        }\n  153      }\n  154  \n  155      fn = JS_GetPropertyStr(ctx, obj, \"next\");\n  156  \n  157      if(JS_IsUndefined(fn))\n  158        return JS_ThrowTypeError(ctx, \"object does not have 'next' method\");\n  159  \n  160      if(!JS_IsFunction(ctx, fn))\n  161        return JS_ThrowTypeError(ctx, \"object.next is not a function\");\n  162  \n  163      *next = js_function_bind_this(ctx, fn, obj);\n  164      JS_FreeValue(ctx, fn);\n  165      fn = *next;\n  166    }\n  167  \n  168    result = JS_Call(ctx, fn, JS_UNDEFINED, argc, argv);\n  169    // JS_FreeValue(ctx, fn);\n  170  \n  171    if(JS_IsException(result))\n  172      return JS_EXCEPTION;\n  173  \n  174    if(js_is_promise(ctx, result))\n  175      return result;\n  176  \n  177    done = JS_GetPropertyStr(ctx, result, \"done\");\n  178    value = JS_GetPropertyStr(ctx, result, \"value\");\n  179    *done_p = JS_ToBool(ctx, done);\n  180    JS_FreeValue(ctx, result);\n  181    JS_FreeValue(ctx, done);\n  182    return value;\n  183  }\n  184  \n  185  int\n  186  js_copy_properties(JSContext* ctx, JSValueConst dst, JSValueConst src, int flags) {\n  187    JSPropertyEnum* tab;\n  188    uint32_t tab_len, i;\n  189  \n  190    if(JS_GetOwnPropertyNames(ctx, &tab, &tab_len, src, flags))\n  191      return -1;\n  192  \n  193    for(i = 0; i < tab_len; i++) {\n  194      JSValue value = JS_GetProperty(ctx, src, tab[i].atom);\n  195      JS_SetProperty(ctx, dst, tab[i].atom, value);\n  196    }\n  197    return i;\n  198  }\n  199  \n  200  void\n  201  js_buffer_free_default(JSRuntime* rt, void* opaque, void* ptr) {\n  202    JSBuffer* buf = opaque;\n  203  \n  204    if(JS_IsString(buf->value))\n  205      JS_FreeValueRT(rt, buf->value);\n  206    else if(!JS_IsUndefined(buf->value))\n  207      JS_FreeValueRT(rt, buf->value);\n  208  \n  209    buf->value = JS_UNDEFINED;\n  210    buf->data = 0;\n  211    buf->size = 0;\n  212    buf->pos = 0;\n  213    ol_init(&buf->range);\n  214  }\n  215  \n  216  BOOL\n  217  js_buffer_from(JSContext* ctx, JSBuffer* buf, JSValueConst value) {\n  218    *buf = js_input_chars(ctx, value);\n  219    return !!buf->data;\n  220  }\n  221  \n  222  JSBuffer\n  223  js_buffer_new(JSContext* ctx, JSValueConst value) {\n  224    JSBuffer ret = {0, 0, 0, &js_buffer_free_default, JS_UNDEFINED, {0, -1}};\n  225    ret.free = &js_buffer_free_default;\n  226  \n  227    if(JS_IsString(value)) {\n  228      ret.data = (uint8_t*)JS_ToCStringLen(ctx, &ret.size, value);\n  229      ret.value = value;\n  230    } else if((ret.data = JS_GetArrayBuffer(ctx, &ret.size, value))) {\n  231      ret.value = JS_DupValue(ctx, value);\n  232    }\n  233  \n  234    return ret;\n  235  }\n  236  \n  237  JSBuffer\n  238  js_buffer_fromblock(JSContext* ctx, struct byte_block* blk) {\n  239    JSValue buf = block_toarraybuffer(blk, ctx);\n  240  \n  241    return js_buffer_new(ctx, buf);\n  242  }\n  243  \n  244  JSBuffer\n  245  js_buffer_alloc(JSContext* ctx, size_t size) {\n  246    ByteBlock block = {0, 0};\n  247  \n  248    if((block.start = js_malloc(ctx, size)))\n  249      block.end = block.start + size;\n  250  \n  251    return js_buffer_fromblock(ctx, &block);\n  252  }\n  253  \n  254  void\n  255  js_buffer_free_rt(JSBuffer* in, JSRuntime* rt) {\n  256    if(in->data) {\n  257      in->free(rt, in, in->data);\n  258      in->data = 0;\n  259      in->size = 0;\n  260      in->value = JS_UNDEFINED;\n  261    }\n  262  }\n  263  \n  264  void\n  265  js_buffer_free(JSBuffer* in, JSContext* ctx) {\n  266    js_buffer_free_rt(in, JS_GetRuntime(ctx));\n  267  }\n  268  \n  269  BOOL\n  270  js_is_iterator(JSContext* ctx, JSValueConst obj) {\n  271    if(JS_IsObject(obj)) {\n  272      JSValue next = JS_GetPropertyStr(ctx, obj, \"next\");\n  273  \n  274      if(JS_IsFunction(ctx, next))\n  275        return TRUE;\n  276    }\n  277    return FALSE;\n  278  }\n  279  \n  280  BOOL\n  281  js_is_async_generator(JSContext* ctx, JSValueConst obj) {\n  282    BOOL ret = FALSE;\n  283    const char* str;\n  284  \n  285    if((str = JS_ToCString(ctx, obj))) {\n  286      ret = !!strstr(str, \"AsyncGenerator\");\n  287      JS_FreeCString(ctx, str);\n  288    }\n  289    return ret;\n  290  }\n  291  \n  292  JSAtom\n  293  js_symbol_static_atom(JSContext* ctx, const char* name) {\n  294    JSValue sym = js_symbol_static_value(ctx, name);\n  295    JSAtom ret = JS_IsUndefined(sym) ? -1 : JS_ValueToAtom(ctx, sym);\n  296    JS_FreeValue(ctx, sym);\n  297    return ret;\n  298  }\n  299  \n  300  JSValue\n  301  js_symbol_static_value(JSContext* ctx, const char* name) {\n  302    JSValue symbol_ctor, ret;\n  303    symbol_ctor = js_symbol_ctor(ctx);\n  304    ret = JS_GetPropertyStr(ctx, symbol_ctor, name);\n  305    JS_FreeValue(ctx, symbol_ctor);\n  306    return ret;\n  307  }\n  308  \n  309  JSValue\n  310  js_symbol_for_value(JSContext* ctx, const char* name) {\n  311    JSValue symbol_ctor, nameval, ret;\n  312    JSAtom for_atom = JS_NewAtom(ctx, \"for\");\n  313    symbol_ctor = js_symbol_ctor(ctx);\n  314    nameval = JS_NewString(ctx, name);\n  315    ret = JS_Invoke(ctx, symbol_ctor, for_atom, 1, &nameval);\n  316    JS_FreeAtom(ctx, for_atom);\n  317    JS_FreeValue(ctx, nameval);\n  318    JS_FreeValue(ctx, symbol_ctor);\n  319    return ret;\n  320  }\n  321  \n  322  JSAtom\n  323  js_symbol_for_atom(JSContext* ctx, const char* name) {\n  324    JSValue sym = js_symbol_for_value(ctx, name);\n  325    JSAtom ret = JS_IsUndefined(sym) ? -1 : JS_ValueToAtom(ctx, sym);\n  326    JS_FreeValue(ctx, sym);\n  327    return ret;\n  328  }\n  329  JSValue\n  330  js_symbol_ctor(JSContext* ctx) {\n  331    return js_global_get(ctx, \"Symbol\");\n  332  }\n  333  \n  334  JSValue\n  335  js_global_get(JSContext* ctx, const char* prop) {\n  336    JSValue global_obj, ret;\n  337    global_obj = JS_GetGlobalObject(ctx);\n  338    ret = JS_GetPropertyStr(ctx, global_obj, prop);\n  339    JS_FreeValue(ctx, global_obj);\n  340    return ret;\n  341  }\n  342  \n  343  JSValue\n  344  js_global_os(JSContext* ctx) {\n  345    return js_global_get(ctx, \"os\");\n  346  }\n  347  \n  348  JSValue\n  349  js_os_get(JSContext* ctx, const char* prop) {\n  350    JSValue os_obj = js_global_os(ctx);\n  351    JSValue ret = JS_GetPropertyStr(ctx, os_obj, prop);\n  352    JS_FreeValue(ctx, os_obj);\n  353    return ret;\n  354  }\n  355  \n  356  JSValue\n  357  js_timer_start(JSContext* ctx, JSValueConst fn, uint32_t ms) {\n  358    JSValue set_timeout = js_os_get(ctx, \"setTimeout\");\n  359    JSValueConst args[2] = {fn, JS_MKVAL(JS_TAG_INT, ms)};\n  360    JSValue ret = JS_Call(ctx, set_timeout, JS_UNDEFINED, 2, args);\n  361    JS_FreeValue(ctx, set_timeout);\n  362    return ret;\n  363  }\n  364  \n  365  void\n  366  js_timer_cancel(JSContext* ctx, JSValueConst timer) {\n  367    JSValue clear_timeout = js_os_get(ctx, \"clearTimeout\");\n  368    JSValue ret = JS_Call(ctx, clear_timeout, JS_UNDEFINED, 1, &timer);\n  369    JS_FreeValue(ctx, clear_timeout);\n  370    JS_FreeValue(ctx, ret);\n  371  }\n  372  \n  373  void\n  374  js_timer_free(void* ptr) {\n  375    struct TimerClosure* closure = ptr;\n  376    JSContext* ctx = closure->ctx;\n  377  \n  378    if(--closure->ref_count == 0) {\n  379      JS_FreeValue(ctx, closure->id);\n  380      JS_FreeValue(ctx, closure->handler);\n  381      JS_FreeValue(ctx, closure->callback);\n  382  \n  383      js_free(ctx, closure);\n  384    }\n  385  }\n  386  \n  387  JSValue\n  388  js_timer_callback(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst* argv, int magic, void* opaque) {\n  389    struct TimerClosure* closure = opaque;\n  390    JSValue ret;\n  391    JSValueConst args[] = {closure->id, closure->handler, closure->callback, JS_NewUint32(ctx, closure->interval)};\n  392  \n  393    ret = JS_Call(ctx, closure->handler, this_val, countof(args), args);\n  394  \n  395    if(!(JS_IsBool(ret) && !JS_ToBool(ctx, ret))) {\n  396      JS_FreeValue(ctx, closure->id);\n  397      closure->id = js_timer_start(ctx, closure->callback, closure->interval);\n  398    }\n  399  \n  400    return ret;\n  401  }\n  402  \n  403  struct TimerClosure*\n  404  js_timer_interval(JSContext* ctx, JSValueConst fn, uint32_t ms) {\n  405    struct TimerClosure* closure;\n  406  \n  407    if(!(closure = js_malloc(ctx, sizeof(struct TimerClosure))))\n  408      return 0;\n  409  \n  410    closure->ref_count = 1;\n  411    closure->ctx = ctx;\n  412    closure->interval = ms;\n  413    closure->handler = JS_DupValue(ctx, fn);\n  414    closure->callback = js_function_cclosure(ctx, js_timer_callback, 0, 0, closure, js_timer_free);\n  415    closure->id = js_timer_start(ctx, closure->callback, ms);\n  416  \n  417    return closure;\n  418  }\n  419  \n  420  void\n  421  js_timer_restart(struct TimerClosure* closure) {\n  422    js_timer_cancel(closure->ctx, closure->id);\n  423    JS_FreeValue(closure->ctx, closure->id);\n  424    closure->id = js_timer_start(closure->ctx, closure->callback, closure->interval);\n  425  }\n  426  \n  427  static inline void\n  428  js_resolve_functions_zero(ResolveFunctions* funcs) {\n  429    funcs->resolve = JS_NULL;\n  430    funcs->reject = JS_NULL;\n  431  }\n  432  \n  433  static inline BOOL\n  434  js_resolve_functions_is_null(ResolveFunctions const* funcs) {\n  435    return JS_IsNull(funcs->resolve) && JS_IsNull(funcs->reject);\n  436  }\n  437  \n  438  static inline JSValue\n  439  js_resolve_functions_call(JSContext* ctx, ResolveFunctions* funcs, int index, JSValueConst arg) {\n  440    JSValue ret = JS_UNDEFINED, func = ((JSValue*)funcs)[index];\n  441  \n  442    assert(!JS_IsNull(func));\n  443    ret = JS_Call(ctx, func, JS_UNDEFINED, 1, &arg);\n  444    js_promise_free(ctx, funcs);\n  445    return ret;\n  446  }\n  447  \n  448  char*\n  449  js_tostringlen(JSContext* ctx, size_t* lenp, JSValueConst value) {\n  450    size_t len;\n  451    const char* cstr;\n  452    char* ret = 0;\n  453    if((cstr = JS_ToCStringLen(ctx, &len, value))) {\n  454      ret = js_strndup(ctx, cstr, len);\n  455      if(lenp)\n  456        *lenp = len;\n  457      JS_FreeCString(ctx, cstr);\n  458    }\n  459    return ret;\n  460  }\n  461  \n  462  char*\n  463  js_tostring(JSContext* ctx, JSValueConst value) {\n  464    return js_tostringlen(ctx, 0, value);\n  465  }\n  466  \n  467  JSValue\n  468  js_invoke(JSContext* ctx, JSValueConst this_obj, const char* method, int argc, JSValueConst argv[]) {\n  469    JSAtom atom = JS_NewAtom(ctx, method);\n  470    JSValue ret = JS_Invoke(ctx, this_obj, atom, argc, argv);\n  471    JS_FreeAtom(ctx, atom);\n  472    return ret;\n  473  }\n  474  \n  475  JSValue\n  476  js_promise_create(JSContext* ctx, ResolveFunctions* funcs) {\n  477    JSValue ret;\n  478  \n  479    ret = JS_NewPromiseCapability(ctx, &funcs->resolve);\n  480    return ret;\n  481  }\n  482  \n  483  void\n  484  js_promise_free(JSContext* ctx, ResolveFunctions* funcs) {\n  485    JS_FreeValue(ctx, funcs->resolve);\n  486    JS_FreeValue(ctx, funcs->reject);\n  487    js_resolve_functions_zero(funcs);\n  488  }\n  489  \n  490  void\n  491  js_promise_free_rt(JSRuntime* rt, ResolveFunctions* funcs) {\n  492    JS_FreeValueRT(rt, funcs->resolve);\n  493    JS_FreeValueRT(rt, funcs->reject);\n  494    js_resolve_functions_zero(funcs);\n  495  }\n  496  \n  497  JSValue\n  498  js_promise_resolve(JSContext* ctx, ResolveFunctions* funcs, JSValueConst value) {\n  499    if(js_is_nullish(funcs->resolve))\n  500      return JS_UNDEFINED;\n  501    return js_resolve_functions_call(ctx, funcs, 0, value);\n  502  }\n  503  \n  504  JSValue\n  505  js_promise_reject(JSContext* ctx, ResolveFunctions* funcs, JSValueConst value) {\n  506    if(js_is_nullish(funcs->reject))\n  507      return JS_UNDEFINED;\n  508    return js_resolve_functions_call(ctx, funcs, 1, value);\n  509  }\n  510  \n  511  void\n  512  js_promise_zero(ResolveFunctions* funcs) {\n  513    js_resolve_functions_zero(funcs);\n  514  }\n  515  \n  516  BOOL\n  517  js_promise_pending(ResolveFunctions const* funcs) {\n  518    return !js_resolve_functions_is_null(funcs);\n  519  }\n  520  \n  521  JSValue\n  522  js_promise_then(JSContext* ctx, JSValueConst promise, JSValueConst handler) {\n  523    return js_invoke(ctx, promise, \"then\", 1, &handler);\n  524  }\n  525  \n  526  JSValue\n  527  js_promise_catch(JSContext* ctx, JSValueConst promise, JSValueConst handler) {\n  528    return js_invoke(ctx, promise, \"catch\", 1, &handler);\n  529  }\n  530  \n  531  BOOL\n  532  js_is_promise(JSContext* ctx, JSValueConst value) {\n  533    JSValue ctor;\n  534    BOOL ret;\n  535  \n  536    ctor = js_global_get(ctx, \"Promise\");\n  537    ret = JS_IsInstanceOf(ctx, value, ctor);\n  538  \n  539    JS_FreeValue(ctx, ctor);\n  540    return ret;\n  541  }\n  542  \n  543  JSValue\n  544  js_error_new(JSContext* ctx, const char* fmt, ...) {\n  545    va_list args;\n  546    JSValue err = JS_NewError(ctx);\n  547    char buf[1024];\n  548  \n  549    va_start(args, fmt);\n  550    vsnprintf(buf, sizeof(buf), fmt, args);\n  551    va_end(args);\n  552  \n  553    JS_SetPropertyStr(ctx, err, \"message\", JS_NewString(ctx, buf));\n  554    return err;\n  555  }\n  556  \n  557  void\n  558  js_error_print(JSContext* ctx, JSValueConst error) {\n  559    const char *str = 0, *stack = 0;\n  560  \n  561    if(JS_IsObject(error)) {\n  562      JSValue st = JS_GetPropertyStr(ctx, error, \"stack\");\n  563  \n  564      if(!JS_IsUndefined(st))\n  565        stack = JS_ToCString(ctx, st);\n  566  \n  567      JS_FreeValue(ctx, st);\n  568    }\n  569  \n  570    // lwsl_err(\"Toplevel error:\");\n  571  \n  572    if(!JS_IsNull(error) && (str = JS_ToCString(ctx, error))) {\n  573      const char* type = js_object_classname(ctx, error);\n  574      const char* exception = str;\n  575      size_t typelen = strlen(type);\n  576  \n  577      if(!strncmp(exception, type, typelen) && exception[typelen] == ':') {\n  578        exception += typelen + 2;\n  579      }\n  580      lwsl_err(\"Exception %s: %s\", type, exception);\n  581    }\n  582    if(stack) {\n  583      size_t pos = 0, i = 0, len, end = strlen(stack);\n  584      lwsl_err(\"Stack:\");\n  585  \n  586      while(i < end) {\n  587        len = byte_chrs(&stack[i], end - i, \"\\r\\n\", 2);\n  588  \n  589        lwsl_err(\"%zu: %.*s\", pos++, (int)len, &stack[i]);\n  590        i += len;\n  591  \n  592        i += scan_charsetnskip(&stack[i], \"\\r\\n\", end - i);\n  593      }\n  594    }\n  595    if(stack)\n  596      JS_FreeCString(ctx, stack);\n  597    if(str)\n  598      JS_FreeCString(ctx, str);\n  599  }\n  600  \n  601  uint8_t*\n  602  js_toptrsize(JSContext* ctx, unsigned int* plen, JSValueConst value) {\n  603    size_t n = 0;\n  604    void *ret = 0, *ptr;\n  605    if((ptr = JS_GetArrayBuffer(ctx, &n, value))) {\n  606      if((ret = js_malloc(ctx, n)))\n  607        memcpy(ret, ptr, n);\n  608    }\n  609    return ret;\n  610  }\n  611  \n  612  uint32_t\n  613  js_get_propertystr_uint32(JSContext* ctx, JSValueConst obj, const char* str) {\n  614    uint32_t ret = 0;\n  615    JSValue value;\n  616    value = JS_GetPropertyStr(ctx, obj, str);\n  617    JS_ToUint32(ctx, &ret, value);\n  618    JS_FreeValue(ctx, value);\n  619    return ret;\n  620  }\n  621  \n  622  BOOL\n  623  js_has_propertystr(JSContext* ctx, JSValueConst obj, const char* str) {\n  624    JSAtom prop = JS_NewAtom(ctx, str);\n  625    BOOL ret = JS_HasProperty(ctx, obj, prop);\n  626    JS_FreeAtom(ctx, prop);\n  627    return ret;\n  628  }\n  629  \n  630  int64_t\n  631  js_array_length(JSContext* ctx, JSValueConst array) {\n  632    int64_t len = -1;\n  633    /*if(js_is_array(ctx, array) || js_is_typedarray(array)|| js_is_array_like(ctx, array))*/ {\n  634      JSValue length = JS_GetPropertyStr(ctx, array, \"length\");\n  635      if(JS_IsNumber(length))\n  636        JS_ToInt64(ctx, &len, length);\n  637      JS_FreeValue(ctx, length);\n  638    }\n  639    return len;\n  640  }\n  641  \n  642  char**\n  643  js_array_to_argv(JSContext* ctx, int* argcp, JSValueConst array) {\n  644    int i, len = js_array_length(ctx, array);\n  645    char** ret = js_mallocz(ctx, sizeof(char*) * (len + 1));\n  646    for(i = 0; i < len; i++) {\n  647      JSValue item = JS_GetPropertyUint32(ctx, array, i);\n  648      ret[i] = js_tostring(ctx, item);\n  649      JS_FreeValue(ctx, item);\n  650    }\n  651    if(argcp)\n  652      *argcp = len;\n  653    return ret;\n  654  }\n  655  \n  656  int\n  657  js_offset_length(JSContext* ctx, int64_t size, int argc, JSValueConst argv[], OffsetLength* off_len_p) {\n  658    int ret = 0;\n  659    int64_t off = 0, len = size;\n  660  \n  661    if(argc >= 1 && JS_IsNumber(argv[0]))\n  662      if(!JS_ToInt64(ctx, &off, argv[0]))\n  663        ret = 1;\n  664  \n  665    if(argc >= 2 && JS_IsNumber(argv[1]))\n  666      if(!JS_ToInt64(ctx, &len, argv[1]))\n  667        ret = 2;\n  668  \n  669    if(size)\n  670      off = ((off % size) + size) % size;\n  671  \n  672    if(len >= 0)\n  673      len = MIN(len, size - off);\n  674    else\n  675      len = size - off;\n  676  \n  677    if(off_len_p) {\n  678      off_len_p->offset = off;\n  679      off_len_p->length = len;\n  680    }\n  681    return ret;\n  682  }\n  683  \n  684  JSValue\n  685  js_argv_to_array(JSContext* ctx, const char* const* argv) {\n  686    JSValue ret = JS_NewArray(ctx);\n  687    if(argv) {\n  688      size_t i;\n  689      for(i = 0; argv[i]; i++) JS_SetPropertyUint32(ctx, ret, i, JS_NewString(ctx, argv[i]));\n  690    }\n  691    return ret;\n  692  }\n  693  \n  694  BOOL\n  695  js_atom_is_index(JSContext* ctx, int64_t* pval, JSAtom atom) {\n  696    JSValue value;\n  697    BOOL ret = FALSE;\n  698    int64_t index;\n  699  \n  700    if(atom & (1U << 31)) {\n  701      if(pval)\n  702        *pval = atom & (~(1U << 31));\n  703      return TRUE;\n  704    }\n  705  \n  706    value = JS_AtomToValue(ctx, atom);\n  707  \n  708    if(JS_IsNumber(value)) {\n  709      JS_ToInt64(ctx, &index, value);\n  710      ret = TRUE;\n  711    } else if(JS_IsString(value)) {\n  712      const char* s = JS_ToCString(ctx, value);\n  713      if(s[0] == '-' && isdigit(s[s[0] == '-'])) {\n  714        index = atoi(s);\n  715        ret = TRUE;\n  716      }\n  717      JS_FreeCString(ctx, s);\n  718    }\n  719  \n  720    if(ret == TRUE)\n  721      if(pval)\n  722        *pval = index;\n  723  \n  724    return ret;\n  725  }\n  726  \n  727  BOOL\n  728  js_atom_compare_string(JSContext* ctx, JSAtom atom, const char* other) {\n  729    const char* str = JS_AtomToCString(ctx, atom);\n  730    BOOL ret = !strcmp(str, other);\n  731    JS_FreeCString(ctx, str);\n  732    return ret;\n  733  }\n  734  \n  735  BOOL\n  736  js_atom_is_length(JSContext* ctx, JSAtom atom) {\n  737    return js_atom_compare_string(ctx, atom, \"length\");\n  738  }\n  739  \n  740  BOOL\n  741  js_atom_is_symbol(JSContext* ctx, JSAtom atom) {\n  742    JSValue value;\n  743    BOOL ret;\n  744    value = JS_AtomToValue(ctx, atom);\n  745    ret = JS_IsSymbol(value);\n  746    JS_FreeValue(ctx, value);\n  747    return ret;\n  748  }\n  749  \n  750  JSBuffer\n  751  js_input_buffer(JSContext* ctx, JSValueConst value) {\n  752    JSBuffer ret = {0, 0, 0, &js_buffer_free_default, JS_UNDEFINED, {0, 0}};\n  753    int64_t offset = 0, length = INT64_MAX;\n  754  \n  755    ol_init(&ret.range);\n  756  \n  757    if(js_is_typedarray(ctx, value) || js_is_dataview(ctx, value)) {\n  758      JSValue arraybuf, byteoffs, bytelen;\n  759      arraybuf = JS_GetPropertyStr(ctx, value, \"buffer\");\n  760      bytelen = JS_GetPropertyStr(ctx, value, \"byteLength\");\n  761      if(JS_IsNumber(bytelen))\n  762        JS_ToInt64(ctx, &length, bytelen);\n  763      JS_FreeValue(ctx, bytelen);\n  764      byteoffs = JS_GetPropertyStr(ctx, value, \"byteOffset\");\n  765      if(JS_IsNumber(byteoffs))\n  766        JS_ToInt64(ctx, &offset, byteoffs);\n  767      JS_FreeValue(ctx, byteoffs);\n  768      value = arraybuf;\n  769    }\n  770  \n  771    if(js_is_arraybuffer(ctx, value)) {\n  772      ret.value = JS_DupValue(ctx, value);\n  773      ret.data = JS_GetArrayBuffer(ctx, &ret.size, ret.value);\n  774    } else {\n  775      ret.value = JS_EXCEPTION;\n  776      // JS_ThrowTypeError(ctx, \"Invalid type for input buffer\");\n  777    }\n  778  \n  779    if(offset < 0)\n  780      ret.range.offset = ret.size + offset % ret.size;\n  781    else if((size_t)offset > ret.size)\n  782      ret.range.offset = ret.size;\n  783    else\n  784      ret.range.offset = offset;\n  785  \n  786    if(length >= 0 && (size_t)length < ret.size)\n  787      ret.range.length = length;\n  788  \n  789    return ret;\n  790  }\n  791  \n  792  #undef free\n  793  \n  794  JSBuffer\n  795  js_input_chars(JSContext* ctx, JSValueConst value) {\n  796    JSBuffer ret = JS_BUFFER_DEFAULT();\n  797    // int64_t offset = 0, length = INT64_MAX;\n  798  \n  799    ol_init(&ret.range);\n  800  \n  801    if(JS_IsString(value)) {\n  802      ret.data = (uint8_t*)JS_ToCStringLen(ctx, &ret.size, value);\n  803      ret.value = JS_DupValue(ctx, value);\n  804      ret.free = &js_buffer_free_default;\n  805    } else {\n  806      ret = js_input_buffer(ctx, value);\n  807    }\n  808  \n  809    return ret;\n  810  }\n  811  \n  812  JSBuffer\n  813  js_input_args(JSContext* ctx, int argc, JSValueConst argv[]) {\n  814    JSBuffer input = js_input_chars(ctx, argv[0]);\n  815  \n  816    if(argc > 1)\n  817      js_offset_length(ctx, input.size, argc - 1, argv + 1, &input.range);\n  818  \n  819    return input;\n  820  }\n  821  \n  822  int\n  823  js_buffer_fromargs(JSContext* ctx, int argc, JSValueConst argv[], JSBuffer* buf) {\n  824    int ret = 0;\n  825    *buf = js_input_chars(ctx, argv[0]);\n  826  \n  827    if(buf->size) {\n  828      ++ret;\n  829  \n  830      if(argc > 1)\n  831        ret += js_offset_length(ctx, buf->size, argc - 1, argv + 1, &buf->range);\n  832    }\n  833  \n  834    return ret;\n  835  }\n  836  \n  837  BOOL\n  838  js_is_arraybuffer(JSContext* ctx, JSValueConst value) {\n  839    if(JS_IsObject(value)) {\n  840      size_t len;\n  841      return JS_GetArrayBuffer(ctx, &len, value) != NULL;\n  842    }\n  843    return FALSE;\n  844  }\n  845  \n  846  BOOL\n  847  js_is_dataview(JSContext* ctx, JSValueConst value) {\n  848    if(JS_IsObject(value)) {\n  849      JSAtom atoms[] = {\n  850          JS_NewAtom(ctx, \"byteLength\"),\n  851          JS_NewAtom(ctx, \"byteOffset\"),\n  852          JS_NewAtom(ctx, \"buffer\"),\n  853      };\n  854      unsigned i;\n  855      BOOL ret = TRUE;\n  856  \n  857      for(i = 0; i < countof(atoms); i++) {\n  858        if(!JS_HasProperty(ctx, value, atoms[i])) {\n  859          ret = FALSE;\n  860          break;\n  861        }\n  862      }\n  863  \n  864      return ret;\n  865    }\n  866    return FALSE;\n  867  }\n  868  \n  869  BOOL\n  870  js_is_typedarray(JSContext* ctx, JSValueConst value) {\n  871    return js_is_dataview(ctx, value) && js_has_propertystr(ctx, value, \"BYTES_PER_ELEMENT\");\n  872  }\n  873  \n  874  JSValue\n  875  js_typedarray_constructor(JSContext* ctx, int bits, BOOL floating, BOOL sign) {\n  876    char class_name[64];\n  877  \n  878    sprintf(class_name, \"%s%s%dArray\", (!floating && bits >= 64) ? \"Big\" : \"\", floating ? \"Float\" : sign ? \"Int\" : \"Uint\", bits);\n  879  \n  880    return js_global_get(ctx, class_name);\n  881  }\n  882  \n  883  JSValue\n  884  js_typedarray_new(JSContext* ctx, int bits, BOOL floating, BOOL sign, JSValueConst buffer, uint32_t byte_offset, uint32_t length) {\n  885    JSValue ctor = js_typedarray_constructor(ctx, bits, floating, sign);\n  886    JSValue args[] = {\n  887        buffer,\n  888        JS_NewUint32(ctx, byte_offset),\n  889        JS_NewUint32(ctx, length),\n  890    };\n  891    JSValue ret = JS_CallConstructor(ctx, ctor, countof(args), args);\n  892    JS_FreeValue(ctx, args[1]);\n  893    JS_FreeValue(ctx, args[2]);\n  894    JS_FreeValue(ctx, ctor);\n  895    return ret;\n  896  }\n  897  \n  898  typedef struct {\n  899    CClosureFunc* func;\n  900    uint16_t length, magic;\n  901    void* opaque;\n  902    void (*opaque_finalize)(void*);\n  903  } JSCClosureRecord;\n  904  \n  905  static THREAD_LOCAL JSClassID js_cclosure_class_id;\n  906  \n  907  static inline JSCClosureRecord*\n  908  js_cclosure_data(JSValueConst value) {\n  909    return JS_GetOpaque(value, js_cclosure_class_id);\n  910  }\n  911  \n  912  static inline JSCClosureRecord*\n  913  js_cclosure_data2(JSContext* ctx, JSValueConst value) {\n  914    return JS_GetOpaque2(ctx, value, js_cclosure_class_id);\n  915  }\n  916  \n  917  static JSValue\n  918  js_cclosure_call(JSContext* ctx, JSValueConst func_obj, JSValueConst this_val, int argc, JSValueConst argv[], int flags) {\n  919    JSCClosureRecord* ccr;\n  920  \n  921    if(!(ccr = js_cclosure_data2(ctx, func_obj)))\n  922      return JS_EXCEPTION;\n  923  \n  924    JSValueConst* arg_buf;\n  925    int i;\n  926  \n  927    /* XXX: could add the function on the stack for debug */\n  928    if(unlikely(argc < ccr->length)) {\n  929      arg_buf = alloca(sizeof(arg_buf[0]) * ccr->length);\n  930      for(i = 0; i < argc; i++) arg_buf[i] = argv[i];\n  931      for(i = argc; i < ccr->length; i++) arg_buf[i] = JS_UNDEFINED;\n  932    } else {\n  933      arg_buf = argv;\n  934    }\n  935  \n  936    return ccr->func(ctx, this_val, argc, arg_buf, ccr->magic, ccr->opaque);\n  937  }\n  938  \n  939  static void\n  940  js_cclosure_finalizer(JSRuntime* rt, JSValue val) {\n  941    JSCClosureRecord* ccr;\n  942  \n  943    if((ccr = js_cclosure_data(val))) {\n  944      if(ccr->opaque_finalize)\n  945        ccr->opaque_finalize(ccr->opaque);\n  946  \n  947      js_free_rt(rt, ccr);\n  948    }\n  949  }\n  950  \n  951  static JSClassDef js_cclosure_class = {\n  952      .class_name = \"JSCClosure\",\n  953      .finalizer = js_cclosure_finalizer,\n  954      .call = js_cclosure_call,\n  955  };\n  956  \n  957  JSValue\n  958  js_function_cclosure(JSContext* ctx, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*)) {\n  959    JSCClosureRecord* ccr;\n  960    JSValue func_proto, func_obj;\n  961  \n  962    if(js_cclosure_class_id == 0) {\n  963      JS_NewClassID(&js_cclosure_class_id);\n  964      JS_NewClass(JS_GetRuntime(ctx), js_cclosure_class_id, &js_cclosure_class);\n  965    }\n  966  \n  967    func_proto = js_function_prototype(ctx);\n  968    func_obj = JS_NewObjectProtoClass(ctx, func_proto, js_cclosure_class_id);\n  969    JS_FreeValue(ctx, func_proto);\n  970  \n  971    if(JS_IsException(func_obj))\n  972      return func_obj;\n  973  \n  974    if(!(ccr = js_malloc(ctx, sizeof(JSCClosureRecord)))) {\n  975      JS_FreeValue(ctx, func_obj);\n  976      return JS_EXCEPTION;\n  977    }\n  978  \n  979    ccr->func = func;\n  980    ccr->length = length;\n  981    ccr->magic = magic;\n  982    ccr->opaque = opaque;\n  983    ccr->opaque_finalize = opaque_finalize;\n  984  \n  985    JS_SetOpaque(func_obj, ccr);\n  986  \n  987    // JS_DefinePropertyValueStr(ctx, func_obj, \"length\", JS_NewUint32(ctx, length), JS_PROP_CONFIGURABLE);\n  988  \n  989    return func_obj;\n  990  }\n  991  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/ws.h:\n    1  #ifndef QJSNET_LIB_WS_H\n    2  #define QJSNET_LIB_WS_H\n    3  \n    4  #include <libwebsockets.h>\n    5  #include \"opaque.h\"\n    6  #include \"jsutils.h\"\n    7  #include \"queue.h\"\n    8  \n    9  #if(defined(HAVE_WINSOCK2_H) || defined(WIN32) || defined(WIN64) || defined(__MINGW32__) || defined(__MINGW64__)) && !defined(__MSYS__)\n   10  #warning winsock2\n   11  #include <winsock2.h>\n   12  #endif\n   13  \n   14  struct lws;\n   15  struct http_request;\n   16  struct http_response;\n   17  \n   18  struct socket {\n   19    int ref_count;\n   20    struct lws* lwsi;\n   21  };\n   22  \n   23  struct socket* ws_new(struct lws*, JSContext* ctx);\n   24  void ws_clear_rt(struct socket*, JSRuntime* rt);\n   25  void ws_clear(struct socket*, JSContext* ctx);\n   26  void ws_free_rt(struct socket*, JSRuntime* rt);\n   27  void ws_free(struct socket*, JSContext* ctx);\n   28  struct socket* ws_dup(struct socket*);\n   29  QueueItem* ws_enqueue(struct socket*, ByteBlock);\n   30  QueueItem* ws_send(struct socket*, const void* data, size_t size, JSContext* ctx);\n   31  \n   32  static inline struct session_data*\n   33  lws_session(struct lws* wsi) {\n   34    struct wsi_opaque_user_data* opaque;\n   35  \n   36    if((opaque = lws_get_opaque_user_data(wsi)))\n   37      return opaque->sess;\n   38  \n   39    return 0;\n   40  }\n   41  \n   42  static inline struct wsi_opaque_user_data*\n   43  ws_opaque(struct socket* ws) {\n   44    return ws->lwsi ? lws_get_opaque_user_data(ws->lwsi) : 0;\n   45  }\n   46  \n   47  static inline struct session_data*\n   48  ws_session(struct socket* ws) {\n   49    return ws->lwsi ? lws_session(ws->lwsi) : 0;\n   50  }\n   51  \n   52  static inline struct socket*\n   53  ws_from_wsi(struct lws* wsi) {\n   54    struct wsi_opaque_user_data* opaque;\n   55    return ((opaque = lws_get_opaque_user_data(wsi)) && opaque_valid(opaque)) ? opaque->ws : 0;\n   56  }\n   57  \n   58  #endif /* QJSNET_LIB_WS_H */\n   59  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/allocated.h:\n    1  #ifndef QJSNET_LIB_ALLOCATED_H\n    2  #define QJSNET_LIB_ALLOCATED_H\n    3  \n    4  #include <stddef.h>\n    5  \n    6  typedef struct allocated {\n    7    void *pointer, *opaque;\n    8    void (*free_func)(void* ptr, void* opaque);\n    9  } Allocated;\n   10  \n   11  #define ALLOCATED(ptr, free_func) \\\n   12    (Allocated) { (ptr), (free_func) }\n   13  \n   14  static inline void\n   15  allocated_init(Allocated* alloc, void* ptr, void (*free_func)(void* ptr, void* opaque)) {\n   16    alloc->pointer = ptr;\n   17    alloc->free_func = free_func;\n   18  }\n   19  \n   20  static inline void\n   21  allocated_free(Allocated* alloc) {\n   22    if(alloc->pointer) {\n   23      alloc->free_func(alloc->pointer, alloc->opaque);\n   24      alloc->pointer = NULL;\n   25    }\n   26  }\n   27  \n   28  static inline void\n   29  allocated_zero(Allocated* alloc) {\n   30    alloc->pointer = NULL;\n   31    alloc->free_func = NULL;\n   32  }\n   33  \n   34  #endif /* QJSNET_LIB_ALLOCATED_H */\n   35  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n    1  #ifndef QJSNET_LIB_JSUTILS_H\n    2  #define QJSNET_LIB_JSUTILS_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <cutils.h>\n    6  #include <list.h>\n    7  #include \"utils.h\"\n    8  \n    9  #ifdef JS_SHARED_LIBRARY\n   10  #define JS_INIT_MODULE js_init_module\n   11  #else\n   12  #define JS_INIT_MODULE js_init_module_minnet\n   13  #endif\n   14  \n   15  #define JS_CGETSET_MAGIC_FLAGS_DEF(prop_name, fgetter, fsetter, magic_num, flags) \\\n   16    { \\\n   17      .name = prop_name, .prop_flags = flags, .def_type = JS_DEF_CGETSET_MAGIC, .magic = magic_num, .u = {.getset = {.get = {.getter_magic = fgetter}, .set = {.setter_magic = fsetter}} } \\\n   18    }\n   19  #define JS_CGETSET_FLAGS_DEF(prop_name, fgetter, fsetter, flags) \\\n   20    { \\\n   21      .name = prop_name, .prop_flags = flags, .def_type = JS_DEF_CGETSET, .u = {.getset = {.get = {.getter_magic = fgetter}, .set = {.setter_magic = fsetter}} } \\\n   22    }\n   23  \n   24  #define JS_INDEX_STRING_DEF(index, cstr) \\\n   25    { \\\n   26      .name = #index, .prop_flags = JS_PROP_CONFIGURABLE | JS_PROP_ENUMERABLE, .def_type = JS_DEF_PROP_STRING, .magic = 0, .u = {.str = cstr } \\\n   27    }\n   28  #define JS_CFUNC_FLAGS_DEF(prop_name, length, func1, flags) \\\n   29    { \\\n   30      .name = prop_name, .prop_flags = (flags), .def_type = JS_DEF_CFUNC, .magic = 0, .u = {.func = {length, JS_CFUNC_generic, {.generic = func1}} } \\\n   31    }\n   32  \n   33  typedef enum { ON_RESOLVE = 0, ON_REJECT } promise_handler_e;\n   34  \n   35  typedef struct JSThreadState {\n   36    struct list_head os_rw_handlers;\n   37    struct list_head os_signal_handlers;\n   38    struct list_head os_timers;\n   39    struct list_head port_list;\n   40    int eval_script_recurse;\n   41    void *recv_pipe, *send_pipe;\n   42  } JSThreadState;\n   43  \n   44  typedef struct offset_length {\n   45    int64_t offset, length;\n   46  } OffsetLength;\n   47  \n   48  typedef struct input_buffer {\n   49    uint8_t* data;\n   50    size_t size;\n   51    size_t pos;\n   52    void (*free)(JSRuntime*, void* opaque, void* ptr);\n   53    JSValue value;\n   54    OffsetLength range;\n   55  } JSBuffer;\n   56  \n   57  #define JS_BUFFER_DEFAULT() JS_BUFFER(0, 0, &js_buffer_free_default)\n   58  \n   59  #define JS_BUFFER_0(free) JS_BUFFER(0, 0, (free))\n   60  \n   61  #define JS_BUFFER(data, size, free) \\\n   62    (JSBuffer) { \\\n   63      (data), (size), 0, (free), JS_UNDEFINED, { 0, -1 } \\\n   64    }\n   65  \n   66  #define JS_BUFFER_VALUE(data, size, value) \\\n   67    (JSBuffer) { \\\n   68      (data), (size), 0, (&js_buffer_free_default), (value), { 0, -1 } \\\n   69    }\n   70  \n   71  typedef struct key_value {\n   72    JSAtom key;\n   73    JSValue value;\n   74  } JSEntry;\n   75  \n   76  #define JS_ENTRY() \\\n   77    (JSEntry) { -1, JS_UNDEFINED }\n   78  \n   79  typedef struct resolve_functions {\n   80    JSValue resolve, reject;\n   81  } ResolveFunctions;\n   82  \n   83  struct TimerClosure {\n   84    int ref_count;\n   85    uint32_t interval;\n   86    JSContext* ctx;\n   87    JSValueConst id, handler, callback;\n   88  };\n   89  \n   90  #define JS_BIND_THIS 0x8000\n   91  \n   92  static inline void\n   93  js_vector_free(JSContext* ctx, int argc, JSValue argv[]) {\n   94    for(int i = 0; i < argc; i++) {\n   95      JS_FreeValue(ctx, argv[i]);\n   96      argv[i] = JS_UNDEFINED;\n   97    }\n   98  }\n   99  \n  100  struct byte_block;\n  101  JSValue js_object_constructor(JSContext*, JSValueConst value);\n  102  char* js_object_classname(JSContext*, JSValueConst value);\n  103  void js_console_log(JSContext*, JSValueConst* console, JSValueConst* console_log);\n  104  JSValue js_function_bound(JSContext*, JSValueConst this_val, int argc, JSValueConst argv[], int magic, JSValueConst* func_data);\n  105  JSValue js_function_bind(JSContext*, JSValueConst func, int flags, JSValueConst argv[]);\n  106  JSValue js_function_bind_1(JSContext*, JSValueConst func, JSValueConst arg);\n  107  JSValue js_function_bind_this(JSContext*, JSValueConst func, JSValueConst this_val);\n  108  JSValue js_function_bind_this_1(JSContext*, JSValueConst func, JSValueConst this_val, JSValueConst arg);\n  109  const char* js_function_name(JSContext*, JSValueConst value);\n  110  JSValue js_function_prototype(JSContext*);\n  111  JSValue js_iterator_result(JSContext*, JSValueConst value, BOOL done);\n  112  JSValue js_iterator_next(JSContext*, JSValueConst obj, JSValueConst* next, BOOL* done_p, int argc, JSValueConst argv[]);\n  113  int js_copy_properties(JSContext*, JSValueConst dst, JSValueConst src, int flags);\n  114  void js_buffer_free_default(JSRuntime*, void* opaque, void* ptr);\n  115  BOOL js_buffer_from(JSContext*, JSBuffer* buf, JSValueConst value);\n  116  JSBuffer js_buffer_new(JSContext*, JSValueConst value);\n  117  JSBuffer js_buffer_fromblock(JSContext*, struct byte_block* blk);\n  118  JSBuffer js_buffer_alloc(JSContext*, size_t size);\n  119  void js_buffer_free_rt(JSBuffer*, JSRuntime* rt);\n  120  void js_buffer_free(JSBuffer*, JSContext* ctx);\n  121  BOOL js_is_iterator(JSContext*, JSValueConst obj);\n  122  BOOL js_is_async_generator(JSContext*, JSValueConst obj);\n  123  JSAtom js_symbol_static_atom(JSContext*, const char* name);\n  124  JSValue js_symbol_static_value(JSContext*, const char* name);\n  125  JSValue js_symbol_for_value(JSContext*, const char* name);\n  126  JSAtom js_symbol_for_atom(JSContext*, const char* name);\n  127  JSValue js_symbol_ctor(JSContext*);\n  128  JSValue js_global_get(JSContext*, const char* prop);\n  129  JSValue js_global_os(JSContext*);\n  130  JSValue js_os_get(JSContext*, const char* prop);\n  131  JSValue js_timer_start(JSContext*, JSValueConst fn, uint32_t ms);\n  132  void js_timer_cancel(JSContext*, JSValueConst timer);\n  133  void js_timer_free(void*);\n  134  JSValue js_timer_callback(JSContext*, JSValueConst this_val, int argc, JSValueConst* argv, int magic, void* opaque);\n  135  struct TimerClosure* js_timer_interval(JSContext*, JSValueConst fn, uint32_t ms);\n  136  void js_timer_restart(struct TimerClosure*);\n  137  char* js_tostringlen(JSContext*, size_t* lenp, JSValueConst value);\n  138  char* js_tostring(JSContext*, JSValueConst value);\n  139  JSValue js_invoke(JSContext*, JSValueConst this_obj, const char* method, int argc, JSValueConst argv[]);\n  140  JSValue js_promise_create(JSContext*, ResolveFunctions* funcs);\n  141  void js_promise_free(JSContext*, ResolveFunctions* funcs);\n  142  void js_promise_free_rt(JSRuntime*, ResolveFunctions* funcs);\n  143  JSValue js_promise_resolve(JSContext*, ResolveFunctions* funcs, JSValueConst value);\n  144  JSValue js_promise_reject(JSContext*, ResolveFunctions* funcs, JSValueConst value);\n  145  void js_promise_zero(ResolveFunctions*);\n  146  BOOL js_promise_pending(ResolveFunctions const*);\n  147  JSValue js_promise_then(JSContext*, JSValueConst promise, JSValueConst handler);\n  148  JSValue js_promise_catch(JSContext*, JSValueConst promise, JSValueConst handler);\n  149  BOOL js_is_promise(JSContext*, JSValueConst value);\n  150  JSValue js_error_new(JSContext*, const char* fmt, ...);\n  151  void js_error_print(JSContext*, JSValueConst error);\n  152  uint8_t* js_toptrsize(JSContext*, unsigned int* plen, JSValueConst value);\n  153  uint32_t js_get_propertystr_uint32(JSContext*, JSValueConst obj, const char* str);\n  154  BOOL js_has_propertystr(JSContext*, JSValueConst obj, const char* str);\n  155  struct list_head* js_module_list(JSContext*);\n  156  int64_t js_array_length(JSContext*, JSValueConst array);\n  157  char** js_array_to_argv(JSContext*, int* argcp, JSValueConst array);\n  158  int js_offset_length(JSContext*, int64_t size, int argc, JSValueConst argv[], OffsetLength* off_len_p);\n  159  JSValue js_argv_to_array(JSContext*, const char* const* argv);\n  160  static inline BOOL\n  161  js_atom_is_int32(JSAtom atom) {\n  162    if((int32_t)atom < 0)\n  163      return TRUE;\n  164    return FALSE;\n  165  }\n  166  \n  167  static inline BOOL\n  168  js_atom_valid(JSAtom atom) {\n  169    return atom != 0x7fffffff;\n  170  }\n  171  \n  172  BOOL js_atom_is_index(JSContext*, int64_t* pval, JSAtom atom);\n  173  BOOL js_atom_compare_string(JSContext*, JSAtom atom, const char* other);\n  174  BOOL js_atom_is_length(JSContext*, JSAtom atom);\n  175  BOOL js_atom_is_symbol(JSContext*, JSAtom atom);\n  176  JSBuffer js_input_buffer(JSContext*, JSValueConst value);\n  177  JSBuffer js_input_chars(JSContext*, JSValueConst value);\n  178  JSBuffer js_input_args(JSContext*, int argc, JSValueConst argv[]);\n  179  int js_buffer_fromargs(JSContext*, int argc, JSValueConst argv[], JSBuffer* buf);\n  180  BOOL js_is_arraybuffer(JSContext*, JSValueConst value);\n  181  BOOL js_is_dataview(JSContext*, JSValueConst value);\n  182  BOOL js_is_typedarray(JSContext*, JSValueConst value);\n  183  JSValue js_typedarray_constructor(JSContext*, int bits, BOOL floating, BOOL sign);\n  184  JSValue js_typedarray_new(JSContext*, int bits, BOOL floating, BOOL sign, JSValueConst buffer, uint32_t byte_offset, uint32_t length);\n  185  \n  186  static inline void\n  187  js_entry_init(JSEntry* entry) {\n  188    entry->key = -1;\n  189    entry->value = JS_UNDEFINED;\n  190  }\n  191  \n  192  static inline void\n  193  js_entry_clear(JSContext* ctx, JSEntry* entry) {\n  194    if(entry->key >= 0)\n  195      JS_FreeAtom(ctx, entry->key);\n  196    entry->key = -1;\n  197    JS_FreeValue(ctx, entry->value);\n  198    entry->value = JS_UNDEFINED;\n  199  }\n  200  \n  201  static inline void\n  202  js_entry_clear_rt(JSRuntime* rt, JSEntry* entry) {\n  203    if(entry->key >= 0)\n  204      JS_FreeAtomRT(rt, entry->key);\n  205    entry->key = -1;\n  206    JS_FreeValueRT(rt, entry->value);\n  207    entry->value = JS_UNDEFINED;\n  208  }\n  209  \n  210  static inline void\n  211  js_entry_reset(JSContext* ctx, JSEntry* entry, JSAtom key, JSValue value) {\n  212    js_entry_clear(ctx, entry);\n  213    entry->key = key;\n  214    entry->value = value;\n  215  }\n  216  \n  217  static inline void\n  218  js_entry_reset_string(JSContext* ctx, JSEntry* entry, const char* keystr, JSValue value) {\n  219    JSAtom key;\n  220    key = JS_NewAtom(ctx, keystr);\n  221    js_entry_reset(ctx, entry, key, value);\n  222  }\n  223  \n  224  static inline const char*\n  225  js_entry_key_string(JSContext* ctx, const JSEntry entry) {\n  226    const char* str;\n  227    str = JS_AtomToCString(ctx, entry.key);\n  228    return str;\n  229  }\n  230  \n  231  static inline const char*\n  232  js_entry_value_string(JSContext* ctx, const JSEntry entry) {\n  233    const char* str;\n  234    str = JS_ToCString(ctx, entry.value);\n  235    return str;\n  236  }\n  237  \n  238  static inline JSEntry\n  239  js_entry_dup(JSContext* ctx, const JSEntry entry) {\n  240    JSEntry ret = {JS_DupAtom(ctx, entry.key), JS_DupValue(ctx, entry.value)};\n  241    return ret;\n  242  }\n  243  \n  244  static inline int\n  245  js_entry_apply(JSContext* ctx, JSEntry* entry, JSValueConst obj) {\n  246    int ret;\n  247    ret = JS_SetProperty(ctx, obj, entry->key, entry->value);\n  248    JS_FreeAtom(ctx, entry->key);\n  249    entry->key = -1;\n  250    entry->value = JS_UNDEFINED;\n  251    return ret;\n  252  }\n  253  \n  254  static inline void\n  255  ol_init(OffsetLength* ol) {\n  256    ol->offset = 0;\n  257    ol->length = INT64_MAX;\n  258  }\n  259  \n  260  static inline BOOL\n  261  ol_is_default(const OffsetLength* ol) {\n  262    return ol->offset == 0 && ol->length == INT64_MAX;\n  263  }\n  264  \n  265  static inline uint8_t*\n  266  ol_data(const OffsetLength* ol, const void* x) {\n  267    return (uint8_t*)x + ol->offset;\n  268  }\n  269  \n  270  static inline size_t\n  271  ol_size(const OffsetLength* ol, int64_t n) {\n  272    return MIN(ol->length, n - ol->offset);\n  273  }\n  274  \n  275  /*static inline MemoryBlock\n  276  ol_block(const OffsetLength* ol, const void* x, size_t n) {\n  277    return (MemoryBlock){ol_data(ol, x), ol_size(ol, n)};\n  278  }*/\n  279  \n  280  /*static inline PointerRange\n  281  ol_range(const OffsetLength* ol, const void* x, size_t n) {\n  282    MemoryBlock mb = offset_block(ol, x, n);\n  283    return range_from(&mb);\n  284  }*/\n  285  \n  286  static inline OffsetLength\n  287  ol_slice(const OffsetLength ol, int64_t start, int64_t end) {\n  288    if(start < 0)\n  289      start = ol.length + (start % ol.length);\n  290    else if(start > ol.length)\n  291      start = ol.length;\n  292    if(end < 0)\n  293      end = ol.length + (end % ol.length);\n  294    else if(end > ol.length)\n  295      end = ol.length;\n  296  \n  297    return (OffsetLength){start, end - start};\n  298  }\n  299  \n  300  static inline OffsetLength\n  301  ol_offset(const OffsetLength* ol, const OffsetLength* by) {\n  302    OffsetLength ret;\n  303    ret.offset = ol->offset + by->offset;\n  304    ret.length = MIN(by->length, ol->length - by->offset);\n  305    return ret;\n  306  }\n  307  \n  308  static inline void\n  309  js_clear(JSContext* ctx, const void* arg) {\n  310    const void** ptr = (const void**)arg;\n  311    if(*ptr)\n  312      js_free(ctx, (void*)*ptr);\n  313    *ptr = 0;\n  314  }\n  315  \n  316  static inline void\n  317  js_dump_string(const char* str, size_t len, size_t maxlen) {\n  318    size_t i, n = 2;\n  319    putchar('\\'');\n  320    for(i = 0; i < len; i++) {\n  321      if(str[i] == '\\n') {\n  322        putchar('\\\\');\n  323        putchar('n');\n  324        n += 2;\n  325      } else {\n  326        putchar(str[i]);\n  327        n++;\n  328      }\n  329      if(maxlen > 0 && n + 1 >= maxlen) {\n  330        fputs(\"'...\", stdout);\n  331        return;\n  332      }\n  333    }\n  334    putchar('\\'');\n  335  }\n  336  \n  337  static inline char*\n  338  js_to_string(JSContext* ctx, JSValueConst value) {\n  339    const char* s;\n  340    char* ret = 0;\n  341  \n  342    if((s = JS_ToCString(ctx, value))) {\n  343      ret = js_strdup(ctx, s);\n  344      JS_FreeCString(ctx, s);\n  345    }\n  346    return ret;\n  347  }\n  348  \n  349  static inline char*\n  350  js_replace_string(JSContext* ctx, JSValueConst value, char** sptr) {\n  351    const char* s;\n  352  \n  353    if(*sptr)\n  354      js_free(ctx, *sptr);\n  355  \n  356    if((s = JS_ToCString(ctx, value))) {\n  357      *sptr = js_strdup(ctx, s);\n  358      JS_FreeCString(ctx, s);\n  359    }\n  360    return *sptr;\n  361  }\n  362  \n  363  static inline BOOL\n  364  js_is_nullish(JSValueConst value) {\n  365    return JS_IsNull(value) || JS_IsUndefined(value);\n  366  }\n  367  \n  368  static inline const uint8_t*\n  369  js_buffer_begin(const JSBuffer* in) {\n  370    return in->data;\n  371  }\n  372  \n  373  static inline const uint8_t*\n  374  js_buffer_end(const JSBuffer* in) {\n  375    return in->data + in->size;\n  376  }\n  377  \n  378  JSValue js_typedarray_constructor(JSContext*, int bits, BOOL floating, BOOL sign);\n  379  JSValue js_typedarray_new(JSContext*, int bits, BOOL floating, BOOL sign, JSValueConst buffer, uint32_t byte_offset, uint32_t length);\n  380  \n  381  typedef JSValue CClosureFunc(JSContext*, JSValueConst, int, JSValueConst[], int, void*);\n  382  \n  383  JSValue js_function_cclosure(JSContext*, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*));\n  384  \n  385  #endif /* QJSNET_LIB_JS_UTILS_H */\n  386  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.c:\n    1  #include \"asynciterator.h\"\n    2  \n    3  static AsyncRead*\n    4  asynciterator_shift(AsyncIterator* it, JSContext* ctx) {\n    5    if(!list_empty(&it->reads)) {\n    6      AsyncRead* rd = list_entry(it->reads.prev, AsyncRead, link);\n    7      list_del(&rd->link);\n    8      return rd;\n    9    }\n   10    return 0;\n   11  }\n   12  \n   13  static BOOL\n   14  asynciterator_check_closing(AsyncIterator* it, JSContext* ctx) {\n   15    if(it->closing) {\n   16      asynciterator_stop(it, ctx);\n   17      it->closing = FALSE;\n   18      it->closed = TRUE;\n   19      return TRUE;\n   20    }\n   21  \n   22    return FALSE;\n   23  }\n   24  \n   25  void\n   26  asynciterator_zero(AsyncIterator* it) {\n   27    it->closed = FALSE;\n   28    it->closing = FALSE;\n   29    init_list_head(&it->reads);\n   30  }\n   31  \n   32  void\n   33  asynciterator_clear(AsyncIterator* it, JSRuntime* rt) {\n   34    struct list_head *el, *next;\n   35  \n   36    list_for_each_safe(el, next, &it->reads) {\n   37      AsyncRead* rd = list_entry(el, AsyncRead, link);\n   38      list_del(&rd->link);\n   39      js_promise_free_rt(rt, &rd->promise);\n   40      js_free_rt(rt, rd);\n   41    }\n   42  }\n   43  \n   44  JSValue\n   45  asynciterator_next(AsyncIterator* it, JSContext* ctx) {\n   46    AsyncRead* rd;\n   47    JSValue ret = JS_UNDEFINED;\n   48  \n   49    if(it->closed)\n   50      return JS_ThrowInternalError(ctx, \"%s: iterator closed\", __func__);\n   51  \n   52    if((rd = js_malloc(ctx, sizeof(AsyncRead)))) {\n   53      list_add(&rd->link, &it->reads);\n   54      ret = js_promise_create(ctx, &rd->promise);\n   55      rd->id = ++it->serial;\n   56    }\n   57  \n   58    asynciterator_check_closing(it, ctx);\n   59  \n   60    return ret;\n   61  }\n   62  \n   63  BOOL\n   64  asynciterator_stop(AsyncIterator* it, JSContext* ctx) {\n   65  \n   66    if(!list_empty(&it->reads)) {\n   67      asynciterator_emplace(it, JS_UNDEFINED, TRUE, ctx);\n   68      it->closed = TRUE;\n   69  \n   70      asynciterator_cancel(it, JS_NULL, ctx);\n   71    } else {\n   72      it->closing = TRUE;\n   73    }\n   74  \n   75    return it->closed;\n   76  }\n   77  \n   78  int\n   79  asynciterator_cancel(AsyncIterator* it, JSValueConst error, JSContext* ctx) {\n   80    int ret = 0;\n   81    AsyncRead* rd;\n   82  \n   83    while((rd = asynciterator_shift(it, ctx))) {\n   84      js_promise_reject(ctx, &rd->promise, error);\n   85      js_free(ctx, rd);\n   86      ret++;\n   87    }\n   88  \n   89    it->closed = TRUE;\n   90  \n   91    return ret;\n   92  }\n   93  \n   94  BOOL\n   95  asynciterator_emplace(AsyncIterator* it, JSValueConst value, BOOL done, JSContext* ctx) {\n   96    AsyncRead* rd;\n   97  \n   98    if((rd = asynciterator_shift(it, ctx))) {\n   99  \n  100      // printf(\"%-22s reads: %zu read: %\" PRIu32 \" value: %.*s done: %i\\n\", __func__, list_size(&it->reads), rd->id, 10, JS_ToCString(ctx, value), done);\n  101  \n  102      JSValue obj = asynciterator_object(value, done, ctx);\n  103      js_promise_resolve(ctx, &rd->promise, obj);\n  104      JS_FreeValue(ctx, obj);\n  105      js_free(ctx, rd);\n  106      //    it->serial++;\n  107      return TRUE;\n  108    }\n  109  \n  110    return FALSE;\n  111  }\n  112  \n  113  JSValue\n  114  asynciterator_object(JSValueConst value, BOOL done, JSContext* ctx) {\n  115    JSValue obj = JS_NewObject(ctx);\n  116  \n  117    JS_SetPropertyStr(ctx, obj, \"value\", JS_DupValue(ctx, value));\n  118    JS_SetPropertyStr(ctx, obj, \"done\", JS_NewBool(ctx, done));\n  119  \n  120    return obj;\n  121  }\n  122  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/request.c:\n    1  #define _GNU_SOURCE\n    2  #include \"request.h\"\n    3  //#include \"lws-utils.h\"\n    4  //#include \"ringbuffer.h\"\n    5  #include \"headers.h\"\n    6  //#include \"jsutils.h\"\n    7  #include <ctype.h>\n    8  #include <strings.h>\n    9  #include <libwebsockets.h>\n   10  \n   11  Request* minnet_request_data(JSValueConst);\n   12  \n   13  static const char* const method_names[] = {\n   14      \"GET\",\n   15      \"POST\",\n   16      \"OPTIONS\",\n   17      \"PUT\",\n   18      \"PATCH\",\n   19      \"DELETE\",\n   20      \"CONNECT\",\n   21      \"HEAD\",\n   22  };\n   23  \n   24  const char*\n   25  method_string(enum http_method m) {\n   26    if(m >= 0 && m < countof(method_names))\n   27      return method_names[m];\n   28    return 0;\n   29  }\n   30  \n   31  int\n   32  method_number(const char* name) {\n   33    int i = 0;\n   34    if(name)\n   35      for(i = countof(method_names) - 1; i >= 0; --i)\n   36        if(!strcasecmp(name, method_names[i]))\n   37          break;\n   38    return i;\n   39  }\n   40  \n   41  void\n   42  request_init(Request* req, URL url, enum http_method method) {\n   43    // memset(req, 0, sizeof(Request));\n   44  \n   45    req->url = url;\n   46    req->method = method;\n   47    req->body = 0;\n   48    req->ip = 0;\n   49    req->read_only = FALSE;\n   50    req->secure = url_is_tls(url);\n   51  }\n   52  \n   53  Request*\n   54  request_alloc(JSContext* ctx) {\n   55    Request* ret;\n   56  \n   57    ret = js_mallocz(ctx, sizeof(Request));\n   58    ret->ref_count = 1;\n   59    return ret;\n   60  }\n   61  \n   62  Request*\n   63  request_new(URL url, HTTPMethod method, JSContext* ctx) {\n   64    Request* req;\n   65  \n   66    if((req = request_alloc(ctx)))\n   67      request_init(req, url, method);\n   68  \n   69    return req;\n   70  }\n   71  \n   72  Request*\n   73  request_dup(Request* req) {\n   74    ++req->ref_count;\n   75    return req;\n   76  }\n   77  \n   78  Request*\n   79  request_fromwsi(struct lws* wsi, JSContext* ctx) {\n   80    Request* ret = 0;\n   81    HTTPMethod method = wsi_method(wsi);\n   82    URL url = URL_INIT();\n   83  \n   84    url_fromwsi(&url, wsi, ctx);\n   85  \n   86    ret = request_new(url, method, ctx);\n   87  \n   88    ret->ip = wsi_ipaddr(wsi);\n   89    ret->secure = wsi_tls(wsi);\n   90    ret->h2 = wsi_http2(wsi);\n   91  \n   92    return ret;\n   93  }\n   94  \n   95  void\n   96  request_clear(Request* req, JSRuntime* rt) {\n   97    url_free_rt(&req->url, rt);\n   98    buffer_free(&req->headers);\n   99    if(req->ip) {\n  100      js_free_rt(rt, req->ip);\n  101      req->ip = 0;\n  102    }\n  103    if(req->body)\n  104      generator_destroy(&req->body);\n  105  }\n  106  \n  107  void\n  108  request_free(Request* req, JSRuntime* rt) {\n  109    if(--req->ref_count == 0) {\n  110      request_clear(req, rt);\n  111      js_free_rt(rt, req);\n  112    }\n  113  }\n  114  \n  115  Request*\n  116  request_from(int argc, JSValueConst argv[], JSContext* ctx) {\n  117    Request* req = 0;\n  118    URL url = {0, 0, 0, 0};\n  119  \n  120    if(JS_IsObject(argv[0]) && (req = minnet_request_data(argv[0]))) {\n  121      req = request_dup(req);\n  122    } else {\n  123      url_fromvalue(&url, argv[0], ctx);\n  124  \n  125      if(url_valid(url))\n  126        req = request_new(url, METHOD_GET, ctx);\n  127    }\n  128  \n  129    if(req)\n  130      if(argc >= 2 && JS_IsObject(argv[1])) {\n  131        JSValue headers = JS_GetPropertyStr(ctx, argv[1], \"headers\");\n  132        if(!JS_IsUndefined(headers))\n  133          headers_fromobj(&req->headers, headers, ctx);\n  134  \n  135        JS_FreeValue(ctx, headers);\n  136      }\n  137  \n  138    return req;\n  139  }\n  140  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/url.h:\n    1  #ifndef QJSNET_LIB_URL_H\n    2  #define QJSNET_LIB_URL_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <stdint.h>\n    6  #include \"utils.h\"\n    7  \n    8  enum protocol {\n    9    PROTOCOL_WS = 0,\n   10    PROTOCOL_WSS,\n   11    PROTOCOL_HTTP,\n   12    PROTOCOL_HTTPS,\n   13    PROTOCOL_RAW,\n   14    PROTOCOL_TLS,\n   15    NUM_PROTOCOLS,\n   16  };\n   17  \n   18  #define URL_IS_VALID_PORT(num) ((num) >= 0 && (num) <= 65535)\n   19  \n   20  enum protocol protocol_number(const char*);\n   21  const char* protocol_string(enum protocol);\n   22  uint16_t protocol_default_port(enum protocol);\n   23  BOOL protocol_is_tls(enum protocol);\n   24  \n   25  typedef struct url {\n   26    int ref_count;\n   27    const char* protocol;\n   28    char *host, *path;\n   29    int port;\n   30  } URL;\n   31  \n   32  #define URL_INIT() \\\n   33    (struct url) { 1, 0, 0, 0, 0 }\n   34  \n   35  enum protocol protocol_number(const char*);\n   36  const char* protocol_string(enum protocol);\n   37  uint16_t protocol_default_port(enum protocol);\n   38  BOOL protocol_is_tls(enum protocol);\n   39  \n   40  void url_init(URL*, const char* protocol, const char* host, int port, const char* path, JSContext* ctx);\n   41  void url_parse(URL*, const char* u, JSContext* ctx);\n   42  size_t url_print(char*, size_t size, const URL url);\n   43  char* url_format(const URL, JSContext* ctx);\n   44  char* url_host(const URL, JSContext* ctx);\n   45  size_t url_length(const URL);\n   46  void url_free(URL*, JSContext* ctx);\n   47  void url_free_rt(URL*, JSRuntime* rt);\n   48  enum protocol url_set_protocol(URL*, const char* proto);\n   49  BOOL url_set_path_len(URL*, const char* path, size_t len, JSContext* ctx);\n   50  BOOL url_set_query_len(URL*, const char* query, size_t len, JSContext* ctx);\n   51  void url_info(const URL, struct lws_client_connect_info* info);\n   52  const char* url_query(const URL);\n   53  const char* url_search(const URL, size_t* len_p);\n   54  const char* url_hash(const URL);\n   55  void url_fromobj(URL*, JSValueConst obj, JSContext* ctx);\n   56  BOOL url_fromvalue(URL*, JSValueConst value, JSContext* ctx);\n   57  void url_fromwsi(URL*, struct lws* wsi, JSContext* ctx);\n   58  URL* url_new(JSContext*);\n   59  JSValue url_object(const URL, JSContext* ctx);\n   60  \n   61  static inline const char*\n   62  url_path(const struct url url) {\n   63    return url.path;\n   64  }\n   65  \n   66  static inline BOOL\n   67  url_valid(const struct url url) {\n   68    return url.host || url.path;\n   69  }\n   70  \n   71  static inline enum protocol\n   72  url_protocol(const struct url url) {\n   73    return protocol_number(url.protocol);\n   74  }\n   75  \n   76  static inline BOOL\n   77  url_is_tls(const struct url url) {\n   78    return url.protocol ? protocol_is_tls(protocol_number(url.protocol)) : FALSE;\n   79  }\n   80  \n   81  static inline struct url*\n   82  url_dup(struct url* url) {\n   83    ++url->ref_count;\n   84    return url;\n   85  }\n   86  \n   87  static inline struct url\n   88  url_clone(struct url url, JSContext* ctx) {\n   89    return (struct url){\n   90        .ref_count = 1,\n   91        .protocol = url.protocol,\n   92        .host = url.host ? js_strdup(ctx, url.host) : 0,\n   93        .path = url.path ? js_strdup(ctx, url.path) : 0,\n   94        .port = url.port,\n   95    };\n   96  }\n   97  \n   98  static inline void\n   99  url_copy(struct url* url, const struct url other, JSContext* ctx) {\n  100    url->protocol = other.protocol;\n  101    url->host = other.host ? js_strdup(ctx, other.host) : 0;\n  102    url->path = other.path ? js_strdup(ctx, other.path) : 0;\n  103    url->port = other.port;\n  104  }\n  105  \n  106  static inline char*\n  107  url_string(struct url const* url) {\n  108    static char buf[4096];\n  109  \n  110    url_print(buf, sizeof(buf), *url);\n  111    return buf;\n  112  }\n  113  \n  114  static inline BOOL\n  115  url_set_path(struct url* url, const char* path, JSContext* ctx) {\n  116    return url_set_path_len(url, path, strlen(path), ctx);\n  117  }\n  118  \n  119  static inline BOOL\n  120  url_set_query(struct url* url, const char* query, JSContext* ctx) {\n  121    return url_set_query_len(url, query, strlen(query), ctx);\n  122  }\n  123  #endif /* QJSNET_LIB_URL_H */\n  124  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/deferred.h:\n    1  #ifndef QJSNET_LIB_DEFERRED_H\n    2  #define QJSNET_LIB_DEFERRED_H\n    3  \n    4  #include <quickjs.h>\n    5  #include <cutils.h>\n    6  #include <stdarg.h>\n    7  \n    8  struct deferred;\n    9  typedef void* ptr_t;\n   10  typedef void FinalizerFunction(struct deferred*);\n   11  typedef void js_ctx_function_t(JSContext*, JSValueConst);\n   12  typedef void js_rt_function_t(JSRuntime*, JSValueConst);\n   13  \n   14  typedef union dword {\n   15    struct {\n   16      ptr_t lo, hi;\n   17    };\n   18    ptr_t word[2];\n   19    JSValueConst js;\n   20  } DoubleWord;\n   21  \n   22  /*typedef struct jscall_args {\n   23    JSContext* ctx;\n   24    JSValueConst func_obj;\n   25    JSValueConst this_val;\n   26    int argc;\n   27    JSValueConst* argv;\n   28    int magic;\n   29    ptr_t ptr;\n   30  } JSCallArgs;\n   31  \n   32  typedef struct jsfn_args {\n   33    JSContext* ctx;\n   34    JSValueConst this_val;\n   35    int argc;\n   36    JSValueConst* argv;\n   37    int magic;\n   38    ptr_t ptr;\n   39  } JSFunctionArgs;*/\n   40  \n   41  typedef DoubleWord DeferredFunction(ptr_t, ptr_t, ptr_t, ptr_t, ptr_t, ptr_t, ptr_t, ptr_t);\n   42  \n   43  typedef struct deferred {\n   44    int ref_count, num_calls;\n   45    BOOL only_once, js;\n   46    DeferredFunction* func;\n   47    int argc;\n   48    ptr_t argv[8];\n   49    struct deferred* next;\n   50  } Deferred;\n   51  \n   52  void deferred_clear(Deferred*);\n   53  void deferred_free(Deferred*);\n   54  Deferred* deferred_newv(ptr_t, int argc, ptr_t argv[]);\n   55  Deferred* deferred_newjs(JSValueConst, JSContext* ctx);\n   56  Deferred* deferred_dupjs(JSValueConst, JSContext* ctx);\n   57  void deferred_init(Deferred*, ptr_t fn, int argc, ptr_t argv[]);\n   58  DoubleWord deferred_call_x(Deferred*, ...);\n   59  void deferred_destructor(void*);\n   60  void deferred_finalizer(JSRuntime*, void* opaque, void* ptr);\n   61  JSValue deferred_tojs(Deferred*, JSContext* ctx);\n   62  \n   63  #define DEFERRED_SENTINEL (/*((void*)0) +*/ 0xb222471f43df05)\n   64  \n   65  static inline Deferred*\n   66  vdeferred_new(ptr_t fn, va_list a) {\n   67    int argc = 0;\n   68    ptr_t args[8] = {0};\n   69    size_t arg;\n   70  \n   71    while((arg = va_arg(a, size_t))) {\n   72      if(arg == (size_t)DEFERRED_SENTINEL)\n   73        break;\n   74      args[argc++] = (void*)arg;\n   75    }\n   76  \n   77    return deferred_newv(fn, argc, args);\n   78  }\n   79  \n   80  #define deferred_new(args...) deferred_new_x(args, DEFERRED_SENTINEL)\n   81  #define deferred_call(args...) deferred_call_x(args, DEFERRED_SENTINEL)\n   82  \n   83  static inline Deferred*\n   84  deferred_new_x(ptr_t fn, ...) {\n   85    va_list a;\n   86    int argc = 0;\n   87    ptr_t args[8] = {0}, arg;\n   88    va_start(a, fn);\n   89  \n   90    while((arg = va_arg(a, void*))) {\n   91      if((size_t)arg == (size_t)DEFERRED_SENTINEL)\n   92        break;\n   93      args[argc++] = arg;\n   94    }\n   95  \n   96    va_end(a);\n   97    return deferred_newv(fn, argc, args);\n   98  }\n   99  \n  100  static inline Deferred*\n  101  deferred_dup(Deferred* def) {\n  102    ++def->ref_count;\n  103    return def;\n  104  }\n  105  \n  106  static inline JSContext*\n  107  deferred_getctx(Deferred* def) {\n  108    return (JSContext*)def->argv[0];\n  109  }\n  110  \n  111  static inline JSValue\n  112  deferred_getjs(Deferred* def) {\n  113    return *(JSValue*)&def->argv[1];\n  114  }\n  115  \n  116  static inline Deferred*\n  117  deferred_new1(ptr_t fn, ptr_t arg1) {\n  118    return deferred_newv(fn, 1, &arg1);\n  119  }\n  120  \n  121  static inline Deferred*\n  122  deferred_new2(ptr_t fn, ptr_t arg1, ptr_t arg2) {\n  123    ptr_t args[] = {\n  124        arg1,\n  125        arg2,\n  126    };\n  127    return deferred_newv(fn, 2, args);\n  128  }\n  129  \n  130  static inline Deferred*\n  131  deferred_new3(ptr_t fn, ptr_t arg1, ptr_t arg2, ptr_t arg3) {\n  132    ptr_t args[] = {\n  133        arg1,\n  134        arg2,\n  135        arg3,\n  136    };\n  137    return deferred_newv(fn, 3, args);\n  138  }\n  139  #endif /* QJSNET_LIB_DEFERRED_H */\n  140  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/request.h:\n    1  #ifndef QJSNET_LIB_REQUEST_H\n    2  #define QJSNET_LIB_REQUEST_H\n    3  \n    4  #include \"lws-utils.h\"\n    5  #include \"buffer.h\"\n    6  #include \"generator.h\"\n    7  #include \"url.h\"\n    8  \n    9  const char* method_string(enum http_method);\n   10  int method_number(const char*);\n   11  \n   12  typedef struct http_request {\n   13    int ref_count;\n   14    BOOL read_only, secure, h2;\n   15    enum http_method method;\n   16    URL url;\n   17    ByteBuffer headers;\n   18    Generator* body;\n   19    char* ip;\n   20  } Request;\n   21  \n   22  const char* method_string(enum http_method);\n   23  int method_number(const char*);\n   24  \n   25  void request_init(Request*, URL url, enum http_method method);\n   26  Request* request_alloc(JSContext*);\n   27  Request* request_new(URL, HTTPMethod method, JSContext* ctx);\n   28  Request* request_dup(Request*);\n   29  Request* request_fromwsi(struct lws*, JSContext* ctx);\n   30  void request_clear(Request*, JSRuntime* rt);\n   31  void request_free(Request*, JSRuntime* rt);\n   32  Request* request_from(int, JSValueConst argv[], JSContext* ctx);\n   33  \n   34  static inline const char*\n   35  method_name(int m) {\n   36    if(m < 0)\n   37      return \"-1\";\n   38    return ((const char* const[]){\n   39        \"GET\",\n   40        \"POST\",\n   41        \"OPTIONS\",\n   42        \"PUT\",\n   43        \"PATCH\",\n   44        \"DELETE\",\n   45        \"CONNECT\",\n   46        \"HEAD\",\n   47    })[m];\n   48  }\n   49  \n   50  #endif /* QJSNET_LIB_REQUEST_H */\n   51  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.c:\n    1  #include \"form-parser.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"utils.h\"\n    4  #include \"ws.h\"\n    5  \n    6  static int\n    7  form_parser_callback(void* data, const char* name, const char* filename, char* buf, int len, enum lws_spa_fileupload_states state) {\n    8    FormParser* fp = data;\n    9    JSCallback* cb = 0;\n   10    JSValue args[2] = {JS_NULL, JS_NULL};\n   11  \n   12    switch(state) {\n   13      case LWS_UFS_CONTENT:\n   14      case LWS_UFS_FINAL_CONTENT: {\n   15        cb = &fp->cb.content;\n   16        if(cb->ctx) {\n   17          if(len > 0)\n   18            args[1] = JS_NewArrayBufferCopy(cb->ctx, (uint8_t*)buf, len);\n   19        }\n   20        break;\n   21      }\n   22      case LWS_UFS_OPEN: {\n   23        cb = &fp->cb.open;\n   24        if(cb->ctx) {\n   25          if(!JS_IsUndefined(fp->file)) {\n   26            if(fp->cb.close.ctx) {\n   27              args[1] = fp->file;\n   28              JSValue ret = callback_emit(&fp->cb.close, 2, args);\n   29              JS_FreeValue(cb->ctx, ret);\n   30            }\n   31            JS_FreeValue(cb->ctx, fp->file);\n   32            fp->file = JS_UNDEFINED;\n   33          }\n   34          if(filename) {\n   35            fp->file = JS_NewString(cb->ctx, filename);\n   36            args[1] = JS_DupValue(cb->ctx, fp->file);\n   37          }\n   38          if(!JS_IsUndefined(fp->name)) {\n   39  \n   40            JS_FreeValue(cb->ctx, fp->name);\n   41            fp->name = JS_UNDEFINED;\n   42          }\n   43          if(name) {\n   44            fp->name = JS_NewString(cb->ctx, name);\n   45          }\n   46        }\n   47        break;\n   48      }\n   49      case LWS_UFS_CLOSE: {\n   50        cb = &fp->cb.close;\n   51        if(cb->ctx) {\n   52          // args[0] = JS_DupValue(cb->ctx, fp->name);\n   53          if(!JS_IsUndefined(fp->file))\n   54            args[1] = JS_DupValue(cb->ctx, fp->file);\n   55          JS_FreeValue(cb->ctx, fp->file);\n   56          fp->file = JS_UNDEFINED;\n   57        }\n   58        break;\n   59      }\n   60    }\n   61  \n   62    if(cb && cb->ctx) {\n   63      JSValue ret;\n   64  \n   65      /*  if(JS_IsUndefined(fp->name) && name)\n   66            args[0] = JS_NewString(cb->ctx, name);\n   67          else*/\n   68      if(JS_IsUndefined(fp->name))\n   69        args[0] = JS_DupValue(cb->ctx, fp->name);\n   70  \n   71      ret = callback_emit(cb, 2, args);\n   72  \n   73      if(JS_IsException(ret))\n   74        js_error_print(cb->ctx, fp->exception = JS_GetException(cb->ctx));\n   75  \n   76      JS_FreeValue(cb->ctx, args[0]);\n   77      JS_FreeValue(cb->ctx, args[1]);\n   78    }\n   79  \n   80    return 0;\n   81  }\n   82  \n   83  void\n   84  form_parser_init(FormParser* fp, struct socket* ws, int nparams, const char* const* param_names, size_t chunk_size) {\n   85  \n   86    memset(&fp->spa_create_info, 0, sizeof(struct lws_spa_create_info));\n   87    fp->ws = ws_dup(ws);\n   88    fp->spa_create_info.count_params = nparams;\n   89    fp->spa_create_info.param_names = param_names;\n   90    fp->spa_create_info.max_storage = chunk_size + 1;\n   91    fp->spa_create_info.opt_cb = &form_parser_callback;\n   92    fp->spa_create_info.opt_data = fp;\n   93  \n   94    fp->spa = lws_spa_create_via_info(ws->lwsi, &fp->spa_create_info);\n   95    fp->exception = JS_NULL;\n   96    fp->name = JS_UNDEFINED;\n   97    fp->file = JS_UNDEFINED;\n   98  }\n   99  \n  100  FormParser*\n  101  form_parser_alloc(JSContext* ctx) {\n  102    FormParser* ret;\n  103  \n  104    ret = js_mallocz(ctx, sizeof(FormParser));\n  105    ret->ref_count = 1;\n  106    return ret;\n  107  }\n  108  \n  109  void\n  110  form_parser_clear(FormParser* fp, JSContext* ctx) {\n  111  \n  112    if(fp->spa) {\n  113      lws_spa_destroy(fp->spa);\n  114      fp->spa = 0;\n  115    }\n  116  \n  117    if(fp->spa_create_info.param_names) {\n  118      js_free(ctx, (void*)fp->spa_create_info.param_names);\n  119    }\n  120    memset(&fp->spa_create_info, 0, sizeof(struct lws_spa_create_info));\n  121  \n  122    FREECB(fp->cb.content);\n  123    FREECB(fp->cb.open);\n  124    FREECB(fp->cb.close);\n  125  }\n  126  \n  127  void\n  128  form_parser_clear_rt(FormParser* fp, JSRuntime* rt) {\n  129  \n  130    if(fp->spa) {\n  131      lws_spa_destroy(fp->spa);\n  132      fp->spa = 0;\n  133    }\n  134  \n  135    if(fp->spa_create_info.param_names) {\n  136      js_free_rt(rt, (void*)fp->spa_create_info.param_names);\n  137    }\n  138    memset(&fp->spa_create_info, 0, sizeof(struct lws_spa_create_info));\n  139  \n  140    FREECB_RT(fp->cb.content);\n  141    FREECB_RT(fp->cb.open);\n  142    FREECB_RT(fp->cb.close);\n  143  }\n  144  \n  145  void\n  146  form_parser_free(FormParser* fp, JSContext* ctx) {\n  147    if(--fp->ref_count == 0) {\n  148      ws_free(fp->ws, ctx);\n  149      form_parser_clear(fp, ctx);\n  150      js_free(ctx, fp);\n  151    }\n  152  }\n  153  \n  154  void\n  155  form_parser_free_rt(FormParser* fp, JSRuntime* rt) {\n  156    if(--fp->ref_count == 0) {\n  157      ws_free_rt(fp->ws, rt);\n  158      form_parser_clear_rt(fp, rt);\n  159      js_free_rt(rt, fp);\n  160    }\n  161  }\n  162  \n  163  const char*\n  164  form_parser_param_name(FormParser* fp, int index) {\n  165    if(index >= 0 && index < fp->spa_create_info.count_params) {\n  166      return fp->spa_create_info.param_names[index];\n  167    }\n  168    return 0;\n  169  }\n  170  \n  171  bool\n  172  form_parser_param_valid(FormParser* fp, int index) {\n  173    if(index >= 0 && index < fp->spa_create_info.count_params) {\n  174      return true;\n  175    }\n  176    return false;\n  177  }\n  178  \n  179  size_t\n  180  form_parser_param_count(FormParser* fp) {\n  181    return fp->spa_create_info.count_params;\n  182  }\n  183  \n  184  int\n  185  form_parser_param_index(FormParser* fp, const char* name) {\n  186    int i;\n  187    for(i = 0; i < fp->spa_create_info.count_params; i++) {\n  188      if(!strcmp(fp->spa_create_info.param_names[i], name))\n  189        return i;\n  190    }\n  191    return -1;\n  192  }\n  193  \n  194  bool\n  195  form_parser_param_exists(FormParser* fp, const char* name) {\n  196    int i = form_parser_param_index(fp, name);\n  197  \n  198    return i != -1;\n  199  }\n  200  \n  201  int\n  202  form_parser_process(FormParser* fp, const void* data, size_t len) {\n  203    int retval = lws_spa_process(fp->spa, data, len);\n  204    fp->read += len;\n  205    return retval;\n  206  }\n  207  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/buffer.c:\n    1  #include \"buffer.h\"\n    2  #include \"jsutils.h\"\n    3  #include <assert.h>\n    4  \n    5  uint8_t*\n    6  block_alloc(ByteBlock* blk, size_t size) {\n    7    uint8_t* ptr;\n    8  \n    9    if((ptr = malloc(size + LWS_PRE))) {\n   10      blk->start = ptr + LWS_PRE;\n   11      blk->end = blk->start + size;\n   12    }\n   13  \n   14    return ptr;\n   15  }\n   16  \n   17  uint8_t*\n   18  block_realloc(ByteBlock* blk, size_t size) {\n   19    uint8_t* ptr;\n   20  \n   21    if(!size) {\n   22      block_free(blk);\n   23      return 0;\n   24    }\n   25  \n   26    if((ptr = realloc(block_ALLOC(blk), size + LWS_PRE))) {\n   27      blk->start = ptr + LWS_PRE;\n   28      blk->end = blk->start + size;\n   29    } else {\n   30      blk->end = blk->start = 0;\n   31    }\n   32  \n   33    return ptr;\n   34  }\n   35  \n   36  void\n   37  block_free(ByteBlock* blk) {\n   38    if(blk->start)\n   39      free(blk->start - LWS_PRE);\n   40  \n   41    blk->start = blk->end = 0;\n   42  }\n   43  \n   44  uint8_t*\n   45  block_grow(ByteBlock* blk, size_t size) {\n   46    uint8_t* alloc;\n   47    size_t newsize = block_SIZE(blk) + size;\n   48    if((alloc = realloc(block_ALLOC(blk), LWS_PRE + newsize))) {\n   49      blk->start = alloc + LWS_PRE;\n   50      blk->end = blk->start + newsize;\n   51    }\n   52    return alloc ? blk->start : 0;\n   53  }\n   54  \n   55  static void\n   56  block_finalizer(JSRuntime* rt, void* alloc, void* start) {\n   57    free(alloc);\n   58  }\n   59  \n   60  ByteBlock\n   61  block_copy(const void* ptr, size_t size) {\n   62    ByteBlock ret = {0, 0};\n   63    if(block_alloc(&ret, size)) {\n   64      memcpy(ret.start, ptr, size);\n   65    }\n   66    return ret;\n   67  }\n   68  \n   69  JSValue\n   70  block_toarraybuffer(ByteBlock* blk, JSContext* ctx) {\n   71    ByteBlock mem = block_move((ByteBlock*)blk);\n   72    return JS_NewArrayBuffer(ctx, block_BEGIN(&mem), block_SIZE(&mem), block_finalizer, block_ALLOC(&mem), FALSE);\n   73  }\n   74  \n   75  JSValue\n   76  block_tostring(ByteBlock* blk, JSContext* ctx) {\n   77    ByteBlock mem = block_move((ByteBlock*)blk);\n   78    JSValue str = JS_NewStringLen(ctx, block_BEGIN(&mem), block_SIZE(&mem));\n   79    block_free(&mem);\n   80    return str;\n   81  }\n   82  \n   83  ssize_t\n   84  block_append(ByteBlock* blk, const void* data, size_t size) {\n   85    size_t offset = block_SIZE(blk);\n   86    uint8_t* start;\n   87  \n   88    if((start = block_grow(blk, size))) {\n   89      memcpy(start + offset, data, size);\n   90      return size;\n   91    }\n   92    return -1;\n   93  }\n   94  \n   95  uint8_t*\n   96  buffer_alloc(ByteBuffer* buf, size_t size) {\n   97    uint8_t* ret;\n   98    if((ret = block_alloc(&buf->block, size))) {\n   99      buf->alloc = ret;\n  100      buf->read = buf->start;\n  101      buf->write = buf->start;\n  102    }\n  103    return ret;\n  104  }\n  105  \n  106  ssize_t\n  107  buffer_append(ByteBuffer* buf, const void* x, size_t n) {\n  108    if((size_t)buffer_AVAIL(buf) < n + 1) {\n  109      if(!buffer_realloc(buf, buffer_HEAD(buf) + n + 1))\n  110        return -1;\n  111    }\n  112    memcpy(buf->write, x, n);\n  113    buf->write[n] = '\\0';\n  114    buf->write += n;\n  115    return n;\n  116  }\n  117  \n  118  void\n  119  buffer_free(ByteBuffer* buf) {\n  120    if(buf->alloc)\n  121      block_free(&buf->block);\n  122    buf->read = buf->write = buf->alloc = 0;\n  123  }\n  124  \n  125  BOOL\n  126  buffer_write(ByteBuffer* buf, const void* x, size_t n) {\n  127    assert((size_t)buffer_AVAIL(buf) >= n);\n  128    memcpy(buf->write, x, n);\n  129    buf->write += n;\n  130    return TRUE;\n  131  }\n  132  \n  133  int\n  134  buffer_vprintf(ByteBuffer* buf, const char* format, va_list ap) {\n  135    ssize_t n, size = buffer_AVAIL(buf);\n  136    n = vsnprintf((char*)buf->write, size, format, ap);\n  137    if(n > size)\n  138      return 0;\n  139    if(n >= (int)size)\n  140      n = size;\n  141    buf->write += n;\n  142    return n;\n  143  }\n  144  \n  145  int\n  146  buffer_printf(ByteBuffer* buf, const char* format, ...) {\n  147    int n;\n  148    va_list ap;\n  149    va_start(ap, format);\n  150    n = buffer_vprintf(buf, format, ap);\n  151    va_end(ap);\n  152    return n;\n  153  }\n  154  \n  155  uint8_t*\n  156  buffer_realloc(ByteBuffer* buf, size_t size) {\n  157    size_t rd, wr;\n  158    uint8_t* x;\n  159  \n  160    if(!size) {\n  161      buffer_free(buf);\n  162      return 0;\n  163    }\n  164  \n  165    rd = buffer_TAIL(buf);\n  166    wr = buffer_HEAD(buf);\n  167    assert(size >= wr);\n  168  \n  169    if((x = block_realloc(&buf->block, size))) {\n  170      if(buf->alloc == 0 && buf->start && wr)\n  171        memcpy(x + LWS_PRE, buf->start, wr);\n  172  \n  173      buf->alloc = x;\n  174      buf->write = buf->start + wr;\n  175      buf->read = buf->start + rd;\n  176    }\n  177    return x;\n  178  }\n  179  \n  180  BOOL\n  181  buffer_clone(ByteBuffer* buf, const ByteBuffer* other) {\n  182    if(!buffer_alloc(buf, block_SIZE(other)))\n  183      return FALSE;\n  184    memcpy(buf->start, other->start, buffer_HEAD(other));\n  185  \n  186    buf->read = buf->start + buffer_TAIL(other);\n  187    buf->write = buf->start + buffer_HEAD(other);\n  188    return TRUE;\n  189  }\n  190  \n  191  uint8_t*\n  192  buffer_grow(ByteBuffer* buf, size_t size) {\n  193    size += buffer_SIZE(buf);\n  194    return buffer_realloc(buf, size);\n  195  }\n  196  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/closure.h:\n    1  #ifndef QJSNET_LIB_CLOSURE_H\n    2  #define QJSNET_LIB_CLOSURE_H\n    3  \n    4  #include <quickjs.h>\n    5  #include \"allocated.h\"\n    6  \n    7  typedef void closure_free_t(void*, JSRuntime*);\n    8  \n    9  union closure {\n   10    struct {\n   11      void* pointer;\n   12      void (*free_func)(void*, JSRuntime*);\n   13      int ref_count;\n   14      JSContext* ctx;\n   15    };\n   16    struct allocated allocated;\n   17  };\n   18  \n   19  union closure* closure_new(JSContext*);\n   20  union closure* closure_dup(union closure*);\n   21  void closure_free(void*);\n   22  \n   23  #endif /* QJSNET_LIB_CLOSURE_H */\n   24  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c:\n    1  #include \"lws-utils.h\"\n    2  #include \"utils.h\"\n    3  \n    4  int lws_wsi_is_h2(struct lws* wsi);\n    5  int lws_is_ssl(struct lws* wsi);\n    6  \n    7  bool\n    8  wsi_http2(struct lws* wsi) {\n    9    return lws_wsi_is_h2(wsi);\n   10  }\n   11  \n   12  bool\n   13  wsi_tls(struct lws* wsi) {\n   14    return lws_is_ssl(lws_get_network_wsi(wsi));\n   15  }\n   16  \n   17  void\n   18  wsi_cert(struct lws* wsi) {\n   19    uint8_t buf[1280];\n   20    union lws_tls_cert_info_results* ci = (union lws_tls_cert_info_results*)buf;\n   21  #if defined(LWS_HAVE_CTIME_R)\n   22    char date[32];\n   23  #endif\n   24  \n   25    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_COMMON_NAME, ci, sizeof(buf) - sizeof(*ci)))\n   26      lwsl_notice(\" Peer Cert CN        : %s\\n\", ci->ns.name);\n   27  \n   28    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_ISSUER_NAME, ci, sizeof(ci->ns.name)))\n   29      lwsl_notice(\" Peer Cert issuer    : %s\\n\", ci->ns.name);\n   30  \n   31  #if defined(LWS_HAVE_CTIME_R)\n   32    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_VALIDITY_FROM, ci, 0))\n   33      lwsl_notice(\" Peer Cert Valid from: %s\", ctime_r(&ci->time, date));\n   34  #else\n   35    lwsl_notice(\" Peer Cert Valid from: %s\", ctime(&ci->time));\n   36  #endif\n   37    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_VALIDITY_TO, ci, 0))\n   38  #if defined(LWS_HAVE_CTIME_R)\n   39      lwsl_notice(\" Peer Cert Valid to  : %s\", ctime_r(&ci->time, date));\n   40  #else\n   41      lwsl_notice(\" Peer Cert Valid to  : %s\", ctime(&ci->time));\n   42  #endif\n   43    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_USAGE, ci, 0))\n   44      lwsl_notice(\" Peer Cert usage bits: 0x%x\\n\", ci->usage);\n   45    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_OPAQUE_PUBLIC_KEY, ci, sizeof(buf) - sizeof(*ci))) {\n   46      lwsl_notice(\" Peer Cert public key:\\n\");\n   47      lwsl_hexdump_notice(ci->ns.name, (unsigned int)ci->ns.len);\n   48    }\n   49  \n   50    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_AUTHORITY_KEY_ID, ci, 0)) {\n   51      lwsl_notice(\" AUTHORITY_KEY_ID\\n\");\n   52      lwsl_hexdump_notice(ci->ns.name, (size_t)ci->ns.len);\n   53    }\n   54    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_AUTHORITY_KEY_ID_ISSUER, ci, 0)) {\n   55      lwsl_notice(\" AUTHORITY_KEY_ID ISSUER\\n\");\n   56      lwsl_hexdump_notice(ci->ns.name, (size_t)ci->ns.len);\n   57    }\n   58    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_AUTHORITY_KEY_ID_SERIAL, ci, 0)) {\n   59      lwsl_notice(\" AUTHORITY_KEY_ID SERIAL\\n\");\n   60      lwsl_hexdump_notice(ci->ns.name, (size_t)ci->ns.len);\n   61    }\n   62    if(!lws_tls_peer_cert_info(wsi, LWS_TLS_CERT_INFO_SUBJECT_KEY_ID, ci, 0)) {\n   63      lwsl_notice(\" AUTHORITY_KEY_ID SUBJECT_KEY_ID\\n\");\n   64      lwsl_hexdump_notice(ci->ns.name, (size_t)ci->ns.len);\n   65    }\n   66  }\n   67  \n   68  char*\n   69  wsi_query_string_len(struct lws* wsi, size_t* len_p) {\n   70    if(!wsi_token_exists(wsi, WSI_TOKEN_HTTP_URI_ARGS)) {\n   71      if(len_p)\n   72        *len_p = 0;\n   73      return 0;\n   74    }\n   75  \n   76    return wsi_token_len(wsi, WSI_TOKEN_HTTP_URI_ARGS, len_p);\n   77  }\n   78  \n   79  bool\n   80  wsi_token_exists(struct lws* wsi, enum lws_token_indexes token) {\n   81    return lws_hdr_total_length(wsi, token) > 0;\n   82  }\n   83  \n   84  char*\n   85  wsi_token_len(struct lws* wsi, enum lws_token_indexes token, size_t* len_p) {\n   86    size_t len;\n   87    char* buf;\n   88  \n   89    len = lws_hdr_total_length(wsi, token);\n   90  \n   91    if(!(buf = malloc(len + 1)))\n   92      return 0;\n   93  \n   94    lws_hdr_copy(wsi, buf, len + 1, token);\n   95  \n   96    if(len_p)\n   97      *len_p = len;\n   98  \n   99    return buf;\n  100  }\n  101  \n  102  char*\n  103  wsi_uri_and_method(struct lws* wsi, HTTPMethod* method) {\n  104    char* url;\n  105  \n  106    if((url = wsi_token(wsi, WSI_TOKEN_POST_URI))) {\n  107      if(method)\n  108        *method = METHOD_POST;\n  109    } else if((url = wsi_token(wsi, WSI_TOKEN_GET_URI))) {\n  110      if(method)\n  111        *method = METHOD_GET;\n  112    } else if((url = wsi_token(wsi, WSI_TOKEN_HEAD_URI))) {\n  113      if(method)\n  114        *method = METHOD_HEAD;\n  115    } else if((url = wsi_token(wsi, WSI_TOKEN_OPTIONS_URI))) {\n  116      if(method)\n  117        *method = METHOD_OPTIONS;\n  118    } else if((url = wsi_token(wsi, WSI_TOKEN_PATCH_URI))) {\n  119      if(method)\n  120        *method = METHOD_PATCH;\n  121    } else if((url = wsi_token(wsi, WSI_TOKEN_PUT_URI))) {\n  122      if(method)\n  123        *method = METHOD_PUT;\n  124    }\n  125  \n  126    return url;\n  127  }\n  128  \n  129  char*\n  130  wsi_host_and_port(struct lws* wsi, int* port) {\n  131    char* host;\n  132    size_t hostlen;\n  133  \n  134    if((host = wsi_token_len(wsi, WSI_TOKEN_HOST, &hostlen))) {\n  135      size_t pos;\n  136  \n  137      if((pos = byte_chr(host, hostlen, ':')) < hostlen) {\n  138        *port = atoi(&host[pos + 1]);\n  139        host[pos] = '\\0';\n  140        host = realloc(host, pos + 1);\n  141      }\n  142    }\n  143    return host;\n  144  }\n  145  \n  146  const char*\n  147  wsi_protocol_name(struct lws* wsi) {\n  148    const struct lws_protocols* protocol;\n  149  \n  150    if((protocol = lws_get_protocol(wsi)))\n  151      return protocol->name;\n  152  \n  153    return 0;\n  154  }\n  155  \n  156  char*\n  157  wsi_vhost_and_port(struct lws* wsi, int* port) {\n  158    char* host = 0;\n  159    struct lws_vhost* vhost;\n  160  \n  161    if((vhost = lws_get_vhost(wsi))) {\n  162      const char* vhn = lws_get_vhost_name(vhost);\n  163      size_t hostlen = str_chr(vhn, ':');\n  164      host = str_ndup(vhn, hostlen);\n  165  \n  166      // printf(\"%s() host=%s port=%u\\n\", __func__, host, lws_get_vhost_port(vhost));\n  167  \n  168      if(port)\n  169        *port = lws_get_vhost_port(vhost);\n  170    }\n  171  \n  172    return host;\n  173  }\n  174  \n  175  static const enum lws_token_indexes wsi_uri_tokens[] = {\n  176      WSI_TOKEN_GET_URI,\n  177      WSI_TOKEN_POST_URI,\n  178      WSI_TOKEN_OPTIONS_URI,\n  179      WSI_TOKEN_PATCH_URI,\n  180      WSI_TOKEN_PUT_URI,\n  181      WSI_TOKEN_DELETE_URI,\n  182      WSI_TOKEN_HEAD_URI,\n  183  };\n  184  \n  185  HTTPMethod\n  186  wsi_method(struct lws* wsi) {\n  187    static const HTTPMethod methods[] = {\n  188        METHOD_GET,\n  189        METHOD_POST,\n  190        METHOD_OPTIONS,\n  191        METHOD_PATCH,\n  192        METHOD_PUT,\n  193        METHOD_DELETE,\n  194        METHOD_HEAD,\n  195    };\n  196  \n  197    for(size_t i = 0; i < countof(wsi_uri_tokens); i++)\n  198      if(wsi_token_exists(wsi, wsi_uri_tokens[i]))\n  199        return methods[i];\n  200  \n  201    return -1;\n  202  }\n  203  \n  204  char*\n  205  wsi_ipaddr(struct lws* wsi) {\n  206    char ipaddr[16], *ret = 0;\n  207  \n  208    if(lws_get_peer_simple(wsi, ipaddr, sizeof(ipaddr)))\n  209      ret = strdup(ipaddr);\n  210  \n  211    return ret;\n  212  }\n  213  \n  214  const char*\n  215  lws_callback_name(int reason) {\n  216    return ((const char* const[]){\n  217        \"LWS_CALLBACK_ESTABLISHED\",\n  218        \"LWS_CALLBACK_CLIENT_CONNECTION_ERROR\",\n  219        \"LWS_CALLBACK_CLIENT_FILTER_PRE_ESTABLISH\",\n  220        \"LWS_CALLBACK_CLIENT_ESTABLISHED\",\n  221        \"LWS_CALLBACK_CLOSED\",\n  222        \"LWS_CALLBACK_CLOSED_HTTP\",\n  223        \"LWS_CALLBACK_RECEIVE\",\n  224        \"LWS_CALLBACK_RECEIVE_PONG\",\n  225        \"LWS_CALLBACK_CLIENT_RECEIVE\",\n  226        \"LWS_CALLBACK_CLIENT_RECEIVE_PONG\",\n  227        \"LWS_CALLBACK_CLIENT_WRITEABLE\",\n  228        \"LWS_CALLBACK_SERVER_WRITEABLE\",\n  229        \"LWS_CALLBACK_HTTP\",\n  230        \"LWS_CALLBACK_HTTP_BODY\",\n  231        \"LWS_CALLBACK_HTTP_BODY_COMPLETION\",\n  232        \"LWS_CALLBACK_HTTP_FILE_COMPLETION\",\n  233        \"LWS_CALLBACK_HTTP_WRITEABLE\",\n  234        \"LWS_CALLBACK_FILTER_NETWORK_CONNECTION\",\n  235        \"LWS_CALLBACK_FILTER_HTTP_CONNECTION\",\n  236        \"LWS_CALLBACK_SERVER_NEW_CLIENT_INSTANTIATED\",\n  237        \"LWS_CALLBACK_FILTER_PROTOCOL_CONNECTION\",\n  238        \"LWS_CALLBACK_OPENSSL_LOAD_EXTRA_CLIENT_VERIFY_CERTS\",\n  239        \"LWS_CALLBACK_OPENSSL_LOAD_EXTRA_SERVER_VERIFY_CERTS\",\n  240        \"LWS_CALLBACK_OPENSSL_PERFORM_CLIENT_CERT_VERIFICATION\",\n  241        \"LWS_CALLBACK_CLIENT_APPEND_HANDSHAKE_HEADER\",\n  242        \"LWS_CALLBACK_CONFIRM_EXTENSION_OKAY\",\n  243        \"LWS_CALLBACK_CLIENT_CONFIRM_EXTENSION_SUPPORTED\",\n  244        \"LWS_CALLBACK_PROTOCOL_INIT\",\n  245        \"LWS_CALLBACK_PROTOCOL_DESTROY\",\n  246        \"LWS_CALLBACK_WSI_CREATE\",\n  247        \"LWS_CALLBACK_WSI_DESTROY\",\n  248        \"LWS_CALLBACK_GET_THREAD_ID\",\n  249        \"LWS_CALLBACK_ADD_POLL_FD\",\n  250        \"LWS_CALLBACK_DEL_POLL_FD\",\n  251        \"LWS_CALLBACK_CHANGE_MODE_POLL_FD\",\n  252        \"LWS_CALLBACK_LOCK_POLL\",\n  253        \"LWS_CALLBACK_UNLOCK_POLL\",\n  254        \"LWS_CALLBACK_OPENSSL_CONTEXT_REQUIRES_PRIVATE_KEY\",\n  255        \"LWS_CALLBACK_WS_PEER_INITIATED_CLOSE\",\n  256        \"LWS_CALLBACK_WS_EXT_DEFAULTS\",\n  257        \"LWS_CALLBACK_CGI\",\n  258        \"LWS_CALLBACK_CGI_TERMINATED\",\n  259        \"LWS_CALLBACK_CGI_STDIN_DATA\",\n  260        \"LWS_CALLBACK_CGI_STDIN_COMPLETED\",\n  261        \"LWS_CALLBACK_ESTABLISHED_CLIENT_HTTP\",\n  262        \"LWS_CALLBACK_CLOSED_CLIENT_HTTP\",\n  263        \"LWS_CALLBACK_RECEIVE_CLIENT_HTTP\",\n  264        \"LWS_CALLBACK_COMPLETED_CLIENT_HTTP\",\n  265        \"LWS_CALLBACK_RECEIVE_CLIENT_HTTP_READ\",\n  266        \"LWS_CALLBACK_HTTP_BIND_PROTOCOL\",\n  267        \"LWS_CALLBACK_HTTP_DROP_PROTOCOL\",\n  268        \"LWS_CALLBACK_CHECK_ACCESS_RIGHTS\",\n  269        \"LWS_CALLBACK_PROCESS_HTML\",\n  270        \"LWS_CALLBACK_ADD_HEADERS\",\n  271        \"LWS_CALLBACK_SESSION_INFO\",\n  272        \"LWS_CALLBACK_GS_EVENT\",\n  273        \"LWS_CALLBACK_HTTP_PMO\",\n  274        \"LWS_CALLBACK_CLIENT_HTTP_WRITEABLE\",\n  275        \"LWS_CALLBACK_OPENSSL_PERFORM_SERVER_CERT_VERIFICATION\",\n  276        \"LWS_CALLBACK_RAW_RX\",\n  277        \"LWS_CALLBACK_RAW_CLOSE\",\n  278        \"LWS_CALLBACK_RAW_WRITEABLE\",\n  279        \"LWS_CALLBACK_RAW_ADOPT\",\n  280        \"LWS_CALLBACK_RAW_ADOPT_FILE\",\n  281        \"LWS_CALLBACK_RAW_RX_FILE\",\n  282        \"LWS_CALLBACK_RAW_WRITEABLE_FILE\",\n  283        \"LWS_CALLBACK_RAW_CLOSE_FILE\",\n  284        \"LWS_CALLBACK_SSL_INFO\",\n  285        0,\n  286        \"LWS_CALLBACK_CHILD_CLOSING\",\n  287        \"LWS_CALLBACK_CGI_PROCESS_ATTACH\",\n  288        \"LWS_CALLBACK_EVENT_WAIT_CANCELLED\",\n  289        \"LWS_CALLBACK_VHOST_CERT_AGING\",\n  290        \"LWS_CALLBACK_TIMER\",\n  291        \"LWS_CALLBACK_VHOST_CERT_UPDATE\",\n  292        \"LWS_CALLBACK_CLIENT_CLOSED\",\n  293        \"LWS_CALLBACK_CLIENT_HTTP_DROP_PROTOCOL\",\n  294        \"LWS_CALLBACK_WS_SERVER_BIND_PROTOCOL\",\n  295        \"LWS_CALLBACK_WS_SERVER_DROP_PROTOCOL\",\n  296        \"LWS_CALLBACK_WS_CLIENT_BIND_PROTOCOL\",\n  297        \"LWS_CALLBACK_WS_CLIENT_DROP_PROTOCOL\",\n  298        \"LWS_CALLBACK_RAW_SKT_BIND_PROTOCOL\",\n  299        \"LWS_CALLBACK_RAW_SKT_DROP_PROTOCOL\",\n  300        \"LWS_CALLBACK_RAW_FILE_BIND_PROTOCOL\",\n  301        \"LWS_CALLBACK_RAW_FILE_DROP_PROTOCOL\",\n  302        \"LWS_CALLBACK_CLIENT_HTTP_BIND_PROTOCOL\",\n  303        \"LWS_CALLBACK_HTTP_CONFIRM_UPGRADE\",\n  304        0,\n  305        0,\n  306        \"LWS_CALLBACK_RAW_PROXY_CLI_RX\",\n  307        \"LWS_CALLBACK_RAW_PROXY_SRV_RX\",\n  308        \"LWS_CALLBACK_RAW_PROXY_CLI_CLOSE\",\n  309        \"LWS_CALLBACK_RAW_PROXY_SRV_CLOSE\",\n  310        \"LWS_CALLBACK_RAW_PROXY_CLI_WRITEABLE\",\n  311        \"LWS_CALLBACK_RAW_PROXY_SRV_WRITEABLE\",\n  312        \"LWS_CALLBACK_RAW_PROXY_CLI_ADOPT\",\n  313        \"LWS_CALLBACK_RAW_PROXY_SRV_ADOPT\",\n  314        \"LWS_CALLBACK_RAW_PROXY_CLI_BIND_PROTOCOL\",\n  315        \"LWS_CALLBACK_RAW_PROXY_SRV_BIND_PROTOCOL\",\n  316        \"LWS_CALLBACK_RAW_PROXY_CLI_DROP_PROTOCOL\",\n  317        \"LWS_CALLBACK_RAW_PROXY_SRV_DROP_PROTOCOL\",\n  318        \"LWS_CALLBACK_RAW_CONNECTED\",\n  319        \"LWS_CALLBACK_VERIFY_BASIC_AUTHORIZATION\",\n  320        \"LWS_CALLBACK_WSI_TX_CREDIT_GET\",\n  321        \"LWS_CALLBACK_CLIENT_HTTP_REDIRECT\",\n  322        \"LWS_CALLBACK_CONNECTING\",\n  323    })[reason];\n  324  }\n  325  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/callback.c:\n    1  #include \"callback.h\"\n    2  #include \"jsutils.h\"\n    3  #include \"utils.h\"\n    4  #include \"opaque.h\"\n    5  #include <assert.h>\n    6  \n    7  JSValue\n    8  callback_emit_this(const JSCallback* cb, JSValueConst this_obj, int argc, JSValue* argv) {\n    9    JSValue ret = JS_UNDEFINED;\n   10  \n   11    if(cb->ctx)\n   12      ret = JS_Call(cb->ctx, cb->func_obj, this_obj, argc, argv);\n   13  \n   14    if(JS_IsException(ret)) {\n   15      JSValue exception = JS_GetException(cb->ctx);\n   16      js_error_print(cb->ctx, exception);\n   17      ret = JS_Throw(cb->ctx, exception);\n   18    }\n   19    return ret;\n   20  }\n   21  \n   22  JSValue\n   23  callback_emit(const JSCallback* cb, int argc, JSValue* argv) {\n   24    return callback_emit_this(cb, cb->this_obj /* ? *cb->this_obj : JS_NULL*/, argc, argv);\n   25  }\n   26  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/generator.c:\n    1  #include \"generator.h\"\n    2  #include <assert.h>\n    3  \n    4  static ssize_t enqueue_block(Generator* gen, ByteBlock blk, JSValueConst callback);\n    5  static ssize_t enqueue_value(Generator* gen, JSValueConst value, JSValueConst callback);\n    6  \n    7  void\n    8  generator_zero(Generator* gen) {\n    9    asynciterator_zero(&gen->iterator);\n   10    gen->q = 0;\n   11    gen->bytes_written = 0;\n   12    gen->bytes_read = 0;\n   13    gen->chunks_written = 0;\n   14    gen->chunks_read = 0;\n   15    gen->ref_count = 0;\n   16  }\n   17  \n   18  void\n   19  generator_destroy(Generator** gen_p) {\n   20    Generator* gen;\n   21  \n   22    if((gen = *gen_p)) {\n   23      if(generator_free(gen))\n   24        *gen_p = 0;\n   25    }\n   26  }\n   27  \n   28  BOOL\n   29  generator_free(Generator* gen) {\n   30    if(--gen->ref_count == 0) {\n   31      asynciterator_clear(&gen->iterator, JS_GetRuntime(gen->ctx));\n   32  \n   33      if(gen->q)\n   34        queue_free(gen->q, gen->ctx);\n   35  \n   36      js_free(gen->ctx, gen);\n   37      return TRUE;\n   38    }\n   39    return FALSE;\n   40  }\n   41  \n   42  Generator*\n   43  generator_new(JSContext* ctx) {\n   44    Generator* gen;\n   45  \n   46    if((gen = js_malloc(ctx, sizeof(Generator)))) {\n   47      generator_zero(gen);\n   48      gen->ctx = ctx;\n   49      gen->ref_count = 1;\n   50      gen->q = 0; // queue_new(ctx);\n   51      gen->block_fn = &block_toarraybuffer;\n   52      gen->callback = JS_NULL;\n   53    }\n   54    return gen;\n   55  }\n   56  \n   57  JSValue\n   58  generator_dequeue(Generator* gen, BOOL* done_p) {\n   59    ByteBlock blk = queue_next(gen->q, done_p);\n   60    JSValue ret = block_SIZE(&blk) ? gen->block_fn(&blk, gen->ctx) : JS_UNDEFINED;\n   61  \n   62    if(block_BEGIN(&blk)) {\n   63      gen->bytes_read += block_SIZE(&blk);\n   64      gen->chunks_read += 1;\n   65    }\n   66  \n   67    return ret;\n   68  }\n   69  \n   70  static int\n   71  generator_update(Generator* gen) {\n   72    int i = 0;\n   73  \n   74    while(!list_empty(&gen->iterator.reads) && gen->q && !queue_closed(gen->q)) {\n   75      BOOL done = FALSE;\n   76      JSValue chunk = generator_dequeue(gen, &done);\n   77      // printf(\"%-22s i: %i reads: %zu q->items: %zu done: %i\\n\", __func__, i, list_size(&gen->iterator.reads), gen->q ? list_size(&gen->q->items) : 0, done);\n   78  \n   79      done ? asynciterator_stop(&gen->iterator, gen->ctx) : asynciterator_yield(&gen->iterator, chunk, gen->ctx);\n   80      JS_FreeValue(gen->ctx, chunk);\n   81  \n   82      if(JS_IsFunction(gen->ctx, gen->callback)) {\n   83        JS_FreeValue(gen->ctx, JS_Call(gen->ctx, gen->callback, JS_UNDEFINED, 0, 0));\n   84        JS_FreeValue(gen->ctx, gen->callback);\n   85        gen->callback = JS_NULL;\n   86      }\n   87  \n   88      ++i;\n   89    }\n   90  \n   91    return i;\n   92  }\n   93  \n   94  JSValue\n   95  generator_next(Generator* gen) {\n   96    JSValue ret = JS_UNDEFINED;\n   97  \n   98    ret = asynciterator_next(&gen->iterator, gen->ctx);\n   99    uint32_t id = list_empty(&gen->iterator.reads) ? 0 : ((AsyncRead*)gen->iterator.reads.next)->id;\n  100    size_t rds1 = list_size(&gen->iterator.reads);\n  101  \n  102    size_t upd = generator_update(gen);\n  103  \n  104    // printf(\"%-22s gen: %p reads: %zu updated: %zu read: %i\\n\", __func__, gen, list_size(&gen->iterator.reads), rds1 - list_size(&gen->iterator.reads), id);\n  105  \n  106    return ret;\n  107  }\n  108  \n  109  ssize_t\n  110  generator_write(Generator* gen, const void* data, size_t len, JSValueConst callback) {\n  111    ByteBlock blk = block_copy(data, len);\n  112    ssize_t ret = -1, size = block_SIZE(&blk);\n  113  \n  114    // printf(\"%-22s gen: %p reads: %zu\\n\", __func__, gen, list_size(&gen->iterator.reads));\n  115  \n  116    if(!list_empty(&gen->iterator.reads) && (!gen->q || !gen->q->continuous)) {\n  117  \n  118      JSValue chunk = gen->block_fn(&blk, gen->ctx);\n  119      if(asynciterator_yield(&gen->iterator, chunk, gen->ctx))\n  120        ret = size;\n  121  \n  122      JS_FreeValue(gen->ctx, chunk);\n  123    } else {\n  124      ret = enqueue_block(gen, blk, callback);\n  125      // printf(\"%-22s reads: %zu continuous: %i queued: %zu\\n\", __func__, list_size(&gen->iterator.reads), gen->q && gen->q->continuous, gen->q ? queue_size(gen->q) : 0);\n  126    }\n  127  \n  128    if(ret >= 0) {\n  129      gen->bytes_written += ret;\n  130      gen->chunks_written += 1;\n  131    }\n  132  \n  133    return ret;\n  134  }\n  135  \n  136  JSValue\n  137  generator_push(Generator* gen, JSValueConst value) {\n  138    ResolveFunctions funcs = {JS_NULL, JS_NULL};\n  139    JSValue ret = js_promise_create(gen->ctx, &funcs);\n  140  \n  141    // printf(\"%-22s reads: %zu value: %.*s\\n\", __func__, list_size(&gen->iterator.reads), 10, JS_ToCString(gen->ctx, value));\n  142  \n  143    if(!generator_yield(gen, value, funcs.resolve)) {\n  144      JS_FreeValue(gen->ctx, JS_Call(gen->ctx, funcs.reject, JS_UNDEFINED, 0, 0));\n  145    }\n  146  \n  147    js_promise_free(gen->ctx, &funcs);\n  148    return ret;\n  149  }\n  150  \n  151  BOOL\n  152  generator_yield(Generator* gen, JSValueConst value, JSValueConst callback) {\n  153    ssize_t ret;\n  154  \n  155    if(asynciterator_yield(&gen->iterator, value, gen->ctx)) {\n  156      JSBuffer buf = js_input_chars(gen->ctx, value);\n  157      ret = buf.size;\n  158      js_buffer_free(&buf, gen->ctx);\n  159  \n  160      if(JS_IsFunction(gen->ctx, callback))\n  161        JS_FreeValue(gen->ctx, JS_Call(gen->ctx, callback, JS_UNDEFINED, 0, 0));\n  162  \n  163    } else {\n  164      if((ret = enqueue_value(gen, value, callback)) < 0)\n  165        return FALSE;\n  166  \n  167      if(!gen->q || !queue_continuous(gen->q)) {\n  168        JS_FreeValue(gen->ctx, gen->callback);\n  169        gen->callback = JS_DupValue(gen->ctx, callback);\n  170      }\n  171    }\n  172  \n  173    if(ret >= 0) {\n  174      gen->bytes_written += ret;\n  175      gen->chunks_written += 1;\n  176    }\n  177  \n  178    return TRUE;\n  179  }\n  180  \n  181  BOOL\n  182  generator_close(Generator* gen, JSValueConst callback) {\n  183    BOOL ret = FALSE;\n  184    QueueItem* item = 0;\n  185  \n  186    if(gen->q) {\n  187      if(!queue_complete(gen->q)) {\n  188        item = queue_close(gen->q);\n  189        ret = TRUE;\n  190      }\n  191  \n  192      if(gen->q->continuous) {\n  193        if((item = queue_last_chunk(gen->q))) {\n  194          if(item->unref) {\n  195            JSValue chunk = block_SIZE(&item->block) ? gen->block_fn(&item->block, gen->ctx) : JS_UNDEFINED;\n  196            deferred_call(item->unref, chunk);\n  197            JS_FreeValue(gen->ctx, chunk);\n  198  \n  199            // queue_next(gen->q, NULL);\n  200            gen->closed = TRUE;\n  201            return TRUE;\n  202          }\n  203        }\n  204      }\n  205    }\n  206  \n  207    gen->closing = TRUE;\n  208  \n  209    if(asynciterator_stop(&gen->iterator, gen->ctx))\n  210      ret = TRUE;\n  211  \n  212    return ret;\n  213  }\n  214  \n  215  BOOL\n  216  generator_continuous(Generator* gen, JSValueConst callback) {\n  217    Queue* q;\n  218  \n  219    assert(JS_IsNull(gen->callback));\n  220  \n  221    if(!(q = gen->q))\n  222      q = gen->q = queue_new(gen->ctx);\n  223  \n  224    if(q) {\n  225      QueueItem* item;\n  226  \n  227      if((item = queue_continuous(q))) {\n  228  \n  229        if(JS_IsFunction(gen->ctx, callback)) {\n  230          gen->callback = JS_DupValue(gen->ctx, callback);\n  231          // item->unref = deferred_newjs(JS_DupValue(gen->ctx, callback), gen->ctx);\n  232          // item->unref = deferred_new(&JS_Call, gen->ctx, JS_DupValue(gen->ctx, callback), JS_UNDEFINED);\n  233        }\n  234      }\n  235  \n  236      return item != NULL;\n  237    }\n  238    return q != NULL;\n  239  }\n  240  \n  241  static ssize_t\n  242  enqueue_block(Generator* gen, ByteBlock blk, JSValueConst callback) {\n  243    QueueItem* item;\n  244    ssize_t ret = -1;\n  245  \n  246    if(!gen->q)\n  247      gen->q = queue_new(gen->ctx);\n  248  \n  249    if((item = queue_put(gen->q, blk, gen->ctx))) {\n  250      ret = block_SIZE(&item->block);\n  251  \n  252      if(JS_IsFunction(gen->ctx, callback))\n  253        item->unref = deferred_newjs(JS_DupValue(gen->ctx, callback), gen->ctx);\n  254    }\n  255    return ret;\n  256  }\n  257  \n  258  static ssize_t\n  259  enqueue_value(Generator* gen, JSValueConst value, JSValueConst callback) {\n  260    JSBuffer buf = js_input_chars(gen->ctx, value);\n  261    ByteBlock blk = block_copy(buf.data, buf.size);\n  262    ssize_t ret;\n  263    js_buffer_free(&buf, gen->ctx);\n  264  \n  265    if((ret = enqueue_block(gen, blk, callback)) == -1)\n  266      block_free(&blk);\n  267  \n  268    return ret;\n  269  }\n  270  \n\n~/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js:\n    1  import { FormParser, Generator, Hash, LLL_ALL, LLL_CLIENT, LLL_DEBUG, LLL_ERR, LLL_EXT, LLL_HEADER, LLL_INFO, LLL_LATENCY, LLL_NOTICE, LLL_PARSER, LLL_THREAD, LLL_USER, LLL_WARN, METHOD_DELETE, METHOD_GET, METHOD_HEAD, METHOD_OPTIONS, METHOD_PATCH, METHOD_POST, METHOD_PUT, Request, Response, Ringbuffer, Socket, URL, client, fetch, getSessions, logLevels, server, setLog } from 'net';\n    2  import { setReadHandler, setWriteHandler } from 'os';\n    3  import { Console } from 'console';\n    4  \n    5  globalThis.console = new Console({ inspectOptions: { compact: 0 } });\n    6  \n    7  setLog((LLL_NOTICE - 1) | LLL_USER, (level, message) => console.log(logLevels[level].padEnd(10), message));\n    8  \n    9  server({\n   10    host: '0.0.0.0',\n   11    port: '8765',\n   12    block: false,\n   13    tls: true,\n   14    protocol: 'http',\n   15    mounts: {\n   16      '/': ['/', '.', 'index.html'],\n   17      '/404.html': function* (req, res) {\n   18        console.log('/404.html', { req, res });\n   19        yield '<html><head><meta charset=utf-8 http-equiv=\"Content-Language\" content=\"en\"/><link rel=\"stylesheet\" type=\"text/css\" href=\"/error.css\"/></head><body><h1>403</h1></body></html>';\n   20      },\n   21      *generator(req, res) {\n   22        console.log('/generator', { req, res });\n   23        yield 'This';\n   24        yield ' ';\n   25        yield 'is';\n   26        yield ' ';\n   27        yield 'a';\n   28        yield ' ';\n   29        yield 'generated';\n   30        yield ' ';\n   31        yield 'response';\n   32        yield '\\n';\n   33      }\n   34    },\n   35    onConnect(ws, req) {\n   36      console.log('onConnect', { ws, req });\n   37    },\n   38    onClose(ws, status, reason) {\n   39      console.log('onClose', { ws, status, reason });\n   40      ws.close(status);\n   41    },\n   42    onError(ws, error) {\n   43      console.log('onError', { ws, error });\n   44    },\n   45    onHttp(ws, req, resp) {\n   46      console.log('onHttp', { req, resp });\n   47      Object.assign(globalThis, { req, resp });\n   48    },\n   49    onMessage(ws, msg) {\n   50      console.log('onMessage', ws.fd, msg);\n   51      ws.send('ECHO: ' + msg);\n   52    },\n   53    onFd(fd, rd, wr) {\n   54      setReadHandler(fd, rd);\n   55      setWriteHandler(fd, wr);\n   56    }\n   57  });\n   58  \n\n19994 matches across 103 files\n\n\nSearching 103 files for \"js_function_cclosure\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/remove-functions.c:\n  104    deferred_dup(def);\n  105  \n  106:   return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n  107  }\n  108  \n  ...\n  879    *h = (WSWantWrite){ctx, ws_dup(ws)};\n  880  \n  881:   return js_function_cclosure(ctx, want_write, 0, 0, h, ws_want_write_free);\n  882  }\n  883  void\n  ...\n 1010    JSValue ret = JS_NewObject(ctx);\n 1011  \n 1012:   JS_SetPropertyStr(ctx, ret, \"read\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n 1013    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n 1014  \n ....\n 1022    ++gen->ref_count;\n 1023  \n 1024:   JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, gen_p, (void*)&generator_free));\n 1025  \n 1026    return ret;\n ....\n 1123    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n 1124      *p = (HTTPAsyncResolveClosure){1, ctx, session, response_dup(resp), wsi};\n 1125:     JSValue fn = js_function_cclosure(ctx, client_resolved, 1, 0, p, client_resolved_free);\n 1126      JSValue tmp = js_promise_then(ctx, value, fn);\n 1127      JS_FreeValue(ctx, fn);\n ....\n 1289    deferred_dup(def);\n 1290  \n 1291:   return js_function_cclosure(ctx, deferred_js_call, 0, 0, def, (void (*)(ptr_t))deferred_free);\n 1292  }\n 1293  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n  408      JSValue func[2], tmp;\n  409  \n  410:     func[0] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  411:     func[1] = js_function_cclosure(ctx, &minnet_client_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  412  \n  413      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.c:\n  252        tail_decorate(ctx, ret, this_val, \"consume\", 1, RINGBUFFER_CONSUME);\n  253  \n  254:       JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, tail_next, 0, 0, tail_new(ctx, rb, ret), tail_finalize));\n  255        break;\n  256      }\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.c:\n   68      return JS_ThrowInternalError(ctx, \"MinnetGenerator needs a function parameter\");\n   69  \n   70:   args[0] = js_function_cclosure(ctx, minnet_generator_push, 0, 0, generator_dup(gen), (void*)&generator_free);\n   71:   args[1] = js_function_cclosure(ctx, minnet_generator_stop, 0, 0, generator_dup(gen), (void*)&generator_free);\n   72  \n   73    ret = JS_Call(ctx, argv[0], JS_UNDEFINED, 2, args);\n   ..\n   84    JSValue ret = JS_NewObject(ctx);\n   85  \n   86:   JS_SetPropertyStr(ctx, ret, \"next\", js_function_cclosure(ctx, minnet_generator_next, 0, 0, generator_dup(gen), (void*)&generator_free));\n   87    JS_SetPropertyFunctionList(ctx, ret, minnet_generator_funcs, countof(minnet_generator_funcs));\n   88  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n   87    args[1] = argc <= 1 ? JS_NewObject(ctx) : JS_DupValue(ctx, argv[1]);\n   88  \n   89:   handlers[0] = js_function_cclosure(ctx, &fetch_handler, 2, ON_HTTP, closure_dup(cc), closure_free);\n   90:   handlers[1] = js_function_cclosure(ctx, &fetch_handler, 2, ON_ERROR, closure_dup(cc), closure_free);\n   91:   handlers[2] = js_function_cclosure(ctx, &fetch_handler, 2, ON_CLOSE, closure_dup(cc), closure_free);\n   92:   handlers[3] = js_function_cclosure(ctx, &fetch_handler, 3, ON_FD, closure_dup(cc), closure_free);\n   93  \n   94    JS_SetPropertyStr(ctx, args[1], \"onHttp\", handlers[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  408      return JS_ThrowInternalError(ctx, \"libwebsockets init failed\");\n  409  \n  410:   JSValue timer_cb = js_function_cclosure(ctx, minnet_server_timeout, 4, 0, server, 0);\n  411    uint32_t interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n  412    if(interval == 0)\n  ...\n  491      JSValue func[2], tmp;\n  492  \n  493:     func[0] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n  494:     func[1] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n  495  \n  496      tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c:\n  446    if((p = js_malloc(ctx, sizeof(HTTPAsyncResolveClosure)))) {\n  447      *p = (HTTPAsyncResolveClosure){2, ctx, session, opaque->resp ? response_dup(opaque->resp) : 0, session_wsi(session)};\n  448:     JSValue resolve = js_function_cclosure(ctx, serve_resolved, 1, 0, p, serve_resolved_free);\n  449      JSValue thened = js_promise_then(ctx, value, resolve);\n  450:     JSValue reject = js_function_cclosure(ctx, serve_rejected, 1, 0, p, serve_resolved_free);\n  451      JSValue catched = js_promise_catch(ctx, thened, reject);\n  452  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n  109    h->opaque->poll = (struct pollfd){fd, events, 0};\n  110  \n  111:   return js_function_cclosure(ctx, lws_iohandler, 1, events, h, lws_iohandler_free);\n  112  }\n  113  \n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c:\n  412    closure->interval = ms;\n  413    closure->handler = JS_DupValue(ctx, fn);\n  414:   closure->callback = js_function_cclosure(ctx, js_timer_callback, 0, 0, closure, js_timer_free);\n  415    closure->id = js_timer_start(ctx, closure->callback, ms);\n  416  \n  ...\n  956  \n  957  JSValue\n  958: js_function_cclosure(JSContext* ctx, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*)) {\n  959    JSCClosureRecord* ccr;\n  960    JSValue func_proto, func_obj;\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h:\n  381  typedef JSValue CClosureFunc(JSContext*, JSValueConst, int, JSValueConst[], int, void*);\n  382  \n  383: JSValue js_function_cclosure(JSContext*, CClosureFunc* func, int length, int magic, void* opaque, void (*opaque_finalize)(void*));\n  384  \n  385  #endif /* QJSNET_LIB_JS_UTILS_H */\n\n25 matches across 10 files\n\n\nSearching 103 files for \"\"onFd\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n  254    GETCBPROP(options, \"onConnect\", client->on.connect)\n  255    GETCBPROP(options, \"onMessage\", client->on.message)\n  256:   GETCBPROP(options, \"onFd\", client->on.fd)\n  257    GETCBPROP(options, \"onHttp\", client->on.http)\n  258  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n   95    JS_SetPropertyStr(ctx, args[1], \"onError\", handlers[1]);\n   96    JS_SetPropertyStr(ctx, args[1], \"onClose\", handlers[2]);\n   97:   JS_SetPropertyStr(ctx, args[1], \"onFd\", handlers[3]);\n   98    JS_SetPropertyStr(ctx, args[1], \"block\", JS_FALSE);\n   99  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  277    JSValue opt_on_connect = JS_GetPropertyStr(ctx, options, \"onConnect\");\n  278    JSValue opt_on_message = JS_GetPropertyStr(ctx, options, \"onMessage\");\n  279:   JSValue opt_on_fd = JS_GetPropertyStr(ctx, options, \"onFd\");\n  280    JSValue opt_on_http = JS_GetPropertyStr(ctx, options, \"onHttp\");\n  281    JSValue opt_on_read = JS_GetPropertyStr(ctx, options, \"onRead\");\n\n3 matches across 3 files\n\n\nSearching 103 files for \"onFd\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/wscli.js:\n  298          }\n  299        },\n  300:       onFd(fd, rd, wr) {\n  301          os.setReadHandler(fd, rd);\n  302          os.setWriteHandler(fd, wr);\n\n~/Projects/plot-cv/quickjs/qjs-net/test-rpc.js:\n  275          return callbacks.onMessage(ws, data);\n  276        },\n  277:       onFd(fd, rd, wr) {\n  278:         // console.log('onFd', { fd, rd, wr });\n  279:         return callbacks.onFd(fd, rd, wr);\n  280        },\n  281        ...(url && url.host ? url : {})\n\n~/Projects/plot-cv/quickjs/qjs-net/tests/server.js:\n  145            log('onHttp', { req, rsp });\n  146          },\n  147:         onFd: (fd, rd, wr) => {\n  148:           //log('onFd', { fd, rd, wr });\n  149            setReadHandler(fd, rd);\n  150            setWriteHandler(fd, wr);\n\n~/Projects/plot-cv/quickjs/qjs-net/tests/client.js:\n   16      onError,\n   17      onHttp,\n   18:     onFd,\n   19      onMessage,\n   20      tls = true,\n   ..\n   79            },\n   80  \n   81:           onFd(fd, rd, wr) {\n   82              setReadHandler(fd, rd);\n   83              setWriteHandler(fd, wr);\n\n~/Projects/plot-cv/quickjs/qjs-net/js/rpc.js:\n  831  \n  832  export function setHandlers(os, handlers) {\n  833:   handlers.onFd = function(fd, readable, writable) {\n  834:     //console.log('\\x1b[38;5;82monFd\\x1b[0m(', fd, ',', readable, ',', writable, ')');\n  835      os.setReadHandler(fd, readable);\n  836      os.setWriteHandler(fd, writable);\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n  254    GETCBPROP(options, \"onConnect\", client->on.connect)\n  255    GETCBPROP(options, \"onMessage\", client->on.message)\n  256:   GETCBPROP(options, \"onFd\", client->on.fd)\n  257    GETCBPROP(options, \"onHttp\", client->on.http)\n  258  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c:\n   95    JS_SetPropertyStr(ctx, args[1], \"onError\", handlers[1]);\n   96    JS_SetPropertyStr(ctx, args[1], \"onClose\", handlers[2]);\n   97:   JS_SetPropertyStr(ctx, args[1], \"onFd\", handlers[3]);\n   98    JS_SetPropertyStr(ctx, args[1], \"block\", JS_FALSE);\n   99  \n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  277    JSValue opt_on_connect = JS_GetPropertyStr(ctx, options, \"onConnect\");\n  278    JSValue opt_on_message = JS_GetPropertyStr(ctx, options, \"onMessage\");\n  279:   JSValue opt_on_fd = JS_GetPropertyStr(ctx, options, \"onFd\");\n  280    JSValue opt_on_http = JS_GetPropertyStr(ctx, options, \"onHttp\");\n  281    JSValue opt_on_read = JS_GetPropertyStr(ctx, options, \"onRead\");\n\n~/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js:\n   52        ws.send('ECHO: ' + msg);\n   53      },\n   54:     onFd(fd, rd, wr) {\n   55:       console.log('onFd', fd, rd, wr);\n   56        setReadHandler(fd, rd);\n   57        setWriteHandler(fd, wr);\n\n15 matches across 9 files\n\n\nSearching 103 files for \"(on|cb)\\.fd\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c:\n  254    GETCBPROP(options, \"onConnect\", client->on.connect)\n  255    GETCBPROP(options, \"onMessage\", client->on.message)\n  256:   GETCBPROP(options, \"onFd\", client->on.fd)\n  257    GETCBPROP(options, \"onHttp\", client->on.http)\n  258  \n  ...\n  445  \n  446    if(lws_reason_poll(reason))\n  447:     return wsi_handle_poll(wsi, reason, &client->on.fd, in);\n  448  \n  449    if(lws_reason_http(reason))\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c:\n   28  \n   29    if(lws_reason_poll(reason))\n   30:     return wsi_handle_poll(wsi, reason, &client->on.fd, in);\n   31  \n   32    if((opaque = lws_opaque(wsi, ctx))) {\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c:\n   21  \n   22    if(lws_reason_poll(reason))\n   23:     return wsi_handle_poll(wsi, reason, &server->cb.fd, in);\n   24  \n   25    if(lws_reason_http(reason))\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  320    GETCB(opt_on_connect, server->cb.connect)\n  321    GETCB(opt_on_message, server->cb.message)\n  322:   GETCB(opt_on_fd, server->cb.fd)\n  323    GETCB(opt_on_http, server->cb.http)\n  324    GETCB(opt_on_read, server->cb.read)\n  ...\n  426      }\n  427  \n  428:     if(server->cb.fd.ctx)\n  429        js_std_loop(ctx);\n  430      else\n  ...\n  475    FREECB(server->cb.connect)\n  476    FREECB(server->cb.message)\n  477:   FREECB(server->cb.fd)\n  478    FREECB(server->cb.http)\n  479  \n  ...\n  527      case LWS_CALLBACK_ADD_POLL_FD: {\n  528        struct lws_pollargs* args = in;\n  529:       if(server->cb.fd.ctx) {\n  530:         JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  531:         minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  532:         server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  533:         JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  534:         JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  535:         JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  536        }\n  537        return 0;\n  ...\n  539      case LWS_CALLBACK_DEL_POLL_FD: {\n  540        struct lws_pollargs* args = in;\n  541:       if(server->cb.fd.ctx) {\n  542          JSValue argv[3] = {\n  543:             JS_NewInt32(server->cb.fd.ctx, args->fd),\n  544          };\n  545:         minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  546:         server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  547:         JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  548:         JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  549:         JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  550        }\n  551        return 0;\n  ...\n  553      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: {\n  554        struct lws_pollargs* args = in;\n  555:       if(server->cb.fd.ctx) {\n  556          if(args->events != args->prev_events) {\n  557:           JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  558:           minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  559:           server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  560:           JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  561:           JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  562:           JS_FreeValue(server->cb.fd.ctx, argv[2]);\n  563          }\n  564        }\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c:\n  756    if(lws_reason_poll(reason)) {\n  757      assert(server);\n  758:     return wsi_handle_poll(wsi, reason, &server->cb.fd, in);\n  759    }\n  760  \n\n29 matches across 5 files\n\n\nSearching 103 files for \"defprot_call\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n   36      {\"ws\", ws_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   37      {\"http\", http_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n   38:     /* {\"defprot\", defprot_callback, sizeof(struct session_data), 0},\n   39       {\"proxy-ws-raw-ws\", proxy_server_callback, 0, 1024, 0, NULL, 0},\n   40        {\"proxy-ws-raw-raw\", proxy_rawclient_callback, 0, 1024, 0, NULL, 0},\n   ..\n  515  \n  516  int\n  517: defprot_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  518    MinnetServer* server = /*session ? session->server :*/ lws_context_user(lws_get_context(wsi));\n  519  \n  520:   // if(!lws_reason_poll(reason)) printf(\"defprot_callback %s %p %p %zu\\n\", lws_callback_name(reason), user, in, len);\n  521  \n  522    switch(reason) {\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.h:\n   27  void server_certificate(struct context*, JSValue);\n   28  JSValue minnet_server(JSContext*, JSValue, int, JSValue argv[]);\n   29: int defprot_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   30  int ws_server_callback(struct lws*, enum lws_callback_reasons, void*, void* in, size_t len);\n   31  \n\n4 matches across 2 files\n\n\nSearching 103 files for \"LWS_CALLBACK_ADD_POLL_FD\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c:\n  360    }\n  361  \n  362:   /* if(reason < LWS_CALLBACK_ADD_POLL_FD || reason > LWS_CALLBACK_UNLOCK_POLL)\n  363       lwsl_notice(\"client-http  %-38s fd=%i, in='%.*s'\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(lws_get_network_wsi(wsi)), (int)len, (char*)in);\n  364   */\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  525        return 0;\n  526      }\n  527:     case LWS_CALLBACK_ADD_POLL_FD: {\n  528        struct lws_pollargs* args = in;\n  529        if(server->cb.fd.ctx) {\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n  264      case LWS_CALLBACK_LOCK_POLL:\n  265      case LWS_CALLBACK_UNLOCK_POLL: break;\n  266:     case LWS_CALLBACK_ADD_POLL_FD:\n  267        if(cb->ctx)\n  268          wsi_iohandler(wsi, cb, *args);\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h:\n   46      case LWS_CALLBACK_LOCK_POLL:\n   47      case LWS_CALLBACK_UNLOCK_POLL:\n   48:     case LWS_CALLBACK_ADD_POLL_FD:\n   49      case LWS_CALLBACK_DEL_POLL_FD:\n   50      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: return true;\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c:\n  247        \"LWS_CALLBACK_WSI_DESTROY\",\n  248        \"LWS_CALLBACK_GET_THREAD_ID\",\n  249:       \"LWS_CALLBACK_ADD_POLL_FD\",\n  250        \"LWS_CALLBACK_DEL_POLL_FD\",\n  251        \"LWS_CALLBACK_CHANGE_MODE_POLL_FD\",\n\n5 matches across 5 files\n\n\nSearching 103 files for \"LWS_CALLBACK_ADD_POLL_FD\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c:\n  360    }\n  361  \n  362:   /* if(reason < LWS_CALLBACK_ADD_POLL_FD || reason > LWS_CALLBACK_UNLOCK_POLL)\n  363       lwsl_notice(\"client-http  %-38s fd=%i, in='%.*s'\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(lws_get_network_wsi(wsi)), (int)len, (char*)in);\n  364   */\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  525        return 0;\n  526      }\n  527:     case LWS_CALLBACK_ADD_POLL_FD: {\n  528        struct lws_pollargs* args = in;\n  529        if(server->cb.fd.ctx) {\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n  264      case LWS_CALLBACK_LOCK_POLL:\n  265      case LWS_CALLBACK_UNLOCK_POLL: break;\n  266:     case LWS_CALLBACK_ADD_POLL_FD:\n  267        if(cb->ctx)\n  268          wsi_iohandler(wsi, cb, *args);\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h:\n   46      case LWS_CALLBACK_LOCK_POLL:\n   47      case LWS_CALLBACK_UNLOCK_POLL:\n   48:     case LWS_CALLBACK_ADD_POLL_FD:\n   49      case LWS_CALLBACK_DEL_POLL_FD:\n   50      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: return true;\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c:\n  247        \"LWS_CALLBACK_WSI_DESTROY\",\n  248        \"LWS_CALLBACK_GET_THREAD_ID\",\n  249:       \"LWS_CALLBACK_ADD_POLL_FD\",\n  250        \"LWS_CALLBACK_DEL_POLL_FD\",\n  251        \"LWS_CALLBACK_CHANGE_MODE_POLL_FD\",\n\n5 matches across 5 files\n\n\nSearching 103 files for \"LWS_CALLBACK_ADD_POLL_FD\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c:\n  360    }\n  361  \n  362:   /* if(reason < LWS_CALLBACK_ADD_POLL_FD || reason > LWS_CALLBACK_UNLOCK_POLL)\n  363       lwsl_notice(\"client-http  %-38s fd=%i, in='%.*s'\\n\", lws_callback_name(reason) + 13, lws_get_socket_fd(lws_get_network_wsi(wsi)), (int)len, (char*)in);\n  364   */\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  525        return 0;\n  526      }\n  527:     case LWS_CALLBACK_ADD_POLL_FD: {\n  528        struct lws_pollargs* args = in;\n  529        if(server->cb.fd.ctx) {\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet.c:\n  264      case LWS_CALLBACK_LOCK_POLL:\n  265      case LWS_CALLBACK_UNLOCK_POLL: break;\n  266:     case LWS_CALLBACK_ADD_POLL_FD:\n  267        if(cb->ctx)\n  268          wsi_iohandler(wsi, cb, *args);\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h:\n   46      case LWS_CALLBACK_LOCK_POLL:\n   47      case LWS_CALLBACK_UNLOCK_POLL:\n   48:     case LWS_CALLBACK_ADD_POLL_FD:\n   49      case LWS_CALLBACK_DEL_POLL_FD:\n   50      case LWS_CALLBACK_CHANGE_MODE_POLL_FD: return true;\n\n~/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c:\n  247        \"LWS_CALLBACK_WSI_DESTROY\",\n  248        \"LWS_CALLBACK_GET_THREAD_ID\",\n  249:       \"LWS_CALLBACK_ADD_POLL_FD\",\n  250        \"LWS_CALLBACK_DEL_POLL_FD\",\n  251        \"LWS_CALLBACK_CHANGE_MODE_POLL_FD\",\n\n5 matches across 5 files\n\n\nSearching 103 files for \"callback_emit.*\\.fd\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c:\n  530          JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  531          minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  532:         server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  533          JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  534          JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  ...\n  544          };\n  545          minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  546:         server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  547          JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  548          JS_FreeValue(server->cb.fd.ctx, argv[1]);\n  ...\n  557            JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n  558            minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n  559:           server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n  560            JS_FreeValue(server->cb.fd.ctx, argv[0]);\n  561            JS_FreeValue(server->cb.fd.ctx, argv[1]);\n\n3 matches in 1 file\n\n\nSearching 103 files for \"new_ws\" (regex, case sensitive)\n\n~/Projects/plot-cv/quickjs/qjs-net/js/rpc.js:\n  650        return this;\n  651      },\n  652:     listen(new_ws, os = globalThis.os) {\n  653:       if(!new_ws) new_ws = MakeWebSocket;\n  654        this.log(`${service.name} listening on ${this.url}`);\n  655        if(os) setHandlers(os, callbacks);\n  656        this.listening = true;\n  657:       this.ws = new_ws(this.url, callbacks, true);\n  658:       if(new_ws !== MakeWebSocket)\n  659          if(this.ws.then) this.ws.then(() => (this.listening = false));\n  660          else this.listening = false;\n  661        return this;\n  662      },\n  663:     async connect(new_ws, os = globalThis.os) {\n  664:       if(!new_ws) new_ws = MakeWebSocket;\n  665        this.log(`${service.name} connecting to ${this.url}`);\n  666        if(os) setHandlers(os, callbacks);\n  667:       this.ws = new_ws(this.url, callbacks, false);\n  668        //console.log('connect()', this.ws);\n  669        return this;\n\n9 matches in 1 file\n",
			"settings":
			{
				"buffer_size": 732045,
				"line_ending": "Unix",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.css",
			"settings":
			{
				"buffer_size": 4250,
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/minnet-server.h",
			"settings":
			{
				"buffer_size": 1012,
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/minnet-generator.c",
			"settings":
			{
				"buffer_size": 3036,
				"line_ending": "Unix"
			}
		},
		{
			"file": "remove-functions.c",
			"settings":
			{
				"buffer_size": 30394,
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/minnet-fetch.c",
			"settings":
			{
				"buffer_size": 3451,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/minnet.c",
			"settings":
			{
				"buffer_size": 18090,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					45,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAPkMAAAAAAAA+gwAAAAAAAAAAAAA+gwAAAAAAAD6DAAAAAAAADkAAAAgIGlmKGpzX2lzX251bGxpc2goYXJndlsxXSkgIT0ganNfaXNfbnVsbGlzaChkYXRhWzJdKSkgewo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD5DAAAAAAAADINAAAAAAAAAAAAAAAA8L8"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAEQNAAAAAAAARQ0AAAAAAAAAAAAARQ0AAAAAAABFDQAAAAAAAEsAAAAgICBKU19GcmVlVmFsdWUoY3R4LCBkYXRhWzJdKTsKICAgIGRhdGFbMl0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMV0pOwogIH0",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABEDQAAAAAAAI8NAAAAAAAAAAAAAAAA8L8"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAEkNAAAAAAAASg0AAAAAAAAAAAAASg0AAAAAAABKDQAAAAAAADkAAABpZihqc19pc19udWxsaXNoKGFyZ3ZbMl0pICE9IGpzX2lzX251bGxpc2goZGF0YVszXSkpIHsKICA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABJDQAAAAAAAIINAAAAAAAAAAAAAAAA8L8"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJQNAAAAAAAAlQ0AAAAAAAAAAAAAlQ0AAAAAAACVDQAAAAAAAEkAAAAgSlNfRnJlZVZhbHVlKGN0eCwgZGF0YVszXSk7CiAgICBkYXRhWzNdID0gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzJdKTsKICB9",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACUDQAAAAAAAN0NAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAEYNAAAAAAAARw0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABGDQAAAAAAAEYNAAAAAAAAAAAAAAAA8L8"
				],
				[
					71,
					1,
					"left_delete",
					null,
					"AQAAAEYNAAAAAAAARg0AAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABHDQAAAAAAAEcNAAAAAAAAAAAAAAAA8L8"
				],
				[
					74,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAyRwAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LXNlcnZlci5oIgojaW5jbHVkZSAibWlubmV0LWNsaWVudC5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LXdlYnNvY2tldC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1nZW5lcmF0b3IuaCIKI2luY2x1ZGUgIm1pbm5ldC1mb3JtLXBhcnNlci5oIgojaW5jbHVkZSAibWlubmV0LWhhc2guaCIKI2luY2x1ZGUgIm1pbm5ldC1mZXRjaC5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSAidXRpbHMuaCIKI2luY2x1ZGUgImJ1ZmZlci5oIgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxlcnJuby5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8c3lzL3RpbWUuaD4KI2luY2x1ZGUgPHN0ZGFyZy5oPgoKLyojaWZkZWYgX1dJTjMyCiNpbmNsdWRlICJwb2xsLmgiCiNlbmRpZiovCgpzdGF0aWMgVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X2xvZ19jYiwgbWlubmV0X2xvZ190aGlzOwpzdGF0aWMgVEhSRUFEX0xPQ0FMIGludDMyX3QgbWlubmV0X2xvZ19sZXZlbCA9IDA7CnN0YXRpYyBUSFJFQURfTE9DQUwgSlNDb250ZXh0KiBtaW5uZXRfbG9nX2N0eCA9IDA7CnN0cnVjdCBsd3NfcHJvdG9jb2xzICptaW5uZXRfY2xpZW50X3Byb3RvY29scyA9IDAsICptaW5uZXRfc2VydmVyX3Byb3RvY29scyA9IDA7CgojaWZuZGVmIFBPTExJTgojZGVmaW5lIFBPTExJTiAxCiNlbmRpZgojaWZuZGVmIFBPTExPVVQKI2RlZmluZSBQT0xMT1VUIDQKI2VuZGlmCiNpZm5kZWYgUE9MTEVSUgojZGVmaW5lIFBPTExFUlIgOAojZW5kaWYKI2lmbmRlZiBQT0xMSFVQCiNkZWZpbmUgUE9MTEhVUCAxNgojZW5kaWYKCiNkZWZpbmUgUElPIChQT0xMSU4gfCBQT0xMT1VUIHwgUE9MTEVSUikKCnR5cGVkZWYgc3RydWN0IHsKICBKU0NvbnRleHQqIGN0eDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IExXU0lPSGFuZGxlcjsKCnR5cGVkZWYgZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfSBKU0lPSGFuZGxlcjsKCnN0YXRpYyB2b2lkCmx3c19pb2hhbmRsZXJfZnJlZSh2b2lkKiBwdHIpIHsKICBMV1NJT0hhbmRsZXIqIGNsb3N1cmUgPSBwdHI7CiAgSlNDb250ZXh0KiBjdHggPSBjbG9zdXJlLT5jdHg7CiAganNfZnJlZShjdHgsIGNsb3N1cmUpOwp9OwoKc3RhdGljIEpTVmFsdWUKbHdzX2lvaGFuZGxlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBMV1NJT0hhbmRsZXIqIGNsb3N1cmUgPSBwdHI7CiAgc3RydWN0IHBvbGxmZCogcDsKICBpbnQzMl90IHdyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBhc3NlcnQoY2xvc3VyZS0+b3BhcXVlKTsKICBwID0gJmNsb3N1cmUtPm9wYXF1ZS0+cG9sbDsKCiAgSlNfVG9JbnQzMihjdHgsICZ3ciwgYXJndlswXSk7CgogIHAtPnJldmVudHMgPSBtYWdpYyAmICh3ciA9PSBXUklURV9IQU5ETEVSID8gUE9MTE9VVCA6IFBPTExJTik7CgogIGlmKChwLT5yZXZlbnRzICYgUElPKSAhPSBtYWdpYykgewogICAgaWYocG9sbChwLCAxLCAwKSA8IDApCiAgICAgIGx3c2xfZXJyKCJwb2xsIGVycm9yOiAlc1xuIiwgc3RyZXJyb3IoZXJybm8pKTsKICB9CgogIGlmKHAtPnJldmVudHMgJiBQSU8pIHsKICAgIHN0cnVjdCBsd3NfcG9sbGZkIHggPSB7cC0+ZmQsIG1hZ2ljLCBwLT5yZXZlbnRzICYgUElPfTsKCiAgICBpZihwLT5yZXZlbnRzICYgKFBPTExFUlIgfCBQT0xMSFVQKSkgewogICAgICBjbG9zdXJlLT5vcGFxdWUtPnBvbGwgPSAqcDsKICAgICAgLy8gY2xvc3VyZS0+b3BhcXVlLT5lcnJvciA9IGVycm5vOwogICAgfQogICAgLyppZih4LnJldmVudHMgJiBQT0xMT1VUKQogICAgICBpZih4LnJldmVudHMgJiBQT0xMSU4pCiAgICAgICAgeC5yZXZlbnRzICY9IH4oUE9MTE9VVCk7Ki8KICAgIC8vIGVycm5vID0gMDsKCiAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGx3c19zZXJ2aWNlX2ZkKGx3c19nZXRfY29udGV4dChjbG9zdXJlLT5sd3NpKSwgJngpKTsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9pb19oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBpbnQgZmQsIGludCBldmVudHMsIHN0cnVjdCBsd3MqIHdzaSkgewogIExXU0lPSGFuZGxlciogaDsKCiAgaWYoIShoID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihMV1NJT0hhbmRsZXIpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAqaCA9IChMV1NJT0hhbmRsZXIpe2N0eCwgd3NpLCBsd3Nfb3BhcXVlKHdzaSwgY3R4KX07CgogIGgtPm9wYXF1ZS0+cG9sbCA9IChzdHJ1Y3QgcG9sbGZkKXtmZCwgZXZlbnRzLCAwfTsKCiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2NjbG9zdXJlKGN0eCwgbHdzX2lvaGFuZGxlciwgMSwgZXZlbnRzLCBoLCBsd3NfaW9oYW5kbGVyX2ZyZWUpOwp9Cgp2b2lkCm1pbm5ldF9pb19oYW5kbGVycyhKU0NvbnRleHQqIGN0eCwgc3RydWN0IGx3cyogd3NpLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzIGFyZ3MsIEpTVmFsdWUgb3V0WzJdKSB7CiAgSlNWYWx1ZSBmdW5jID0gSlNfTlVMTDsKICBpbnQgZXZlbnRzID0gYXJncy5ldmVudHMgJiAoUE9MTElOIHwgUE9MTE9VVCk7CgogIGlmKGV2ZW50cykKICAgIGZ1bmMgPSBtaW5uZXRfaW9faGFuZGxlcihjdHgsIGFyZ3MuZmQsIGV2ZW50cywgd3NpKTsKCiAgb3V0WzBdID0gKGV2ZW50cyAmIFBPTExJTikgPyBqc19mdW5jdGlvbl9iaW5kXzEoY3R4LCBmdW5jLCBKU19OZXdJbnQzMihjdHgsIFJFQURfSEFORExFUikpIDogSlNfTlVMTDsKICBvdXRbMV0gPSAoZXZlbnRzICYgUE9MTE9VVCkgPyBqc19mdW5jdGlvbl9iaW5kXzEoY3R4LCBmdW5jLCBKU19OZXdJbnQzMihjdHgsIFdSSVRFX0hBTkRMRVIpKSA6IEpTX05VTEw7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmMpOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfZmRfY2FsbGJhY2soSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgSlNWYWx1ZSBkYXRhW10pIHsKICBKU1ZhbHVlQ29uc3QgYXJnc1tdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwoKICAgICBhcmdzWzFdID0gYXJndlsxXTsKICAgIEpTX0NhbGwoY3R4LCBkYXRhWzBdLCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIAoKICAgICBhcmdzWzFdID0gYXJndlsyXTsKICAgIEpTX0NhbGwoY3R4LCBkYXRhWzFdLCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogICAgCgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0cnVjdCBGRENhbGxiYWNrQ2hhbm5lbCB7CiAgSlNWYWx1ZSBzZXRfZm47Cn07CnN0cnVjdCBGRENhbGxiYWNrQ2xvc3VyZSB7CiAgSlNDb250ZXh0KiBjdHg7CiAgc3RydWN0IEZEQ2FsbGJhY2tDaGFubmVsIHJlYWQsIHdyaXRlOwp9OwoKc3RhdGljIHZvaWQKbWlubmV0X2ZkX2NhbGxiYWNrX2ZyZWUodm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IEZEQ2FsbGJhY2tDbG9zdXJlKiBjbG9zdXJlID0gb3BhcXVlOwoKICBKU19GcmVlVmFsdWUoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5yZWFkLnNldF9mbik7CiAgSlNfRnJlZVZhbHVlKGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+d3JpdGUuc2V0X2ZuKTsKICBqc19mcmVlKGNsb3N1cmUtPmN0eCwgY2xvc3VyZSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9mZF9jYWxsYmFja19jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQsIHZvaWQqIG9wYXF1ZSkgewogIHN0cnVjdCBGRENhbGxiYWNrQ2xvc3VyZSogY2xvc3VyZSA9IG9wYXF1ZTsKICBKU1ZhbHVlQ29uc3QgYXJnc1tdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwoKICBhcmdzWzFdID0gYXJndlsxXTsKICBKU19DYWxsKGN0eCwgY2xvc3VyZS0+cmVhZC5zZXRfZm4sIEpTX1VOREVGSU5FRCwgMiwgYXJncyk7CgogIGFyZ3NbMV0gPSBhcmd2WzJdOwogIEpTX0NhbGwoY3R4LCBjbG9zdXJlLT53cml0ZS5zZXRfZm4sIEpTX1VOREVGSU5FRCwgMiwgYXJncyk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2RlZmF1bHRfZmRfY2FsbGJhY2soSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIG9zID0ganNfZ2xvYmFsX2dldChjdHgsICJvcyIpOwoKICBpZihKU19Jc09iamVjdChvcykpIHsKCiAgICBzdHJ1Y3QgRkRDYWxsYmFja0Nsb3N1cmUqIGNsb3N1cmU7CgogICAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKHN0cnVjdCBGRENhbGxiYWNrQ2xvc3VyZSkpKSkKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgICBjbG9zdXJlLT5jdHggPSBjdHg7CiAgICBjbG9zdXJlLT5yZWFkID0gKHN0cnVjdCBGRENhbGxiYWNrQ2hhbm5lbCl7SlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcywgInNldFJlYWRIYW5kbGVyIil9OwogICAgY2xvc3VyZS0+d3JpdGUgPSAoc3RydWN0IEZEQ2FsbGJhY2tDaGFubmVsKXtKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIil9OwoKICAgIHJldHVybiBqc19mdW5jdGlvbl9jY2xvc3VyZShjdHgsIG1pbm5ldF9mZF9jYWxsYmFja19jbG9zdXJlLCAzLCAwLCBjbG9zdXJlLCBtaW5uZXRfZmRfY2FsbGJhY2tfZnJlZSk7CgogICAgLyogIEpTVmFsdWVDb25zdCBkYXRhWzRdID0gewogICAgICAgICAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcywgInNldFJlYWRIYW5kbGVyIiksCiAgICAgICAgICBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIiksCiAgICAgICAgICBKU19VTkRFRklORUQsCiAgICAgICAgICBKU19VTkRFRklORUQsCiAgICAgIH07CgogICAgICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIG1pbm5ldF9mZF9jYWxsYmFjaywgMywgMCwgY291bnRvZihkYXRhKSwgZGF0YSk7Ki8KICB9CgogIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJnbG9iYWxUaGlzLm9zIG11c3QgYmUgaW1wb3J0ZWQgbW9kdWxlIik7Cn0KCnZvaWQKbWlubmV0X2xvZ19jYWxsYmFjayhpbnQgbGV2ZWwsIGNvbnN0IGNoYXIqIGxpbmUpIHsKICBpZihtaW5uZXRfbG9nX2N0eCkgewogICAgc2l6ZV90IG4gPSAwLCBsZW4gPSBzdHJsZW4obGluZSk7CgogICAgaWYoSlNfSXNGdW5jdGlvbihtaW5uZXRfbG9nX2N0eCwgbWlubmV0X2xvZ19jYikpIHsKCiAgICAgIG4gPSBza2lwX2JyYWNrZXRzKGxpbmUsIGxlbik7CiAgICAgIGxpbmUgKz0gbjsKICAgICAgbGVuIC09IG47CiAgICAgIG4gPSBza2lwX2RpcmVjdG9yeShsaW5lLCBsZW4pOwogICAgICBsaW5lICs9IG47CiAgICAgIGxlbiAtPSBuOwoKICAgICAgc3RyaXBfdHJhaWxpbmdfbmV3bGluZShsaW5lLCAmbGVuKTsKCiAgICAgIEpTVmFsdWVDb25zdCBhcmd2WzJdID0gewogICAgICAgICAgSlNfTmV3SW50MzIobWlubmV0X2xvZ19jdHgsIGxldmVsKSwKICAgICAgICAgIEpTX05ld1N0cmluZ0xlbihtaW5uZXRfbG9nX2N0eCwgbGluZSwgbGVuKSwKICAgICAgfTsKICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiLCBtaW5uZXRfbG9nX3RoaXMsIDIsIGFyZ3YpOwoKICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKG1pbm5ldF9sb2dfY3R4KTsKICAgICAgICBKU19GcmVlVmFsdWUobWlubmV0X2xvZ19jdHgsIGV4Y2VwdGlvbik7CiAgICAgIH0KCiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlswXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlsxXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgcmV0KTsKICAgIH0gZWxzZSB7CiAgICAgIGpzX2NvbnNvbGVfbG9nKG1pbm5ldF9sb2dfY3R4LCAmbWlubmV0X2xvZ190aGlzLCAmbWlubmV0X2xvZ19jYik7CiAgICB9CiAgfQp9CgpzdGF0aWMgaW50CndzaV9pb2hhbmRsZXIoc3RydWN0IGx3cyogd3NpLCBzdHJ1Y3QganNfY2FsbGJhY2sqIGNiLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzIGFyZ3MpIHsKICBKU1ZhbHVlIGFyZ3ZbM10gPSB7CiAgICAgIEpTX05ld0ludDMyKGNiLT5jdHgsIGFyZ3MuZmQpLAogICAgICBKU19OVUxMLAogICAgICBKU19OVUxMLAogIH07CgogIG1pbm5ldF9pb19oYW5kbGVycyhjYi0+Y3R4LCB3c2ksIGFyZ3MsICZhcmd2WzFdKTsKICBjYWxsYmFja19lbWl0KGNiLCBjb3VudG9mKGFyZ3YpLCBhcmd2KTsKCiAganNfdmVjdG9yX2ZyZWUoY2ItPmN0eCwgY291bnRvZihhcmd2KSwgYXJndik7CiAgcmV0dXJuIDA7Cn0KCmludAp3c2lfaGFuZGxlX3BvbGwoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgc3RydWN0IGpzX2NhbGxiYWNrKiBjYiwgc3RydWN0IGx3c19wb2xsYXJncyogYXJncykgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0xPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1VOTE9DS19QT0xMOiBicmVhazsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgICBpZihjYi0+Y3R4KQogICAgICAgIHdzaV9pb2hhbmRsZXIod3NpLCBjYiwgKmFyZ3MpOwogICAgICBicmVhazsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOgogICAgICBpZihjYi0+Y3R4KQogICAgICAgIHdzaV9pb2hhbmRsZXIod3NpLCBjYiwgKmFyZ3MpOwogICAgICBicmVhazsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NIQU5HRV9NT0RFX1BPTExfRkQ6CiAgICAgIGlmKGNiLT5jdHgpCiAgICAgICAgaWYoYXJncy0+ZXZlbnRzICE9IGFyZ3MtPnByZXZfZXZlbnRzKQogICAgICAgICAgd3NpX2lvaGFuZGxlcih3c2ksIGNiLCAqYXJncyk7CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDogcmV0dXJuIC0xOwogIH0KICByZXR1cm4gMDsKfQoKaW50Cm1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqIGhhbmRsZXIsIGludCByZWFzb24pIHsKICBsd3NsX3dhcm4oIlVuaGFuZGxlZCBceDFiWzE7MzFtJXNceDFiWzBtIGV2ZW50OiAlaSAlc1xuIiwgaGFuZGxlciwgcmVhc29uLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pKTsKICBhc3NlcnQoMCk7CiAgcmV0dXJuIC0xOwp9CgpzdGF0aWMgSlNWYWx1ZQpzZXRfbG9nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgSlNWYWx1ZUNvbnN0IHRoaXNPYmopIHsKICBKU1ZhbHVlIHJldCA9IEpTX1ZBTFVFX0dFVF9UQUcobWlubmV0X2xvZ19jYikgPT0gMCA/IEpTX1VOREVGSU5FRCA6IG1pbm5ldF9sb2dfY2I7CgogIG1pbm5ldF9sb2dfY3R4ID0gY3R4OwogIG1pbm5ldF9sb2dfY2IgPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKG1pbm5ldF9sb2dfdGhpcykgJiYgIUpTX0lzTnVsbChtaW5uZXRfbG9nX3RoaXMpICYmIEpTX1ZBTFVFX0dFVF9UQUcobWlubmV0X2xvZ190aGlzKSAhPSAwKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgbWlubmV0X2xvZ190aGlzKTsKCiAgbWlubmV0X2xvZ190aGlzID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzT2JqKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3NldF9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldDsKICBpZihhcmdjID49IDEgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgIEpTX1RvSW50MzIoY3R4LCAmbWlubmV0X2xvZ19sZXZlbCwgYXJndlswXSk7CiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXQgPSBzZXRfbG9nKGN0eCwgdGhpc192YWwsIGFyZ3ZbMF0sIGFyZ2MgPiAxID8gYXJndlsxXSA6IEpTX05VTEwpOwogIGx3c19zZXRfbG9nX2xldmVsKCgodW5zaWduZWQpbWlubmV0X2xvZ19sZXZlbCAmICgoMXUgPDwgTExMX0NPVU5UKSAtIDEpKSwgbWlubmV0X2xvZ19jYWxsYmFjayk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfZ2V0X3Nlc3Npb25zKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQ7CiAgdWludDMyX3QgaSA9IDA7CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIGxpc3RfZm9yX2VhY2hfcHJldihlbCwgJm9wYXF1ZV9saXN0KSB7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGxpc3RfZW50cnkoZWwsIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSwgbGluayk7CiAgICBERUJVRygiJXMgQCV1ICMlIiBQUklkNjQgIiAlcFxuIiwgX19mdW5jX18sIGksIG9wYXF1ZS0+c2VyaWFsLCBvcGFxdWUpOwoKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpKyssIG9wYXF1ZS0+c2VzcyA/IHNlc3Npb25fb2JqZWN0KG9wYXF1ZS0+c2VzcywgY3R4KSA6IEpTX05ld0ludDY0KGN0eCwgb3BhcXVlLT5zZXJpYWwpKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9sb2dsZXZlbHNbXSA9IHsKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMSwgIkVSUiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigyLCAiV0FSTiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig0LCAiTk9USUNFIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDgsICJJTkZPIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDE2LCAiREVCVUciKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMzIsICJQQVJTRVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNjQsICJIRUFERVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMTI4LCAiRVhUIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDI1NiwgIkNMSUVOVCIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig1MTIsICJMQVRFTkNZIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDEwMjQsICJVU0VSIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDIwNDgsICJUSFJFQUQiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNDA5NSwgIkFMTCIpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJzZXJ2ZXIiLCAxLCBtaW5uZXRfc2VydmVyKSwKICAgIEpTX0NGVU5DX0RFRigiY2xpZW50IiwgMSwgbWlubmV0X2NsaWVudCksCiAgICBKU19DRlVOQ19ERUYoImZldGNoIiwgMSwgbWlubmV0X2ZldGNoKSwKICAgIC8vIEpTX0NGVU5DX1NQRUNJQUxfREVGKCJmb3JtUGFyc2VyIiwgMCwgY29uc3RydWN0b3IsIG1pbm5ldF9mb3JtX3BhcnNlcl9jb25zdHJ1Y3RvciksCiAgICAvLyBKU19DRlVOQ19TUEVDSUFMX0RFRigiZ2VuZXJhdG9yIiwgMCwgY29uc3RydWN0b3IsIG1pbm5ldF9nZW5lcmF0b3JfY29uc3RydWN0b3IpLAogICAgLy8gSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoImhhc2giLCAwLCBjb25zdHJ1Y3RvciwgbWlubmV0X2hhc2hfY29uc3RydWN0b3IpLAogICAgLy8gSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoInJlcXVlc3QiLCAwLCBjb25zdHJ1Y3RvciwgbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IpLAogICAgLy8gSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoInJlc3BvbnNlIiwgMCwgY29uc3RydWN0b3IsIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvciksCiAgICAvLyBKU19DRlVOQ19TUEVDSUFMX0RFRigicmluZ2J1ZmZlciIsIDAsIGNvbnN0cnVjdG9yLCBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvciksCiAgICAvLyBKU19DRlVOQ19TUEVDSUFMX0RFRigidXJsIiwgMCwgY29uc3RydWN0b3IsIG1pbm5ldF91cmxfY29uc3RydWN0b3IpLAogICAgLy8gSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoInNvY2tldCIsIDAsIGNvbnN0cnVjdG9yLCBtaW5uZXRfd3NfY29uc3RydWN0b3IpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRTZXNzaW9ucyIsIDAsIG1pbm5ldF9nZXRfc2Vzc2lvbnMpLAogICAgSlNfQ0ZVTkNfREVGKCJzZXRMb2ciLCAxLCBtaW5uZXRfc2V0X2xvZyksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0dFVCIsIE1FVEhPRF9HRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9QT1NUIiwgTUVUSE9EX1BPU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9PUFRJT05TIiwgTUVUSE9EX09QVElPTlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9QVVQiLCBNRVRIT0RfUFVULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUEFUQ0giLCBNRVRIT0RfUEFUQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9ERUxFVEUiLCBNRVRIT0RfREVMRVRFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfSEVBRCIsIE1FVEhPRF9IRUFELCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0VSUiIsIExMTF9FUlIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9XQVJOIiwgTExMX1dBUk4sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9OT1RJQ0UiLCBMTExfTk9USUNFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfSU5GTyIsIExMTF9JTkZPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfREVCVUciLCBMTExfREVCVUcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9QQVJTRVIiLCBMTExfUEFSU0VSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfSEVBREVSIiwgTExMX0hFQURFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0VYVCIsIExMTF9FWFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9DTElFTlQiLCBMTExfQ0xJRU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfTEFURU5DWSIsIExMTF9MQVRFTkNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfVVNFUiIsIExMTF9VU0VSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfVEhSRUFEIiwgTExMX1RIUkVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0FMTCIsIH4oKH4wdSkgPDwgTExMX0NPVU5UKSwgMCksCiAgICBKU19PQkpFQ1RfREVGKCJsb2dMZXZlbHMiLCBtaW5uZXRfbG9nbGV2ZWxzLCBjb3VudG9mKG1pbm5ldF9sb2dsZXZlbHMpLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpzdGF0aWMgaW50CmpzX21pbm5ldF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICAvLyBtaW5uZXRfanNfbW9kdWxlID0gSlNfUmVhZE9iamVjdChjdHgsIHFqc2NfbWlubmV0LCBxanNjX21pbm5ldF9zaXplLCBKU19SRUFEX09CSl9CWVRFQ09ERSk7CgogIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBtaW5uZXRfZnVuY3MsIGNvdW50b2YobWlubmV0X2Z1bmNzKSk7CgogIC8vIEFkZCBjbGFzcyBSZXNwb25zZQogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQsICZtaW5uZXRfcmVzcG9uc2VfY2xhc3MpOwoKICBtaW5uZXRfcmVzcG9uc2VfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXNwb25zZV9wcm90bywgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgbWlubmV0X3Jlc3BvbnNlX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yLCAiTWlubmV0UmVzcG9uc2UiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY3RvciwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXNwb25zZSIsIG1pbm5ldF9yZXNwb25zZV9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFJlcXVlc3QKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQsICZtaW5uZXRfcmVxdWVzdF9jbGFzcyk7CiAgbWlubmV0X3JlcXVlc3RfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jcywgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkLCBtaW5uZXRfcmVxdWVzdF9wcm90byk7CgogIG1pbm5ldF9yZXF1ZXN0X2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IsICJNaW5uZXRSZXF1ZXN0IiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3JlcXVlc3RfY3RvciwgbWlubmV0X3JlcXVlc3RfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlcXVlc3QiLCBtaW5uZXRfcmVxdWVzdF9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFJpbmdidWZmZXIKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7CgogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwgbWlubmV0X3JpbmdidWZmZXJfY2xhc3NfaWQsICZtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzcyk7CiAgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jcywgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90byk7CgogIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3JpbmdidWZmZXJfY29uc3RydWN0b3IsICJNaW5uZXRSaW5nYnVmZmVyIiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3JpbmdidWZmZXJfY3RvciwgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJpbmdidWZmZXIiLCBtaW5uZXRfcmluZ2J1ZmZlcl9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIEdlbmVyYXRvcgogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9nZW5lcmF0b3JfY2xhc3NfaWQpOwoKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF9nZW5lcmF0b3JfY2xhc3NfaWQsICZtaW5uZXRfZ2VuZXJhdG9yX2NsYXNzKTsKICBtaW5uZXRfZ2VuZXJhdG9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgLy8gSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfZ2VuZXJhdG9yX3Byb3RvLCBtaW5uZXRfZ2VuZXJhdG9yX3Byb3RvX2Z1bmNzLCBtaW5uZXRfZ2VuZXJhdG9yX3Byb3RvX2Z1bmNzX3NpemUpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBtaW5uZXRfZ2VuZXJhdG9yX2NsYXNzX2lkLCBtaW5uZXRfZ2VuZXJhdG9yX3Byb3RvKTsKCiAgbWlubmV0X2dlbmVyYXRvcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF9nZW5lcmF0b3JfY29uc3RydWN0b3IsICJNaW5uZXRHZW5lcmF0b3IiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfZ2VuZXJhdG9yX2N0b3IsIG1pbm5ldF9nZW5lcmF0b3JfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIkdlbmVyYXRvciIsIG1pbm5ldF9nZW5lcmF0b3JfY3Rvcik7CgogIC8vIEFkZCBjbGFzcyBVUkwKICBtaW5uZXRfdXJsX2luaXQoY3R4LCBtKTsKCiAgLy8gQWRkIGNsYXNzIFdlYlNvY2tldAogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF93c19jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfd3NfY2xhc3NfaWQsICZtaW5uZXRfd3NfY2xhc3MpOwogIG1pbm5ldF93c19wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfcHJvdG9fZnVuY3MsIG1pbm5ldF93c19wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBtaW5uZXRfd3NfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfd3NfY29uc3RydWN0b3IsICJNaW5uZXRXZWJzb2NrZXQiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3N0YXRpY19mdW5jcywgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplKTsKCiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvKTsKCiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNvY2tldCIsIG1pbm5ldF93c19jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIEZvcm1QYXJzZXIKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfZm9ybV9wYXJzZXJfY2xhc3NfaWQpOwoKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF9mb3JtX3BhcnNlcl9jbGFzc19pZCwgJm1pbm5ldF9mb3JtX3BhcnNlcl9jbGFzcyk7CiAgbWlubmV0X2Zvcm1fcGFyc2VyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfZm9ybV9wYXJzZXJfcHJvdG8sIG1pbm5ldF9mb3JtX3BhcnNlcl9wcm90b19mdW5jcywgbWlubmV0X2Zvcm1fcGFyc2VyX3Byb3RvX2Z1bmNzX3NpemUpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBtaW5uZXRfZm9ybV9wYXJzZXJfY2xhc3NfaWQsIG1pbm5ldF9mb3JtX3BhcnNlcl9wcm90byk7CgogIG1pbm5ldF9mb3JtX3BhcnNlcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF9mb3JtX3BhcnNlcl9jb25zdHJ1Y3RvciwgIk1pbm5ldEZvcm1QYXJzZXIiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfZm9ybV9wYXJzZXJfY3RvciwgbWlubmV0X2Zvcm1fcGFyc2VyX3Byb3RvKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJGb3JtUGFyc2VyIiwgbWlubmV0X2Zvcm1fcGFyc2VyX2N0b3IpOwoKICAvLyBBZGQgY2xhc3MgSGFzaAogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9oYXNoX2NsYXNzX2lkKTsKCiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfaGFzaF9jbGFzc19pZCwgJm1pbm5ldF9oYXNoX2NsYXNzKTsKICBtaW5uZXRfaGFzaF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X2hhc2hfcHJvdG8sIG1pbm5ldF9oYXNoX3Byb3RvX2Z1bmNzLCBtaW5uZXRfaGFzaF9wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwgbWlubmV0X2hhc2hfY2xhc3NfaWQsIG1pbm5ldF9oYXNoX3Byb3RvKTsKCiAgbWlubmV0X2hhc2hfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfaGFzaF9jb25zdHJ1Y3RvciwgIk1pbm5ldEhhc2giLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfaGFzaF9jdG9yLCBtaW5uZXRfaGFzaF9wcm90byk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfaGFzaF9jdG9yLCBtaW5uZXRfaGFzaF9zdGF0aWNfZnVuY3MsIG1pbm5ldF9oYXNoX3N0YXRpY19mdW5jc19zaXplKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJIYXNoIiwgbWlubmV0X2hhc2hfY3Rvcik7CgogIHsKICAgIEpTVmFsdWUgbWlubmV0X2RlZmF1bHQgPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X2RlZmF1bHQsIG1pbm5ldF9mdW5jcywgY291bnRvZihtaW5uZXRfZnVuY3MpKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJkZWZhdWx0IiwgbWlubmV0X2RlZmF1bHQpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCl9fYXR0cmlidXRlX18oKHZpc2liaWxpdHkoImRlZmF1bHQiKSkpIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCBqc19taW5uZXRfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiUmVzcG9uc2UiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiUmVxdWVzdCIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSaW5nYnVmZmVyIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkdlbmVyYXRvciIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTb2NrZXQiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiRm9ybVBhcnNlciIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJIYXNoIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlVSTCIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJkZWZhdWx0Iik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIG1pbm5ldF9mdW5jcywgY291bnRvZihtaW5uZXRfZnVuY3MpKTsKCiAgbWlubmV0X2xvZ19jdHggPSBjdHg7CgogIGx3c19zZXRfbG9nX2xldmVsKG1pbm5ldF9sb2dfbGV2ZWwsIG1pbm5ldF9sb2dfY2FsbGJhY2spOwoKICByZXR1cm4gbTsKfQoKdm9pZAptaW5uZXRfZGVidWcoY29uc3QgY2hhciogZm9ybWF0LCAuLi4pIHsKICBpbnQgbjsKICB2YV9saXN0IGFwOwogIGNoYXIgYnVmWzEwMjRdOwogIHZhX3N0YXJ0KGFwLCBmb3JtYXQpOwogIG4gPSB2c25wcmludGYoYnVmLCBzaXplb2YoYnVmKSwgZm9ybWF0LCBhcCk7CiAgdmFfZW5kKGFwKTsKCiAgaWYobiA8IHNpemVvZihidWYpKSB7CiAgICBpZihidWZbbiAtIDFdICE9ICdcbicpCiAgICAgIGJ1ZltuKytdID0gJ1xuJzsKICB9CgogIGZvcihpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgIGlmKGkgKyAxICE9IG4pIHsKICAgICAgaWYoYnVmW2ldID09ICdcbicpIHsKICAgICAgICBmcHV0cygiXFxuIiwgc3Rkb3V0KTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBpZihidWZbaV0gPT0gJ1xyJykgewogICAgICAgIGZwdXRzKCJcXHIiLCBzdGRvdXQpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBmcHV0YyhidWZbaV0sIHN0ZG91dCk7CiAgfQogIGZmbHVzaChzdGRvdXQpOwp9CgAAAAAAAAAAIEcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABGDQAAAAAAAEYNAAAAAAAAAAAAAAAA8L8"
				],
				[
					91,
					1,
					"cut",
					null,
					"AQAAAJ8NAAAAAAAAnw0AAAAAAAAwAAAAc3RydWN0IEZEQ2FsbGJhY2tDaGFubmVsIHsKICBKU1ZhbHVlIHNldF9mbjsKfTsK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACfDQAAAAAAAM8NAAAAAAAAAAAAAAAAAAA"
				],
				[
					97,
					1,
					"insert",
					{
						"characters": "JSValueConst"
					},
					"DQAAAM4NAAAAAAAAzw0AAAAAAAAAAAAAzw0AAAAAAADPDQAAAAAAABkAAABzdHJ1Y3QgRkRDYWxsYmFja0NoYW5uZWwgzw0AAAAAAADQDQAAAAAAAAAAAADQDQAAAAAAANENAAAAAAAAAAAAANENAAAAAAAA0g0AAAAAAAAAAAAA0g0AAAAAAADTDQAAAAAAAAAAAADTDQAAAAAAANQNAAAAAAAAAAAAANQNAAAAAAAA1Q0AAAAAAAAAAAAA1Q0AAAAAAADWDQAAAAAAAAAAAADWDQAAAAAAANcNAAAAAAAAAAAAANcNAAAAAAAA2A0AAAAAAAAAAAAA2A0AAAAAAADZDQAAAAAAAAAAAADZDQAAAAAAANoNAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADODQAAAAAAAOcNAAAAAAAAAAAAAAAA8L8"
				],
				[
					98,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANoNAAAAAAAA2w0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaDQAAAAAAANoNAAAAAAAAAAAAAAAA8L8"
				],
				[
					99,
					6,
					"left_delete",
					null,
					"BgAAANoNAAAAAAAA2g0AAAAAAAABAAAAINkNAAAAAAAA2Q0AAAAAAAABAAAAdNgNAAAAAAAA2A0AAAAAAAABAAAAc9cNAAAAAAAA1w0AAAAAAAABAAAAbtYNAAAAAAAA1g0AAAAAAAABAAAAb9UNAAAAAAAA1Q0AAAAAAAABAAAAQw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADbDQAAAAAAANsNAAAAAAAAAAAAAAAA8L8"
				],
				[
					100,
					1,
					"insert",
					{
						"characters": " setg_"
					},
					"BgAAANUNAAAAAAAA1g0AAAAAAAAAAAAA1g0AAAAAAADXDQAAAAAAAAAAAADXDQAAAAAAANgNAAAAAAAAAAAAANgNAAAAAAAA2Q0AAAAAAAAAAAAA2Q0AAAAAAADaDQAAAAAAAAAAAADaDQAAAAAAANsNAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADVDQAAAAAAANUNAAAAAAAAAAAAAAAA8L8"
				],
				[
					101,
					2,
					"left_delete",
					null,
					"AgAAANoNAAAAAAAA2g0AAAAAAAABAAAAX9kNAAAAAAAA2Q0AAAAAAAABAAAAZw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADbDQAAAAAAANsNAAAAAAAAAAAAAAAA8L8"
				],
				[
					102,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAANkNAAAAAAAA2g0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADZDQAAAAAAANkNAAAAAAAAAAAAAAAA8L8"
				],
				[
					104,
					1,
					"insert",
					{
						"characters": "set-"
					},
					"BAAAAOANAAAAAAAA4Q0AAAAAAAAAAAAA4Q0AAAAAAADiDQAAAAAAAAAAAADiDQAAAAAAAOMNAAAAAAAAAAAAAOMNAAAAAAAA5A0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADgDQAAAAAAAOANAAAAAAAAAAAAAAAA8L8"
				],
				[
					105,
					1,
					"left_delete",
					null,
					"AQAAAOMNAAAAAAAA4w0AAAAAAAABAAAALQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkDQAAAAAAAOQNAAAAAAAAAAAAAAAA8L8"
				],
				[
					106,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAAOMNAAAAAAAA5A0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADjDQAAAAAAAOMNAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					1,
					"paste",
					null,
					"AgAAAHgOAAAAAAAAgA4AAAAAAAAAAAAAgA4AAAAAAACADgAAAAAAAAsAAAByZWFkLnNldF9mbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB4DgAAAAAAAIMOAAAAAAAAAAAAAAAA8L8"
				],
				[
					122,
					1,
					"insert",
					{
						"characters": "set_write"
					},
					"CQAAAKkOAAAAAAAAqg4AAAAAAAAAAAAAqg4AAAAAAACrDgAAAAAAAAAAAACrDgAAAAAAAKwOAAAAAAAAAAAAAKwOAAAAAAAArQ4AAAAAAAAAAAAArQ4AAAAAAACuDgAAAAAAAAAAAACuDgAAAAAAAK8OAAAAAAAAAAAAAK8OAAAAAAAAsA4AAAAAAAAAAAAAsA4AAAAAAACxDgAAAAAAAAAAAACxDgAAAAAAALIOAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACpDgAAAAAAAKkOAAAAAAAAAAAAAAAA8L8"
				],
				[
					123,
					12,
					"right_delete",
					null,
					"DAAAALIOAAAAAAAAsg4AAAAAAAABAAAAd7IOAAAAAAAAsg4AAAAAAAABAAAAcrIOAAAAAAAAsg4AAAAAAAABAAAAabIOAAAAAAAAsg4AAAAAAAABAAAAdLIOAAAAAAAAsg4AAAAAAAABAAAAZbIOAAAAAAAAsg4AAAAAAAABAAAALrIOAAAAAAAAsg4AAAAAAAABAAAAc7IOAAAAAAAAsg4AAAAAAAABAAAAZbIOAAAAAAAAsg4AAAAAAAABAAAAdLIOAAAAAAAAsg4AAAAAAAABAAAAX7IOAAAAAAAAsg4AAAAAAAABAAAAZrIOAAAAAAAAsg4AAAAAAAABAAAAbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACyDgAAAAAAALIOAAAAAAAAAAAAAAAA8L8"
				],
				[
					139,
					1,
					"",
					null,
					"AQAAAOcPAAAAAAAA7w8AAAAAAAALAAAAcmVhZC5zZXRfZm4",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnDwAAAAAAAPIPAAAAAAAAAAAAAAAA8L8"
				],
				[
					143,
					1,
					"",
					null,
					"AQAAADcQAAAAAAAAQBAAAAAAAAAMAAAAd3JpdGUuc2V0X2Zu",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA3EAAAAAAAAEMQAAAAAAAAAAAAAAAA8L8"
				],
				[
					165,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAKIRAAAAAAAAoxEAAAAAAAAAAAAAoxEAAAAAAACjEQAAAAAAABsAAAAgKHN0cnVjdCBGRENhbGxiYWNrQ2hhbm5lbCk",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC9EQAAAAAAAKIRAAAAAAAAAAAAAAAA8L8"
				],
				[
					166,
					1,
					"right_delete",
					null,
					"AQAAAKMRAAAAAAAAoxEAAAAAAAABAAAAew",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjEQAAAAAAAKMRAAAAAAAAAAAAAAAA8L8"
				],
				[
					168,
					1,
					"insert",
					{
						"characters": "set_"
					},
					"BAAAAJwRAAAAAAAAnREAAAAAAAAAAAAAnREAAAAAAACeEQAAAAAAAAAAAACeEQAAAAAAAJ8RAAAAAAAAAAAAAJ8RAAAAAAAAoBEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcEQAAAAAAAJwRAAAAAAAAAAAAAAAA8L8"
				],
				[
					171,
					1,
					"insert",
					{
						"characters": "set_"
					},
					"BAAAAOMRAAAAAAAA5BEAAAAAAAAAAAAA5BEAAAAAAADlEQAAAAAAAAAAAADlEQAAAAAAAOYRAAAAAAAAAAAAAOYRAAAAAAAA5xEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADjEQAAAAAAAOMRAAAAAAAAAAAAAAAA8L8"
				],
				[
					173,
					26,
					"right_delete",
					null,
					"GgAAAO4RAAAAAAAA7hEAAAAAAAABAAAAIO4RAAAAAAAA7hEAAAAAAAABAAAAKO4RAAAAAAAA7hEAAAAAAAABAAAAc+4RAAAAAAAA7hEAAAAAAAABAAAAdO4RAAAAAAAA7hEAAAAAAAABAAAAcu4RAAAAAAAA7hEAAAAAAAABAAAAde4RAAAAAAAA7hEAAAAAAAABAAAAY+4RAAAAAAAA7hEAAAAAAAABAAAAdO4RAAAAAAAA7hEAAAAAAAABAAAAIO4RAAAAAAAA7hEAAAAAAAABAAAARu4RAAAAAAAA7hEAAAAAAAABAAAARO4RAAAAAAAA7hEAAAAAAAABAAAAQ+4RAAAAAAAA7hEAAAAAAAABAAAAYe4RAAAAAAAA7hEAAAAAAAABAAAAbO4RAAAAAAAA7hEAAAAAAAABAAAAbO4RAAAAAAAA7hEAAAAAAAABAAAAYu4RAAAAAAAA7hEAAAAAAAABAAAAYe4RAAAAAAAA7hEAAAAAAAABAAAAY+4RAAAAAAAA7hEAAAAAAAABAAAAa+4RAAAAAAAA7hEAAAAAAAABAAAAQ+4RAAAAAAAA7hEAAAAAAAABAAAAaO4RAAAAAAAA7hEAAAAAAAABAAAAYe4RAAAAAAAA7hEAAAAAAAABAAAAbu4RAAAAAAAA7hEAAAAAAAABAAAAbu4RAAAAAAAA7hEAAAAAAAABAAAAZe4RAAAAAAAA7hEAAAAAAAABAAAAbA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuEQAAAAAAAO4RAAAAAAAAAAAAAAAA8L8"
				],
				[
					174,
					1,
					"right_delete",
					null,
					"AQAAAO4RAAAAAAAA7hEAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuEQAAAAAAAO4RAAAAAAAAAAAAAAAA8L8"
				],
				[
					175,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAO4RAAAAAAAA7xEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuEQAAAAAAAO4RAAAAAAAAAAAAAAAA8L8"
				],
				[
					176,
					1,
					"left_delete",
					null,
					"AQAAAO4RAAAAAAAA7hEAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADvEQAAAAAAAO8RAAAAAAAAAAAAAAAA8L8"
				],
				[
					177,
					1,
					"right_delete",
					null,
					"AQAAAO4RAAAAAAAA7hEAAAAAAAABAAAAew",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADuEQAAAAAAAO4RAAAAAAAAAAAAAAAA8L8"
				],
				[
					180,
					1,
					"left_delete",
					null,
					"AQAAABsSAAAAAAAAGxIAAAAAAAABAAAAfQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAcEgAAAAAAABwSAAAAAAAAAAAAAAAA8L8"
				],
				[
					182,
					1,
					"left_delete",
					null,
					"AQAAANMRAAAAAAAA0xEAAAAAAAABAAAAfQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUEQAAAAAAANQRAAAAAAAAAAAAAAAwfkA"
				]
			]
		},
		{
			"file": "examples/http-server.js",
			"settings":
			{
				"buffer_size": 1794,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					11,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAHEHAAAAAAAAcwcAAAAAAAAAAAAAHgcAAAAAAAAgBwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAeBwAAAAAAAHEHAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"insert",
					{
						"characters": "obj="
					},
					"BAAAAJcCAAAAAAAAmAIAAAAAAAAAAAAAmAIAAAAAAACZAgAAAAAAAAAAAACZAgAAAAAAAJoCAAAAAAAAAAAAAJoCAAAAAAAAmwIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACXAgAAAAAAAJcCAAAAAAAAAAAAAAAA8L8"
				],
				[
					22,
					3,
					"left_delete",
					null,
					"AwAAAJoCAAAAAAAAmgIAAAAAAAABAAAAPZkCAAAAAAAAmQIAAAAAAAABAAAAapgCAAAAAAAAmAIAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbAgAAAAAAAJsCAAAAAAAAAAAAAAAA8L8"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": "ptiopns"
					},
					"BwAAAJgCAAAAAAAAmQIAAAAAAAAAAAAAmQIAAAAAAACaAgAAAAAAAAAAAACaAgAAAAAAAJsCAAAAAAAAAAAAAJsCAAAAAAAAnAIAAAAAAAAAAAAAnAIAAAAAAACdAgAAAAAAAAAAAACdAgAAAAAAAJ4CAAAAAAAAAAAAAJ4CAAAAAAAAnwIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACYAgAAAAAAAJgCAAAAAAAAAAAAAAAA8L8"
				],
				[
					24,
					3,
					"left_delete",
					null,
					"AwAAAJ4CAAAAAAAAngIAAAAAAAABAAAAc50CAAAAAAAAnQIAAAAAAAABAAAAbpwCAAAAAAAAnAIAAAAAAAABAAAAcA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACfAgAAAAAAAJ8CAAAAAAAAAAAAAAAA8L8"
				],
				[
					25,
					1,
					"insert",
					{
						"characters": "ns="
					},
					"AwAAAJwCAAAAAAAAnQIAAAAAAAAAAAAAnQIAAAAAAACeAgAAAAAAAAAAAACeAgAAAAAAAJ8CAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcAgAAAAAAAJwCAAAAAAAAAAAAAAAA8L8"
				],
				[
					30,
					1,
					"insert",
					{
						"characters": "g√∂o"
					},
					"AwAAAJcCAAAAAAAAmAIAAAAAAAAAAAAAmAIAAAAAAACZAgAAAAAAAAAAAACZAgAAAAAAAJoCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACXAgAAAAAAAJcCAAAAAAAAAAAAAAAA8L8"
				],
				[
					31,
					1,
					"left_delete",
					null,
					"AQAAAJkCAAAAAAAAmQIAAAAAAAABAAAAbw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaAgAAAAAAAJoCAAAAAAAAAAAAAAAA8L8"
				],
				[
					32,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJkCAAAAAAAAmgIAAAAAAAAAAAAAmgIAAAAAAACcAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACZAgAAAAAAAJkCAAAAAAAAAAAAAAAA8L8"
				],
				[
					33,
					3,
					"left_delete",
					null,
					"AwAAAJoCAAAAAAAAmgIAAAAAAAACAAAAICCZAgAAAAAAAJkCAAAAAAAAAQAAAAqYAgAAAAAAAJgCAAAAAAAAAgAAAMO2",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcAgAAAAAAAJwCAAAAAAAAAAAAAAAA8L8"
				],
				[
					34,
					1,
					"insert",
					{
						"characters": "lobalThis."
					},
					"CgAAAJgCAAAAAAAAmQIAAAAAAAAAAAAAmQIAAAAAAACaAgAAAAAAAAAAAACaAgAAAAAAAJsCAAAAAAAAAAAAAJsCAAAAAAAAnAIAAAAAAAAAAAAAnAIAAAAAAACdAgAAAAAAAAAAAACdAgAAAAAAAJ4CAAAAAAAAAAAAAJ4CAAAAAAAAnwIAAAAAAAAAAAAAnwIAAAAAAACgAgAAAAAAAAAAAACgAgAAAAAAAKECAAAAAAAAAAAAAKECAAAAAAAAogIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACYAgAAAAAAAJgCAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": "LLL_ALL"
					},
					"BwAAACoCAAAAAAAAKwIAAAAAAAAAAAAAKwIAAAAAAAAsAgAAAAAAAAAAAAAsAgAAAAAAAC0CAAAAAAAAAAAAAC0CAAAAAAAALgIAAAAAAAAAAAAALgIAAAAAAAAvAgAAAAAAAAAAAAAvAgAAAAAAADACAAAAAAAAAAAAADACAAAAAAAAMQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAqAgAAAAAAACoCAAAAAAAAAAAAAAAA8L8"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": " |"
					},
					"AgAAADECAAAAAAAAMgIAAAAAAAAAAAAAMgIAAAAAAAAzAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAxAgAAAAAAADECAAAAAAAAAAAAAAAA8L8"
				],
				[
					53,
					2,
					"left_delete",
					null,
					"AgAAADsHAAAAAAAAOwcAAAAAAAABAAAAKjoHAAAAAAAAOgcAAAAAAAABAAAALw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA8BwAAAAAAADwHAAAAAAAAAAAAAAAA8L8"
				],
				[
					57,
					2,
					"right_delete",
					null,
					"AgAAAI0HAAAAAAAAjQcAAAAAAAABAAAAKo0HAAAAAAAAjQcAAAAAAAABAAAALw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACNBwAAAAAAAI0HAAAAAAAAAAAAAAAA8L8"
				],
				[
					60,
					1,
					"cut",
					null,
					"AQAAAPMGAAAAAAAA8wYAAAAAAAAqAAAAIGNvbnNvbGUubG9nKCdvbk1lc3NhZ2UnLCB3cy5mZCwgbXNnKTsKICAg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADzBgAAAAAAAB0HAAAAAAAAAAAAAAAAO0A"
				],
				[
					61,
					1,
					"paste",
					null,
					"AQAAAPMGAAAAAAAAHQcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADzBgAAAAAAAPMGAAAAAAAAAAAAAAAA8L8"
				],
				[
					63,
					1,
					"paste",
					null,
					"AQAAAFQHAAAAAAAAfgcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABUBwAAAAAAAFQHAAAAAAAAAAAAAAAAO0A"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": "onFd"
					},
					"BQAAAGIHAAAAAAAAYwcAAAAAAAAAAAAAYwcAAAAAAABjBwAAAAAAAAkAAABvbk1lc3NhZ2VjBwAAAAAAAGQHAAAAAAAAAAAAAGQHAAAAAAAAZQcAAAAAAAAAAAAAZQcAAAAAAABmBwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABiBwAAAAAAAGsHAAAAAAAAAAAAAAAA8L8"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": "fd"
					},
					"AwAAAGgHAAAAAAAAaQcAAAAAAAAAAAAAaQcAAAAAAABpBwAAAAAAAAsAAAAgd3MuZmQsIG1zZ2kHAAAAAAAAagcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABoBwAAAAAAAHMHAAAAAAAAAAAAAAAA8L8"
				],
				[
					74,
					1,
					"insert",
					{
						"characters": " ,wr,w"
					},
					"BgAAAGoHAAAAAAAAawcAAAAAAAAAAAAAawcAAAAAAABsBwAAAAAAAAAAAABsBwAAAAAAAG0HAAAAAAAAAAAAAG0HAAAAAAAAbgcAAAAAAAAAAAAAbgcAAAAAAABvBwAAAAAAAAAAAABvBwAAAAAAAHAHAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqBwAAAAAAAGoHAAAAAAAAAAAAAAAA8L8"
				],
				[
					75,
					4,
					"left_delete",
					null,
					"BAAAAG8HAAAAAAAAbwcAAAAAAAABAAAAd24HAAAAAAAAbgcAAAAAAAABAAAALG0HAAAAAAAAbQcAAAAAAAABAAAAcmwHAAAAAAAAbAcAAAAAAAABAAAAdw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABwBwAAAAAAAHAHAAAAAAAAAAAAAAAA8L8"
				],
				[
					76,
					1,
					"insert",
					{
						"characters": "rd,wr"
					},
					"BQAAAGwHAAAAAAAAbQcAAAAAAAAAAAAAbQcAAAAAAABuBwAAAAAAAAAAAABuBwAAAAAAAG8HAAAAAAAAAAAAAG8HAAAAAAAAcAcAAAAAAAAAAAAAcAcAAAAAAABxBwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABsBwAAAAAAAGwHAAAAAAAAAAAAAAAA8L8"
				],
				[
					82,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC1BwAAaW1wb3J0IHsgRm9ybVBhcnNlciwgR2VuZXJhdG9yLCBIYXNoLCBMTExfQUxMLCBMTExfQ0xJRU5ULCBMTExfREVCVUcsIExMTF9FUlIsIExMTF9FWFQsIExMTF9IRUFERVIsIExMTF9JTkZPLCBMTExfTEFURU5DWSwgTExMX05PVElDRSwgTExMX1BBUlNFUiwgTExMX1RIUkVBRCwgTExMX1VTRVIsIExMTF9XQVJOLCBNRVRIT0RfREVMRVRFLCBNRVRIT0RfR0VULCBNRVRIT0RfSEVBRCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX1BPU1QsIE1FVEhPRF9QVVQsIFJlcXVlc3QsIFJlc3BvbnNlLCBSaW5nYnVmZmVyLCBTb2NrZXQsIFVSTCwgY2xpZW50LCBmZXRjaCwgZ2V0U2Vzc2lvbnMsIGxvZ0xldmVscywgc2VydmVyLCBzZXRMb2cgfSBmcm9tICduZXQnOwppbXBvcnQgeyBzZXRSZWFkSGFuZGxlciwgc2V0V3JpdGVIYW5kbGVyIH0gZnJvbSAnb3MnOwppbXBvcnQgeyBDb25zb2xlIH0gZnJvbSAnY29uc29sZSc7CgpnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7IGluc3BlY3RPcHRpb25zOiB7IGNvbXBhY3Q6IDAgfSB9KTsKCnNldExvZyhMTExfQUxMIHwoTExMX05PVElDRSAtIDEpIHwgTExMX1VTRVIsIChsZXZlbCwgbWVzc2FnZSkgPT4gY29uc29sZS5sb2cobG9nTGV2ZWxzW2xldmVsXS5wYWRFbmQoMTApLCBtZXNzYWdlKSk7CgpzZXJ2ZXIoZ2xvYmFsVGhpcy5vcHRpb25zPXsKICBob3N0OiAnMC4wLjAuMCcsCiAgcG9ydDogJzg3NjUnLAogIGJsb2NrOiBmYWxzZSwKICB0bHM6IHRydWUsCiAgcHJvdG9jb2w6ICdodHRwJywKICBtb3VudHM6IHsKICAgICcvJzogWycvJywgJy4nLCAnaW5kZXguaHRtbCddLAogICAgJy80MDQuaHRtbCc6IGZ1bmN0aW9uKiAocmVxLCByZXMpIHsKICAgICAgY29uc29sZS5sb2coJy80MDQuaHRtbCcsIHsgcmVxLCByZXMgfSk7CiAgICAgIHlpZWxkICc8aHRtbD48aGVhZD48bWV0YSBjaGFyc2V0PXV0Zi04IGh0dHAtZXF1aXY9IkNvbnRlbnQtTGFuZ3VhZ2UiIGNvbnRlbnQ9ImVuIi8+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Vycm9yLmNzcyIvPjwvaGVhZD48Ym9keT48aDE+NDAzPC9oMT48L2JvZHk+PC9odG1sPic7CiAgICB9LAogICAgKmdlbmVyYXRvcihyZXEsIHJlcykgewogICAgICBjb25zb2xlLmxvZygnL2dlbmVyYXRvcicsIHsgcmVxLCByZXMgfSk7CiAgICAgIHlpZWxkICdUaGlzJzsKICAgICAgeWllbGQgJyAnOwogICAgICB5aWVsZCAnaXMnOwogICAgICB5aWVsZCAnICc7CiAgICAgIHlpZWxkICdhJzsKICAgICAgeWllbGQgJyAnOwogICAgICB5aWVsZCAnZ2VuZXJhdGVkJzsKICAgICAgeWllbGQgJyAnOwogICAgICB5aWVsZCAncmVzcG9uc2UnOwogICAgICB5aWVsZCAnXG4nOwogICAgfQogIH0sCiAgb25Db25uZWN0KHdzLCByZXEpIHsKICAgIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgfSwKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikgewogICAgY29uc29sZS5sb2coJ29uQ2xvc2UnLCB7IHdzLCBzdGF0dXMsIHJlYXNvbiB9KTsKICAgIHdzLmNsb3NlKHN0YXR1cyk7CiAgfSwKICBvbkVycm9yKHdzLCBlcnJvcikgewogICAgY29uc29sZS5sb2coJ29uRXJyb3InLCB7IHdzLCBlcnJvciB9KTsKICB9LAogIG9uSHR0cCh3cywgcmVxLCByZXNwKSB7CiAgICBjb25zb2xlLmxvZygnb25IdHRwJywgeyByZXEsIHJlc3AgfSk7CiAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsgcmVxLCByZXNwIH0pOwogIH0sCiAgb25NZXNzYWdlKHdzLCBtc2cpIHsKICAgIGNvbnNvbGUubG9nKCdvbk1lc3NhZ2UnLCB3cy5mZCwgbXNnKTsKICAgIHdzLnNlbmQoJ0VDSE86ICcgKyBtc2cpOwogIH0sCiAgb25GZChmZCwgcmQsIHdyKSB7CiAgICBjb25zb2xlLmxvZygnb25GZCcsZmQgLHJkLHdyKTsKICAgIHNldFJlYWRIYW5kbGVyKGZkLCByZCk7CiAgICBzZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICB9Cn0pOwoAAAAAAAAAACIIAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABRBwAAAAAAAFEHAAAAAAAAAAAAAAAA8L8"
				],
				[
					93,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAABkIAAAAAAAAGwgAAAAAAAAAAAAAlwcAAAAAAACZBwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACXBwAAAAAAABkIAAAAAAAAAAAAAACAQUA"
				],
				[
					106,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAADMCAAAAAAAANQIAAAAAAAAAAAAAKgIAAAAAAAAsAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAqAgAAAAAAADMCAAAAAAAAAAAAAAAA8L8"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "j"
					},
					"AQAAAMoEAAAAAAAAywQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAygQAAAAAAADKBAAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"left_delete",
					null,
					"AQAAAMoEAAAAAAAAygQAAAAAAAABAAAAag",
					"AQAAAAAAAAABAAAAywQAAAAAAADLBAAAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					4,
					"join_lines",
					null,
					"DAAAANYEAAAAAAAA1gQAAAAAAAABAAAACtYEAAAAAAAA1gQAAAAAAAAIAAAAICAgICAgICDWBAAAAAAAANcEAAAAAAAAAAAAAOEEAAAAAAAA4QQAAAAAAAABAAAACuEEAAAAAAAA4QQAAAAAAAAIAAAAICAgICAgICDhBAAAAAAAAOIEAAAAAAAAAAAAAO0EAAAAAAAA7QQAAAAAAAABAAAACu0EAAAAAAAA7QQAAAAAAAAIAAAAICAgICAgICDtBAAAAAAAAO4EAAAAAAAAAAAAAPgEAAAAAAAA+AQAAAAAAAABAAAACvgEAAAAAAAA+AQAAAAAAAAIAAAAICAgICAgICD4BAAAAAAAAPkEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAygQAAAAAAADKBAAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					4,
					"join_lines",
					null,
					"DAAAABYFAAAAAAAAFgUAAAAAAAABAAAAChYFAAAAAAAAFgUAAAAAAAAIAAAAICAgICAgICAWBQAAAAAAABcFAAAAAAAAAAAAACkFAAAAAAAAKQUAAAAAAAABAAAACikFAAAAAAAAKQUAAAAAAAAIAAAAICAgICAgICApBQAAAAAAACoFAAAAAAAAAAAAADQFAAAAAAAANAUAAAAAAAABAAAACjQFAAAAAAAANAUAAAAAAAAIAAAAICAgICAgICA0BQAAAAAAADUFAAAAAAAAAAAAAEYFAAAAAAAARgUAAAAAAAABAAAACkYFAAAAAAAARgUAAAAAAAAIAAAAICAgICAgICBGBQAAAAAAAEcFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFgUAAAAAAAAWBQAAAAAAAAAAAAAAgH9A"
				],
				[
					31,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADqBwAAaW1wb3J0IHsgRm9ybVBhcnNlciwgR2VuZXJhdG9yLCBIYXNoLCBMTExfQUxMLCBMTExfQ0xJRU5ULCBMTExfREVCVUcsIExMTF9FUlIsIExMTF9FWFQsIExMTF9IRUFERVIsIExMTF9JTkZPLCBMTExfTEFURU5DWSwgTExMX05PVElDRSwgTExMX1BBUlNFUiwgTExMX1RIUkVBRCwgTExMX1VTRVIsIExMTF9XQVJOLCBNRVRIT0RfREVMRVRFLCBNRVRIT0RfR0VULCBNRVRIT0RfSEVBRCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX1BPU1QsIE1FVEhPRF9QVVQsIFJlcXVlc3QsIFJlc3BvbnNlLCBSaW5nYnVmZmVyLCBTb2NrZXQsIFVSTCwgY2xpZW50LCBmZXRjaCwgZ2V0U2Vzc2lvbnMsIGxvZ0xldmVscywgc2VydmVyLCBzZXRMb2cgfSBmcm9tICduZXQnOwppbXBvcnQgeyBzZXRSZWFkSGFuZGxlciwgc2V0V3JpdGVIYW5kbGVyIH0gZnJvbSAnb3MnOwppbXBvcnQgeyBDb25zb2xlIH0gZnJvbSAnY29uc29sZSc7CgpnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7IGluc3BlY3RPcHRpb25zOiB7IGNvbXBhY3Q6IDAgfSB9KTsKCnNldExvZygvKkxMTF9BTEwgfCovIChMTExfTk9USUNFIC0gMSkgfCBMTExfVVNFUiwgKGxldmVsLCBtZXNzYWdlKSA9PiBjb25zb2xlLmxvZyhsb2dMZXZlbHNbbGV2ZWxdLnBhZEVuZCgxMCksIG1lc3NhZ2UpKTsKCnNlcnZlcigKICAoZ2xvYmFsVGhpcy5vcHRpb25zID0gewogICAgaG9zdDogJzAuMC4wLjAnLAogICAgcG9ydDogJzg3NjUnLAogICAgYmxvY2s6IGZhbHNlLAogICAgdGxzOiB0cnVlLAogICAgcHJvdG9jb2w6ICdodHRwJywKICAgIG1vdW50czogewogICAgICAnLyc6IFsnLycsICcuJywgJ2luZGV4Lmh0bWwnXSwKICAgICAgJy80MDQuaHRtbCc6IGZ1bmN0aW9uKiAocmVxLCByZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygnLzQwNC5odG1sJywgeyByZXEsIHJlcyB9KTsKICAgICAgICB5aWVsZCAnPGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PSJDb250ZW50LUxhbmd1YWdlIiBjb250ZW50PSJlbiIvPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9lcnJvci5jc3MiLz48L2hlYWQ+PGJvZHk+PGgxPjQwMzwvaDE+PC9ib2R5PjwvaHRtbD4nOwogICAgICB9LAogICAgICAqZ2VuZXJhdG9yKHJlcSwgcmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJy9nZW5lcmF0b3InLCB7IHJlcSwgcmVzIH0pOwogICAgICAgIHlpZWxkICdUaGlzJzsgeWllbGQgJyAnOyB5aWVsZCAnaXMnOyB5aWVsZCAnICc7IHlpZWxkICdhJzsKICAgICAgICB5aWVsZCAnICc7IHlpZWxkICdnZW5lcmF0ZWQnOyB5aWVsZCAnICc7IHlpZWxkICdyZXNwb25zZSc7IHlpZWxkICdcbic7CiAgICAgIH0KICAgIH0sCiAgICBvbkNvbm5lY3Qod3MsIHJlcSkgewogICAgICBjb25zb2xlLmxvZygnb25Db25uZWN0JywgeyB3cywgcmVxIH0pOwogICAgfSwKICAgIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkNsb3NlJywgeyB3cywgc3RhdHVzLCByZWFzb24gfSk7CiAgICAgIHdzLmNsb3NlKHN0YXR1cyk7CiAgICB9LAogICAgb25FcnJvcih3cywgZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coJ29uRXJyb3InLCB7IHdzLCBlcnJvciB9KTsKICAgIH0sCiAgICBvbkh0dHAod3MsIHJlcSwgcmVzcCkgewogICAgICBjb25zb2xlLmxvZygnb25IdHRwJywgeyByZXEsIHJlc3AgfSk7CiAgICAgIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywgeyByZXEsIHJlc3AgfSk7CiAgICB9LAogICAgb25NZXNzYWdlKHdzLCBtc2cpIHsKICAgICAgY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHdzLmZkLCBtc2cpOwogICAgICB3cy5zZW5kKCdFQ0hPOiAnICsgbXNnKTsKICAgIH0vKiwKICAgIG9uRmQoZmQsIHJkLCB3cikgewogICAgICBjb25zb2xlLmxvZygnb25GZCcsIGZkLCByZCwgd3IpOwogICAgICBzZXRSZWFkSGFuZGxlcihmZCwgcmQpOwogICAgICBzZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICAgIH0qLwogIH0pCik7CgAAAAAAAAAAuAYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtwEAAAAAAAC3AQAAAAAAAAAAAAAA2IJA"
				],
				[
					40,
					1,
					"cut",
					null,
					"AQAAAIYAAAAAAAAAhgAAAAAAAAAjAAAAaW1wb3J0IHsgQ29uc29sZSB9IGZyb20gJ2NvbnNvbGUnOwo",
					"AQAAAAAAAAABAAAAhgAAAAAAAACpAAAAAAAAAAAAAAAAAAAA"
				],
				[
					41,
					1,
					"paste",
					null,
					"AQAAAIYAAAAAAAAAqQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhgAAAAAAAACGAAAAAAAAAAAAAAAAAPC/"
				],
				[
					46,
					1,
					"insert",
					{
						"characters": "import"
					},
					"BgAAAL8AAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADBAAAAAAAAAAAAAADBAAAAAAAAAMIAAAAAAAAAAAAAAMIAAAAAAAAAwwAAAAAAAAAAAAAAwwAAAAAAAADEAAAAAAAAAAAAAADEAAAAAAAAAMUAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvwAAAAAAAAC/AAAAAAAAAAAAAAAAAPC/"
				],
				[
					47,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMUAAAAAAAAAxgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxQAAAAAAAADFAAAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					7,
					"left_delete",
					null,
					"BwAAAMUAAAAAAAAAxQAAAAAAAAABAAAAIMQAAAAAAAAAxAAAAAAAAAABAAAAdMMAAAAAAAAAwwAAAAAAAAABAAAAcsIAAAAAAAAAwgAAAAAAAAABAAAAb8EAAAAAAAAAwQAAAAAAAAABAAAAcMAAAAAAAAAAwAAAAAAAAAABAAAAbb8AAAAAAAAAvwAAAAAAAAABAAAAaQ",
					"AQAAAAAAAAABAAAAxgAAAAAAAADGAAAAAAAAAAAAAAAAAPC/"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "\nimport"
					},
					"BwAAAKkAAAAAAAAAqgAAAAAAAAAAAAAAqgAAAAAAAACrAAAAAAAAAAAAAACrAAAAAAAAAKwAAAAAAAAAAAAAAKwAAAAAAAAArQAAAAAAAAAAAAAArQAAAAAAAACuAAAAAAAAAAAAAACuAAAAAAAAAK8AAAAAAAAAAAAAAK8AAAAAAAAAsAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqQAAAAAAAACpAAAAAAAAAAAAAAAAoGdA"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALAAAAAAAAAAsQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					7,
					"left_delete",
					null,
					"BwAAALAAAAAAAAAAsAAAAAAAAAABAAAAIK8AAAAAAAAArwAAAAAAAAABAAAAdK4AAAAAAAAArgAAAAAAAAABAAAAcq0AAAAAAAAArQAAAAAAAAABAAAAb6wAAAAAAAAArAAAAAAAAAABAAAAcKsAAAAAAAAAqwAAAAAAAAABAAAAbaoAAAAAAAAAqgAAAAAAAAABAAAAaQ",
					"AQAAAAAAAAABAAAAsQAAAAAAAACxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": "import"
					},
					"BgAAAKoAAAAAAAAAqwAAAAAAAAAAAAAAqwAAAAAAAACsAAAAAAAAAAAAAACsAAAAAAAAAK0AAAAAAAAAAAAAAK0AAAAAAAAArgAAAAAAAAAAAAAArgAAAAAAAACvAAAAAAAAAAAAAACvAAAAAAAAALAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqgAAAAAAAACqAAAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALAAAAAAAAAAsgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAALEAAAAAAAAAswAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQAAAAAAAACxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "consoler"
					},
					"CAAAALIAAAAAAAAAswAAAAAAAAAAAAAAswAAAAAAAAC0AAAAAAAAAAAAAAC0AAAAAAAAALUAAAAAAAAAAAAAALUAAAAAAAAAtgAAAAAAAAAAAAAAtgAAAAAAAAC3AAAAAAAAAAAAAAC3AAAAAAAAALgAAAAAAAAAAAAAALgAAAAAAAAAuQAAAAAAAAAAAAAAuQAAAAAAAAC6AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsgAAAAAAAACyAAAAAAAAAAAAAAAAAPC/"
				],
				[
					62,
					2,
					"left_delete",
					null,
					"AgAAALoAAAAAAAAAugAAAAAAAAABAAAAJ7kAAAAAAAAAuQAAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAAuwAAAAAAAAC7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					63,
					1,
					"insert",
					{
						"characters": "'.then"
					},
					"BgAAALkAAAAAAAAAugAAAAAAAAAAAAAAugAAAAAAAAC7AAAAAAAAAAAAAAC7AAAAAAAAALwAAAAAAAAAAAAAALwAAAAAAAAAvQAAAAAAAAAAAAAAvQAAAAAAAAC+AAAAAAAAAAAAAAC+AAAAAAAAAL8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQAAAAAAAAC5AAAAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					5,
					"left_delete",
					null,
					"BQAAAL4AAAAAAAAAvgAAAAAAAAABAAAAbr0AAAAAAAAAvQAAAAAAAAABAAAAZbwAAAAAAAAAvAAAAAAAAAABAAAAaLsAAAAAAAAAuwAAAAAAAAABAAAAdLoAAAAAAAAAugAAAAAAAAABAAAALg",
					"AQAAAAAAAAABAAAAvwAAAAAAAAC/AAAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": ".trh"
					},
					"BAAAALsAAAAAAAAAvAAAAAAAAAAAAAAAvAAAAAAAAAC9AAAAAAAAAAAAAAC9AAAAAAAAAL4AAAAAAAAAAAAAAL4AAAAAAAAAvwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuwAAAAAAAAC7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					67,
					2,
					"left_delete",
					null,
					"AgAAAL4AAAAAAAAAvgAAAAAAAAABAAAAaL0AAAAAAAAAvQAAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAAvwAAAAAAAAC/AAAAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": "hemn"
					},
					"BAAAAL0AAAAAAAAAvgAAAAAAAAAAAAAAvgAAAAAAAAC/AAAAAAAAAAAAAAC/AAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvQAAAAAAAAC9AAAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					2,
					"left_delete",
					null,
					"AgAAAMAAAAAAAAAAwAAAAAAAAAABAAAAbr8AAAAAAAAAvwAAAAAAAAABAAAAbQ",
					"AQAAAAAAAAABAAAAwQAAAAAAAADBAAAAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "n"
					},
					"AQAAAL8AAAAAAAAAwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvwAAAAAAAAC/AAAAAAAAAAAAAAAAAPC/"
				],
				[
					71,
					2,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AgAAAMAAAAAAAAAAwgAAAAAAAAAAAAAAwQAAAAAAAADDAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAMIAAAAAAAAAxAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgAAAAAAAADCAAAAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": "COnsole"
					},
					"BwAAAMMAAAAAAAAAxAAAAAAAAAAAAAAAxAAAAAAAAADFAAAAAAAAAAAAAADFAAAAAAAAAMYAAAAAAAAAAAAAAMYAAAAAAAAAxwAAAAAAAAAAAAAAxwAAAAAAAADIAAAAAAAAAAAAAADIAAAAAAAAAMkAAAAAAAAAAAAAAMkAAAAAAAAAygAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwwAAAAAAAADDAAAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					6,
					"left_delete",
					null,
					"BgAAAMkAAAAAAAAAyQAAAAAAAAABAAAAZcgAAAAAAAAAyAAAAAAAAAABAAAAbMcAAAAAAAAAxwAAAAAAAAABAAAAb8YAAAAAAAAAxgAAAAAAAAABAAAAc8UAAAAAAAAAxQAAAAAAAAABAAAAbsQAAAAAAAAAxAAAAAAAAAABAAAATw",
					"AQAAAAAAAAABAAAAygAAAAAAAADKAAAAAAAAAAAAAAAAAPC/"
				],
				[
					75,
					1,
					"insert",
					{
						"characters": "onsole)"
					},
					"BwAAAMQAAAAAAAAAxQAAAAAAAAAAAAAAxQAAAAAAAADGAAAAAAAAAAAAAADGAAAAAAAAAMcAAAAAAAAAAAAAAMcAAAAAAAAAyAAAAAAAAAAAAAAAyAAAAAAAAADJAAAAAAAAAAAAAADJAAAAAAAAAMoAAAAAAAAAAAAAAMoAAAAAAAAAywAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxAAAAAAAAADEAAAAAAAAAAAAAAAAAPC/"
				],
				[
					76,
					1,
					"left_delete",
					null,
					"AQAAAMoAAAAAAAAAygAAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAywAAAAAAAADLAAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert",
					{
						"characters": " >"
					},
					"AgAAAMwAAAAAAAAAzQAAAAAAAAAAAAAAzQAAAAAAAADOAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzAAAAAAAAADMAAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"left_delete",
					null,
					"AQAAAM0AAAAAAAAAzQAAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAAzgAAAAAAAADOAAAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"insert",
					{
						"characters": "=>"
					},
					"AgAAAM0AAAAAAAAAzgAAAAAAAAAAAAAAzgAAAAAAAADPAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzQAAAAAAAADNAAAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAM8AAAAAAAAA0AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzwAAAAAAAADPAAAAAAAAAAAAAAAAAPC/"
				],
				[
					82,
					3,
					"right_delete",
					null,
					"AwAAANAAAAAAAAAA0AAAAAAAAAABAAAAKdAAAAAAAAAA0AAAAAAAAAABAAAACtAAAAAAAAAA0AAAAAAAAAABAAAAZw",
					"AQAAAAAAAAABAAAA0AAAAAAAAADQAAAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"insert",
					{
						"characters": "gh"
					},
					"AgAAANAAAAAAAAAA0QAAAAAAAAAAAAAA0QAAAAAAAADSAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0AAAAAAAAADQAAAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"left_delete",
					null,
					"AQAAANEAAAAAAAAA0QAAAAAAAAABAAAAaA",
					"AQAAAAAAAAABAAAA0gAAAAAAAADSAAAAAAAAAAAAAAAAAPC/"
				],
				[
					87,
					1,
					"left_delete",
					null,
					"AQAAABQBAAAAAAAAFAEAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAAFQEAAAAAAAAVAQAAAAAAAAAAAAAAAPC/"
				],
				[
					88,
					1,
					"insert",
					{
						"characters": ");"
					},
					"AgAAABQBAAAAAAAAFQEAAAAAAAAAAAAAFQEAAAAAAAAWAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFAEAAAAAAAAUAQAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"cut",
					null,
					"AQAAAIYAAAAAAAAAhgAAAAAAAAAjAAAAaW1wb3J0IHsgQ29uc29sZSB9IGZyb20gJ2NvbnNvbGUnOwo",
					"AQAAAAAAAAABAAAAhgAAAAAAAACpAAAAAAAAAAAAAAAAAAAA"
				],
				[
					104,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC8BgAAaW1wb3J0IHsgTExMX0FMTCwgTExMX05PVElDRSwgTExMX1VTRVIsIGxvZ0xldmVscywgc2VydmVyLCBzZXRMb2cgfSBmcm9tICduZXQnOwppbXBvcnQgeyBzZXRSZWFkSGFuZGxlciwgc2V0V3JpdGVIYW5kbGVyIH0gZnJvbSAnb3MnOwoKaW1wb3J0KCdjb25zb2xlJykudGhlbigoe0NvbnNvbGV9KSA9PiBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7IGluc3BlY3RPcHRpb25zOiB7IGNvbXBhY3Q6IDAgfSB9KSk7CgpzZXRMb2coLypMTExfQUxMIHwqLyAoTExMX05PVElDRSAtIDEpIHwgTExMX1VTRVIsIChsZXZlbCwgbWVzc2FnZSkgPT4gY29uc29sZS5sb2cobG9nTGV2ZWxzW2xldmVsXS5wYWRFbmQoMTApLCBtZXNzYWdlKSk7CgpzZXJ2ZXIoCiAgKGdsb2JhbFRoaXMub3B0aW9ucyA9IHsKICAgIGhvc3Q6ICcwLjAuMC4wJywKICAgIHBvcnQ6ICc4NzY1JywKICAgIGJsb2NrOiBmYWxzZSwKICAgIHRsczogdHJ1ZSwKICAgIHByb3RvY29sOiAnaHR0cCcsCiAgICBtb3VudHM6IHsKICAgICAgJy8nOiBbJy8nLCAnLicsICdpbmRleC5odG1sJ10sCiAgICAgICcvNDA0Lmh0bWwnOiBmdW5jdGlvbiogKHJlcSwgcmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJy80MDQuaHRtbCcsIHsgcmVxLCByZXMgfSk7CiAgICAgICAgeWllbGQgJzxodG1sPjxoZWFkPjxtZXRhIGNoYXJzZXQ9dXRmLTggaHR0cC1lcXVpdj0iQ29udGVudC1MYW5ndWFnZSIgY29udGVudD0iZW4iLz48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvZXJyb3IuY3NzIi8+PC9oZWFkPjxib2R5PjxoMT40MDM8L2gxPjwvYm9keT48L2h0bWw+JzsKICAgICAgfSwKICAgICAgKmdlbmVyYXRvcihyZXEsIHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCcvZ2VuZXJhdG9yJywgeyByZXEsIHJlcyB9KTsKICAgICAgICB5aWVsZCAnVGhpcyc7IHlpZWxkICcgJzsgeWllbGQgJ2lzJzsgeWllbGQgJyAnOyB5aWVsZCAnYSc7CiAgICAgICAgeWllbGQgJyAnOyB5aWVsZCAnZ2VuZXJhdGVkJzsgeWllbGQgJyAnOyB5aWVsZCAncmVzcG9uc2UnOyB5aWVsZCAnXG4nOwogICAgICB9CiAgICB9LAogICAgb25Db25uZWN0KHdzLCByZXEpIHsKICAgICAgY29uc29sZS5sb2coJ29uQ29ubmVjdCcsIHsgd3MsIHJlcSB9KTsKICAgIH0sCiAgICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbikgewogICAgICBjb25zb2xlLmxvZygnb25DbG9zZScsIHsgd3MsIHN0YXR1cywgcmVhc29uIH0pOwogICAgICB3cy5jbG9zZShzdGF0dXMpOwogICAgfSwKICAgIG9uRXJyb3Iod3MsIGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkVycm9yJywgeyB3cywgZXJyb3IgfSk7CiAgICB9LAogICAgb25IdHRwKHdzLCByZXEsIHJlc3ApIHsKICAgICAgY29uc29sZS5sb2coJ29uSHR0cCcsIHsgcmVxLCByZXNwIH0pOwogICAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsgcmVxLCByZXNwIH0pOwogICAgfSwKICAgIG9uTWVzc2FnZSh3cywgbXNnKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbk1lc3NhZ2UnLCB3cy5mZCwgbXNnKTsKICAgICAgd3Muc2VuZCgnRUNITzogJyArIG1zZyk7CiAgICB9LyosCiAgICBvbkZkKGZkLCByZCwgd3IpIHsKICAgICAgY29uc29sZS5sb2coJ29uRmQnLCBmZCwgcmQsIHdyKTsKICAgICAgc2V0UmVhZEhhbmRsZXIoZmQsIHJkKTsKICAgICAgc2V0V3JpdGVIYW5kbGVyKGZkLCB3cik7CiAgICB9Ki8KICB9KQopOwoAAAAAAAAAAAEHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9AAAAAAAAAD0AAAAAAAAAAAAAAAAAAAA"
				],
				[
					125,
					1,
					"cut",
					null,
					"AQAAAFAAAAAAAAAAUAAAAAAAAAA2AAAAaW1wb3J0IHsgc2V0UmVhZEhhbmRsZXIsIHNldFdyaXRlSGFuZGxlciB9IGZyb20gJ29zJzsK",
					"AQAAAAAAAAABAAAAUAAAAAAAAACGAAAAAAAAAAAAAAAAAAAA"
				],
				[
					126,
					1,
					"paste",
					null,
					"AQAAAFAAAAAAAAAAhgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAPC/"
				],
				[
					131,
					3,
					"left_delete",
					null,
					"AwAAAHMGAAAAAAAAcwYAAAAAAAABAAAAKnIGAAAAAAAAcgYAAAAAAAABAAAAL3EGAAAAAAAAcQYAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAdAYAAAAAAAB0BgAAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					2,
					"right_delete",
					null,
					"AgAAAPMGAAAAAAAA8wYAAAAAAAABAAAAKvMGAAAAAAAA8wYAAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAA8wYAAAAAAADzBgAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"left_delete",
					null,
					"AQAAAK8AAAAAAAAArwAAAAAAAAABAAAAKA",
					"AQAAAAAAAAABAAAAsAAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"insert",
					{
						"characters": "{"
					},
					"AQAAAK8AAAAAAAAAsAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArwAAAAAAAACvAAAAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALAAAAAAAAAAsQAAAAAAAAAAAAAAsQAAAAAAAACzAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					151,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAPcAAAAAAAAA+AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wAAAAAAAAD3AAAAAAAAAAAAAAAAAPC/"
				],
				[
					152,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAPgAAAAAAAAA+QAAAAAAAAAAAAAA+QAAAAAAAAD7AAAAAAAAAAAAAAD7AAAAAAAAAPwAAAAAAAAAAAAAAPkAAAAAAAAA+QAAAAAAAAACAAAAICD5AAAAAAAAAPkAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+AAAAAAAAAD4AAAAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"left_delete",
					null,
					"AQAAAPoAAAAAAAAA+gAAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAA+wAAAAAAAAD7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					160,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAABBwAAaW1wb3J0IHsgTExMX0FMTCwgTExMX05PVElDRSwgTExMX1VTRVIsIGxvZ0xldmVscywgc2VydmVyLCBzZXRMb2cgfSBmcm9tICduZXQnOwppbXBvcnQgeyBzZXRSZWFkSGFuZGxlciwgc2V0V3JpdGVIYW5kbGVyIH0gZnJvbSAnb3MnOwoKaW1wb3J0KCdjb25zb2xlJykudGhlbigoeyBDb25zb2xlIH0pID0+IHsKICBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7IGluc3BlY3RPcHRpb25zOiB7IGNvbXBhY3Q6IDAgfSB9KTsKfSk7CgpzZXRMb2coLypMTExfQUxMIHwqLyAoTExMX05PVElDRSAtIDEpIHwgTExMX1VTRVIsIChsZXZlbCwgbWVzc2FnZSkgPT4gY29uc29sZS5sb2cobG9nTGV2ZWxzW2xldmVsXS5wYWRFbmQoMTApLCBtZXNzYWdlKSk7CgpzZXJ2ZXIoCiAgKGdsb2JhbFRoaXMub3B0aW9ucyA9IHsKICAgIGhvc3Q6ICcwLjAuMC4wJywKICAgIHBvcnQ6ICc4NzY1JywKICAgIGJsb2NrOiBmYWxzZSwKICAgIHRsczogdHJ1ZSwKICAgIHByb3RvY29sOiAnaHR0cCcsCiAgICBtb3VudHM6IHsKICAgICAgJy8nOiBbJy8nLCAnLicsICdpbmRleC5odG1sJ10sCiAgICAgICcvNDA0Lmh0bWwnOiBmdW5jdGlvbiogKHJlcSwgcmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJy80MDQuaHRtbCcsIHsgcmVxLCByZXMgfSk7CiAgICAgICAgeWllbGQgJzxodG1sPjxoZWFkPjxtZXRhIGNoYXJzZXQ9dXRmLTggaHR0cC1lcXVpdj0iQ29udGVudC1MYW5ndWFnZSIgY29udGVudD0iZW4iLz48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvZXJyb3IuY3NzIi8+PC9oZWFkPjxib2R5PjxoMT40MDM8L2gxPjwvYm9keT48L2h0bWw+JzsKICAgICAgfSwKICAgICAgKmdlbmVyYXRvcihyZXEsIHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCcvZ2VuZXJhdG9yJywgeyByZXEsIHJlcyB9KTsKICAgICAgICB5aWVsZCAnVGhpcyc7CiAgICAgICAgeWllbGQgJyAnOwogICAgICAgIHlpZWxkICdpcyc7CiAgICAgICAgeWllbGQgJyAnOwogICAgICAgIHlpZWxkICdhJzsKICAgICAgICB5aWVsZCAnICc7CiAgICAgICAgeWllbGQgJ2dlbmVyYXRlZCc7CiAgICAgICAgeWllbGQgJyAnOwogICAgICAgIHlpZWxkICdyZXNwb25zZSc7CiAgICAgICAgeWllbGQgJ1xuJzsKICAgICAgfQogICAgfSwKICAgIG9uQ29ubmVjdCh3cywgcmVxKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkNvbm5lY3QnLCB7IHdzLCByZXEgfSk7CiAgICB9LAogICAgb25DbG9zZSh3cywgc3RhdHVzLCByZWFzb24pIHsKICAgICAgY29uc29sZS5sb2coJ29uQ2xvc2UnLCB7IHdzLCBzdGF0dXMsIHJlYXNvbiB9KTsKICAgICAgd3MuY2xvc2Uoc3RhdHVzKTsKICAgIH0sCiAgICBvbkVycm9yKHdzLCBlcnJvcikgewogICAgICBjb25zb2xlLmxvZygnb25FcnJvcicsIHsgd3MsIGVycm9yIH0pOwogICAgfSwKICAgIG9uSHR0cCh3cywgcmVxLCByZXNwKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkh0dHAnLCB7IHJlcSwgcmVzcCB9KTsKICAgICAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7IHJlcSwgcmVzcCB9KTsKICAgIH0sCiAgICBvbk1lc3NhZ2Uod3MsIG1zZykgewogICAgICBjb25zb2xlLmxvZygnb25NZXNzYWdlJywgd3MuZmQsIG1zZyk7CiAgICAgIHdzLnNlbmQoJ0VDSE86ICcgKyBtc2cpOwogICAgfSwKICAgIG9uRmQoZmQsIHJkLCB3cikgewogICAgICBjb25zb2xlLmxvZygnb25GZCcsIGZkLCByZCwgd3IpOwogICAgICBzZXRSZWFkSGFuZGxlcihmZCwgcmQpOwogICAgICBzZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICAgIH0KICB9KQopOwoAAAAAAAAAAP8GAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/QAAAAAAAAD9AAAAAAAAAAAAAAAAACJA"
				],
				[
					162,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD/BgAAaW1wb3J0IHsgTExMX0FMTCwgTExMX05PVElDRSwgTExMX1VTRVIsIGxvZ0xldmVscywgc2VydmVyLCBzZXRMb2cgfSBmcm9tICduZXQnOwppbXBvcnQgeyBzZXRSZWFkSGFuZGxlciwgc2V0V3JpdGVIYW5kbGVyIH0gZnJvbSAnb3MnOwoKaW1wb3J0KCdjb25zb2xlJykudGhlbigoeyBDb25zb2xlIH0pID0+IHsgZ2xvYmFsVGhpcy5jb25zb2xlID0gbmV3IENvbnNvbGUoeyBpbnNwZWN0T3B0aW9uczogeyBjb21wYWN0OiAwIH0gfSk7Cn0pOwoKc2V0TG9nKC8qTExMX0FMTCB8Ki8gKExMTF9OT1RJQ0UgLSAxKSB8IExMTF9VU0VSLCAobGV2ZWwsIG1lc3NhZ2UpID0+IGNvbnNvbGUubG9nKGxvZ0xldmVsc1tsZXZlbF0ucGFkRW5kKDEwKSwgbWVzc2FnZSkpOwoKc2VydmVyKAogIChnbG9iYWxUaGlzLm9wdGlvbnMgPSB7CiAgICBob3N0OiAnMC4wLjAuMCcsCiAgICBwb3J0OiAnODc2NScsCiAgICBibG9jazogZmFsc2UsCiAgICB0bHM6IHRydWUsCiAgICBwcm90b2NvbDogJ2h0dHAnLAogICAgbW91bnRzOiB7CiAgICAgICcvJzogWycvJywgJy4nLCAnaW5kZXguaHRtbCddLAogICAgICAnLzQwNC5odG1sJzogZnVuY3Rpb24qIChyZXEsIHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCcvNDA0Lmh0bWwnLCB7IHJlcSwgcmVzIH0pOwogICAgICAgIHlpZWxkICc8aHRtbD48aGVhZD48bWV0YSBjaGFyc2V0PXV0Zi04IGh0dHAtZXF1aXY9IkNvbnRlbnQtTGFuZ3VhZ2UiIGNvbnRlbnQ9ImVuIi8+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Vycm9yLmNzcyIvPjwvaGVhZD48Ym9keT48aDE+NDAzPC9oMT48L2JvZHk+PC9odG1sPic7CiAgICAgIH0sCiAgICAgICpnZW5lcmF0b3IocmVxLCByZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygnL2dlbmVyYXRvcicsIHsgcmVxLCByZXMgfSk7CiAgICAgICAgeWllbGQgJ1RoaXMnOwogICAgICAgIHlpZWxkICcgJzsKICAgICAgICB5aWVsZCAnaXMnOwogICAgICAgIHlpZWxkICcgJzsKICAgICAgICB5aWVsZCAnYSc7CiAgICAgICAgeWllbGQgJyAnOwogICAgICAgIHlpZWxkICdnZW5lcmF0ZWQnOwogICAgICAgIHlpZWxkICcgJzsKICAgICAgICB5aWVsZCAncmVzcG9uc2UnOwogICAgICAgIHlpZWxkICdcbic7CiAgICAgIH0KICAgIH0sCiAgICBvbkNvbm5lY3Qod3MsIHJlcSkgewogICAgICBjb25zb2xlLmxvZygnb25Db25uZWN0JywgeyB3cywgcmVxIH0pOwogICAgfSwKICAgIG9uQ2xvc2Uod3MsIHN0YXR1cywgcmVhc29uKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkNsb3NlJywgeyB3cywgc3RhdHVzLCByZWFzb24gfSk7CiAgICAgIHdzLmNsb3NlKHN0YXR1cyk7CiAgICB9LAogICAgb25FcnJvcih3cywgZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coJ29uRXJyb3InLCB7IHdzLCBlcnJvciB9KTsKICAgIH0sCiAgICBvbkh0dHAod3MsIHJlcSwgcmVzcCkgewogICAgICBjb25zb2xlLmxvZygnb25IdHRwJywgeyByZXEsIHJlc3AgfSk7CiAgICAgIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywgeyByZXEsIHJlc3AgfSk7CiAgICB9LAogICAgb25NZXNzYWdlKHdzLCBtc2cpIHsKICAgICAgY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHdzLmZkLCBtc2cpOwogICAgICB3cy5zZW5kKCdFQ0hPOiAnICsgbXNnKTsKICAgIH0sCiAgICBvbkZkKGZkLCByZCwgd3IpIHsKICAgICAgY29uc29sZS5sb2coJ29uRmQnLCBmZCwgcmQsIHdyKTsKICAgICAgc2V0UmVhZEhhbmRsZXIoZmQsIHJkKTsKICAgICAgc2V0V3JpdGVIYW5kbGVyKGZkLCB3cik7CiAgICB9CiAgfSkKKTsKAAAAAAAAAAACBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAAAAAAAAACIAAAAAAAAAAAAAAAAACJA"
				]
			]
		},
		{
			"file": "libwebsockets/plugins/protocol_lws_mirror.c",
			"settings":
			{
				"buffer_size": 14066,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
			"settings":
			{
				"buffer_size": 5363,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"contents": "(function () {\nfunction check_file()\n{\n\tvar f = document.getElementById(\"file\").files[0];\n\tvar max_len = 100000;\n\tvar dis = 0;\n\t\n\tif (f) {\n\t\tif (f.size >= max_len) {\n\t\t\tdis = 1;\n\t\t\tdocument.getElementById(\"file_info\").innerHTML =\n\t\t\t\t\"<span style=\\\"color:red;font-weight:bold\\\">File larger than \" +\n\t\t\t\t\t\t\tmax_len+\"</span>\";\n\t\t} else\n\t\t\tdocument.getElementById(\"file_info\").innerHTML =\n\t\t\t\t\"File length \"+f.size;\n\t} else\n\t\tdis = 1;\n\t\n\tdocument.getElementById(\"upload\").disabled = dis;\n}\n\n/*\n * We display untrusted stuff in html context... reject anything\n * that has HTML stuff in it\n */\n\nfunction san(s)\n{\n\tif (s.search(\"<\") !== -1)\n\t\treturn \"invalid string\";\n\t\n\treturn s;\n}\n\n/* BrowserDetect came from http://www.quirksmode.org/js/detect.html */\n\nvar BrowserDetect = {\n\tinit: function () {\n\t\tthis.browser = this.searchString(this.dataBrowser) ||\n\t\t\t\t\t\t\"An unknown browser\";\n\t\tthis.version = this.searchVersion(navigator.userAgent)\n\t\t\t|| this.searchVersion(navigator.appVersion)\n\t\t\t|| \"an unknown version\";\n\t\tthis.OS = this.searchString(this.dataOS) || \"an unknown OS\";\n\t},\n\tsearchString: function (data) {\n\t\tfor (var i=0;i<data.length;i++)\t{\n\t\t\tvar dataString = data[i].string;\n\t\t\tvar dataProp = data[i].prop;\n\t\t\tthis.versionSearchString = data[i].versionSearch || data[i].identity;\n\t\t\tif (dataString) {\n\t\t\t\tif (dataString.indexOf(data[i].subString) !== -1)\n\t\t\t\t\treturn data[i].identity;\n\t\t\t}\n\t\t\telse if (dataProp)\n\t\t\t\treturn data[i].identity;\n\t\t}\n\t},\n\tsearchVersion: function (dataString) {\n\t\tvar index = dataString.indexOf(this.versionSearchString);\n\t\tif (index === -1) return 0;\n\t\treturn parseFloat(dataString.substring(index +\n\t\t\t\t\t\t\t\t\t\tthis.versionSearchString.length + 1));\n\t},\n\tdataBrowser: [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Chrome\",\n\t\t\tidentity: \"Chrome\"\n\t\t},\n\t\t{ \tstring: navigator.userAgent,\n\t\t\tsubString: \"OmniWeb\",\n\t\t\tversionSearch: \"OmniWeb/\",\n\t\t\tidentity: \"OmniWeb\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"Apple\",\n\t\t\tidentity: \"Safari\",\n\t\t\tversionSearch: \"Version\"\n\t\t},\n\t\t{\n\t\t\tprop: window.opera,\n\t\t\tidentity: \"Opera\",\n\t\t\tversionSearch: \"Version\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"iCab\",\n\t\t\tidentity: \"iCab\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"KDE\",\n\t\t\tidentity: \"Konqueror\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Firefox\",\n\t\t\tidentity: \"Firefox\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"Camino\",\n\t\t\tidentity: \"Camino\"\n\t\t},\n\t\t{\t\t// for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Netscape\",\n\t\t\tidentity: \"Netscape\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"MSIE\",\n\t\t\tidentity: \"Explorer\",\n\t\t\tversionSearch: \"MSIE\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Gecko\",\n\t\t\tidentity: \"Mozilla\",\n\t\t\tversionSearch: \"rv\"\n\t\t},\n\t\t{ \t\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Mozilla\",\n\t\t\tidentity: \"Netscape\",\n\t\t\tversionSearch: \"Mozilla\"\n\t\t}\n\t],\n\tdataOS : [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Win\",\n\t\t\tidentity: \"Windows\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Mac\",\n\t\t\tidentity: \"Mac\"\n\t\t},\n\t\t{\n\t\t\t   string: navigator.userAgent,\n\t\t\t   subString: \"iPhone\",\n\t\t\t   identity: \"iPhone/iPod\"\n\t    },\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Linux\",\n\t\t\tidentity: \"Linux\"\n\t\t}\n\t]\n\n};\n\nvar pos = 0;\n\nfunction get_appropriate_ws_url(extra_url)\n{\n\tvar pcol;\n\tvar u = document.URL;\n\n\t/*\n\t * We open the websocket encrypted if this page came on an\n\t * https:// url itself, otherwise unencrypted\n\t */\n\n\tif (u.substring(0, 5) === \"https\") {\n\t\tpcol = \"wss://\";\n\t\tu = u.substr(8);\n\t} else {\n\t\tpcol = \"ws://\";\n\t\tif (u.substring(0, 4) === \"http\")\n\t\t\tu = u.substr(7);\n\t}\n\n\tu = u.split(\"/\");\n\n\t/* + \"/xxx\" bit is for IE10 workaround */\n\n\treturn pcol + u[0] + \"/\" + extra_url;\n}\n\nvar params = {};\n\nif (location.search) {\n    var parts = location.search.substring(1).split(\"&\");\n\n    for (var i = 0; i < parts.length; i++) {\n        var nv = parts[i].split(\"=\");\n        if (!nv[0]) continue;\n        params[nv[0]] = nv[1] || true;\n    }\n}\n\nvar socket_di;\n\nvar mirror_name = \"\";\nif (params.mirror)\n\tmirror_name = params.mirror;\n\n\tconsole.log(mirror_name);\n\nfunction ws_open_dumb_increment()\n{\n\tsocket_di = new_ws(get_appropriate_ws_url(\"\"), \"dumb-increment-protocol\");\n\n\ttry {\n\t\tsocket_di.onopen = function() {\n\t\t\tdocument.getElementById(\"wsdi_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#40ff40\";\n\t\t\tdocument.getElementById(\"wsdi_status\").innerHTML =\n\t\t\t\t\" <b>websocket connection opened</b><br>\" +\n\t\t\t\tsan(socket_di.extensions);\n\t\t};\n\n\t\tsocket_di.onmessage =function got_packet(msg) {\n\t\t\tdocument.getElementById(\"number\").textContent = msg.data + \"\\n\";\n\t\t};\n\n\t\tsocket_di.onclose = function(){\n\t\t\tdocument.getElementById(\"wsdi_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#ff4040\";\n\t\t\tdocument.getElementById(\"wsdi_status\").textContent =\n\t\t\t\t\t\t\t\t\t\" websocket connection CLOSED \";\n\t\t};\n\t} catch(exception) {\n\t\talert(\"<p>Error\" + exception);  \n\t}\n}\n\t\n\tvar socket_status, jso, s;\n\t\nfunction ws_open_status()\n{\t\n\t\n\tsocket_status = new_ws(get_appropriate_ws_url(\"\"), \"lws-status\");\n\n\ttry {\n\t\tsocket_status.onopen = function() {\n\t\t\tdocument.getElementById(\"s_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#40ff40\";\n\t\t\tdocument.getElementById(\"s_status\").innerHTML =\n\t\t\t\t\" <b>websocket connection opened</b><br>\" +\n\t\t\t\tsan(socket_status.extensions);\n\t\t};\n\n\t\tsocket_status.onmessage =function got_packet(msg) {\n\t\t\tvar s;\n\t\t\t\n\t\t\tconsole.log(msg.data);\n\t\t\t\n\t\t\tjso = JSON.parse(msg.data);\n\t\t\t\n\t\t\tif (jso.wss_over_h2 === \"1\")\n\t\t\t\tdocument.getElementById(\"wstransport\").innerHTML =\n\t\t\t\t\t\t\t\t\t\t\"<img src=\\\"./wss-over-h2.png\\\">\";\n\t\t\t\n\t\t\tdocument.getElementById(\"servinfo\").innerHTML = \n\t\t\t\t\"<table><tr><td class=l>Build info</td><td>\"+\n\t\t\t\t\tsan(jso.version) + \"</td></tr>\" +\n\t\t\t\t\t\"<tr><td class=l>Server info</td><td>\" +\n\t\t\t\t\tsan(jso.hostname) + \"</td></tr>\" +\n\t\t\t\t\t\"</table>\";\n\t\t\ts=\"<table>\";\n\t\t\tvar n;\n\t\t\tfor (n = 0; n < jso.conns.length; n++) {\n\t\t\t\tvar d = new Date(parseInt(jso.conns[n].time, 10) * 1000);\n\t\t\t\t\n\t\t\t\ts = s + \"<tr><td class=l>client \" + (n + 1) +\n\t\t\t\t\"</td><td><b>\" + san(jso.conns[n].peer) +\n\t\t\t\t\"</b><br>\" + san(d.toString()) +\n\t\t\t\t\"<br>\" + san(jso.conns[n].ua) +\n\t\t\t\t\"</td></tr>\";\n\t\t\t}\n\t\t\ts = s + \"</table>\";\n\t\t\t\n\t\t\tdocument.getElementById(\"conninfo\").innerHTML = s;\n\t\t};\n\n\t\tsocket_status.onclose = function(){\n\t\t\tdocument.getElementById(\"s_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#ff4040\";\n\t\t\tdocument.getElementById(\"s_status\").textContent =\n\t\t\t\t\t\t\t\t\" websocket connection CLOSED \";\n\t\t};\n\t} catch(exception) {\n\t\talert(\"<p>Error\" + exception);  \n\t}\n}\n\nfunction reset() {\n\tsocket_di.send(\"reset\\n\");\n}\n\n\nfunction junk() {\n\tfor(var word = \"\"; word.length < 9000; word += \"a\"){}\n\tsocket_di.send(word);\n}\n\nfunction on_pmd() {\n\tsocket_status.send(\"{ \\\"RequestType\\\":\\\"DDoS\\\", \\\"blob\\\":\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAJbElEQVR4Xu2af4xUVxXHv+e9O0OhIEibgrRlF8rOG6CWKiumrUlTo6byj6mmNFta2DdQsRJJrP5j+0cnjSVp1BoSU1yzO28LEeL6h7GJNhpJNa2CBQ1gd9k3QPlRBU2LLV0W2p173zFvZvbtzOybmbd7J9DEd/+befece97nfe+95/4gxEWLAGlZx8aIAWqKIAYYA9QkoGkeKzAGqElA0zxWYAxQk4CmeazAGKAmAU3zWIExQE0CmuaxAmOAmgQ0zWMFxgA1CWiaxwqMAWoS0DRvrQJ3ujeb17Hrx6SuzLwV32x7VzO+1pj3HJprJue8BcBQCSONRzr+2RrHaO2OtHDc1wDcUwqOj0s7nWpVoDp+hOMeA5Au+zggbesuHX+Vti1VoOh3j4BxRxEf8xmVSbe3KlAdP2bOPUmEpaXviiGZsVbq+IsBxgCnpp9YgVPjNan2RwagmXMfUpnUAEAc9k6Rx8AHB0zzy3euU5nUXk02RXMzl+9Ssw8PYN06FeYvOkAmM5dfpzLWL6LGFXkSMR13jIAEmKXMpBM6AIXjeih+BVLqTEcSWfJ/T71ks4bZ9vAYgU1/epC2ZegAFLnhAogEM0tV5x1r/UcGKBw3UJ1sTyVwH8laZ5EU2DO4WCTFmXFbOTbnemxZdHnq9AAMvDVTjF4ObKVS7di8IvA97jOSArNsiLZ8oGBpW5HYRKrkB1IFcGwkiS2dhWkB7B1qE6Z5uiUAew7NEsk5o4EveEtgLw98TwngwIApRlcFoogBVnzdSArUAWg6+T4QS3U69Xi98eiqK7A4vnX1+YsldWbPJmSzk8fJa6FAP67FXTv9sVLZqU1k9rvHibGsmKQzBlTGeih0gqgcA69CFxaO+zKA+4uxEF6W3dbaSXFdA4Bmzt1DhK5SLHycTMd9n4A5pT9oSNqp0GXO1VagcFx/cphZhnZF2tasjwJAkRs+CqJPFvEBIzHA8a8ScQyMAdbbTGgJwAY7FS3LA3edXCyUbJoHitzwKIhK3Zb5ssykr5/Uha9BHigc9whQ3nHyu7DIDe8A0TY/OI/xtJexngnP5ocLRCRAkLLbas1KhOGps6lE2MxvOO6TBvBsMS7Pe8rbtHz7pLhavRLpdwtgCDCkzIS/o9Gff8pg/n55EtlRSqT7h+8B0xhs62AYvHJlf524QZ3duzs0pfCT7aj7gQNsmqPHH1V2qr9+ewBePHYXIICNHfsb1TNzw7Y6e343svdNWh35dpHyQL9iKUV5VGVSu+qt94tx7DrZCa8wA93pP0deiTR80fLDyACjOGthncgAp9FmqwG+CsbnynHkpW1Z04ip5Sai3x0CY3kpU+P9sjt9d6saaSlA9JybJWaMXARDyRFjLrZ1fNiqQLX8DAwmxai4CCAhzblzsWFhsH7W8lvM8eOiRSAGqIUvVqAmvhhgDFCbgKaDqY+B2ayBBV2fQJJnwzQlSL6HjcsvhMaRHUwG/2dXjjWMtXdwPjBjPryCARKXIcQ7sJd8EOn9fFuTbkCBCDOMUZw69596SXWVv4HB2bicXAClBARdwqm95+stEurFER1gz6GESM45DGBFmLNJW+C5E7cKUmfH68pkoh3rl046r8CL7s3CQ+hdFQY2KNvaXS94o8/\\\" }\");\n\tsocket_status.send(\"{ \\\"RequestType\\\":\\\"SendImage\\\", \\\"RequestID\\\":\\\"283463389\\\", \\\"toType\\\":\\\"toUser\\\", \\\"toID\\\":\\\"1036\\\", \\\"fileType\\\":\\\"image/jpeg\\\", \\\"blob\\\":\\\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAGqAoADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9U6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArlviX43Pw78H3fipdHl1RreSGJLSKQRtK0kqxgBiDjlvSuprhvjNpmoav4INnpljPdznU9Ok8qCMu2xbuJmbA5wFBJPYA0AL4r+K2j+G/hxH8Rra0k1G3ureOezto3CPOXXcFBwcHbk9O1bmg+L9H12wW7juEimSygvrmAtlreOVCy7jjngN+VeOal4L8Vz3Wv8Ag99DvG0Hw5b317pEixMUupLpS0UUf94w5ZMD1FWdLfW/CFxqcF34S126l1vwxpttZfZdPllU3EUMitFIyqREcuOXIHXninYD0y8+KPgCwNkt34ntU/tCGO4tyA7BopPuOSBhQc8bsVYXxtpEc+tHULm2tbPRVheW5afIKyAkEjHy9OOTnNeEHQNX0bw/pTQaH4l0/W38NabbNCNFkvbS/kjgUeTMqrmF1bKncVx1rZ1Lwz4tuV1bVL3wpdSJDf8Ah+/urCGBmFzFAxaeOIf8tNv90ZzgDvRYD2fw34w8NeLoppvDurRXqwNslChlZD1GVYAj8q0rq9tLIRtd3CRCVxGhc4BY9Bn3rlfBl/Z61reqazp/g660q3kjhiW8u7SS0muyoOR5UiqwVc4DEc89q2fFQSTRprVtFk1VrjESWyjhmPQs38AHXdkYx60gNivPb74uwWXhPW/EX/CPzyXmjal/ZQ05Zh5k85ZFjCtjjcZFxxXXeGdO1LSdDtNP1bUPtt1CmJJvXngZ74HGcDOM4FeYXfhPXm+Nq28elXDeG7yaHXbi68s+SLmGORRGW6bi7RNjr8hoA6XU/i3p1pYeHr+w043a+INPk1NMziMQwIiNuY7T/fA/OtS8+J3gnSntLbWtftbO6u4IpxESzhA4BG5gMKPc4ryPSvBHipIvGdheaDei20HT7jRtB/ct/pMLzSSK0Yx8w8t4k47oaj8XaLqVglzJpmjeIbfV7rRLSAWw0WS/sdUdIiBFJsX9yQSVJZhgHPanYD1B/jD4PsfEWseHNdvo9Nm0q7itUeRiwn8yGOQN8q/IP3m3k9R1ra8ceLoPBfgzVfGTWpvYdMs3vPKSQL5qqucBsHGfXFebDwpq15YfE681LwvIuoaotuLdRbl/NK2EAKxHHzgSBxx3Bre+IukavqHwA1TRbPTbq41GXw75C2scTNM0vkAbAgGS2eMYzmgDt9c1xNF0CfXXiRlhjWQo8mwckDlsHHX0rMf4leCYNUg0O78QW0OoT+WogO4gO+Nql8bQTkYBIrjfFvjJfFvgjUfDeleE/Fq3s1qgQXHh68gQlXTI3PGBnr3rjdc0rWtM1K8Ph3QdeXVbq6tJW0250iS50/UGUIPN89V2wEYOSzfKVziiwHsPhL4k+GfGer6zoujXLvcaLcfZ5gyMA3yg7gSOmTj8K6qvPfh9aT6V418b2d3ot5bG81NL22uDZusE0Jt4l+WXGwkMrZUHI9K9CpAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUVma34m8OeGvsf/CQ67YaZ/aNyllafa7hIvtFw/3Yk3EbnPZRyaANOiisbQfGfhHxTc39l4a8T6XqtxpUohvorO7jme1kOcLIFJKHg8HHQ0AbNFZ2u+ItA8MWa6j4j1qx0u1eVIFmvLhYUMjnCoGYgbieg6mi08R+H7/VrnQbLW7G41KzjSa4s47hWmhjb7rOgOVB7EjmgDRoorO1/wAQ6D4V0uXXPE2tWOladAVEt3ezrDChZgq5diAMkgDnqRQBo0UgORkUtABRVbUtT07RrCfVNWvreys7VDJPcTyCOONB1ZmPAHuaNO1LT9XsYNT0q9gvLO5QSQzwSB45EPRlYcEe4oAs0VT1fWNJ8P6Zcazrup2un2FonmT3V1KsUUS+rMxAA9zU9tc297bRXlnPHPBOiyxSxsGV0YZDAjggggg0AS0UUmRnGeaAFooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooqrqGpWumQ+dcsQCcKBySaaTk7ITairstUVz3/AAmdh/z63H/jv+NH/CZ2H/Prcf8Ajv8AjW31ar/KZfWKfc6Giue/4TOw/wCfW4/8d/xo/wCEzsP+fW4/8d/xo+rVf5Q+sU+50NFc9/wmdh/z63H/AI7/AI0f8JnYf8+tx/47/jR9Wq/yh9Yp9zoaK57/AITOw/59bj/x3/GtDTNcstVLJBuWRRkow5xUyoVIK8kVGtCTsmaNFFFZGgUUUUAFFFFABXin7YfhS78TfAbxBeaUCup+HVj16ykUZaOS1cSkr7lVYfjXtdVtRsLXVLC50y+hWW3u4nhljboyMMEH8DQBxNz8UNOb4IH4tQyrHaz6AurREH7peEMg/wC+mAr52/Zu8OXnwh+KfhZtT3xn4seHLi9u1JO3+0Y5DcA/UxMwA9qxNG1PUX+COl/s0vcNJrFt46m8ITg9Xs7aYzE/TyvK9sGvaf2ptPTwl4J8LfEvS4WB+HGuWGolYx8xsg4imT6eU7E/SgBn7Qif8Jp8Ufhb8KU/eQTanJ4h1KP0gtgBG3/fbH8q6zw7rXw8j+M/jO3stIltPENlpdrNq2oSSnypbfLbAATgbcEk4rmPh40fj39pfx146jdZ7DwtYWnhrT5lOV8woJ7gA/70gH4Vm6DDpFx+0b8XLfX7mO30yXwzZpeTSSCNY4T5gdix4UAZ57UAbEH7S2r67YyeJfAvwY8TeIfDCFzHq0UkcX2iNTgyRRN8zrwcHIzXK/tQ+P8Aw78Sf2QNf8X+Grh3sriWzVllXZJDIt5EHjcdmB6irvg3wv8AtE/BnwxZ6B4BPhj4ieEbGEDSkkujZXv2Xqi7yDG+FxghuRiuE+Mvivwf4x/Y78djw34Tl8MXVtq8EOs6TKuJLe+a7hMhPJB3cEEcGgD2LU/2htUjt5tY8J/CHxL4j8O2u7fq9u0cccqL96SFG+aROCQeMjpXo/gHx34f+JPhSx8Y+GLhpbC/Qsu9drowOGRh2YHgitXTNNsdM0q10mxtkitLaBIIoVGFWNVwFA9McV4l+xt8vw28QQrwkPjDV0Reyr5q8D86AO2/aF/5Ij40/wCwRN/KpPgF/wAkX8G/9giD/wBBqP8AaF/5Ij40/wCwRN/KpPgF/wAkX8G/9giD/wBBoAn+Nt74T074UeJb7xzpcupaDDZFr+0ico8se5flBBBHOO9Y3iH4w+Gfh/4c8Jabo3h/UtV1HxDZxLoWh2QDTyRLCG5ZjhVVcZY1D+1X/wAm8eOv+wWf/Q1rktd+Hep+Lrb4aeLPh5440vRvHnhbQIns7W+Hmw3NrNbxrKskaneFPHzAH9aAOn8P/H+ZvF2neC/iJ8OtY8GX2tFk0uW6lSe3unUZKCRcbWx2IryTxZ8WPF1p+1VodxD8JvFM/wBj0TULaOxjeLddruT9+g3Y2jHfnmuq174jeNPDus+HbL9o/wCEumHSm1SKHT/EWk3v2m3t71uI2eMhZI89Bwa1vEP/ACeL4Q/7FbUv/Qo6APcrOeS6tIbmW3e3eWNXaKT70ZIztOO46VNRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXKeNSfNtRnjax/UV1dcp41/wBda/7rfzFdOD/jI58V/CZzVeear8Q9V0r4tWHg6e3g/sa8tlDT4PmR3D58vJ6YYgL9WFeh15/4t+HOo+IdY1fVrW/t4JLnTYobB23boLuKQSRyHA+6GVTxzxX0eF9lzNVdrf0/keFiPacqdPe5Qb4sXMPxG1fRbiGIeH9Js2Zp1UmWSdCBJjnGFZtv1U11Ws/ELw1oKeZqc8sajS5NX3bMj7OhQHv97Mi8Vx8fwf1MWcEMmq2rTto89reTYbMt7LIZXlAx90uSfXmn/wDCAePdSujfaxceHo3h8PzaNDAvmTxu7PEdz7lX5SI8EDkZ4zXVKGFk009Fo/Pz+ZzxniIp3Wr/AK/A2n+JNneQwG3t77S5jfQWzx39n8zrIpK7drYwcdcnGOlWrP4m+H77V49LtrXUmimuTaRX/wBm/wBFeYdUD5znIxnGM965DTvhN4lW4M00+n6fafbbW5XT4Lya4iTyg+91aRQQW3gbeny1veGPCXjXw+bTQFvdK/sKyvJLlZlLm6ljZy4jKFdo+ZuWDHipqU8Mk+V/j/V/QcJ4htcyO/rV8LkjWoAD1D5/75NZVavhf/kNwfR//QTXk1v4cvRnp0f4kfU7uiiivBPZCiiigAooooAKKKKAPEbP9mu3tf2kLv47HX1ayngLx6P5JxFetFHG9wGzjJEYzxnnrXqHjzwlZePfBWueC9RIW31uwnsJGIztEiFdw9xnNb1FAHl/7O/wZl+B/wAPh4Tv9eGt6ncXk99f6j5Rj+0SyOSCQSTwu1eT2p0HwVtp/iH428Wa3qEV7pfjPSItIn0/yirLGoYPl88hgxHAFenUUAeC+G/hh+0R8OdFh8D+CPiV4fvvD9kgttNm1nS3lvLK3UYSPcjqsm0YA3L0Apus/suyan8E/EXw0HjBpNc8VX8Wp6prdzb7vNuFmRziNSMLhNoGeM175RQAijaoX0GK8/8Agp8L7j4TeG9T0G51iPUm1DW73VhIkJjCLOwITBJyRjr3r0GigDm/iP4Tl8d+BNc8HQ3q2b6vZvarOybxGW7lQRn868h8L/CT9qDwj4e0/wAM6R8dPC62WmQLbwB/C+5gijjJMnNfQVFAHhmsfCL46eNfBviXwX8QPi1oWo2euaebSE2ugfZzBIWB3kh8sMDGOK0PGHwM128bwh4o8B+MF0Pxh4Q09NNivHtvNtr238tUkimiJ5VtoI5yp6GvY6KAPDL/AOEXxa+Juo6Snxj8ZaIdB0i9i1AaVolg8Qu54jmNpZJHZtoPO1cVr/FL4ReMvEPxB8PfFD4c+MLLRNa0O1uLGSO+sftMFzBNjIIDKQRtGCDXrlFAENmt0lpCl9KklwsaiV0XarPjkgdhntU1FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFZ+r6RDq0IR2KOnKOO1aFFVGTg+aO4pRUlZnKf8IVN/wBBBP8Av2f8aP8AhCpv+ggn/fs/411dFb/XK3cw+q0uxyn/AAhU3/QQT/v2f8aP+EKm/wCggn/fs/411dFH1yt3D6rS7HKf8IVN/wBBBP8Av2f8aP8AhCpv+ggn/fs/411dFH1yt3D6rS7HKf8ACFTf9BBP+/Z/xrT0bw7FpUhuHl82XGAcYArYoqZ4mrNcrZUcPTg7pBRRRWBsFFFFABRRRQAVFcPcRqDbwLK2eQX24H5GpaKAKX2jVP8AoGx/+BH/ANjR9o1T/oGx/wDgR/8AY1dooApfaNU/6Bsf/gR/9jR9o1T/AKBsf/gR/wDY1dooApfaNU/6Bsf/AIEf/Y0faNU/6Bsf/gR/9jV2igCl9o1T/oGx/wDgR/8AY0faNU/6Bsf/AIEf/Y1dooApfaNU/wCgbH/4Ef8A2NH2jVP+gbH/AOBH/wBjV2igCl9o1T/oGx/+BH/2NH2jVP8AoGx/+BH/ANjV2igCl9o1T/oGx/8AgR/9jR9o1T/oGx/+BH/2NXaKAKX2jVP+gbH/AOBH/wBjR9o1T/oGx/8AgR/9jV2igCl9o1T/AKBsf/gR/wDY0faNU/6Bsf8A4Ef/AGNXaKAKX2jVP+gbH/4Ef/Y0faNU/wCgbH/4Ef8A2NXaKAKX2jVP+gbH/wCBH/2NH2jVP+gbH/4Ef/Y1dooApfaNU/6Bsf8A4Ef/AGNH2jVP+gbH/wCBH/2NXaKAKX2jVP8AoGx/+BH/ANjR9o1T/oGx/wDgR/8AY1dooApfaNU/6Bsf/gR/9jR9o1T/AKBsf/gR/wDY1dooApfaNU/6Bsf/AIEf/Y0faNU/6Bsf/gR/9jV2igCl9o1T/oGx/wDgR/8AY0faNU/6Bsf/AIEf/Y1dooApfaNU/wCgbH/4Ef8A2NH2jVP+gbH/AOBH/wBjV2igCl9o1T/oGx/+BH/2NH2jVP8AoGx/+BH/ANjV2igCl9o1T/oGx/8AgR/9jR9o1T/oGx/+BH/2NXaKAKX2jVP+gbH/AOBH/wBjR9o1T/oGx/8AgR/9jV2igCl9o1T/AKBsf/gR/wDY0faNU/6Bsf8A4Ef/AGNXaKAKX2jVP+gbH/4Ef/Y0faNU/wCgbH/4Ef8A2NXaKAKX2jVP+gbH/wCBH/2NH2jVP+gbH/4Ef/Y1dooApfaNU/6Bsf8A4Ef/AGNH2jVP+gbH/wCBH/2NXaKAKX2jVP8AoGx/+BH/ANjR9o1T/oGx/wDgR/8AY1dooApfaNU/6Bsf/gR/9jR9o1T/AKBsf/gR/wDY1dooApfaNU/6Bsf/AIEf/Y0faNU/6Bsf/gR/9jV2igCl9o1T/oGx/wDgR/8AY0faNU/6Bsf/AIEf/Y1dooApfaNU/wCgbH/4Ef8A2NH2jVP+gbH/AOBH/wBjV2igCl9o1T/oGx/+BH/2NH2jVP8AoGx/+BH/ANjV2igCl9o1T/oGx/8AgR/9jR9o1T/oGx/+BH/2NXaKAKX2jVP+gbH/AOBH/wBjR9o1T/oGx/8AgR/9jV2igCl9o1T/AKBsf/gR/wDY0faNU/6Bsf8A4Ef/AGNXaKAKX2jVP+gbH/4Ef/Y0faNU/wCgbH/4Ef8A2NXaKAKX2jVP+gbH/wCBH/2NH2jVP+gbH/4Ef/Y1dooApfaNU/6Bsf8A4Ef/AGNOSfUWdRJp8aqSMsJ84HrjFW6KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACioZry0t/8AX3Mcf+8wFUZvEekxcfaN5/2VJosBqUVz03jC3GRBau3+8QKozeLb9/8AVRRxj86fKwOvorg5tc1Sb7124HoOKjtdUvba4WcXDtgjILZBFPlA9AoooqQCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACori5gtYzLcSqijualrkPFsztfpAWO1EBA9zTSuBqzeK9NjyIxJIfYYFUpvGMh/497NR/vtn+Vc3RV8qA1pvE+rS/dlWMf7Kj+tUZtRv7j/XXcrD0LnFV6KdkAUUUUAFFFFABQOtFA60AelDpS0g6UtZAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFcb4r/5Cv/bJf612Vcb4r/5Cv/bJf61UdwMaiiirAKKKVVZztVSSewFACUVch0fU5/8AV2UuD3K4H61eh8KanJ/rDFF/vNn+VF0Bi0V08Pg5BzPeE+yrV2HwxpUX3o3kP+01LmQHF0DrXb3ui6b9ilCWqIVQkEdQRXEDrQncD0odKWkHSlrMAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArjfFf8AyFf+2S/1rsq43xX/AMhX/tkv9aqO4FfSNGl1UuVkEaJwWIzzW7D4RsU5lmlkPpnApvg//jzn/wCuv9BW/Q27gZ8Og6TD92zRv9/5v51djhihG2KJUHooxT6KkAooooAKKKKAIbz/AI9Jv+ubfyrzoda9FvP+PSb/AK5t/KvOh1q4gelDpS0g6UtQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVxviv8A5Cv/AGyX+tdlXG+K/wDkK/8AbJf61UdwNPwf/wAec3/XX+grfrA8H/8AHnN/11/oK36T3AKKKKQBRRRQAUUUUAQ3n/HpN/1zb+VedDrXot5/x6Tf9c2/lXnQ61cQPSh0paQdKWoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK43xX/yFf+2S/wBa7KuN8V/8hX/tkv8AWqjuBp+D/wDjzm/66/0Fb9YHg/8A485v+uv9BW/Se4BRRRSAKKKKACiiigCG8/49Jv8Arm38q86HWvRbz/j0m/65t/KvOh1q4gelDpS0g6UtQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVxviv/AJCv/bJf612Vcb4r/wCQr/2yX+tVHcDT8H/8ec3/AF1/oK36wPB//HnN/wBdf6Ct+k9wCiiikAUUVDc3dtZp5lzMsY7ZPX6UATUViy+K9MQ4QSye4XH86j/4S+w/59p/yH+NOzA2Lw4tJs/882/lXnQ610GqeKBdW7W9pCyBxhmbGce1c+OtXFWA9KHSlpB0pazAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiioLy9t7GEz3MgVR09SfQUAT0Vy9z4vkJItLYAdi55/Kqh8Vaqe8Q+iVXKwOzri/FDq+qttOdqKp+vNNfxNqrqV81Fz3C81mO7yOXdizMcknvTirAdV4P/AOPOb/rr/QVv1geD/wDjzm/66/0Fb9S9wCiiikBXv7tLG1kuX/gHA9TXBXd3PeztPO5Zj09h6Cuq8WFhpqgdDIM/rXH1cUAUUUVQBQOtFS2sTT3MUKjJdwv5mgD0UdKWkpayAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACuH8QX73l+67j5cR2qP5mu4rzzUI2ivZ43HIc/zqo7gV6KKKsAooooA6zweP8AQpj/ANNf6Ct+snwzbNb6WjMMGUl/w7fpWtWb3AKKKKQFXU7IX9lJbHgsMqfQ1wU8EttK0MyFWU4INej1UvtLstQXFzECezDgiqTsB5/RXUyeDoScxXjKPQrmmr4OT+K+P4J/9eq5kBzFdH4Y0h/MGo3CFQv+rB7n1rSs/DWnWrB2VpWHQv0/KtUAAYAwBUuXYBaKKKkAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK5/xFocl03220XMgHzr/e966CimnYDzZ0eNtsiFSOxGKbXok9laXP8Ar7dH9yOar/2FpH/PjH+tVzAcGAScAZNbOjeH57yRZrpCkAOcHgt7V1EOm2Fucw2kan6Zq1ScgEVQoCqAABgAUtFFSAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUV4145vPGfw28Sv8A8InG2oW3jeZbK0jnmythqTD5ZOTnyioJIHdR60Aey0V4pot5490ix1zSvB+pWctl4LPk3UupK8s+qXIjE07bs/uwS5A68+grpPCfxLv/ABPLr08dvFFb2Oj2WoWyEfMJJUlLqx7gGMYp2A9HorzjVPEWp678BR4qlYR3+oaBDev5JKASvGrHb3AyaxtB8X/ELw7NpFh4ludIvYNT0CW9tgmYPIlhiVgskrHDKRnLHGDSA9gorwvw/wDFbxvqGrSaLDrOj61PdaLcajbS2dlIkEU0WCYlkJ2zAhsblP4Vrat8a7qy0hPENnZxT2lj4dl1fUI8c/aMhI4Qf4cvv59ENOwHr1FeA/8AC8fFNlb38S3mn6zP/Z5u4JYbCa3jt5lkRTE+8fMCH4bg8Hiuz8P+IfHL+K7fwp4tu9Omi1zRZdRtZLOFo2tmVo1ZGyfm4k4PHTpRYD0uivJNOtPG2hfFTw/4WTxTHcaRZ+H4xLHLAS8/l/Izls/fLDOfTitz4oeLdY8OzaXZaVruk6QL1pDJcXiGeVto4SKBSGkJ7kdAKQHf0V4x4c+KXjbxtpnhvStE+wWWs6oL57u7uLd/KjjtZjESsJw25yM7SRt71l6B4v8AH2malq3h1prKTxFrPij+zop3LNbQItuZXkCHnGxGwvHJ/GnYD3uivAL3x54w+HviHxjdeKLy0vbyKPTbW0liV1t2MgbEhi5K4AOQM5IqxafG7xKTceH7aSy1fU7uezttNv1s5bW3Ek8yxESK4z8m4NwTkA9KLAe70V5R4afxxa/GWXTPF2qWl6q6BHJDJaI0UbgzSZLRkkBgQRnJyAPpTvin4+8SeHNXaw0bX9H08Q2LXSwy27Xl1dOOiiGM7lX/AG8HrSA9Vorxaw+I/wAR/GCyT+Gm0nToYfDljrjG5haUl5oi5iGCOOOvb0Naum/Fy9tlj1TxNBBBpt14ck1iFkHPmwf69M98g7gPRTTsB6pRXC6v4n8W6D8JD4q1C2tR4gisIZ5odpESzuVDJjrgFiPwrmbfxD8Y7vxPH4STVPD8ct5pX9rrdm1ci3UMqmLZn5yTIvzZHAPFKwHsFFeY/Dn4ma14vv8AQre/treFdR8PR6lOsYJxP5jo20/3fl4FcrffGDxsdO0y/mu7HQ7C5F75uqz6dLcWwlimKRxPs4iBUElmOOKdgPeKK8XvPibfaZfT+IpYbG6n/wCER0+8X7LcmSCS4muJUARgdpTcQQwGSK7fwkfiZDqYj8Xy6Ve2Fxa+cs9mhia3myP3RUklxgn5h6dOaQHY0V5D4m8S+L/DfxV1e9l1iCXQ9P8ADceoiwEJ3N+9lUDdn7xZfvemB2q5pPjD4gaXqXhe68XSaXcab4skEEcVpEySWUjxNJGCxP7wELtJ4wTTsB6lRXI+J/Fl74Z8WaNb3nlDRNThuI5JSvzx3KAMoz6Mu7j/AGTXIaV48+IXi2+0/QdFfTdNury1uNVkubmAyLFarKI4kCAjczbgxORgUgPXaK8s8JfE7xBrHiPRvDWqWtrFdedq1lqZiyVaa0dEDxk9FbcTg+uO1ZsnxM+IGq67beHPD0GmLcXusahp6zXCNshighVw5xyTyeO5wOOtFgPZaK5Pxz4i1jwnpWl6rH5EsS39vBqRKHHkvlSy+nzlfzrhrD4weJNTn1TToLS1S6m1mytNGJUkSWssxjkkbnkoEkY49BRYD2WivBrn4i+KtFspTYPDpmnyeINcgutVlspryK3MV46xq6qcoGAPzEhRjirEGv8AjrxV408MTeHNf0dLi98OXslxcxMbmzIW4hAkRAQGJ4HJGNx9KdgPcaK4zwL4n1TxX8Pm1jV44Y9Qj+2WlwYMhDLBI8TMueQCUJH1rzPRfFvibS9J0a40XTpNX1NPCmrXkELO7PNLHdIFXGfm6+hPGBRYD3+ivALz4i+Mte8F+JU0zxto095YW8E4kjs3trq3LPh45LdzvXthz15GK9p8J/2ofDOmNrV3Hc3rWsbTTRpsV2IzkDtxilYDWooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACsPxJ4TsvE11ot3eXM8TaJqCajCI8Yd1UgK2QePm7YNblFAHCa58K4tU1PVb7TPFWraNBrwX+1bWz8ry7ohAhbLoWRigCkoVJAqG/+D2nyXckuieI9U0W1u9Oi0u9tbPy9lxbxghRllLI2GYblIPJ5r0Gii4HNxeBtOh8AwfD1bu5Nlb6dFpqzEr5pjRAoY8Y3YX0xWf4l+FeheKrS1sdSu7wQ2ulXGkBY2Ub4povLYk4zux0x3rtKKAOD0b4XXGneItL8T3/AI21fUrvSraSzjWaOBI2gfb8hVI1GcqDuHzH1xTtK+D3hTTNL8R6M/2i6tPE25blJnH7uMhv3cZABVQXcjuCa7qigDgH+FDahY3Nl4h8ba5qwmtltImnMKmGMOGyAiAMx2jLMCfeuh/4RCxHiTTPE32mf7Rpeny6dHHxsZHZCWbjOf3Y6HHJreooA57UvB0V94v07xjDq13aXNhA1q8MQjMdzESTtfcpI5OcqQfeqninwE+v6/YeJtN8SX+jajYW8toJbaOGTfDIVLKVlRgOVUggZ4rrKKAPNrD4KWekWNlDo/i3WLS90y7u7iyvx5TzRpcPvlibehEiljn5wT70sHwT0u3spwPE2sNqkuqLrMeqM0Znhugu3co27SCuQVIIwSMYr0iincDzmP4L6dM2s3eteJtX1PUNb+zvLeSmNHhkh/1bxBFCoR0wBj25NWbj4Tw6rp93B4h8Waxqd7cNBJBfu0cUlo8L743iWNVRWDAEnbzjnIrvaKVwOM8OfDh9G8UzeMtU8WaprWqT2a2LPdLEiCNWLAKkaKq8seg569aj174YprHiG+16z8U6ppn9rWkdlqEFsIitxEm7ADMheM4ZhlCp5rt6KAOH8IfCrTfCNlNaRazf3hm0mDRy84jBEMKFEI2qBu2nGfauf8UfDf8AtF/Bvgmz028l07RLtbq41GRlCmBQ2+FsY3eYG2kYxgk9q9YoouBleJ/D1r4q0G78P3k0sMF2qqzxY3ABg3GQR2qtb+D7G28SxeJ0uZzcQ6YdKEZxsMZdG3dM7sxjvjk1vUUAedW/wZtNLg0ZNA8Wavpk+kWTad9oiELNcW5YttcMhAOScMoBGetGn/B86BYWdn4Y8c65pr2scsLyfuZ/PSR953pKjLuB6MAD716LRQB55ZfBDwjZae2lJLePato0OjGNnH3I5XlWXIGQ+9yfTgcVr+GPAb6DqY1jU/E+p65dxWpsrd7wRqIISQSFWNVBJ2rljknHWusooA5TXvh7p+v+JD4huNRuoxNpp0q7tFCGK5t9zsA25SwIMjcqQaz9D+FUWl6npV7qXirVtYt9B3f2VaXfleXakqUDZRAzkKxUFyxANd3RQBwHxh0C/wDF+jWXhWw0q4ma8u45GvEYKlmqn5mY5zkqWUAepq/rXw5t7y70zVNA12+0HUdKtDYRXNmsbl7chcxukisjDKqRkZBHFdhRQB55/wAKc0+0tNK/sTxJqunanpc9zc/2mhjknuJLhg07SiRWVtzDPTjtirHhj4R6P4Y1Cy1ODWNSu57K7u70NcOrGSS4jCPuwo44yMfy4ru6KLgZfifw/Z+KtAvvD2oPIlvfRGJ2jIDLzkMM9wQCPpXM6V8IfDuk614c1uC7vGm8N2ktrAjsu2YuCDJIMcuNzYIx9413VFAHBn4VfY2a48PeMNY0m6a+vr1pYhFIr/apmldGjkRkIDMdpIyB3qfwl8K9E8IajZ6rY3t3LPa2dzaMZSuJTPKkjyMABhtyDgYGCeK7WigDC8N+EbHwzoM3h+0uZ5YZp7qcvJjcDPK8jDgAYBcgewFc6vwc0NbW1tU1fVI/sel3WlRSRSiOQJPKspkDKAQ6soxjj1Brv6KAPPf+FQwX76jdeJvFWp6xe39gNNW5ljgiaGAMWG0RIqk7jnLA10Wg+F73RZ7SWfxVqmoJa2IsvJn8tY5CGBEpVFA3gDbxgYzxmugooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//Z\\\"}\");\n\tsocket_status.send(\"{ \\\"RequestType\\\":\\\"SendImage\\\", \\\"RequestID\\\":\\\"788346414\\\", \\\"toType\\\":\\\"toUser\\\", \\\"toID\\\":\\\"1036\\\", \\\"fileType\\\":\\\"image/jpeg\\\", \\\"blob\\\":\\\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAHgAoADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9U6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAopNy/wB4fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/AHh+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv8AeH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/wB4fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/AHh+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv8AeH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/wB4fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/AHh+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv8AeH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/wB4fnRuX+8PzoAWik3L/eH50bl/vD86AFopNy/3h+dG5f7w/OgBaKTcv94fnRuX+8PzoAxst6mky3940UmRQA7J9TRk+ppKKAAFh/EaCWP8RoooAXJ9TRk+ppKKADL/AN40Zf8AvGkwKMCgA3N/eNG5v7xoI70Ad6AF3Mf4iPxpMsP4j+dHSlxmgBCWH8R/OlBb+8fzpCM96OgoAVWb+8fzoLN6n86OBTSc0AOy3940Zb+8aTg0YFACkv8A3jRlv7xpNvvSYx3oAXLn+I0Ev/eNAwOc0YBNABubHU/nSbm/vH86VaMc5oATc394/nTt3+0aTb70baAAl8/eP50uW/vGk20baADc3940B27k0babQA/Lf3jRlv7xpMAdTRgHpQA4lj/EaTLf3jTSMUvFAC5b+8aMt/eNJjHNGAelAC5b+8aMt/eNJxQSD3oAXLf3jRlv7xpNvvRjHegBSW/vGgFv7xpuB60YHrQA7Lf3jRlv7xpAQO9IMDvQA7Lf3jRlv7xpuM96XbQAuW/vGjLf3jSfLR8tAC5b+8aAW/vGkAFJgetADst/eNGW/vGk2+9IAPWgB5LH+I0mW/vGmkYpeKAFy3940Zb+8aTGOaMA9KAFy3940Zb+8aTigkHvQAuW/vGjLf3jSbfejGO9ACkt/eNALf3jTcD1owPWgB2Wz940mWzjcaP4aMDFAC5b+8aPm/vGmjA70pGaAF+b+8aPm/vGm4HrRgetADst/eNALf3jTcD1pQPegBQX/vGjLf3jSAClOO9AAS2fvGgFs/eNJgYzRgYzQApLf3jQS3940hA9aQjHegB2W/vGjLf3jTcD1owPWgB1FFFABRRRQAUUUUAGc0UnzUtACZFGRRk+lGT6UALSZx2paMigApMr1paTJ9KAA57UDPelpPmoAMCjAoyKMigA+Wj5aMn0oyfSgBcYowKKKAEwKCAO1Lz6UhJoAMg0ZApfwo/CgBMCjApAT0FOoATAowKWigBMCjgUZPpRk+lAAeDmlpDycUtACfNSgGkzntRz9KADn1oOR3oyBQSD3oAXoKRTnqaXp1ozmgAooooAKKT5qPmoAXPGaQEmlBzScCgAwfWjB9aMijIoADntQM96BnvQc9qAFpP4qXPOKOM0AITilHNHtRQAnzUoBpM57Uc/SgA59aDkd6MgUEg96AF6CkU56ml6daM5oAKKKKACik+aj5qADqOKFpQc0ZFACEZpQMUgPrS0AIc9qBnvQc9qBnvQAtJto3UtACE54FKOKAc0ZxQAUUm72o3e1AAc9qTBFKCaDntQAtFITigHNACg5oJxQBigjNAATQPeikyKAFoozijOaACg57UUUAJgUv4Ugz3paAEwKMCl59KOfSgAooooATgUGl59KKADgUmRS0mT6UALRwKKTJ9KADg0vAoOR2pMn0oACfalyKTJ9KUnFABRjFFGRQAcdBzQeODwPSuN+IXxa8EfDLTW1DxZq8NrGASFJyx/Ac189aj/AMFFvhRaXTQ2K/aVU4D/ADCgD635AyRj3oPTI596+evh3+218HvHl8mlx6wlrdyHARwcZ+pr362vrW8tFvbW4SSJ13KynIIoAm45/hPal6ngY968W179q34XeHfGjeBtQ1YDUldY/L2Hqa9lgnS6hSdPuSorg+xGRQA89KWkPSloAQDFLRRQAc+lI1LnFITxQANSjgUUUAIc8sB16ilHp+leZ/Fz4++Bfgy1jH4xvxbPqG7yvlJzt+ldN8PfH+hfErw1beKfDtx59ldZ8t8Yzg4oA6XHt06UuOpHJpMkHPf0rB8ceM9H8A+HLnxNrkvlWVqAZG69aAN4nC5xk96Mc4HXtXlvwq/aJ8AfF2+ubHwjqQmltSBINpHX616iB6jPvQA7A60UUhGaAA57UtIc9qWgABzSYpQMUZoAQ9KWkPSloAQDFLRRQAc+lI1LnFITxQANSjiiigAooooAMYoPNIc9qWgAHSiijPOKACiiigBPmo+ag57Upz2oATrQDmjpQBigBaKKKAEBz2paQYzSk4oAQnFKeKQjNKeaAEY0ueM0YzQelAAcnvR+NJxnOaOtAC4zRSEZpaACiiigAooooAKKBzRQAUUUUAH40UHHeigAopMCjAoAX8aPxpDjvScetADufWjn1pDjvQMdqADB9aMH1oyKMigA59aXn1pDjvSkjvQAgyc4rmfiR40sfh94O1LxPqMgWO0iJBJ744/Wum6jBr5Z/wCChOuXen/Bi6s7aRkW5xvIPo1AHxBdah8R/wBrj4vnTo7u4aGe4ZQoY7Y0B/LpX2j4Q/4J4/CnTdESDX4ft96yAyS5K849K8x/4Ji+FbSX/hIvEVzErzr5XkuRyvXNfoGAoHAz70Afl5+1T+x3cfBy2HjPwJPM2nodzxxAgxc8c9TXuP7Anxn1/wAV+Hb3wT4j8+STTY8RSSggnIPrX2B4h8N6N4p02TStbtEubab78bDg1z/hv4V+BfBBnu/DWix2csincy9+KAPzF+M8m39rm4ZjhRdxdT06V+j+rfHf4X+BrCytPEfii3t5fs8YKr838I9K/MH9qI6j/wANIawulyFblp40jYDueK+h/CP7Auv+OvDCeJfG3jO4i1O6hDrEyltvHHf0oA+1vBnxW8B+P4xJ4X1+C6B7AgH8utdaCBkk5B6e1fjday+NP2avjpHoEGq3BksrqOMqWO11cgdM46Gv0i/aI+Nn/Cqvg5/wk0L41G6tIzAueSWUZP60Ad74w+MHw+8CKW8SeIbe229VDBiPwFZ3hX4+/CzxpdCz8PeKLeeU8YY7f51+dfwU+A/j39qnVr3xb4p8Tz2tk8m4SsxIcEnjGe1bHx6/ZA8SfAnSR448G+LJruCyIeXYSu054780Afp7G6yrvQh1PRgeKz9a8RaN4dtGvdX1CG0iQZLO4Gfzr5i/Yq/aIu/iN4GvNK8S3e/UdDiy0jHlxg/0FfLPx9+LPjv9oP4vt4A8MXs6WInMMMUTEdPvHIoA+/JP2pfgjHfGwk8YwifO3btOM/WvQ/D/AIr0DxVbC70LU4LqMjIKOCfyr4bsv+CbUkvhcXdx41mGpvF5m3YchsZxnNeS/BzWfiz+zv8AGhPC98uoXGmpOIrhSrMrg8Kc84oA9N/4KiFheeEDuwczYHr0r6E/YZOf2fNAYntJwe3zV86f8FN5zcDwRc7cNMkjn2yAa2vhh+0h4f8Agn+y3owa5SbWJ45RBbhuc7utAH2jrXxE8HeHbr7Hq+u20Ew6ozjNeTftU69pev8A7P2v32lXAmhZF+ZenWvjP4OfCf4lftUeO38ceKdQu4tIabe77yFK54AANfX/AO0f4N0rwN+zTq+g6OhjhtokVcsWJOeetAHy/wD8E6NWsNI8R+Ib7VLyO2hjZSWdgB39a+1Zf2nfgvFqR0mTxhCtyG2425GfrX5UfAnwN45+JnimTwV4TvJrW3vpMXUkf8IBr6s8Xf8ABOO7sfC8moaL4xmn1OCIyFdpBY4yec0Afd+i6/pHiG0F9o2oRXMDAEFGBq+8ixxtJKQEHcnFflj+yj8a/GPwg+K8fw78V3s7afLMYZklYnZjgdfU19O/tw/tEX/w08I2eieGLny9Q1qM7ZF6oMD+hoA9y8VfHn4XeDJWt9f8UW8MgOMKd38qd4T+Ovwy8bTeToHii3mc8BWIX+dfnz8AP2Q/F3x7sH8b+L/EN1Z2t0S0buWbfzzxnioPj/8AsneMv2ereLxr4T8Q3V5ZW7b5HQlAnPHGeaAP1Gmu7eC3N08gMaruLA8Yrmbb4p+BLu8TT4fEVs1ySVEe8A5/Ovn/APYt+Ok/xm8DXXhjxROZb+yjEUjE8sDx/KvmD9rj4NeKfgj8QI/G/hm5vP7Knm85cSMRHg5PfuaAP1Ha4hihNzJIqx7dxYngCuWh+KngWe7+wQ+ILd7gttCKwJJ/CvhLxj+3edT+BltoemztH4luofJlYdUxx+oq5+wr+z7rXiPUh8VfGU939n3mSzSSRsSEk7uM0AfoYjh1DL0IBFOPtTY0WNAi9FAApSaAFOT3opOBRkGgBaKKKAAmijIoJxQAmD60YPrRkUZFAC/jQOKQAUvAoATPGaM8ZoPSg9KAFooooAAc0E4oooAKKM5ooATgUvBpODS8CgAopMijIoAWiiigBM84paT+KjHOaAAUZ5xS0e9ABRRRQAUUUUAJ81HzUmB60YHrQAvzUfNSYHrRgetAClvSgZ70tJkUALRSA5oJxQAtI1GRQT2oAGoPShqD0oAAcmj+KgHn60fxUAB7YoPSgnmgnigAB4znrXzR+3v4TvPEHwS1C7so2lktApCqOeWr6XyNpBXkdKy/Evh+x8T6Jd6HqcKvFdxlCp5HSgD8+f8Agml4/sNH1vXPB+ozrHPfmNbdWOOVzmv0ZJ6gYr8mPjT8BviX+zf8Qz4u8JJcPYrMZra5hUngnJGB+VereEv+Ckuv6XoyWPiXwXNdXUKBfOZypcgemKAPsT9oX4sR/B/4dX3ilNjXUQHkxFgCxzivF/2Vf2pfFvx31nVLLUtNMNvZr97dkcg18ffFn41fFX9qjxFbaLY6Rdw2Uj7YrRVJVQfVsV94/slfs/j4LeAWfU4h/a9/FuuOORxxQB8MfGlFk/a4uFcAj7ZD1/Cv1f0dVTRbJEGB9mj/APQBX5UfGWyvH/a2uHWznK/a4fmEZI7d6/VjSfl0ezXv9mj/APQRQB+U/wC2QAP2oJ8Lg/bLbt7ivb/+Ch73q/DXwWsDN5JtB5uOn3VxXi/7Y1jezftNzSRWk7j7ZbfMsZI6r3r7e/aK+DUvxf8AgfDpmnW+7Uraxia3Hf7oJ/lQB8Ufs/eG/wBrDUvBFvP8JrnGjHOxVKZHPfPNdx4q+FX7c3ifRbjR/EtwJrCcASI7RqPzrhPgN+0J45/Zf1a78I+JvDt1PYb9vlEECPB7HHeu5+Nf7dPib4laGfCXgHw7dWcl5hWmj3E5zx2oA2P2afgB8T/hND4l1XxBbRwQ3FuxPlzq+fkPYGvKP2NTbP8AtMRPqpUuLqfbv79fWvrb9jb4Z+OrHwXfav8AEW5nkl1iLEcMpJ2jBH9a+Tfjp8LfHv7OvxjPjnw7p85sTOZraWJSQRnLdKAP1aBVUBBBGPyFeb618Qvg1ZeJX0jVbywGrKyqytEpbcenNfJw/wCCj8p8IG1bwfMdX8nys7jndjGeleU/s7/Df4h/H74zr478QxXkVgJ/NuJX3KMdVGKAPRf+CoLo7eDnh6MsxXHcYGK+VdI+C/xL8TfD6bx3a2E8mjaeAyHdkcnnAr6u/wCCmunXIbwXb20EswgWRPkQnoAO1e7/ALHPh201j9mrS9I1awGy5ilR1dMHknrQB5F/wT7+PdlNp/8Awq7W3igurc7bbIAL85NfQX7YRB+A2vt1BROfxr8+/jp8MvFP7N/xmXXvDkVwtq9x5ttJEhIIzlhxX1r45+KsPxf/AGTdR1eCGUXawRrPEUO4EHFAHj//AATVOlDxTr3nbBdl18vPXvnFfovPsMTBz8m07s9xivxa+Cni/wCIPwo8Uv448PaReTW9lJm4QIwyCcelfVnij/go7cXPhOW10nwjPDqs8Xl5ycqcYJxigDwj9oQRp+1tfroG3aLy32lOnUZrr/29/tv/AAmvhtrzd5XlQ7M9Purmsz9lb4Q+MfjV8YY/Hviayn/s+GYzXM0qkbs8r1r6l/bh/Z51H4leDrPXPDFoZNQ0OM7Y1HMg4/kBQB67+zCbD/hTegiwKeWYjkrjk1T/AGsf7OPwR13+0dhTyxgN65r4c/Z7/a68W/AnTj4H8WeHrq7sbViibwy+Wc89uai/aF/ay8X/AB/ij8FeEvD11a2M7BHCBm83J47cUAdD/wAE2zc/8J9riwqRbiQbj2xzivq79sXxF4E0j4TalB4yjhla4TFvG33ic9u9cN+x78G5PgT8Or3xj4xgMF5eRCaRCMlcAkfnXyf8cPHnjX9qD4vw+G9Ftbs6atx5dvFsYKFzhjQB876W9tZ67bajfWbyaeLoOFIIBTf6/Sv2n+Avinwh4q+G+kah4N8lbIQhfKTqpAAOfxr5/wDHv7E3h6b4EW+haPZr/bunW5lS4A+ZifmIr54/ZA+NXiT4JfECTwL4qhu00u4n8ly0bERkHA7dzQB+poPpSDOeaitLqG+tormE/LKgcfQjNS8YwaADvR3o70d6AAnFHQUEZpaAAc80HnikJxS4xQAU3JpQc0EZoAU8UgNKeaQCgA3UZFHy0fLQAZFGRR8tHy0AGQaMgUny0fLQAuRRn3pDtxSjaaADvR3o70d6ADn1oOR3oIHrRgHpQAEkDrQARzRjPNAAoACcUtITiloAQDvS0UUAJ3o70d6O9AC0UUGgBAeaCOc0mBig4xQDVg5zkUvPrQMdKBjPFJK/UNWHA4ozQwxQRTt5hdCE0ueKRqXHFHzC6BaAecYoFIetO6DQUkjvQcgdaQ896OtK6DQXIHSjIoA4pB1o1DUM0ZoHWlajUNRaMUh6YoWlqBS1PRdM1u2az1OyhuYmGCsiA/zrzLUv2V/gjrF013f+DIWlY5JDkD9K9ZODgmg4DYLZFPUZyHhL4SfD7wOAPDvh62tj2YoGI/E115A/1eARjFKeRjHSj5cZzk+lOzE7HJXnwr8DX+sHXbzQoJL1iG84gZyK6tFVVWNQAEGAPQU8YIwBSdyCdxPalqLc5TWvhd4I17UjrOraFBPeFg3mMBnI6V1EUccUaQxgeWi7QuO1PHXnj0o3EfL2FFhnGeLPg98PPG0vmeI/DltPJ/eChT+grO8O/AL4U+FrsX2jeFreKVTkFhu/nXooOBn0oJzyOlFgGRxRQxpHDGqIvACjAFZ+u+GtE8SWr2OuWEN1E4xh0BxWkOufXtRz0zg0rtB7zPK3/Zf+Cz3f2tvBkPmk7t27jP0r0LQvDei+GrNNP0TT4bWKMYARAP1rSIz06+tKD2LZI600nILM57xR4C8LeMjC3iPS4rtrfOwuM4zWlouh6X4c0+PStHtVt7SP7iKOBV7nlg2c0vG0ZGCKAOf8TeBPCvjARf8ACQaPDeeVnbvUZGarWXw08GaZpU+i2mjRR2VxjzIh0P4V1HGN4GCetB9hgetAHJad8KvAWmW1xaWfh21SO5H71SgOf0rmpv2Zvgxc3IvJfCEAk3bg2e/0r1IEgbs5IoXptxwaAMzQfDWheGLJdP0OwhtYIhgBEAzWk6LIrCVAynjBGQaXg8E5pM8H+8egoA4PxN8C/hj4vuTda74Xt5ZW5LKoX+VL4X+B/wAMfB9yLnQfC9vFKvIZlDY/MV3mcDBPTtS8AdeT2p2sw0XQpalpOn6rZNpl9CJLZxhkAwMVzuifCjwJ4d1AappPh+3guUJKOFBPPWuu7YB4WjqcjqaSTb0YIR1V1MTKCMYxXGXvwe+Heo6k2qXXh23a5dg28KAcjvXaZ6ZOcUDjhjgetF0O5Fb20NpAlvAMKgCgegFSnOQc0ZA+ajjv3ouguLRSAYpScUm3HYQhOKWjIFFHqAhGaWk3Uuad0AUUgOaDzTugFHFNPWnZpo60XQCnpQOlLRRdAIM96Dk0ZFGRS0QW1uGD60YPrRkUZFK6YO973A9KAMUtJupgAOaCcUZA4oPSgBc0mD60ZAoyKADJ9KMn0oyKMigANABpcZpuB60ALg+tGD60ZFGRQAvPrRRkUUAJg+tGD60YFGBQAHPagjNGBQCACc9KG1b3gbSXvBjvnHvRjuR+NeX/ABB/aE8BfD+8bTr7UUe7X70YycfiK4cftneAedqcDqea46mMoU92cVTMMNSdnI+iM/7X6UZ/2v0r54/4bO8Bdk/nR/w2d4B/ufzqf7QofzELNMK/tH0OcHvQMDvXzv8A8NneAv7n86P+GzvAX9z+dH9oYf8AmD+1ML/MfRHPrRz6187/APDZ3gP+5/Oj/hs7wH/c/nR/aFD+YP7Uwv8AMfRB3HvSYP8AEa+eD+2d4C7J/Omy/tpeAIo8uvT61rTxtGbsmH9qYX+Y+icn1oHHevmj/huj4c/3P50f8Nz/AA6/ufzr2FleKkrqI/7Uw38x9L4PpQQT2r5nP7c/w4/55/zo/wCG6Phx3jP60/7KxX8of2phv5j6ZNA4/wD118zf8N0fDf8A55n9aP8Ahuj4b/8APM/rR/ZWK/lF/aWH/mPpgcUdTXzP/wAN0fDf/nmf1o/4bn+HHaM/rT/srFfyh/aeG/mPpnnOB0pAMn6V8zn9uf4c8/uzx9asWf7bnw6vrlLaKP5n+tH9lYr+Ul5thIK8pH0jn/apPoa8NH7WHgkgEJ/Oj/hq/wAFdk/nT/snFP7Bxf6yZbF2lUPc8H1owfWvDP8Ahq/wX/d/nR/w1f4L/u/zo/sjF/yh/rLlv/Pw9zz/ALX6UZ9/0rwz/hrDwV/c/nR/w1f4K/ufzpf2Ti/5Q/1ly3/n4e5k+9A69a8M/wCGsPBX9z+dH/DV/gofwfzprKMU/sjXEuXJfGe5kkKTnk0AgMQK8MP7V/gv72z+dXNL/ae8Iatex2FvH+8f61FTLMVBX5S6Gf4CtKymez5HrRn/AGv0rhB8VtNIBFu2D9aX/haunf8APu361wNW0Z7SaaujusH1owfWuE/4Wrp3/Pu360f8LV07/n3b9aBnd5/2v0oz/tfpXCf8LV07/n3b9aP+Fq6d/wA+7frQB3fXvSH1zXC/8LV07/n3b9aP+Fq6d/z7t+tAHdHjk85pQDjrxXC/8LV0wHi3bH41R1T41aJpVv8AabqEhR9axxFanhoe2qOyNKVGVeXLBHpBDY4NAz3NePf8NI+Ev7v86P8AhpHwlj7v868KXFWWN6VLHpvIsdNXjA9hyfSjn0rx7/hpHwn/AHf50n/DSXhP+7/Oj/WrK/8An4P+wcd/IexfhRz6V49/w0n4U/u/zo/4aT8J+n86P9asr/5+B/YWO/kPYefSgZHavHv+GkvCfp/Oj/hpLwp6fzprivLLXdQP7Ax/8h7CB37mgnHJPSvHz+0l4U/u9PrWN4j/AGtvBHhu3FxdD5W+taUeJMtxMuWNQqPD+Pe0D3nPtRn2/WvmA/t2/Dj+7/Ok/wCG7fhx/cP616Sx9D+Y2/1WzP8A59M+oM+360Z9v1r5f/4bu+HH9w/rR/w3d8OP7h/Wj6/Q/mD/AFWzT/n0z6gz7frRn2/Wvl//AIbu+HB/gP60f8N3fDj+4f1p/XqH8wf6rZp/z6Z9QZpMj0r5g/4bt+HH9w/rSj9u34b/ANw/rS+v0P5h/wCq2af8+mfTxzwc8GlIGeelfMcP7dfw2aRUYbVY8nnivZfhx8X/AAZ8TrP7V4Z1RLgoBuToR+dXTxdGo7JnLisix+DhzVoWR3GBRnFIDmlxmult9DyNluIRmgDFAIoJxQAfNR81Hy0fLQApz2oGe9J8tHy0AAOe1BOO1G6jdQAZ5xR/FS55xSfxUALRz6UnzUc+tAC0UUUAFFFFACcHLetY3i6+k07w7f3kJ+ZIWI/I1skk4OOBXPeP9p8I6mB3gb+RqKvwMyry9x+h+ZHiPUr7Xtcu9Sv5WkkkmcfMc9CapfZMZIA5q3sBvLknn9/Jj/vo1YWMAZ71+e1qj52flderLnkjM+yn+7R9kI6CtTyh6UeUPSsXOSdkY+0ktDK+yn+7S/ZT6VqeUPSjyhjOKfPJD9pK9rmX9k9qPsp9K1PKHpR5Q9KFO60H7WWzMo2xGeKo6pBttJDjtXRGNcEkVl62irYyYHQV6GVyviYJ9wjVu7HExQbh071L9m5HFS2Y+Q8d6thAa/pXDQjKlGy6IcqjUtWUPsgoFoK0PKo8ut/ZQWpPtJt6Gf8AZBR9kHpWh5dHl0eyXQftGt2Z5tKPsnPStDy6PLpuiJVuhnG268Ve0CDbq0P1pzR8ZqxoqY1WH60vZR7GGJqP2TPSoLYsi8dqn+xHd0q1Yx5iX6VdEIHOKtU0fn9WvJS3Mj7H7Uv2L2rW8kelHkj0o9mk0kiPrGm5k/YvQUfYj6VriIelHlewodKKshfWJRd4syPsXtR9i9q1vJHpR5I9KPZK6G8RJK9zHNlz0rc8CwbPFFnx/FUTQgdK0vByAeKLPA/jrz8ypWw0rHs5BXlLHU031Pqe00xXhjIQcqO3tVj+x1I/1Y/KtbS4Fa2iyP4F/lWkLZcdK/LJ/Ez+jKXwL0OY/sdP+eQ/Kj+x0/55D8q6j7MPQUfZl9BUlnL/ANjp/wA8h+VH9jp/zyH5V1H2ZfQUfZh6CgDl/wCx0/55D8qP7HT/AJ5D8q6j7MPQUfZh6CgDljpA/wCeYx9K4H4tWSw+HnOwD8PevZZLdQM4ry741RKvhtyPUfzr5/idtZbUPWyTXGwR4BHaZHAqUWRx0rQtIlKjirawJ6V/M9SvKMnqftlOlHkWhifYj6UGxz2rb8lPSgQIe1R9Zk1uV7GOljE+xcfdo+w/7Nbfkp6UeSnpU/Wp7Jh7GLaujE+xe1H2I+lbnkL6UeQvpVfWJ8urGqMXJJGEbJvSvNfjNBs0mH8a9kkhXB4ryj42pjSocep/nXs5DXlLGQVzowlH98rnhywbuop32fBq1EgqXy81+tqbaPs44eLitCh9nGelH2cDtWh5Q9KPL9qfPbqX9VjfYz/s6+lH2celaHlD+7R5Y9KTqX0QfVoJNWM/7MB2pfs6+lX/ACx/dpPLX0oc7ISw0exnmADOT16V7T+yX4n1TQ/i3pem21w/kXjMJV3ccDjivJWjHOF6da9F/ZsG340+Hzjje+fyrrwVR+1jqeDxHhYf2fUuuh+qcZLRo3qoNPOccVFBnyY/9wfyqT5q+6Xwn8vTilKXqLQBimg4pQc1RAfxUNRjnNH8VABkUuRRz6Uc+lACZFGRRk+lHPpQAHpQOlLRQAUUUUAFFFFABRRRQAh6Vzvj/wD5FLUv+uDfyNdEOc1zvxA/5FLUv+uDfyNZVvgZlX/hy9D8yf8Al5uP+u8n/oRqyOlVx/x9XH/XeT/0I1aAr86qfGz8nr/HL1A9RluvQ0AHgbcepz1o7EYz6V6P8Lvgn4i+JQlns42htYlyZcZyadKlOtLlp7ioYedafLT1Z5zgnIxmun+H/wAP9b+IGsw6VpVs5RmHmNjhRW7pfwR8YXvjM+E202RXjkAd8cBfX8q+0/AHw/8ACvwd8K+dKYklSPdNO3UnFelg8ulXqc1TRI9fL8oliJ81TRLc+Zvi5+zTN4H8PRa3pdyJljXNxkYwa8AKkEgr0OGr3r9oH493XjO7m0DRJCumxkqWH8deDHnG7qefrXPmHsvaWo7HLmaoKrbDidjWRrufsMn0rXI4NZGu/wDHjJ9KrKrPFwXmcCepylkBtH1NXF6VTs/uD8auL0r+n8M7YeK8kKau7sXoQSeOwpOnbHtS4J4ByB0969Z+Fn7PHiz4oabcarZwNDbwrujcj79KtXpYWHNVZpRoVMTK1M8mABbIruvhP8J/EHxR12HTdMt38ncPOl28KK2vB37PvjXxH43bwpNp0sIgkAmkI4Uf/qr738G+DPBfwI8Fb5DDB5EW6aZgMsa8TM86jh48lDWTPZy7KJV3zV9Io+Pfj/8Asv3Pwy0iLxDpFwJrJFHng8bD/XmvnVjghvzFe9ftG/tD6h8TtSl0XSnMejwsVAB4krwckkliceld+VLEOhzYndnDmUqCq8uH2Qh6VNo//ITi+tQnpU+jf8hOH616LR5GJ/gs9Z08fukq+DVHT/8AUp9KvDvVxR+d1viF6YK9uvtR1BP3g3X2o5+WvRPBnwW8ReMdGn1eCMxxqu6IY+/61jiMRTw0eao7GuDwNbHVHToRuzzvAHAGAK7T4cfDXVfH2pi3ghZLYEeZLjgCr3gr4P8AiDxJ4jOk3No8Mdu+JnI7V9X6bp/hn4VeGOTFBHAmST1Jrw81zqNL93h9ZM+u4f4XliZe3xq5acT5l+LnwYn8CRrqFk4ltSBu7bT/AFrycAZGOlel/F74sX3j3UmtYnKWEbEKg715qMngngdK9PK/b/V08R8R4GffVPrklgvgQ1hxitHweP8Aip7PP9+s9q0fB/Piiz/36WaL/ZpJmnDzisfTXW59jaT/AMe0X+4v8q1FrL0n/j2i/wBxf5VqDpX5RP4mf0lS+Begc8DGcdqD97nr29qGIXndhQCSfSvCfH37W3gHwJ42tPB9xcpIXcpPID/qj2qSz3bv0+prxn9oL9ozw58F9Ckle4S41KUfuIA3JP8ASs745ftQ+Efh14OXUtNv4ry+vYibaNG7kf8A16/O1U+IX7SHxCABnu7i8l99qLn8hxQB+hP7MX7TVl8arB7G/iaDU7cncuCQwJ45+lfQGSTnHTrXjf7O37PehfBfw6kcSh9WuEU3E2OSa9lOeMNn8KAGS/dryz43f8i5J+H869Tl+7Xlnxt/5FyT6j+dfP8AE7Tyyoevkf8AvsDxW05UfSrvQVStBhV+lXB0r+X63xP1P3Ck7U0GB/hS8HqKFUllK9+MV3WmfCTxBqXh+TWkjYEDdHFjlh3roweW4jMZNYdXsYYnG0MIlKu7XOF2jcAOQf1rufh18M7/AMY3PmyQtHZp1cjrVj4d/C3VPE2pbr+FobWFvm3DrX0BqGpeH/h1oG3EcSxJgKOpNfa8OcJqSeLzBWprv1Pl864hcGsNgdZv8D5x+I3w9n8GXow++3f7prjM/wAIHPb2rqPHnji/8Y6m9zKSLdSfLT0Fct83ds4r5LOvqzxklgvgPosqWIeGj9Z+LqNkHymvJfjeP+JVDj3/AJ1605yDXk3xw50mH6n+dbcO6Y6ET2cIl7eJ4zF0qeoYugqev2B7H29NqMUg4+8TgUnQYIx71JDDLcTLDCpZ2IUL6k17Rbfss+ObnwL/AMJgsDl9m8W+3kitaeHlVWhw47M8Nl0l9Zmo32PFApY/J1PQV7v+z9+zVrHxRn/tPVIXt9LQH5mX73HH61e/Z5/Zm1jx7rSal4jspLfTLaTL7xjfg/8A1q+zvHPjnwT8B/BXlRiCHyItsUS4yxxXr4HLo8nta2x8FxPxhUVRYDKveqy6rofn18dPgxqHwi8QiwkkElpOT5MnHzAdeO1eY46DORXc/Fn4qa38U/EUmrapKRAHPkx/3BXC8keory8T7P2j9nsfdZOsX9Sh9dd6ltRH6V6H+zf/AMlq0D/ff+VeeP0r0P8AZv8A+S16B/vP/KrwS/fROTiPXL6nofqfbHMMf+4KkJxUdt/qI/8AdH8qlr71fCfyrW+J+oUgHNLRVGYhGe9KRmiigApPmpaT5qAFPtSDPelPtSDPegBaMiijAoATrR0paKACiiigAooooAMVzvxAA/4RLUuf+WDfyNdDj3rnviAMeEtSP/TBv5Gsq2kGY19KTPzJH/H1cf8AXeT/ANCNWR1FV1/4+rn/AK7yf+hGrA7V+d1fjZ+UV9arFP6Gvoz9mr462/hMxeEteVFs3O2ObAG3/GvnPHG3OPUUqM8Tb0Yqy8hga0wteeHmpwNcJip4OoqkT9RZ9S8M2FhJ4ldrdUZN5m4yRj1r4z+Pvx+v/Gd5LoegzNHpsRKsVb79eb3XxX8Y3vhmPwrPqsn2KIYxnkj61xuSSWLEnv716eLzV4iHJT0PYx+ePE0/Z0lbuKxLEsxJJ9aKQUA5rxNz53fcQ96ydd/48ZPpWse9ZOu/8eMn0r0Mq/3uHqVHc5Sz+4KuLVSy+4PqatrX9PYbWhG/ZClJ82gobDAgYAORX1v+yl+0ZZ6EsPgfxN5cUBIWGUgDFfJBA4+bOf0p0c8tvIkkLFGQ5BBwc1jj8DTzCl7OR04HFTwVX2iP1y1bW/CfhnTJvFVw9rFGyeY0wAy3HFfAn7Rf7ReqfEnVZdH0e4eLSIWKqqnHmV57rfxi8ca94atvCmoavLJZW4KhemR9a4jcxADHNeNluQrCy9rX1fQ9bMM6liV7Ojog5PJPWgZ70c0gz3r6bW10fP2V7MG61Po//ITh+tQN1qfR/wDkJw/WkzDE/wAFnrdgcxJ9BV/PSqFgMRJ9BV/0qon53W+MVSVYSDqpyPevpH4BfGWyihh8K63sjI+WKQ8Bq+bQOPX29KfBPJbyLNBKUKHII4INcOY4Cnj6bpz3PTyXN6mT4lVobdT9BNa1vw74Z06bW53hhTbuLgD5vSvkL4s/FvUfHWoyW9vM0dhGxEag9a5zXPiJ4m1/TLfS9Qv3eCEFQOma5gf7TV5eVZEsHP2lfWXQ+gz/AIulmUVRw/ux6hnNFFFfSHw71dxDWh4OP/FT2n+/Wea0PB3/ACM9p/v15uaf7tI93h7/AJGEPU+x9J/49ov9xf5VqLWXpP8Ax7Rf7i/yrUWvyifxM/pKl8C9Bs8azRPC4yJFKt9CK/PX9sD9ljV9H1G5+IPhKOW4tpG8yaMEkx/jX6Gjhsk9aq6lplpq1nLY6hAs8MylWVhkEVJZ+MngnwV43+KviK28MWSXVy6vsO8kiMd+tfp9+z1+zz4d+Dfh6FRbRy6pMgM9wV5zXVeBfgt4E+Ht/d6j4d0aK3mum3O/U59s13g65z06UAAAPNAwe1LSAY70ANk/1Zryv42f8i3J+H869Uk/1Zryv42f8i3J+H86+f4n/wCRZUPXyP8A32B4ta/dH0q6eoqla/dH0q6eor+Xq/xM/caX8NDomMUqP3Qgivo74RfFCx1i0j0PVCkdyg2qT0YV83H72c/Sp7O9ubC4jubSUxOhySK9zh7PquR1lUirxe6PJznKaebUeSWjWzPsbxJ4k0Pwfpcl6/lJxkBcDJr5b8deOdQ8X6k8s07CIE+XGOgFUfEPi7WfEpRdSu2kSMYVegFYoO3kHr39K9niXi6ebr2ND3YHnZJw5HLf3tb3ph0FA5FIOuKOp4r4Y+pW42Toa8m+N/8AyCYfqa9ak6V5L8cP+QVF9TXucPf79A6MJ/GR41D92phyKhh+7Uw4r9etdWZ9vT1SZa02/m028hv7fG+FwwyM5wa/Q39mv9obQfH+jw+GtcaGHUIkCbWxh/6V+dJycnOCa0dB1/VPDmpRappFy8E8JyCprvwWM+pvyPm+JuHKfENDlbtNbM/Ur4n/ABP8H/CDw3Les0ETlSYokABY/hX5vfFf4seIfijr8+p6lcP5Ic+VDu4UVn+OviX4q+IN0s/iHUZJ/KUCNScDp6VynGPQ1vjsyeI92HwnmcK8H08kXtsR71TuLRRRXk+h92rX0GSdK9D/AGbv+S16B/vP/KvPJfu16H+zd/yWrQP99/5V2YP+NE8LiPTL6iXY/VG34gj/ANwfyqSo4P8AUx/7g/lUlfexfuo/lOprNt92FAGKCcUVRmJjnNB6UtFACHpS0h6UtABRRRQAUUUUAFFFFABRRRQAUUUUAGMsR61zvxAwPCGp5/54N/I10OTuA9Ky/E2ntquh3lggy0sLAfXBqKq5oMyrq9Nn5eJzdXBzx50n/oRqyvI54Bq/4q8N6l4U8RXuk6payRPHMxUlTggknrWasqbfvZPpX53WpyjN6H5Xiaco1XoS0UzzV9aTzU9RWXJNdDD2c+iJKTB9ab5qetIZU7mhwl0QOnN7okoqMyoO4pfNX1/Wjkl2Dkl2HHpWVrv/AB5S/StEypjiszXHU2UmPSvRyqLWLhddSowl2OUs87B9aueuTVKzYBOfWrXmJzzX9M4acPZRbfRBKEnokSYPrRg+tM80daXzV9a256b1TJ5Ki0aHUUzzEHejzEPWhVV3B02ug/B9aMH1pvmrSeatNVIN2uHsprWw5j2qxo3Opw896qmRc1Y0ZgdVi+tJzj3McTCXsXoeuaef3S89hV8YwOazrB1ES5PYVd81OOaqM49z88rUanN8LJKKZ5y+opfMT+8Kp1ILVsyWHqb8rHUUzzk9R+dHmp6inzR6MPYztqmPopnnJ6j86POT1H50c8e4OjU/lY5ulaPg8Z8T2f8Av1lGZDxkVp+D2U+J7PB/jrzcznF4eVme5w/TmsfBtM+yNJ/49ov9xf5VqD2NYulX1oLeMGZPuD+IelaI1Cz7zx/99CvyqfxM/o+l8CLLUo+tVf7Qs/8AnvH/AN9Cg6hZ9p4/++hUllnB9aMH1qr/AGhZ/wDPeP8A76o/tCz/AOe8f/fVAFoYoOKrf2hZf890/wC+hR/aFl/z3T/voUATy/dxmvK/jdn/AIRyTnuP516W+oWewkTx/wDfQrzD403EEvh6QJIrHjgHPevA4mTeW1Ej1skaWNg2eN2h4H0q4elUbWRNo57Va82PH3hX8w1qNTmfus/b6dSHs1qSUH61H5sfrR5sfZh+dZOjWbvys09pB63Hk89aUnio/MT+8KPNTGMj86FRqr7LEqkU7XHnpQtM8yP1A/GgSx+o/On7Gp/KxKpC+4rk7SDXk3xw/wCQVF9T/OvV3ljKk5FeTfG8g6XDj1P869zh6lNY6LaZ0YWpD2y1PHIcham5x1qCJuKl3DGK/XeSUldI+2hXpctnJfePopu8elIXHalyN6NF+2pS2kvvHUtM3il3ijkklZIft6ezkvvHUU3eKTeKfI3okL29GWikr+oPggdh6V6J+zfx8a9Ay3LO/wCHFedFwScjPpXt/wCyR4B1rX/ihY67HZyCz09iZJGXA5HFdmChL2sdD5zijF06WXT95bH6S25P2eL/AHR/KpabEu2NU/ugCnGvu0vdR/LtWXNNpAelIBigHNLTICiiigAooooAKRaWigAopcH0NGD6GgBo6UtAVsdDS4PoaAEowKXB9DRg+hoASilwfQ0bT6GgBoPFID+tP2N/dP5Umw56Gl7z0YWvuch4u+Ffgfxud3iLRI7lu7A7T+YrlG/Zb+C+Qf8AhFj/AN/mr1raR2NG3sQR+FYywtOW6OWeEoTeqPJf+GW/gvjJ8Lf+R2o/4Zb+C2M/8It/5HavWtr47/lRtOO/5VH1Sl/KT9Rw/Y8lH7LnwWH/ADK//kZqP+GW/gt/0K//AJGavW9rf3T+VG1v7p/Kj6pS/lD6jh/5TyQ/sufBU/8AMrn/AL/NR/wy78F/+hW/8jtXrWxvQ/lRhvf8qHhKP8ofUcP/ACnkv/DLnwXzz4WP/f8Aakk/ZX+Ckow3hXI/67NXrZR+pB/KlKsRwD+VXDD0ou6QfUcP/KeM/wDDI3wJ/wChR/8AI7Uf8Mi/Ar/oUv8AyO1eyhWx0P5UYbP3TXorG10rKTH9Rw/8p4z/AMMi/Av/AKFL/wAjtS/8Mi/Ar/oUv/I7V7LsPoaNh9DT+u4j+Zh9Rw/8p41/wyL8Cv8AoUv/ACO1H/DI3wK/6FL/AMjtXsuG9D+VGG9DR9exH8zD6jh/5Txr/hkb4Ff9Cj/5Hag/si/Ar/oUf/I7V7LsPoaNh9DR9dxH8zD6jh/5Txo/sjfAwAf8UlwP+m7VLbfsn/A+1mE9t4Sww/6btXsAQg5IODQVPoQPpR9er/zMmWX0JKzieZ/8M6fCYdPD2P8Atq1H/DO3wn/6F8/9/Wr0zBHY0YJ7H8qP7Qr/AMzOZ5LgnvBHmZ/Z1+FA/wCZfP8A39agfs6/Cg/8y+f+/rV6YVbPQ/lQA3ofyp/X6/8AMw/sTBfyI8z/AOGdvhP/ANC8f+/rUf8ADO3wn/6F4/8Af1q9M5/umjn+6aX16v8AzMP7EwX/AD7R5of2dPhT/wBC8f8Av81N/wCGdPhV/wBC8f8Av61emkE/wGk2n+4aax9f+Zg8jwT+wjzT/hnP4UFiP+EePP8A01arFj8Avhhp1yt3Z6BslTofNNeiEEjaSQfpS7Tx8pI7molja8tHJmlPKMHSd1BXOVHwz8I9rBx/21NH/CtPCX/PjJ/39aup2n+6aNp/umuZu56KVlY5b/hWnhH/AJ8ZP+/rUf8ACtPCP/PjJ/39aup2n+6aNh7KaBnLf8K08Jf8+En/AH9aj/hWnhL/AJ8JP+/rV1JDd0NADdkNAHLH4a+Ev+fCQ/8AbVqT/hWnhP8A58JP+/zV1O0/3DRtP9w0Acv/AMK08In5Rp8mP+uzVXvfhP4Hvo/Ju9LZl95WNdkEI4OfypMMOCpIrKrRjiI8s1oVCq6UrxPPj8Cvhz/DouP+2ho/4UV8Of8AoDH/AL+GvQQpH8JoCE/wGvLWQZfJ3nTR3vM8Sl7s39558fgV8Ou2jH/v6aT/AIUV8O/+gN/5FNehFTn7po2kdFNP+wMv/wCfaJ/tTF/zv7zz7/hRfw7/AOgMf+/rUn/Civh3/wBAb/yK1eh4/wBk0Y/2TR/YGX/8+0P+1MX/ADv7zz0/Ar4ddtGP/f00n/Ci/h0P+YL/AORGr0LaT2NJtP8AdNC4fwFv4aB5pi/53955/wD8KL+HWMHRj/38NZ2sfs2/CfXIfJ1PQPNT08xq9SKnGMGja4GApAqqWTYKjK6poazXFr7b+88U/wCGP/gX28J/+Rmo/wCGP/gZ/wBCn/5Hava9r/5FG1/Su76rSX2TX+2sb/z8f3s8UP7IHwK7+Ff/ACM1A/ZA+BX/AEKn/kZq9rCnupoKHspo+q0v5Q/trHf8/X97PFP+GPvgX/0Kf/kZqP8Ahj/4Gf8AQp/+R2r2sq3YGja/p+lH1Wl/KH9tY7/n6/vZ4mf2QPgX28K/+RmpR+x/8CyP+RU/8jNXtW1v7hpdpHRTR9Vpdg/trHf8/H97PF4v2QvgdG4b/hE+VOR++avSvCvgnw54LshYeH9MjtYlGPlHP51vBTkkgk+lCq3J2EVUcPGHQwrZlisQuWrNteoCil2n+6fyo2n0NbX6HBs7oTpRS7T6GjafQ0AJSYFO2n0NGD6GgBM4oo2k9jS7T6GgBKM5pdp9DSbSOxoA2tq/3R+VG1f7o/KlooATav8AdH5UbV/uj8qWigBNq/3R+VG1f7o/KlooATav90flRtX+6PypaKAGlR2UflSbB6CnfjSHPehXFZMNqjsPypML/dFKtLkdKA2EwvoKMJ6D8qNvvRt96Bi/L6CjC+gpNvvRt96A0FwPQUbV/uj8qTHvRt96QC4X0FJhfQUbfejb70wDC/3R+VGF/uj8qXHSjHSgBML/AHR+VGF/uj8qXHSjHSkGgmF/uj8qML/dH5UuOlGOlAaCYX+6Pyowv90flS46UY96YaBtX+6PypNo/uj8qdSZFAtRNq/3RRgDHyilyKTbS1GLtX+6Pyo2r/dH5UYo20C0Dav90flRtX+6Pyo20baA0Dav90flRtX+6PypNvvS7aY9g2r/AHR+VN2+wp9FK7Fa4m1f7o/Kjav90flS0UxibV/uj8qNq/3R+VLRQAm1f7o/Kjav90flS0UAJtX+6Pyo2r/dH5UtFACbV7gflSYT0H5U6kyKV2hbjSF7AUYHoKfRRa4xuxfQUbF9BTqKYDdi+go2L6D8qdRQAzavt+VKFX0FKDmlpagN2p3Ao2r/AHRTqTFMWobV/uj8qNq/3R+VGKNtINA2r/dH5UbV/uj8qNtG2gNA2r/dH5UbV/uj8qNtG2gNA2r/AHR+VG1f7o/KjbRtoDQQKOuBS7V9BR+NLRqwGkKP4RS7V/uj8qWm7fejYYu1f7o/Kjav90flS0UwE2r/AHR+VG1f7o/KlooATav90flRtX+6PypaKAE2r/dH5UbV/uj8qWigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/9k=\\\"}\");\n}\n\nvar socket_ot;\n\nfunction ot_open() {\n\tsocket_ot = new_ws(get_appropriate_ws_url(\"\"), \"dumb-increment-protocol\");\n\n\tconsole.log(\"ot_open\");\n\n\ttry {\n\t\tsocket_ot.onopen = function() {\n\t\t\tdocument.getElementById(\"ot_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#40ff40\";\n\t\t\tdocument.getElementById(\"ot_status\").innerHTML =\n\t\t\t\t\t\" <b>websocket connection opened</b><br>\" +\n\t\t\t\t\tsan(socket_di.extensions);\n\t\t\tdocument.getElementById(\"ot_open_btn\").disabled = true;\n\t\t\tdocument.getElementById(\"ot_close_btn\").disabled = false;\n\t\t\tdocument.getElementById(\"ot_req_close_btn\").disabled = false;\n\t\t\tconsole.log(\"ot_open.onopen\");\n\t\t};\n\n\t\tsocket_ot.onclose = function(e){\n\t\t\tdocument.getElementById(\"ot_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#ff4040\";\n\t\t\tdocument.getElementById(\"ot_status\").textContent =\n\t\t\t\t\t\t\" websocket connection CLOSED, code: \" + e.code +\n\t\t\t\t\t\t\", reason: \" + e.reason;\n\t\t\tdocument.getElementById(\"ot_open_btn\").disabled = false;\n\t\t\tdocument.getElementById(\"ot_close_btn\").disabled = true;\n\t\t\tdocument.getElementById(\"ot_req_close_btn\").disabled = true;\n\t\t};\n\t} catch(exception) {\n\t\talert(\"<p>Error\" + exception);  \n\t}\n}\n\n/* browser will close the ws in a controlled way */\nfunction ot_close() {\n\tsocket_ot.close(3000, \"Bye!\");\n}\n\n/* we ask the server to close the ws in a controlled way */\nfunction ot_req_close() {\n\tsocket_ot.send(\"closeme\\n\");\n}\n\nvar socket_lm;\nvar pending = \"\";\n\nfunction lm_timer_handler(ev) {\n\tsocket_lm.send(pending);\n\tpending=\"\";\n}\n\n/* lws-mirror protocol */\n\nvar down = 0;\nvar no_last = 1;\nvar last_x = 0, last_y = 0;\nvar ctx;\nvar color = \"#000000\";\nvar lm_timer;\n\nfunction ev_mousemove (ev) {\n\tvar x, y;\n\n\tif (ev.offsetX) {\n\t\tx = ev.offsetX;\n\t\ty = ev.offsetY;\n\t} else {\n\t\tx = ev.layerX - offsetX;\n\t\ty = ev.layerY - offsetY;\n\n\t}\n\n\tif (!down)\n\t\treturn;\n\tif (no_last) {\n\t\tno_last = 0;\n\t\tlast_x = x;\n\t\tlast_y = y;\n\t\treturn;\n\t}\n\tpending = pending + \"d \" + color + \" \" + last_x + \" \" + last_y +\n\t\t\t\" \" + x + \" \" + y + \";\";\n\t\t\t\n\tif (pending.length > 400) {\n\t\tsocket_lm.send(pending);\n\t\tclearTimeout(lm_timer);\n\t\tpending = \"\";\n\t} else\n\t\tlm_timer = setTimeout(lm_timer_handler, 1);\n\n\tlast_x = x;\n\tlast_y = y;\n}\n\nfunction ev_mousedown (ev) {\n\tdown = 1;\n}\n\nfunction ev_mouseup(ev) {\n\tdown = 0;\n\tno_last = 1;\n}\n\n\nfunction ws_open_mirror()\n{\t\n\tsocket_lm = new_ws(get_appropriate_ws_url(\"?mirror=\" + mirror_name),\n\t\t\t\"lws-mirror-protocol\");\n\ttry {\n\t\tsocket_lm.onopen = function() {\n\t\t\tdocument.getElementById(\"wslm_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#40ff40\";\n\t\t\tdocument.getElementById(\"wslm_status\").innerHTML =\n\t\t\t\t\t\t\t\t\" <b>websocket connection opened</b><br>\" +\n\t\t\t\t\t\t\t\tsan(socket_lm.extensions);\n\t\t\tlws_gray_out(false);\n\t\t};\n\n\t\tsocket_lm.onmessage =function got_packet(msg) {\n\t\t\tj = msg.data.split(\";\");\n\t\t\tvar f = 0;\n\t\t\twhile (f < j.length - 1) {\n\t\t\t\ti = j[f].split(\" \");\n\t\t\t\tif (i[0] === \"d\") {\n\t\t\t\t\tctx.strokeStyle = i[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(+(i[2]), +(i[3]));\n\t\t\t\t\tctx.lineTo(+(i[4]), +(i[5]));\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t\tif (i[0] === \"c\") {\n\t\t\t\t\tctx.strokeStyle = i[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(+(i[2]), +(i[3]), +(i[4]), 0, Math.PI*2, true); \n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\n\t\t\t\tf++;\n\t\t\t}\n\t\t};\n\n\t\tsocket_lm.onclose = function(){\n\t\t\tdocument.getElementById(\"wslm_statustd\").style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"#ff4040\";\n\t\t\tdocument.getElementById(\"wslm_status\").textContent =\n\t\t\t\t\t\t\t\t\t\t\t\" websocket connection CLOSED \";\n\t\t\tlws_gray_out(true,{\"zindex\":\"499\"});\n\t\t};\n\t} catch(exception) {\n\t\talert(\"<p>Error\" + exception);  \n\t}\n\n\tvar canvas = document.createElement(\"canvas\");\n\tcanvas.height = 300;\n\tcanvas.width = 480;\n\tctx = canvas.getContext(\"2d\");\n\n\tdocument.getElementById(\"wslm_drawing\").appendChild(canvas);\n\n\tcanvas.addEventListener(\"mousemove\", ev_mousemove, false);\n\tcanvas.addEventListener(\"mousedown\", ev_mousedown, false);\n\tcanvas.addEventListener(\"mouseup\", ev_mouseup, false);\n\n\toffsetX = offsetY = 0;\n\telement = canvas;\n      if (element.offsetParent) {\n        do {\n          offsetX += element.offsetLeft;\n          offsetY += element.offsetTop;\n          element = element.offsetParent;\n        } while (element);\n      }\n}\n\nfunction update_color() {\n\tcolor = document.getElementById(\"color\").value;\n}\n\n/* stuff that has to be delayed until all the page assets are loaded */\n\nwindow.addEventListener(\"load\", function() {\n\t\n\tlws_gray_out(true,{\"zindex\":\"499\"});\n\n\tdocument.getElementById(\"file\").onchange = check_file;\n\tdocument.getElementById(\"offset\").onclick = reset;\n\tdocument.getElementById(\"junk\").onclick = junk;\n\tdocument.getElementById(\"color\").onclick = update_color;\n\tdocument.getElementById(\"ot_open_btn\").onclick = ot_open;\n\tdocument.getElementById(\"ot_close_btn\").onclick = ot_close;\n\tdocument.getElementById(\"ot_req_close_btn\").onclick = ot_req_close;\n\tdocument.getElementById(\"pmd\").onclick = on_pmd;\n\n\tvar transport_protocol = \"\";\n\n\tif ( performance && performance.timing.nextHopProtocol ) {\n\t    transport_protocol = performance.timing.nextHopProtocol;\n\t} else if ( window.chrome && window.chrome.loadTimes ) {\n\t    transport_protocol = window.chrome.loadTimes().connectionInfo;\n\t} else {\n\n\t  var p = performance.getEntriesByType(\"resource\");\n\t  for (var i=0; i < p.length; i++) {\n\tvar value = \"nextHopProtocol\" in p[i];\n\t  if (value)\n\t    transport_protocol = p[i].nextHopProtocol;\n\t    }\n\t   }\n\t   \n\t   console.log(\"transport protocol \" + transport_protocol);\n\t   \n\t   if (transport_protocol === \"h2\")\n\t\t   document.getElementById(\"transport\").innerHTML =\n\t\t\t   \t\t\t\t\t\t\t\t\"<img src=\\\"./http2.png\\\">\";\n\n\t   BrowserDetect.init();\n\n\t   document.getElementById(\"brow\").textContent = \" \" +\n\t   \t\tBrowserDetect.browser + \" \" + BrowserDetect.version + \" \" +\n\t   \t\tBrowserDetect.OS +\" \";\n\n\t   document.getElementById(\"number\").textContent =\n\t\t   get_appropriate_ws_url(mirror_name);\n\t   \n\t   /* create the ws connections back to the server */\n\t   \n\t   ws_open_dumb_increment();\n\t   ws_open_status();\n\t   ws_open_mirror();\n\n}, false);\n\n}());\n",
			"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
			"file_size": 57259,
			"file_write_time": 133244878046178880,
			"redo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": "nw"
					},
					"AgAAAGACAAAAAAAAYAIAAAAAAAABAAAAd18CAAAAAAAAXwIAAAAAAAABAAAAbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhAgAAAAAAAGECAAAAAAAAAAAAAAAA8L8"
				]
			],
			"settings":
			{
				"buffer_size": 57259,
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/minnet.h",
			"settings":
			{
				"buffer_size": 2173,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"paste",
					null,
					"AQAAADEIAAAAAAAAZQgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAxCAAAAAAAADEIAAAAAAAAAAAAAAAA8L8"
				],
				[
					4,
					1,
					"left_delete",
					null,
					"AQAAAGQIAAAAAAAAZAgAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlCAAAAAAAAGUIAAAAAAAAAAAAAAAA8L8"
				],
				[
					7,
					1,
					"insert",
					{
						"characters": "M;"
					},
					"AgAAAGQIAAAAAAAAZQgAAAAAAAAAAAAAZQgAAAAAAABmCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABkCAAAAAAAAGQIAAAAAAAAAAAAAACgd0A"
				],
				[
					8,
					2,
					"left_delete",
					null,
					"AgAAAGUIAAAAAAAAZQgAAAAAAAABAAAAO2QIAAAAAAAAZAgAAAAAAAABAAAATQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmCAAAAAAAAGYIAAAAAAAAAAAAAAAA8L8"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAGQIAAAAAAAAZQgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABkCAAAAAAAAGQIAAAAAAAAAAAAAAAA8L8"
				],
				[
					12,
					1,
					"join_lines",
					null,
					"AgAAADkIAAAAAAAAOQgAAAAAAAABAAAACjkIAAAAAAAAOggAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA5CAAAAAAAADkIAAAAAAAAAAAAAAAweEA"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAGUIAAAAAAAAZggAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlCAAAAAAAAGUIAAAAAAAA////////738"
				]
			]
		},
		{
			"file": "src/minnet-server-http.c",
			"settings":
			{
				"buffer_size": 34753,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "#include \"jsutils.h\"\n#include \"minnet-websocket.h\"\n#include \"minnet-server.h\"\n#include \"minnet-client.h\"\n#include \"minnet-server-http.h\"\n#include \"minnet-server-proxy.h\"\n#include \"minnet-response.h\"\n#include \"minnet-request.h\"\n#include \"closure.h\"\n#include <list.h>\n#include <quickjs-libc.h>\n#include <libwebsockets.h>\n\n#include \"../libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c\"\n#include \"../libwebsockets/plugins/deaddrop/protocol_lws_deaddrop.c\"\n#include \"../libwebsockets/plugins/protocol_lws_mirror.c\"\n#include \"minnet-plugin-broker.c\"\n\nint proxy_callback(struct lws*, enum lws_callback_reasons, void*, void*, size_t);\n\nstatic struct lws_protocols protocols[] = {\n    {\"ws\", ws_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n    {\"http\", http_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n    /* {\"defprot\", lws_callback_http_dummy, sizeof(struct session_data), 1024, 0, NULL, 0},\n     {\"proxy-ws-raw-ws\", proxy_server_callback, 0, 1024, 0, NULL, 0},\n       {\"proxy-ws-raw-raw\", proxy_rawclient_callback, 0, 1024, 0, NULL, 0},\n     {\"proxy-ws\", proxy_callback, 0, 1024, 0, NULL, 0},*/\n    MINNET_PLUGIN_BROKER(broker),\n    LWS_PLUGIN_PROTOCOL_DEADDROP,\n    // LWS_PLUGIN_PROTOCOL_RAW_PROXY,\n    LWS_PLUGIN_PROTOCOL_MIRROR,\n    {0},\n};\n\nstatic struct lws_protocols protocols2[] = {\n    {\"ws\", ws_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n    {\"http\", http_server_callback, sizeof(struct session_data), 1024, 0, NULL, 0},\n    /* {\"defprot\", defprot_callback, sizeof(struct session_data), 0},\n     {\"proxy-ws-raw-ws\", proxy_server_callback, 0, 1024, 0, NULL, 0},\n      {\"proxy-ws-raw-raw\", proxy_rawclient_callback, 0, 1024, 0, NULL, 0},\n   {\"proxy-ws\", proxy_callback, sizeof(struct session_data), 1024, 0, NULL, 0}, MINNET_PLUGIN_BROKER(broker),\n        LWS_PLUGIN_PROTOCOL_RAW_PROXY,*/\n    LWS_PLUGIN_PROTOCOL_MIRROR,\n    {0, 0},\n};\n\nstatic const struct lws_http_mount mount = {\n    /* .mount_next */ NULL,  /* linked-list \"next\" */\n    /* .mountpoint */ \"/\",   /* mountpoint URL */\n    /* .origin */ \".\",       /* serve from dir */\n    /* .def */ \"index.html\", /* default filename */\n    /* .protocol */ NULL,\n    /* .cgienv */ NULL,\n    /* .extra_mimetypes */ NULL,\n    /* .interpret */ NULL,\n    /* .cgi_timeout */ 0,\n    /* .cache_max_age */ 0,\n    /* .auth_mask */ 0,\n    /* .cache_reusable */ 0,\n    /* .cache_revalidate */ 0,\n    /* .cache_intermediaries */ 0,\n    /* .origin_protocol */ LWSMPRO_FILE, /* files in a dir */\n    /* .mountpoint_len */ 1,             /* char count */\n    /* .basic_auth_login_file */ NULL,\n};\n\nstatic const struct lws_extension extension_pmd[] = {\n    {\n        \"permessage-deflate\",\n        lws_extension_callback_pm_deflate,\n        \"permessage-deflate\"\n        \"; client_no_context_takeover\"\n        \"; client_max_window_bits\",\n    },\n    {\n        NULL,\n        NULL,\n        NULL,\n    },\n};\n\nstatic MinnetServer*\nserver_new(JSContext* ctx) {\n  MinnetServer* server;\n\n  if(!(server = js_mallocz(ctx, sizeof(MinnetServer))))\n    return (void*)-1;\n\n  server->context.error = JS_NULL;\n  server->context.js = ctx;\n  server->context.info = (struct lws_context_creation_info){.protocols = protocols2, .user = server};\n\n  context_add(&server->context);\n\n  return server;\n}\n\nstatic BOOL\nserver_init(MinnetServer* server) {\n  if(!(server->context.lws = lws_create_context(&server->context.info))) {\n    lwsl_err(\"libwebsockets init failed\\n\");\n    return FALSE;\n  }\n\n  if(!lws_create_vhost(server->context.lws, &server->context.info)) {\n    lwsl_err(\"Failed to create vhost\\n\");\n    return FALSE;\n  }\n\n  return TRUE;\n}\n\nvoid\nserver_free(MinnetServer* server) {\n  JSContext* ctx = server->context.js;\n\n  if(--server->ref_count == 0) {\n    js_promise_free(ctx, &server->promise);\n\n    context_clear(&server->context);\n\n    js_free(ctx, server);\n  }\n}\n\nvoid\nserver_mounts(MinnetServer* server, JSValueConst opt_mounts) {\n  JSContext* ctx = server->context.js;\n  struct lws_context_creation_info* info = &server->context.info;\n  MinnetHttpMount** m = (MinnetHttpMount**)&info->mounts;\n\n  *m = 0;\n\n  if(JS_IsArray(ctx, opt_mounts)) {\n    uint32_t i;\n    for(i = 0;; i++) {\n      MinnetHttpMount* mount;\n      JSValue mountval = JS_GetPropertyUint32(ctx, opt_mounts, i);\n      if(JS_IsUndefined(mountval))\n        break;\n      mount = mount_new(ctx, mountval, 0);\n      mount->extra_mimetypes = server->mimetypes;\n      mount->pro = \"http\";\n      ADD(m, mount, next);\n    }\n  } else if(JS_IsObject(opt_mounts)) {\n    JSPropertyEnum* tmp_tab;\n    uint32_t i, tmp_len = 0;\n    JS_GetOwnPropertyNames(ctx, &tmp_tab, &tmp_len, opt_mounts, JS_GPN_ENUM_ONLY | JS_GPN_STRING_MASK | JS_GPN_SYMBOL_MASK);\n\n    for(i = 0; i < tmp_len; i++) {\n      MinnetHttpMount* mount;\n      JSAtom prop = tmp_tab[i].atom;\n      const char* name = JS_AtomToCString(ctx, prop);\n      JSValue mountval = JS_GetProperty(ctx, opt_mounts, prop);\n      mount = mount_new(ctx, mountval, name);\n      mount->extra_mimetypes = server->mimetypes;\n      mount->pro = \"http\";\n      ADD(m, mount, next);\n      JS_FreeCString(ctx, name);\n    }\n  }\n}\n\nvoid\nserver_certificate(struct context* context, JSValueConst options) {\n  struct lws_context_creation_info* info = &context->info;\n  JSContext* ctx = context->js;\n\n  context->crt = JS_GetPropertyStr(context->js, options, \"sslCert\");\n  context->key = JS_GetPropertyStr(context->js, options, \"sslPrivateKey\");\n  context->ca = JS_GetPropertyStr(context->js, options, \"sslCA\");\n\n  if(JS_IsString(context->crt)) {\n    info->ssl_cert_filepath = js_tostring(ctx, context->crt);\n    DEBUG(\"server SSL certificate file: %s\\n\", info->ssl_cert_filepath);\n  } else {\n    info->server_ssl_cert_mem = js_toptrsize(ctx, &info->server_ssl_cert_mem_len, context->crt);\n    DEBUG(\"server SSL certificate memory: %p [%u]\\n\", info->server_ssl_cert_mem, info->server_ssl_cert_mem_len);\n  }\n\n  if(JS_IsString(context->key)) {\n    info->ssl_private_key_filepath = js_tostring(ctx, context->key);\n    DEBUG(\"server SSL private key file: %s\\n\", info->ssl_private_key_filepath);\n  } else {\n    info->server_ssl_private_key_mem = js_toptrsize(ctx, &info->server_ssl_private_key_mem_len, context->key);\n    DEBUG(\"server SSL private key memory: %p [%u]\\n\", info->server_ssl_private_key_mem, info->server_ssl_private_key_mem_len);\n  }\n\n  if(JS_IsString(context->ca)) {\n    info->ssl_ca_filepath = js_tostring(ctx, context->ca);\n    DEBUG(\"server SSL CA certificate file: %s\\n\", info->ssl_ca_filepath);\n  } else {\n    info->server_ssl_ca_mem = js_toptrsize(ctx, &info->server_ssl_ca_mem_len, context->ca);\n    DEBUG(\"server SSL CA certificate memory: %p [%u]\\n\", info->server_ssl_ca_mem, info->server_ssl_ca_mem_len);\n  }\n}\n\nstatic JSValue\nminnet_server_handler(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  return JS_UNDEFINED;\n}\n\nstatic JSValue\nminnet_server_timeout(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  MinnetServer* server = ptr;\n  struct TimerClosure* timer = server->context.timer;\n\n  if(timer) {\n    // DEBUG(\"timeout %\" PRIu32 \"\\n\", timer->interval);\n    uint32_t new_interval;\n\n    do {\n      new_interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n\n      if(new_interval == 0)\n        lws_service_tsi(server->context.lws, -1, 0);\n    } while(new_interval == 0);\n\n    // DEBUG(\"new_interval %\" PRIu32 \"\\n\", new_interval);\n    timer->interval = new_interval;\n\n    js_timer_restart(timer);\n\n    return JS_FALSE;\n  }\n  // DEBUG(\"timeout %s %s\\n\", JS_ToCString(ctx, argv[0]), JS_ToCString(ctx, argv[argc - 1]));\n\n  return JS_TRUE;\n}\n\nJSValue\nminnet_server_closure(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[], int magic, void* ptr) {\n  int argind = 0, a = 0;\n  BOOL block = TRUE, is_tls = FALSE, is_h2 = TRUE, per_message_deflate = FALSE;\n  MinnetServer* server;\n  MinnetURL url = {0};\n  JSValue ret, options;\n  struct lws_context_creation_info* info;\n\n  if((server = server_new(ctx)) == (void*)-1)\n    return JS_ThrowOutOfMemory(ctx);\n  if(!server)\n    return JS_ThrowInternalError(ctx, \"lws init failed\");\n\n  if(ptr) {\n    union closure* closure = ptr;\n    closure->pointer = server;\n    closure->free_func = (closure_free_t*)server_free;\n  }\n\n  info = &server->context.info;\n\n  ret = JS_NewInt32(ctx, 0);\n  options = argv[0];\n\n  if(argc >= 2 && JS_IsString(argv[argind])) {\n    const char* str;\n    if((str = JS_ToCString(ctx, argv[argind]))) {\n      url_parse(&url, str, ctx);\n      JS_FreeCString(ctx, str);\n    }\n    argind++;\n  }\n\n  options = argv[argind];\n\n  if(!JS_IsObject(options))\n    return JS_ThrowTypeError(ctx, \"argument %d must be options object\", argind + 1);\n\n  JSValue opt_port = JS_GetPropertyStr(ctx, options, \"port\");\n  JSValue opt_host = JS_GetPropertyStr(ctx, options, \"host\");\n  JSValue opt_protocol = JS_GetPropertyStr(ctx, options, \"protocol\");\n  JSValue opt_tls = JS_GetPropertyStr(ctx, options, \"tls\");\n  JSValue opt_on_pong = JS_GetPropertyStr(ctx, options, \"onPong\");\n  JSValue opt_on_close = JS_GetPropertyStr(ctx, options, \"onClose\");\n  JSValue opt_on_connect = JS_GetPropertyStr(ctx, options, \"onConnect\");\n  JSValue opt_on_message = JS_GetPropertyStr(ctx, options, \"onMessage\");\n  JSValue opt_on_fd = JS_GetPropertyStr(ctx, options, \"onFd\");\n  JSValue opt_on_http = JS_GetPropertyStr(ctx, options, \"onHttp\");\n  JSValue opt_on_read = JS_GetPropertyStr(ctx, options, \"onRead\");\n  JSValue opt_on_post = JS_GetPropertyStr(ctx, options, \"onPost\");\n  JSValue opt_mounts = JS_GetPropertyStr(ctx, options, \"mounts\");\n  JSValue opt_mimetypes = JS_GetPropertyStr(ctx, options, \"mimetypes\");\n  JSValue opt_error_document = JS_GetPropertyStr(ctx, options, \"errorDocument\");\n  JSValue opt_options = JS_GetPropertyStr(ctx, options, \"options\");\n\n  if(!JS_IsFunction(ctx, opt_on_fd))\n    opt_on_fd = minnet_default_fd_callback(ctx);  \n\n  if(!JS_IsUndefined(opt_tls)) {\n\n    is_tls = JS_ToBool(ctx, opt_tls);\n    DEBUG(\"is_tls = %d\\n\", is_tls);\n  }\n\n  if(!JS_IsUndefined(opt_port)) {\n    int32_t port;\n    JS_ToInt32(ctx, &port, opt_port);\n    url.port = port;\n  }\n\n  if(JS_IsString(opt_host))\n    js_replace_string(ctx, opt_host, &url.host);\n  if(JS_IsString(opt_protocol)) {\n    const char* protocol;\n\n    if((protocol = JS_ToCString(ctx, opt_protocol))) {\n      url_set_protocol(&url, protocol);\n      JS_FreeCString(ctx, protocol);\n    }\n  }\n\n  BOOL_OPTION(opt_block, \"block\", block);\n  BOOL_OPTION(opt_h2, \"h2\", is_h2);\n  BOOL_OPTION(opt_pmd, \"permessageDeflate\", per_message_deflate);\n\n  GETCB(opt_on_pong, server->cb.pong)\n  GETCB(opt_on_close, server->cb.close)\n  GETCB(opt_on_connect, server->cb.connect)\n  GETCB(opt_on_message, server->cb.message)\n  GETCB(opt_on_fd, server->cb.fd)\n  GETCB(opt_on_http, server->cb.http)\n  GETCB(opt_on_read, server->cb.read)\n  GETCB(opt_on_post, server->cb.post)\n\n  for(int i = 0; i < countof(protocols); i++) protocols[i].user = ctx;\n\n  info->protocols = protocols2;\n\n  info->mounts = &mount;\n  info->vhost_name = url_format((MinnetURL){.host = url.host, .port = url.port}, ctx);\n\n  if(JS_IsString(opt_error_document))\n    info->error_document_404 = js_tostring(ctx, opt_error_document);\n  else\n    info->error_document_404 = js_strdup(ctx, \"/404.html\");\n\n  info->port = url.port;\n  info->timeout_secs = 0;\n  info->options = 0;\n\n  if(per_message_deflate)\n    info->extensions = extension_pmd;\n\n  // client_certificate(&server->context, options);\n\n  info->options |= LWS_SERVER_OPTION_PEER_CERT_NOT_REQUIRED;\n  info->options |= LWS_SERVER_OPTION_DO_SSL_GLOBAL_INIT;\n  info->options |= LWS_SERVER_OPTION_DISABLE_IPV6;\n  info->options |= LWS_SERVER_OPTION_IGNORE_MISSING_CERT;\n\n  // info->options |= LWS_SERVER_OPTION_CREATE_VHOST_SSL_CTX;\n\n  info->options |= LWS_SERVER_OPTION_REQUIRE_VALID_OPENSSL_CLIENT_CERT;\n\n  if(is_tls) {\n    server_certificate(&server->context, options);\n\n    // info->options |= LWS_SERVER_OPTION_REDIRECT_HTTP_TO_HTTPS;\n    info->options |= LWS_SERVER_OPTION_ALLOW_HTTP_ON_HTTPS_LISTENER;\n    info->options |= LWS_SERVER_OPTION_ALLOW_NON_SSL_ON_SSL_PORT;\n  }\n  client_certificate(&server->context, options);\n\n  if(is_h2) {\n    info->options |= LWS_SERVER_OPTION_H2_JUST_FIX_WINDOW_UPDATE_OVERFLOW;\n    info->options |= LWS_SERVER_OPTION_VH_H2_HALF_CLOSED_LONG_POLL;\n  }\n  // info->options |= LWS_SERVER_OPTION_HTTP_HEADERS_SECURITY_BEST_PRACTICES_ENFORCE;\n\n  if(JS_IsArray(ctx, opt_mimetypes)) {\n    MinnetVhostOptions *vopts, **vop = &server->mimetypes;\n    uint32_t i;\n    for(i = 0;; i++) {\n      JSValue mimetype = JS_GetPropertyUint32(ctx, opt_mimetypes, i);\n      if(JS_IsUndefined(mimetype))\n        break;\n      vopts = vhost_options_new(ctx, mimetype);\n      ADD(vop, vopts, next);\n    }\n  }\n\n  /*{\n    MinnetVhostOptions* pvo;\n\n    for(pvo = server->mimetypes; pvo; pvo = pvo->next) {\n      DEBUG(\"pvo mimetype %s %s\\n\", pvo->name, pvo->value);\n    }\n  }*/\n\n  MinnetVhostOptions *vhopt = 0, **vhptr = &vhopt;\n\n  ADD(vhptr, vhost_options_create(ctx, \"lws-deaddrop\", \"\"), next);\n  ADD(vhptr, vhost_options_create(ctx, \"lws-mirror-protocol\", \"\"), next);\n  ADD(vhptr, vhost_options_create(ctx, \"raw-proxy\", \"\"), next);\n\n  info->pvo = &vhopt->lws;\n\n  if(!JS_IsUndefined(opt_options)) {\n\n    vhopt->options = vhost_options_fromobj(ctx, opt_options);\n\n    fprintf(stderr, \"vhost options:\\n\");\n    vhost_options_dump(vhopt->options);\n  }\n\n  server_mounts(server, opt_mounts);\n\n  if(!server_init(server))\n    return JS_ThrowInternalError(ctx, \"libwebsockets init failed\");\n\n  JSValue timer_cb = js_function_cclosure(ctx, minnet_server_timeout, 4, 0, server, 0);\n  uint32_t interval = lws_service_adjust_timeout(server->context.lws, 15000, 0);\n  if(interval == 0)\n    interval = 10;\n  server->context.timer = js_timer_interval(ctx, timer_cb, interval);\n\n  if(!block)\n    return ret;\n\n  while(a >= 0) {\n    if(!JS_IsNull(server->context.error)) {\n      ret = JS_Throw(ctx, server->context.error);\n      break;\n    }\n\n    if(server->cb.fd.ctx)\n      js_std_loop(ctx);\n    else\n      a = lws_service(server->context.lws, 20);\n  }\n\n  // lws_context_destroy(server->context.lws);\n\n  if(server->mimetypes)\n    vhost_options_free_list(ctx, server->mimetypes);\n\n  if(info->mounts) {\n    const MinnetHttpMount *mount, *next;\n\n    for(mount = (MinnetHttpMount*)info->mounts; mount; mount = next) {\n      next = (MinnetHttpMount*)mount->lws.mount_next;\n      mount_free(ctx, mount);\n    }\n  }\n\n  if(info->server_ssl_ca_mem)\n    js_clear(ctx, &info->server_ssl_ca_mem);\n  if(info->server_ssl_cert_mem)\n    js_clear(ctx, &info->server_ssl_cert_mem);\n  if(info->server_ssl_private_key_mem)\n    js_clear(ctx, &info->server_ssl_private_key_mem);\n  if(info->ssl_ca_filepath)\n    js_clear(ctx, &info->ssl_ca_filepath);\n  if(info->ssl_cert_filepath)\n    js_clear(ctx, &info->ssl_cert_filepath);\n  if(info->ssl_private_key_filepath)\n    js_clear(ctx, &info->ssl_private_key_filepath);\n\n  /*js_buffer_free(&server->context.key, ctx);\n  js_buffer_free(&server->context.crt, ctx);\n  js_buffer_free(&server->context.ca, ctx);*/\n\n  /* if(info->ssl_cert_filepath)\n     JS_FreeCString(ctx, info->ssl_cert_filepath);\n\n   if(info->ssl_private_key_filepath)\n     JS_FreeCString(ctx, info->ssl_private_key_filepath);\n\n   js_free(ctx, (void*)info->vhost_name);\n */\n  FREECB(server->cb.pong)\n  FREECB(server->cb.close)\n  FREECB(server->cb.connect)\n  FREECB(server->cb.message)\n  FREECB(server->cb.fd)\n  FREECB(server->cb.http)\n\n  return ret;\n}\n\nJSValue\nminnet_server(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  union closure* closure;\n  JSValue ret;\n\n  if(!(closure = closure_new(ctx)))\n    return JS_ThrowOutOfMemory(ctx);\n\n  ret = minnet_server_closure(ctx, this_val, argc, argv, 0, closure);\n\n  if(js_is_promise(ctx, ret)) {\n    JSValue func[2], tmp;\n\n    func[0] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_RESOLVE, closure_dup(closure), closure_free);\n    func[1] = js_function_cclosure(ctx, &minnet_server_handler, 1, ON_REJECT, closure_dup(closure), closure_free);\n\n    tmp = js_invoke(ctx, ret, \"then\", 1, &func[0]);\n    JS_FreeValue(ctx, ret);\n    ret = tmp;\n\n    tmp = js_invoke(ctx, ret, \"catch\", 1, &func[1]);\n    JS_FreeValue(ctx, ret);\n    ret = tmp;\n\n    JS_FreeValue(ctx, func[0]);\n    JS_FreeValue(ctx, func[1]);\n  }\n\n  closure_free(closure);\n\n  return ret;\n}\n\nint\ndefprot_callback(struct lws* wsi, enum lws_callback_reasons reason, void* user, void* in, size_t len) {\n  MinnetServer* server = /*session ? session->server :*/ lws_context_user(lws_get_context(wsi));\n\n  // if(!lws_reason_poll(reason)) printf(\"defprot_callback %s %p %p %zu\\n\", lws_callback_name(reason), user, in, len);\n\n  switch(reason) {\n    case LWS_CALLBACK_LOCK_POLL:\n    case LWS_CALLBACK_UNLOCK_POLL: {\n      return 0;\n    }\n    case LWS_CALLBACK_ADD_POLL_FD: {\n      struct lws_pollargs* args = in;\n      if(server->cb.fd.ctx) {\n        JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n        minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n        server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n        JS_FreeValue(server->cb.fd.ctx, argv[0]);\n        JS_FreeValue(server->cb.fd.ctx, argv[1]);\n        JS_FreeValue(server->cb.fd.ctx, argv[2]);\n      }\n      return 0;\n    }\n    case LWS_CALLBACK_DEL_POLL_FD: {\n      struct lws_pollargs* args = in;\n      if(server->cb.fd.ctx) {\n        JSValue argv[3] = {\n            JS_NewInt32(server->cb.fd.ctx, args->fd),\n        };\n        minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n        server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n        JS_FreeValue(server->cb.fd.ctx, argv[0]);\n        JS_FreeValue(server->cb.fd.ctx, argv[1]);\n        JS_FreeValue(server->cb.fd.ctx, argv[2]);\n      }\n      return 0;\n    }\n    case LWS_CALLBACK_CHANGE_MODE_POLL_FD: {\n      struct lws_pollargs* args = in;\n      if(server->cb.fd.ctx) {\n        if(args->events != args->prev_events) {\n          JSValue argv[3] = {JS_NewInt32(server->cb.fd.ctx, args->fd)};\n          minnet_io_handlers(server->cb.fd.ctx, wsi, *args, &argv[1]);\n          server_exception(server, callback_emit(&server->cb.fd, 3, argv));\n          JS_FreeValue(server->cb.fd.ctx, argv[0]);\n          JS_FreeValue(server->cb.fd.ctx, argv[1]);\n          JS_FreeValue(server->cb.fd.ctx, argv[2]);\n        }\n      }\n      return 0;\n    }\n    case LWS_CALLBACK_EVENT_WAIT_CANCELLED:\n    case LWS_CALLBACK_GET_THREAD_ID: {\n      return 0;\n    }\n    default: {\n      break;\n    }\n  }\n\n  return lws_callback_http_dummy(wsi, reason, user, in, len);\n}\n",
			"file": "src/minnet-server.c",
			"file_size": 18556,
			"file_write_time": 133244836416904211,
			"settings":
			{
				"buffer_size": 18558,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					37,
					1,
					"insert",
					{
						"characters": "\n\n\nif"
					},
					"CgAAAE8mAAAAAAAAUCYAAAAAAAAAAAAAUCYAAAAAAABSJgAAAAAAAAAAAABSJgAAAAAAAFMmAAAAAAAAAAAAAFMmAAAAAAAAVSYAAAAAAAAAAAAAUCYAAAAAAABQJgAAAAAAAAIAAAAgIFMmAAAAAAAAVCYAAAAAAAAAAAAAVCYAAAAAAABWJgAAAAAAAAAAAABRJgAAAAAAAFEmAAAAAAAAAgAAACAgVCYAAAAAAABVJgAAAAAAAAAAAABVJgAAAAAAAFYmAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABPJgAAAAAAAE8mAAAAAAAAAAAAAAAA8L8"
				],
				[
					38,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAFYmAAAAAAAAWCYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABWJgAAAAAAAFYmAAAAAAAAAAAAAAAA8L8"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": "!JS_IsFunction"
					},
					"DgAAAFcmAAAAAAAAWCYAAAAAAAAAAAAAWCYAAAAAAABZJgAAAAAAAAAAAABZJgAAAAAAAFomAAAAAAAAAAAAAFomAAAAAAAAWyYAAAAAAAAAAAAAWyYAAAAAAABcJgAAAAAAAAAAAABcJgAAAAAAAF0mAAAAAAAAAAAAAF0mAAAAAAAAXiYAAAAAAAAAAAAAXiYAAAAAAABfJgAAAAAAAAAAAABfJgAAAAAAAGAmAAAAAAAAAAAAAGAmAAAAAAAAYSYAAAAAAAAAAAAAYSYAAAAAAABiJgAAAAAAAAAAAABiJgAAAAAAAGMmAAAAAAAAAAAAAGMmAAAAAAAAZCYAAAAAAAAAAAAAZCYAAAAAAABlJgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABXJgAAAAAAAFcmAAAAAAAAAAAAAAAA8L8"
				],
				[
					40,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAGUmAAAAAAAAZyYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlJgAAAAAAAGUmAAAAAAAAAAAAAAAA8L8"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAGYmAAAAAAAAZyYAAAAAAAAAAAAAZyYAAAAAAABoJgAAAAAAAAAAAABoJgAAAAAAAGkmAAAAAAAAAAAAAGkmAAAAAAAAaiYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmJgAAAAAAAGYmAAAAAAAAAAAAAAAA8L8"
				],
				[
					42,
					1,
					"insert",
					{
						"characters": " on"
					},
					"AwAAAGomAAAAAAAAayYAAAAAAAAAAAAAayYAAAAAAABsJgAAAAAAAAAAAABsJgAAAAAAAG0mAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqJgAAAAAAAGomAAAAAAAAAAAAAAAA8L8"
				],
				[
					43,
					2,
					"left_delete",
					null,
					"AgAAAGwmAAAAAAAAbCYAAAAAAAABAAAAbmsmAAAAAAAAayYAAAAAAAABAAAAbw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABtJgAAAAAAAG0mAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": "opt_on_fd"
					},
					"CQAAAGsmAAAAAAAAbCYAAAAAAAAAAAAAbCYAAAAAAABtJgAAAAAAAAAAAABtJgAAAAAAAG4mAAAAAAAAAAAAAG4mAAAAAAAAbyYAAAAAAAAAAAAAbyYAAAAAAABwJgAAAAAAAAAAAABwJgAAAAAAAHEmAAAAAAAAAAAAAHEmAAAAAAAAciYAAAAAAAAAAAAAciYAAAAAAABzJgAAAAAAAAAAAABzJgAAAAAAAHQmAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABrJgAAAAAAAGsmAAAAAAAAAAAAAAAA8L8"
				],
				[
					46,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAAHYmAAAAAAAAdyYAAAAAAAAAAAAAdyYAAAAAAAB5JgAAAAAAAAAAAAB3JgAAAAAAAHcmAAAAAAAAAgAAACAgdyYAAAAAAAB7JgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB2JgAAAAAAAHYmAAAAAAAAAAAAAAAA8L8"
				],
				[
					47,
					1,
					"paste",
					null,
					"AQAAAHsmAAAAAAAAlSYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7JgAAAAAAAHsmAAAAAAAAAAAAAAAA8L8"
				],
				[
					49,
					1,
					"insert",
					{
						"characters": "opt_on_fd="
					},
					"CgAAAHsmAAAAAAAAfCYAAAAAAAAAAAAAfCYAAAAAAAB9JgAAAAAAAAAAAAB9JgAAAAAAAH4mAAAAAAAAAAAAAH4mAAAAAAAAfyYAAAAAAAAAAAAAfyYAAAAAAACAJgAAAAAAAAAAAACAJgAAAAAAAIEmAAAAAAAAAAAAAIEmAAAAAAAAgiYAAAAAAAAAAAAAgiYAAAAAAACDJgAAAAAAAAAAAACDJgAAAAAAAIQmAAAAAAAAAAAAAIQmAAAAAAAAhSYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7JgAAAAAAAHsmAAAAAAAAAAAAAAAAQkA"
				],
				[
					51,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJ8mAAAAAAAAoSYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACfJgAAAAAAAJ8mAAAAAAAA////////738"
				],
				[
					52,
					1,
					"insert",
					{
						"characters": "cgtx"
					},
					"BAAAAKAmAAAAAAAAoSYAAAAAAAAAAAAAoSYAAAAAAACiJgAAAAAAAAAAAACiJgAAAAAAAKMmAAAAAAAAAAAAAKMmAAAAAAAApCYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgJgAAAAAAAKAmAAAAAAAAAAAAAAAA8L8"
				],
				[
					53,
					3,
					"left_delete",
					null,
					"AwAAAKMmAAAAAAAAoyYAAAAAAAABAAAAeKImAAAAAAAAoiYAAAAAAAABAAAAdKEmAAAAAAAAoSYAAAAAAAABAAAAZw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkJgAAAAAAAKQmAAAAAAAAAAAAAAAA8L8"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "tx"
					},
					"AgAAAKEmAAAAAAAAoiYAAAAAAAAAAAAAoiYAAAAAAACjJgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAChJgAAAAAAAKEmAAAAAAAAAAAAAAAA8L8"
				],
				[
					56,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAKQmAAAAAAAApSYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkJgAAAAAAAKQmAAAAAAAAAAAAAAAA8L8"
				],
				[
					65,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB7SAAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAiY2xvc3VyZS5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgojaW5jbHVkZSAiLi4vbGlid2Vic29ja2V0cy9wbHVnaW5zL3Jhdy1wcm94eS9wcm90b2NvbF9sd3NfcmF3X3Byb3h5LmMiCiNpbmNsdWRlICIuLi9saWJ3ZWJzb2NrZXRzL3BsdWdpbnMvZGVhZGRyb3AvcHJvdG9jb2xfbHdzX2RlYWRkcm9wLmMiCiNpbmNsdWRlICIuLi9saWJ3ZWJzb2NrZXRzL3BsdWdpbnMvcHJvdG9jb2xfbHdzX21pcnJvci5jIgojaW5jbHVkZSAibWlubmV0LXBsdWdpbi1icm9rZXIuYyIKCmludCBwcm94eV9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqLCBzaXplX3QpOwoKc3RhdGljIHN0cnVjdCBsd3NfcHJvdG9jb2xzIHByb3RvY29sc1tdID0gewogICAgeyJ3cyIsIHdzX3NlcnZlcl9jYWxsYmFjaywgc2l6ZW9mKHN0cnVjdCBzZXNzaW9uX2RhdGEpLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2Yoc3RydWN0IHNlc3Npb25fZGF0YSksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgLyogeyJkZWZwcm90IiwgbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXksIHNpemVvZihzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAgeyJwcm94eS13cy1yYXctd3MiLCBwcm94eV9zZXJ2ZXJfY2FsbGJhY2ssIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgICAgeyJwcm94eS13cy1yYXctcmF3IiwgcHJveHlfcmF3Y2xpZW50X2NhbGxiYWNrLCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgICB7InByb3h5LXdzIiwgcHJveHlfY2FsbGJhY2ssIDAsIDEwMjQsIDAsIE5VTEwsIDB9LCovCiAgICBNSU5ORVRfUExVR0lOX0JST0tFUihicm9rZXIpLAogICAgTFdTX1BMVUdJTl9QUk9UT0NPTF9ERUFERFJPUCwKICAgIC8vIExXU19QTFVHSU5fUFJPVE9DT0xfUkFXX1BST1hZLAogICAgTFdTX1BMVUdJTl9QUk9UT0NPTF9NSVJST1IsCiAgICB7MH0sCn07CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzMltdID0gewogICAgeyJ3cyIsIHdzX3NlcnZlcl9jYWxsYmFjaywgc2l6ZW9mKHN0cnVjdCBzZXNzaW9uX2RhdGEpLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2Yoc3RydWN0IHNlc3Npb25fZGF0YSksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgLyogeyJkZWZwcm90IiwgZGVmcHJvdF9jYWxsYmFjaywgc2l6ZW9mKHN0cnVjdCBzZXNzaW9uX2RhdGEpLCAwfSwKICAgICB7InByb3h5LXdzLXJhdy13cyIsIHByb3h5X3NlcnZlcl9jYWxsYmFjaywgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAgIHsicHJveHktd3MtcmF3LXJhdyIsIHByb3h5X3Jhd2NsaWVudF9jYWxsYmFjaywgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgc2l6ZW9mKHN0cnVjdCBzZXNzaW9uX2RhdGEpLCAxMDI0LCAwLCBOVUxMLCAwfSwgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgICAgICBMV1NfUExVR0lOX1BST1RPQ09MX1JBV19QUk9YWSwqLwogICAgTFdTX1BMVUdJTl9QUk9UT0NPTF9NSVJST1IsCiAgICB7MCwgMH0sCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19odHRwX21vdW50IG1vdW50ID0gewogICAgLyogLm1vdW50X25leHQgKi8gTlVMTCwgIC8qIGxpbmtlZC1saXN0ICJuZXh0IiAqLwogICAgLyogLm1vdW50cG9pbnQgKi8gIi8iLCAgIC8qIG1vdW50cG9pbnQgVVJMICovCiAgICAvKiAub3JpZ2luICovICIuIiwgICAgICAgLyogc2VydmUgZnJvbSBkaXIgKi8KICAgIC8qIC5kZWYgKi8gImluZGV4Lmh0bWwiLCAvKiBkZWZhdWx0IGZpbGVuYW1lICovCiAgICAvKiAucHJvdG9jb2wgKi8gTlVMTCwKICAgIC8qIC5jZ2llbnYgKi8gTlVMTCwKICAgIC8qIC5leHRyYV9taW1ldHlwZXMgKi8gTlVMTCwKICAgIC8qIC5pbnRlcnByZXQgKi8gTlVMTCwKICAgIC8qIC5jZ2lfdGltZW91dCAqLyAwLAogICAgLyogLmNhY2hlX21heF9hZ2UgKi8gMCwKICAgIC8qIC5hdXRoX21hc2sgKi8gMCwKICAgIC8qIC5jYWNoZV9yZXVzYWJsZSAqLyAwLAogICAgLyogLmNhY2hlX3JldmFsaWRhdGUgKi8gMCwKICAgIC8qIC5jYWNoZV9pbnRlcm1lZGlhcmllcyAqLyAwLAogICAgLyogLm9yaWdpbl9wcm90b2NvbCAqLyBMV1NNUFJPX0ZJTEUsIC8qIGZpbGVzIGluIGEgZGlyICovCiAgICAvKiAubW91bnRwb2ludF9sZW4gKi8gMSwgICAgICAgICAgICAgLyogY2hhciBjb3VudCAqLwogICAgLyogLmJhc2ljX2F1dGhfbG9naW5fZmlsZSAqLyBOVUxMLAp9OwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfZXh0ZW5zaW9uIGV4dGVuc2lvbl9wbWRbXSA9IHsKICAgIHsKICAgICAgICAicGVybWVzc2FnZS1kZWZsYXRlIiwKICAgICAgICBsd3NfZXh0ZW5zaW9uX2NhbGxiYWNrX3BtX2RlZmxhdGUsCiAgICAgICAgInBlcm1lc3NhZ2UtZGVmbGF0ZSIKICAgICAgICAiOyBjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlciIKICAgICAgICAiOyBjbGllbnRfbWF4X3dpbmRvd19iaXRzIiwKICAgIH0sCiAgICB7CiAgICAgICAgTlVMTCwKICAgICAgICBOVUxMLAogICAgICAgIE5VTEwsCiAgICB9LAp9OwoKc3RhdGljIE1pbm5ldFNlcnZlcioKc2VydmVyX25ldyhKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFNlcnZlciogc2VydmVyOwoKICBpZighKHNlcnZlciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0U2VydmVyKSkpKQogICAgcmV0dXJuICh2b2lkKiktMTsKCiAgc2VydmVyLT5jb250ZXh0LmVycm9yID0gSlNfTlVMTDsKICBzZXJ2ZXItPmNvbnRleHQuanMgPSBjdHg7CiAgc2VydmVyLT5jb250ZXh0LmluZm8gPSAoc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8pey5wcm90b2NvbHMgPSBwcm90b2NvbHMyLCAudXNlciA9IHNlcnZlcn07CgogIGNvbnRleHRfYWRkKCZzZXJ2ZXItPmNvbnRleHQpOwoKICByZXR1cm4gc2VydmVyOwp9CgpzdGF0aWMgQk9PTApzZXJ2ZXJfaW5pdChNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIGlmKCEoc2VydmVyLT5jb250ZXh0Lmx3cyA9IGx3c19jcmVhdGVfY29udGV4dCgmc2VydmVyLT5jb250ZXh0LmluZm8pKSkgewogICAgbHdzbF9lcnIoImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWRcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgaWYoIWx3c19jcmVhdGVfdmhvc3Qoc2VydmVyLT5jb250ZXh0Lmx3cywgJnNlcnZlci0+Y29udGV4dC5pbmZvKSkgewogICAgbHdzbF9lcnIoIkZhaWxlZCB0byBjcmVhdGUgdmhvc3RcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKc2VydmVyX2ZyZWUoTWlubmV0U2VydmVyKiBzZXJ2ZXIpIHsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKCiAgaWYoLS1zZXJ2ZXItPnJlZl9jb3VudCA9PSAwKSB7CiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmc2VydmVyLT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZzZXJ2ZXItPmNvbnRleHQpOwoKICAgIGpzX2ZyZWUoY3R4LCBzZXJ2ZXIpOwogIH0KfQoKdm9pZApzZXJ2ZXJfbW91bnRzKE1pbm5ldFNlcnZlciogc2VydmVyLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cykgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwogIE1pbm5ldEh0dHBNb3VudCoqIG0gPSAoTWlubmV0SHR0cE1vdW50KiopJmluZm8tPm1vdW50czsKCiAgKm0gPSAwOwoKICBpZihKU19Jc0FycmF5KGN0eCwgb3B0X21vdW50cykpIHsKICAgIHVpbnQzMl90IGk7CiAgICBmb3IoaSA9IDA7OyBpKyspIHsKICAgICAgTWlubmV0SHR0cE1vdW50KiBtb3VudDsKICAgICAgSlNWYWx1ZSBtb3VudHZhbCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb3B0X21vdW50cywgaSk7CiAgICAgIGlmKEpTX0lzVW5kZWZpbmVkKG1vdW50dmFsKSkKICAgICAgICBicmVhazsKICAgICAgbW91bnQgPSBtb3VudF9uZXcoY3R4LCBtb3VudHZhbCwgMCk7CiAgICAgIG1vdW50LT5leHRyYV9taW1ldHlwZXMgPSBzZXJ2ZXItPm1pbWV0eXBlczsKICAgICAgbW91bnQtPnBybyA9ICJodHRwIjsKICAgICAgQUREKG0sIG1vdW50LCBuZXh0KTsKICAgIH0KICB9IGVsc2UgaWYoSlNfSXNPYmplY3Qob3B0X21vdW50cykpIHsKICAgIEpTUHJvcGVydHlFbnVtKiB0bXBfdGFiOwogICAgdWludDMyX3QgaSwgdG1wX2xlbiA9IDA7CiAgICBKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRtcF90YWIsICZ0bXBfbGVuLCBvcHRfbW91bnRzLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLIHwgSlNfR1BOX1NZTUJPTF9NQVNLKTsKCiAgICBmb3IoaSA9IDA7IGkgPCB0bXBfbGVuOyBpKyspIHsKICAgICAgTWlubmV0SHR0cE1vdW50KiBtb3VudDsKICAgICAgSlNBdG9tIHByb3AgPSB0bXBfdGFiW2ldLmF0b207CiAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgcHJvcCk7CiAgICAgIEpTVmFsdWUgbW91bnR2YWwgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9wdF9tb3VudHMsIHByb3ApOwogICAgICBtb3VudCA9IG1vdW50X25ldyhjdHgsIG1vdW50dmFsLCBuYW1lKTsKICAgICAgbW91bnQtPmV4dHJhX21pbWV0eXBlcyA9IHNlcnZlci0+bWltZXR5cGVzOwogICAgICBtb3VudC0+cHJvID0gImh0dHAiOwogICAgICBBREQobSwgbW91bnQsIG5leHQpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogICAgfQogIH0KfQoKdm9pZApzZXJ2ZXJfY2VydGlmaWNhdGUoc3RydWN0IGNvbnRleHQqIGNvbnRleHQsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmY29udGV4dC0+aW5mbzsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBjb250ZXh0LT5jcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbFByaXZhdGVLZXkiKTsKICBjb250ZXh0LT5jYSA9IEpTX0dldFByb3BlcnR5U3RyKGNvbnRleHQtPmpzLCBvcHRpb25zLCAic3NsQ0EiKTsKCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y3J0KSkgewogICAgaW5mby0+c3NsX2NlcnRfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNydCk7CiAgICBERUJVRygic2VydmVyIFNTTCBjZXJ0aWZpY2F0ZSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpOwogIH0gZWxzZSB7CiAgICBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtID0ganNfdG9wdHJzaXplKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW1fbGVuLCBjb250ZXh0LT5jcnQpOwogICAgREVCVUcoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5rZXkpKSB7CiAgICBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmtleSk7CiAgICBERUJVRygic2VydmVyIFNTTCBwcml2YXRlIGtleSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwogICAgREVCVUcoInNlcnZlciBTU0wgcHJpdmF0ZSBrZXkgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSwgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuKTsKICB9CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmNhKSkgewogICAgaW5mby0+c3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgICBERUJVRygic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7CiAgICBERUJVRygic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4pOwogIH0KfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3NlcnZlcl9oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfdGltZW91dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IHB0cjsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiB0aW1lciA9IHNlcnZlci0+Y29udGV4dC50aW1lcjsKCiAgaWYodGltZXIpIHsKICAgIC8vIERFQlVHKCJ0aW1lb3V0ICUiIFBSSXUzMiAiXG4iLCB0aW1lci0+aW50ZXJ2YWwpOwogICAgdWludDMyX3QgbmV3X2ludGVydmFsOwoKICAgIGRvIHsKICAgICAgbmV3X2ludGVydmFsID0gbHdzX3NlcnZpY2VfYWRqdXN0X3RpbWVvdXQoc2VydmVyLT5jb250ZXh0Lmx3cywgMTUwMDAsIDApOwoKICAgICAgaWYobmV3X2ludGVydmFsID09IDApCiAgICAgICAgbHdzX3NlcnZpY2VfdHNpKHNlcnZlci0+Y29udGV4dC5sd3MsIC0xLCAwKTsKICAgIH0gd2hpbGUobmV3X2ludGVydmFsID09IDApOwoKICAgIC8vIERFQlVHKCJuZXdfaW50ZXJ2YWwgJSIgUFJJdTMyICJcbiIsIG5ld19pbnRlcnZhbCk7CiAgICB0aW1lci0+aW50ZXJ2YWwgPSBuZXdfaW50ZXJ2YWw7CgogICAganNfdGltZXJfcmVzdGFydCh0aW1lcik7CgogICAgcmV0dXJuIEpTX0ZBTFNFOwogIH0KICAvLyBERUJVRygidGltZW91dCAlcyAlc1xuIiwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSksIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnYyAtIDFdKSk7CgogIHJldHVybiBKU19UUlVFOwp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfY2xvc3VyZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBpbnQgYXJnaW5kID0gMCwgYSA9IDA7CiAgQk9PTCBibG9jayA9IFRSVUUsIGlzX3RscyA9IEZBTFNFLCBpc19oMiA9IFRSVUUsIHBlcl9tZXNzYWdlX2RlZmxhdGUgPSBGQUxTRTsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKICBNaW5uZXRVUkwgdXJsID0gezB9OwogIEpTVmFsdWUgcmV0LCBvcHRpb25zOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvOwoKICBpZigoc2VydmVyID0gc2VydmVyX25ldyhjdHgpKSA9PSAodm9pZCopLTEpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIGlmKCFzZXJ2ZXIpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImx3cyBpbml0IGZhaWxlZCIpOwoKICBpZihwdHIpIHsKICAgIHVuaW9uIGNsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CiAgICBjbG9zdXJlLT5wb2ludGVyID0gc2VydmVyOwogICAgY2xvc3VyZS0+ZnJlZV9mdW5jID0gKGNsb3N1cmVfZnJlZV90KilzZXJ2ZXJfZnJlZTsKICB9CgogIGluZm8gPSAmc2VydmVyLT5jb250ZXh0LmluZm87CgogIHJldCA9IEpTX05ld0ludDMyKGN0eCwgMCk7CiAgb3B0aW9ucyA9IGFyZ3ZbMF07CgogIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc1N0cmluZyhhcmd2W2FyZ2luZF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHI7CiAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlthcmdpbmRdKSkpIHsKICAgICAgdXJsX3BhcnNlKCZ1cmwsIHN0ciwgY3R4KTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgfQogICAgYXJnaW5kKys7CiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICBKU1ZhbHVlIG9wdF9wb3J0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAicG9ydCIpOwogIEpTVmFsdWUgb3B0X2hvc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJob3N0Iik7CiAgSlNWYWx1ZSBvcHRfcHJvdG9jb2wgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJwcm90b2NvbCIpOwogIEpTVmFsdWUgb3B0X3RscyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInRscyIpOwogIEpTVmFsdWUgb3B0X29uX3BvbmcgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvblBvbmciKTsKICBKU1ZhbHVlIG9wdF9vbl9jbG9zZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uQ2xvc2UiKTsKICBKU1ZhbHVlIG9wdF9vbl9jb25uZWN0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25Db25uZWN0Iik7CiAgSlNWYWx1ZSBvcHRfb25fbWVzc2FnZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uTWVzc2FnZSIpOwogIEpTVmFsdWUgb3B0X29uX2ZkID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25GZCIpOwogIEpTVmFsdWUgb3B0X29uX2h0dHAgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkh0dHAiKTsKICBKU1ZhbHVlIG9wdF9vbl9yZWFkID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25SZWFkIik7CiAgSlNWYWx1ZSBvcHRfb25fcG9zdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uUG9zdCIpOwogIEpTVmFsdWUgb3B0X21vdW50cyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1vdW50cyIpOwogIEpTVmFsdWUgb3B0X21pbWV0eXBlcyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1pbWV0eXBlcyIpOwogIEpTVmFsdWUgb3B0X2Vycm9yX2RvY3VtZW50ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiZXJyb3JEb2N1bWVudCIpOwogIEpTVmFsdWUgb3B0X29wdGlvbnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvcHRpb25zIik7CgoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIG9wdF9vbl9mZCkpCiAgICBvcHRfb25fZmQ9bWlubmV0X2RlZmF1bHRfZmRfY2FsbGJhY2soY3R4KTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKG9wdF90bHMpKSB7CgogICAgaXNfdGxzID0gSlNfVG9Cb29sKGN0eCwgb3B0X3Rscyk7CiAgICBERUJVRygiaXNfdGxzID0gJWRcbiIsIGlzX3Rscyk7CiAgfQoKICBpZighSlNfSXNVbmRlZmluZWQob3B0X3BvcnQpKSB7CiAgICBpbnQzMl90IHBvcnQ7CiAgICBKU19Ub0ludDMyKGN0eCwgJnBvcnQsIG9wdF9wb3J0KTsKICAgIHVybC5wb3J0ID0gcG9ydDsKICB9CgogIGlmKEpTX0lzU3RyaW5nKG9wdF9ob3N0KSkKICAgIGpzX3JlcGxhY2Vfc3RyaW5nKGN0eCwgb3B0X2hvc3QsICZ1cmwuaG9zdCk7CiAgaWYoSlNfSXNTdHJpbmcob3B0X3Byb3RvY29sKSkgewogICAgY29uc3QgY2hhciogcHJvdG9jb2w7CgogICAgaWYoKHByb3RvY29sID0gSlNfVG9DU3RyaW5nKGN0eCwgb3B0X3Byb3RvY29sKSkpIHsKICAgICAgdXJsX3NldF9wcm90b2NvbCgmdXJsLCBwcm90b2NvbCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcHJvdG9jb2wpOwogICAgfQogIH0KCiAgQk9PTF9PUFRJT04ob3B0X2Jsb2NrLCAiYmxvY2siLCBibG9jayk7CiAgQk9PTF9PUFRJT04ob3B0X2gyLCAiaDIiLCBpc19oMik7CiAgQk9PTF9PUFRJT04ob3B0X3BtZCwgInBlcm1lc3NhZ2VEZWZsYXRlIiwgcGVyX21lc3NhZ2VfZGVmbGF0ZSk7CgogIEdFVENCKG9wdF9vbl9wb25nLCBzZXJ2ZXItPmNiLnBvbmcpCiAgR0VUQ0Iob3B0X29uX2Nsb3NlLCBzZXJ2ZXItPmNiLmNsb3NlKQogIEdFVENCKG9wdF9vbl9jb25uZWN0LCBzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgR0VUQ0Iob3B0X29uX21lc3NhZ2UsIHNlcnZlci0+Y2IubWVzc2FnZSkKICBHRVRDQihvcHRfb25fZmQsIHNlcnZlci0+Y2IuZmQpCiAgR0VUQ0Iob3B0X29uX2h0dHAsIHNlcnZlci0+Y2IuaHR0cCkKICBHRVRDQihvcHRfb25fcmVhZCwgc2VydmVyLT5jYi5yZWFkKQogIEdFVENCKG9wdF9vbl9wb3N0LCBzZXJ2ZXItPmNiLnBvc3QpCgogIGZvcihpbnQgaSA9IDA7IGkgPCBjb3VudG9mKHByb3RvY29scyk7IGkrKykgcHJvdG9jb2xzW2ldLnVzZXIgPSBjdHg7CgogIGluZm8tPnByb3RvY29scyA9IHByb3RvY29sczI7CgogIGluZm8tPm1vdW50cyA9ICZtb3VudDsKICBpbmZvLT52aG9zdF9uYW1lID0gdXJsX2Zvcm1hdCgoTWlubmV0VVJMKXsuaG9zdCA9IHVybC5ob3N0LCAucG9ydCA9IHVybC5wb3J0fSwgY3R4KTsKCiAgaWYoSlNfSXNTdHJpbmcob3B0X2Vycm9yX2RvY3VtZW50KSkKICAgIGluZm8tPmVycm9yX2RvY3VtZW50XzQwNCA9IGpzX3Rvc3RyaW5nKGN0eCwgb3B0X2Vycm9yX2RvY3VtZW50KTsKICBlbHNlCiAgICBpbmZvLT5lcnJvcl9kb2N1bWVudF80MDQgPSBqc19zdHJkdXAoY3R4LCAiLzQwNC5odG1sIik7CgogIGluZm8tPnBvcnQgPSB1cmwucG9ydDsKICBpbmZvLT50aW1lb3V0X3NlY3MgPSAwOwogIGluZm8tPm9wdGlvbnMgPSAwOwoKICBpZihwZXJfbWVzc2FnZV9kZWZsYXRlKQogICAgaW5mby0+ZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbl9wbWQ7CgogIC8vIGNsaWVudF9jZXJ0aWZpY2F0ZSgmc2VydmVyLT5jb250ZXh0LCBvcHRpb25zKTsKCiAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9QRUVSX0NFUlRfTk9UX1JFUVVJUkVEOwogIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fRElTQUJMRV9JUFY2OwogIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fSUdOT1JFX01JU1NJTkdfQ0VSVDsKCiAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9DUkVBVEVfVkhPU1RfU1NMX0NUWDsKCiAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9SRVFVSVJFX1ZBTElEX09QRU5TU0xfQ0xJRU5UX0NFUlQ7CgogIGlmKGlzX3RscykgewogICAgc2VydmVyX2NlcnRpZmljYXRlKCZzZXJ2ZXItPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fUkVESVJFQ1RfSFRUUF9UT19IVFRQUzsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfSFRUUF9PTl9IVFRQU19MSVNURU5FUjsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfTk9OX1NTTF9PTl9TU0xfUE9SVDsKICB9CiAgY2xpZW50X2NlcnRpZmljYXRlKCZzZXJ2ZXItPmNvbnRleHQsIG9wdGlvbnMpOwoKICBpZihpc19oMikgewogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9IMl9KVVNUX0ZJWF9XSU5ET1dfVVBEQVRFX09WRVJGTE9XOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9WSF9IMl9IQUxGX0NMT1NFRF9MT05HX1BPTEw7CiAgfQogIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fSFRUUF9IRUFERVJTX1NFQ1VSSVRZX0JFU1RfUFJBQ1RJQ0VTX0VORk9SQ0U7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBvcHRfbWltZXR5cGVzKSkgewogICAgTWlubmV0Vmhvc3RPcHRpb25zICp2b3B0cywgKip2b3AgPSAmc2VydmVyLT5taW1ldHlwZXM7CiAgICB1aW50MzJfdCBpOwogICAgZm9yKGkgPSAwOzsgaSsrKSB7CiAgICAgIEpTVmFsdWUgbWltZXR5cGUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9wdF9taW1ldHlwZXMsIGkpOwogICAgICBpZihKU19Jc1VuZGVmaW5lZChtaW1ldHlwZSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHZvcHRzID0gdmhvc3Rfb3B0aW9uc19uZXcoY3R4LCBtaW1ldHlwZSk7CiAgICAgIEFERCh2b3AsIHZvcHRzLCBuZXh0KTsKICAgIH0KICB9CgogIC8qewogICAgTWlubmV0Vmhvc3RPcHRpb25zKiBwdm87CgogICAgZm9yKHB2byA9IHNlcnZlci0+bWltZXR5cGVzOyBwdm87IHB2byA9IHB2by0+bmV4dCkgewogICAgICBERUJVRygicHZvIG1pbWV0eXBlICVzICVzXG4iLCBwdm8tPm5hbWUsIHB2by0+dmFsdWUpOwogICAgfQogIH0qLwoKICBNaW5uZXRWaG9zdE9wdGlvbnMgKnZob3B0ID0gMCwgKip2aHB0ciA9ICZ2aG9wdDsKCiAgQUREKHZocHRyLCB2aG9zdF9vcHRpb25zX2NyZWF0ZShjdHgsICJsd3MtZGVhZGRyb3AiLCAiIiksIG5leHQpOwogIEFERCh2aHB0ciwgdmhvc3Rfb3B0aW9uc19jcmVhdGUoY3R4LCAibHdzLW1pcnJvci1wcm90b2NvbCIsICIiKSwgbmV4dCk7CiAgQUREKHZocHRyLCB2aG9zdF9vcHRpb25zX2NyZWF0ZShjdHgsICJyYXctcHJveHkiLCAiIiksIG5leHQpOwoKICBpbmZvLT5wdm8gPSAmdmhvcHQtPmx3czsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKG9wdF9vcHRpb25zKSkgewoKICAgIHZob3B0LT5vcHRpb25zID0gdmhvc3Rfb3B0aW9uc19mcm9tb2JqKGN0eCwgb3B0X29wdGlvbnMpOwoKICAgIGZwcmludGYoc3RkZXJyLCAidmhvc3Qgb3B0aW9uczpcbiIpOwogICAgdmhvc3Rfb3B0aW9uc19kdW1wKHZob3B0LT5vcHRpb25zKTsKICB9CgogIHNlcnZlcl9tb3VudHMoc2VydmVyLCBvcHRfbW91bnRzKTsKCiAgaWYoIXNlcnZlcl9pbml0KHNlcnZlcikpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKCiAgSlNWYWx1ZSB0aW1lcl9jYiA9IGpzX2Z1bmN0aW9uX2NjbG9zdXJlKGN0eCwgbWlubmV0X3NlcnZlcl90aW1lb3V0LCA0LCAwLCBzZXJ2ZXIsIDApOwogIHVpbnQzMl90IGludGVydmFsID0gbHdzX3NlcnZpY2VfYWRqdXN0X3RpbWVvdXQoc2VydmVyLT5jb250ZXh0Lmx3cywgMTUwMDAsIDApOwogIGlmKGludGVydmFsID09IDApCiAgICBpbnRlcnZhbCA9IDEwOwogIHNlcnZlci0+Y29udGV4dC50aW1lciA9IGpzX3RpbWVyX2ludGVydmFsKGN0eCwgdGltZXJfY2IsIGludGVydmFsKTsKCiAgaWYoIWJsb2NrKQogICAgcmV0dXJuIHJldDsKCiAgd2hpbGUoYSA+PSAwKSB7CiAgICBpZighSlNfSXNOdWxsKHNlcnZlci0+Y29udGV4dC5lcnJvcikpIHsKICAgICAgcmV0ID0gSlNfVGhyb3coY3R4LCBzZXJ2ZXItPmNvbnRleHQuZXJyb3IpOwogICAgICBicmVhazsKICAgIH0KCiAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkKICAgICAganNfc3RkX2xvb3AoY3R4KTsKICAgIGVsc2UKICAgICAgYSA9IGx3c19zZXJ2aWNlKHNlcnZlci0+Y29udGV4dC5sd3MsIDIwKTsKICB9CgogIC8vIGx3c19jb250ZXh0X2Rlc3Ryb3koc2VydmVyLT5jb250ZXh0Lmx3cyk7CgogIGlmKHNlcnZlci0+bWltZXR5cGVzKQogICAgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoY3R4LCBzZXJ2ZXItPm1pbWV0eXBlcyk7CgogIGlmKGluZm8tPm1vdW50cykgewogICAgY29uc3QgTWlubmV0SHR0cE1vdW50ICptb3VudCwgKm5leHQ7CgogICAgZm9yKG1vdW50ID0gKE1pbm5ldEh0dHBNb3VudCopaW5mby0+bW91bnRzOyBtb3VudDsgbW91bnQgPSBuZXh0KSB7CiAgICAgIG5leHQgPSAoTWlubmV0SHR0cE1vdW50Kiltb3VudC0+bHdzLm1vdW50X25leHQ7CiAgICAgIG1vdW50X2ZyZWUoY3R4LCBtb3VudCk7CiAgICB9CiAgfQoKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSk7CiAgaWYoaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSk7CiAgaWYoaW5mby0+c3NsX2NhX2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAvKmpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQua2V5LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY3J0LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY2EsIGN0eCk7Ki8KCiAgLyogaWYoaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfY2VydF9maWxlcGF0aCk7CgogICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAganNfZnJlZShjdHgsICh2b2lkKilpbmZvLT52aG9zdF9uYW1lKTsKICovCiAgRlJFRUNCKHNlcnZlci0+Y2IucG9uZykKICBGUkVFQ0Ioc2VydmVyLT5jYi5jbG9zZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5jb25uZWN0KQogIEZSRUVDQihzZXJ2ZXItPmNiLm1lc3NhZ2UpCiAgRlJFRUNCKHNlcnZlci0+Y2IuZmQpCiAgRlJFRUNCKHNlcnZlci0+Y2IuaHR0cCkKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfc2VydmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgdW5pb24gY2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfc2VydmVyX2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0ganNfZnVuY3Rpb25fY2Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBqc19mdW5jdGlvbl9jY2xvc3VyZShjdHgsICZtaW5uZXRfc2VydmVyX2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCmludApkZWZwcm90X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSAvKnNlc3Npb24gPyBzZXNzaW9uLT5zZXJ2ZXIgOiovIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwoKICAvLyBpZighbHdzX3JlYXNvbl9wb2xsKHJlYXNvbikpIHByaW50ZigiZGVmcHJvdF9jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKX07CiAgICAgICAgbWlubmV0X2lvX2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIGNhbGxiYWNrX2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7CiAgICAgICAgICAgIEpTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCksCiAgICAgICAgfTsKICAgICAgICBtaW5uZXRfaW9faGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgY2FsbGJhY2tfZW1pdCgmc2VydmVyLT5jYi5mZCwgMywgYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMl0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0hBTkdFX01PREVfUE9MTF9GRDogewogICAgICBzdHJ1Y3QgbHdzX3BvbGxhcmdzKiBhcmdzID0gaW47CiAgICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KSB7CiAgICAgICAgaWYoYXJncy0+ZXZlbnRzICE9IGFyZ3MtPnByZXZfZXZlbnRzKSB7CiAgICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKX07CiAgICAgICAgICBtaW5uZXRfaW9faGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBjYWxsYmFja19lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVZFTlRfV0FJVF9DQU5DRUxMRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19HRVRfVEhSRUFEX0lEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Cn0KAAAAAAAAAAB8SAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAClJgAAAAAAAKUmAAAAAAAAAAAAAAAA8L8"
				],
				[
					95,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAKYmAAAAAAAAqCYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACmJgAAAAAAAKYmAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "lib/jsutils.h",
			"settings":
			{
				"buffer_size": 12492,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/roman/Projects/plot-cv/quickjs/quickjs.h",
			"settings":
			{
				"buffer_size": 42139,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					43,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACvpQAAICAgIC8qCiAqIFF1aWNrSlMgSmF2YXNjcmlwdCBFbmdpbmUKICoKICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMjEgRmFicmljZSBCZWxsYXJkCiAqIENvcHlyaWdodCAoYykgMjAxNy0yMDIxIENoYXJsaWUgR29yZG9uCiAqCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwogKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogKgogKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgogKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICoKICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMCiAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KICogVEhFIFNPRlRXQVJFLgogKi8KI2lmbmRlZiBRVUlDS0pTX0gKI2RlZmluZSBRVUlDS0pTX0gKCiNpbmNsdWRlIDxzdGRpby5oPgojaW5jbHVkZSA8c3RkaW50Lmg+CgojaWZkZWYgX19jcGx1c3BsdXMKZXh0ZXJuICJDIiB7CiNlbmRpZgoKI2lmIGRlZmluZWQoX19HTlVDX18pIHx8IGRlZmluZWQoX19jbGFuZ19fKQojZGVmaW5lIGpzX2xpa2VseSh4KSAgICAgICAgICBfX2J1aWx0aW5fZXhwZWN0KCEhKHgpLCAxKQojZGVmaW5lIGpzX3VubGlrZWx5KHgpICAgICAgICBfX2J1aWx0aW5fZXhwZWN0KCEhKHgpLCAwKQojZGVmaW5lIGpzX2ZvcmNlX2lubGluZSAgICAgICBpbmxpbmUgX19hdHRyaWJ1dGVfXygoYWx3YXlzX2lubGluZSkpCiNkZWZpbmUgX19qc19wcmludGZfbGlrZShmLCBhKSAgIF9fYXR0cmlidXRlX18oKGZvcm1hdChwcmludGYsIGYsIGEpKSkKI2Vsc2UKI2RlZmluZSBqc19saWtlbHkoeCkgICAgICh4KQojZGVmaW5lIGpzX3VubGlrZWx5KHgpICAgKHgpCiNkZWZpbmUganNfZm9yY2VfaW5saW5lICBpbmxpbmUKI2RlZmluZSBfX2pzX3ByaW50Zl9saWtlKGEsIGIpCiNlbmRpZgoKI2RlZmluZSBKU19CT09MIGludAoKdHlwZWRlZiBzdHJ1Y3QgSlNSdW50aW1lIEpTUnVudGltZTsKdHlwZWRlZiBzdHJ1Y3QgSlNDb250ZXh0IEpTQ29udGV4dDsKdHlwZWRlZiBzdHJ1Y3QgSlNPYmplY3QgSlNPYmplY3Q7CnR5cGVkZWYgc3RydWN0IEpTQ2xhc3MgSlNDbGFzczsKdHlwZWRlZiB1aW50MzJfdCBKU0NsYXNzSUQ7CnR5cGVkZWYgdWludDMyX3QgSlNBdG9tOwoKI2lmIElOVFBUUl9NQVggPj0gSU5UNjRfTUFYCiNkZWZpbmUgSlNfUFRSNjQKI2RlZmluZSBKU19QVFI2NF9ERUYoYSkgYQojZWxzZQojZGVmaW5lIEpTX1BUUjY0X0RFRihhKQojZW5kaWYKCiNpZm5kZWYgSlNfUFRSNjQKI2RlZmluZSBKU19OQU5fQk9YSU5HCiNlbmRpZgoKZW51bSB7CiAgICAvKiBhbGwgdGFncyB3aXRoIGEgcmVmZXJlbmNlIGNvdW50IGFyZSBuZWdhdGl2ZSAqLwogICAgSlNfVEFHX0ZJUlNUICAgICAgID0gLTExLCAvKiBmaXJzdCBuZWdhdGl2ZSB0YWcgKi8KICAgIEpTX1RBR19CSUdfREVDSU1BTCA9IC0xMSwKICAgIEpTX1RBR19CSUdfSU5UICAgICA9IC0xMCwKICAgIEpTX1RBR19CSUdfRkxPQVQgICA9IC05LAogICAgSlNfVEFHX1NZTUJPTCAgICAgID0gLTgsCiAgICBKU19UQUdfU1RSSU5HICAgICAgPSAtNywKICAgIEpTX1RBR19NT0RVTEUgICAgICA9IC0zLCAvKiB1c2VkIGludGVybmFsbHkgKi8KICAgIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERSA9IC0yLCAvKiB1c2VkIGludGVybmFsbHkgKi8KICAgIEpTX1RBR19PQkpFQ1QgICAgICA9IC0xLAoKICAgIEpTX1RBR19JTlQgICAgICAgICA9IDAsCiAgICBKU19UQUdfQk9PTCAgICAgICAgPSAxLAogICAgSlNfVEFHX05VTEwgICAgICAgID0gMiwKICAgIEpTX1RBR19VTkRFRklORUQgICA9IDMsCiAgICBKU19UQUdfVU5JTklUSUFMSVpFRCA9IDQsCiAgICBKU19UQUdfQ0FUQ0hfT0ZGU0VUID0gNSwKICAgIEpTX1RBR19FWENFUFRJT04gICA9IDYsCiAgICBKU19UQUdfRkxPQVQ2NCAgICAgPSA3LAogICAgLyogYW55IGxhcmdlciB0YWcgaXMgRkxPQVQ2NCBpZiBKU19OQU5fQk9YSU5HICovCn07Cgp0eXBlZGVmIHN0cnVjdCBKU1JlZkNvdW50SGVhZGVyIHsKICAgIGludCByZWZfY291bnQ7Cn0gSlNSZWZDb3VudEhlYWRlcjsKCiNkZWZpbmUgSlNfRkxPQVQ2NF9OQU4gTkFOCgojaWZkZWYgQ09ORklHX0NIRUNLX0pTVkFMVUUKLyogSlNWYWx1ZSBjb25zaXN0ZW5jeSA6IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBydW4gdGhlIGNvZGUgaW4gdGhpcwogICBtb2RlLCBidXQgaXQgaXMgdXNlZnVsIHRvIGRldGVjdCBzaW1wbGUgcmVmZXJlbmNlIGNvdW50aW5nCiAgIGVycm9ycy4gSXQgd291bGQgYmUgaW50ZXJlc3RpbmcgdG8gbW9kaWZ5IGEgc3RhdGljIEMgYW5hbHl6ZXIgdG8KICAgaGFuZGxlIHNwZWNpZmljIGFubm90YXRpb25zIChjbGFuZyBoYXMgc3VjaCBhbm5vdGF0aW9ucyBidXQgb25seQogICBmb3Igb2JqZWN0aXZlIEMpICovCnR5cGVkZWYgc3RydWN0IF9fSlNWYWx1ZSAqSlNWYWx1ZTsKdHlwZWRlZiBjb25zdCBzdHJ1Y3QgX19KU1ZhbHVlICpKU1ZhbHVlQ29uc3Q7CgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9UQUcodikgKGludCkoKHVpbnRwdHJfdCkodikgJiAweGYpCi8qIHNhbWUgYXMgSlNfVkFMVUVfR0VUX1RBRywgYnV0IHJldHVybiBKU19UQUdfRkxPQVQ2NCB3aXRoIE5hTiBib3hpbmcgKi8KI2RlZmluZSBKU19WQUxVRV9HRVRfTk9STV9UQUcodikgSlNfVkFMVUVfR0VUX1RBRyh2KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9JTlQodikgKGludCkoKGludHB0cl90KSh2KSA+PiA0KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9CT09MKHYpIEpTX1ZBTFVFX0dFVF9JTlQodikKI2RlZmluZSBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2KSAoZG91YmxlKUpTX1ZBTFVFX0dFVF9JTlQodikKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICh2b2lkICopKChpbnRwdHJfdCkodikgJiB+MHhmKQoKI2RlZmluZSBKU19NS1ZBTCh0YWcsIHZhbCkgKEpTVmFsdWUpKGludHB0cl90KSgoKHZhbCkgPDwgNCkgfCAodGFnKSkKI2RlZmluZSBKU19NS1BUUih0YWcsIHApIChKU1ZhbHVlKSgoaW50cHRyX3QpKHApIHwgKHRhZykpCgojZGVmaW5lIEpTX1RBR19JU19GTE9BVDY0KHRhZykgKCh1bnNpZ25lZCkodGFnKSA9PSBKU19UQUdfRkxPQVQ2NCkKCiNkZWZpbmUgSlNfTkFOIEpTX01LVkFMKEpTX1RBR19GTE9BVDY0LCAxKQoKc3RhdGljIGlubGluZSBKU1ZhbHVlIF9fSlNfTmV3RmxvYXQ2NChKU0NvbnRleHQgKmN0eCwgZG91YmxlIGQpCnsKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfRkxPQVQ2NCwgKGludClkKTsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX1ZBTFVFX0lTX05BTihKU1ZhbHVlIHYpCnsKICAgIHJldHVybiAwOwp9CiAgICAKI2VsaWYgZGVmaW5lZChKU19OQU5fQk9YSU5HKQoKdHlwZWRlZiB1aW50NjRfdCBKU1ZhbHVlOwoKI2RlZmluZSBKU1ZhbHVlQ29uc3QgSlNWYWx1ZQoKI2RlZmluZSBKU19WQUxVRV9HRVRfVEFHKHYpIChpbnQpKCh2KSA+PiAzMikKI2RlZmluZSBKU19WQUxVRV9HRVRfSU5UKHYpIChpbnQpKHYpCiNkZWZpbmUgSlNfVkFMVUVfR0VUX0JPT0wodikgKGludCkodikKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICh2b2lkICopKGludHB0cl90KSh2KQoKI2RlZmluZSBKU19NS1ZBTCh0YWcsIHZhbCkgKCgodWludDY0X3QpKHRhZykgPDwgMzIpIHwgKHVpbnQzMl90KSh2YWwpKQojZGVmaW5lIEpTX01LUFRSKHRhZywgcHRyKSAoKCh1aW50NjRfdCkodGFnKSA8PCAzMikgfCAodWludHB0cl90KShwdHIpKQoKI2RlZmluZSBKU19GTE9BVDY0X1RBR19BRERFTkQgKDB4N2ZmODAwMDAgLSBKU19UQUdfRklSU1QgKyAxKSAvKiBxdWlldCBOYU4gZW5jb2RpbmcgKi8KCnN0YXRpYyBpbmxpbmUgZG91YmxlIEpTX1ZBTFVFX0dFVF9GTE9BVDY0KEpTVmFsdWUgdikKewogICAgdW5pb24gewogICAgICAgIEpTVmFsdWUgdjsKICAgICAgICBkb3VibGUgZDsKICAgIH0gdTsKICAgIHUudiA9IHY7CiAgICB1LnYgKz0gKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMjsKICAgIHJldHVybiB1LmQ7Cn0KCiNkZWZpbmUgSlNfTkFOICgweDdmZjgwMDAwMDAwMDAwMDAgLSAoKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMikpCgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgX19KU19OZXdGbG9hdDY0KEpTQ29udGV4dCAqY3R4LCBkb3VibGUgZCkKewogICAgdW5pb24gewogICAgICAgIGRvdWJsZSBkOwogICAgICAgIHVpbnQ2NF90IHU2NDsKICAgIH0gdTsKICAgIEpTVmFsdWUgdjsKICAgIHUuZCA9IGQ7CiAgICAvKiBub3JtYWxpemUgTmFOICovCiAgICBpZiAoanNfdW5saWtlbHkoKHUudTY0ICYgMHg3ZmZmZmZmZmZmZmZmZmZmKSA+IDB4N2ZmMDAwMDAwMDAwMDAwMCkpCiAgICAgICAgdiA9IEpTX05BTjsKICAgIGVsc2UKICAgICAgICB2ID0gdS51NjQgLSAoKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMik7CiAgICByZXR1cm4gdjsKfQoKI2RlZmluZSBKU19UQUdfSVNfRkxPQVQ2NCh0YWcpICgodW5zaWduZWQpKCh0YWcpIC0gSlNfVEFHX0ZJUlNUKSA+PSAoSlNfVEFHX0ZMT0FUNjQgLSBKU19UQUdfRklSU1QpKQoKLyogc2FtZSBhcyBKU19WQUxVRV9HRVRfVEFHLCBidXQgcmV0dXJuIEpTX1RBR19GTE9BVDY0IHdpdGggTmFOIGJveGluZyAqLwpzdGF0aWMgaW5saW5lIGludCBKU19WQUxVRV9HRVRfTk9STV9UQUcoSlNWYWx1ZSB2KQp7CiAgICB1aW50MzJfdCB0YWc7CiAgICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgaWYgKEpTX1RBR19JU19GTE9BVDY0KHRhZykpCiAgICAgICAgcmV0dXJuIEpTX1RBR19GTE9BVDY0OwogICAgZWxzZQogICAgICAgIHJldHVybiB0YWc7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19WQUxVRV9JU19OQU4oSlNWYWx1ZSB2KQp7CiAgICB1aW50MzJfdCB0YWc7CiAgICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSAoSlNfTkFOID4+IDMyKTsKfQogICAgCiNlbHNlIC8qICFKU19OQU5fQk9YSU5HICovCgp0eXBlZGVmIHVuaW9uIEpTVmFsdWVVbmlvbiB7CiAgICBpbnQzMl90IGludDMyOwogICAgZG91YmxlIGZsb2F0NjQ7CiAgICB2b2lkICpwdHI7Cn0gSlNWYWx1ZVVuaW9uOwoKdHlwZWRlZiBzdHJ1Y3QgSlNWYWx1ZSB7CiAgICBKU1ZhbHVlVW5pb24gdTsKICAgIGludDY0X3QgdGFnOwp9IEpTVmFsdWU7CgojZGVmaW5lIEpTVmFsdWVDb25zdCBKU1ZhbHVlCgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9UQUcodikgKChpbnQzMl90KSh2KS50YWcpCi8qIHNhbWUgYXMgSlNfVkFMVUVfR0VUX1RBRywgYnV0IHJldHVybiBKU19UQUdfRkxPQVQ2NCB3aXRoIE5hTiBib3hpbmcgKi8KI2RlZmluZSBKU19WQUxVRV9HRVRfTk9STV9UQUcodikgSlNfVkFMVUVfR0VUX1RBRyh2KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9JTlQodikgKCh2KS51LmludDMyKQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9CT09MKHYpICgodikudS5pbnQzMikKI2RlZmluZSBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2KSAoKHYpLnUuZmxvYXQ2NCkKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICgodikudS5wdHIpCgojZGVmaW5lIEpTX01LVkFMKHRhZywgdmFsKSAoSlNWYWx1ZSl7IChKU1ZhbHVlVW5pb24peyAuaW50MzIgPSB2YWwgfSwgdGFnIH0KI2RlZmluZSBKU19NS1BUUih0YWcsIHApIChKU1ZhbHVlKXsgKEpTVmFsdWVVbmlvbil7IC5wdHIgPSBwIH0sIHRhZyB9CgojZGVmaW5lIEpTX1RBR19JU19GTE9BVDY0KHRhZykgKCh1bnNpZ25lZCkodGFnKSA9PSBKU19UQUdfRkxPQVQ2NCkKCiNkZWZpbmUgSlNfTkFOIChKU1ZhbHVlKXsgLnUuZmxvYXQ2NCA9IEpTX0ZMT0FUNjRfTkFOLCBKU19UQUdfRkxPQVQ2NCB9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgX19KU19OZXdGbG9hdDY0KEpTQ29udGV4dCAqY3R4LCBkb3VibGUgZCkKewogICAgSlNWYWx1ZSB2OwogICAgdi50YWcgPSBKU19UQUdfRkxPQVQ2NDsKICAgIHYudS5mbG9hdDY0ID0gZDsKICAgIHJldHVybiB2Owp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfVkFMVUVfSVNfTkFOKEpTVmFsdWUgdikKewogICAgdW5pb24gewogICAgICAgIGRvdWJsZSBkOwogICAgICAgIHVpbnQ2NF90IHU2NDsKICAgIH0gdTsKICAgIGlmICh2LnRhZyAhPSBKU19UQUdfRkxPQVQ2NCkKICAgICAgICByZXR1cm4gMDsKICAgIHUuZCA9IHYudS5mbG9hdDY0OwogICAgcmV0dXJuICh1LnU2NCAmIDB4N2ZmZmZmZmZmZmZmZmZmZikgPiAweDdmZjAwMDAwMDAwMDAwMDA7Cn0KCiNlbmRpZiAvKiAhSlNfTkFOX0JPWElORyAqLwoKI2RlZmluZSBKU19WQUxVRV9JU19CT1RIX0lOVCh2MSwgdjIpICgoSlNfVkFMVUVfR0VUX1RBRyh2MSkgfCBKU19WQUxVRV9HRVRfVEFHKHYyKSkgPT0gMCkKI2RlZmluZSBKU19WQUxVRV9JU19CT1RIX0ZMT0FUKHYxLCB2MikgKEpTX1RBR19JU19GTE9BVDY0KEpTX1ZBTFVFX0dFVF9UQUcodjEpKSAmJiBKU19UQUdfSVNfRkxPQVQ2NChKU19WQUxVRV9HRVRfVEFHKHYyKSkpCgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9PQkoodikgKChKU09iamVjdCAqKUpTX1ZBTFVFX0dFVF9QVFIodikpCiNkZWZpbmUgSlNfVkFMVUVfR0VUX1NUUklORyh2KSAoKEpTU3RyaW5nICopSlNfVkFMVUVfR0VUX1BUUih2KSkKI2RlZmluZSBKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpICgodW5zaWduZWQpSlNfVkFMVUVfR0VUX1RBRyh2KSA+PSAodW5zaWduZWQpSlNfVEFHX0ZJUlNUKQoKLyogc3BlY2lhbCB2YWx1ZXMgKi8KI2RlZmluZSBKU19OVUxMICAgICAgSlNfTUtWQUwoSlNfVEFHX05VTEwsIDApCiNkZWZpbmUgSlNfVU5ERUZJTkVEIEpTX01LVkFMKEpTX1RBR19VTkRFRklORUQsIDApCiNkZWZpbmUgSlNfRkFMU0UgICAgIEpTX01LVkFMKEpTX1RBR19CT09MLCAwKQojZGVmaW5lIEpTX1RSVUUgICAgICBKU19NS1ZBTChKU19UQUdfQk9PTCwgMSkKI2RlZmluZSBKU19FWENFUFRJT04gSlNfTUtWQUwoSlNfVEFHX0VYQ0VQVElPTiwgMCkKI2RlZmluZSBKU19VTklOSVRJQUxJWkVEIEpTX01LVkFMKEpTX1RBR19VTklOSVRJQUxJWkVELCAwKQoKLyogZmxhZ3MgZm9yIG9iamVjdCBwcm9wZXJ0aWVzICovCiNkZWZpbmUgSlNfUFJPUF9DT05GSUdVUkFCTEUgICgxIDw8IDApCiNkZWZpbmUgSlNfUFJPUF9XUklUQUJMRSAgICAgICgxIDw8IDEpCiNkZWZpbmUgSlNfUFJPUF9FTlVNRVJBQkxFICAgICgxIDw8IDIpCiNkZWZpbmUgSlNfUFJPUF9DX1dfRSAgICAgICAgIChKU19QUk9QX0NPTkZJR1VSQUJMRSB8IEpTX1BST1BfV1JJVEFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpCiNkZWZpbmUgSlNfUFJPUF9MRU5HVEggICAgICAgICgxIDw8IDMpIC8qIHVzZWQgaW50ZXJuYWxseSBpbiBBcnJheXMgKi8KI2RlZmluZSBKU19QUk9QX1RNQVNLICAgICAgICAgKDMgPDwgNCkgLyogbWFzayBmb3IgTk9STUFMLCBHRVRTRVQsIFZBUlJFRiwgQVVUT0lOSVQgKi8KI2RlZmluZSBKU19QUk9QX05PUk1BTCAgICAgICAgICgwIDw8IDQpCiNkZWZpbmUgSlNfUFJPUF9HRVRTRVQgICAgICAgICAoMSA8PCA0KQojZGVmaW5lIEpTX1BST1BfVkFSUkVGICAgICAgICAgKDIgPDwgNCkgLyogdXNlZCBpbnRlcm5hbGx5ICovCiNkZWZpbmUgSlNfUFJPUF9BVVRPSU5JVCAgICAgICAoMyA8PCA0KSAvKiB1c2VkIGludGVybmFsbHkgKi8KCi8qIGZsYWdzIGZvciBKU19EZWZpbmVQcm9wZXJ0eSAqLwojZGVmaW5lIEpTX1BST1BfSEFTX1NISUZUICAgICAgICA4CiNkZWZpbmUgSlNfUFJPUF9IQVNfQ09ORklHVVJBQkxFICgxIDw8IDgpCiNkZWZpbmUgSlNfUFJPUF9IQVNfV1JJVEFCTEUgICAgICgxIDw8IDkpCiNkZWZpbmUgSlNfUFJPUF9IQVNfRU5VTUVSQUJMRSAgICgxIDw8IDEwKQojZGVmaW5lIEpTX1BST1BfSEFTX0dFVCAgICAgICAgICAoMSA8PCAxMSkKI2RlZmluZSBKU19QUk9QX0hBU19TRVQgICAgICAgICAgKDEgPDwgMTIpCiNkZWZpbmUgSlNfUFJPUF9IQVNfVkFMVUUgICAgICAgICgxIDw8IDEzKQoKLyogdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGZhbHNlIHdvdWxkIGJlIHJldHVybmVkCiAgIChKU19EZWZpbmVQcm9wZXJ0eS9KU19TZXRQcm9wZXJ0eSkgKi8KI2RlZmluZSBKU19QUk9QX1RIUk9XICAgICAgICAgICAgKDEgPDwgMTQpCi8qIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBmYWxzZSB3b3VsZCBiZSByZXR1cm5lZCBpbiBzdHJpY3QgbW9kZQogICAoSlNfU2V0UHJvcGVydHkpICovCiNkZWZpbmUgSlNfUFJPUF9USFJPV19TVFJJQ1QgICAgICgxIDw8IDE1KQoKI2RlZmluZSBKU19QUk9QX05PX0FERCAgICAgICAgICAgKDEgPDwgMTYpIC8qIGludGVybmFsIHVzZSAqLwojZGVmaW5lIEpTX1BST1BfTk9fRVhPVElDICAgICAgICAoMSA8PCAxNykgLyogaW50ZXJuYWwgdXNlICovCgojZGVmaW5lIEpTX0RFRkFVTFRfU1RBQ0tfU0laRSAoMjU2ICogMTAyNCkKCi8qIEpTX0V2YWwoKSBmbGFncyAqLwojZGVmaW5lIEpTX0VWQUxfVFlQRV9HTE9CQUwgICAoMCA8PCAwKSAvKiBnbG9iYWwgY29kZSAoZGVmYXVsdCkgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfTU9EVUxFICAgKDEgPDwgMCkgLyogbW9kdWxlIGNvZGUgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfRElSRUNUICAgKDIgPDwgMCkgLyogZGlyZWN0IGNhbGwgKGludGVybmFsIHVzZSkgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfSU5ESVJFQ1QgKDMgPDwgMCkgLyogaW5kaXJlY3QgY2FsbCAoaW50ZXJuYWwgdXNlKSAqLwojZGVmaW5lIEpTX0VWQUxfVFlQRV9NQVNLICAgICAoMyA8PCAwKQoKI2RlZmluZSBKU19FVkFMX0ZMQUdfU1RSSUNUICAgKDEgPDwgMykgLyogZm9yY2UgJ3N0cmljdCcgbW9kZSAqLwojZGVmaW5lIEpTX0VWQUxfRkxBR19TVFJJUCAgICAoMSA8PCA0KSAvKiBmb3JjZSAnc3RyaXAnIG1vZGUgKi8KLyogY29tcGlsZSBidXQgZG8gbm90IHJ1bi4gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3Qgd2l0aCBhCiAgIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERSBvciBKU19UQUdfTU9EVUxFIHRhZy4gSXQgY2FuIGJlIGV4ZWN1dGVkCiAgIHdpdGggSlNfRXZhbEZ1bmN0aW9uKCkuICovCiNkZWZpbmUgSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSAoMSA8PCA1KQovKiBkb24ndCBpbmNsdWRlIHRoZSBzdGFjayBmcmFtZXMgYmVmb3JlIHRoaXMgZXZhbCBpbiB0aGUgRXJyb3IoKSBiYWNrdHJhY2VzICovCiNkZWZpbmUgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSICgxIDw8IDYpCgp0eXBlZGVmIEpTVmFsdWUgSlNDRnVuY3Rpb24oSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7CnR5cGVkZWYgSlNWYWx1ZSBKU0NGdW5jdGlvbk1hZ2ljKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YsIGludCBtYWdpYyk7CnR5cGVkZWYgSlNWYWx1ZSBKU0NGdW5jdGlvbkRhdGEoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50IG1hZ2ljLCBKU1ZhbHVlICpmdW5jX2RhdGEpOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNYWxsb2NTdGF0ZSB7CiAgICBzaXplX3QgbWFsbG9jX2NvdW50OwogICAgc2l6ZV90IG1hbGxvY19zaXplOwogICAgc2l6ZV90IG1hbGxvY19saW1pdDsKICAgIHZvaWQgKm9wYXF1ZTsgLyogdXNlciBvcGFxdWUgKi8KfSBKU01hbGxvY1N0YXRlOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNYWxsb2NGdW5jdGlvbnMgewogICAgdm9pZCAqKCpqc19tYWxsb2MpKEpTTWFsbG9jU3RhdGUgKnMsIHNpemVfdCBzaXplKTsKICAgIHZvaWQgKCpqc19mcmVlKShKU01hbGxvY1N0YXRlICpzLCB2b2lkICpwdHIpOwogICAgdm9pZCAqKCpqc19yZWFsbG9jKShKU01hbGxvY1N0YXRlICpzLCB2b2lkICpwdHIsIHNpemVfdCBzaXplKTsKICAgIHNpemVfdCAoKmpzX21hbGxvY191c2FibGVfc2l6ZSkoY29uc3Qgdm9pZCAqcHRyKTsKfSBKU01hbGxvY0Z1bmN0aW9uczsKCnR5cGVkZWYgc3RydWN0IEpTR0NPYmplY3RIZWFkZXIgSlNHQ09iamVjdEhlYWRlcjsKCkpTUnVudGltZSAqSlNfTmV3UnVudGltZSh2b2lkKTsKLyogaW5mbyBsaWZldGltZSBtdXN0IGV4Y2VlZCB0aGF0IG9mIHJ0ICovCnZvaWQgSlNfU2V0UnVudGltZUluZm8oSlNSdW50aW1lICpydCwgY29uc3QgY2hhciAqaW5mbyk7CnZvaWQgSlNfU2V0TWVtb3J5TGltaXQoSlNSdW50aW1lICpydCwgc2l6ZV90IGxpbWl0KTsKdm9pZCBKU19TZXRHQ1RocmVzaG9sZChKU1J1bnRpbWUgKnJ0LCBzaXplX3QgZ2NfdGhyZXNob2xkKTsKLyogdXNlIDAgdG8gZGlzYWJsZSBtYXhpbXVtIHN0YWNrIHNpemUgY2hlY2sgKi8Kdm9pZCBKU19TZXRNYXhTdGFja1NpemUoSlNSdW50aW1lICpydCwgc2l6ZV90IHN0YWNrX3NpemUpOwovKiBzaG91bGQgYmUgY2FsbGVkIHdoZW4gY2hhbmdpbmcgdGhyZWFkIHRvIHVwZGF0ZSB0aGUgc3RhY2sgdG9wIHZhbHVlCiAgIHVzZWQgdG8gY2hlY2sgc3RhY2sgb3ZlcmZsb3cuICovCnZvaWQgSlNfVXBkYXRlU3RhY2tUb3AoSlNSdW50aW1lICpydCk7CkpTUnVudGltZSAqSlNfTmV3UnVudGltZTIoY29uc3QgSlNNYWxsb2NGdW5jdGlvbnMgKm1mLCB2b2lkICpvcGFxdWUpOwp2b2lkIEpTX0ZyZWVSdW50aW1lKEpTUnVudGltZSAqcnQpOwp2b2lkICpKU19HZXRSdW50aW1lT3BhcXVlKEpTUnVudGltZSAqcnQpOwp2b2lkIEpTX1NldFJ1bnRpbWVPcGFxdWUoSlNSdW50aW1lICpydCwgdm9pZCAqb3BhcXVlKTsKdHlwZWRlZiB2b2lkIEpTX01hcmtGdW5jKEpTUnVudGltZSAqcnQsIEpTR0NPYmplY3RIZWFkZXIgKmdwKTsKdm9pZCBKU19NYXJrVmFsdWUoSlNSdW50aW1lICpydCwgSlNWYWx1ZUNvbnN0IHZhbCwgSlNfTWFya0Z1bmMgKm1hcmtfZnVuYyk7CnZvaWQgSlNfUnVuR0MoSlNSdW50aW1lICpydCk7CkpTX0JPT0wgSlNfSXNMaXZlT2JqZWN0KEpTUnVudGltZSAqcnQsIEpTVmFsdWVDb25zdCBvYmopOwoKSlNDb250ZXh0ICpKU19OZXdDb250ZXh0KEpTUnVudGltZSAqcnQpOwp2b2lkIEpTX0ZyZWVDb250ZXh0KEpTQ29udGV4dCAqcyk7CkpTQ29udGV4dCAqSlNfRHVwQ29udGV4dChKU0NvbnRleHQgKmN0eCk7CnZvaWQgKkpTX0dldENvbnRleHRPcGFxdWUoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX1NldENvbnRleHRPcGFxdWUoSlNDb250ZXh0ICpjdHgsIHZvaWQgKm9wYXF1ZSk7CkpTUnVudGltZSAqSlNfR2V0UnVudGltZShKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfU2V0Q2xhc3NQcm90byhKU0NvbnRleHQgKmN0eCwgSlNDbGFzc0lEIGNsYXNzX2lkLCBKU1ZhbHVlIG9iaik7CkpTVmFsdWUgSlNfR2V0Q2xhc3NQcm90byhKU0NvbnRleHQgKmN0eCwgSlNDbGFzc0lEIGNsYXNzX2lkKTsKCi8qIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSB1c2VkIHRvIHNlbGVjdCB0aGUgaW50cmluc2ljIG9iamVjdCB0bwogICBzYXZlIG1lbW9yeSAqLwpKU0NvbnRleHQgKkpTX05ld0NvbnRleHRSYXcoSlNSdW50aW1lICpydCk7CnZvaWQgSlNfQWRkSW50cmluc2ljQmFzZU9iamVjdHMoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0RhdGUoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0V2YWwoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1N0cmluZ05vcm1hbGl6ZShKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljUmVnRXhwQ29tcGlsZXIoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1JlZ0V4cChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljSlNPTihKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljUHJveHkoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY01hcFNldChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljVHlwZWRBcnJheXMoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1Byb21pc2UoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0JpZ0ludChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljQmlnRmxvYXQoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0JpZ0RlY2ltYWwoSlNDb250ZXh0ICpjdHgpOwovKiBlbmFibGUgb3BlcmF0b3Igb3ZlcmxvYWRpbmcgKi8Kdm9pZCBKU19BZGRJbnRyaW5zaWNPcGVyYXRvcnMoSlNDb250ZXh0ICpjdHgpOwovKiBlbmFibGUgInVzZSBtYXRoIiAqLwp2b2lkIEpTX0VuYWJsZUJpZ251bUV4dChKU0NvbnRleHQgKmN0eCwgSlNfQk9PTCBlbmFibGUpOwoKSlNWYWx1ZSBqc19zdHJpbmdfY29kZVBvaW50UmFuZ2UoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7Cgp2b2lkICpqc19tYWxsb2NfcnQoSlNSdW50aW1lICpydCwgc2l6ZV90IHNpemUpOwp2b2lkIGpzX2ZyZWVfcnQoSlNSdW50aW1lICpydCwgdm9pZCAqcHRyKTsKdm9pZCAqanNfcmVhbGxvY19ydChKU1J1bnRpbWUgKnJ0LCB2b2lkICpwdHIsIHNpemVfdCBzaXplKTsKc2l6ZV90IGpzX21hbGxvY191c2FibGVfc2l6ZV9ydChKU1J1bnRpbWUgKnJ0LCBjb25zdCB2b2lkICpwdHIpOwp2b2lkICpqc19tYWxsb2N6X3J0KEpTUnVudGltZSAqcnQsIHNpemVfdCBzaXplKTsKCnZvaWQgKmpzX21hbGxvYyhKU0NvbnRleHQgKmN0eCwgc2l6ZV90IHNpemUpOwp2b2lkIGpzX2ZyZWUoSlNDb250ZXh0ICpjdHgsIHZvaWQgKnB0cik7CnZvaWQgKmpzX3JlYWxsb2MoSlNDb250ZXh0ICpjdHgsIHZvaWQgKnB0ciwgc2l6ZV90IHNpemUpOwpzaXplX3QganNfbWFsbG9jX3VzYWJsZV9zaXplKEpTQ29udGV4dCAqY3R4LCBjb25zdCB2b2lkICpwdHIpOwp2b2lkICpqc19yZWFsbG9jMihKU0NvbnRleHQgKmN0eCwgdm9pZCAqcHRyLCBzaXplX3Qgc2l6ZSwgc2l6ZV90ICpwc2xhY2spOwp2b2lkICpqc19tYWxsb2N6KEpTQ29udGV4dCAqY3R4LCBzaXplX3Qgc2l6ZSk7CmNoYXIgKmpzX3N0cmR1cChKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqc3RyKTsKY2hhciAqanNfc3RybmR1cChKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqcywgc2l6ZV90IG4pOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNZW1vcnlVc2FnZSB7CiAgICBpbnQ2NF90IG1hbGxvY19zaXplLCBtYWxsb2NfbGltaXQsIG1lbW9yeV91c2VkX3NpemU7CiAgICBpbnQ2NF90IG1hbGxvY19jb3VudDsKICAgIGludDY0X3QgbWVtb3J5X3VzZWRfY291bnQ7CiAgICBpbnQ2NF90IGF0b21fY291bnQsIGF0b21fc2l6ZTsKICAgIGludDY0X3Qgc3RyX2NvdW50LCBzdHJfc2l6ZTsKICAgIGludDY0X3Qgb2JqX2NvdW50LCBvYmpfc2l6ZTsKICAgIGludDY0X3QgcHJvcF9jb3VudCwgcHJvcF9zaXplOwogICAgaW50NjRfdCBzaGFwZV9jb3VudCwgc2hhcGVfc2l6ZTsKICAgIGludDY0X3QganNfZnVuY19jb3VudCwganNfZnVuY19zaXplLCBqc19mdW5jX2NvZGVfc2l6ZTsKICAgIGludDY0X3QganNfZnVuY19wYzJsaW5lX2NvdW50LCBqc19mdW5jX3BjMmxpbmVfc2l6ZTsKICAgIGludDY0X3QgY19mdW5jX2NvdW50LCBhcnJheV9jb3VudDsKICAgIGludDY0X3QgZmFzdF9hcnJheV9jb3VudCwgZmFzdF9hcnJheV9lbGVtZW50czsKICAgIGludDY0X3QgYmluYXJ5X29iamVjdF9jb3VudCwgYmluYXJ5X29iamVjdF9zaXplOwp9IEpTTWVtb3J5VXNhZ2U7Cgp2b2lkIEpTX0NvbXB1dGVNZW1vcnlVc2FnZShKU1J1bnRpbWUgKnJ0LCBKU01lbW9yeVVzYWdlICpzKTsKdm9pZCBKU19EdW1wTWVtb3J5VXNhZ2UoRklMRSAqZnAsIGNvbnN0IEpTTWVtb3J5VXNhZ2UgKnMsIEpTUnVudGltZSAqcnQpOwoKLyogYXRvbSBzdXBwb3J0ICovCiNkZWZpbmUgSlNfQVRPTV9OVUxMIDAKCkpTQXRvbSBKU19OZXdBdG9tTGVuKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIsIHNpemVfdCBsZW4pOwpKU0F0b20gSlNfTmV3QXRvbShKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqc3RyKTsKSlNBdG9tIEpTX05ld0F0b21VSW50MzIoSlNDb250ZXh0ICpjdHgsIHVpbnQzMl90IG4pOwpKU0F0b20gSlNfRHVwQXRvbShKU0NvbnRleHQgKmN0eCwgSlNBdG9tIHYpOwp2b2lkIEpTX0ZyZWVBdG9tKEpTQ29udGV4dCAqY3R4LCBKU0F0b20gdik7CnZvaWQgSlNfRnJlZUF0b21SVChKU1J1bnRpbWUgKnJ0LCBKU0F0b20gdik7CkpTVmFsdWUgSlNfQXRvbVRvVmFsdWUoSlNDb250ZXh0ICpjdHgsIEpTQXRvbSBhdG9tKTsKSlNWYWx1ZSBKU19BdG9tVG9TdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTQXRvbSBhdG9tKTsKY29uc3QgY2hhciAqSlNfQXRvbVRvQ1N0cmluZyhKU0NvbnRleHQgKmN0eCwgSlNBdG9tIGF0b20pOwpKU0F0b20gSlNfVmFsdWVUb0F0b20oSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwoKLyogb2JqZWN0IGNsYXNzIHN1cHBvcnQgKi8KCnR5cGVkZWYgc3RydWN0IEpTUHJvcGVydHlFbnVtIHsKICAgIEpTX0JPT0wgaXNfZW51bWVyYWJsZTsKICAgIEpTQXRvbSBhdG9tOwp9IEpTUHJvcGVydHlFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNQcm9wZXJ0eURlc2NyaXB0b3IgewogICAgaW50IGZsYWdzOwogICAgSlNWYWx1ZSB2YWx1ZTsKICAgIEpTVmFsdWUgZ2V0dGVyOwogICAgSlNWYWx1ZSBzZXR0ZXI7Cn0gSlNQcm9wZXJ0eURlc2NyaXB0b3I7Cgp0eXBlZGVmIHN0cnVjdCBKU0NsYXNzRXhvdGljTWV0aG9kcyB7CiAgICAvKiBSZXR1cm4gLTEgaWYgZXhjZXB0aW9uIChjYW4gb25seSBoYXBwZW4gaW4gY2FzZSBvZiBQcm94eSBvYmplY3QpLAogICAgICAgRkFMU0UgaWYgdGhlIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0cywgVFJVRSBpZiBpdCBleGlzdHMuIElmIDEgaXMKICAgICAgIHJldHVybmVkLCB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAnZGVzYycgaXMgZmlsbGVkIGlmICE9IE5VTEwuICovCiAgICBpbnQgKCpnZXRfb3duX3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IgKmRlc2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIHByb3ApOwogICAgLyogJypwdGFiJyBzaG91bGQgaG9sZCB0aGUgJypwbGVuJyBwcm9wZXJ0eSBrZXlzLiBSZXR1cm4gMCBpZiBPSywKICAgICAgIC0xIGlmIGV4Y2VwdGlvbi4gVGhlICdpc19lbnVtZXJhYmxlJyBmaWVsZCBpcyBpZ25vcmVkLgogICAgKi8KICAgIGludCAoKmdldF9vd25fcHJvcGVydHlfbmFtZXMpKEpTQ29udGV4dCAqY3R4LCBKU1Byb3BlcnR5RW51bSAqKnB0YWIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqcGxlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBvYmopOwogICAgLyogcmV0dXJuIDwgMCBpZiBleGNlcHRpb24sIG9yIFRSVUUvRkFMU0UgKi8KICAgIGludCAoKmRlbGV0ZV9wcm9wZXJ0eSkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKICAgIC8qIHJldHVybiA8IDAgaWYgZXhjZXB0aW9uIG9yIFRSVUUvRkFMU0UgKi8KICAgIGludCAoKmRlZmluZV9vd25fcHJvcGVydHkpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZUNvbnN0IHZhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBnZXR0ZXIsIEpTVmFsdWVDb25zdCBzZXR0ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmxhZ3MpOwogICAgLyogVGhlIGZvbGxvd2luZyBtZXRob2RzIGNhbiBiZSBlbXVsYXRlZCB3aXRoIHRoZSBwcmV2aW91cyBvbmVzLAogICAgICAgc28gdGhleSBhcmUgdXN1YWxseSBub3QgbmVlZGVkICovCiAgICAvKiByZXR1cm4gPCAwIGlmIGV4Y2VwdGlvbiBvciBUUlVFL0ZBTFNFICovCiAgICBpbnQgKCpoYXNfcHJvcGVydHkpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0F0b20gYXRvbSk7CiAgICBKU1ZhbHVlICgqZ2V0X3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgcmVjZWl2ZXIpOwogICAgLyogcmV0dXJuIDwgMCBpZiBleGNlcHRpb24gb3IgVFJVRS9GQUxTRSAqLwogICAgaW50ICgqc2V0X3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCB2YWx1ZSwgSlNWYWx1ZUNvbnN0IHJlY2VpdmVyLCBpbnQgZmxhZ3MpOwp9IEpTQ2xhc3NFeG90aWNNZXRob2RzOwoKdHlwZWRlZiB2b2lkIEpTQ2xhc3NGaW5hbGl6ZXIoSlNSdW50aW1lICpydCwgSlNWYWx1ZSB2YWwpOwp0eXBlZGVmIHZvaWQgSlNDbGFzc0dDTWFyayhKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlQ29uc3QgdmFsLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU19NYXJrRnVuYyAqbWFya19mdW5jKTsKI2RlZmluZSBKU19DQUxMX0ZMQUdfQ09OU1RSVUNUT1IgKDEgPDwgMCkKdHlwZWRlZiBKU1ZhbHVlIEpTQ2xhc3NDYWxsKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmxhZ3MpOwoKdHlwZWRlZiBzdHJ1Y3QgSlNDbGFzc0RlZiB7CiAgICBjb25zdCBjaGFyICpjbGFzc19uYW1lOwogICAgSlNDbGFzc0ZpbmFsaXplciAqZmluYWxpemVyOwogICAgSlNDbGFzc0dDTWFyayAqZ2NfbWFyazsKICAgIC8qIGlmIGNhbGwgIT0gTlVMTCwgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLiBJZiAoZmxhZ3MgJgogICAgICAgSlNfQ0FMTF9GTEFHX0NPTlNUUlVDVE9SKSAhPSAwLCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGFzIGEKICAgICAgIGNvbnN0cnVjdG9yLiBJbiB0aGlzIGNhc2UsICd0aGlzX3ZhbCcgaXMgbmV3LnRhcmdldC4gQQogICAgICAgY29uc3RydWN0b3IgY2FsbCBvbmx5IGhhcHBlbnMgaWYgdGhlIG9iamVjdCBjb25zdHJ1Y3RvciBiaXQgaXMKICAgICAgIHNldCAoc2VlIEpTX1NldENvbnN0cnVjdG9yQml0KCkpLiAqLwogICAgSlNDbGFzc0NhbGwgKmNhbGw7CiAgICAvKiBYWFg6IHN1cHByZXNzIHRoaXMgaW5kaXJlY3Rpb24gPyBJdCBpcyBoZXJlIG9ubHkgdG8gc2F2ZSBtZW1vcnkKICAgICAgIGJlY2F1c2Ugb25seSBhIGZldyBjbGFzc2VzIG5lZWQgdGhlc2UgbWV0aG9kcyAqLwogICAgSlNDbGFzc0V4b3RpY01ldGhvZHMgKmV4b3RpYzsKfSBKU0NsYXNzRGVmOwoKSlNDbGFzc0lEIEpTX05ld0NsYXNzSUQoSlNDbGFzc0lEICpwY2xhc3NfaWQpOwpKU0NsYXNzSUQgSlNfR2V0Q2xhc3NJRChKU1ZhbHVlQ29uc3Qgdik7CmludCBKU19OZXdDbGFzcyhKU1J1bnRpbWUgKnJ0LCBKU0NsYXNzSUQgY2xhc3NfaWQsIGNvbnN0IEpTQ2xhc3NEZWYgKmNsYXNzX2RlZik7CmludCBKU19Jc1JlZ2lzdGVyZWRDbGFzcyhKU1J1bnRpbWUgKnJ0LCBKU0NsYXNzSUQgY2xhc3NfaWQpOwoKLyogdmFsdWUgaGFuZGxpbmcgKi8KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdCb29sKEpTQ29udGV4dCAqY3R4LCBKU19CT09MIHZhbCkKewogICAgcmV0dXJuIEpTX01LVkFMKEpTX1RBR19CT09MLCAodmFsICE9IDApKTsKfQoKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX05ld0ludDMyKEpTQ29udGV4dCAqY3R4LCBpbnQzMl90IHZhbCkKewogICAgcmV0dXJuIEpTX01LVkFMKEpTX1RBR19JTlQsIHZhbCk7Cn0KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdDYXRjaE9mZnNldChKU0NvbnRleHQgKmN0eCwgaW50MzJfdCB2YWwpCnsKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfQ0FUQ0hfT0ZGU0VULCB2YWwpOwp9CgpzdGF0aWMganNfZm9yY2VfaW5saW5lIEpTVmFsdWUgSlNfTmV3SW50NjQoSlNDb250ZXh0ICpjdHgsIGludDY0X3QgdmFsKQp7CiAgICBKU1ZhbHVlIHY7CiAgICBpZiAodmFsID09IChpbnQzMl90KXZhbCkgewogICAgICAgIHYgPSBKU19OZXdJbnQzMihjdHgsIHZhbCk7CiAgICB9IGVsc2UgewogICAgICAgIHYgPSBfX0pTX05ld0Zsb2F0NjQoY3R4LCB2YWwpOwogICAgfQogICAgcmV0dXJuIHY7Cn0KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdVaW50MzIoSlNDb250ZXh0ICpjdHgsIHVpbnQzMl90IHZhbCkKewogICAgSlNWYWx1ZSB2OwogICAgaWYgKHZhbCA8PSAweDdmZmZmZmZmKSB7CiAgICAgICAgdiA9IEpTX05ld0ludDMyKGN0eCwgdmFsKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdiA9IF9fSlNfTmV3RmxvYXQ2NChjdHgsIHZhbCk7CiAgICB9CiAgICByZXR1cm4gdjsKfQoKSlNWYWx1ZSBKU19OZXdCaWdJbnQ2NChKU0NvbnRleHQgKmN0eCwgaW50NjRfdCB2KTsKSlNWYWx1ZSBKU19OZXdCaWdVaW50NjQoSlNDb250ZXh0ICpjdHgsIHVpbnQ2NF90IHYpOwoKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX05ld0Zsb2F0NjQoSlNDb250ZXh0ICpjdHgsIGRvdWJsZSBkKQp7CiAgICBKU1ZhbHVlIHY7CiAgICBpbnQzMl90IHZhbDsKICAgIHVuaW9uIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICB1aW50NjRfdCB1OwogICAgfSB1LCB0OwogICAgdS5kID0gZDsKICAgIHZhbCA9IChpbnQzMl90KWQ7CiAgICB0LmQgPSB2YWw7CiAgICAvKiAtMCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXMgaW50ZWdlciwgc28gd2UgY29tcGFyZSB0aGUgYml0CiAgICAgICAgcmVwcmVzZW50YXRpb24gKi8KICAgIGlmICh1LnUgPT0gdC51KSB7CiAgICAgICAgdiA9IEpTX01LVkFMKEpTX1RBR19JTlQsIHZhbCk7CiAgICB9IGVsc2UgewogICAgICAgIHYgPSBfX0pTX05ld0Zsb2F0NjQoY3R4LCBkKTsKICAgIH0KICAgIHJldHVybiB2Owp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNOdW1iZXIoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfSU5UIHx8IEpTX1RBR19JU19GTE9BVDY0KHRhZyk7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc0JpZ0ludChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfQklHX0lOVDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzQmlnRmxvYXQoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfQklHX0ZMT0FUOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNCaWdEZWNpbWFsKEpTVmFsdWVDb25zdCB2KQp7CiAgICBpbnQgdGFnID0gSlNfVkFMVUVfR0VUX1RBRyh2KTsKICAgIHJldHVybiB0YWcgPT0gSlNfVEFHX0JJR19ERUNJTUFMOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNCb29sKEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfQk9PTDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzTnVsbChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX05VTEw7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc1VuZGVmaW5lZChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1VOREVGSU5FRDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzRXhjZXB0aW9uKEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4ganNfdW5saWtlbHkoSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfRVhDRVBUSU9OKTsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzVW5pbml0aWFsaXplZChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIGpzX3VubGlrZWx5KEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1VOSU5JVElBTElaRUQpOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNTdHJpbmcoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIHJldHVybiBKU19WQUxVRV9HRVRfVEFHKHYpID09IEpTX1RBR19TVFJJTkc7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc1N5bWJvbChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1NZTUJPTDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzT2JqZWN0KEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfT0JKRUNUOwp9CgpKU1ZhbHVlIEpTX1Rocm93KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlIG9iaik7CkpTVmFsdWUgSlNfR2V0RXhjZXB0aW9uKEpTQ29udGV4dCAqY3R4KTsKSlNfQk9PTCBKU19Jc0Vycm9yKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKdm9pZCBKU19SZXNldFVuY2F0Y2hhYmxlRXJyb3IoSlNDb250ZXh0ICpjdHgpOwpKU1ZhbHVlIEpTX05ld0Vycm9yKEpTQ29udGV4dCAqY3R4KTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93U3ludGF4RXJyb3IoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93VHlwZUVycm9yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpmbXQsIC4uLik7CkpTVmFsdWUgX19qc19wcmludGZfbGlrZSgyLCAzKSBKU19UaHJvd1JlZmVyZW5jZUVycm9yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpmbXQsIC4uLik7CkpTVmFsdWUgX19qc19wcmludGZfbGlrZSgyLCAzKSBKU19UaHJvd1JhbmdlRXJyb3IoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93SW50ZXJuYWxFcnJvcihKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqZm10LCAuLi4pOwpKU1ZhbHVlIEpTX1Rocm93T3V0T2ZNZW1vcnkoSlNDb250ZXh0ICpjdHgpOwoKdm9pZCBfX0pTX0ZyZWVWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZSB2KTsKc3RhdGljIGlubGluZSB2b2lkIEpTX0ZyZWVWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZSB2KQp7CiAgICBpZiAoSlNfVkFMVUVfSEFTX1JFRl9DT1VOVCh2KSkgewogICAgICAgIEpTUmVmQ291bnRIZWFkZXIgKnAgPSAoSlNSZWZDb3VudEhlYWRlciAqKUpTX1ZBTFVFX0dFVF9QVFIodik7CiAgICAgICAgaWYgKC0tcC0+cmVmX2NvdW50IDw9IDApIHsKICAgICAgICAgICAgX19KU19GcmVlVmFsdWUoY3R4LCB2KTsKICAgICAgICB9CiAgICB9Cn0Kdm9pZCBfX0pTX0ZyZWVWYWx1ZVJUKEpTUnVudGltZSAqcnQsIEpTVmFsdWUgdik7CnN0YXRpYyBpbmxpbmUgdm9pZCBKU19GcmVlVmFsdWVSVChKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlIHYpCnsKICAgIGlmIChKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpKSB7CiAgICAgICAgSlNSZWZDb3VudEhlYWRlciAqcCA9IChKU1JlZkNvdW50SGVhZGVyICopSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgICAgICBpZiAoLS1wLT5yZWZfY291bnQgPD0gMCkgewogICAgICAgICAgICBfX0pTX0ZyZWVWYWx1ZVJUKHJ0LCB2KTsKICAgICAgICB9CiAgICB9Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZSBKU19EdXBWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGlmIChKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpKSB7CiAgICAgICAgSlNSZWZDb3VudEhlYWRlciAqcCA9IChKU1JlZkNvdW50SGVhZGVyICopSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgICAgICBwLT5yZWZfY291bnQrKzsKICAgIH0KICAgIHJldHVybiAoSlNWYWx1ZSl2Owp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgSlNfRHVwVmFsdWVSVChKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlQ29uc3QgdikKewogICAgaWYgKEpTX1ZBTFVFX0hBU19SRUZfQ09VTlQodikpIHsKICAgICAgICBKU1JlZkNvdW50SGVhZGVyICpwID0gKEpTUmVmQ291bnRIZWFkZXIgKilKU19WQUxVRV9HRVRfUFRSKHYpOwogICAgICAgIHAtPnJlZl9jb3VudCsrOwogICAgfQogICAgcmV0dXJuIChKU1ZhbHVlKXY7Cn0KCmludCBKU19Ub0Jvb2woSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOyAvKiByZXR1cm4gLTEgZm9yIEpTX0VYQ0VQVElPTiAqLwppbnQgSlNfVG9JbnQzMihKU0NvbnRleHQgKmN0eCwgaW50MzJfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7CnN0YXRpYyBpbmxpbmUgaW50IEpTX1RvVWludDMyKEpTQ29udGV4dCAqY3R4LCB1aW50MzJfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCkKewogICAgcmV0dXJuIEpTX1RvSW50MzIoY3R4LCAoaW50MzJfdCopcHJlcywgdmFsKTsKfQppbnQgSlNfVG9JbnQ2NChKU0NvbnRleHQgKmN0eCwgaW50NjRfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7CmludCBKU19Ub0luZGV4KEpTQ29udGV4dCAqY3R4LCB1aW50NjRfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbCk7CmludCBKU19Ub0Zsb2F0NjQoSlNDb250ZXh0ICpjdHgsIGRvdWJsZSAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7Ci8qIHJldHVybiBhbiBleGNlcHRpb24gaWYgJ3ZhbCcgaXMgYSBOdW1iZXIgKi8KaW50IEpTX1RvQmlnSW50NjQoSlNDb250ZXh0ICpjdHgsIGludDY0X3QgKnByZXMsIEpTVmFsdWVDb25zdCB2YWwpOwovKiBzYW1lIGFzIEpTX1RvSW50NjQoKSBidXQgYWxsb3cgQmlnSW50ICovCmludCBKU19Ub0ludDY0RXh0KEpTQ29udGV4dCAqY3R4LCBpbnQ2NF90ICpwcmVzLCBKU1ZhbHVlQ29uc3QgdmFsKTsKCkpTVmFsdWUgSlNfTmV3U3RyaW5nTGVuKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIxLCBzaXplX3QgbGVuMSk7CkpTVmFsdWUgSlNfTmV3U3RyaW5nKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIpOwpKU1ZhbHVlIEpTX05ld0F0b21TdHJpbmcoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKnN0cik7CkpTVmFsdWUgSlNfVG9TdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwpKU1ZhbHVlIEpTX1RvUHJvcGVydHlLZXkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwpjb25zdCBjaGFyICpKU19Ub0NTdHJpbmdMZW4yKEpTQ29udGV4dCAqY3R4LCBzaXplX3QgKnBsZW4sIEpTVmFsdWVDb25zdCB2YWwxLCBKU19CT09MIGNlc3U4KTsKc3RhdGljIGlubGluZSBjb25zdCBjaGFyICpKU19Ub0NTdHJpbmdMZW4oSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbDEpCnsKICAgIHJldHVybiBKU19Ub0NTdHJpbmdMZW4yKGN0eCwgcGxlbiwgdmFsMSwgMCk7Cn0Kc3RhdGljIGlubGluZSBjb25zdCBjaGFyICpKU19Ub0NTdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwxKQp7CiAgICByZXR1cm4gSlNfVG9DU3RyaW5nTGVuMihjdHgsIE5VTEwsIHZhbDEsIDApOwp9CnZvaWQgSlNfRnJlZUNTdHJpbmcoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKnB0cik7CgpKU1ZhbHVlIEpTX05ld09iamVjdFByb3RvQ2xhc3MoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBwcm90bywgSlNDbGFzc0lEIGNsYXNzX2lkKTsKSlNWYWx1ZSBKU19OZXdPYmplY3RDbGFzcyhKU0NvbnRleHQgKmN0eCwgaW50IGNsYXNzX2lkKTsKSlNWYWx1ZSBKU19OZXdPYmplY3RQcm90byhKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHByb3RvKTsKSlNWYWx1ZSBKU19OZXdPYmplY3QoSlNDb250ZXh0ICpjdHgpOwoKSlNfQk9PTCBKU19Jc0Z1bmN0aW9uKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKSlNfQk9PTCBKU19Jc0NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKSlNfQk9PTCBKU19TZXRDb25zdHJ1Y3RvckJpdChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCBKU19CT09MIHZhbCk7CgpKU1ZhbHVlIEpTX05ld0FycmF5KEpTQ29udGV4dCAqY3R4KTsKaW50IEpTX0lzQXJyYXkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwoKSlNWYWx1ZSBKU19HZXRQcm9wZXJ0eUludGVybmFsKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNBdG9tIHByb3AsIEpTVmFsdWVDb25zdCByZWNlaXZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0JPT0wgdGhyb3dfcmVmX2Vycm9yKTsKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX0dldFByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCkKewogICAgcmV0dXJuIEpTX0dldFByb3BlcnR5SW50ZXJuYWwoY3R4LCB0aGlzX29iaiwgcHJvcCwgdGhpc19vYmosIDApOwp9CkpTVmFsdWUgSlNfR2V0UHJvcGVydHlTdHIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpwcm9wKTsKSlNWYWx1ZSBKU19HZXRQcm9wZXJ0eVVpbnQzMihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGlkeCk7CgppbnQgSlNfU2V0UHJvcGVydHlJbnRlcm5hbChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZSB2YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncyk7CnN0YXRpYyBpbmxpbmUgaW50IEpTX1NldFByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTQXRvbSBwcm9wLCBKU1ZhbHVlIHZhbCkKewogICAgcmV0dXJuIEpTX1NldFByb3BlcnR5SW50ZXJuYWwoY3R4LCB0aGlzX29iaiwgcHJvcCwgdmFsLCBKU19QUk9QX1RIUk9XKTsKfQppbnQgSlNfU2V0UHJvcGVydHlVaW50MzIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGlkeCwgSlNWYWx1ZSB2YWwpOwppbnQgSlNfU2V0UHJvcGVydHlJbnQ2NChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICBpbnQ2NF90IGlkeCwgSlNWYWx1ZSB2YWwpOwppbnQgSlNfU2V0UHJvcGVydHlTdHIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKnByb3AsIEpTVmFsdWUgdmFsKTsKaW50IEpTX0hhc1Byb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosIEpTQXRvbSBwcm9wKTsKaW50IEpTX0lzRXh0ZW5zaWJsZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CmludCBKU19QcmV2ZW50RXh0ZW5zaW9ucyhKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CmludCBKU19EZWxldGVQcm9wZXJ0eShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIHByb3AsIGludCBmbGFncyk7CmludCBKU19TZXRQcm90b3R5cGUoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTVmFsdWVDb25zdCBwcm90b192YWwpOwpKU1ZhbHVlIEpTX0dldFByb3RvdHlwZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHZhbCk7CgojZGVmaW5lIEpTX0dQTl9TVFJJTkdfTUFTSyAgKDEgPDwgMCkKI2RlZmluZSBKU19HUE5fU1lNQk9MX01BU0sgICgxIDw8IDEpCiNkZWZpbmUgSlNfR1BOX1BSSVZBVEVfTUFTSyAoMSA8PCAyKQovKiBvbmx5IGluY2x1ZGUgdGhlIGVudW1lcmFibGUgcHJvcGVydGllcyAqLwojZGVmaW5lIEpTX0dQTl9FTlVNX09OTFkgICAgKDEgPDwgNCkKLyogc2V0IHRoZUpTUHJvcGVydHlFbnVtLmlzX2VudW1lcmFibGUgZmllbGQgKi8KI2RlZmluZSBKU19HUE5fU0VUX0VOVU0gICAgICgxIDw8IDUpCgppbnQgSlNfR2V0T3duUHJvcGVydHlOYW1lcyhKU0NvbnRleHQgKmN0eCwgSlNQcm9wZXJ0eUVudW0gKipwdGFiLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IG9iaiwgaW50IGZsYWdzKTsKaW50IEpTX0dldE93blByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1Byb3BlcnR5RGVzY3JpcHRvciAqZGVzYywKICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKCkpTVmFsdWUgSlNfQ2FsbChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKSlNWYWx1ZSBKU19JbnZva2UoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YpOwpKU1ZhbHVlIEpTX0NhbGxDb25zdHJ1Y3RvcihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKSlNWYWx1ZSBKU19DYWxsQ29uc3RydWN0b3IyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YpOwpKU19CT09MIEpTX0RldGVjdE1vZHVsZShjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbik7Ci8qICdpbnB1dCcgbXVzdCBiZSB6ZXJvIHRlcm1pbmF0ZWQgaS5lLiBpbnB1dFtpbnB1dF9sZW5dID0gJ1wwJy4gKi8KSlNWYWx1ZSBKU19FdmFsKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbiwKICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZpbGVuYW1lLCBpbnQgZXZhbF9mbGFncyk7Ci8qIHNhbWUgYXMgSlNfRXZhbCgpIGJ1dCB3aXRoIGFuIGV4cGxpY2l0ICd0aGlzX29iaicgcGFyYW1ldGVyICovCkpTVmFsdWUgSlNfRXZhbFRoaXMoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbiwKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpmaWxlbmFtZSwgaW50IGV2YWxfZmxhZ3MpOwpKU1ZhbHVlIEpTX0dldEdsb2JhbE9iamVjdChKU0NvbnRleHQgKmN0eCk7CmludCBKU19Jc0luc3RhbmNlT2YoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwsIEpTVmFsdWVDb25zdCBvYmopOwppbnQgSlNfRGVmaW5lUHJvcGVydHkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgIEpTQXRvbSBwcm9wLCBKU1ZhbHVlQ29uc3QgdmFsLAogICAgICAgICAgICAgICAgICAgICAgSlNWYWx1ZUNvbnN0IGdldHRlciwgSlNWYWx1ZUNvbnN0IHNldHRlciwgaW50IGZsYWdzKTsKaW50IEpTX0RlZmluZVByb3BlcnR5VmFsdWUoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNBdG9tIHByb3AsIEpTVmFsdWUgdmFsLCBpbnQgZmxhZ3MpOwppbnQgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVVpbnQzMihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBpZHgsIEpTVmFsdWUgdmFsLCBpbnQgZmxhZ3MpOwppbnQgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpwcm9wLCBKU1ZhbHVlIHZhbCwgaW50IGZsYWdzKTsKaW50IEpTX0RlZmluZVByb3BlcnR5R2V0U2V0KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZSBnZXR0ZXIsIEpTVmFsdWUgc2V0dGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGZsYWdzKTsKdm9pZCBKU19TZXRPcGFxdWUoSlNWYWx1ZSBvYmosIHZvaWQgKm9wYXF1ZSk7CnZvaWQgKkpTX0dldE9wYXF1ZShKU1ZhbHVlQ29uc3Qgb2JqLCBKU0NsYXNzSUQgY2xhc3NfaWQpOwp2b2lkICpKU19HZXRPcGFxdWUyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0NsYXNzSUQgY2xhc3NfaWQpOwoKLyogJ2J1ZicgbXVzdCBiZSB6ZXJvIHRlcm1pbmF0ZWQgaS5lLiBidWZbYnVmX2xlbl0gPSAnXDAnLiAqLwpKU1ZhbHVlIEpTX1BhcnNlSlNPTihKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqYnVmLCBzaXplX3QgYnVmX2xlbiwKICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqZmlsZW5hbWUpOwojZGVmaW5lIEpTX1BBUlNFX0pTT05fRVhUICgxIDw8IDApIC8qIGFsbG93IGV4dGVuZGVkIEpTT04gKi8KSlNWYWx1ZSBKU19QYXJzZUpTT04yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpidWYsIHNpemVfdCBidWZfbGVuLAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqZmlsZW5hbWUsIGludCBmbGFncyk7CkpTVmFsdWUgSlNfSlNPTlN0cmluZ2lmeShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCByZXBsYWNlciwgSlNWYWx1ZUNvbnN0IHNwYWNlMCk7Cgp0eXBlZGVmIHZvaWQgSlNGcmVlQXJyYXlCdWZmZXJEYXRhRnVuYyhKU1J1bnRpbWUgKnJ0LCB2b2lkICpvcGFxdWUsIHZvaWQgKnB0cik7CkpTVmFsdWUgSlNfTmV3QXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIHVpbnQ4X3QgKmJ1Ziwgc2l6ZV90IGxlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICBKU0ZyZWVBcnJheUJ1ZmZlckRhdGFGdW5jICpmcmVlX2Z1bmMsIHZvaWQgKm9wYXF1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBKU19CT09MIGlzX3NoYXJlZCk7CkpTVmFsdWUgSlNfTmV3QXJyYXlCdWZmZXJDb3B5KEpTQ29udGV4dCAqY3R4LCBjb25zdCB1aW50OF90ICpidWYsIHNpemVfdCBsZW4pOwp2b2lkIEpTX0RldGFjaEFycmF5QnVmZmVyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKdWludDhfdCAqSlNfR2V0QXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcHNpemUsIEpTVmFsdWVDb25zdCBvYmopOwpKU1ZhbHVlIEpTX0dldFR5cGVkQXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplX3QgKnBieXRlX29mZnNldCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfdCAqcGJ5dGVfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZV90ICpwYnl0ZXNfcGVyX2VsZW1lbnQpOwp0eXBlZGVmIHN0cnVjdCB7CiAgICB2b2lkICooKnNhYl9hbGxvYykodm9pZCAqb3BhcXVlLCBzaXplX3Qgc2l6ZSk7CiAgICB2b2lkICgqc2FiX2ZyZWUpKHZvaWQgKm9wYXF1ZSwgdm9pZCAqcHRyKTsKICAgIHZvaWQgKCpzYWJfZHVwKSh2b2lkICpvcGFxdWUsIHZvaWQgKnB0cik7CiAgICB2b2lkICpzYWJfb3BhcXVlOwp9IEpTU2hhcmVkQXJyYXlCdWZmZXJGdW5jdGlvbnM7CnZvaWQgSlNfU2V0U2hhcmVkQXJyYXlCdWZmZXJGdW5jdGlvbnMoSlNSdW50aW1lICpydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBKU1NoYXJlZEFycmF5QnVmZmVyRnVuY3Rpb25zICpzZik7CgpKU1ZhbHVlIEpTX05ld1Byb21pc2VDYXBhYmlsaXR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlICpyZXNvbHZpbmdfZnVuY3MpOwoKLyogaXNfaGFuZGxlZCA9IFRSVUUgbWVhbnMgdGhhdCB0aGUgcmVqZWN0aW9uIGlzIGhhbmRsZWQgKi8KdHlwZWRlZiB2b2lkIEpTSG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgcHJvbWlzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCByZWFzb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19CT09MIGlzX2hhbmRsZWQsIHZvaWQgKm9wYXF1ZSk7CnZvaWQgSlNfU2V0SG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyKEpTUnVudGltZSAqcnQsIEpTSG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyICpjYiwgdm9pZCAqb3BhcXVlKTsKCi8qIHJldHVybiAhPSAwIGlmIHRoZSBKUyBjb2RlIG5lZWRzIHRvIGJlIGludGVycnVwdGVkICovCnR5cGVkZWYgaW50IEpTSW50ZXJydXB0SGFuZGxlcihKU1J1bnRpbWUgKnJ0LCB2b2lkICpvcGFxdWUpOwp2b2lkIEpTX1NldEludGVycnVwdEhhbmRsZXIoSlNSdW50aW1lICpydCwgSlNJbnRlcnJ1cHRIYW5kbGVyICpjYiwgdm9pZCAqb3BhcXVlKTsKLyogaWYgY2FuX2Jsb2NrIGlzIFRSVUUsIEF0b21pY3Mud2FpdCgpIGNhbiBiZSB1c2VkICovCnZvaWQgSlNfU2V0Q2FuQmxvY2soSlNSdW50aW1lICpydCwgSlNfQk9PTCBjYW5fYmxvY2spOwovKiBzZXQgdGhlIFtJc0hUTUxEREFdIGludGVybmFsIHNsb3QgKi8Kdm9pZCBKU19TZXRJc0hUTUxEREEoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmopOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNb2R1bGVEZWYgSlNNb2R1bGVEZWY7CgovKiByZXR1cm4gdGhlIG1vZHVsZSBzcGVjaWZpZXIgKGFsbG9jYXRlZCB3aXRoIGpzX21hbGxvYygpKSBvciBOVUxMIGlmCiAgIGV4Y2VwdGlvbiAqLwp0eXBlZGVmIGNoYXIgKkpTTW9kdWxlTm9ybWFsaXplRnVuYyhKU0NvbnRleHQgKmN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbW9kdWxlX2Jhc2VfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbW9kdWxlX25hbWUsIHZvaWQgKm9wYXF1ZSk7CnR5cGVkZWYgSlNNb2R1bGVEZWYgKkpTTW9kdWxlTG9hZGVyRnVuYyhKU0NvbnRleHQgKmN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm1vZHVsZV9uYW1lLCB2b2lkICpvcGFxdWUpOwoKLyogbW9kdWxlX25vcm1hbGl6ZSA9IE5VTEwgaXMgYWxsb3dlZCBhbmQgaW52b2tlcyB0aGUgZGVmYXVsdCBtb2R1bGUKICAgZmlsZW5hbWUgbm9ybWFsaXplciAqLwp2b2lkIEpTX1NldE1vZHVsZUxvYWRlckZ1bmMoSlNSdW50aW1lICpydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTTW9kdWxlTm9ybWFsaXplRnVuYyAqbW9kdWxlX25vcm1hbGl6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTTW9kdWxlTG9hZGVyRnVuYyAqbW9kdWxlX2xvYWRlciwgdm9pZCAqb3BhcXVlKTsKLyogcmV0dXJuIHRoZSBpbXBvcnQubWV0YSBvYmplY3Qgb2YgYSBtb2R1bGUgKi8KSlNWYWx1ZSBKU19HZXRJbXBvcnRNZXRhKEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSk7CkpTQXRvbSBKU19HZXRNb2R1bGVOYW1lKEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSk7CgovKiBKUyBKb2Igc3VwcG9ydCAqLwoKdHlwZWRlZiBKU1ZhbHVlIEpTSm9iRnVuYyhKU0NvbnRleHQgKmN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7CmludCBKU19FbnF1ZXVlSm9iKEpTQ29udGV4dCAqY3R4LCBKU0pvYkZ1bmMgKmpvYl9mdW5jLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKCkpTX0JPT0wgSlNfSXNKb2JQZW5kaW5nKEpTUnVudGltZSAqcnQpOwppbnQgSlNfRXhlY3V0ZVBlbmRpbmdKb2IoSlNSdW50aW1lICpydCwgSlNDb250ZXh0ICoqcGN0eCk7CgovKiBPYmplY3QgV3JpdGVyL1JlYWRlciAoY3VycmVudGx5IG9ubHkgdXNlZCB0byBoYW5kbGUgcHJlY29tcGlsZWQgY29kZSkgKi8KI2RlZmluZSBKU19XUklURV9PQkpfQllURUNPREUgICgxIDw8IDApIC8qIGFsbG93IGZ1bmN0aW9uL21vZHVsZSAqLwojZGVmaW5lIEpTX1dSSVRFX09CSl9CU1dBUCAgICAgKDEgPDwgMSkgLyogYnl0ZSBzd2FwcGVkIG91dHB1dCAqLwojZGVmaW5lIEpTX1dSSVRFX09CSl9TQUIgICAgICAgKDEgPDwgMikgLyogYWxsb3cgU2hhcmVkQXJyYXlCdWZmZXIgKi8KI2RlZmluZSBKU19XUklURV9PQkpfUkVGRVJFTkNFICgxIDw8IDMpIC8qIGFsbG93IG9iamVjdCByZWZlcmVuY2VzIHRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGUgYXJiaXRyYXJ5IG9iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGggKi8KdWludDhfdCAqSlNfV3JpdGVPYmplY3QoSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcHNpemUsIEpTVmFsdWVDb25zdCBvYmosCiAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncyk7CnVpbnQ4X3QgKkpTX1dyaXRlT2JqZWN0MihKU0NvbnRleHQgKmN0eCwgc2l6ZV90ICpwc2l6ZSwgSlNWYWx1ZUNvbnN0IG9iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncywgdWludDhfdCAqKipwc2FiX3RhYiwgc2l6ZV90ICpwc2FiX3RhYl9sZW4pOwoKI2RlZmluZSBKU19SRUFEX09CSl9CWVRFQ09ERSAgKDEgPDwgMCkgLyogYWxsb3cgZnVuY3Rpb24vbW9kdWxlICovCiNkZWZpbmUgSlNfUkVBRF9PQkpfUk9NX0RBVEEgICgxIDw8IDEpIC8qIGF2b2lkIGR1cGxpY2F0aW5nICdidWYnIGRhdGEgKi8KI2RlZmluZSBKU19SRUFEX09CSl9TQUIgICAgICAgKDEgPDwgMikgLyogYWxsb3cgU2hhcmVkQXJyYXlCdWZmZXIgKi8KI2RlZmluZSBKU19SRUFEX09CSl9SRUZFUkVOQ0UgKDEgPDwgMykgLyogYWxsb3cgb2JqZWN0IHJlZmVyZW5jZXMgKi8KSlNWYWx1ZSBKU19SZWFkT2JqZWN0KEpTQ29udGV4dCAqY3R4LCBjb25zdCB1aW50OF90ICpidWYsIHNpemVfdCBidWZfbGVuLAogICAgICAgICAgICAgICAgICAgICAgaW50IGZsYWdzKTsKLyogaW5zdGFudGlhdGUgYW5kIGV2YWx1YXRlIGEgYnl0ZWNvZGUgZnVuY3Rpb24uIE9ubHkgdXNlZCB3aGVuCiAgIHJlYWRpbmcgYSBzY3JpcHQgb3IgbW9kdWxlIHdpdGggSlNfUmVhZE9iamVjdCgpICovCkpTVmFsdWUgSlNfRXZhbEZ1bmN0aW9uKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlIGZ1bl9vYmopOwovKiBsb2FkIHRoZSBkZXBlbmRlbmNpZXMgb2YgdGhlIG1vZHVsZSAnb2JqJy4gVXNlZnVsIHdoZW4gSlNfUmVhZE9iamVjdCgpCiAgIHJldHVybnMgYSBtb2R1bGUuICovCmludCBKU19SZXNvbHZlTW9kdWxlKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKCi8qIG9ubHkgZXhwb3J0ZWQgZm9yIG9zLldvcmtlcigpICovCkpTQXRvbSBKU19HZXRTY3JpcHRPck1vZHVsZU5hbWUoSlNDb250ZXh0ICpjdHgsIGludCBuX3N0YWNrX2xldmVscyk7Ci8qIG9ubHkgZXhwb3J0ZWQgZm9yIG9zLldvcmtlcigpICovCkpTTW9kdWxlRGVmICpKU19SdW5Nb2R1bGUoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmJhc2VuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZpbGVuYW1lKTsKCi8qIEMgZnVuY3Rpb24gZGVmaW5pdGlvbiAqLwp0eXBlZGVmIGVudW0gSlNDRnVuY3Rpb25FbnVtIHsgIC8qIFhYWDogc2hvdWxkIHJlbmFtZSBmb3IgbmFtZXNwYWNlIGlzb2xhdGlvbiAqLwogICAgSlNfQ0ZVTkNfZ2VuZXJpYywKICAgIEpTX0NGVU5DX2dlbmVyaWNfbWFnaWMsCiAgICBKU19DRlVOQ19jb25zdHJ1Y3RvciwKICAgIEpTX0NGVU5DX2NvbnN0cnVjdG9yX21hZ2ljLAogICAgSlNfQ0ZVTkNfY29uc3RydWN0b3Jfb3JfZnVuYywKICAgIEpTX0NGVU5DX2NvbnN0cnVjdG9yX29yX2Z1bmNfbWFnaWMsCiAgICBKU19DRlVOQ19mX2YsCiAgICBKU19DRlVOQ19mX2ZfZiwKICAgIEpTX0NGVU5DX2dldHRlciwKICAgIEpTX0NGVU5DX3NldHRlciwKICAgIEpTX0NGVU5DX2dldHRlcl9tYWdpYywKICAgIEpTX0NGVU5DX3NldHRlcl9tYWdpYywKICAgIEpTX0NGVU5DX2l0ZXJhdG9yX25leHQsCn0gSlNDRnVuY3Rpb25FbnVtOwoKdHlwZWRlZiB1bmlvbiBKU0NGdW5jdGlvblR5cGUgewogICAgSlNDRnVuY3Rpb24gKmdlbmVyaWM7CiAgICBKU1ZhbHVlICgqZ2VuZXJpY19tYWdpYykoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50IG1hZ2ljKTsKICAgIEpTQ0Z1bmN0aW9uICpjb25zdHJ1Y3RvcjsKICAgIEpTVmFsdWUgKCpjb25zdHJ1Y3Rvcl9tYWdpYykoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2LCBpbnQgbWFnaWMpOwogICAgSlNDRnVuY3Rpb24gKmNvbnN0cnVjdG9yX29yX2Z1bmM7CiAgICBkb3VibGUgKCpmX2YpKGRvdWJsZSk7CiAgICBkb3VibGUgKCpmX2ZfZikoZG91YmxlLCBkb3VibGUpOwogICAgSlNWYWx1ZSAoKmdldHRlcikoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCk7CiAgICBKU1ZhbHVlICgqc2V0dGVyKShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsKTsKICAgIEpTVmFsdWUgKCpnZXR0ZXJfbWFnaWMpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYyk7CiAgICBKU1ZhbHVlICgqc2V0dGVyX21hZ2ljKShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsLCBpbnQgbWFnaWMpOwogICAgSlNWYWx1ZSAoKml0ZXJhdG9yX25leHQpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50ICpwZG9uZSwgaW50IG1hZ2ljKTsKfSBKU0NGdW5jdGlvblR5cGU7CgpKU1ZhbHVlIEpTX05ld0NGdW5jdGlvbjIoSlNDb250ZXh0ICpjdHgsIEpTQ0Z1bmN0aW9uICpmdW5jLAogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgIGludCBsZW5ndGgsIEpTQ0Z1bmN0aW9uRW51bSBjcHJvdG8sIGludCBtYWdpYyk7CkpTVmFsdWUgSlNfTmV3Q0Z1bmN0aW9uRGF0YShKU0NvbnRleHQgKmN0eCwgSlNDRnVuY3Rpb25EYXRhICpmdW5jLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCwgaW50IG1hZ2ljLCBpbnQgZGF0YV9sZW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgKmRhdGEpOwoKc3RhdGljIGlubGluZSBKU1ZhbHVlIEpTX05ld0NGdW5jdGlvbihKU0NvbnRleHQgKmN0eCwgSlNDRnVuY3Rpb24gKmZ1bmMsIGNvbnN0IGNoYXIgKm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCkKewogICAgcmV0dXJuIEpTX05ld0NGdW5jdGlvbjIoY3R4LCBmdW5jLCBuYW1lLCBsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIDApOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgSlNfTmV3Q0Z1bmN0aW9uTWFnaWMoSlNDb250ZXh0ICpjdHgsIEpTQ0Z1bmN0aW9uTWFnaWMgKmZ1bmMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCwgSlNDRnVuY3Rpb25FbnVtIGNwcm90bywgaW50IG1hZ2ljKQp7CiAgICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIChKU0NGdW5jdGlvbiAqKWZ1bmMsIG5hbWUsIGxlbmd0aCwgY3Byb3RvLCBtYWdpYyk7Cn0Kdm9pZCBKU19TZXRDb25zdHJ1Y3RvcihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCAKICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgcHJvdG8pOwoKLyogQyBwcm9wZXJ0eSBkZWZpbml0aW9uICovCgp0eXBlZGVmIHN0cnVjdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSB7CiAgICBjb25zdCBjaGFyICpuYW1lOwogICAgdWludDhfdCBwcm9wX2ZsYWdzOwogICAgdWludDhfdCBkZWZfdHlwZTsKICAgIGludDE2X3QgbWFnaWM7CiAgICB1bmlvbiB7CiAgICAgICAgc3RydWN0IHsKICAgICAgICAgICAgdWludDhfdCBsZW5ndGg7IC8qIFhYWDogc2hvdWxkIG1vdmUgb3V0c2lkZSB1bmlvbiAqLwogICAgICAgICAgICB1aW50OF90IGNwcm90bzsgLyogWFhYOiBzaG91bGQgbW92ZSBvdXRzaWRlIHVuaW9uICovCiAgICAgICAgICAgIEpTQ0Z1bmN0aW9uVHlwZSBjZnVuYzsKICAgICAgICB9IGZ1bmM7CiAgICAgICAgc3RydWN0IHsKICAgICAgICAgICAgSlNDRnVuY3Rpb25UeXBlIGdldDsKICAgICAgICAgICAgSlNDRnVuY3Rpb25UeXBlIHNldDsKICAgICAgICB9IGdldHNldDsKICAgICAgICBzdHJ1Y3QgewogICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lOwogICAgICAgICAgICBpbnQgYmFzZTsKICAgICAgICB9IGFsaWFzOwogICAgICAgIHN0cnVjdCB7CiAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSAqdGFiOwogICAgICAgICAgICBpbnQgbGVuOwogICAgICAgIH0gcHJvcF9saXN0OwogICAgICAgIGNvbnN0IGNoYXIgKnN0cjsKICAgICAgICBpbnQzMl90IGkzMjsKICAgICAgICBpbnQ2NF90IGk2NDsKICAgICAgICBkb3VibGUgZjY0OwogICAgfSB1Owp9IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5OwoKI2RlZmluZSBKU19ERUZfQ0ZVTkMgICAgICAgICAgMAojZGVmaW5lIEpTX0RFRl9DR0VUU0VUICAgICAgICAxCiNkZWZpbmUgSlNfREVGX0NHRVRTRVRfTUFHSUMgIDIKI2RlZmluZSBKU19ERUZfUFJPUF9TVFJJTkcgICAgMwojZGVmaW5lIEpTX0RFRl9QUk9QX0lOVDMyICAgICA0CiNkZWZpbmUgSlNfREVGX1BST1BfSU5UNjQgICAgIDUKI2RlZmluZSBKU19ERUZfUFJPUF9ET1VCTEUgICAgNgojZGVmaW5lIEpTX0RFRl9QUk9QX1VOREVGSU5FRCA3CiNkZWZpbmUgSlNfREVGX09CSkVDVCAgICAgICAgIDgKI2RlZmluZSBKU19ERUZfQUxJQVMgICAgICAgICAgOQoKLyogTm90ZTogYysrIGRvZXMgbm90IGxpa2UgbmVzdGVkIGRlc2lnbmF0b3JzICovCiNkZWZpbmUgSlNfQ0ZVTkNfREVGKHByb3BfbmFtZSwgbGVuZ3RoLCBmdW5jMSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gMCwgLnUgPSB7LmZ1bmMgPSB7bGVuZ3RoLCBKU19DRlVOQ19nZW5lcmljLCB7LmdlbmVyaWMgPSBmdW5jMX19IH0gfQojZGVmaW5lIEpTX0NGVU5DX01BR0lDX0RFRihwcm9wX25hbWUsIGxlbmd0aCwgZnVuYzEsIG1hZ2ljX251bSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWNfbWFnaWMsIHsuZ2VuZXJpY19tYWdpYyA9IGZ1bmMxfX0gfSB9CiNkZWZpbmUgSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGNwcm90bywgZnVuYzEpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gSlNfUFJPUF9XUklUQUJMRSB8IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0ZVTkMsIC5tYWdpYyA9IDAsIC51ID0gey5mdW5jID0ge2xlbmd0aCwgSlNfQ0ZVTkNfIyNjcHJvdG8sIHsuY3Byb3RvID0gZnVuYzF9fSB9IH0KI2RlZmluZSBKU19JVEVSQVRPUl9ORVhUX0RFRihwcm9wX25hbWUsIGxlbmd0aCwgZnVuYzEsIG1hZ2ljX251bSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2l0ZXJhdG9yX25leHQsIHsuaXRlcmF0b3JfbmV4dCA9IGZ1bmMxfX0gfSB9CiNkZWZpbmUgSlNfQ0dFVFNFVF9ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0dFVFNFVCwgLm1hZ2ljID0gMCwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXIgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyID0gZnNldHRlcn19IH0gfQojZGVmaW5lIEpTX0NHRVRTRVRfTUFHSUNfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0dFVFNFVF9NQUdJQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gfQojZGVmaW5lIEpTX1BST1BfU1RSSU5HX0RFRihwcm9wX25hbWUsIGNzdHIsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gfQojZGVmaW5lIEpTX1BST1BfSU5UMzJfREVGKHByb3BfbmFtZSwgdmFsLCBmbGFncykgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX1BST1BfSU5UMzIsIC5tYWdpYyA9IDAsIC51ID0gey5pMzIgPSB2YWwgfSB9CiNkZWZpbmUgSlNfUFJPUF9JTlQ2NF9ERUYocHJvcF9uYW1lLCB2YWwsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9JTlQ2NCwgLm1hZ2ljID0gMCwgLnUgPSB7Lmk2NCA9IHZhbCB9IH0KI2RlZmluZSBKU19QUk9QX0RPVUJMRV9ERUYocHJvcF9uYW1lLCB2YWwsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9ET1VCTEUsIC5tYWdpYyA9IDAsIC51ID0gey5mNjQgPSB2YWwgfSB9CiNkZWZpbmUgSlNfUFJPUF9VTkRFRklORURfREVGKHByb3BfbmFtZSwgZmxhZ3MpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gZmxhZ3MsIC5kZWZfdHlwZSA9IEpTX0RFRl9QUk9QX1VOREVGSU5FRCwgLm1hZ2ljID0gMCwgLnUgPSB7LmkzMiA9IDAgfSB9CiNkZWZpbmUgSlNfT0JKRUNUX0RFRihwcm9wX25hbWUsIHRhYiwgbGVuLCBmbGFncykgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX09CSkVDVCwgLm1hZ2ljID0gMCwgLnUgPSB7LnByb3BfbGlzdCA9IHt0YWIsIGxlbn0gfSB9CiNkZWZpbmUgSlNfQUxJQVNfREVGKHByb3BfbmFtZSwgZnJvbSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9BTElBUywgLm1hZ2ljID0gMCwgLnUgPSB7LmFsaWFzID0ge2Zyb20sIC0xfSB9IH0KI2RlZmluZSBKU19BTElBU19CQVNFX0RFRihwcm9wX25hbWUsIGZyb20sIGJhc2UpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gSlNfUFJPUF9XUklUQUJMRSB8IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQUxJQVMsIC5tYWdpYyA9IDAsIC51ID0gey5hbGlhcyA9IHtmcm9tLCBiYXNlfSB9IH0KCnZvaWQgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5KiB0YWIsIGludCBsZW4pOwoKLyogQyBtb2R1bGUgZGVmaW5pdGlvbiAqLwoKdHlwZWRlZiBpbnQgSlNNb2R1bGVJbml0RnVuYyhKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0pOwoKSlNNb2R1bGVEZWYgKkpTX05ld0NNb2R1bGUoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKm5hbWVfc3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU01vZHVsZUluaXRGdW5jICpmdW5jKTsKLyogY2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSB0aGUgbW9kdWxlIGlzIGluc3RhbnRpYXRlZCAqLwppbnQgSlNfQWRkTW9kdWxlRXhwb3J0KEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSwgY29uc3QgY2hhciAqbmFtZV9zdHIpOwppbnQgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5ICp0YWIsIGludCBsZW4pOwovKiBjYW4gb25seSBiZSBjYWxsZWQgYWZ0ZXIgdGhlIG1vZHVsZSBpcyBpbnN0YW50aWF0ZWQgKi8KaW50IEpTX1NldE1vZHVsZUV4cG9ydChKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0sIGNvbnN0IGNoYXIgKmV4cG9ydF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWUgdmFsKTsKaW50IEpTX1NldE1vZHVsZUV4cG9ydExpc3QoSlNDb250ZXh0ICpjdHgsIEpTTW9kdWxlRGVmICptLAogICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSAqdGFiLCBpbnQgbGVuKTsKCi8qIFByb21pc2UgKi8KCnR5cGVkZWYgZW51bSBKU1Byb21pc2VTdGF0ZUVudW0gewogICAgSlNfUFJPTUlTRV9QRU5ESU5HLAogICAgSlNfUFJPTUlTRV9GVUxGSUxMRUQsCiAgICBKU19QUk9NSVNFX1JFSkVDVEVELAp9IEpTUHJvbWlzZVN0YXRlRW51bTsKCkpTUHJvbWlzZVN0YXRlRW51bSBKU19Qcm9taXNlU3RhdGUoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWUgcHJvbWlzZSk7CkpTVmFsdWUgSlNfUHJvbWlzZVJlc3VsdChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZSBwcm9taXNlKTsKCiN1bmRlZiBqc191bmxpa2VseQojdW5kZWYganNfZm9yY2VfaW5saW5lCgojaWZkZWYgX19jcGx1c3BsdXMKfSAvKiBleHRlcm4gIkMiIHsgKi8KI2VuZGlmCgojZW5kaWYgLyogUVVJQ0tKU19IICovCgAAAAAAAAAAm6QAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAajgAAAAAAACmOAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACbpAAAICAgIC8qCiAqIFF1aWNrSlMgSmF2YXNjcmlwdCBFbmdpbmUKICoKICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMjEgRmFicmljZSBCZWxsYXJkCiAqIENvcHlyaWdodCAoYykgMjAxNy0yMDIxIENoYXJsaWUgR29yZG9uCiAqCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwogKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogKgogKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgogKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICoKICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMCiAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KICogVEhFIFNPRlRXQVJFLgogKi8KI2lmbmRlZiBRVUlDS0pTX0gKI2RlZmluZSBRVUlDS0pTX0gKCiNpbmNsdWRlIDxzdGRpby5oPgojaW5jbHVkZSA8c3RkaW50Lmg+CgojaWZkZWYgX19jcGx1c3BsdXMKZXh0ZXJuICJDIiB7CiNlbmRpZgoKI2lmIGRlZmluZWQoX19HTlVDX18pIHx8IGRlZmluZWQoX19jbGFuZ19fKQojZGVmaW5lIGpzX2xpa2VseSh4KSAgICAgICAgICBfX2J1aWx0aW5fZXhwZWN0KCEhKHgpLCAxKQojZGVmaW5lIGpzX3VubGlrZWx5KHgpICAgICAgICBfX2J1aWx0aW5fZXhwZWN0KCEhKHgpLCAwKQojZGVmaW5lIGpzX2ZvcmNlX2lubGluZSAgICAgICBpbmxpbmUgX19hdHRyaWJ1dGVfXygoYWx3YXlzX2lubGluZSkpCiNkZWZpbmUgX19qc19wcmludGZfbGlrZShmLCBhKSAgIF9fYXR0cmlidXRlX18oKGZvcm1hdChwcmludGYsIGYsIGEpKSkKI2Vsc2UKI2RlZmluZSBqc19saWtlbHkoeCkgICAgICh4KQojZGVmaW5lIGpzX3VubGlrZWx5KHgpICAgKHgpCiNkZWZpbmUganNfZm9yY2VfaW5saW5lICBpbmxpbmUKI2RlZmluZSBfX2pzX3ByaW50Zl9saWtlKGEsIGIpCiNlbmRpZgoKI2RlZmluZSBKU19CT09MIGludAoKdHlwZWRlZiBzdHJ1Y3QgSlNSdW50aW1lIEpTUnVudGltZTsKdHlwZWRlZiBzdHJ1Y3QgSlNDb250ZXh0IEpTQ29udGV4dDsKdHlwZWRlZiBzdHJ1Y3QgSlNPYmplY3QgSlNPYmplY3Q7CnR5cGVkZWYgc3RydWN0IEpTQ2xhc3MgSlNDbGFzczsKdHlwZWRlZiB1aW50MzJfdCBKU0NsYXNzSUQ7CnR5cGVkZWYgdWludDMyX3QgSlNBdG9tOwoKI2lmIElOVFBUUl9NQVggPj0gSU5UNjRfTUFYCiNkZWZpbmUgSlNfUFRSNjQKI2RlZmluZSBKU19QVFI2NF9ERUYoYSkgYQojZWxzZQojZGVmaW5lIEpTX1BUUjY0X0RFRihhKQojZW5kaWYKCiNpZm5kZWYgSlNfUFRSNjQKI2RlZmluZSBKU19OQU5fQk9YSU5HCiNlbmRpZgoKZW51bSB7CiAgICAvKiBhbGwgdGFncyB3aXRoIGEgcmVmZXJlbmNlIGNvdW50IGFyZSBuZWdhdGl2ZSAqLwogICAgSlNfVEFHX0ZJUlNUICAgICAgID0gLTExLCAvKiBmaXJzdCBuZWdhdGl2ZSB0YWcgKi8KICAgIEpTX1RBR19CSUdfREVDSU1BTCA9IC0xMSwKICAgIEpTX1RBR19CSUdfSU5UICAgICA9IC0xMCwKICAgIEpTX1RBR19CSUdfRkxPQVQgICA9IC05LAogICAgSlNfVEFHX1NZTUJPTCAgICAgID0gLTgsCiAgICBKU19UQUdfU1RSSU5HICAgICAgPSAtNywKICAgIEpTX1RBR19NT0RVTEUgICAgICA9IC0zLCAvKiB1c2VkIGludGVybmFsbHkgKi8KICAgIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERSA9IC0yLCAvKiB1c2VkIGludGVybmFsbHkgKi8KICAgIEpTX1RBR19PQkpFQ1QgICAgICA9IC0xLAoKICAgIEpTX1RBR19JTlQgICAgICAgICA9IDAsCiAgICBKU19UQUdfQk9PTCAgICAgICAgPSAxLAogICAgSlNfVEFHX05VTEwgICAgICAgID0gMiwKICAgIEpTX1RBR19VTkRFRklORUQgICA9IDMsCiAgICBKU19UQUdfVU5JTklUSUFMSVpFRCA9IDQsCiAgICBKU19UQUdfQ0FUQ0hfT0ZGU0VUID0gNSwKICAgIEpTX1RBR19FWENFUFRJT04gICA9IDYsCiAgICBKU19UQUdfRkxPQVQ2NCAgICAgPSA3LAogICAgLyogYW55IGxhcmdlciB0YWcgaXMgRkxPQVQ2NCBpZiBKU19OQU5fQk9YSU5HICovCn07Cgp0eXBlZGVmIHN0cnVjdCBKU1JlZkNvdW50SGVhZGVyIHsKICAgIGludCByZWZfY291bnQ7Cn0gSlNSZWZDb3VudEhlYWRlcjsKCiNkZWZpbmUgSlNfRkxPQVQ2NF9OQU4gTkFOCgojaWZkZWYgQ09ORklHX0NIRUNLX0pTVkFMVUUKLyogSlNWYWx1ZSBjb25zaXN0ZW5jeSA6IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBydW4gdGhlIGNvZGUgaW4gdGhpcwogICBtb2RlLCBidXQgaXQgaXMgdXNlZnVsIHRvIGRldGVjdCBzaW1wbGUgcmVmZXJlbmNlIGNvdW50aW5nCiAgIGVycm9ycy4gSXQgd291bGQgYmUgaW50ZXJlc3RpbmcgdG8gbW9kaWZ5IGEgc3RhdGljIEMgYW5hbHl6ZXIgdG8KICAgaGFuZGxlIHNwZWNpZmljIGFubm90YXRpb25zIChjbGFuZyBoYXMgc3VjaCBhbm5vdGF0aW9ucyBidXQgb25seQogICBmb3Igb2JqZWN0aXZlIEMpICovCnR5cGVkZWYgc3RydWN0IF9fSlNWYWx1ZSAqSlNWYWx1ZTsKdHlwZWRlZiBjb25zdCBzdHJ1Y3QgX19KU1ZhbHVlICpKU1ZhbHVlQ29uc3Q7CgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9UQUcodikgKGludCkoKHVpbnRwdHJfdCkodikgJiAweGYpCi8qIHNhbWUgYXMgSlNfVkFMVUVfR0VUX1RBRywgYnV0IHJldHVybiBKU19UQUdfRkxPQVQ2NCB3aXRoIE5hTiBib3hpbmcgKi8KI2RlZmluZSBKU19WQUxVRV9HRVRfTk9STV9UQUcodikgSlNfVkFMVUVfR0VUX1RBRyh2KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9JTlQodikgKGludCkoKGludHB0cl90KSh2KSA+PiA0KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9CT09MKHYpIEpTX1ZBTFVFX0dFVF9JTlQodikKI2RlZmluZSBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2KSAoZG91YmxlKUpTX1ZBTFVFX0dFVF9JTlQodikKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICh2b2lkICopKChpbnRwdHJfdCkodikgJiB+MHhmKQoKI2RlZmluZSBKU19NS1ZBTCh0YWcsIHZhbCkgKEpTVmFsdWUpKGludHB0cl90KSgoKHZhbCkgPDwgNCkgfCAodGFnKSkKI2RlZmluZSBKU19NS1BUUih0YWcsIHApIChKU1ZhbHVlKSgoaW50cHRyX3QpKHApIHwgKHRhZykpCgojZGVmaW5lIEpTX1RBR19JU19GTE9BVDY0KHRhZykgKCh1bnNpZ25lZCkodGFnKSA9PSBKU19UQUdfRkxPQVQ2NCkKCiNkZWZpbmUgSlNfTkFOIEpTX01LVkFMKEpTX1RBR19GTE9BVDY0LCAxKQoKc3RhdGljIGlubGluZSBKU1ZhbHVlIF9fSlNfTmV3RmxvYXQ2NChKU0NvbnRleHQgKmN0eCwgZG91YmxlIGQpCnsKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfRkxPQVQ2NCwgKGludClkKTsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX1ZBTFVFX0lTX05BTihKU1ZhbHVlIHYpCnsKICAgIHJldHVybiAwOwp9CiAgICAKI2VsaWYgZGVmaW5lZChKU19OQU5fQk9YSU5HKQoKdHlwZWRlZiB1aW50NjRfdCBKU1ZhbHVlOwoKI2RlZmluZSBKU1ZhbHVlQ29uc3QgSlNWYWx1ZQoKI2RlZmluZSBKU19WQUxVRV9HRVRfVEFHKHYpIChpbnQpKCh2KSA+PiAzMikKI2RlZmluZSBKU19WQUxVRV9HRVRfSU5UKHYpIChpbnQpKHYpCiNkZWZpbmUgSlNfVkFMVUVfR0VUX0JPT0wodikgKGludCkodikKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICh2b2lkICopKGludHB0cl90KSh2KQoKI2RlZmluZSBKU19NS1ZBTCh0YWcsIHZhbCkgKCgodWludDY0X3QpKHRhZykgPDwgMzIpIHwgKHVpbnQzMl90KSh2YWwpKQojZGVmaW5lIEpTX01LUFRSKHRhZywgcHRyKSAoKCh1aW50NjRfdCkodGFnKSA8PCAzMikgfCAodWludHB0cl90KShwdHIpKQoKI2RlZmluZSBKU19GTE9BVDY0X1RBR19BRERFTkQgKDB4N2ZmODAwMDAgLSBKU19UQUdfRklSU1QgKyAxKSAvKiBxdWlldCBOYU4gZW5jb2RpbmcgKi8KCnN0YXRpYyBpbmxpbmUgZG91YmxlIEpTX1ZBTFVFX0dFVF9GTE9BVDY0KEpTVmFsdWUgdikKewogICAgdW5pb24gewogICAgICAgIEpTVmFsdWUgdjsKICAgICAgICBkb3VibGUgZDsKICAgIH0gdTsKICAgIHUudiA9IHY7CiAgICB1LnYgKz0gKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMjsKICAgIHJldHVybiB1LmQ7Cn0KCiNkZWZpbmUgSlNfTkFOICgweDdmZjgwMDAwMDAwMDAwMDAgLSAoKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMikpCgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgX19KU19OZXdGbG9hdDY0KEpTQ29udGV4dCAqY3R4LCBkb3VibGUgZCkKewogICAgdW5pb24gewogICAgICAgIGRvdWJsZSBkOwogICAgICAgIHVpbnQ2NF90IHU2NDsKICAgIH0gdTsKICAgIEpTVmFsdWUgdjsKICAgIHUuZCA9IGQ7CiAgICAvKiBub3JtYWxpemUgTmFOICovCiAgICBpZiAoanNfdW5saWtlbHkoKHUudTY0ICYgMHg3ZmZmZmZmZmZmZmZmZmZmKSA+IDB4N2ZmMDAwMDAwMDAwMDAwMCkpCiAgICAgICAgdiA9IEpTX05BTjsKICAgIGVsc2UKICAgICAgICB2ID0gdS51NjQgLSAoKHVpbnQ2NF90KUpTX0ZMT0FUNjRfVEFHX0FEREVORCA8PCAzMik7CiAgICByZXR1cm4gdjsKfQoKI2RlZmluZSBKU19UQUdfSVNfRkxPQVQ2NCh0YWcpICgodW5zaWduZWQpKCh0YWcpIC0gSlNfVEFHX0ZJUlNUKSA+PSAoSlNfVEFHX0ZMT0FUNjQgLSBKU19UQUdfRklSU1QpKQoKLyogc2FtZSBhcyBKU19WQUxVRV9HRVRfVEFHLCBidXQgcmV0dXJuIEpTX1RBR19GTE9BVDY0IHdpdGggTmFOIGJveGluZyAqLwpzdGF0aWMgaW5saW5lIGludCBKU19WQUxVRV9HRVRfTk9STV9UQUcoSlNWYWx1ZSB2KQp7CiAgICB1aW50MzJfdCB0YWc7CiAgICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgaWYgKEpTX1RBR19JU19GTE9BVDY0KHRhZykpCiAgICAgICAgcmV0dXJuIEpTX1RBR19GTE9BVDY0OwogICAgZWxzZQogICAgICAgIHJldHVybiB0YWc7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19WQUxVRV9JU19OQU4oSlNWYWx1ZSB2KQp7CiAgICB1aW50MzJfdCB0YWc7CiAgICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSAoSlNfTkFOID4+IDMyKTsKfQogICAgCiNlbHNlIC8qICFKU19OQU5fQk9YSU5HICovCgp0eXBlZGVmIHVuaW9uIEpTVmFsdWVVbmlvbiB7CiAgICBpbnQzMl90IGludDMyOwogICAgZG91YmxlIGZsb2F0NjQ7CiAgICB2b2lkICpwdHI7Cn0gSlNWYWx1ZVVuaW9uOwoKdHlwZWRlZiBzdHJ1Y3QgSlNWYWx1ZSB7CiAgICBKU1ZhbHVlVW5pb24gdTsKICAgIGludDY0X3QgdGFnOwp9IEpTVmFsdWU7CgojZGVmaW5lIEpTVmFsdWVDb25zdCBKU1ZhbHVlCgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9UQUcodikgKChpbnQzMl90KSh2KS50YWcpCi8qIHNhbWUgYXMgSlNfVkFMVUVfR0VUX1RBRywgYnV0IHJldHVybiBKU19UQUdfRkxPQVQ2NCB3aXRoIE5hTiBib3hpbmcgKi8KI2RlZmluZSBKU19WQUxVRV9HRVRfTk9STV9UQUcodikgSlNfVkFMVUVfR0VUX1RBRyh2KQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9JTlQodikgKCh2KS51LmludDMyKQojZGVmaW5lIEpTX1ZBTFVFX0dFVF9CT09MKHYpICgodikudS5pbnQzMikKI2RlZmluZSBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2KSAoKHYpLnUuZmxvYXQ2NCkKI2RlZmluZSBKU19WQUxVRV9HRVRfUFRSKHYpICgodikudS5wdHIpCgojZGVmaW5lIEpTX01LVkFMKHRhZywgdmFsKSAoSlNWYWx1ZSl7IChKU1ZhbHVlVW5pb24peyAuaW50MzIgPSB2YWwgfSwgdGFnIH0KI2RlZmluZSBKU19NS1BUUih0YWcsIHApIChKU1ZhbHVlKXsgKEpTVmFsdWVVbmlvbil7IC5wdHIgPSBwIH0sIHRhZyB9CgojZGVmaW5lIEpTX1RBR19JU19GTE9BVDY0KHRhZykgKCh1bnNpZ25lZCkodGFnKSA9PSBKU19UQUdfRkxPQVQ2NCkKCiNkZWZpbmUgSlNfTkFOIChKU1ZhbHVlKXsgLnUuZmxvYXQ2NCA9IEpTX0ZMT0FUNjRfTkFOLCBKU19UQUdfRkxPQVQ2NCB9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgX19KU19OZXdGbG9hdDY0KEpTQ29udGV4dCAqY3R4LCBkb3VibGUgZCkKewogICAgSlNWYWx1ZSB2OwogICAgdi50YWcgPSBKU19UQUdfRkxPQVQ2NDsKICAgIHYudS5mbG9hdDY0ID0gZDsKICAgIHJldHVybiB2Owp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfVkFMVUVfSVNfTkFOKEpTVmFsdWUgdikKewogICAgdW5pb24gewogICAgICAgIGRvdWJsZSBkOwogICAgICAgIHVpbnQ2NF90IHU2NDsKICAgIH0gdTsKICAgIGlmICh2LnRhZyAhPSBKU19UQUdfRkxPQVQ2NCkKICAgICAgICByZXR1cm4gMDsKICAgIHUuZCA9IHYudS5mbG9hdDY0OwogICAgcmV0dXJuICh1LnU2NCAmIDB4N2ZmZmZmZmZmZmZmZmZmZikgPiAweDdmZjAwMDAwMDAwMDAwMDA7Cn0KCiNlbmRpZiAvKiAhSlNfTkFOX0JPWElORyAqLwoKI2RlZmluZSBKU19WQUxVRV9JU19CT1RIX0lOVCh2MSwgdjIpICgoSlNfVkFMVUVfR0VUX1RBRyh2MSkgfCBKU19WQUxVRV9HRVRfVEFHKHYyKSkgPT0gMCkKI2RlZmluZSBKU19WQUxVRV9JU19CT1RIX0ZMT0FUKHYxLCB2MikgKEpTX1RBR19JU19GTE9BVDY0KEpTX1ZBTFVFX0dFVF9UQUcodjEpKSAmJiBKU19UQUdfSVNfRkxPQVQ2NChKU19WQUxVRV9HRVRfVEFHKHYyKSkpCgojZGVmaW5lIEpTX1ZBTFVFX0dFVF9PQkoodikgKChKU09iamVjdCAqKUpTX1ZBTFVFX0dFVF9QVFIodikpCiNkZWZpbmUgSlNfVkFMVUVfR0VUX1NUUklORyh2KSAoKEpTU3RyaW5nICopSlNfVkFMVUVfR0VUX1BUUih2KSkKI2RlZmluZSBKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpICgodW5zaWduZWQpSlNfVkFMVUVfR0VUX1RBRyh2KSA+PSAodW5zaWduZWQpSlNfVEFHX0ZJUlNUKQoKLyogc3BlY2lhbCB2YWx1ZXMgKi8KI2RlZmluZSBKU19OVUxMICAgICAgSlNfTUtWQUwoSlNfVEFHX05VTEwsIDApCiNkZWZpbmUgSlNfVU5ERUZJTkVEIEpTX01LVkFMKEpTX1RBR19VTkRFRklORUQsIDApCiNkZWZpbmUgSlNfRkFMU0UgICAgIEpTX01LVkFMKEpTX1RBR19CT09MLCAwKQojZGVmaW5lIEpTX1RSVUUgICAgICBKU19NS1ZBTChKU19UQUdfQk9PTCwgMSkKI2RlZmluZSBKU19FWENFUFRJT04gSlNfTUtWQUwoSlNfVEFHX0VYQ0VQVElPTiwgMCkKI2RlZmluZSBKU19VTklOSVRJQUxJWkVEIEpTX01LVkFMKEpTX1RBR19VTklOSVRJQUxJWkVELCAwKQoKLyogZmxhZ3MgZm9yIG9iamVjdCBwcm9wZXJ0aWVzICovCiNkZWZpbmUgSlNfUFJPUF9DT05GSUdVUkFCTEUgICgxIDw8IDApCiNkZWZpbmUgSlNfUFJPUF9XUklUQUJMRSAgICAgICgxIDw8IDEpCiNkZWZpbmUgSlNfUFJPUF9FTlVNRVJBQkxFICAgICgxIDw8IDIpCiNkZWZpbmUgSlNfUFJPUF9DX1dfRSAgICAgICAgIChKU19QUk9QX0NPTkZJR1VSQUJMRSB8IEpTX1BST1BfV1JJVEFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpCiNkZWZpbmUgSlNfUFJPUF9MRU5HVEggICAgICAgICgxIDw8IDMpIC8qIHVzZWQgaW50ZXJuYWxseSBpbiBBcnJheXMgKi8KI2RlZmluZSBKU19QUk9QX1RNQVNLICAgICAgICAgKDMgPDwgNCkgLyogbWFzayBmb3IgTk9STUFMLCBHRVRTRVQsIFZBUlJFRiwgQVVUT0lOSVQgKi8KI2RlZmluZSBKU19QUk9QX05PUk1BTCAgICAgICAgICgwIDw8IDQpCiNkZWZpbmUgSlNfUFJPUF9HRVRTRVQgICAgICAgICAoMSA8PCA0KQojZGVmaW5lIEpTX1BST1BfVkFSUkVGICAgICAgICAgKDIgPDwgNCkgLyogdXNlZCBpbnRlcm5hbGx5ICovCiNkZWZpbmUgSlNfUFJPUF9BVVRPSU5JVCAgICAgICAoMyA8PCA0KSAvKiB1c2VkIGludGVybmFsbHkgKi8KCi8qIGZsYWdzIGZvciBKU19EZWZpbmVQcm9wZXJ0eSAqLwojZGVmaW5lIEpTX1BST1BfSEFTX1NISUZUICAgICAgICA4CiNkZWZpbmUgSlNfUFJPUF9IQVNfQ09ORklHVVJBQkxFICgxIDw8IDgpCiNkZWZpbmUgSlNfUFJPUF9IQVNfV1JJVEFCTEUgICAgICgxIDw8IDkpCiNkZWZpbmUgSlNfUFJPUF9IQVNfRU5VTUVSQUJMRSAgICgxIDw8IDEwKQojZGVmaW5lIEpTX1BST1BfSEFTX0dFVCAgICAgICAgICAoMSA8PCAxMSkKI2RlZmluZSBKU19QUk9QX0hBU19TRVQgICAgICAgICAgKDEgPDwgMTIpCiNkZWZpbmUgSlNfUFJPUF9IQVNfVkFMVUUgICAgICAgICgxIDw8IDEzKQoKLyogdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGZhbHNlIHdvdWxkIGJlIHJldHVybmVkCiAgIChKU19EZWZpbmVQcm9wZXJ0eS9KU19TZXRQcm9wZXJ0eSkgKi8KI2RlZmluZSBKU19QUk9QX1RIUk9XICAgICAgICAgICAgKDEgPDwgMTQpCi8qIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBmYWxzZSB3b3VsZCBiZSByZXR1cm5lZCBpbiBzdHJpY3QgbW9kZQogICAoSlNfU2V0UHJvcGVydHkpICovCiNkZWZpbmUgSlNfUFJPUF9USFJPV19TVFJJQ1QgICAgICgxIDw8IDE1KQoKI2RlZmluZSBKU19QUk9QX05PX0FERCAgICAgICAgICAgKDEgPDwgMTYpIC8qIGludGVybmFsIHVzZSAqLwojZGVmaW5lIEpTX1BST1BfTk9fRVhPVElDICAgICAgICAoMSA8PCAxNykgLyogaW50ZXJuYWwgdXNlICovCgojZGVmaW5lIEpTX0RFRkFVTFRfU1RBQ0tfU0laRSAoMjU2ICogMTAyNCkKCi8qIEpTX0V2YWwoKSBmbGFncyAqLwojZGVmaW5lIEpTX0VWQUxfVFlQRV9HTE9CQUwgICAoMCA8PCAwKSAvKiBnbG9iYWwgY29kZSAoZGVmYXVsdCkgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfTU9EVUxFICAgKDEgPDwgMCkgLyogbW9kdWxlIGNvZGUgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfRElSRUNUICAgKDIgPDwgMCkgLyogZGlyZWN0IGNhbGwgKGludGVybmFsIHVzZSkgKi8KI2RlZmluZSBKU19FVkFMX1RZUEVfSU5ESVJFQ1QgKDMgPDwgMCkgLyogaW5kaXJlY3QgY2FsbCAoaW50ZXJuYWwgdXNlKSAqLwojZGVmaW5lIEpTX0VWQUxfVFlQRV9NQVNLICAgICAoMyA8PCAwKQoKI2RlZmluZSBKU19FVkFMX0ZMQUdfU1RSSUNUICAgKDEgPDwgMykgLyogZm9yY2UgJ3N0cmljdCcgbW9kZSAqLwojZGVmaW5lIEpTX0VWQUxfRkxBR19TVFJJUCAgICAoMSA8PCA0KSAvKiBmb3JjZSAnc3RyaXAnIG1vZGUgKi8KLyogY29tcGlsZSBidXQgZG8gbm90IHJ1bi4gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3Qgd2l0aCBhCiAgIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERSBvciBKU19UQUdfTU9EVUxFIHRhZy4gSXQgY2FuIGJlIGV4ZWN1dGVkCiAgIHdpdGggSlNfRXZhbEZ1bmN0aW9uKCkuICovCiNkZWZpbmUgSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSAoMSA8PCA1KQovKiBkb24ndCBpbmNsdWRlIHRoZSBzdGFjayBmcmFtZXMgYmVmb3JlIHRoaXMgZXZhbCBpbiB0aGUgRXJyb3IoKSBiYWNrdHJhY2VzICovCiNkZWZpbmUgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSICgxIDw8IDYpCgp0eXBlZGVmIEpTVmFsdWUgSlNDRnVuY3Rpb24oSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7CnR5cGVkZWYgSlNWYWx1ZSBKU0NGdW5jdGlvbk1hZ2ljKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YsIGludCBtYWdpYyk7CnR5cGVkZWYgSlNWYWx1ZSBKU0NGdW5jdGlvbkRhdGEoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50IG1hZ2ljLCBKU1ZhbHVlICpmdW5jX2RhdGEpOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNYWxsb2NTdGF0ZSB7CiAgICBzaXplX3QgbWFsbG9jX2NvdW50OwogICAgc2l6ZV90IG1hbGxvY19zaXplOwogICAgc2l6ZV90IG1hbGxvY19saW1pdDsKICAgIHZvaWQgKm9wYXF1ZTsgLyogdXNlciBvcGFxdWUgKi8KfSBKU01hbGxvY1N0YXRlOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNYWxsb2NGdW5jdGlvbnMgewogICAgdm9pZCAqKCpqc19tYWxsb2MpKEpTTWFsbG9jU3RhdGUgKnMsIHNpemVfdCBzaXplKTsKICAgIHZvaWQgKCpqc19mcmVlKShKU01hbGxvY1N0YXRlICpzLCB2b2lkICpwdHIpOwogICAgdm9pZCAqKCpqc19yZWFsbG9jKShKU01hbGxvY1N0YXRlICpzLCB2b2lkICpwdHIsIHNpemVfdCBzaXplKTsKICAgIHNpemVfdCAoKmpzX21hbGxvY191c2FibGVfc2l6ZSkoY29uc3Qgdm9pZCAqcHRyKTsKfSBKU01hbGxvY0Z1bmN0aW9uczsKCnR5cGVkZWYgc3RydWN0IEpTR0NPYmplY3RIZWFkZXIgSlNHQ09iamVjdEhlYWRlcjsKCkpTUnVudGltZSAqSlNfTmV3UnVudGltZSh2b2lkKTsKLyogaW5mbyBsaWZldGltZSBtdXN0IGV4Y2VlZCB0aGF0IG9mIHJ0ICovCnZvaWQgSlNfU2V0UnVudGltZUluZm8oSlNSdW50aW1lICpydCwgY29uc3QgY2hhciAqaW5mbyk7CnZvaWQgSlNfU2V0TWVtb3J5TGltaXQoSlNSdW50aW1lICpydCwgc2l6ZV90IGxpbWl0KTsKdm9pZCBKU19TZXRHQ1RocmVzaG9sZChKU1J1bnRpbWUgKnJ0LCBzaXplX3QgZ2NfdGhyZXNob2xkKTsKLyogdXNlIDAgdG8gZGlzYWJsZSBtYXhpbXVtIHN0YWNrIHNpemUgY2hlY2sgKi8Kdm9pZCBKU19TZXRNYXhTdGFja1NpemUoSlNSdW50aW1lICpydCwgc2l6ZV90IHN0YWNrX3NpemUpOwovKiBzaG91bGQgYmUgY2FsbGVkIHdoZW4gY2hhbmdpbmcgdGhyZWFkIHRvIHVwZGF0ZSB0aGUgc3RhY2sgdG9wIHZhbHVlCiAgIHVzZWQgdG8gY2hlY2sgc3RhY2sgb3ZlcmZsb3cuICovCnZvaWQgSlNfVXBkYXRlU3RhY2tUb3AoSlNSdW50aW1lICpydCk7CkpTUnVudGltZSAqSlNfTmV3UnVudGltZTIoY29uc3QgSlNNYWxsb2NGdW5jdGlvbnMgKm1mLCB2b2lkICpvcGFxdWUpOwp2b2lkIEpTX0ZyZWVSdW50aW1lKEpTUnVudGltZSAqcnQpOwp2b2lkICpKU19HZXRSdW50aW1lT3BhcXVlKEpTUnVudGltZSAqcnQpOwp2b2lkIEpTX1NldFJ1bnRpbWVPcGFxdWUoSlNSdW50aW1lICpydCwgdm9pZCAqb3BhcXVlKTsKdHlwZWRlZiB2b2lkIEpTX01hcmtGdW5jKEpTUnVudGltZSAqcnQsIEpTR0NPYmplY3RIZWFkZXIgKmdwKTsKdm9pZCBKU19NYXJrVmFsdWUoSlNSdW50aW1lICpydCwgSlNWYWx1ZUNvbnN0IHZhbCwgSlNfTWFya0Z1bmMgKm1hcmtfZnVuYyk7CnZvaWQgSlNfUnVuR0MoSlNSdW50aW1lICpydCk7CkpTX0JPT0wgSlNfSXNMaXZlT2JqZWN0KEpTUnVudGltZSAqcnQsIEpTVmFsdWVDb25zdCBvYmopOwoKSlNDb250ZXh0ICpKU19OZXdDb250ZXh0KEpTUnVudGltZSAqcnQpOwp2b2lkIEpTX0ZyZWVDb250ZXh0KEpTQ29udGV4dCAqcyk7CkpTQ29udGV4dCAqSlNfRHVwQ29udGV4dChKU0NvbnRleHQgKmN0eCk7CnZvaWQgKkpTX0dldENvbnRleHRPcGFxdWUoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX1NldENvbnRleHRPcGFxdWUoSlNDb250ZXh0ICpjdHgsIHZvaWQgKm9wYXF1ZSk7CkpTUnVudGltZSAqSlNfR2V0UnVudGltZShKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfU2V0Q2xhc3NQcm90byhKU0NvbnRleHQgKmN0eCwgSlNDbGFzc0lEIGNsYXNzX2lkLCBKU1ZhbHVlIG9iaik7CkpTVmFsdWUgSlNfR2V0Q2xhc3NQcm90byhKU0NvbnRleHQgKmN0eCwgSlNDbGFzc0lEIGNsYXNzX2lkKTsKCi8qIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSB1c2VkIHRvIHNlbGVjdCB0aGUgaW50cmluc2ljIG9iamVjdCB0bwogICBzYXZlIG1lbW9yeSAqLwpKU0NvbnRleHQgKkpTX05ld0NvbnRleHRSYXcoSlNSdW50aW1lICpydCk7CnZvaWQgSlNfQWRkSW50cmluc2ljQmFzZU9iamVjdHMoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0RhdGUoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0V2YWwoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1N0cmluZ05vcm1hbGl6ZShKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljUmVnRXhwQ29tcGlsZXIoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1JlZ0V4cChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljSlNPTihKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljUHJveHkoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY01hcFNldChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljVHlwZWRBcnJheXMoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY1Byb21pc2UoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0JpZ0ludChKU0NvbnRleHQgKmN0eCk7CnZvaWQgSlNfQWRkSW50cmluc2ljQmlnRmxvYXQoSlNDb250ZXh0ICpjdHgpOwp2b2lkIEpTX0FkZEludHJpbnNpY0JpZ0RlY2ltYWwoSlNDb250ZXh0ICpjdHgpOwovKiBlbmFibGUgb3BlcmF0b3Igb3ZlcmxvYWRpbmcgKi8Kdm9pZCBKU19BZGRJbnRyaW5zaWNPcGVyYXRvcnMoSlNDb250ZXh0ICpjdHgpOwovKiBlbmFibGUgInVzZSBtYXRoIiAqLwp2b2lkIEpTX0VuYWJsZUJpZ251bUV4dChKU0NvbnRleHQgKmN0eCwgSlNfQk9PTCBlbmFibGUpOwoKSlNWYWx1ZSBqc19zdHJpbmdfY29kZVBvaW50UmFuZ2UoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7Cgp2b2lkICpqc19tYWxsb2NfcnQoSlNSdW50aW1lICpydCwgc2l6ZV90IHNpemUpOwp2b2lkIGpzX2ZyZWVfcnQoSlNSdW50aW1lICpydCwgdm9pZCAqcHRyKTsKdm9pZCAqanNfcmVhbGxvY19ydChKU1J1bnRpbWUgKnJ0LCB2b2lkICpwdHIsIHNpemVfdCBzaXplKTsKc2l6ZV90IGpzX21hbGxvY191c2FibGVfc2l6ZV9ydChKU1J1bnRpbWUgKnJ0LCBjb25zdCB2b2lkICpwdHIpOwp2b2lkICpqc19tYWxsb2N6X3J0KEpTUnVudGltZSAqcnQsIHNpemVfdCBzaXplKTsKCnZvaWQgKmpzX21hbGxvYyhKU0NvbnRleHQgKmN0eCwgc2l6ZV90IHNpemUpOwp2b2lkIGpzX2ZyZWUoSlNDb250ZXh0ICpjdHgsIHZvaWQgKnB0cik7CnZvaWQgKmpzX3JlYWxsb2MoSlNDb250ZXh0ICpjdHgsIHZvaWQgKnB0ciwgc2l6ZV90IHNpemUpOwpzaXplX3QganNfbWFsbG9jX3VzYWJsZV9zaXplKEpTQ29udGV4dCAqY3R4LCBjb25zdCB2b2lkICpwdHIpOwp2b2lkICpqc19yZWFsbG9jMihKU0NvbnRleHQgKmN0eCwgdm9pZCAqcHRyLCBzaXplX3Qgc2l6ZSwgc2l6ZV90ICpwc2xhY2spOwp2b2lkICpqc19tYWxsb2N6KEpTQ29udGV4dCAqY3R4LCBzaXplX3Qgc2l6ZSk7CmNoYXIgKmpzX3N0cmR1cChKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqc3RyKTsKY2hhciAqanNfc3RybmR1cChKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqcywgc2l6ZV90IG4pOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNZW1vcnlVc2FnZSB7CiAgICBpbnQ2NF90IG1hbGxvY19zaXplLCBtYWxsb2NfbGltaXQsIG1lbW9yeV91c2VkX3NpemU7CiAgICBpbnQ2NF90IG1hbGxvY19jb3VudDsKICAgIGludDY0X3QgbWVtb3J5X3VzZWRfY291bnQ7CiAgICBpbnQ2NF90IGF0b21fY291bnQsIGF0b21fc2l6ZTsKICAgIGludDY0X3Qgc3RyX2NvdW50LCBzdHJfc2l6ZTsKICAgIGludDY0X3Qgb2JqX2NvdW50LCBvYmpfc2l6ZTsKICAgIGludDY0X3QgcHJvcF9jb3VudCwgcHJvcF9zaXplOwogICAgaW50NjRfdCBzaGFwZV9jb3VudCwgc2hhcGVfc2l6ZTsKICAgIGludDY0X3QganNfZnVuY19jb3VudCwganNfZnVuY19zaXplLCBqc19mdW5jX2NvZGVfc2l6ZTsKICAgIGludDY0X3QganNfZnVuY19wYzJsaW5lX2NvdW50LCBqc19mdW5jX3BjMmxpbmVfc2l6ZTsKICAgIGludDY0X3QgY19mdW5jX2NvdW50LCBhcnJheV9jb3VudDsKICAgIGludDY0X3QgZmFzdF9hcnJheV9jb3VudCwgZmFzdF9hcnJheV9lbGVtZW50czsKICAgIGludDY0X3QgYmluYXJ5X29iamVjdF9jb3VudCwgYmluYXJ5X29iamVjdF9zaXplOwp9IEpTTWVtb3J5VXNhZ2U7Cgp2b2lkIEpTX0NvbXB1dGVNZW1vcnlVc2FnZShKU1J1bnRpbWUgKnJ0LCBKU01lbW9yeVVzYWdlICpzKTsKdm9pZCBKU19EdW1wTWVtb3J5VXNhZ2UoRklMRSAqZnAsIGNvbnN0IEpTTWVtb3J5VXNhZ2UgKnMsIEpTUnVudGltZSAqcnQpOwoKLyogYXRvbSBzdXBwb3J0ICovCiNkZWZpbmUgSlNfQVRPTV9OVUxMIDAKCkpTQXRvbSBKU19OZXdBdG9tTGVuKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIsIHNpemVfdCBsZW4pOwpKU0F0b20gSlNfTmV3QXRvbShKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqc3RyKTsKSlNBdG9tIEpTX05ld0F0b21VSW50MzIoSlNDb250ZXh0ICpjdHgsIHVpbnQzMl90IG4pOwpKU0F0b20gSlNfRHVwQXRvbShKU0NvbnRleHQgKmN0eCwgSlNBdG9tIHYpOwp2b2lkIEpTX0ZyZWVBdG9tKEpTQ29udGV4dCAqY3R4LCBKU0F0b20gdik7CnZvaWQgSlNfRnJlZUF0b21SVChKU1J1bnRpbWUgKnJ0LCBKU0F0b20gdik7CkpTVmFsdWUgSlNfQXRvbVRvVmFsdWUoSlNDb250ZXh0ICpjdHgsIEpTQXRvbSBhdG9tKTsKSlNWYWx1ZSBKU19BdG9tVG9TdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTQXRvbSBhdG9tKTsKY29uc3QgY2hhciAqSlNfQXRvbVRvQ1N0cmluZyhKU0NvbnRleHQgKmN0eCwgSlNBdG9tIGF0b20pOwpKU0F0b20gSlNfVmFsdWVUb0F0b20oSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwoKLyogb2JqZWN0IGNsYXNzIHN1cHBvcnQgKi8KCnR5cGVkZWYgc3RydWN0IEpTUHJvcGVydHlFbnVtIHsKICAgIEpTX0JPT0wgaXNfZW51bWVyYWJsZTsKICAgIEpTQXRvbSBhdG9tOwp9IEpTUHJvcGVydHlFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNQcm9wZXJ0eURlc2NyaXB0b3IgewogICAgaW50IGZsYWdzOwogICAgSlNWYWx1ZSB2YWx1ZTsKICAgIEpTVmFsdWUgZ2V0dGVyOwogICAgSlNWYWx1ZSBzZXR0ZXI7Cn0gSlNQcm9wZXJ0eURlc2NyaXB0b3I7Cgp0eXBlZGVmIHN0cnVjdCBKU0NsYXNzRXhvdGljTWV0aG9kcyB7CiAgICAvKiBSZXR1cm4gLTEgaWYgZXhjZXB0aW9uIChjYW4gb25seSBoYXBwZW4gaW4gY2FzZSBvZiBQcm94eSBvYmplY3QpLAogICAgICAgRkFMU0UgaWYgdGhlIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0cywgVFJVRSBpZiBpdCBleGlzdHMuIElmIDEgaXMKICAgICAgIHJldHVybmVkLCB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAnZGVzYycgaXMgZmlsbGVkIGlmICE9IE5VTEwuICovCiAgICBpbnQgKCpnZXRfb3duX3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IgKmRlc2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIHByb3ApOwogICAgLyogJypwdGFiJyBzaG91bGQgaG9sZCB0aGUgJypwbGVuJyBwcm9wZXJ0eSBrZXlzLiBSZXR1cm4gMCBpZiBPSywKICAgICAgIC0xIGlmIGV4Y2VwdGlvbi4gVGhlICdpc19lbnVtZXJhYmxlJyBmaWVsZCBpcyBpZ25vcmVkLgogICAgKi8KICAgIGludCAoKmdldF9vd25fcHJvcGVydHlfbmFtZXMpKEpTQ29udGV4dCAqY3R4LCBKU1Byb3BlcnR5RW51bSAqKnB0YWIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqcGxlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBvYmopOwogICAgLyogcmV0dXJuIDwgMCBpZiBleGNlcHRpb24sIG9yIFRSVUUvRkFMU0UgKi8KICAgIGludCAoKmRlbGV0ZV9wcm9wZXJ0eSkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKICAgIC8qIHJldHVybiA8IDAgaWYgZXhjZXB0aW9uIG9yIFRSVUUvRkFMU0UgKi8KICAgIGludCAoKmRlZmluZV9vd25fcHJvcGVydHkpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZUNvbnN0IHZhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBnZXR0ZXIsIEpTVmFsdWVDb25zdCBzZXR0ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmxhZ3MpOwogICAgLyogVGhlIGZvbGxvd2luZyBtZXRob2RzIGNhbiBiZSBlbXVsYXRlZCB3aXRoIHRoZSBwcmV2aW91cyBvbmVzLAogICAgICAgc28gdGhleSBhcmUgdXN1YWxseSBub3QgbmVlZGVkICovCiAgICAvKiByZXR1cm4gPCAwIGlmIGV4Y2VwdGlvbiBvciBUUlVFL0ZBTFNFICovCiAgICBpbnQgKCpoYXNfcHJvcGVydHkpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0F0b20gYXRvbSk7CiAgICBKU1ZhbHVlICgqZ2V0X3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgcmVjZWl2ZXIpOwogICAgLyogcmV0dXJuIDwgMCBpZiBleGNlcHRpb24gb3IgVFJVRS9GQUxTRSAqLwogICAgaW50ICgqc2V0X3Byb3BlcnR5KShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCB2YWx1ZSwgSlNWYWx1ZUNvbnN0IHJlY2VpdmVyLCBpbnQgZmxhZ3MpOwp9IEpTQ2xhc3NFeG90aWNNZXRob2RzOwoKdHlwZWRlZiB2b2lkIEpTQ2xhc3NGaW5hbGl6ZXIoSlNSdW50aW1lICpydCwgSlNWYWx1ZSB2YWwpOwp0eXBlZGVmIHZvaWQgSlNDbGFzc0dDTWFyayhKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlQ29uc3QgdmFsLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU19NYXJrRnVuYyAqbWFya19mdW5jKTsKI2RlZmluZSBKU19DQUxMX0ZMQUdfQ09OU1RSVUNUT1IgKDEgPDwgMCkKdHlwZWRlZiBKU1ZhbHVlIEpTQ2xhc3NDYWxsKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmxhZ3MpOwoKdHlwZWRlZiBzdHJ1Y3QgSlNDbGFzc0RlZiB7CiAgICBjb25zdCBjaGFyICpjbGFzc19uYW1lOwogICAgSlNDbGFzc0ZpbmFsaXplciAqZmluYWxpemVyOwogICAgSlNDbGFzc0dDTWFyayAqZ2NfbWFyazsKICAgIC8qIGlmIGNhbGwgIT0gTlVMTCwgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLiBJZiAoZmxhZ3MgJgogICAgICAgSlNfQ0FMTF9GTEFHX0NPTlNUUlVDVE9SKSAhPSAwLCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGFzIGEKICAgICAgIGNvbnN0cnVjdG9yLiBJbiB0aGlzIGNhc2UsICd0aGlzX3ZhbCcgaXMgbmV3LnRhcmdldC4gQQogICAgICAgY29uc3RydWN0b3IgY2FsbCBvbmx5IGhhcHBlbnMgaWYgdGhlIG9iamVjdCBjb25zdHJ1Y3RvciBiaXQgaXMKICAgICAgIHNldCAoc2VlIEpTX1NldENvbnN0cnVjdG9yQml0KCkpLiAqLwogICAgSlNDbGFzc0NhbGwgKmNhbGw7CiAgICAvKiBYWFg6IHN1cHByZXNzIHRoaXMgaW5kaXJlY3Rpb24gPyBJdCBpcyBoZXJlIG9ubHkgdG8gc2F2ZSBtZW1vcnkKICAgICAgIGJlY2F1c2Ugb25seSBhIGZldyBjbGFzc2VzIG5lZWQgdGhlc2UgbWV0aG9kcyAqLwogICAgSlNDbGFzc0V4b3RpY01ldGhvZHMgKmV4b3RpYzsKfSBKU0NsYXNzRGVmOwoKSlNDbGFzc0lEIEpTX05ld0NsYXNzSUQoSlNDbGFzc0lEICpwY2xhc3NfaWQpOwpKU0NsYXNzSUQgSlNfR2V0Q2xhc3NJRChKU1ZhbHVlQ29uc3Qgdik7CmludCBKU19OZXdDbGFzcyhKU1J1bnRpbWUgKnJ0LCBKU0NsYXNzSUQgY2xhc3NfaWQsIGNvbnN0IEpTQ2xhc3NEZWYgKmNsYXNzX2RlZik7CmludCBKU19Jc1JlZ2lzdGVyZWRDbGFzcyhKU1J1bnRpbWUgKnJ0LCBKU0NsYXNzSUQgY2xhc3NfaWQpOwoKLyogdmFsdWUgaGFuZGxpbmcgKi8KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdCb29sKEpTQ29udGV4dCAqY3R4LCBKU19CT09MIHZhbCkKewogICAgcmV0dXJuIEpTX01LVkFMKEpTX1RBR19CT09MLCAodmFsICE9IDApKTsKfQoKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX05ld0ludDMyKEpTQ29udGV4dCAqY3R4LCBpbnQzMl90IHZhbCkKewogICAgcmV0dXJuIEpTX01LVkFMKEpTX1RBR19JTlQsIHZhbCk7Cn0KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdDYXRjaE9mZnNldChKU0NvbnRleHQgKmN0eCwgaW50MzJfdCB2YWwpCnsKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfQ0FUQ0hfT0ZGU0VULCB2YWwpOwp9CgpzdGF0aWMganNfZm9yY2VfaW5saW5lIEpTVmFsdWUgSlNfTmV3SW50NjQoSlNDb250ZXh0ICpjdHgsIGludDY0X3QgdmFsKQp7CiAgICBKU1ZhbHVlIHY7CiAgICBpZiAodmFsID09IChpbnQzMl90KXZhbCkgewogICAgICAgIHYgPSBKU19OZXdJbnQzMihjdHgsIHZhbCk7CiAgICB9IGVsc2UgewogICAgICAgIHYgPSBfX0pTX05ld0Zsb2F0NjQoY3R4LCB2YWwpOwogICAgfQogICAgcmV0dXJuIHY7Cn0KCnN0YXRpYyBqc19mb3JjZV9pbmxpbmUgSlNWYWx1ZSBKU19OZXdVaW50MzIoSlNDb250ZXh0ICpjdHgsIHVpbnQzMl90IHZhbCkKewogICAgSlNWYWx1ZSB2OwogICAgaWYgKHZhbCA8PSAweDdmZmZmZmZmKSB7CiAgICAgICAgdiA9IEpTX05ld0ludDMyKGN0eCwgdmFsKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdiA9IF9fSlNfTmV3RmxvYXQ2NChjdHgsIHZhbCk7CiAgICB9CiAgICByZXR1cm4gdjsKfQoKSlNWYWx1ZSBKU19OZXdCaWdJbnQ2NChKU0NvbnRleHQgKmN0eCwgaW50NjRfdCB2KTsKSlNWYWx1ZSBKU19OZXdCaWdVaW50NjQoSlNDb250ZXh0ICpjdHgsIHVpbnQ2NF90IHYpOwoKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX05ld0Zsb2F0NjQoSlNDb250ZXh0ICpjdHgsIGRvdWJsZSBkKQp7CiAgICBKU1ZhbHVlIHY7CiAgICBpbnQzMl90IHZhbDsKICAgIHVuaW9uIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICB1aW50NjRfdCB1OwogICAgfSB1LCB0OwogICAgdS5kID0gZDsKICAgIHZhbCA9IChpbnQzMl90KWQ7CiAgICB0LmQgPSB2YWw7CiAgICAvKiAtMCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXMgaW50ZWdlciwgc28gd2UgY29tcGFyZSB0aGUgYml0CiAgICAgICAgcmVwcmVzZW50YXRpb24gKi8KICAgIGlmICh1LnUgPT0gdC51KSB7CiAgICAgICAgdiA9IEpTX01LVkFMKEpTX1RBR19JTlQsIHZhbCk7CiAgICB9IGVsc2UgewogICAgICAgIHYgPSBfX0pTX05ld0Zsb2F0NjQoY3R4LCBkKTsKICAgIH0KICAgIHJldHVybiB2Owp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNOdW1iZXIoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfSU5UIHx8IEpTX1RBR19JU19GTE9BVDY0KHRhZyk7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc0JpZ0ludChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfQklHX0lOVDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzQmlnRmxvYXQoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHYpOwogICAgcmV0dXJuIHRhZyA9PSBKU19UQUdfQklHX0ZMT0FUOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNCaWdEZWNpbWFsKEpTVmFsdWVDb25zdCB2KQp7CiAgICBpbnQgdGFnID0gSlNfVkFMVUVfR0VUX1RBRyh2KTsKICAgIHJldHVybiB0YWcgPT0gSlNfVEFHX0JJR19ERUNJTUFMOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNCb29sKEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfQk9PTDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzTnVsbChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX05VTEw7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc1VuZGVmaW5lZChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1VOREVGSU5FRDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzRXhjZXB0aW9uKEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4ganNfdW5saWtlbHkoSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfRVhDRVBUSU9OKTsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzVW5pbml0aWFsaXplZChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIGpzX3VubGlrZWx5KEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1VOSU5JVElBTElaRUQpOwp9CgpzdGF0aWMgaW5saW5lIEpTX0JPT0wgSlNfSXNTdHJpbmcoSlNWYWx1ZUNvbnN0IHYpCnsKICAgIHJldHVybiBKU19WQUxVRV9HRVRfVEFHKHYpID09IEpTX1RBR19TVFJJTkc7Cn0KCnN0YXRpYyBpbmxpbmUgSlNfQk9PTCBKU19Jc1N5bWJvbChKU1ZhbHVlQ29uc3QgdikKewogICAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9UQUcodikgPT0gSlNfVEFHX1NZTUJPTDsKfQoKc3RhdGljIGlubGluZSBKU19CT09MIEpTX0lzT2JqZWN0KEpTVmFsdWVDb25zdCB2KQp7CiAgICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KSA9PSBKU19UQUdfT0JKRUNUOwp9CgpKU1ZhbHVlIEpTX1Rocm93KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlIG9iaik7CkpTVmFsdWUgSlNfR2V0RXhjZXB0aW9uKEpTQ29udGV4dCAqY3R4KTsKSlNfQk9PTCBKU19Jc0Vycm9yKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKdm9pZCBKU19SZXNldFVuY2F0Y2hhYmxlRXJyb3IoSlNDb250ZXh0ICpjdHgpOwpKU1ZhbHVlIEpTX05ld0Vycm9yKEpTQ29udGV4dCAqY3R4KTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93U3ludGF4RXJyb3IoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93VHlwZUVycm9yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpmbXQsIC4uLik7CkpTVmFsdWUgX19qc19wcmludGZfbGlrZSgyLCAzKSBKU19UaHJvd1JlZmVyZW5jZUVycm9yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpmbXQsIC4uLik7CkpTVmFsdWUgX19qc19wcmludGZfbGlrZSgyLCAzKSBKU19UaHJvd1JhbmdlRXJyb3IoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKSlNWYWx1ZSBfX2pzX3ByaW50Zl9saWtlKDIsIDMpIEpTX1Rocm93SW50ZXJuYWxFcnJvcihKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqZm10LCAuLi4pOwpKU1ZhbHVlIEpTX1Rocm93T3V0T2ZNZW1vcnkoSlNDb250ZXh0ICpjdHgpOwoKdm9pZCBfX0pTX0ZyZWVWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZSB2KTsKc3RhdGljIGlubGluZSB2b2lkIEpTX0ZyZWVWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZSB2KQp7CiAgICBpZiAoSlNfVkFMVUVfSEFTX1JFRl9DT1VOVCh2KSkgewogICAgICAgIEpTUmVmQ291bnRIZWFkZXIgKnAgPSAoSlNSZWZDb3VudEhlYWRlciAqKUpTX1ZBTFVFX0dFVF9QVFIodik7CiAgICAgICAgaWYgKC0tcC0+cmVmX2NvdW50IDw9IDApIHsKICAgICAgICAgICAgX19KU19GcmVlVmFsdWUoY3R4LCB2KTsKICAgICAgICB9CiAgICB9Cn0Kdm9pZCBfX0pTX0ZyZWVWYWx1ZVJUKEpTUnVudGltZSAqcnQsIEpTVmFsdWUgdik7CnN0YXRpYyBpbmxpbmUgdm9pZCBKU19GcmVlVmFsdWVSVChKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlIHYpCnsKICAgIGlmIChKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpKSB7CiAgICAgICAgSlNSZWZDb3VudEhlYWRlciAqcCA9IChKU1JlZkNvdW50SGVhZGVyICopSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgICAgICBpZiAoLS1wLT5yZWZfY291bnQgPD0gMCkgewogICAgICAgICAgICBfX0pTX0ZyZWVWYWx1ZVJUKHJ0LCB2KTsKICAgICAgICB9CiAgICB9Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZSBKU19EdXBWYWx1ZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHYpCnsKICAgIGlmIChKU19WQUxVRV9IQVNfUkVGX0NPVU5UKHYpKSB7CiAgICAgICAgSlNSZWZDb3VudEhlYWRlciAqcCA9IChKU1JlZkNvdW50SGVhZGVyICopSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgICAgICBwLT5yZWZfY291bnQrKzsKICAgIH0KICAgIHJldHVybiAoSlNWYWx1ZSl2Owp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgSlNfRHVwVmFsdWVSVChKU1J1bnRpbWUgKnJ0LCBKU1ZhbHVlQ29uc3QgdikKewogICAgaWYgKEpTX1ZBTFVFX0hBU19SRUZfQ09VTlQodikpIHsKICAgICAgICBKU1JlZkNvdW50SGVhZGVyICpwID0gKEpTUmVmQ291bnRIZWFkZXIgKilKU19WQUxVRV9HRVRfUFRSKHYpOwogICAgICAgIHAtPnJlZl9jb3VudCsrOwogICAgfQogICAgcmV0dXJuIChKU1ZhbHVlKXY7Cn0KCmludCBKU19Ub0Jvb2woSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOyAvKiByZXR1cm4gLTEgZm9yIEpTX0VYQ0VQVElPTiAqLwppbnQgSlNfVG9JbnQzMihKU0NvbnRleHQgKmN0eCwgaW50MzJfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7CnN0YXRpYyBpbmxpbmUgaW50IEpTX1RvVWludDMyKEpTQ29udGV4dCAqY3R4LCB1aW50MzJfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCkKewogICAgcmV0dXJuIEpTX1RvSW50MzIoY3R4LCAoaW50MzJfdCopcHJlcywgdmFsKTsKfQppbnQgSlNfVG9JbnQ2NChKU0NvbnRleHQgKmN0eCwgaW50NjRfdCAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7CmludCBKU19Ub0luZGV4KEpTQ29udGV4dCAqY3R4LCB1aW50NjRfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbCk7CmludCBKU19Ub0Zsb2F0NjQoSlNDb250ZXh0ICpjdHgsIGRvdWJsZSAqcHJlcywgSlNWYWx1ZUNvbnN0IHZhbCk7Ci8qIHJldHVybiBhbiBleGNlcHRpb24gaWYgJ3ZhbCcgaXMgYSBOdW1iZXIgKi8KaW50IEpTX1RvQmlnSW50NjQoSlNDb250ZXh0ICpjdHgsIGludDY0X3QgKnByZXMsIEpTVmFsdWVDb25zdCB2YWwpOwovKiBzYW1lIGFzIEpTX1RvSW50NjQoKSBidXQgYWxsb3cgQmlnSW50ICovCmludCBKU19Ub0ludDY0RXh0KEpTQ29udGV4dCAqY3R4LCBpbnQ2NF90ICpwcmVzLCBKU1ZhbHVlQ29uc3QgdmFsKTsKCkpTVmFsdWUgSlNfTmV3U3RyaW5nTGVuKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIxLCBzaXplX3QgbGVuMSk7CkpTVmFsdWUgSlNfTmV3U3RyaW5nKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpzdHIpOwpKU1ZhbHVlIEpTX05ld0F0b21TdHJpbmcoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKnN0cik7CkpTVmFsdWUgSlNfVG9TdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwpKU1ZhbHVlIEpTX1RvUHJvcGVydHlLZXkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwpjb25zdCBjaGFyICpKU19Ub0NTdHJpbmdMZW4yKEpTQ29udGV4dCAqY3R4LCBzaXplX3QgKnBsZW4sIEpTVmFsdWVDb25zdCB2YWwxLCBKU19CT09MIGNlc3U4KTsKc3RhdGljIGlubGluZSBjb25zdCBjaGFyICpKU19Ub0NTdHJpbmdMZW4oSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbDEpCnsKICAgIHJldHVybiBKU19Ub0NTdHJpbmdMZW4yKGN0eCwgcGxlbiwgdmFsMSwgMCk7Cn0Kc3RhdGljIGlubGluZSBjb25zdCBjaGFyICpKU19Ub0NTdHJpbmcoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwxKQp7CiAgICByZXR1cm4gSlNfVG9DU3RyaW5nTGVuMihjdHgsIE5VTEwsIHZhbDEsIDApOwp9CnZvaWQgSlNfRnJlZUNTdHJpbmcoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKnB0cik7CgpKU1ZhbHVlIEpTX05ld09iamVjdFByb3RvQ2xhc3MoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBwcm90bywgSlNDbGFzc0lEIGNsYXNzX2lkKTsKSlNWYWx1ZSBKU19OZXdPYmplY3RDbGFzcyhKU0NvbnRleHQgKmN0eCwgaW50IGNsYXNzX2lkKTsKSlNWYWx1ZSBKU19OZXdPYmplY3RQcm90byhKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHByb3RvKTsKSlNWYWx1ZSBKU19OZXdPYmplY3QoSlNDb250ZXh0ICpjdHgpOwoKSlNfQk9PTCBKU19Jc0Z1bmN0aW9uKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKSlNfQk9PTCBKU19Jc0NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKTsKSlNfQk9PTCBKU19TZXRDb25zdHJ1Y3RvckJpdChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCBKU19CT09MIHZhbCk7CgpKU1ZhbHVlIEpTX05ld0FycmF5KEpTQ29udGV4dCAqY3R4KTsKaW50IEpTX0lzQXJyYXkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwpOwoKSlNWYWx1ZSBKU19HZXRQcm9wZXJ0eUludGVybmFsKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNBdG9tIHByb3AsIEpTVmFsdWVDb25zdCByZWNlaXZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0JPT0wgdGhyb3dfcmVmX2Vycm9yKTsKc3RhdGljIGpzX2ZvcmNlX2lubGluZSBKU1ZhbHVlIEpTX0dldFByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCkKewogICAgcmV0dXJuIEpTX0dldFByb3BlcnR5SW50ZXJuYWwoY3R4LCB0aGlzX29iaiwgcHJvcCwgdGhpc19vYmosIDApOwp9CkpTVmFsdWUgSlNfR2V0UHJvcGVydHlTdHIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpwcm9wKTsKSlNWYWx1ZSBKU19HZXRQcm9wZXJ0eVVpbnQzMihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGlkeCk7CgppbnQgSlNfU2V0UHJvcGVydHlJbnRlcm5hbChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZSB2YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncyk7CnN0YXRpYyBpbmxpbmUgaW50IEpTX1NldFByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTQXRvbSBwcm9wLCBKU1ZhbHVlIHZhbCkKewogICAgcmV0dXJuIEpTX1NldFByb3BlcnR5SW50ZXJuYWwoY3R4LCB0aGlzX29iaiwgcHJvcCwgdmFsLCBKU19QUk9QX1RIUk9XKTsKfQppbnQgSlNfU2V0UHJvcGVydHlVaW50MzIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGlkeCwgSlNWYWx1ZSB2YWwpOwppbnQgSlNfU2V0UHJvcGVydHlJbnQ2NChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICBpbnQ2NF90IGlkeCwgSlNWYWx1ZSB2YWwpOwppbnQgSlNfU2V0UHJvcGVydHlTdHIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKnByb3AsIEpTVmFsdWUgdmFsKTsKaW50IEpTX0hhc1Byb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosIEpTQXRvbSBwcm9wKTsKaW50IEpTX0lzRXh0ZW5zaWJsZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CmludCBKU19QcmV2ZW50RXh0ZW5zaW9ucyhKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CmludCBKU19EZWxldGVQcm9wZXJ0eShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNBdG9tIHByb3AsIGludCBmbGFncyk7CmludCBKU19TZXRQcm90b3R5cGUoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTVmFsdWVDb25zdCBwcm90b192YWwpOwpKU1ZhbHVlIEpTX0dldFByb3RvdHlwZShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHZhbCk7CgojZGVmaW5lIEpTX0dQTl9TVFJJTkdfTUFTSyAgKDEgPDwgMCkKI2RlZmluZSBKU19HUE5fU1lNQk9MX01BU0sgICgxIDw8IDEpCiNkZWZpbmUgSlNfR1BOX1BSSVZBVEVfTUFTSyAoMSA8PCAyKQovKiBvbmx5IGluY2x1ZGUgdGhlIGVudW1lcmFibGUgcHJvcGVydGllcyAqLwojZGVmaW5lIEpTX0dQTl9FTlVNX09OTFkgICAgKDEgPDwgNCkKLyogc2V0IHRoZUpTUHJvcGVydHlFbnVtLmlzX2VudW1lcmFibGUgZmllbGQgKi8KI2RlZmluZSBKU19HUE5fU0VUX0VOVU0gICAgICgxIDw8IDUpCgppbnQgSlNfR2V0T3duUHJvcGVydHlOYW1lcyhKU0NvbnRleHQgKmN0eCwgSlNQcm9wZXJ0eUVudW0gKipwdGFiLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqcGxlbiwgSlNWYWx1ZUNvbnN0IG9iaiwgaW50IGZsYWdzKTsKaW50IEpTX0dldE93blByb3BlcnR5KEpTQ29udGV4dCAqY3R4LCBKU1Byb3BlcnR5RGVzY3JpcHRvciAqZGVzYywKICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKCkpTVmFsdWUgSlNfQ2FsbChKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKSlNWYWx1ZSBKU19JbnZva2UoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNBdG9tIGF0b20sCiAgICAgICAgICAgICAgICAgIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YpOwpKU1ZhbHVlIEpTX0NhbGxDb25zdHJ1Y3RvcihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKSlNWYWx1ZSBKU19DYWxsQ29uc3RydWN0b3IyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgKmFyZ3YpOwpKU19CT09MIEpTX0RldGVjdE1vZHVsZShjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbik7Ci8qICdpbnB1dCcgbXVzdCBiZSB6ZXJvIHRlcm1pbmF0ZWQgaS5lLiBpbnB1dFtpbnB1dF9sZW5dID0gJ1wwJy4gKi8KSlNWYWx1ZSBKU19FdmFsKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbiwKICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZpbGVuYW1lLCBpbnQgZXZhbF9mbGFncyk7Ci8qIHNhbWUgYXMgSlNfRXZhbCgpIGJ1dCB3aXRoIGFuIGV4cGxpY2l0ICd0aGlzX29iaicgcGFyYW1ldGVyICovCkpTVmFsdWUgSlNfRXZhbFRoaXMoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICppbnB1dCwgc2l6ZV90IGlucHV0X2xlbiwKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpmaWxlbmFtZSwgaW50IGV2YWxfZmxhZ3MpOwpKU1ZhbHVlIEpTX0dldEdsb2JhbE9iamVjdChKU0NvbnRleHQgKmN0eCk7CmludCBKU19Jc0luc3RhbmNlT2YoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB2YWwsIEpTVmFsdWVDb25zdCBvYmopOwppbnQgSlNfRGVmaW5lUHJvcGVydHkoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgIEpTQXRvbSBwcm9wLCBKU1ZhbHVlQ29uc3QgdmFsLAogICAgICAgICAgICAgICAgICAgICAgSlNWYWx1ZUNvbnN0IGdldHRlciwgSlNWYWx1ZUNvbnN0IHNldHRlciwgaW50IGZsYWdzKTsKaW50IEpTX0RlZmluZVByb3BlcnR5VmFsdWUoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNBdG9tIHByb3AsIEpTVmFsdWUgdmFsLCBpbnQgZmxhZ3MpOwppbnQgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVVpbnQzMihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBpZHgsIEpTVmFsdWUgdmFsLCBpbnQgZmxhZ3MpOwppbnQgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpwcm9wLCBKU1ZhbHVlIHZhbCwgaW50IGZsYWdzKTsKaW50IEpTX0RlZmluZVByb3BlcnR5R2V0U2V0KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU0F0b20gcHJvcCwgSlNWYWx1ZSBnZXR0ZXIsIEpTVmFsdWUgc2V0dGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGZsYWdzKTsKdm9pZCBKU19TZXRPcGFxdWUoSlNWYWx1ZSBvYmosIHZvaWQgKm9wYXF1ZSk7CnZvaWQgKkpTX0dldE9wYXF1ZShKU1ZhbHVlQ29uc3Qgb2JqLCBKU0NsYXNzSUQgY2xhc3NfaWQpOwp2b2lkICpKU19HZXRPcGFxdWUyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBKU0NsYXNzSUQgY2xhc3NfaWQpOwoKLyogJ2J1ZicgbXVzdCBiZSB6ZXJvIHRlcm1pbmF0ZWQgaS5lLiBidWZbYnVmX2xlbl0gPSAnXDAnLiAqLwpKU1ZhbHVlIEpTX1BhcnNlSlNPTihKU0NvbnRleHQgKmN0eCwgY29uc3QgY2hhciAqYnVmLCBzaXplX3QgYnVmX2xlbiwKICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqZmlsZW5hbWUpOwojZGVmaW5lIEpTX1BBUlNFX0pTT05fRVhUICgxIDw8IDApIC8qIGFsbG93IGV4dGVuZGVkIEpTT04gKi8KSlNWYWx1ZSBKU19QYXJzZUpTT04yKEpTQ29udGV4dCAqY3R4LCBjb25zdCBjaGFyICpidWYsIHNpemVfdCBidWZfbGVuLAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqZmlsZW5hbWUsIGludCBmbGFncyk7CkpTVmFsdWUgSlNfSlNPTlN0cmluZ2lmeShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCByZXBsYWNlciwgSlNWYWx1ZUNvbnN0IHNwYWNlMCk7Cgp0eXBlZGVmIHZvaWQgSlNGcmVlQXJyYXlCdWZmZXJEYXRhRnVuYyhKU1J1bnRpbWUgKnJ0LCB2b2lkICpvcGFxdWUsIHZvaWQgKnB0cik7CkpTVmFsdWUgSlNfTmV3QXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIHVpbnQ4X3QgKmJ1Ziwgc2l6ZV90IGxlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICBKU0ZyZWVBcnJheUJ1ZmZlckRhdGFGdW5jICpmcmVlX2Z1bmMsIHZvaWQgKm9wYXF1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBKU19CT09MIGlzX3NoYXJlZCk7CkpTVmFsdWUgSlNfTmV3QXJyYXlCdWZmZXJDb3B5KEpTQ29udGV4dCAqY3R4LCBjb25zdCB1aW50OF90ICpidWYsIHNpemVfdCBsZW4pOwp2b2lkIEpTX0RldGFjaEFycmF5QnVmZmVyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKdWludDhfdCAqSlNfR2V0QXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcHNpemUsIEpTVmFsdWVDb25zdCBvYmopOwpKU1ZhbHVlIEpTX0dldFR5cGVkQXJyYXlCdWZmZXIoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmosCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplX3QgKnBieXRlX29mZnNldCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfdCAqcGJ5dGVfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZV90ICpwYnl0ZXNfcGVyX2VsZW1lbnQpOwp0eXBlZGVmIHN0cnVjdCB7CiAgICB2b2lkICooKnNhYl9hbGxvYykodm9pZCAqb3BhcXVlLCBzaXplX3Qgc2l6ZSk7CiAgICB2b2lkICgqc2FiX2ZyZWUpKHZvaWQgKm9wYXF1ZSwgdm9pZCAqcHRyKTsKICAgIHZvaWQgKCpzYWJfZHVwKSh2b2lkICpvcGFxdWUsIHZvaWQgKnB0cik7CiAgICB2b2lkICpzYWJfb3BhcXVlOwp9IEpTU2hhcmVkQXJyYXlCdWZmZXJGdW5jdGlvbnM7CnZvaWQgSlNfU2V0U2hhcmVkQXJyYXlCdWZmZXJGdW5jdGlvbnMoSlNSdW50aW1lICpydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBKU1NoYXJlZEFycmF5QnVmZmVyRnVuY3Rpb25zICpzZik7CgpKU1ZhbHVlIEpTX05ld1Byb21pc2VDYXBhYmlsaXR5KEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlICpyZXNvbHZpbmdfZnVuY3MpOwoKLyogaXNfaGFuZGxlZCA9IFRSVUUgbWVhbnMgdGhhdCB0aGUgcmVqZWN0aW9uIGlzIGhhbmRsZWQgKi8KdHlwZWRlZiB2b2lkIEpTSG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgcHJvbWlzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWVDb25zdCByZWFzb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19CT09MIGlzX2hhbmRsZWQsIHZvaWQgKm9wYXF1ZSk7CnZvaWQgSlNfU2V0SG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyKEpTUnVudGltZSAqcnQsIEpTSG9zdFByb21pc2VSZWplY3Rpb25UcmFja2VyICpjYiwgdm9pZCAqb3BhcXVlKTsKCi8qIHJldHVybiAhPSAwIGlmIHRoZSBKUyBjb2RlIG5lZWRzIHRvIGJlIGludGVycnVwdGVkICovCnR5cGVkZWYgaW50IEpTSW50ZXJydXB0SGFuZGxlcihKU1J1bnRpbWUgKnJ0LCB2b2lkICpvcGFxdWUpOwp2b2lkIEpTX1NldEludGVycnVwdEhhbmRsZXIoSlNSdW50aW1lICpydCwgSlNJbnRlcnJ1cHRIYW5kbGVyICpjYiwgdm9pZCAqb3BhcXVlKTsKLyogaWYgY2FuX2Jsb2NrIGlzIFRSVUUsIEF0b21pY3Mud2FpdCgpIGNhbiBiZSB1c2VkICovCnZvaWQgSlNfU2V0Q2FuQmxvY2soSlNSdW50aW1lICpydCwgSlNfQk9PTCBjYW5fYmxvY2spOwovKiBzZXQgdGhlIFtJc0hUTUxEREFdIGludGVybmFsIHNsb3QgKi8Kdm9pZCBKU19TZXRJc0hUTUxEREEoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBvYmopOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNb2R1bGVEZWYgSlNNb2R1bGVEZWY7CgovKiByZXR1cm4gdGhlIG1vZHVsZSBzcGVjaWZpZXIgKGFsbG9jYXRlZCB3aXRoIGpzX21hbGxvYygpKSBvciBOVUxMIGlmCiAgIGV4Y2VwdGlvbiAqLwp0eXBlZGVmIGNoYXIgKkpTTW9kdWxlTm9ybWFsaXplRnVuYyhKU0NvbnRleHQgKmN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbW9kdWxlX2Jhc2VfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbW9kdWxlX25hbWUsIHZvaWQgKm9wYXF1ZSk7CnR5cGVkZWYgSlNNb2R1bGVEZWYgKkpTTW9kdWxlTG9hZGVyRnVuYyhKU0NvbnRleHQgKmN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm1vZHVsZV9uYW1lLCB2b2lkICpvcGFxdWUpOwoKLyogbW9kdWxlX25vcm1hbGl6ZSA9IE5VTEwgaXMgYWxsb3dlZCBhbmQgaW52b2tlcyB0aGUgZGVmYXVsdCBtb2R1bGUKICAgZmlsZW5hbWUgbm9ybWFsaXplciAqLwp2b2lkIEpTX1NldE1vZHVsZUxvYWRlckZ1bmMoSlNSdW50aW1lICpydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTTW9kdWxlTm9ybWFsaXplRnVuYyAqbW9kdWxlX25vcm1hbGl6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTTW9kdWxlTG9hZGVyRnVuYyAqbW9kdWxlX2xvYWRlciwgdm9pZCAqb3BhcXVlKTsKLyogcmV0dXJuIHRoZSBpbXBvcnQubWV0YSBvYmplY3Qgb2YgYSBtb2R1bGUgKi8KSlNWYWx1ZSBKU19HZXRJbXBvcnRNZXRhKEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSk7CkpTQXRvbSBKU19HZXRNb2R1bGVOYW1lKEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSk7CgovKiBKUyBKb2Igc3VwcG9ydCAqLwoKdHlwZWRlZiBKU1ZhbHVlIEpTSm9iRnVuYyhKU0NvbnRleHQgKmN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndik7CmludCBKU19FbnF1ZXVlSm9iKEpTQ29udGV4dCAqY3R4LCBKU0pvYkZ1bmMgKmpvYl9mdW5jLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2KTsKCkpTX0JPT0wgSlNfSXNKb2JQZW5kaW5nKEpTUnVudGltZSAqcnQpOwppbnQgSlNfRXhlY3V0ZVBlbmRpbmdKb2IoSlNSdW50aW1lICpydCwgSlNDb250ZXh0ICoqcGN0eCk7CgovKiBPYmplY3QgV3JpdGVyL1JlYWRlciAoY3VycmVudGx5IG9ubHkgdXNlZCB0byBoYW5kbGUgcHJlY29tcGlsZWQgY29kZSkgKi8KI2RlZmluZSBKU19XUklURV9PQkpfQllURUNPREUgICgxIDw8IDApIC8qIGFsbG93IGZ1bmN0aW9uL21vZHVsZSAqLwojZGVmaW5lIEpTX1dSSVRFX09CSl9CU1dBUCAgICAgKDEgPDwgMSkgLyogYnl0ZSBzd2FwcGVkIG91dHB1dCAqLwojZGVmaW5lIEpTX1dSSVRFX09CSl9TQUIgICAgICAgKDEgPDwgMikgLyogYWxsb3cgU2hhcmVkQXJyYXlCdWZmZXIgKi8KI2RlZmluZSBKU19XUklURV9PQkpfUkVGRVJFTkNFICgxIDw8IDMpIC8qIGFsbG93IG9iamVjdCByZWZlcmVuY2VzIHRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGUgYXJiaXRyYXJ5IG9iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGggKi8KdWludDhfdCAqSlNfV3JpdGVPYmplY3QoSlNDb250ZXh0ICpjdHgsIHNpemVfdCAqcHNpemUsIEpTVmFsdWVDb25zdCBvYmosCiAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncyk7CnVpbnQ4X3QgKkpTX1dyaXRlT2JqZWN0MihKU0NvbnRleHQgKmN0eCwgc2l6ZV90ICpwc2l6ZSwgSlNWYWx1ZUNvbnN0IG9iaiwKICAgICAgICAgICAgICAgICAgICAgICAgIGludCBmbGFncywgdWludDhfdCAqKipwc2FiX3RhYiwgc2l6ZV90ICpwc2FiX3RhYl9sZW4pOwoKI2RlZmluZSBKU19SRUFEX09CSl9CWVRFQ09ERSAgKDEgPDwgMCkgLyogYWxsb3cgZnVuY3Rpb24vbW9kdWxlICovCiNkZWZpbmUgSlNfUkVBRF9PQkpfUk9NX0RBVEEgICgxIDw8IDEpIC8qIGF2b2lkIGR1cGxpY2F0aW5nICdidWYnIGRhdGEgKi8KI2RlZmluZSBKU19SRUFEX09CSl9TQUIgICAgICAgKDEgPDwgMikgLyogYWxsb3cgU2hhcmVkQXJyYXlCdWZmZXIgKi8KI2RlZmluZSBKU19SRUFEX09CSl9SRUZFUkVOQ0UgKDEgPDwgMykgLyogYWxsb3cgb2JqZWN0IHJlZmVyZW5jZXMgKi8KSlNWYWx1ZSBKU19SZWFkT2JqZWN0KEpTQ29udGV4dCAqY3R4LCBjb25zdCB1aW50OF90ICpidWYsIHNpemVfdCBidWZfbGVuLAogICAgICAgICAgICAgICAgICAgICAgaW50IGZsYWdzKTsKLyogaW5zdGFudGlhdGUgYW5kIGV2YWx1YXRlIGEgYnl0ZWNvZGUgZnVuY3Rpb24uIE9ubHkgdXNlZCB3aGVuCiAgIHJlYWRpbmcgYSBzY3JpcHQgb3IgbW9kdWxlIHdpdGggSlNfUmVhZE9iamVjdCgpICovCkpTVmFsdWUgSlNfRXZhbEZ1bmN0aW9uKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlIGZ1bl9vYmopOwovKiBsb2FkIHRoZSBkZXBlbmRlbmNpZXMgb2YgdGhlIG1vZHVsZSAnb2JqJy4gVXNlZnVsIHdoZW4gSlNfUmVhZE9iamVjdCgpCiAgIHJldHVybnMgYSBtb2R1bGUuICovCmludCBKU19SZXNvbHZlTW9kdWxlKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKCi8qIG9ubHkgZXhwb3J0ZWQgZm9yIG9zLldvcmtlcigpICovCkpTQXRvbSBKU19HZXRTY3JpcHRPck1vZHVsZU5hbWUoSlNDb250ZXh0ICpjdHgsIGludCBuX3N0YWNrX2xldmVscyk7Ci8qIG9ubHkgZXhwb3J0ZWQgZm9yIG9zLldvcmtlcigpICovCkpTTW9kdWxlRGVmICpKU19SdW5Nb2R1bGUoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKmJhc2VuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZpbGVuYW1lKTsKCi8qIEMgZnVuY3Rpb24gZGVmaW5pdGlvbiAqLwp0eXBlZGVmIGVudW0gSlNDRnVuY3Rpb25FbnVtIHsgIC8qIFhYWDogc2hvdWxkIHJlbmFtZSBmb3IgbmFtZXNwYWNlIGlzb2xhdGlvbiAqLwogICAgSlNfQ0ZVTkNfZ2VuZXJpYywKICAgIEpTX0NGVU5DX2dlbmVyaWNfbWFnaWMsCiAgICBKU19DRlVOQ19jb25zdHJ1Y3RvciwKICAgIEpTX0NGVU5DX2NvbnN0cnVjdG9yX21hZ2ljLAogICAgSlNfQ0ZVTkNfY29uc3RydWN0b3Jfb3JfZnVuYywKICAgIEpTX0NGVU5DX2NvbnN0cnVjdG9yX29yX2Z1bmNfbWFnaWMsCiAgICBKU19DRlVOQ19mX2YsCiAgICBKU19DRlVOQ19mX2ZfZiwKICAgIEpTX0NGVU5DX2dldHRlciwKICAgIEpTX0NGVU5DX3NldHRlciwKICAgIEpTX0NGVU5DX2dldHRlcl9tYWdpYywKICAgIEpTX0NGVU5DX3NldHRlcl9tYWdpYywKICAgIEpTX0NGVU5DX2l0ZXJhdG9yX25leHQsCn0gSlNDRnVuY3Rpb25FbnVtOwoKdHlwZWRlZiB1bmlvbiBKU0NGdW5jdGlvblR5cGUgewogICAgSlNDRnVuY3Rpb24gKmdlbmVyaWM7CiAgICBKU1ZhbHVlICgqZ2VuZXJpY19tYWdpYykoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50IG1hZ2ljKTsKICAgIEpTQ0Z1bmN0aW9uICpjb25zdHJ1Y3RvcjsKICAgIEpTVmFsdWUgKCpjb25zdHJ1Y3Rvcl9tYWdpYykoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0ICphcmd2LCBpbnQgbWFnaWMpOwogICAgSlNDRnVuY3Rpb24gKmNvbnN0cnVjdG9yX29yX2Z1bmM7CiAgICBkb3VibGUgKCpmX2YpKGRvdWJsZSk7CiAgICBkb3VibGUgKCpmX2ZfZikoZG91YmxlLCBkb3VibGUpOwogICAgSlNWYWx1ZSAoKmdldHRlcikoSlNDb250ZXh0ICpjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCk7CiAgICBKU1ZhbHVlICgqc2V0dGVyKShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsKTsKICAgIEpTVmFsdWUgKCpnZXR0ZXJfbWFnaWMpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYyk7CiAgICBKU1ZhbHVlICgqc2V0dGVyX21hZ2ljKShKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsLCBpbnQgbWFnaWMpOwogICAgSlNWYWx1ZSAoKml0ZXJhdG9yX25leHQpKEpTQ29udGV4dCAqY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCAqYXJndiwgaW50ICpwZG9uZSwgaW50IG1hZ2ljKTsKfSBKU0NGdW5jdGlvblR5cGU7CgpKU1ZhbHVlIEpTX05ld0NGdW5jdGlvbjIoSlNDb250ZXh0ICpjdHgsIEpTQ0Z1bmN0aW9uICpmdW5jLAogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgIGludCBsZW5ndGgsIEpTQ0Z1bmN0aW9uRW51bSBjcHJvdG8sIGludCBtYWdpYyk7CkpTVmFsdWUgSlNfTmV3Q0Z1bmN0aW9uRGF0YShKU0NvbnRleHQgKmN0eCwgSlNDRnVuY3Rpb25EYXRhICpmdW5jLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCwgaW50IG1hZ2ljLCBpbnQgZGF0YV9sZW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgKmRhdGEpOwoKc3RhdGljIGlubGluZSBKU1ZhbHVlIEpTX05ld0NGdW5jdGlvbihKU0NvbnRleHQgKmN0eCwgSlNDRnVuY3Rpb24gKmZ1bmMsIGNvbnN0IGNoYXIgKm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCkKewogICAgcmV0dXJuIEpTX05ld0NGdW5jdGlvbjIoY3R4LCBmdW5jLCBuYW1lLCBsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIDApOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUgSlNfTmV3Q0Z1bmN0aW9uTWFnaWMoSlNDb250ZXh0ICpjdHgsIEpTQ0Z1bmN0aW9uTWFnaWMgKmZ1bmMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGxlbmd0aCwgSlNDRnVuY3Rpb25FbnVtIGNwcm90bywgaW50IG1hZ2ljKQp7CiAgICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIChKU0NGdW5jdGlvbiAqKWZ1bmMsIG5hbWUsIGxlbmd0aCwgY3Byb3RvLCBtYWdpYyk7Cn0Kdm9pZCBKU19TZXRDb25zdHJ1Y3RvcihKU0NvbnRleHQgKmN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmNfb2JqLCAKICAgICAgICAgICAgICAgICAgICAgICBKU1ZhbHVlQ29uc3QgcHJvdG8pOwoKLyogQyBwcm9wZXJ0eSBkZWZpbml0aW9uICovCgp0eXBlZGVmIHN0cnVjdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSB7CiAgICBjb25zdCBjaGFyICpuYW1lOwogICAgdWludDhfdCBwcm9wX2ZsYWdzOwogICAgdWludDhfdCBkZWZfdHlwZTsKICAgIGludDE2X3QgbWFnaWM7CiAgICB1bmlvbiB7CiAgICAgICAgc3RydWN0IHsKICAgICAgICAgICAgdWludDhfdCBsZW5ndGg7IC8qIFhYWDogc2hvdWxkIG1vdmUgb3V0c2lkZSB1bmlvbiAqLwogICAgICAgICAgICB1aW50OF90IGNwcm90bzsgLyogWFhYOiBzaG91bGQgbW92ZSBvdXRzaWRlIHVuaW9uICovCiAgICAgICAgICAgIEpTQ0Z1bmN0aW9uVHlwZSBjZnVuYzsKICAgICAgICB9IGZ1bmM7CiAgICAgICAgc3RydWN0IHsKICAgICAgICAgICAgSlNDRnVuY3Rpb25UeXBlIGdldDsKICAgICAgICAgICAgSlNDRnVuY3Rpb25UeXBlIHNldDsKICAgICAgICB9IGdldHNldDsKICAgICAgICBzdHJ1Y3QgewogICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lOwogICAgICAgICAgICBpbnQgYmFzZTsKICAgICAgICB9IGFsaWFzOwogICAgICAgIHN0cnVjdCB7CiAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSAqdGFiOwogICAgICAgICAgICBpbnQgbGVuOwogICAgICAgIH0gcHJvcF9saXN0OwogICAgICAgIGNvbnN0IGNoYXIgKnN0cjsKICAgICAgICBpbnQzMl90IGkzMjsKICAgICAgICBpbnQ2NF90IGk2NDsKICAgICAgICBkb3VibGUgZjY0OwogICAgfSB1Owp9IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5OwoKI2RlZmluZSBKU19ERUZfQ0ZVTkMgICAgICAgICAgMAojZGVmaW5lIEpTX0RFRl9DR0VUU0VUICAgICAgICAxCiNkZWZpbmUgSlNfREVGX0NHRVRTRVRfTUFHSUMgIDIKI2RlZmluZSBKU19ERUZfUFJPUF9TVFJJTkcgICAgMwojZGVmaW5lIEpTX0RFRl9QUk9QX0lOVDMyICAgICA0CiNkZWZpbmUgSlNfREVGX1BST1BfSU5UNjQgICAgIDUKI2RlZmluZSBKU19ERUZfUFJPUF9ET1VCTEUgICAgNgojZGVmaW5lIEpTX0RFRl9QUk9QX1VOREVGSU5FRCA3CiNkZWZpbmUgSlNfREVGX09CSkVDVCAgICAgICAgIDgKI2RlZmluZSBKU19ERUZfQUxJQVMgICAgICAgICAgOQoKLyogTm90ZTogYysrIGRvZXMgbm90IGxpa2UgbmVzdGVkIGRlc2lnbmF0b3JzICovCiNkZWZpbmUgSlNfQ0ZVTkNfREVGKHByb3BfbmFtZSwgbGVuZ3RoLCBmdW5jMSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gMCwgLnUgPSB7LmZ1bmMgPSB7bGVuZ3RoLCBKU19DRlVOQ19nZW5lcmljLCB7LmdlbmVyaWMgPSBmdW5jMX19IH0gfQojZGVmaW5lIEpTX0NGVU5DX01BR0lDX0RFRihwcm9wX25hbWUsIGxlbmd0aCwgZnVuYzEsIG1hZ2ljX251bSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWNfbWFnaWMsIHsuZ2VuZXJpY19tYWdpYyA9IGZ1bmMxfX0gfSB9CiNkZWZpbmUgSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGNwcm90bywgZnVuYzEpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gSlNfUFJPUF9XUklUQUJMRSB8IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0ZVTkMsIC5tYWdpYyA9IDAsIC51ID0gey5mdW5jID0ge2xlbmd0aCwgSlNfQ0ZVTkNfIyNjcHJvdG8sIHsuY3Byb3RvID0gZnVuYzF9fSB9IH0KI2RlZmluZSBKU19JVEVSQVRPUl9ORVhUX0RFRihwcm9wX25hbWUsIGxlbmd0aCwgZnVuYzEsIG1hZ2ljX251bSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9DRlVOQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2l0ZXJhdG9yX25leHQsIHsuaXRlcmF0b3JfbmV4dCA9IGZ1bmMxfX0gfSB9CiNkZWZpbmUgSlNfQ0dFVFNFVF9ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0dFVFNFVCwgLm1hZ2ljID0gMCwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXIgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyID0gZnNldHRlcn19IH0gfQojZGVmaW5lIEpTX0NHRVRTRVRfTUFHSUNfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0dFVFNFVF9NQUdJQywgLm1hZ2ljID0gbWFnaWNfbnVtLCAudSA9IHsgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gfQojZGVmaW5lIEpTX1BST1BfU1RSSU5HX0RFRihwcm9wX25hbWUsIGNzdHIsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gfQojZGVmaW5lIEpTX1BST1BfSU5UMzJfREVGKHByb3BfbmFtZSwgdmFsLCBmbGFncykgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX1BST1BfSU5UMzIsIC5tYWdpYyA9IDAsIC51ID0gey5pMzIgPSB2YWwgfSB9CiNkZWZpbmUgSlNfUFJPUF9JTlQ2NF9ERUYocHJvcF9uYW1lLCB2YWwsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9JTlQ2NCwgLm1hZ2ljID0gMCwgLnUgPSB7Lmk2NCA9IHZhbCB9IH0KI2RlZmluZSBKU19QUk9QX0RPVUJMRV9ERUYocHJvcF9uYW1lLCB2YWwsIGZsYWdzKSB7IC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9ET1VCTEUsIC5tYWdpYyA9IDAsIC51ID0gey5mNjQgPSB2YWwgfSB9CiNkZWZpbmUgSlNfUFJPUF9VTkRFRklORURfREVGKHByb3BfbmFtZSwgZmxhZ3MpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gZmxhZ3MsIC5kZWZfdHlwZSA9IEpTX0RFRl9QUk9QX1VOREVGSU5FRCwgLm1hZ2ljID0gMCwgLnUgPSB7LmkzMiA9IDAgfSB9CiNkZWZpbmUgSlNfT0JKRUNUX0RFRihwcm9wX25hbWUsIHRhYiwgbGVuLCBmbGFncykgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX09CSkVDVCwgLm1hZ2ljID0gMCwgLnUgPSB7LnByb3BfbGlzdCA9IHt0YWIsIGxlbn0gfSB9CiNkZWZpbmUgSlNfQUxJQVNfREVGKHByb3BfbmFtZSwgZnJvbSkgeyAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX1dSSVRBQkxFIHwgSlNfUFJPUF9DT05GSUdVUkFCTEUsIC5kZWZfdHlwZSA9IEpTX0RFRl9BTElBUywgLm1hZ2ljID0gMCwgLnUgPSB7LmFsaWFzID0ge2Zyb20sIC0xfSB9IH0KI2RlZmluZSBKU19BTElBU19CQVNFX0RFRihwcm9wX25hbWUsIGZyb20sIGJhc2UpIHsgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gSlNfUFJPUF9XUklUQUJMRSB8IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQUxJQVMsIC5tYWdpYyA9IDAsIC51ID0gey5hbGlhcyA9IHtmcm9tLCBiYXNlfSB9IH0KCnZvaWQgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5KiB0YWIsIGludCBsZW4pOwoKLyogQyBtb2R1bGUgZGVmaW5pdGlvbiAqLwoKdHlwZWRlZiBpbnQgSlNNb2R1bGVJbml0RnVuYyhKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0pOwoKSlNNb2R1bGVEZWYgKkpTX05ld0NNb2R1bGUoSlNDb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKm5hbWVfc3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICBKU01vZHVsZUluaXRGdW5jICpmdW5jKTsKLyogY2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSB0aGUgbW9kdWxlIGlzIGluc3RhbnRpYXRlZCAqLwppbnQgSlNfQWRkTW9kdWxlRXhwb3J0KEpTQ29udGV4dCAqY3R4LCBKU01vZHVsZURlZiAqbSwgY29uc3QgY2hhciAqbmFtZV9zdHIpOwppbnQgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5ICp0YWIsIGludCBsZW4pOwovKiBjYW4gb25seSBiZSBjYWxsZWQgYWZ0ZXIgdGhlIG1vZHVsZSBpcyBpbnN0YW50aWF0ZWQgKi8KaW50IEpTX1NldE1vZHVsZUV4cG9ydChKU0NvbnRleHQgKmN0eCwgSlNNb2R1bGVEZWYgKm0sIGNvbnN0IGNoYXIgKmV4cG9ydF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgIEpTVmFsdWUgdmFsKTsKaW50IEpTX1NldE1vZHVsZUV4cG9ydExpc3QoSlNDb250ZXh0ICpjdHgsIEpTTW9kdWxlRGVmICptLAogICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSAqdGFiLCBpbnQgbGVuKTsKCiN1bmRlZiBqc191bmxpa2VseQojdW5kZWYganNfZm9yY2VfaW5saW5lCgojaWZkZWYgX19jcGx1c3BsdXMKfSAvKiBleHRlcm4gIkMiIHsgKi8KI2VuZGlmCgojZW5kaWYgLyogUVVJQ0tKU19IICovCgAAAAAAAAAAm6QAAAAAAAAAAAAAAAAAAAAAAACbpAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAajgAAAAAAACmOAAAAAAAAAAAAAAAA8L8"
				]
			]
		}
	],
	"build_system": "Packages/Makefile/Make.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Build debug",
					""
				],
				[
					"CMake",
					""
				],
				[
					"Rebuild CScope",
					""
				],
				[
					"Rebuild CTags",
					""
				],
				[
					"clang-format",
					""
				],
				[
					"make",
					""
				],
				[
					"prettier",
					""
				],
				[
					"Packages/C++/C Single File.sublime-build",
					""
				],
				[
					"Packages/C++/C Single File.sublime-build",
					"Run"
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/NinjaBuild/ninja.sublime-build",
					""
				]
			],
			[
				"Packages/Makefile/Make.sublime-build",
				"Clean"
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"ou",
				"Browse Mode: Outline (Right)"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"lua",
				"Pretty Lua: Format"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"install pac",
				"Package Control: Install Package"
			],
			[
				"prettier",
				"JsPrettier: Format Code"
			],
			[
				"prett",
				"JsPrettier: Format Code"
			],
			[
				"list pack",
				"Package Control: List Packages"
			],
			[
				"edit ",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/examples",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/plugins"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/headers.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/server.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/opaque.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/response.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/form-parser.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/closure.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/remove-functions.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/examples/http-server.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/queue.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.c.orig",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/allocated.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/assure.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/callback.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/context.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/deferred.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/generator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/headers.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/poll.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/query.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ref.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/READMEs/README.fault-injection.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-form-parser.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-websocket.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-fetch.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/queue.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/lws-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-write.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/http/server/server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/http/header.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/log.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/spawn.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/callback.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-plugin-broker.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/check-dep.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/test-rpc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/android/app/src/main/AndroidManifest.xml",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/client/client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake5.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/premake4.lua",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/build.ninja",
		"/home/roman/Projects/quickjs/Makefile",
		"/home/roman/Projects/qjs-net/Makefile",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/common.js",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-client-http.js",
		"/home/roman/Projects/mariadb-10.3-10.3.38/libmariadb/include/mysql.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build-libwebsockets.sh",
		"/home/roman/Projects/openssl-3.0.2/Makefile",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build.ninja",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/test-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/ref.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
		"/home/roman/Projects/nanovg/premake4.lua",
		"/home/roman/Projects/c-parse/nanosvg/premake4.lua",
		"/home/roman/Projects/an-tronics/eagle/Simple-Bug-2SC9014.brd",
		"/home/roman/Projects/an-tronics/eagle/Simple-Bug-2SC9014.sch",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/context.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-http.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-custom-headers/minimal-http-server-custom-headers.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-sse/minimal-http-server-sse.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-callbacks.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-http.h",
		"/home/roman/Projects/plot-cv/quickjs/list.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-response.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/test.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/lws-common.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-client/minimal-ws-client-rx/minimal-ws-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-form-parser.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-form-parser.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/socks5-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/plugins/mirror.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-ws.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c"
	],
	"find":
	{
		"height": 28.0
	},
	"find_in_files":
	{
		"height": 146.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/xlibwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/build/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,/home/roman/Projects/plot-cv/quickjs/qjs-net/lib,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h",
			"<project filters>,*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"<project filters>,*.[ch],-*/build/*,-*/libwebsockets/*",
			"<project filters>,-*/build/*,-*/libwebsockets/*",
			"<project filters>",
			"*.[ch],lib/*.[ch]",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"new_ws",
			"new Web",
			"Web.ocket",
			"Socket",
			"new Web",
			"MIRROR",
			"mirror",
			"write\\.set_fn",
			"read\\.set_fn",
			"default_",
			"default_fd",
			"callback_emit.*\\.fd",
			"callback_emit.*\\.fdF",
			"LWS_CALLBACK_ADD_POLL_FD",
			"defprot_call",
			"(on|cb)\\.fd",
			"onFd",
			"\"onFd",
			"closure\\.",
			"states\\[0\\]",
			"CClosureFunc",
			"minnet_default_fd_callback_fb",
			"on_fd",
			"onFd",
			"js_is_nullish",
			"js_is_",
			"JSCFunctionData",
			"CFunctionData",
			"js_function_cclosure",
			"$",
			"js_function_cclosure",
			"handler",
			"js_",
			"js_global",
			"js_timer_start",
			"js_os_get",
			"\"os\"",
			"Handler",
			"Handler\"",
			"Handler",
			"^-",
			"minnet_debug",
			"rsp",
			"cb.connect",
			"CONFIRM_UPGRADE:",
			"CONFIRM_UPGRADe:",
			"$",
			"NEW_CLIENT_INSTANTIATE",
			"NE",
			"cb\\.connect",
			"on\\.connect",
			"\\.connect",
			"message",
			"form_parser_free",
			"struct url",
			"response_clear\\(",
			"response_free",
			"response_clear",
			"defprot_callback",
			"js_module_list",
			"_escaped",
			"assert\\(",
			"\\s*// for .*",
			"RESPONSE_TYPE",
			"enum http_method",
			"ctx",
			"headers_",
			"#",
			"unsetb",
			"block_grow",
			"RESPONSE_SET",
			"RESPONSE_GET",
			"\n\nenum {\n  RESPONSE_ARRAYBUFFER = 0,\n  RESPONSE_TEXT,\n  RESPONSE_JSON,\n};\n",
			"\n\nJSModuleDef*\njs_module_at(JSContext* ctx, int i) {\n  struct list_head *el = 0, *list = js_module_list(ctx);\n\n  list_for_each(list, el) {\n    JSModuleDef* module = (void*)((char*)el - sizeof(JSAtom) * 2);\n\n    if(i-- == 0)\n      return module;\n  }\n  return 0;\n}\n",
			"WriteSli",
			"FilterCom",
			"YieldJoin",
			"YieldAll",
			"Yield",
			"Within",
			"GetRan",
			"GetRanb",
			"GetRan",
			"GetComme",
			"GetComments",
			"GetComm",
			"Comments",
			"deferred_newv",
			"byte_findb",
			"deferred_call_x",
			"deferred_call",
			"getset",
			"decorate",
			"define\\(",
			"SaveSlices",
			"puts",
			"wsi_vhost_name",
			"defines\\.get",
			"defines.get",
			"defines",
			"define",
			"defines",
			"GetSy",
			"GetSymb",
			"opaque.valid",
			"minnet_generator_reader",
			"'def",
			"defines",
			"lazyProperties",
			"lazyPropers",
			"references",
			"comments",
			"Comment",
			"isComme",
			"compact",
			"/*  ",
			"// ",
			"Match\\)",
			"Match\\(/",
			"Match",
			"Match\\(",
			"Match",
			"Match\\(",
			"MatchSymbols",
			"MatchSy",
			"Match",
			"SymbolsTo",
			"SymbolsToDef"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"set_write",
			"set_read",
			"closure->",
			"read.state",
			"minnet_fd_callback",
			"",
			"resp",
			"",
			"HEADERS_SET",
			"HEADERS_GET",
			"ThisAsArg",
			"}\\n\\n\\1",
			"}\\n\\n",
			"",
			"ccr",
			"JSCClosureRecord",
			"js_cclosure_record",
			"js_cclosure_new(",
			"js_cclosure_f",
			"\"with-\\1\"",
			"\"with-quickjs\"",
			"\\n    ",
			" }",
			"{ ",
			"SharedLib",
			"JS_SHARED_LIBRARY",
			"$quickjs_prefix",
			" -I",
			"$libwebsockets_prefix",
			"${OPENSSL_PREFIX}",
			"OPENSSL_PREFIX",
			"",
			"cb->ctx",
			"session_callback",
			"struct socket",
			"struct form_parser",
			"QJSNET_LIB_LWS_UTILS_H",
			"\\1",
			"",
			")",
			"push_value",
			"push_block",
			"session",
			"opaque_list",
			"session",
			",",
			"\\1#\\2",
			"resp",
			"opaque",
			"}\\n\n    case ",
			"tail_bind",
			"tail_decorate",
			"RINGBUFFER_COUNT",
			"RINGBUFFER_BYTELEN",
			"RINGBUFFER_ELEMENTLEN",
			"RINGBUFFER_INSERTRANGE",
			"RINGBUFFER_LINEARINSERTRANGE",
			"linearInsertRange",
			"RINGBUFFER_ELEMENTLENGTH",
			"rb",
			"buf.",
			"FinalizerFunction",
			"DeferredFunction",
			"FunctionPointer",
			"av[",
			"session",
			"MinnetHttpMount",
			"MinnetResponse",
			"wsi",
			"ws->lwsi",
			"QJSNET_LIB_ASYNCITERATOR_H",
			"JS_FreeValueRT(rt,",
			"client->request",
			"MINNET",
			"MINNET_RINGBUFFER_H",
			"WJSNET_LIBQJSNET_LIB_RESPONSE_H",
			"WJSNET_LIBQJSNET_LIB_REQUEST_H",
			"WJSNET_LIBQJSNET_LIB_URL_H",
			"WJSNET_LIBQJSNET_LIB_WS_H",
			"WJSNET_LIB",
			"response",
			"arequest",
			"\\1//console",
			"log",
			"\\1",
			"\\1//DEBUG",
			"fp",
			"JS_FreeValueRT(rt,",
			"DEBUG(",
			"printf(",
			"printf(\"",
			" DEBUG(",
			"is_h2",
			"get_host_and_port",
			"JSCallback",
			"MINNET_GENERATOR_H",
			"MINNET_RINGBUFFER_H",
			"QUICKJS_NET_LIB_POLL_H",
			"(wsi_token_exists(\\1))",
			"h2",
			"closure_free",
			"closure_dup(cc)",
			"fetch_",
			"MinnetFetch",
			"MinnetHandler",
			"js_entry_reset",
			"js_entry_clear",
			"req->url."
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
							"function_name_status_row": 0,
							"outline_rename_mode": false,
							"symkeys":
							[
							],
							"symlist":
							[
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680221456.62,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "src/minnet-form-parser.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11771,
						"regions":
						{
						},
						"selection":
						[
							[
								1751,
								1751
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 53,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679986899.05,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 901.0,
						"zoom_level": 1.0
					},
					"stack_index": 18,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "lib/utils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4029,
						"regions":
						{
						},
						"selection":
						[
							[
								395,
								398
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 22,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680008580.66,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2040.0,
						"zoom_level": 1.0
					},
					"stack_index": 17,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "lib/jsutils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 25008,
						"regions":
						{
						},
						"selection":
						[
							[
								23927,
								23927
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 950,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680010243.42,
							"tabs_extra_last_activated_sheet_index": 2,
							"tabs_extra_moving":
							[
								4,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 16150.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 732045,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions": "kAAAACcBAAAAAAAALwEAAAAAAAAAAAAAAADwv28BAAAAAAAAdwEAAAAAAAAAAAAAAADwv3YCAAAAAAAAfwIAAAAAAAAAAAAAAADwv4gDAAAAAAAAkQMAAAAAAAAAAAAAAADwv58EAAAAAAAAqAQAAAAAAAAAAAAAAADwv94FAAAAAAAA5wUAAAAAAAAAAAAAAADwvzsHAAAAAAAASQcAAAAAAAAAAAAAAADwv3oIAAAAAAAAiAgAAAAAAAAAAAAAAADwv4AJAAAAAAAAjgkAAAAAAAAAAAAAAADwv1EKAAAAAAAAXwoAAAAAAAAAAAAAAADwv0kLAAAAAAAAVwsAAAAAAAAAAAAAAADwv5AMAAAAAAAAngwAAAAAAAAAAAAAAADwv88NAAAAAAAA3Q0AAAAAAAAAAAAAAADwv9UOAAAAAAAA4w4AAAAAAAAAAAAAAADwv6YPAAAAAAAAtA8AAAAAAAAAAAAAAADwv54QAAAAAAAArBAAAAAAAAAAAAAAAADwvwYSAAAAAAAAGhIAAAAAAAAAAAAAAADwv7sSAAAAAAAAzxIAAAAAAAAAAAAAAADwv3kTAAAAAAAAjRMAAAAAAAAAAAAAAADwv6QUAAAAAAAAuBQAAAAAAAAAAAAAAADwv9EVAAAAAAAA5RUAAAAAAAAAAAAAAADwv7IWAAAAAAAAxhYAAAAAAAAAAAAAAADwv5IXAAAAAAAAphcAAAAAAAAAAAAAAADwvw0YAAAAAAAAIRgAAAAAAAAAAAAAAADwv30ZAAAAAAAAkRkAAAAAAAAAAAAAAADwv6UaAAAAAAAAuRoAAAAAAAAAAAAAAADwvxwbAAAAAAAAMBsAAAAAAAAAAAAAAADwvyocAAAAAAAAPhwAAAAAAAAAAAAAAADwv6QdAAAAAAAAuB0AAAAAAAAAAAAAAADwvxEeAAAAAAAAJR4AAAAAAAAAAAAAAADwv38eAAAAAAAAkx4AAAAAAAAAAAAAAADwv+0eAAAAAAAAAR8AAAAAAAAAAAAAAADwvzIgAAAAAAAARiAAAAAAAAAAAAAAAADwvywhAAAAAAAAQCEAAAAAAAAAAAAAAADwv6chAAAAAAAAuyEAAAAAAAAAAAAAAADwv3AjAAAAAAAAhCMAAAAAAAAAAAAAAADwvxckAAAAAAAAKyQAAAAAAAAAAAAAAADwvzElAAAAAAAARSUAAAAAAAAAAAAAAADwvzEmAAAAAAAARSYAAAAAAAAAAAAAAADwv+wmAAAAAAAAACcAAAAAAAAAAAAAAADwv10oAAAAAAAAcSgAAAAAAAAAAAAAAADwv8bXCgAAAAAA2tcKAAAAAAAAAAAAAADwv3vYCgAAAAAAj9gKAAAAAAAAAAAAAADwvznZCgAAAAAATdkKAAAAAAAAAAAAAADwv2TaCgAAAAAAeNoKAAAAAAAAAAAAAADwv5HbCgAAAAAApdsKAAAAAAAAAAAAAADwv3LcCgAAAAAAhtwKAAAAAAAAAAAAAADwv1LdCgAAAAAAZt0KAAAAAAAAAAAAAADwv83dCgAAAAAA4d0KAAAAAAAAAAAAAADwvz3fCgAAAAAAUd8KAAAAAAAAAAAAAADwv2XgCgAAAAAAeeAKAAAAAAAAAAAAAADwv9zgCgAAAAAA8OAKAAAAAAAAAAAAAADwv+rhCgAAAAAA/uEKAAAAAAAAAAAAAADwv2TjCgAAAAAAeOMKAAAAAAAAAAAAAADwv9HjCgAAAAAA5eMKAAAAAAAAAAAAAADwvz/kCgAAAAAAU+QKAAAAAAAAAAAAAADwv63kCgAAAAAAweQKAAAAAAAAAAAAAADwv/LlCgAAAAAABuYKAAAAAAAAAAAAAADwv+zmCgAAAAAAAOcKAAAAAAAAAAAAAADwv2fnCgAAAAAAe+cKAAAAAAAAAAAAAADwvzDpCgAAAAAAROkKAAAAAAAAAAAAAADwv9fpCgAAAAAA6+kKAAAAAAAAAAAAAADwv/HqCgAAAAAABesKAAAAAAAAAAAAAADwv/HrCgAAAAAABewKAAAAAAAAAAAAAADwv6zsCgAAAAAAwOwKAAAAAAAAAAAAAADwvx3uCgAAAAAAMe4KAAAAAAAAAAAAAADwv+/vCgAAAAAA9O8KAAAAAAAAAAAAAADwvyrxCgAAAAAAL/EKAAAAAAAAAAAAAADwv5vyCgAAAAAAoPIKAAAAAAAAAAAAAADwv+fzCgAAAAAA6/MKAAAAAAAAAAAAAADwv9L0CgAAAAAA1vQKAAAAAAAAAAAAAADwvwT1CgAAAAAACPUKAAAAAAAAAAAAAADwvzz1CgAAAAAAQPUKAAAAAAAAAAAAAADwvw/2CgAAAAAAE/YKAAAAAAAAAAAAAADwvz/2CgAAAAAAQ/YKAAAAAAAAAAAAAADwvxH3CgAAAAAAFfcKAAAAAAAAAAAAAADwv3f3CgAAAAAAe/cKAAAAAAAAAAAAAADwv134CgAAAAAAYfgKAAAAAAAAAAAAAADwv674CgAAAAAAsvgKAAAAAAAAAAAAAADwvw76CgAAAAAAEvoKAAAAAAAAAAAAAADwv0n7CgAAAAAATfsKAAAAAAAAAAAAAADwv7r8CgAAAAAAvvwKAAAAAAAAAAAAAADwv9L9CgAAAAAA1v0KAAAAAAAAAAAAAADwv//9CgAAAAAAA/4KAAAAAAAAAAAAAADwv5j/CgAAAAAAnf8KAAAAAAAAAAAAAADwv0kACwAAAAAATgALAAAAAAAAAAAAAADwvyUBCwAAAAAAKgELAAAAAAAAAAAAAADwvwkCCwAAAAAADgILAAAAAAAAAAAAAADwvwMDCwAAAAAACAMLAAAAAAAAAAAAAADwv5UDCwAAAAAAmgMLAAAAAAAAAAAAAADwvzUECwAAAAAAOgQLAAAAAAAAAAAAAADwv9wECwAAAAAA4QQLAAAAAAAAAAAAAADwvx8FCwAAAAAAJAULAAAAAAAAAAAAAADwv2AFCwAAAAAAZQULAAAAAAAAAAAAAADwv8EFCwAAAAAAxgULAAAAAAAAAAAAAADwv/cFCwAAAAAA/AULAAAAAAAAAAAAAADwvzAGCwAAAAAANQYLAAAAAAAAAAAAAADwv2kGCwAAAAAAbgYLAAAAAAAAAAAAAADwvxsHCwAAAAAAIAcLAAAAAAAAAAAAAADwv3IHCwAAAAAAdwcLAAAAAAAAAAAAAADwv8QHCwAAAAAAyQcLAAAAAAAAAAAAAADwvyUICwAAAAAAKggLAAAAAAAAAAAAAADwv1sICwAAAAAAYAgLAAAAAAAAAAAAAADwv5QICwAAAAAAmQgLAAAAAAAAAAAAAADwv80ICwAAAAAA0ggLAAAAAAAAAAAAAADwv4cJCwAAAAAAjAkLAAAAAAAAAAAAAADwvwMKCwAAAAAACAoLAAAAAAAAAAAAAADwv0YKCwAAAAAASwoLAAAAAAAAAAAAAADwv6kKCwAAAAAArgoLAAAAAAAAAAAAAADwv+EKCwAAAAAA5goLAAAAAAAAAAAAAADwvxwLCwAAAAAAIQsLAAAAAAAAAAAAAADwv1cLCwAAAAAAXAsLAAAAAAAAAAAAAADwv0QMCwAAAAAASQwLAAAAAAAAAAAAAADwv8INCwAAAAAAzg0LAAAAAAAAAAAAAADwv7QOCwAAAAAAwA4LAAAAAAAAAAAAAADwv70PCwAAAAAAyQ8LAAAAAAAAAAAAAADwv/IQCwAAAAAA/hALAAAAAAAAAAAAAADwv4USCwAAAAAAnRILAAAAAAAAAAAAAADwv+ATCwAAAAAA+BMLAAAAAAAAAAAAAADwv+kUCwAAAAAAARULAAAAAAAAAAAAAADwv+EVCwAAAAAA+RULAAAAAAAAAAAAAADwv/sWCwAAAAAAExcLAAAAAAAAAAAAAADwv0AYCwAAAAAAWBgLAAAAAAAAAAAAAADwv5sZCwAAAAAAsxkLAAAAAAAAAAAAAADwv6QaCwAAAAAAvBoLAAAAAAAAAAAAAADwv5wbCwAAAAAAtBsLAAAAAAAAAAAAAADwv7YcCwAAAAAAzhwLAAAAAAAAAAAAAADwv/sdCwAAAAAAEx4LAAAAAAAAAAAAAADwv1YfCwAAAAAAbh8LAAAAAAAAAAAAAADwv18gCwAAAAAAdyALAAAAAAAAAAAAAADwv1chCwAAAAAAbyELAAAAAAAAAAAAAADwv3EiCwAAAAAAiSILAAAAAAAAAAAAAADwv0IkCwAAAAAAXiQLAAAAAAAAAAAAAADwv2klCwAAAAAAhSULAAAAAAAAAAAAAADwv9EmCwAAAAAA7SYLAAAAAAAAAAAAAADwvykoCwAAAAAALygLAAAAAAAAAAAAAADwv1goCwAAAAAAXigLAAAAAAAAAAAAAADwv2AoCwAAAAAAZigLAAAAAAAAAAAAAADwvyYpCwAAAAAALCkLAAAAAAAAAAAAAADwv1kpCwAAAAAAXykLAAAAAAAAAAAAAADwvy4qCwAAAAAANCoLAAAAAAAAAAAAAADwv10qCwAAAAAAYyoLAAAAAAAAAAAAAADwv2UqCwAAAAAAayoLAAAAAAAAAAAAAADwvwgrCwAAAAAADisLAAAAAAAAAAAAAADwvw",
								"scope": ""
							}
						},
						"selection":
						[
							[
								731015,
								731015
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"detect_indentation": false,
							"function_name_status_row": 20959,
							"line_numbers": false,
							"output_tag": 16,
							"result_base_dir": "",
							"result_file_regex": "^([^ \t].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage",
							"tabs_extra_last_activated": 1680014128.47,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 405308.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4250,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/CSS/CSS.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680014130.79,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "src/minnet-server.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1012,
						"regions":
						{
						},
						"selection":
						[
							[
								628,
								628
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 28,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680011369.34,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "src/minnet-generator.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3036,
						"regions":
						{
						},
						"selection":
						[
							[
								2227,
								2240
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 70,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680010244.24,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 729.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "remove-functions.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 30394,
						"regions":
						{
						},
						"selection":
						[
							[
								2493,
								2506
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 105,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680008751.72,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1341.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "src/minnet-fetch.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3451,
						"regions":
						{
						},
						"selection":
						[
							[
								1271,
								1963
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 46,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680010242.18,
							"tabs_extra_last_activated_sheet_index": 6,
							"tabs_extra_moving":
							[
								4,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 336.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "src/minnet.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18090,
						"regions":
						{
						},
						"selection":
						[
							[
								4332,
								4332
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 173,
							"rulers":
							[
							],
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680012138.88,
							"tabs_extra_last_activated_sheet_index": 8,
							"translate_tabs_to_spaces": false,
							"wrap_width": 0
						},
						"translation.x": 0.0,
						"translation.y": 1890.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "examples/http-server.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1794,
						"regions":
						{
						},
						"selection":
						[
							[
								1088,
								1088
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 32,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680216420.96,
							"tabs_extra_last_activated_sheet_index": 10,
							"translate_tabs_to_spaces": true,
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 204.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "libwebsockets/plugins/protocol_lws_mirror.c",
					"semi_transient": false,
					"settings":
					{
<<<<<<< HEAD
						"buffer_size": 14066,
=======
						"buffer_size": 86,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						"regions":
						{
						},
						"selection":
						[
<<<<<<< HEAD
							[
								10031,
								10074
							]
=======
<<<<<<< HEAD
							[
								8437,
								8494
							]
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
<<<<<<< HEAD
							"function_name_status_row": 343,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680029898.24,
							"tabs_extra_last_activated_sheet_index": 11,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 6400.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
=======
<<<<<<< HEAD
							"function_name_status_row": 302,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679834269.63,
							"tabs_extra_last_activated_sheet_index": 14,
							"tabs_extra_moving":
							[
								5,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3349.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
					"stack_multiselect": false,
					"type": "text"
				},
				{
<<<<<<< HEAD
					"buffer": 13,
					"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5363,
						"regions":
						{
						},
						"selection":
						[
=======
					"buffer": 15,
					"file": "lib/url.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3603,
=======
							"current_file": "/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client-http.c",
							"function_name_status_row": 20,
							"outline_rename_mode": false,
							"symkeys":
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							[
								349,
								349
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 10,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680221456.63,
							"tabs_extra_last_activated_sheet_index": 12,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1020.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/mount-origin/test.js",
					"semi_transient": false,
					"settings":
					{
<<<<<<< HEAD
						"buffer_size": 57259,
=======
						"buffer_size": 11771,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						"regions":
						{
						},
						"selection":
						[
							[
<<<<<<< HEAD
								54374,
								54374
=======
<<<<<<< HEAD
								561,
								561
=======
								1751,
								1751
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
<<<<<<< HEAD
							"function_name_status_row": 442,
							"rulers":
							[
							],
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1680071752.13,
							"tabs_extra_last_activated_sheet_index": 13,
							"translate_tabs_to_spaces": false,
							"wrap_width": 0
						},
						"translation.x": 0.0,
						"translation.y": 7595.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 15,
					"file": "src/minnet.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2173,
						"regions":
						{
						},
						"selection":
						[
							[
								2150,
								2150
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 73,
							"syntax": "Packages/C++11/C++11.tmLanguage",
=======
<<<<<<< HEAD
							"function_name_status_row": 27,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679834393.86,
							"tabs_extra_last_activated_sheet_index": 15,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 459.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
=======
							"function_name_status_row": 53,
							"syntax": "Packages/C++/C.sublime-syntax",
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
							"tab_size": 2,
							"tabs_extra_last_activated": 1680010544.27,
							"tabs_extra_last_activated_sheet_index": 9,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 765.0,
						"zoom_level": 1.0
					},
<<<<<<< HEAD
					"stack_index": 11,
=======
					"stack_index": 1,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
					"stack_multiselect": false,
					"type": "text"
				},
				{
<<<<<<< HEAD
					"buffer": 16,
					"file": "src/minnet-server-http.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 34753,
=======
<<<<<<< HEAD
					"buffer": 16,
					"file": "lib/request.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1568,
=======
					"buffer": 2,
					"file": "src/minnet-client-http.c",
					"selected": true,
					"semi_transient": true,
					"settings":
					{
						"buffer_size": 12507,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
						"regions":
						{
						},
						"selection":
						[
							[
<<<<<<< HEAD
								808,
								808
=======
								0,
								0
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
<<<<<<< HEAD
							"function_name_status_row": 32,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1679834279.12,
							"tabs_extra_last_activated_sheet_index": 16,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 119.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
=======
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680010545.23,
							"tabs_extra_last_activated_sheet_index": 10,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
<<<<<<< HEAD
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "src/minnet-server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18558,
						"regions":
						{
						},
						"selection":
						[
							[
								9869,
								9879
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 288,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680011816.05,
							"tabs_extra_last_activated_sheet_index": 12,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3605.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "lib/jsutils.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12492,
						"regions":
						{
						},
						"selection":
						[
							[
								11738,
								11747
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 363,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1680011273.82,
							"tabs_extra_last_activated_sheet_index": 12,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5746.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "/home/roman/Projects/plot-cv/quickjs/quickjs.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 42139,
						"regions":
						{
						},
						"selection":
						[
							[
								36378,
								36393
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 944,
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1680010242.72,
							"tabs_extra_last_activated_sheet_index": 13,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 15623.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
=======
					"stack_index": 0,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 28.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
<<<<<<< HEAD
			0.8,
=======
<<<<<<< HEAD
			0.797786604737,
=======
			0.745981599148,
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 0.0
	},
	"output.Debugger Console":
	{
		"height": 108.0
	},
	"output.coffeecompile_output":
	{
		"height": 132.0
	},
	"output.exec":
	{
		"height": 120.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "minnet.sublime-project",
	"replace":
	{
		"height": 52.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
<<<<<<< HEAD
				"eventlib-de",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-demos/minimal-http-server-eventlib-demos.c"
			],
			[
				"protocol_lws_mir",
				"libwebsockets/plugins/protocol_lws_mirror.c"
			],
			[
				"http-ser",
				"examples/http-server.js"
			],
			[
				"minnet.c",
				"src/minnet.c"
			],
			[
				"minnet-server",
				"src/minnet-server.c"
			],
			[
				"jsutils",
				"lib/jsutils.h"
			],
			[
=======
<<<<<<< HEAD
=======
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
				"-client-http.c",
				"src/minnet-client-http.c"
			],
			[
				"server-ht",
				"src/minnet-server-http.c"
			],
			[
				"remove",
				"remove-functions.c"
			],
			[
				"server.js",
				"tests/server.js"
			],
			[
				"buf",
				"lib/buffer.c"
			],
			[
				"opaque",
				"lib/opaque.c"
			],
			[
				"buffer.c",
				"lib/buffer.c"
			],
			[
				".h",
				"lib/opaque.h"
			],
			[
				"request.h",
				"lib/request.h"
			],
			[
				"ref.h",
				"lib/ref.h"
			],
			[
				"ref.j",
				"libwebsockets/READMEs/README.fault-injection.md"
			],
			[
				"context.h",
				"lib/context.h"
			],
			[
				"deferre",
				"lib/deferred.c"
			],
			[
				"request.c",
				"lib/request.c"
			],
			[
				"minnet-res",
				"src/minnet-response.c"
			],
			[
				"respose",
				"lib/response.c"
			],
			[
				"headers.c",
				"lib/headers.c"
			],
			[
				"uffer.h",
				"lib/buffer.h"
			],
			[
				"buffer.h",
				"lib/buffer.h"
			],
			[
				"remo",
				"remove-functions.c"
			],
			[
				"headers.h",
				"lib/headers.h"
			],
			[
				"headers",
				"lib/headers.c"
			],
			[
				"utils.h",
				"lib/utils.h"
			],
			[
				"defer",
				"lib/deferred.c"
			],
			[
				"check",
				"check-dep.js"
			],
			[
				"minnet-req",
				"src/minnet-request.c"
			],
			[
				"check-de",
				"check-dep.js"
			],
			[
				"heades",
				"lib/headers.c"
			],
			[
				"request",
				"lib/request.c"
			],
			[
				"jsutils.c",
				"lib/jsutils.c"
			],
			[
				"-requet",
				"src/minnet-request.c"
			],
			[
				"ringbuffer",
				"lib/ringbuffer.c"
			],
			[
				"check-dep",
				"check-dep.js"
			],
			[
				"plugin-br",
				"src/minnet-plugin-broker.c"
			],
			[
				"server-ws",
				"src/minnet-server-ws.c"
			],
			[
				"callback.c",
				"lib/callback.c"
			],
			[
				"callback",
				"lib/callback.h"
			],
			[
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"test-opx",
				"libwebsockets/test-apps/android/app/src/main/AndroidManifest.xml"
			],
			[
				"wscli",
				"wscli.js"
			],
			[
				"url.h",
				"lib/url.h"
			],
			[
				"minnet-cli",
				"src/minnet-client.c"
			],
			[
				"wscli.js",
				"wscli.js"
			],
			[
				"client.c",
				"src/minnet-client.c"
			],
			[
<<<<<<< HEAD
				"request.c",
				"lib/request.c"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"minnet-clie",
				"src/minnet-client.c"
			],
			[
				"test-rpc",
				"test-rpc.js"
			],
			[
				"premake4",
				"premake4.lua"
			],
			[
				"premake5",
				"premake5.lua"
			],
			[
				"premake.l",
				"premake.lua"
			],
			[
				"minnet.h",
				"src/minnet.h"
			],
			[
				"header",
				"lib/headers.c"
			],
			[
<<<<<<< HEAD
				"headers",
				"lib/headers.h"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"session.h",
				"lib/session.h"
			],
			[
				"generator.h",
				"lib/generator.h"
			],
			[
				"generator.c",
				"lib/generator.c"
			],
			[
				"jsut",
				"lib/jsutils.h"
			],
			[
				"minnet-server-ht",
				"src/minnet-server-http.c"
			],
			[
<<<<<<< HEAD
				"jsutils.c",
				"lib/jsutils.c"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"test-client",
				"tests/test-client-http.js"
			],
			[
				"log.js",
				"tests/log.js"
			],
			[
<<<<<<< HEAD
				"server-ht",
				"src/minnet-server-http.c"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"build-lib",
				"build-libwebsockets.sh"
			],
			[
<<<<<<< HEAD
				"server-ws",
				"src/minnet-server-ws.c"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"minnet-client-htt",
				"src/minnet-client-http.c"
			],
			[
				"premake",
				"premake5.lua"
			],
			[
				"server-htt",
				"src/minnet-server-http.c"
			],
			[
				"ref.c",
				"lib/ref.c"
			],
			[
				"utils.c",
				"lib/utils.c"
			],
			[
				"lws-utils",
				"lib/lws-utils.c"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"lws_mirr",
				"libwebsockets/plugins/protocol_lws_mirror.c"
			],
			[
				"server-http.c ",
				"src/minnet-server-http.c"
			],
			[
<<<<<<< HEAD
				"callback",
				"lib/callback.h"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"lws-call",
				"libwebsockets/include/libwebsockets/lws-callbacks.h"
			],
			[
				"lws-write",
				"libwebsockets/include/libwebsockets/lws-write.h"
			],
			[
<<<<<<< HEAD
				"context.h",
				"lib/context.h"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"context.c",
				"lib/context.c"
			],
			[
				"minnet-webso",
				"src/minnet-websocket.c"
			],
			[
				"ws.h",
				"lib/ws.h"
			],
			[
				"lws-util",
				"lib/lws-utils.h"
			],
			[
<<<<<<< HEAD
				"minnet.c",
				"src/minnet.c"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"mirror",
				"libwebsockets/plugins/protocol_lws_mirror.c"
			],
			[
				"minnet-url",
				"src/minnet-url.c"
			],
			[
				"conso",
				"libwebsockets/lib/core-net/socks5-client.c"
			],
			[
				"lws_mi",
				"libwebsockets/plugins/protocol_lws_mirror.c"
			],
			[
				"_mirror",
				"libwebsockets/plugins/protocol_lws_mirror.c"
			],
			[
				"lws_raw_",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				"url.c",
				"lib/url.c"
			],
			[
				"lws-ut",
				"lib/lws-utils.h"
			],
			[
				"server-ws.c",
				"minnet-server-ws.c"
			],
			[
				"minnet-server-ws",
				"minnet-server-ws.c"
			],
			[
				"minnet.js",
				"js/minnet.js"
			],
			[
				"minnet-server-htt",
				"minnet-server-http.c"
			],
			[
				"CMakeLists",
				"CMakeLists.txt"
			],
			[
				"queue.h",
				"lib/queue.h"
			],
			[
				"closure.h",
				"lib/closure.h"
			],
			[
				"test-ge",
				"tests/test-generator.js"
			],
			[
				"minnet-ge",
				"minnet-generator.c"
			],
			[
				"hash.c",
				"minnet-hash.c"
			],
			[
				"minnet-has",
				"minnet-hash.c"
			],
			[
				"server-http",
				"minnet-server-http.c"
			],
			[
				"-ws",
				"minnet-server-ws.c"
			],
			[
				"minnet.cv",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib/mount-origin/strict-csp.svg"
			],
			[
				"-ws.c",
				"minnet-server-ws.c"
			],
			[
				"opaque.h",
				"lib/opaque.h"
			],
			[
				"session",
				"lib/session.h"
			],
			[
				"minnet-web",
				"minnet-websocket.c"
			],
			[
				"client.js",
				"tests/client.js"
			],
			[
				"test-clie",
				"tests/test-client-http.js"
			],
			[
				"test-client-ht",
				"tests/test-client-http.js"
			],
			[
				"test-client-htt",
				"tests/test-client-http.js"
			],
			[
				"-gene",
				"tests/test-generator.js"
			],
			[
				"queue.c",
				"lib/queue.c"
			],
			[
				"respo",
				"lib/response.c"
			],
			[
				"client-htt",
				"minnet-client-http.c"
			],
			[
				"minnet-we",
				"minnet-websocket.c"
			],
			[
<<<<<<< HEAD
				"utils.h",
				"lib/utils.h"
			],
			[
				"headers.h",
				"lib/headers.h"
			],
			[
=======
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
				"lws-htt",
				"libwebsockets/include/libwebsockets/lws-http.h"
			],
			[
				"server-ring",
				"libwebsockets/minimal-examples/ws-server/minimal-ws-server-ring/protocol_lws_minimal.c"
			],
			[
				"sse-",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-sse-ring/minimal-http-server-sse-ring.c"
			],
			[
				"jsuti",
				"lib/jsutils.c"
			],
			[
				"lws-ring.c",
				"libwebsockets/lib/misc/lws-ring.c"
			],
			[
				"lws-ring",
				"libwebsockets/include/libwebsockets/lws-ring.h"
			],
			[
				"sse-ring",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-sse-ring/minimal-http-server-sse-ring.c"
			],
			[
				"ring",
				"lib/ringbuffer.c"
			],
			[
				"lws-rin",
				"libwebsockets/include/libwebsockets/lws-ring.h"
			],
			[
				"test-cli",
				"tests/test-client.js"
			],
			[
				"rpc.js",
				"rpc.js"
			],
			[
				"lws-misc",
				"libwebsockets/include/libwebsockets/lws-misc.h"
			],
			[
				"openssl-tls",
				"libwebsockets/lib/tls/openssl/openssl-tls.c"
			],
			[
				"rpc",
				"rpc.js"
<<<<<<< HEAD
=======
			],
			[
				"callba",
				"lib/callback.h"
			],
			[
				"jsutils.h",
				"lib/jsutils.h"
			],
			[
				"minnet-server-",
				"minnet-server-http.c"
			],
			[
<<<<<<< HEAD
				"buffer.h",
				"lib/buffer.h"
			],
			[
				"buffer.c",
				"lib/buffer.c"
			],
			[
				"server.js",
				"tests/server.js"
			],
			[
				"server-h",
				"minnet-server-http.c"
			],
			[
				"-vhost",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"lws-proto",
				"libwebsockets/include/libwebsockets/lws-protocols-plugins.h"
			],
			[
				"minnet-req",
				"minnet-request.c"
			],
			[
				"minnet-request",
				"minnet-request.h"
			],
			[
				"lws-network",
				"libwebsockets/include/libwebsockets/lws-network-helper.h"
			],
			[
				"-request",
				"minnet-request.c"
			],
			[
				"lws-",
				"libwebsockets/include/libwebsockets/lws-http.h"
			],
			[
				"long",
				"libwebsockets/READMEs/README.h2-long-poll.md"
			],
			[
				"server.c",
				"libwebsockets/lib/roles/http/server/server.c"
			],
			[
				"dummy",
				"libwebsockets/lib/core-net/dummy-callback.c"
			],
			[
				"openssl-clie",
				"libwebsockets/lib/tls/openssl/openssl-client.c"
			],
			[
				"430",
				"libwebsockets/build/x86_64-linux-gnu/include/libwebsockets/lws-ssd1306-i2c.h"
			],
			[
				"minnet-client.c",
				"minnet-client.c"
			],
			[
				"minnet-client",
				"minnet-client.c"
			],
			[
				"ws",
				"wscli.js"
			],
			[
				"client-ht",
				"minnet-client-http.c"
			],
			[
				"413",
				"libwebsockets/build/x86_64-linux-gnu/include/libwebsockets/lws-ssd1306-i2c.h"
			],
			[
				"wsi-time",
				"libwebsockets/lib/core-net/wsi-timeout.c"
			],
			[
				"quickjs.h",
				"~/Projects/plot-cv/quickjs/quickjs.h"
			],
			[
				"upload",
				"upload.html"
			],
			[
				"map.html",
				"map.html"
			],
			[
				"upload-server",
				"upload-server.js"
			],
			[
				"ol-help",
				"ol-helpers.js"
			],
			[
				"object-he",
				"object-helpers.js"
			],
			[
				"ol-map.js",
				"ol-map.js"
=======
				"server-h",
				"minnet-server-http.c"
>>>>>>> 06d6717481a869136ea0eed46ef2c2056541c630
>>>>>>> 742dbe15606f50de0a7c98af6831ef6272f61f6f
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 309.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"WS"
			]
		],
		"width": 592.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 308.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
