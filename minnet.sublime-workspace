{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"lws_get",
				"lws_get_opaque_user_data"
			],
			[
				"JS_Thro",
				"JS_ThrowOutOfMemory"
			],
			[
				"LWS_CALLBACK_FIL",
				"LWS_CALLBACK_HTTP_FILE_COMPLETION"
			],
			[
				"opa",
				"wsi_opaque_user_data"
			],
			[
				"JS_Set",
				"JS_SetPropertyUint32"
			],
			[
				"Minnet",
				"MinnetSession"
			],
			[
				"OPENSSL_LIB",
				"OPENSSL_LIBRARY_DIR"
			],
			[
				"OPENSSL",
				"OPENSSL_LIBRARY_DIR"
			],
			[
				"lws_conte",
				"lws_context_creation_info"
			],
			[
				"lws_con",
				"lws_context_creation_info"
			],
			[
				"lws_proto",
				"lws_protocol_vhost_options"
			],
			[
				"lws_",
				"lws_protocol_vhost_options"
			],
			[
				"CMAKE_C",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"CMAKE_CU",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"OPENSSL_",
				"OPENSSL_LIBRARIES"
			],
			[
				"server_ssl_ca",
				"server_ssl_ca_mem_len"
			],
			[
				"server_ssl_pr",
				"server_ssl_private_key_mem_len"
			],
			[
				"LIBWE",
				"LIBWEBSOCKETS_LIBRARIES"
			],
			[
				"LIBWEBSOCKE",
				"LIBWEBSOCKETS_LIBRARY_DIR"
			],
			[
				"LIBW",
				"LIBWEBSOCKETS_DIR"
			],
			[
				"LIBWEB",
				"LIBWEBSOCKETS_FOUND"
			],
			[
				"_",
				"add_library"
			],
			[
				"BUILD_",
				"BUILD_LIBWEBSOCKETS"
			],
			[
				"eleme",
				"element_len"
			],
			[
				"JS_Throw",
				"JS_ThrowOutOfMemory"
			],
			[
				"MinnetCa",
				"MinnetCallbacks"
			],
			[
				"JS_T",
				"JS_ThrowTypeError"
			],
			[
				"client_closu",
				"client_closure_dup"
			],
			[
				"minnet_",
				"minnet_client_closure"
			],
			[
				"fetch",
				"fetch_closure_dup"
			],
			[
				"client_cl",
				"client_closure_new"
			],
			[
				"client_closure",
				"client_closure_free"
			],
			[
				"error",
				"error_closure"
			],
			[
				"fet",
				"fetch_closure"
			],
			[
				"JS_PROP_",
				"JS_PROP_CONFIGURABLE"
			],
			[
				"LWS_CALLBACK_RAW_",
				"LWS_CALLBACK_RAW_CONNECTED"
			],
			[
				"exp",
				"expected"
			],
			[
				"getOwn",
				"getOwnPropertyNames(...)"
			],
			[
				"define",
				"defineProperty(...)"
			],
			[
				"PROTOCOL",
				"PROTOCOL_HTTP"
			],
			[
				"Minn",
				"MinnetResponse"
			],
			[
				"min",
				"minnet_url_proto_funcs"
			],
			[
				"LWS_CALL",
				"LWS_CALLBACK_PROTOCOL_INIT"
			],
			[
				"js_mall",
				"js_mallocz"
			],
			[
				"JS_FreeV",
				"JS_FreeValueRT"
			],
			[
				"vhost_",
				"vhost_options_create"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"CURL",
				"CURL_LIBRARY"
			],
			[
				"LI",
				"LIBWEBSOCKETS_LIBRARY_DIR"
			],
			[
				"target_link_",
				"target_link_directories"
			],
			[
				"CURL_",
				"CURL_LIBRARY_DEBUG"
			],
			[
				"minnet",
				"minnet_client_lws"
			],
			[
				"JS_To",
				"JS_ToCString"
			],
			[
				"JS_GetP",
				"JS_GetPropertyUint32"
			],
			[
				"OP",
				"OPENSSL_LIBRARY_DIR"
			],
			[
				"Content",
				"Content-Disposition"
			],
			[
				"MBED",
				"MBEDTLS_LIBRARY_DIR"
			],
			[
				"LIBWEBSO",
				"LIBWEBSOCKETS_LIBRARY_DIR"
			],
			[
				"CMAKE_",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"opt_P",
				"opt_private_key"
			],
			[
				"JS_FRee",
				"JS_FreeValue"
			],
			[
				"LWS_WR",
				"LWS_WRITE_HTTP_FINAL"
			],
			[
				"MBEDTLS_LIB",
				"MBEDTLS_LIBRARY_DIR"
			],
			[
				"curl_mul",
				"curl_multi_cleanup"
			],
			[
				"LWS_CALLBACK_",
				"LWS_CALLBACK_HTTP_WRITEABLE"
			],
			[
				"Event",
				"EventTarget"
			],
			[
				"http_",
				"http_response"
			],
			[
				"STREAM",
				"STREAM_TEXT"
			],
			[
				"moun",
				"mountpoint_len"
			],
			[
				"ori",
				"origin_protocol"
			],
			[
				"mount",
				"mountpoint_len"
			],
			[
				"LWS",
				"LWSMPRO_CALLBACK"
			],
			[
				"JS_Th",
				"JS_ThrowOutOfMemory"
			],
			[
				"minnet_request",
				"minnet_request_class_id"
			],
			[
				"break",
				"stringBreakNewline"
			],
			[
				"sy",
				"syntaxerror_ctor"
			],
			[
				"child_pr",
				"child_process_proto"
			],
			[
				"JS_SetProp",
				"JS_SetPropertyUint32"
			],
			[
				"targtet_",
				"target_compile_definitions"
			],
			[
				"jsm_module",
				"jsm_module_loader_so"
			],
			[
				"base",
				"base_name"
			],
			[
				"ATOM",
				"ATOM_TO_VALUE"
			],
			[
				"prop",
				"propenum_tab"
			],
			[
				"js_loca",
				"js_location_data"
			],
			[
				"loca",
				"location_proto"
			],
			[
				"JS_SetP",
				"JS_SetPropertyUint32"
			],
			[
				"HAVE_QUI",
				"HAVE_QUICKJS_LIBRARY"
			],
			[
				"jsm_load",
				"jsm_load_packages_json"
			],
			[
				"js_sy",
				"js_syntaxerror_class_id"
			],
			[
				"synta",
				"syntaxerror_proto"
			],
			[
				"property_",
				"property_enumeration_key"
			],
			[
				"jsm_mo",
				"jsm_module_loader_path"
			],
			[
				"inspe",
				"inspect_custom_node"
			],
			[
				"inspect",
				"inspect_custom_node"
			],
			[
				"property",
				"property_enumeration_circular"
			],
			[
				"Reg",
				"RegExpCompare"
			],
			[
				"property_enum",
				"property_enumeration_length"
			],
			[
				"Opera",
				"OperatorsObjects"
			],
			[
				"else",
				"elseif"
			],
			[
				"ABC",
				"ABCDEF"
			]
		]
	},
	"buffers":
	[
		{
			"contents": "",
			"settings":
			{
				"buffer_size": 0,
				"line_ending": "Unix",
				"name": "𝌆 Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
					1306,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8733,
								8741
							],
							[
								8938,
								8950
							],
							[
								9686,
								9696
							],
							[
								10761,
								10776
							],
							[
								11164,
								11171
							],
							[
								11324,
								11338
							],
							[
								11534,
								11548
							],
							[
								12363,
								12377
							],
							[
								13932,
								13949
							],
							[
								14380,
								14395
							],
							[
								14715,
								14733
							],
							[
								15674,
								15696
							],
							[
								16551,
								16571
							],
							[
								17709,
								17724
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1307,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8733,
								8741
							],
							[
								8938,
								8950
							],
							[
								9686,
								9696
							],
							[
								10761,
								10776
							],
							[
								11164,
								11171
							],
							[
								11324,
								11338
							],
							[
								11534,
								11548
							],
							[
								12363,
								12377
							],
							[
								13932,
								13949
							],
							[
								14380,
								14395
							],
							[
								14715,
								14733
							],
							[
								15674,
								15696
							],
							[
								16551,
								16571
							],
							[
								17709,
								17724
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1308,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8733,
								8741
							],
							[
								8938,
								8950
							],
							[
								9686,
								9696
							],
							[
								10761,
								10776
							],
							[
								11164,
								11171
							],
							[
								11324,
								11338
							],
							[
								11534,
								11548
							],
							[
								12363,
								12377
							],
							[
								13932,
								13949
							],
							[
								14380,
								14395
							],
							[
								14715,
								14733
							],
							[
								15674,
								15696
							],
							[
								16551,
								16571
							],
							[
								17709,
								17724
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1309,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8801,
								8809
							],
							[
								9006,
								9018
							],
							[
								9754,
								9764
							],
							[
								10829,
								10844
							],
							[
								11232,
								11239
							],
							[
								11392,
								11406
							],
							[
								11602,
								11616
							],
							[
								12431,
								12445
							],
							[
								14000,
								14017
							],
							[
								14448,
								14463
							],
							[
								14783,
								14801
							],
							[
								15742,
								15764
							],
							[
								16619,
								16639
							],
							[
								17777,
								17792
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1310,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8836,
								8844
							],
							[
								9041,
								9053
							],
							[
								9789,
								9799
							],
							[
								10864,
								10879
							],
							[
								11267,
								11274
							],
							[
								11427,
								11441
							],
							[
								11637,
								11651
							],
							[
								12466,
								12480
							],
							[
								14035,
								14052
							],
							[
								14483,
								14498
							],
							[
								14818,
								14836
							],
							[
								15777,
								15799
							],
							[
								16654,
								16674
							],
							[
								17812,
								17827
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1311,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8899,
								8907
							],
							[
								9104,
								9116
							],
							[
								9852,
								9862
							],
							[
								10927,
								10942
							],
							[
								11330,
								11337
							],
							[
								11490,
								11504
							],
							[
								11700,
								11714
							],
							[
								12529,
								12543
							],
							[
								14098,
								14115
							],
							[
								14546,
								14561
							],
							[
								14881,
								14899
							],
							[
								15840,
								15862
							],
							[
								16717,
								16737
							],
							[
								17875,
								17890
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1312,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
						"symkeys":
						[
							[
								29,
								41
							],
							[
								282,
								296
							],
							[
								314,
								329
							],
							[
								356,
								371
							],
							[
								398,
								419
							],
							[
								442,
								457
							],
							[
								578,
								587
							],
							[
								605,
								620
							],
							[
								647,
								662
							],
							[
								689,
								710
							],
							[
								733,
								748
							],
							[
								771,
								779
							],
							[
								868,
								877
							],
							[
								926,
								936
							],
							[
								970,
								979
							],
							[
								1019,
								1029
							],
							[
								1067,
								1077
							],
							[
								1101,
								1109
							],
							[
								1140,
								1151
							],
							[
								1182,
								1190
							],
							[
								1248,
								1260
							],
							[
								1303,
								1312
							],
							[
								1336,
								1347
							],
							[
								1392,
								1405
							],
							[
								1450,
								1461
							],
							[
								1505,
								1513
							],
							[
								1561,
								1577
							],
							[
								1622,
								1634
							],
							[
								1667,
								1677
							],
							[
								1713,
								1728
							],
							[
								1765,
								1772
							],
							[
								1794,
								1808
							],
							[
								1841,
								1858
							],
							[
								1931,
								1946
							],
							[
								2003,
								2025
							],
							[
								2083,
								2098
							],
							[
								2205,
								2213
							],
							[
								2278,
								2287
							],
							[
								2374,
								2386
							],
							[
								2478,
								2485
							],
							[
								2565,
								2574
							],
							[
								2845,
								2853
							],
							[
								3105,
								3115
							],
							[
								3224,
								3239
							],
							[
								3295,
								3310
							],
							[
								3408,
								3424
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_URL_H … — macro object",
							" Ⓣ  MinnetProtocol ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							" Ⓣ  MinnetURL ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– url_path ( ) { … } — function",
							"—Ⓕ– url_valid ( ) { … } — function",
							"—Ⓕ– url_protocol ( ) { … } — function",
							"—Ⓕ– url_dup ( ) { … } — function",
							"—Ⓕ– url_clone ( ) { … } — function",
							"—Ⓕ– url_copy ( ) { … } — function",
							"—Ⓕ– url_string ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– minnet_url_data ( ) { … } — function",
							"—Ⓕ– minnet_url_data2 ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAM4GAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1313,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
						"symkeys":
						[
							[
								29,
								41
							],
							[
								282,
								296
							],
							[
								314,
								329
							],
							[
								356,
								371
							],
							[
								398,
								419
							],
							[
								442,
								457
							],
							[
								578,
								587
							],
							[
								606,
								621
							],
							[
								651,
								666
							],
							[
								699,
								720
							],
							[
								753,
								768
							],
							[
								801,
								809
							],
							[
								908,
								917
							],
							[
								971,
								981
							],
							[
								1023,
								1032
							],
							[
								1081,
								1091
							],
							[
								1137,
								1147
							],
							[
								1181,
								1189
							],
							[
								1230,
								1241
							],
							[
								1282,
								1298
							],
							[
								1340,
								1348
							],
							[
								1415,
								1427
							],
							[
								1473,
								1482
							],
							[
								1516,
								1527
							],
							[
								1582,
								1595
							],
							[
								1650,
								1661
							],
							[
								1715,
								1723
							],
							[
								1771,
								1783
							],
							[
								1825,
								1835
							],
							[
								1878,
								1893
							],
							[
								1934,
								1941
							],
							[
								1970,
								1984
							],
							[
								2024,
								2041
							],
							[
								2121,
								2136
							],
							[
								2205,
								2223
							],
							[
								2292,
								2314
							],
							[
								2383,
								2398
							],
							[
								2506,
								2514
							],
							[
								2579,
								2588
							],
							[
								2675,
								2687
							],
							[
								2779,
								2786
							],
							[
								2866,
								2875
							],
							[
								3146,
								3154
							],
							[
								3406,
								3416
							],
							[
								3525,
								3540
							],
							[
								3596,
								3611
							],
							[
								3709,
								3725
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_URL_H … — macro object",
							" Ⓣ  MinnetProtocol ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							" Ⓣ  MinnetURL ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– url_path ( ) { … } — function",
							"—Ⓕ– url_valid ( ) { … } — function",
							"—Ⓕ– url_protocol ( ) { … } — function",
							"—Ⓕ– url_dup ( ) { … } — function",
							"—Ⓕ– url_clone ( ) { … } — function",
							"—Ⓕ– url_copy ( ) { … } — function",
							"—Ⓕ– url_string ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– minnet_url_data ( ) { … } — function",
							"—Ⓕ– minnet_url_data2 ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAACKCAAAICDik4IgIE1JTk5FVF9VUkxfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJvdG9jb2wgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcHJvdG9jb2xfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfZGVmYXVsdF9wb3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfaXNfdGxzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0VVJMIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3RvY29sX251bWJlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhcnNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbmZvICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xvY2F0aW9uICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3F1ZXJ5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb21vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXZhbHVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb213c2kgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZXRfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhdGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NvcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPoGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADACAAAICDik4IgIE1JTk5FVF9VUkxfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJvdG9jb2wgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcHJvdG9jb2xfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfZGVmYXVsdF9wb3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfaXNfdGxzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0VVJMIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3RvY29sX251bWJlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhcnNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZXRfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2luc3BlY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhdGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NvcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPoGAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1314,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
						"symkeys":
						[
							[
								29,
								41
							],
							[
								282,
								296
							],
							[
								314,
								329
							],
							[
								356,
								371
							],
							[
								398,
								419
							],
							[
								442,
								457
							],
							[
								578,
								587
							],
							[
								606,
								621
							],
							[
								651,
								666
							],
							[
								699,
								720
							],
							[
								753,
								768
							],
							[
								801,
								809
							],
							[
								908,
								917
							],
							[
								971,
								981
							],
							[
								1023,
								1032
							],
							[
								1081,
								1091
							],
							[
								1137,
								1147
							],
							[
								1181,
								1189
							],
							[
								1230,
								1241
							],
							[
								1282,
								1298
							],
							[
								1340,
								1348
							],
							[
								1415,
								1427
							],
							[
								1473,
								1482
							],
							[
								1516,
								1527
							],
							[
								1582,
								1595
							],
							[
								1650,
								1661
							],
							[
								1715,
								1723
							],
							[
								1771,
								1783
							],
							[
								1825,
								1835
							],
							[
								1878,
								1893
							],
							[
								1934,
								1941
							],
							[
								1970,
								1984
							],
							[
								2024,
								2041
							],
							[
								2121,
								2136
							],
							[
								2205,
								2223
							],
							[
								2292,
								2314
							],
							[
								2383,
								2398
							],
							[
								2506,
								2514
							],
							[
								2579,
								2588
							],
							[
								2675,
								2687
							],
							[
								2779,
								2786
							],
							[
								2866,
								2875
							],
							[
								3146,
								3154
							],
							[
								3406,
								3416
							],
							[
								3525,
								3540
							],
							[
								3596,
								3611
							],
							[
								3709,
								3725
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_URL_H … — macro object",
							" Ⓣ  MinnetProtocol ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							" Ⓣ  MinnetURL ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– url_path ( ) { … } — function",
							"—Ⓕ– url_valid ( ) { … } — function",
							"—Ⓕ– url_protocol ( ) { … } — function",
							"—Ⓕ– url_dup ( ) { … } — function",
							"—Ⓕ– url_clone ( ) { … } — function",
							"—Ⓕ– url_copy ( ) { … } — function",
							"—Ⓕ– url_string ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– minnet_url_data ( ) { … } — function",
							"—Ⓕ– minnet_url_data2 ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADACAAAICDik4IgIE1JTk5FVF9VUkxfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJvdG9jb2wgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcHJvdG9jb2xfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfZGVmYXVsdF9wb3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfaXNfdGxzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0VVJMIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3RvY29sX251bWJlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhcnNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZXRfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2luc3BlY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhdGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NvcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPoGAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1315,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADACAAAICDik4IgIE1JTk5FVF9VUkxfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJvdG9jb2wgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcHJvdG9jb2xfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfZGVmYXVsdF9wb3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfaXNfdGxzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0VVJMIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3RvY29sX251bWJlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhcnNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZXRfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2luc3BlY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhdGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NvcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAH4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1316,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-proxy.h",
						"symkeys":
						[
							[
								38,
								59
							],
							[
								309,
								330
							],
							[
								337,
								361
							],
							[
								392,
								416
							],
							[
								491,
								516
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_SERVER_PROXY_H … — macro object",
							" Ⓣ  MinnetProxyConnection ; — typedef",
							"—Ⓕ– proxy_ws_raw_msg_destroy ( ) { … } — function",
							"—Ⓕ– callback_proxy_ws_server ( ) { … } — function",
							"—Ⓕ– callback_proxy_raw_client ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAADpAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1317,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAARAQAAICDik4IgIE1JTk5FVF9TRVJWRVJfUFJPWFlfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJveHlDb25uZWN0aW9uIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3h5X3dzX3Jhd19tc2dfZGVzdHJveSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNhbGxiYWNrX3Byb3h5X3dzX3NlcnZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGNhbGxiYWNrX3Byb3h5X3Jhd19jbGllbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAB+AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1318,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
								190,
								203
							],
							[
								227,
								240
							],
							[
								397,
								410
							],
							[
								418,
								432
							],
							[
								493,
								505
							],
							[
								546,
								558
							],
							[
								620,
								631
							],
							[
								696,
								707
							],
							[
								740,
								755
							],
							[
								798,
								813
							],
							[
								855,
								870
							],
							[
								910,
								922
							],
							[
								945,
								958
							],
							[
								993,
								1009
							],
							[
								1044,
								1056
							],
							[
								1091,
								1106
							],
							[
								1151,
								1163
							],
							[
								1216,
								1235
							],
							[
								1288,
								1314
							],
							[
								1376,
								1394
							],
							[
								1445,
								1464
							],
							[
								1808,
								1827
							],
							[
								1933,
								1953
							],
							[
								2072,
								2093
							],
							[
								2668,
								2679
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_REQUEST_H … — macro object",
							"—Ⓕ– method_string ( ) { … } — function",
							"—Ⓕ– method_number ( ) { … } — function",
							" Ⓣ  MinnetRequest ; — typedef",
							"—Ⓕ– request_format ( ) { … } — function",
							"—Ⓕ– request_dump ( ) { … } — function",
							"—Ⓕ– request_init ( ) { … } — function",
							"—Ⓕ– request_new ( ) { … } — function",
							"—Ⓕ– request_dup ( ) { … } — function",
							"—Ⓕ– request_fromobj ( ) { … } — function",
							"—Ⓕ– request_fromwsi ( ) { … } — function",
							"—Ⓕ– request_fromurl ( ) { … } — function",
							"—Ⓕ– request_zero ( ) { … } — function",
							"—Ⓕ– request_clear ( ) { … } — function",
							"—Ⓕ– request_clear_rt ( ) { … } — function",
							"—Ⓕ– request_free ( ) { … } — function",
							"—Ⓕ– request_free_rt ( ) { … } — function",
							"—Ⓕ– request_from ( ) { … } — function",
							"—Ⓕ– minnet_request_from ( ) { … } — function",
							"—Ⓕ– minnet_request_constructor ( ) { … } — function",
							"—Ⓕ– minnet_request_new ( ) { … } — function",
							"—Ⓕ– minnet_request_wrap ( ) { … } — function",
							"—Ⓕ– minnet_request_data ( ) { … } — function",
							"—Ⓕ– minnet_request_data2 ( ) { … } — function",
							"—Ⓕ– minnet_uri_and_method ( ) { … } — function",
							"—Ⓕ– method_name ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAhBAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1319,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAbBQAAICDik4IgIE1JTk5FVF9SRVFVRVNUX0gg4oCmIOKAlCBtYWNybyBvYmplY3QK4oCU4pK74oCTIG1ldGhvZF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtZXRob2RfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0UmVxdWVzdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyByZXF1ZXN0X2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9kdXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb21vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb213c2kgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb211cmwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9jbGVhcl9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X3dyYXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZGF0YTIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJpX2FuZF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtZXRob2RfbmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAH4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1320,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAB+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnAAAAOKAlOKSu+KAkyBodHRwX3NlcnZlcl9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX3B0ciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAfgAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1321,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8933,
								8941
							],
							[
								9138,
								9150
							],
							[
								9886,
								9896
							],
							[
								10961,
								10976
							],
							[
								11364,
								11371
							],
							[
								11524,
								11538
							],
							[
								11734,
								11748
							],
							[
								12563,
								12577
							],
							[
								14132,
								14149
							],
							[
								14580,
								14595
							],
							[
								14915,
								14933
							],
							[
								15874,
								15896
							],
							[
								16751,
								16771
							],
							[
								17909,
								17924
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAgBQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1322,
					3,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8933,
								8941
							],
							[
								9138,
								9150
							],
							[
								9886,
								9896
							],
							[
								10961,
								10976
							],
							[
								11364,
								11371
							],
							[
								11524,
								11538
							],
							[
								11734,
								11748
							],
							[
								12563,
								12577
							],
							[
								14132,
								14149
							],
							[
								14580,
								14595
							],
							[
								14915,
								14933
							],
							[
								15874,
								15896
							],
							[
								16751,
								16771
							],
							[
								17909,
								17924
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"BgAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1323,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
						"symkeys":
						[
							[
								29,
								41
							],
							[
								282,
								296
							],
							[
								314,
								329
							],
							[
								356,
								371
							],
							[
								398,
								419
							],
							[
								442,
								457
							],
							[
								578,
								587
							],
							[
								605,
								620
							],
							[
								647,
								662
							],
							[
								689,
								710
							],
							[
								733,
								748
							],
							[
								771,
								779
							],
							[
								868,
								877
							],
							[
								926,
								936
							],
							[
								970,
								979
							],
							[
								1019,
								1029
							],
							[
								1067,
								1077
							],
							[
								1101,
								1109
							],
							[
								1140,
								1151
							],
							[
								1192,
								1208
							],
							[
								1240,
								1248
							],
							[
								1306,
								1318
							],
							[
								1361,
								1370
							],
							[
								1394,
								1405
							],
							[
								1450,
								1463
							],
							[
								1508,
								1519
							],
							[
								1563,
								1571
							],
							[
								1612,
								1624
							],
							[
								1657,
								1667
							],
							[
								1703,
								1718
							],
							[
								1755,
								1762
							],
							[
								1784,
								1798
							],
							[
								1831,
								1848
							],
							[
								1921,
								1936
							],
							[
								1998,
								2016
							],
							[
								2078,
								2100
							],
							[
								2158,
								2173
							],
							[
								2280,
								2288
							],
							[
								2353,
								2362
							],
							[
								2449,
								2461
							],
							[
								2553,
								2560
							],
							[
								2640,
								2649
							],
							[
								2920,
								2928
							],
							[
								3180,
								3190
							],
							[
								3299,
								3314
							],
							[
								3370,
								3385
							],
							[
								3483,
								3499
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_URL_H … — macro object",
							" Ⓣ  MinnetProtocol ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							" Ⓣ  MinnetURL ; — typedef",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– url_path ( ) { … } — function",
							"—Ⓕ– url_valid ( ) { … } — function",
							"—Ⓕ– url_protocol ( ) { … } — function",
							"—Ⓕ– url_dup ( ) { … } — function",
							"—Ⓕ– url_clone ( ) { … } — function",
							"—Ⓕ– url_copy ( ) { … } — function",
							"—Ⓕ– url_string ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function",
							"—Ⓕ– minnet_url_data ( ) { … } — function",
							"—Ⓕ– minnet_url_data2 ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAPoGAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1324,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
						"symkeys":
						[
							[
								116,
								123
							],
							[
								605,
								620
							],
							[
								811,
								826
							],
							[
								971,
								992
							],
							[
								1221,
								1236
							],
							[
								1422,
								1430
							],
							[
								1828,
								1837
							],
							[
								2588,
								2598
							],
							[
								2722,
								2731
							],
							[
								3608,
								3618
							],
							[
								4447,
								4457
							],
							[
								4801,
								4809
							],
							[
								4979,
								4990
							],
							[
								5173,
								5189
							],
							[
								5331,
								5339
							],
							[
								6724,
								6736
							],
							[
								6934,
								6943
							],
							[
								7152,
								7163
							],
							[
								7908,
								7921
							],
							[
								8337,
								8348
							],
							[
								8933,
								8941
							],
							[
								9138,
								9150
							],
							[
								9886,
								9896
							],
							[
								10961,
								10976
							],
							[
								11364,
								11371
							],
							[
								11524,
								11538
							],
							[
								11734,
								11748
							],
							[
								12563,
								12577
							],
							[
								14132,
								14149
							],
							[
								14580,
								14595
							],
							[
								14915,
								14933
							],
							[
								15874,
								15896
							],
							[
								16751,
								16771
							],
							[
								17909,
								17924
							]
						],
						"symlist":
						[
							"—Ⓕ– strlcpy ( ) { … } — function",
							"—Ⓕ– protocol_number ( ) { … } — function",
							"—Ⓕ– protocol_string ( ) { … } — function",
							"—Ⓕ– protocol_default_port ( ) { … } — function",
							"—Ⓕ– protocol_is_tls ( ) { … } — function",
							"—Ⓕ– url_init ( ) { … } — function",
							"—Ⓕ– url_parse ( ) { … } — function",
							"—Ⓕ– url_create ( ) { … } — function",
							"—Ⓕ– url_print ( ) { … } — function",
							"—Ⓕ– url_format ( ) { … } — function",
							"—Ⓕ– url_length ( ) { … } — function",
							"—Ⓕ– url_free ( ) { … } — function",
							"—Ⓕ– url_free_rt ( ) { … } — function",
							"—Ⓕ– url_set_protocol ( ) { … } — function",
							"—Ⓕ– url_info ( ) { … } — function",
							"—Ⓕ– url_location ( ) { … } — function",
							"—Ⓕ– url_query ( ) { … } — function",
							"—Ⓕ– url_fromobj ( ) { … } — function",
							"—Ⓕ– url_fromvalue ( ) { … } — function",
							"—Ⓕ– url_fromwsi ( ) { … } — function",
							"—Ⓕ– url_dump ( ) { … } — function",
							"—Ⓕ– query_object ( ) { … } — function",
							"—Ⓕ– query_from ( ) { … } — function",
							"—Ⓕ– minnet_url_wrap ( ) { … } — function",
							"—Ⓕ– url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_new ( ) { … } — function",
							"—Ⓕ– minnet_url_get ( ) { … } — function",
							"—Ⓕ– minnet_url_set ( ) { … } — function",
							"—Ⓕ– minnet_url_method ( ) { … } — function",
							"—Ⓕ– minnet_url_from ( ) { … } — function",
							"—Ⓕ– minnet_url_inspect ( ) { … } — function",
							"—Ⓕ– minnet_url_constructor ( ) { … } — function",
							"—Ⓕ– minnet_url_finalizer ( ) { … } — function",
							"—Ⓕ– minnet_url_init ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADACAAAICDik4IgIE1JTk5FVF9VUkxfSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTiSAgTWlubmV0UHJvdG9jb2wgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcHJvdG9jb2xfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfZGVmYXVsdF9wb3J0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcHJvdG9jb2xfaXNfdGxzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0VVJMIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHByb3RvY29sX251bWJlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2RlZmF1bHRfcG9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHByb3RvY29sX2lzX3RscyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhcnNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NyZWF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wcmludCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mb3JtYXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9zZXRfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5mbyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9sb2NhdGlvbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9xdWVyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tb2JqICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Zyb212YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBxdWVyeV9mcm9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF93cmFwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2luc3BlY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX3BhdGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfdmFsaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJvdG9jb2wgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2NvcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9kYXRhMiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAACAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1325,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB0BgAA4oCU4pK74oCTIHN0cmxjcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9udW1iZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9kZWZhdWx0X3BvcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwcm90b2NvbF9pc190bHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9jcmVhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcHJpbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZm9ybWF0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfc2V0X3Byb3RvY29sICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdXJsX2luZm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfbG9jYXRpb24gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfcXVlcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbW9iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9mcm9tdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB1cmxfZnJvbXdzaSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9kdW1wICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcXVlcnlfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHVybF9uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3VybF9zZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5zcGVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfY29uc3RydWN0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJsX2ZpbmFsaXplciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF91cmxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAH4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1326,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAB+AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1327,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
						"symkeys":
						[
							[
								166,
								186
							],
							[
								257,
								275
							],
							[
								300,
								311
							]
						],
						"symlist":
						[
							"—Ⓕ– http_server_callback ( ) { … } — function",
							"—Ⓕ– lws_hdr_simple_ptr ( ) { … } — function",
							"—Ⓕ– ws_callback ( ) { … } — function"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAB+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnAAAAOKAlOKSu+KAkyBodHRwX3NlcnZlcl9jYWxsYmFjayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19oZHJfc2ltcGxlX3B0ciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAfgAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1328,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcAAAA4oCU4pK74oCTIGh0dHBfc2VydmVyX2NhbGxiYWNrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbHdzX2hkcl9zaW1wbGVfcHRyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2FsbGJhY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1329,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-write.h",
						"symkeys":
						[
							[
								1357,
								1370
							],
							[
								1434,
								1447
							],
							[
								1510,
								1523
							],
							[
								1598,
								1606
							],
							[
								1731,
								1738
							],
							[
								1832,
								1859
							],
							[
								1876,
								1904
							],
							[
								1916,
								1929
							],
							[
								2095,
								2113
							],
							[
								4228,
								4246
							],
							[
								4257,
								4260
							],
							[
								8776,
								8785
							],
							[
								8930,
								8944
							],
							[
								9453,
								9471
							],
							[
								10160,
								10189
							]
						],
						"symlist":
						[
							" Ⓜ  LWS_SIZEOFPTR … — macro object",
							" Ⓜ  _LWS_PAD_SIZE … — macro object",
							" Ⓜ  _LWS_PAD_SIZE … — macro object",
							"—Ⓜ– _LWS_PAD ( ) … — macro function",
							" Ⓜ  LWS_PRE … — macro object",
							" Ⓜ  LWS_SEND_BUFFER_PRE_PADDING … — macro object",
							" Ⓜ  LWS_SEND_BUFFER_POST_PADDING … — macro object",
							" Ⓜ  LWS_WRITE_RAW … — macro object",
							"lws_write_protocol",
							"lws_write_passthru",
							"lws",
							"—Ⓕ– lws_write ( ) { … } — function",
							"—Ⓜ– lws_write_http ( ) … — macro function",
							"—Ⓕ– lws_write_ws_flags ( ) { … } — function",
							"—Ⓕ– lws_raw_transaction_completed ( ) { … } — function"
						]
					},
					"AQAAAAAAAAAAAAAAFgIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1330,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAByAgAAICDik4IgIExXU19TSVpFT0ZQVFIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIF9MV1NfUEFEX1NJWkUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIF9MV1NfUEFEX1NJWkUg4oCmIOKAlCBtYWNybyBvYmplY3QK4oCU4pOC4oCTIF9MV1NfUEFEICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCiAg4pOCICBMV1NfUFJFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBMV1NfU0VORF9CVUZGRVJfUFJFX1BBRERJTkcg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19TRU5EX0JVRkZFUl9QT1NUX1BBRERJTkcg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19XUklURV9SQVcg4oCmIOKAlCBtYWNybyBvYmplY3QKICBsd3Nfd3JpdGVfcHJvdG9jb2wKICBsd3Nfd3JpdGVfcGFzc3RocnUKICBsd3MK4oCU4pK74oCTIGx3c193cml0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pOC4oCTIGx3c193cml0ZV9odHRwICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBsd3Nfd3JpdGVfd3NfZmxhZ3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBsd3NfcmF3X3RyYW5zYWN0aW9uX2NvbXBsZXRlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1331,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-write.h",
						"symkeys":
						[
							[
								1357,
								1370
							],
							[
								1434,
								1447
							],
							[
								1510,
								1523
							],
							[
								1598,
								1606
							],
							[
								1731,
								1738
							],
							[
								1832,
								1859
							],
							[
								1876,
								1904
							],
							[
								1916,
								1929
							],
							[
								2095,
								2113
							],
							[
								4228,
								4246
							],
							[
								4257,
								4260
							],
							[
								8776,
								8785
							],
							[
								8930,
								8944
							],
							[
								9453,
								9471
							],
							[
								10160,
								10189
							]
						],
						"symlist":
						[
							" Ⓜ  LWS_SIZEOFPTR … — macro object",
							" Ⓜ  _LWS_PAD_SIZE … — macro object",
							" Ⓜ  _LWS_PAD_SIZE … — macro object",
							"—Ⓜ– _LWS_PAD ( ) … — macro function",
							" Ⓜ  LWS_PRE … — macro object",
							" Ⓜ  LWS_SEND_BUFFER_PRE_PADDING … — macro object",
							" Ⓜ  LWS_SEND_BUFFER_POST_PADDING … — macro object",
							" Ⓜ  LWS_WRITE_RAW … — macro object",
							"lws_write_protocol",
							"lws_write_passthru",
							"lws",
							"—Ⓕ– lws_write ( ) { … } — function",
							"—Ⓜ– lws_write_http ( ) … — macro function",
							"—Ⓕ– lws_write_ws_flags ( ) { … } — function",
							"—Ⓕ– lws_raw_transaction_completed ( ) { … } — function"
						]
					},
					"AQAAAAAAAAAAAAAAFgIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1332,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.c.orig",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAByAgAAICDik4IgIExXU19TSVpFT0ZQVFIg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIF9MV1NfUEFEX1NJWkUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIF9MV1NfUEFEX1NJWkUg4oCmIOKAlCBtYWNybyBvYmplY3QK4oCU4pOC4oCTIF9MV1NfUEFEICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCiAg4pOCICBMV1NfUFJFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBMV1NfU0VORF9CVUZGRVJfUFJFX1BBRERJTkcg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19TRU5EX0JVRkZFUl9QT1NUX1BBRERJTkcg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIExXU19XUklURV9SQVcg4oCmIOKAlCBtYWNybyBvYmplY3QKICBsd3Nfd3JpdGVfcHJvdG9jb2wKICBsd3Nfd3JpdGVfcGFzc3RocnUKICBsd3MK4oCU4pK74oCTIGx3c193cml0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pOC4oCTIGx3c193cml0ZV9odHRwICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBsd3Nfd3JpdGVfd3NfZmxhZ3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBsd3NfcmF3X3RyYW5zYWN0aW9uX2NvbXBsZXRlZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1333,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.c",
						"symkeys":
						[
							[
								807,
								820
							],
							[
								1203,
								1209
							],
							[
								1661,
								1675
							],
							[
								2297,
								2308
							],
							[
								2418,
								2429
							],
							[
								2854,
								2862
							],
							[
								2949,
								2959
							],
							[
								3088,
								3095
							],
							[
								3233,
								3239
							],
							[
								3327,
								3337
							],
							[
								3636,
								3646
							],
							[
								4513,
								4527
							],
							[
								4761,
								4778
							],
							[
								5355,
								5369
							],
							[
								6429,
								6446
							],
							[
								8105,
								8119
							],
							[
								8763,
								8777
							],
							[
								9421,
								9436
							],
							[
								10597,
								10610
							],
							[
								13146,
								13159
							],
							[
								13506,
								13527
							],
							[
								14711,
								14730
							]
						],
						"symlist":
						[
							"—Ⓕ– minnet_ws_new ( ) { … } — function",
							"—Ⓕ– ws_new ( ) { … } — function",
							"—Ⓕ– opaque_free_rt ( ) { … } — function",
							"—Ⓕ– opaque_free ( ) { … } — function",
							"—Ⓕ– ws_clear_rt ( ) { … } — function",
							"—Ⓕ– ws_clear ( ) { … } — function",
							"—Ⓕ– ws_free_rt ( ) { … } — function",
							"—Ⓕ– ws_free ( ) { … } — function",
							"—Ⓕ– ws_dup ( ) { … } — function",
							"—Ⓕ– opaque_new ( ) { … } — function",
							"—Ⓕ– lws_opaque ( ) { … } — function",
							"—Ⓕ– minnet_ws_wrap ( ) { … } — function",
							"—Ⓕ– minnet_ws_fromwsi ( ) { … } — function",
							"—Ⓕ– minnet_ws_send ( ) { … } — function",
							"—Ⓕ– minnet_ws_respond ( ) { … } — function",
							"—Ⓕ– minnet_ws_ping ( ) { … } — function",
							"—Ⓕ– minnet_ws_pong ( ) { … } — function",
							"—Ⓕ– minnet_ws_close ( ) { … } — function",
							"—Ⓕ– minnet_ws_get ( ) { … } — function",
							"—Ⓕ– minnet_ws_set ( ) { … } — function",
							"—Ⓕ– minnet_ws_constructor ( ) { … } — function",
							"—Ⓕ– minnet_ws_finalizer ( ) { … } — function"
						]
					},
					"AQAAAAAAAAAAAAAAUAMAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1344,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.h",
						"symkeys":
						[
							[
								33,
								49
							],
							[
								190,
								203
							],
							[
								227,
								240
							],
							[
								397,
								410
							],
							[
								418,
								432
							],
							[
								493,
								505
							],
							[
								546,
								558
							],
							[
								620,
								631
							],
							[
								696,
								707
							],
							[
								740,
								755
							],
							[
								798,
								813
							],
							[
								855,
								870
							],
							[
								910,
								922
							],
							[
								945,
								958
							],
							[
								993,
								1009
							],
							[
								1044,
								1056
							],
							[
								1091,
								1106
							],
							[
								1151,
								1163
							],
							[
								1216,
								1235
							],
							[
								1288,
								1314
							],
							[
								1376,
								1394
							],
							[
								1445,
								1464
							],
							[
								1808,
								1827
							],
							[
								1933,
								1953
							],
							[
								2072,
								2093
							],
							[
								2668,
								2679
							]
						],
						"symlist":
						[
							" Ⓜ  MINNET_REQUEST_H … — macro object",
							"—Ⓕ– method_string ( ) { … } — function",
							"—Ⓕ– method_number ( ) { … } — function",
							" Ⓣ  MinnetRequest ; — typedef",
							"—Ⓕ– request_format ( ) { … } — function",
							"—Ⓕ– request_dump ( ) { … } — function",
							"—Ⓕ– request_init ( ) { … } — function",
							"—Ⓕ– request_new ( ) { … } — function",
							"—Ⓕ– request_dup ( ) { … } — function",
							"—Ⓕ– request_fromobj ( ) { … } — function",
							"—Ⓕ– request_fromwsi ( ) { … } — function",
							"—Ⓕ– request_fromurl ( ) { … } — function",
							"—Ⓕ– request_zero ( ) { … } — function",
							"—Ⓕ– request_clear ( ) { … } — function",
							"—Ⓕ– request_clear_rt ( ) { … } — function",
							"—Ⓕ– request_free ( ) { … } — function",
							"—Ⓕ– request_free_rt ( ) { … } — function",
							"—Ⓕ– request_from ( ) { … } — function",
							"—Ⓕ– minnet_request_from ( ) { … } — function",
							"—Ⓕ– minnet_request_constructor ( ) { … } — function",
							"—Ⓕ– minnet_request_new ( ) { … } — function",
							"—Ⓕ– minnet_request_wrap ( ) { … } — function",
							"—Ⓕ– minnet_request_data ( ) { … } — function",
							"—Ⓕ– minnet_request_data2 ( ) { … } — function",
							"—Ⓕ– minnet_uri_and_method ( ) { … } — function",
							"—Ⓕ– method_name ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAsBAAA4oCU4pK74oCTIG1pbm5ldF93c19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvcGFxdWVfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG9wYXF1ZV9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2xlYXJfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19jbGVhciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgb3BhcXVlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19vcGFxdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3Nfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3NlbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfcmVzcG9uZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19waW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3BvbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfY2xvc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAhBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3wEAAAAAAADtAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1345,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.c",
						"symkeys":
						[
							[
								807,
								820
							],
							[
								1203,
								1209
							],
							[
								1661,
								1675
							],
							[
								2297,
								2308
							],
							[
								2418,
								2429
							],
							[
								2854,
								2862
							],
							[
								2949,
								2959
							],
							[
								3088,
								3095
							],
							[
								3233,
								3239
							],
							[
								3327,
								3337
							],
							[
								3636,
								3646
							],
							[
								4513,
								4527
							],
							[
								4761,
								4778
							],
							[
								5355,
								5369
							],
							[
								6429,
								6446
							],
							[
								8105,
								8119
							],
							[
								8763,
								8777
							],
							[
								9421,
								9436
							],
							[
								10597,
								10610
							],
							[
								13146,
								13159
							],
							[
								13506,
								13527
							],
							[
								14711,
								14730
							]
						],
						"symlist":
						[
							"—Ⓕ– minnet_ws_new ( ) { … } — function",
							"—Ⓕ– ws_new ( ) { … } — function",
							"—Ⓕ– opaque_free_rt ( ) { … } — function",
							"—Ⓕ– opaque_free ( ) { … } — function",
							"—Ⓕ– ws_clear_rt ( ) { … } — function",
							"—Ⓕ– ws_clear ( ) { … } — function",
							"—Ⓕ– ws_free_rt ( ) { … } — function",
							"—Ⓕ– ws_free ( ) { … } — function",
							"—Ⓕ– ws_dup ( ) { … } — function",
							"—Ⓕ– opaque_new ( ) { … } — function",
							"—Ⓕ– lws_opaque ( ) { … } — function",
							"—Ⓕ– minnet_ws_wrap ( ) { … } — function",
							"—Ⓕ– minnet_ws_fromwsi ( ) { … } — function",
							"—Ⓕ– minnet_ws_send ( ) { … } — function",
							"—Ⓕ– minnet_ws_respond ( ) { … } — function",
							"—Ⓕ– minnet_ws_ping ( ) { … } — function",
							"—Ⓕ– minnet_ws_pong ( ) { … } — function",
							"—Ⓕ– minnet_ws_close ( ) { … } — function",
							"—Ⓕ– minnet_ws_get ( ) { … } — function",
							"—Ⓕ– minnet_ws_set ( ) { … } — function",
							"—Ⓕ– minnet_ws_constructor ( ) { … } — function",
							"—Ⓕ– minnet_ws_finalizer ( ) { … } — function"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAbBQAAICDik4IgIE1JTk5FVF9SRVFVRVNUX0gg4oCmIOKAlCBtYWNybyBvYmplY3QK4oCU4pK74oCTIG1ldGhvZF9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtZXRob2RfbnVtYmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTiSAgTWlubmV0UmVxdWVzdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyByZXF1ZXN0X2Zvcm1hdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfbmV3ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9kdXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb21vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb213c2kgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2Zyb211cmwgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyByZXF1ZXN0X2NsZWFyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmVxdWVzdF9jbGVhcl9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHJlcXVlc3RfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X2Zyb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF9yZXF1ZXN0X3dyYXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfcmVxdWVzdF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3JlcXVlc3RfZGF0YTIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfdXJpX2FuZF9tZXRob2QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtZXRob2RfbmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAFADAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1346,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAsBAAA4oCU4pK74oCTIG1pbm5ldF93c19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19uZXcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvcGFxdWVfZnJlZV9ydCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG9wYXF1ZV9mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfY2xlYXJfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19jbGVhciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHdzX2ZyZWVfcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB3c19mcmVlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgd3NfZHVwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgb3BhcXVlX25ldyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGx3c19vcGFxdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3Nfd3JhcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19mcm9td3NpICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3NlbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfcmVzcG9uZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19waW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3BvbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfY2xvc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBtaW5uZXRfd3NfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgbWlubmV0X3dzX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG1pbm5ldF93c19maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1347,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								268,
								303
							],
							[
								443,
								457
							],
							[
								475,
								497
							],
							[
								606,
								610
							],
							[
								1758,
								1785
							],
							[
								1993,
								2030
							],
							[
								2096,
								2106
							],
							[
								2154,
								2164
							],
							[
								2204,
								2209
							],
							[
								2263,
								2288
							],
							[
								2837,
								2865
							],
							[
								3218,
								3221
							],
							[
								3239,
								3259
							],
							[
								3629,
								3634
							],
							[
								3802,
								3809
							],
							[
								3954,
								3960
							],
							[
								3967,
								3976
							],
							[
								4082,
								4097
							],
							[
								4282,
								4304
							],
							[
								4547,
								4557
							],
							[
								4909,
								4923
							],
							[
								5632,
								5679
							],
							[
								5893,
								5909
							],
							[
								6744,
								6756
							],
							[
								7119,
								7137
							],
							[
								7734,
								7768
							],
							[
								7971,
								7976
							],
							[
								8107,
								8124
							],
							[
								8560,
								8576
							],
							[
								8708,
								8726
							],
							[
								9089,
								9107
							],
							[
								9207,
								9224
							],
							[
								9301,
								9306
							],
							[
								9358,
								9364
							],
							[
								9410,
								9430
							]
						],
						"symlist":
						[
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>",
							"function FromDomain(buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							" str =>",
							"help()",
							"show(arg)",
							"handleCmd(data)",
							"function main(...args)",
							" (a, v) =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)"
						]
					},
					"AQAAAAAAAAAAAAAAMAIAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1348,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								268,
								303
							],
							[
								443,
								457
							],
							[
								475,
								497
							],
							[
								606,
								610
							],
							[
								1758,
								1785
							],
							[
								1993,
								2030
							],
							[
								2096,
								2106
							],
							[
								2154,
								2164
							],
							[
								2204,
								2209
							],
							[
								2263,
								2288
							],
							[
								2837,
								2865
							],
							[
								3218,
								3221
							],
							[
								3239,
								3259
							],
							[
								3629,
								3634
							],
							[
								3802,
								3809
							],
							[
								3954,
								3960
							],
							[
								3967,
								3976
							],
							[
								4082,
								4097
							],
							[
								4282,
								4304
							],
							[
								4547,
								4557
							],
							[
								4909,
								4923
							],
							[
								5632,
								5679
							],
							[
								5893,
								5909
							],
							[
								6744,
								6756
							],
							[
								7119,
								7137
							],
							[
								7734,
								7768
							],
							[
								7971,
								7976
							],
							[
								8107,
								8124
							],
							[
								8560,
								8576
							],
							[
								8708,
								8726
							],
							[
								9089,
								9107
							],
							[
								9207,
								9224
							],
							[
								9301,
								9306
							],
							[
								9358,
								9364
							],
							[
								9410,
								9430
							]
						],
						"symlist":
						[
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>",
							"function FromDomain(buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							" str =>",
							"help()",
							"show(arg)",
							"handleCmd(data)",
							"function main(...args)",
							" (a, v) =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAwAgAAR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgpGcm9tRG9tYWluKGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgogIHN0ciA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGhhbmRsZUNtZChkYXRhKQogIG1haW4oLi4uYXJncykKICAoYSwgdikgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkAAAAAAAAAADACAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1349,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
						"symkeys":
						[
							[
								268,
								303
							],
							[
								443,
								457
							],
							[
								475,
								497
							],
							[
								606,
								610
							],
							[
								1758,
								1785
							],
							[
								1993,
								2030
							],
							[
								2096,
								2106
							],
							[
								2154,
								2164
							],
							[
								2204,
								2209
							],
							[
								2263,
								2288
							],
							[
								2837,
								2865
							],
							[
								3218,
								3221
							],
							[
								3239,
								3259
							],
							[
								3629,
								3634
							],
							[
								3802,
								3809
							],
							[
								3954,
								3960
							],
							[
								3967,
								3976
							],
							[
								4082,
								4097
							],
							[
								4282,
								4304
							],
							[
								4547,
								4557
							],
							[
								4909,
								4923
							],
							[
								5632,
								5679
							],
							[
								5893,
								5909
							],
							[
								6744,
								6756
							],
							[
								7119,
								7137
							],
							[
								7734,
								7768
							],
							[
								7971,
								7976
							],
							[
								8107,
								8124
							],
							[
								8560,
								8576
							],
							[
								8708,
								8726
							],
							[
								9089,
								9107
							],
							[
								9207,
								9224
							],
							[
								9301,
								9306
							],
							[
								9358,
								9364
							],
							[
								9410,
								9430
							]
						],
						"symlist":
						[
							"function GetOpt(options = {}, args)",
							"findOpt = a =>",
							"([optname, option]) =>",
							"o =>",
							"function FromDomain(buffer)",
							"function ToDomain(str, alpha = false)",
							" (a, s) =>",
							" (a, s) =>",
							"ch =>",
							"function DNSQuery(domain)",
							"function DNSResponse(buffer)",
							"CLI",
							"constructor(prompt2)",
							"() =>",
							" str =>",
							"help()",
							"show(arg)",
							"handleCmd(data)",
							"function main(...args)",
							" (a, v) =>",
							" arg =>",
							" function createWS(url, callbacks, listen = 0)",
							" (level, msg) =>",
							"function* ()",
							"onConnect(ws, req)",
							"onClose(ws, status, reason, error)",
							"() =>",
							"onHttp(req, resp)",
							"onFd(fd, rd, wr)",
							"onMessage(ws, msg)",
							"onError(ws, error)",
							"get connections()",
							"() =>",
							"err =>",
							" function quit(why)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAwAgAAR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgpGcm9tRG9tYWluKGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgogIHN0ciA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGhhbmRsZUNtZChkYXRhKQogIG1haW4oLi4uYXJncykKICAoYSwgdikgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkAAAAAAAAAADACAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1350,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAwAgAAR2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykKICBmaW5kT3B0ID0gYSA9PgooW29wdG5hbWUsIG9wdGlvbl0pID0+CiAgbyA9PgpGcm9tRG9tYWluKGJ1ZmZlcikKVG9Eb21haW4oc3RyLCBhbHBoYSA9IGZhbHNlKQogIChhLCBzKSA9PgogIChhLCBzKSA9PgogIGNoID0+CkROU1F1ZXJ5KGRvbWFpbikKRE5TUmVzcG9uc2UoYnVmZmVyKQpDTEkKICBjb25zdHJ1Y3Rvcihwcm9tcHQyKQooKSA9PgogIHN0ciA9PgogIGhlbHAoKQogIHNob3coYXJnKQogIGhhbmRsZUNtZChkYXRhKQogIG1haW4oLi4uYXJncykKICAoYSwgdikgPT4KICBhcmcgPT4KICBjcmVhdGVXUyh1cmwsIGNhbGxiYWNrcywgbGlzdGVuID0gMCkKICAobGV2ZWwsIG1zZykgPT4KKCkKICBvbkNvbm5lY3Qod3MsIHJlcSkKICBvbkNsb3NlKHdzLCBzdGF0dXMsIHJlYXNvbiwgZXJyb3IpCigpID0+CiAgb25IdHRwKHJlcSwgcmVzcCkKICBvbkZkKGZkLCByZCwgd3IpCiAgb25NZXNzYWdlKHdzLCBtc2cpCiAgb25FcnJvcih3cywgZXJyb3IpCiAgZ2V0IGNvbm5lY3Rpb25zKCkKKCkgPT4KICBlcnIgPT4KICBxdWl0KHdoeSkAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					1351,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "minnet-client.h",
			"settings":
			{
				"buffer_size": 1042,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADjBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgTWlubmV0VVJMIHVybDsKICBNaW5uZXRTZXNzaW9uIHNlc3Npb247CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxdWVzdDsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcG9uc2U7CiAgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvIGNvbm5lY3RfaW5mbzsKICBSZXNvbHZlRnVuY3Rpb25zIHByb21pc2U7Cn0gTWlubmV0Q2xpZW50OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfZHVwKHN0cnVjdCBjbGllbnRfY2xvc3VyZSopOwp2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IGNsaWVudF9jb250ZXh0Kgpsd3NfY2xpZW50KHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKfQojZW5kaWYKAAAAAAAAAADjBAAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADjBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgTWlubmV0VVJMIHVybDsKICBNaW5uZXRTZXNzaW9uIHNlc3Npb247CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxdWVzdDsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcG9uc2U7CiAgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvIGNvbm5lY3RfaW5mbzsKICBSZXNvbHZlRnVuY3Rpb25zIHByb21pc2U7Cn0gTWlubmV0Q2xpZW50OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfZHVwKHN0cnVjdCBjbGllbnRfY2xvc3VyZSopOwp2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IGNsaWVudF9jb250ZXh0Kgpsd3NfY2xpZW50KHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKfQojZW5kaWYKAAAAAAAAAADjBAAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAJIBAAAAAAAAkwEAAAAAAAAAAAAAkwEAAAAAAACUAQAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADlBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgLy9NaW5uZXRVUkwgdXJsOwogIE1pbm5ldFNlc3Npb24gc2Vzc2lvbjsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXF1ZXN0OwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwb25zZTsKICBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8gY29ubmVjdF9pbmZvOwogIFJlc29sdmVGdW5jdGlvbnMgcHJvbWlzZTsKfSBNaW5uZXRDbGllbnQ7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9kdXAoc3RydWN0IGNsaWVudF9jbG9zdXJlKik7CnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAAOYEAAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADmBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgLy8gTWlubmV0VVJMIHVybDsKICBNaW5uZXRTZXNzaW9uIHNlc3Npb247CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxdWVzdDsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcG9uc2U7CiAgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvIGNvbm5lY3RfaW5mbzsKICBSZXNvbHZlRnVuY3Rpb25zIHByb21pc2U7Cn0gTWlubmV0Q2xpZW50OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfZHVwKHN0cnVjdCBjbGllbnRfY2xvc3VyZSopOwp2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IGNsaWVudF9jb250ZXh0Kgpsd3NfY2xpZW50KHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKfQojZW5kaWYKAAAAAAAAAADmBAAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJABAAAAAAAAkQEAAAAAAAAAAAAAkQEAAAAAAACRAQAAAAAAAAQAAAAgIC8v",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAJEBAAAAAAAAkgEAAAAAAAAAAAAAkgEAAAAAAACTAQAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					98,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADlBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAvLyBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldFNlc3Npb24gc2Vzc2lvbjsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXF1ZXN0OwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwb25zZTsKICBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8gY29ubmVjdF9pbmZvOwogIFJlc29sdmVGdW5jdGlvbnMgcHJvbWlzZTsKfSBNaW5uZXRDbGllbnQ7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9kdXAoc3RydWN0IGNsaWVudF9jbG9zdXJlKik7CnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAAOUEAAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"paste",
					null,
					"AQAAAB4DAAAAAAAARwMAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					140,
					2,
					"left_delete",
					null,
					"AgAAAEYDAAAAAAAARgMAAAAAAAABAAAAe0UDAAAAAAAARQMAAAAAAAABAAAAIA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					141,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAEUDAAAAAAAARgMAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAEYDAAAAAAAARwMAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					144,
					1,
					"left_delete",
					null,
					"AQAAACMDAAAAAAAAIwMAAAAAAAABAAAACg",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACMDAAAAAAAAJAMAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"left_delete",
					null,
					"AQAAAB0DAAAAAAAAHQMAAAAAAAABAAAACg",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					154,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAANBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBjYjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAvLyBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldFNlc3Npb24gc2Vzc2lvbjsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXF1ZXN0OwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwb25zZTsKICBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8gY29ubmVjdF9pbmZvOwogIFJlc29sdmVGdW5jdGlvbnMgcHJvbWlzZTsKfSBNaW5uZXRDbGllbnQ7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9kdXAoc3RydWN0IGNsaWVudF9jbG9zdXJlKik7CnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IGNsaWVudF9jb250ZXh0Kgpsd3NfY2xpZW50KHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKfQojZW5kaWYKAAAAAAAAAAAOBQAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					179,
					1,
					"insert",
					{
						"characters": "ib"
					},
					"AwAAAG0BAAAAAAAAbgEAAAAAAAAAAAAAbgEAAAAAAABuAQAAAAAAAAIAAABjYm4BAAAAAAAAbwEAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					182,
					2,
					"left_delete",
					null,
					"AgAAAG4BAAAAAAAAbgEAAAAAAAABAAAAYm0BAAAAAAAAbQEAAAAAAAABAAAAaQ",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					183,
					1,
					"insert",
					{
						"characters": "o"
					},
					"AQAAAG0BAAAAAAAAbgEAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					184,
					1,
					"insert",
					{
						"characters": "n"
					},
					"AQAAAG4BAAAAAAAAbwEAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					187,
					1,
					"revert",
					null,
					"CQAAAAAAAAAAAAAAAAAAAAAAAAAOBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBvbjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgLy8gTWlubmV0VVJMIHVybDsKICBNaW5uZXRTZXNzaW9uIHNlc3Npb247CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxdWVzdDsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcG9uc2U7CiAgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvIGNvbm5lY3RfaW5mbzsKICBSZXNvbHZlRnVuY3Rpb25zIHByb21pc2U7Cn0gTWlubmV0Q2xpZW50OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfZHVwKHN0cnVjdCBjbGllbnRfY2xvc3VyZSopOwp2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CnZvaWQgY2xpZW50X3plcm8oTWlubmV0Q2xpZW50KiBjbGllbnQpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnRfY2xvc3VyZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cik7CkpTVmFsdWUgbWlubmV0X2NsaWVudChKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdWludDhfdCogc2Nhbl9iYWNrd2FyZHModWludDhfdCosIHVpbnQ4X3QpOwoKc3RydWN0IGNsaWVudF9jbG9zdXJlIHsKICBpbnQgcmVmX2NvdW50OwogIE1pbm5ldENsaWVudCogY2xpZW50Owp9OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAAAAAAAAAAAAA4FAAAAAAAAAAAAAAAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAAAAAAAAAAAAA4FAAAAAAAAAAAAAAAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAA",
					"GQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					1,
					1,
					"revert",
					null,
					"CwAAAAAAAAAAAAAAAAAAAAAAAAAOBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIE1pbm5ldENhbGxiYWNrcyBvbjsKICBKU1ZhbHVlIGhlYWRlcnMsIGJvZHksIG5leHQ7CiAgLy8gTWlubmV0VVJMIHVybDsKICBNaW5uZXRTZXNzaW9uIHNlc3Npb247CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxdWVzdDsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcG9uc2U7CiAgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvIGNvbm5lY3RfaW5mbzsKICBSZXNvbHZlRnVuY3Rpb25zIHByb21pc2U7Cn0gTWlubmV0Q2xpZW50OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfZHVwKHN0cnVjdCBjbGllbnRfY2xvc3VyZSopOwp2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CnZvaWQgY2xpZW50X3plcm8oTWlubmV0Q2xpZW50KiBjbGllbnQpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnRfY2xvc3VyZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cik7CkpTVmFsdWUgbWlubmV0X2NsaWVudChKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdWludDhfdCogc2Nhbl9iYWNrd2FyZHModWludDhfdCosIHVpbnQ4X3QpOwoKc3RydWN0IGNsaWVudF9jbG9zdXJlIHsKICBpbnQgcmVmX2NvdW50OwogIE1pbm5ldENsaWVudCogY2xpZW50Owp9OwoKc3RydWN0IGNsaWVudF9jbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAAAAAAAAAAAAA4FAAAAAAAAAAAAAAAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAAAAAAAAAAAAA4FAAAAAAAAAAAAAAAAAAAAAAAADgUAAAAAAAAAAAAAAAAAAAAAAAAOBQAAAAAAAAAAAAAAAAAAAAAAAA4FAAAAAAAAAAAAAAAAAAAAAAAADgUAAAAAAAAAAAAA",
					"EgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					30,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAFoBAAAAAAAAWwEAAAAAAAAAAAAAWwEAAAAAAABdAQAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					31,
					1,
					"paste",
					null,
					"AQAAAF0BAAAAAAAAbQEAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					32,
					4,
					"left_delete",
					null,
					"BAAAAGwBAAAAAAAAbAEAAAAAAAABAAAAaWsBAAAAAAAAawEAAAAAAAABAAAAc2oBAAAAAAAAagEAAAAAAAABAAAAd2kBAAAAAAAAaQEAAAAAAAABAAAAbA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": "wdsi"
					},
					"BAAAAGkBAAAAAAAAagEAAAAAAAAAAAAAagEAAAAAAABrAQAAAAAAAAAAAABrAQAAAAAAAGwBAAAAAAAAAAAAAGwBAAAAAAAAbQEAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					34,
					3,
					"left_delete",
					null,
					"AwAAAGwBAAAAAAAAbAEAAAAAAAABAAAAaWsBAAAAAAAAawEAAAAAAAABAAAAc2oBAAAAAAAAagEAAAAAAAABAAAAZA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					35,
					1,
					"insert",
					{
						"characters": "i"
					},
					"AQAAAGoBAAAAAAAAawEAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					36,
					1,
					"left_delete",
					null,
					"AQAAAGoBAAAAAAAAagEAAAAAAAABAAAAaQ",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					37,
					1,
					"insert",
					{
						"characters": "si;"
					},
					"AwAAAGoBAAAAAAAAawEAAAAAAAAAAAAAawEAAAAAAABsAQAAAAAAAAAAAABsAQAAAAAAAG0BAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAACEFAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					76,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhBQAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChzdHJ1Y3QgY2xpZW50X2Nsb3N1cmUqKTsKdm9pZCBjbGllbnRfZnJlZShNaW5uZXRDbGllbnQqKTsKTWlubmV0Q2xpZW50KiBjbGllbnRfZHVwKE1pbm5ldENsaWVudCopOwp2b2lkIGNsaWVudF96ZXJvKE1pbm5ldENsaWVudCogY2xpZW50KTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnQoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CnVpbnQ4X3QqIHNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqLCB1aW50OF90KTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCnN0cnVjdCBjbGllbnRfY2xvc3VyZSogY2xpZW50X2Nsb3N1cmVfbmV3KEpTQ29udGV4dCopOwoKc3RhdGljIGlubGluZSBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqCmx3c19jbGllbnQoc3RydWN0IGx3cyogd3NpKSB7CiAgcmV0dXJuIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwp9CiNlbmRpZgoAAAAAAAAAAPkEAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAA4EAAAAAAAADwQAAAAAAAAAAAAADwQAAAAAAAAPBAAAAAAAAG0AAAAKTWlubmV0Q2xvc3VyZSB7CiAgaW50IHJlZl9jb3VudDsKICBNaW5uZXRDbGllbnQqIGNsaWVudDsKfTsKCk1pbm5ldENsb3N1cmUqIGNsaWVudF9jbG9zdXJlX25ldyhKU0NvbnRleHQqKTsK",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					89,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAG4CAAAAAAAAbwIAAAAAAAAAAAAAbwIAAAAAAABvAgAAAAAAAGIAAABNaW5uZXRDbG9zdXJlKiBjbGllbnRfY2xvc3VyZV9uZXcoSlNDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsaWVudF9jbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7Cg",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAsBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCiB2b2lkIGNsaWVudF9mcmVlKE1pbm5ldENsaWVudCopOwpNaW5uZXRDbGllbnQqIGNsaWVudF9kdXAoTWlubmV0Q2xpZW50Kik7CnZvaWQgY2xpZW50X3plcm8oTWlubmV0Q2xpZW50KiBjbGllbnQpOwpKU1ZhbHVlIG1pbm5ldF9jbGllbnRfY2xvc3VyZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cik7CkpTVmFsdWUgbWlubmV0X2NsaWVudChKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdWludDhfdCogc2Nhbl9iYWNrd2FyZHModWludDhfdCosIHVpbnQ4X3QpOwogCnN0YXRpYyBpbmxpbmUgc3RydWN0IGNsaWVudF9jb250ZXh0Kgpsd3NfY2xpZW50KHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKfQojZW5kaWYKAAAAAAAAAAAqBAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					94,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAqBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAKgQAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					95,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAqBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC11cmwuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					96,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					97,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					98,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAAAAAAAAAAAAASBAAAAAAAAAAAAAAAAAAAAAAAABIEAAAAAAAAAAAAAA",
					"BwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					3,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAAAAAAAAAAAAASBAAAAAAAAAAAAAAAAAAAAAAAABIEAAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBAAAI2lmbmRlZiBNSU5ORVRfQ0xJRU5UX0gKI2RlZmluZSBNSU5ORVRfQ0xJRU5UX0gKCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCgojZGVmaW5lIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXR2YWwpIGNvbnRleHRfZXhjZXB0aW9uKCYoY2xpZW50LT5jb250ZXh0KSwgKHJldHZhbCkpCgp0eXBlZGVmIHN0cnVjdCBjbGllbnRfY29udGV4dCB7CiAgdW5pb24gewogICAgaW50IHJlZl9jb3VudDsKICAgIE1pbm5ldENvbnRleHQgY29udGV4dDsKICB9OwogIHN0cnVjdCBsd3MqIHdzaTsKICBNaW5uZXRDYWxsYmFja3Mgb247CiAgSlNWYWx1ZSBoZWFkZXJzLCBib2R5LCBuZXh0OwogIC8vIE1pbm5ldFVSTCB1cmw7CiAgTWlubmV0U2Vzc2lvbiBzZXNzaW9uOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcXVlc3Q7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3BvbnNlOwogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBjb25uZWN0X2luZm87CiAgUmVzb2x2ZUZ1bmN0aW9ucyBwcm9taXNlOwp9IE1pbm5ldENsaWVudDsKCnZvaWQgY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50Kik7Ck1pbm5ldENsaWVudCogY2xpZW50X2R1cChNaW5uZXRDbGllbnQqKTsKdm9pZCBjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCk7CkpTVmFsdWUgbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKTsKSlNWYWx1ZSBtaW5uZXRfY2xpZW50KEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwp1aW50OF90KiBzY2FuX2JhY2t3YXJkcyh1aW50OF90KiwgdWludDhfdCk7CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBjbGllbnRfY29udGV4dCoKbHdzX2NsaWVudChzdHJ1Y3QgbHdzKiB3c2kpIHsKICByZXR1cm4gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7Cn0KI2VuZGlmCgAAAAAAAAAAEgQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "minnet-server-http.c",
			"settings":
			{
				"buffer_size": 22716,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					241,
					1,
					"insert",
					{
						"characters": "opaque"
					},
					"BgAAAORUAAAAAAAA5VQAAAAAAAAAAAAA5VQAAAAAAADmVAAAAAAAAAAAAADmVAAAAAAAAOdUAAAAAAAAAAAAAOdUAAAAAAAA6FQAAAAAAAAAAAAA6FQAAAAAAADpVAAAAAAAAAAAAADpVAAAAAAAAOpUAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5FQAAAAAAADkVAAAAAAAAAAAAAAAAPC/"
				],
				[
					242,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAAOpUAAAAAAAA61QAAAAAAAAAAAAA61QAAAAAAADsVAAAAAAAAAAAAADsVAAAAAAAAO1UAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6lQAAAAAAADqVAAAAAAAAAAAAAAAAPC/"
				],
				[
					243,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAO1UAAAAAAAA7lQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7VQAAAAAAADtVAAAAAAAAAAAAAAAAPC/"
				],
				[
					260,
					1,
					"paste",
					null,
					"AgAAAOAwAAAAAAAA3DEAAAAAAAAAAAAA3DEAAAAAAADcMQAAAAAAAEwAAAAgIGlmKCFvcGFxdWUgJiYgc2Vzc2lvbiAmJiBjdHgpCiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY3R4KTsK",
					"AQAAAAAAAAABAAAA4DAAAAAAAAAsMQAAAAAAAAAAAAAAAPC/"
				],
				[
					265,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASWQAAI2luY2x1ZGUgPHN5cy90eXBlcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8bGliZ2VuLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLWh0dHAuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKCk1pbm5ldFZob3N0T3B0aW9ucyoKdmhvc3Rfb3B0aW9uc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2byA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Vmhvc3RPcHRpb25zKSk7CgojaWZkZWYgREVCVUdfT1VUUFVUCiAgZnByaW50ZihzdGRlcnIsICJ2aG9zdF9vcHRpb25zX2NyZWF0ZSAlcyAlc1xuIiwgbmFtZSwgdmFsdWUpOwojZW5kaWYKCiAgdm8tPm5hbWUgPSBuYW1lID8ganNfc3RyZHVwKGN0eCwgbmFtZSkgOiAwOwogIHZvLT52YWx1ZSA9IHZhbHVlID8ganNfc3RyZHVwKGN0eCwgdmFsdWUpIDogMDsKCiAgcmV0dXJuIHZvOwp9CgpNaW5uZXRWaG9zdE9wdGlvbnMqCnZob3N0X29wdGlvbnNfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgdmhvc3Rfb3B0aW9uKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2bzsKICBKU1ZhbHVlIG5hbWUsIHZhbHVlOwogIGNvbnN0IGNoYXIgKm5hbWVzdHIsICp2YWx1ZXN0cjsKCiAgbmFtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAwKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAxKTsKCiAgbmFtZXN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogIHZhbHVlc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZvID0gdmhvc3Rfb3B0aW9uc19jcmVhdGUoY3R4LCBuYW1lc3RyLCB2YWx1ZXN0cik7CgogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZXN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZXN0cik7CgogIHJldHVybiB2bzsKfQoKdm9pZAp2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewogIE1pbm5ldFZob3N0T3B0aW9ucyogbmV4dDsKCiAgZG8gewoKICAgIGlmKHZvLT5uYW1lKQogICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXZvLT5uYW1lKTsKICAgIGlmKHZvLT52YWx1ZSkKICAgICAganNfZnJlZShjdHgsICh2b2lkKil2by0+dmFsdWUpOwogICAgaWYodm8tPm9wdGlvbnMpCiAgICAgIHZob3N0X29wdGlvbnNfZnJlZV9saXN0KGN0eCwgdm8tPm9wdGlvbnMpOwoKICAgIG5leHQgPSB2by0+bmV4dDsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8pOwogIH0gd2hpbGUoKHZvID0gbmV4dCkpOwp9Cgp2b2lkCnZob3N0X29wdGlvbnNfZnJlZShKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewoKICBpZih2by0+bmFtZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPm5hbWUpOwogIGlmKHZvLT52YWx1ZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPnZhbHVlKTsKCiAgaWYodm8tPm9wdGlvbnMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHZvLT5vcHRpb25zKTsKCiAganNfZnJlZShjdHgsICh2b2lkKil2byk7Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb3VudHBvaW50LCBjb25zdCBjaGFyKiBvcmlnaW4sIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKSB7CiAgTWlubmV0SHR0cE1vdW50KiBtOwoKICBpZigobSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cE1vdW50KSkpKSB7CgogICAgLy8gcHJpbnRmKCJtb3VudF9jcmVhdGUgbW50PSUtMTBzIG9yZz0lLTIwcyBkZWY9JS0xNXMgcHJvdG9jb2w9JS0xMHMgb3JpZ2luX3Byb3RvY29sPSVzXG4iLCBtb3VudHBvaW50LCBvcmlnaW4sIGRlZiwgcHJvLCAoKGNvbnN0IGNoYXIqW10peyAiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwKICAgIC8vICJSRURJUl9IVFRQUyIsICJDQUxMQkFDSyIsIH0pW29yaWdpbl9wcm90b10pOwoKICAgIG0tPmx3cy5tb3VudHBvaW50ID0ganNfc3RyZHVwKGN0eCwgbW91bnRwb2ludCk7CiAgICBtLT5sd3Mub3JpZ2luID0gb3JpZ2luID8ganNfc3RyZHVwKGN0eCwgb3JpZ2luKSA6IDA7CiAgICBtLT5sd3MuZGVmID0gZGVmID8ganNfc3RyZHVwKGN0eCwgZGVmKSA6IDA7CiAgICBtLT5sd3MucHJvdG9jb2wgPSBwcm8gPyBwcm8gOiBqc19zdHJkdXAoY3R4LCBvcmlnaW5fcHJvdG8gPT0gTFdTTVBST19DQUxMQkFDSyA/ICJodHRwIiA6ICJkZWZwcm90Iik7CiAgICBtLT5sd3Mub3JpZ2luX3Byb3RvY29sID0gb3JpZ2luX3Byb3RvOwogICAgbS0+bHdzLm1vdW50cG9pbnRfbGVuID0gc3RybGVuKG1vdW50cG9pbnQpOwogIH0KCiAgcmV0dXJuIG07Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBrZXkpIHsKICBNaW5uZXRIdHRwTW91bnQqIHJldDsKICBKU1ZhbHVlIG1udCA9IEpTX1VOREVGSU5FRCwgb3JnID0gSlNfVU5ERUZJTkVELCBkZWYgPSBKU19VTkRFRklORUQsIHBybyA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9iaikpIHsKICAgIG1udCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAwKTsKICAgIG9yZyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAxKTsKICAgIGRlZiA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAyKTsKICAgIHBybyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAzKTsKICB9IGVsc2UgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9iaikpIHsKCiAgICBpZigha2V5KSB7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBKU1ZhbHVlIG5hbWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5hbWUiKTsKICAgICAgY29uc3QgY2hhciogbmFtZXN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZuYW1lbGVuLCBuYW1lKTsKICAgICAgY2hhciBidWZbbmFtZWxlbiArIDJdOwogICAgICBwc3RyY3B5KCZidWZbMV0sIG5hbWVsZW4gKyAxLCBuYW1lc3RyKTsKICAgICAgYnVmWzBdID0gJy8nOwogICAgICBidWZbbmFtZWxlbiArIDFdID0gJ1wwJzsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lc3RyKTsKICAgICAgbW50ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICBtbnQgPSBKU19OZXdTdHJpbmcoY3R4LCBrZXkpOwogICAgfQoKICAgIG9yZyA9IEpTX0R1cFZhbHVlKGN0eCwgb2JqKTsKICB9CgogIGNvbnN0IGNoYXIqIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCBtbnQpOwoKICAvLyBwcmludGYoIm1vdW50X25ldyAnJXMnXG4iLCBwYXRoKTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9yZykpIHsKICAgIHJldCA9IG1vdW50X2NyZWF0ZShjdHgsIHBhdGgsIDAsIDAsIDAsIExXU01QUk9fQ0FMTEJBQ0spOwoKICAgIEdFVENCVEhJUyhvcmcsIHJldC0+Y2FsbGJhY2ssIEpTX1VOREVGSU5FRCk7CgogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBkZXN0ID0gSlNfVG9DU3RyaW5nKGN0eCwgb3JnKTsKICAgIGNoYXIqIHByb3RvY29sID0gSlNfSXNTdHJpbmcocHJvKSA/IGpzX3Rvc3RyaW5nKGN0eCwgcHJvKSA6IDA7CiAgICBjb25zdCBjaGFyKiBkb3RzbGFzaHNsYXNoID0gc3Ryc3RyKGRlc3QsICI6Ly8iKTsKICAgIHNpemVfdCBwbGVuID0gZG90c2xhc2hzbGFzaCA/IGRvdHNsYXNoc2xhc2ggLSBkZXN0IDogMDsKICAgIGNvbnN0IGNoYXIqIG9yaWdpbiA9ICZkZXN0W3BsZW4gPyBwbGVuICsgMyA6IDBdOwogICAgY29uc3QgY2hhciogaW5kZXggPSBKU19Jc1VuZGVmaW5lZChkZWYpID8gMCA6IEpTX1RvQ1N0cmluZyhjdHgsIGRlZik7CiAgICBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgcHJvdG8gPSBwbGVuID09IDAgPyBMV1NNUFJPX0ZJTEUgOiAhc3RybmNtcChkZXN0LCAiaHR0cHMiLCBwbGVuKSA/IExXU01QUk9fSFRUUFMgOiBMV1NNUFJPX0hUVFA7CgogICAgcmV0ID0gbW91bnRfY3JlYXRlKGN0eCwgcGF0aCwgb3JpZ2luLCBpbmRleCwgcHJvdG9jb2wsIHByb3RvKTsKCiAgICBpZihpbmRleCkKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmRleCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGRlc3QpOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXRoKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgbW50KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcmcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlZik7CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kKE1pbm5ldEh0dHBNb3VudCogbW91bnRzLCBjb25zdCBjaGFyKiB4LCBzaXplX3QgbikgewogIHN0cnVjdCBsd3NfaHR0cF9tb3VudCAqcCwgKm0gPSAwOwogIGludCBwcm90b2NvbCA9IG4gPT0gMCA/IExXU01QUk9fQ0FMTEJBQ0sgOiBMV1NNUFJPX0hUVFA7CiAgc2l6ZV90IGwgPSAwOwogIGlmKG4gPT0gMCkKICAgIG4gPSBzdHJsZW4oeCk7CiAgaWYocHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiB4WzBdID09ICcvJykgewogICAgeCsrOwogICAgbi0tOwogIH0KICBmb3IocCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKW1vdW50czsgcDsgcCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKXAtPm1vdW50X25leHQpIHsKICAgIGlmKHByb3RvY29sICE9IExXU01QUk9fQ0FMTEJBQ0sgfHwgcC0+b3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKICAgICAgY29uc3QgY2hhciogbW50ID0gcC0+bW91bnRwb2ludDsKICAgICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwogICAgICBpZihwcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLICYmIG1udFswXSA9PSAnLycpIHsKICAgICAgICBtbnQrKzsKICAgICAgICBsZW4tLTsKICAgICAgfQogICAgICAvLyBwcmludGYoIm1vdW50IHg9JyUuKnMnICclLipzJ1xuIiwgKGludCluLCB4LCAoaW50KWxlbiwgbW50KTsKCiAgICAgIGlmKChsZW4gPT0gbiB8fCAobiA+IGxlbiAmJiAoeFtsZW5dID09ICcvJyB8fCB4W2xlbl0gPT0gJz8nKSkpICYmICFzdHJuY21wKHgsIG1udCwgbikpIHsKICAgICAgICBtID0gcDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihuID49IGxlbiAmJiBsZW4gPj0gbCAmJiAhc3RybmNtcChtbnQsIHgsIE1JTihsZW4sIG4pKSkgewogICAgICAgIG0gPSBwOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAoc3RydWN0IGh0dHBfbW91bnQqKW07Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kX3MoTWlubmV0SHR0cE1vdW50KiBtb3VudHMsIGNvbnN0IGNoYXIqIHgpIHsKICBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKnAsICptID0gMDsKICBzaXplX3QgbiA9IHN0cmxlbih4KTsKCiAgZm9yKHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50Kiltb3VudHM7IHA7IHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50KilwLT5tb3VudF9uZXh0KSB7CiAgICBjb25zdCBjaGFyKiBtbnQgPSBwLT5tb3VudHBvaW50OwogICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwoKICAgIC8vIHByaW50ZigibW91bnQgeD0nJS4qcycgJyUuKnMnXG4iLCAoaW50KW4sIHgsIChpbnQpbGVuLCBtbnQpOwogICAgaWYobGVuID09IG4gJiYgIXN0cm5jbXAoeCwgbW50LCBuKSkgewogICAgICBtID0gcDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBpZihsZW4gPT0gMSAmJiBtbnRbMF0gPT0gJy8nKSB7CiAgICAgIG0gPSBwOwogICAgfQogICAgaWYoKG4gPiBsZW4gJiYgKHhbbGVuXSA9PSAnLycgfHwgeFtsZW5dID09ICc/JykpICYmIChsZW4gPT0gMCB8fCAhc3RybmNtcCh4LCBtbnQsIGxlbikpKSB7CiAgICAgIG0gPSBwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIChzdHJ1Y3QgaHR0cF9tb3VudCopbTsKfQoKdm9pZAptb3VudF9mcmVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQgY29uc3QqIG0pIHsKICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmx3cy5tb3VudHBvaW50KTsKCiAgaWYobS0+b3JnKQogICAganNfZnJlZShjdHgsICh2b2lkKiltLT5vcmcpOwoKICBpZihtLT5kZWYpCiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmRlZik7CgogIGlmKG0tPnBybykKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopbS0+cHJvKTsKCiAganNfZnJlZShjdHgsICh2b2lkKiltKTsKfQoKaW50Cmh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyogd3NpLCBNaW5uZXRCdWZmZXIqIGJ1Ziwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgaW50IGlzX3NzbCA9IGx3c19pc19zc2wod3NpKTsKCiAgbHdzbF91c2VyKCJodHRwICIgRkcoIjE5OCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgc3RhdHVzPSVkIHR5cGU9JXMgbGVuZ3RoPSV6dSIsICJSRVNQT05EIiwgb3BhcXVlLT5zZXJpYWwsIHJlc3AtPnN0YXR1cywgcmVzcC0+dHlwZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgLy8gcmVzcC0+cmVhZF9vbmx5ID0gVFJVRTsKCiAgaWYobHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzKHdzaSwgcmVzcC0+c3RhdHVzLCByZXNwLT50eXBlLCBpc19zc2wgPyBMV1NfSUxMRUdBTF9IVFRQX0NPTlRFTlRfTEVOIDogYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCAmYnVmLT53cml0ZSwgYnVmLT5lbmQpKSB7CiAgICByZXR1cm4gMTsKICB9CiAgLyogIHsKICAgICAgY2hhciogYiA9IGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KTsKCiAgICAgIGx3c2xfdXNlcigibHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzICV0ZCAnJXMnIiwgYnVmLT53cml0ZSAtIGJ1Zi0+c3RhcnQsIGIpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgICB9Ki8KCiAgewogICAgc2l6ZV90IGxlbiwgbjsKICAgIHVpbnQ4X3QgKngsICplbmQ7CiAgICBmb3IoeCA9IHJlc3AtPmhlYWRlcnMuc3RhcnQsIGVuZCA9IHJlc3AtPmhlYWRlcnMud3JpdGU7IHggPCBlbmQ7IHggKz0gbGVuICsgMSkgewogICAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgICAgaWYobGVuID4gKG4gPSBieXRlX2Nocih4LCBsZW4sICc6JykpKSB7CiAgICAgICAgY29uc3QgY2hhciogcHJvcCA9IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbik7CiAgICAgICAgaWYoeFtuXSA9PSAnOicpCiAgICAgICAgICBuKys7CiAgICAgICAgaWYoaXNzcGFjZSh4W25dKSkKICAgICAgICAgIG4rKzsKCiAgICAgICAgbHdzbF91c2VyKCJIVFRQIGhlYWRlciAlcyA9ICUuKnMiLCBwcm9wLCAoaW50KShsZW4gLSBuKSwgJnhbbl0pOwoKICAgICAgICBpZigobHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lKHdzaSwgKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXByb3AsIChjb25zdCB1bnNpZ25lZCBjaGFyKikmeFtuXSwgbGVuIC0gbiwgJmJ1Zi0+d3JpdGUsIGJ1Zi0+ZW5kKSkpCiAgICAgICAgICBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lIGZhaWxlZCIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcHJvcCk7CiAgICAgIH0KICAgIH0KICB9CiAgaW50IHJldCA9IGx3c19maW5hbGl6ZV93cml0ZV9odHRwX2hlYWRlcih3c2ksIGJ1Zi0+c3RhcnQsICZidWYtPndyaXRlLCBidWYtPmVuZCk7CgogIC8qIHsKICAgICBjaGFyKiBiID0gYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpOwogICAgIGx3c2xfdXNlcigibHdzX2ZpbmFsaXplX3dyaXRlX2h0dHBfaGVhZGVyICclcycgJXRkIHJldD0lZCIsIGIsIGJ1Zi0+d3JpdGUgLSBidWYtPnN0YXJ0LCByZXQpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgIH0qLwogIGlmKHJldCkKICAgIHJldHVybiAyOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIE1pbm5ldFJlc3BvbnNlKgpyZXF1ZXN0X2hhbmRsZXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY2ItPmN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwoKICBpZihjYiAmJiBjYi0+Y3R4KSB7CiAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CiAgICBsd3NsX3VzZXIoInJlcXVlc3RfaGFuZGxlciByZXQ9JXMiLCBKU19Ub0NTdHJpbmcoY2ItPmN0eCwgcmV0KSk7CiAgICBpZihKU19Jc09iamVjdChyZXQpICYmIG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBzZXNzaW9uLT5hcmdzWzFdKTsKICAgICAgc2Vzc2lvbi0+YXJnc1sxXSA9IHJldDsKICAgICAgcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpOwogICAgfSBlbHNlIHsKICAgICAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIHJldCk7CiAgICB9CiAgfQogIGx3c2xfdXNlcigicmVxdWVzdF9oYW5kbGVyICVzIiwgcmVzcG9uc2VfZHVtcChyZXNwKSk7CgogIHJldHVybiByZXNwOwp9CgpzdGF0aWMgc2l6ZV90CmZpbGVfc2l6ZShGSUxFKiBmcCkgewogIGxvbmcgcG9zID0gZnRlbGwoZnApOwogIHNpemVfdCBzaXplID0gMDsKCiAgaWYoZnNlZWsoZnAsIDAsIFNFRUtfRU5EKSAhPSAtMSkgewogICAgc2l6ZSA9IGZ0ZWxsKGZwKTsKICAgIGZzZWVrKGZwLCBwb3MsIFNFRUtfU0VUKTsKICB9CiAgcmV0dXJuIHNpemU7Cn0KCnN0YXRpYyBpbnQKc2VydmVfZmlsZShzdHJ1Y3QgbHdzKiB3c2ksIGNvbnN0IGNoYXIqIHBhdGgsIHN0cnVjdCBodHRwX21vdW50KiBtb3VudCwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgRklMRSogZnA7CiAgY29uc3QgY2hhciogbWltZSA9IGx3c19nZXRfbWltZXR5cGUocGF0aCwgJm1vdW50LT5sd3MpOwoKICBpZihwYXRoWzBdID09ICdcMCcpCiAgICBwYXRoID0gbW91bnQtPmRlZjsKCiAgLyp7CiAgICBjaGFyIGRpc3Bvc2l0aW9uWzEwMjRdOwogICAgc25wcmludGYoZGlzcG9zaXRpb24sIHNpemVvZihkaXNwb3NpdGlvbiksICJhdHRhY2htZW50OyBmaWxlbmFtZT1cIiVzXCIiLCBiYXNlbmFtZShwYXRoKSk7CiAgICBoZWFkZXJzX3NldChjdHgsICZyZXNwLT5oZWFkZXJzLCAiQ29udGVudC1EaXNwb3NpdGlvbiIsIGRpc3Bvc2l0aW9uKTsKICB9Ki8KCiAgaWYoKGZwID0gZm9wZW4ocGF0aCwgInJiIikpKSB7CiAgICBzaXplX3QgbiA9IGZpbGVfc2l6ZShmcCk7CgogICAgYnVmZmVyX2FsbG9jKCZyZXNwLT5ib2R5LCBuLCBjdHgpOwoKICAgIGlmKGZyZWFkKHJlc3AtPmJvZHkud3JpdGUsIG4sIDEsIGZwKSA9PSAxKQogICAgICByZXNwLT5ib2R5LndyaXRlICs9IG47CgogICAgaWYobWltZSkgewogICAgICBpZihyZXNwLT50eXBlKQogICAgICAgIGpzX2ZyZWUoY3R4LCByZXNwLT50eXBlKTsKCiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBtaW1lKTsKICAgIH0KCiAgICBmY2xvc2UoZnApOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBib2R5ID0gIjxodG1sPlxuICA8aGVhZD5cbiAgICA8dGl0bGU+NDA0IE5vdCBGb3VuZDwvdGl0bGU+XG4gICAgPG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PVwiQ29udGVudC1MYW5ndWFnZVwiIGNvbnRlbnQ9XCJlblwiLz5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8aDE+NDA0IE5vdCAiCiAgICAgICAgICAgICAgICAgICAgICAgIkZvdW5kPC9oMT5cbiAgPC9ib2R5PlxuPC9odG1sPlxuIjsKICAgIHJlc3AtPnN0YXR1cyA9IDQwNDsKICAgIHJlc3AtPm9rID0gRkFMU0U7CgogICAgcmVzcG9uc2Vfd3JpdGUocmVzcCwgYm9keSwgc3RybGVuKGJvZHkpLCBjdHgpOwogIH0KCiAgbHdzbF91c2VyKCJzZXJ2ZV9maWxlIHBhdGg9JXMgbW91bnQ9JS4qcyBsZW5ndGg9JXRkIiwgcGF0aCwgbW91bnQtPmx3cy5tb3VudHBvaW50X2xlbiwgbW91bnQtPmx3cy5tb3VudHBvaW50LCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICByZXR1cm4gMDsKfQoKaW50Cmh0dHBfc2VydmVyX3dyaXRhYmxlKHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEJPT0wgZG9uZSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wgbiwgcCA9IC0xOwogIHNpemVfdCByZW1haW47CiAgc3NpemVfdCByZXQgPSAwOwoKICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgLyogIGlmKCFidWZmZXJfQllURVMoJnJlc3AtPmJvZHkpICYmIGlzX2gyKHdzaSkpIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksICJcblhYWFhYWFhYWFhYWFhYIiwgMSwgY3R4KTsqLwoKICBpZigocmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSkpIHsKICAgIHVpbnQ4X3QqIHggPSByZXNwLT5ib2R5LnJlYWQ7CiAgICBzaXplX3QgbCA9IGlzX2gyKHdzaSkgPyAocmVtYWluID4gMTAyNCA/IDEwMjQgOiByZW1haW4pIDogcmVtYWluOwoKICAgIGlmKGwgPiAwKSB7CiAgICAgIHAgPSAocmVtYWluIC0gbCkgPiAwID8gTFdTX1dSSVRFX0hUVFAgOiBuOwogICAgICByZXQgPSBsd3Nfd3JpdGUod3NpLCB4LCBsLCBwKTsKICAgICAgbHdzbF91c2VyKCJsd3Nfd3JpdGUgd3NpIyUiIFBSSWk2NCAiIGxlbj0lenUgZmluYWw9JWQgcmV0PSV6ZCIsIG9wYXF1ZS0+c2VyaWFsLCBsLCBwID09IExXU19XUklURV9IVFRQX0ZJTkFMLCByZXQpOwogICAgICBpZihyZXQgPiAwKQogICAgICAgIGJ1ZmZlcl9za2lwKCZyZXNwLT5ib2R5LCByZXQpOwogICAgfQogIH0KCiAgcmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KTsKCiAgbHdzbF91c2VyKCIlcyB3c2kjJSIgUFJJaTY0ICIgZG9uZT0laSByZW1haW49JXp1IGZpbmFsPSVkIiwgX19mdW5jX18sIG9wYXF1ZS0+c2VyaWFsLCBkb25lLCByZW1haW4sIHAgPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwpOwoKICBpZihwID09IExXU19XUklURV9IVFRQX0ZJTkFMKSB7CgogICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgIHJldHVybiAtMTsKCiAgICByZXR1cm4gMTsKICB9IGVsc2UgaWYocmVtYWluID4gMCkgewogICAgLyoKICAgICAqIEhUVFAvMS4wIG5vIGtlZXBhbGl2ZTogY2xvc2UgbmV0d29yayBjb25uZWN0aW9uCiAgICAgKiBIVFRQLzEuMSBvciBIVFRQMS4wICsgS0E6IHdhaXQgLyBwcm9jZXNzIG5leHQgdHJhbnNhY3Rpb24KICAgICAqIEhUVFAvMjogcmluZ2J1ZmZlciBlbmRlZCwgcGFyZW50IGNvbm5lY3Rpb24gcmVtYWlucyB1cAogICAgICovCiAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICB9CgogIHJldHVybiAwOwp9CgppbnQKaHR0cF9zZXJ2ZXJfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICB1aW50OF90IGJ1ZltMV1NfUFJFICsgTFdTX1JFQ09NTUVOREVEX01JTl9IRUFERVJfU1BBQ0VdOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXIgPyBzZXJ2ZXItPmNvbnRleHQuanMgOiAwOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHsKICAgIGFzc2VydChzZXJ2ZXIpOwogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIH0KCiAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERSkgewogICAgaWYoc2Vzc2lvbiAmJiBzZXNzaW9uLT5zZXJpYWwgIT0gb3BhcXVlLT5zZXJpYWwpIHsKICAgICAgc2Vzc2lvbi0+c2VyaWFsID0gb3BhcXVlLT5zZXJpYWw7CiAgICAgIHNlc3Npb24tPmgyID0gaXNfaDIod3NpKTsKICAgIH0KICB9CgoKICBpZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTICYmIHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpIHsKICAgICAgaWYoIW9wYXF1ZSAmJiB3c2kgJiYgc2Vzc2lvbiAmJiBjdHgpIHsKICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBzZXNzaW9uLCBjdHgpOwogICAgYXNzZXJ0KG9wYXF1ZSk7CiAgfQogIH0KICAvLyBhc3NlcnQob3BhcXVlKTsKCiAgTE9HKCJIVFRQIiwKICAgICAgIiVzJXNmZD0lZCBpbj0nJS4qcycgdXJsPSVzIHNlc3Npb24jJWQiLAogICAgICBpc19oMih3c2kpID8gImgyLCAiIDogIiIsCiAgICAgIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwKICAgICAgbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3c2kpKSwKICAgICAgKGludClsZW4sCiAgICAgIGluLAogICAgICBvcGFxdWUgJiYgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDAsCiAgICAgIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEVDS19BQ0NFU1NfUklHSFRTOiB7CiAgICAgIHJldHVybiAwOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgLy8gc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBKU1ZhbHVlQ29uc3QgYXJnc1syXSA9IHtzZXNzaW9uLT53c19vYmosIEpTX05VTEx9OwoKICAgICAgaWYoIWx3c19pc19zc2wod3NpKSAmJiAhc3RyY21wKGluLCAiaDJjIikpCiAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKSB7CiAgICAgICAgLypjaGFyKiB1cmk7CiAgICAgICAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2Q7CgogICAgICAgIHVyaSA9IG1pbm5ldF91cmlfYW5kX21ldGhvZChjdHgsIHdzaSwgJm1ldGhvZCk7CiAgICAgICAgaWYodXJpKSovCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwogICAgICB9CgogICAgICBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwoKICAgICAgTE9HKCJIVFRQIiwgImZkPSVpLCBudW1faGRyPSVpIiwgbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3c2kpKSwgbnVtX2hkcik7CgogICAgICAvKnJldHVybiAxOyovCiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046IHsKICAgICAgYXNzZXJ0KCFvcGFxdWUtPnJlcSk7CgogICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXVybChjdHgsIGluKTsKCiAgICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgICAgaWYoKHZob3N0ID0gbHdzX2dldF92aG9zdCh3c2kpKSkgewogICAgICAgIGNvbnN0IGNoYXIqIG5hbWU7CgogICAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgICB1cmxfcGFyc2UoJm9wYXF1ZS0+cmVxLT51cmwsIG5hbWUsIGN0eCk7CiAgICAgIH0KCiAgICAgIHVybF9zZXRfcHJvdG9jb2woJm9wYXF1ZS0+cmVxLT51cmwsIGx3c19pc19zc2wod3NpKSA/ICJodHRwcyIgOiAiaHR0cCIpOwoKICAgICAgLy8gTE9HKCJIVFRQIiwgInVybD0lcyIsIG9wYXF1ZS0+cmVxID8gdXJsX3N0cmluZygmb3BhcXVlLT5yZXEtPnVybCkgOiAwKTsKICAgICAgcmV0dXJuIDA7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9IRUFERVJTOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQk9EWV9DT01QTEVUSU9OOiB7CiAgICAgIE1pbm5ldENhbGxiYWNrKiBjYiA9IHNlc3Npb24tPm1vdW50ID8gJnNlc3Npb24tPm1vdW50LT5jYWxsYmFjayA6IDA7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gcmVxdWVzdF9oYW5kbGVyKHNlc3Npb24sIGNiKTsKCiAgICAgIGlmKGNiICYmIGNiLT5jdHgpIHsKICAgICAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CgogICAgICAgIGFzc2VydChqc19pc19pdGVyYXRvcihjdHgsIHJldCkpOwogICAgICAgIHNlc3Npb24tPmdlbmVyYXRvciA9IHJldDsKICAgICAgfSAvKiBlbHNlIGlmKGx3c19odHRwX3RyYW5zYWN0aW9uX2NvbXBsZXRlZCh3c2kpKSB7CiAgICAgICAgIHJldHVybiAtMTsKICAgICAgIH0KICovCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0JPRFk6IHsKICAgICAgTWlubmV0UmVxdWVzdCogcmVxID0gbWlubmV0X3JlcXVlc3RfZGF0YTIoY3R4LCBzZXNzaW9uLT5yZXFfb2JqKTsKCiAgICAgIExPRygiSFRUUCIsICIlc2xlbjogJXp1LCBzaXplOiAlenUiLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGxlbiwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwoKICAgICAgaWYobGVuKSB7CiAgICAgICAgYnVmZmVyX2FwcGVuZCgmcmVxLT5ib2R5LCBpbiwgbGVuLCBjdHgpOwoKICAgICAgICBqc19kdW1wX3N0cmluZyhpbiwgbGVuLCA4MCk7CiAgICAgICAgcHV0cygiIik7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUDogewogICAgICBNaW5uZXRVUkwqIHVybCA9ICZvcGFxdWUtPnJlcS0+dXJsOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBNaW5uZXRCdWZmZXIgYiA9IEJVRkZFUihidWYpOwogICAgICBKU1ZhbHVlKiBhcmdzID0gc2Vzc2lvbi0+YXJnczsKICAgICAgY2hhciogcGF0aCA9IGluOwogICAgICBpbnQgcmV0ID0gMDsKICAgICAgc2l6ZV90IG1vdW50cG9pbnRfbGVuID0gMCwgcGF0aGxlbiA9IHN0cmxlbih1cmwtPnBhdGgpOwoKICAgICAgaWYodXJsLT5wYXRoICYmIGluICYmIGxlbiA8IHBhdGhsZW4gLyomJiAhc3RyY21wKHVybC0+cGF0aCwgaW4pKi8pCiAgICAgICAgbW91bnRwb2ludF9sZW4gPSBwYXRobGVuIC0gbGVuOwoKICAgICAgTE9HKCJIVFRQIiwgIm1vdW50cG9pbnQ9JyUuKnMnIHBhdGg9JyVzJyIsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCwgcGF0aCk7CgogICAgICBpZighb3BhcXVlLT5yZXEtPmhlYWRlcnMud3JpdGUpIHsKICAgICAgICBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICB9CiAgICAgIC8qCiAgICAgICAgICAgIGlmKCFvcGFxdWUtPnJlcS0+cGF0aFswXSkKICAgICAgICAgICAgICBwc3RyY3B5KG9wYXF1ZS0+cmVxLT5wYXRoLCBzaXplb2Yob3BhcXVlLT5yZXEtPnBhdGgpLCBwYXRoKTsKICAgICAgKi8KICAgICAgc2Vzc2lvbi0+bW91bnQgPSBtb3VudF9maW5kKChNaW5uZXRIdHRwTW91bnQqKXNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgcGF0aCwgMCk7CiAgICAgIGlmKHVybC0+cGF0aCAmJiAhc2Vzc2lvbi0+bW91bnQpCiAgICAgICAgaWYoIShzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgsIG1vdW50cG9pbnRfbGVuKSkpCiAgICAgICAgICBzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgsIDApOwoKICAgICAgc2Vzc2lvbi0+aDIgPSBpc19oMih3c2kpOwoKICAgICAgaWYoKG1vdW50ID0gc2Vzc2lvbi0+bW91bnQpKSB7CiAgICAgICAgc2l6ZV90IG1sZW4gPSBzdHJsZW4obW91bnQtPm1udCk7CiAgICAgICAgYXNzZXJ0KCFzdHJuY21wKHVybC0+cGF0aCwgbW91bnQtPm1udCwgbWxlbikpOwogICAgICAgIGFzc2VydCghc3RyY21wKHVybC0+cGF0aCArIG1sZW4sIHBhdGgpKTsKCiAgICAgICAgTE9HKCJIVFRQIiwKICAgICAgICAgICAgIm1vdW50OiBtbnQ9JyVzJywgb3JnPSclcycsIHBybz0nJXMnLCBvcmlnaW5fcHJvdG9jb2w9JyVzJ1xuIiwKICAgICAgICAgICAgbW91bnQtPm1udCwKICAgICAgICAgICAgbW91bnQtPm9yZywKICAgICAgICAgICAgbW91bnQtPnBybywKICAgICAgICAgICAgKChjb25zdCBjaGFyKltdKXsiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwgIlJFRElSX0hUVFBTIiwgIkNBTExCQUNLIn0pWyh1aW50cHRyX3QpbW91bnQtPmx3cy5vcmlnaW5fcHJvdG9jb2xdKTsKICAgICAgfQoKICAgICAgYXJnc1swXSA9IHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgaWYoIUpTX0lzT2JqZWN0KGFyZ3NbMV0pKQogICAgICAgIGFyZ3NbMV0gPSBtaW5uZXRfcmVzcG9uc2VfbmV3KGN0eCwgKnVybCwgb3BhcXVlLT5yZXEtPm1ldGhvZCA9PSBNRVRIT0RfUE9TVCA/IDIwMSA6IDIwMCwgMCwgVFJVRSwgInRleHQvaHRtbCIpOwoKICAgICAgTWlubmV0UmVxdWVzdCogcmVxID0gb3BhcXVlLT5yZXE7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gb3BhcXVlLT5yZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgYXJnc1sxXSk7CgogICAgICBMT0coIkhUVFAiLCAicmVxPSVwLCBoZWFkZXI9JXp1IiwgcmVxLCBidWZmZXJfSEVBRCgmcmVxLT5oZWFkZXJzKSk7CgogICAgICByZXF1ZXN0X2R1cChyZXEpOwoKICAgICAgTWlubmV0Q2FsbGJhY2sqIGNiID0gJnNlcnZlci0+Y2IuaHR0cDsKCiAgICAgIGlmKG1vdW50ICYmIChtb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbCA9PSBMV1NNUFJPX0ZJTEUgfHwgKG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0sgJiYgbW91bnQtPmx3cy5vcmlnaW4pKSkgewoKICAgICAgICBpZigocmV0ID0gc2VydmVfZmlsZSh3c2ksIHBhdGgsIG1vdW50LCByZXNwLCBjdHgpKSkgewogICAgICAgICAgTE9HKCJIVFRQIiwgInNlcnZlX2ZpbGUgRkFJTCAlZCIsIHJldCk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICBpZigocmV0ID0gaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSkgewogICAgICAgICAgTE9HKCJIVFRQIiwgImh0dHBfc2VydmVyX3Jlc3BvbmQgRkFJTCAlZCIsIHJldCk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZihtb3VudCAmJiBtb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLKSB7CgogICAgICAgIGNiID0gJm1vdW50LT5jYWxsYmFjazsKCiAgICAgICAgaWYocmVxLT5tZXRob2QgPT0gTUVUSE9EX0dFVCAvKiB8fCBpc19oMih3c2kpKi8pIHsKICAgICAgICAgIHJlc3AgPSByZXF1ZXN0X2hhbmRsZXIoc2Vzc2lvbiwgY2IpOwoKICAgICAgICAgIGlmKGNiICYmIGNiLT5jdHgpIHsKICAgICAgICAgICAgSlNWYWx1ZSBnZW4gPSBtaW5uZXRfZW1pdF90aGlzKGNiLCBzZXNzaW9uLT53c19vYmosIDIsIGFyZ3MpOwogICAgICAgICAgICBhc3NlcnQoanNfaXNfaXRlcmF0b3IoY3R4LCBnZW4pKTsKICAgICAgICAgICAgTE9HKCJIVFRQIiwgImdlbj0lcyIsIEpTX1RvQ1N0cmluZyhjdHgsIGdlbikpOwoKICAgICAgICAgICAgc2Vzc2lvbi0+Z2VuZXJhdG9yID0gZ2VuOwogICAgICAgICAgICBzZXNzaW9uLT5uZXh0ID0gSlNfVU5ERUZJTkVEOwogICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIExPRygiSFRUUCIsICJwYXRoPSVzIG1vdW50cG9pbnQ9JS4qcyIsIHBhdGgsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCk7CiAgICAgICAgICAgIGlmKGx3c19odHRwX3RyYW5zYWN0aW9uX2NvbXBsZXRlZCh3c2kpKQogICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKGh0dHBfc2VydmVyX3Jlc3BvbmQod3NpLCAmYiwgcmVzcCwgY3R4KSkgewogICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgTE9HKCJIVFRQIiwgIk5PVCBGT1VORFx0cGF0aD0lcyBtb3VudHBvaW50PSUuKnMiLCBwYXRoLCAoaW50KW1vdW50cG9pbnRfbGVuLCB1cmwtPnBhdGgpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGlmKHJlcS0+bWV0aG9kID09IE1FVEhPRF9HRVQgfHwgaXNfaDIod3NpKSkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKCiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CgogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiB7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogICAgICBCT09MIGRvbmUgPSBGQUxTRTsKCiAgICAgIExPRygiSFRUUCIsCiAgICAgICAgICAiJXNtbnQ9JXMgcmVtYWluPSV0ZCB0eXBlPSVzIHVybC5wYXRoPSVzIiwKICAgICAgICAgIHNlc3Npb24tPmgyID8gImgyLCAiIDogIiIsCiAgICAgICAgICBzZXNzaW9uLT5tb3VudCA/IHNlc3Npb24tPm1vdW50LT5tbnQgOiAwLAogICAgICAgICAgcmVzcCA/IGJ1ZmZlcl9CWVRFUygmcmVzcC0+Ym9keSkgOiAwLAogICAgICAgICAgcmVzcCA/IHJlc3AtPnR5cGUgOiAwLAogICAgICAgICAgcmVzcCA/IHJlc3AtPnVybC5wYXRoIDogMCk7CgogICAgICBpZihKU19Jc09iamVjdChzZXNzaW9uLT5nZW5lcmF0b3IpKSB7CiAgICAgICAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogICAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgICByZXQgPSBqc19pdGVyYXRvcl9uZXh0KGN0eCwgc2Vzc2lvbi0+Z2VuZXJhdG9yLCAmc2Vzc2lvbi0+bmV4dCwgJmRvbmUsIDAsIDApOwoKICAgICAgICAgIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpIHsKICAgICAgICAgICAgSlNWYWx1ZSBleGNlcHRpb24gPSBKU19HZXRFeGNlcHRpb24oY3R4KTsKICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsICJFeGNlcHRpb246ICVzXG4iLCBKU19Ub0NTdHJpbmcoY3R4LCBleGNlcHRpb24pKTsKICAgICAgICAgICAgZG9uZSA9IFRSVUU7CiAgICAgICAgICB9IGVsc2UgaWYoIWRvbmUpIHsKICAgICAgICAgICAgSlNCdWZmZXIgb3V0ID0ganNfYnVmZmVyX25ldyhjdHgsIHJldCk7CiAgICAgICAgICAgIExPRygiSFRUUCIsICJzaXplPSV6dSIsIG91dC5zaXplKTsKICAgICAgICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgb3V0LmRhdGEsIG91dC5zaXplLCBjdHgpOwogICAgICAgICAgICBqc19idWZmZXJfZnJlZSgmb3V0LCBjdHgpOwogICAgICAgICAgfQogICAgICAgICAgTE9HKCJIVFRQIiwgImRvbmU9JWkgd3JpdGU9JXp1IiwgZG9uZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgICAgICAgICBpZihvcGFxdWUtPnN0YXR1cyA9PSBPUEVOKSB7CiAgICAgICAgICAgIGlmKGh0dHBfc2VydmVyX3Jlc3BvbmQod3NpLCAmYiwgcmVzcCwgY3R4KSkgewogICAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKCiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TSU5HOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZighYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKSB7CiAgICAgICAgc3RhdGljIGludCB1bmhhbmRsZWQ7CgogICAgICAgIGlmKCF1bmhhbmRsZWQrKykKICAgICAgICAgIExPRygiSFRUUCIsICJ1bmhhbmRsZWQgJWQiLCB1bmhhbmRsZWQpOwoKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb25lID0gVFJVRTsKICAgICAgfQoKICAgICAgaWYoaHR0cF9zZXJ2ZXJfd3JpdGFibGUod3NpLCByZXNwLCBkb25lKSA9PSAxKQogICAgICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTiwgdXNlciwgaW4sIGxlbik7CgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9GSUxFX0NPTVBMRVRJT046IHsKCiAgICAgIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICAgICAgcmVxdWVzdF9mcmVlKG9wYXF1ZS0+cmVxLCBjdHgpOwogICAgICAgIG9wYXF1ZS0+cmVxID0gMDsKICAgICAgfQoKICAgICAgaWYob3BhcXVlLT5yZXNwKSB7CiAgICAgICAgcmVzcG9uc2VfZnJlZShvcGFxdWUtPnJlc3AsIGN0eCk7CiAgICAgICAgb3BhcXVlLT5yZXNwID0gMDsKICAgICAgfQoKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0hUVFA6IHsKICAgICAgTE9HKCJIVFRQIiwgImluPSclLipzJyB1cmw9JXMiLCAoaW50KWxlbiwgKGNoYXIqKWluLCBvcGFxdWUgJiYgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDApOwogICAgICAvLyBsd3NfY2xvc2VfZnJlZV93c2kod3NpLCBMV1NfQ0xPU0VfU1RBVFVTX05PU1RBVFVTLCBfX2Z1bmNfXyk7CiAgICAgIC8qICAgICBpZihzZXNzaW9uKSB7CiAgICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT5yZXFfb2JqKTsKICAgICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19VTkRFRklORUQ7CiAgICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT5yZXNwX29iaik7CiAgICAgICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX1VOREVGSU5FRDsKICAgICAgICAgICB9Ki8KICAgICAgcmV0dXJuIC0xOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGludCByZXQgPSAwOwogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfSFRUUF9XUklURUFCTEUgJiYgKHJlYXNvbiA8IExXU19DQUxMQkFDS19IVFRQX0JJTkRfUFJPVE9DT0wgfHwgcmVhc29uID4gTFdTX0NBTExCQUNLX0NIRUNLX0FDQ0VTU19SSUdIVFMpKSB7CiAgICBMT0coIkhUVFAiLCAiZmQ9JWkgJXMlc2luPSclLipzJyByZXQ9JWRcbiIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIChzZXNzaW9uICYmIHNlc3Npb24tPmgyKSB8fCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIChjaGFyKilpbiwgcmV0KTsKICB9CgogIHJldCA9IGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKCiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAABVZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3DEAAAAAAADcMQAAAAAAAAAAAAAAAPC/"
				],
				[
					266,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAVWQAAI2luY2x1ZGUgPHN5cy90eXBlcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8bGliZ2VuLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLWh0dHAuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKCk1pbm5ldFZob3N0T3B0aW9ucyoKdmhvc3Rfb3B0aW9uc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2byA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Vmhvc3RPcHRpb25zKSk7CgojaWZkZWYgREVCVUdfT1VUUFVUCiAgZnByaW50ZihzdGRlcnIsICJ2aG9zdF9vcHRpb25zX2NyZWF0ZSAlcyAlc1xuIiwgbmFtZSwgdmFsdWUpOwojZW5kaWYKCiAgdm8tPm5hbWUgPSBuYW1lID8ganNfc3RyZHVwKGN0eCwgbmFtZSkgOiAwOwogIHZvLT52YWx1ZSA9IHZhbHVlID8ganNfc3RyZHVwKGN0eCwgdmFsdWUpIDogMDsKCiAgcmV0dXJuIHZvOwp9CgpNaW5uZXRWaG9zdE9wdGlvbnMqCnZob3N0X29wdGlvbnNfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgdmhvc3Rfb3B0aW9uKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2bzsKICBKU1ZhbHVlIG5hbWUsIHZhbHVlOwogIGNvbnN0IGNoYXIgKm5hbWVzdHIsICp2YWx1ZXN0cjsKCiAgbmFtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAwKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAxKTsKCiAgbmFtZXN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogIHZhbHVlc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZvID0gdmhvc3Rfb3B0aW9uc19jcmVhdGUoY3R4LCBuYW1lc3RyLCB2YWx1ZXN0cik7CgogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZXN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZXN0cik7CgogIHJldHVybiB2bzsKfQoKdm9pZAp2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewogIE1pbm5ldFZob3N0T3B0aW9ucyogbmV4dDsKCiAgZG8gewoKICAgIGlmKHZvLT5uYW1lKQogICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXZvLT5uYW1lKTsKICAgIGlmKHZvLT52YWx1ZSkKICAgICAganNfZnJlZShjdHgsICh2b2lkKil2by0+dmFsdWUpOwogICAgaWYodm8tPm9wdGlvbnMpCiAgICAgIHZob3N0X29wdGlvbnNfZnJlZV9saXN0KGN0eCwgdm8tPm9wdGlvbnMpOwoKICAgIG5leHQgPSB2by0+bmV4dDsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8pOwogIH0gd2hpbGUoKHZvID0gbmV4dCkpOwp9Cgp2b2lkCnZob3N0X29wdGlvbnNfZnJlZShKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewoKICBpZih2by0+bmFtZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPm5hbWUpOwogIGlmKHZvLT52YWx1ZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPnZhbHVlKTsKCiAgaWYodm8tPm9wdGlvbnMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHZvLT5vcHRpb25zKTsKCiAganNfZnJlZShjdHgsICh2b2lkKil2byk7Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb3VudHBvaW50LCBjb25zdCBjaGFyKiBvcmlnaW4sIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKSB7CiAgTWlubmV0SHR0cE1vdW50KiBtOwoKICBpZigobSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cE1vdW50KSkpKSB7CgogICAgLy8gcHJpbnRmKCJtb3VudF9jcmVhdGUgbW50PSUtMTBzIG9yZz0lLTIwcyBkZWY9JS0xNXMgcHJvdG9jb2w9JS0xMHMgb3JpZ2luX3Byb3RvY29sPSVzXG4iLCBtb3VudHBvaW50LCBvcmlnaW4sIGRlZiwgcHJvLCAoKGNvbnN0IGNoYXIqW10peyAiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwKICAgIC8vICJSRURJUl9IVFRQUyIsICJDQUxMQkFDSyIsIH0pW29yaWdpbl9wcm90b10pOwoKICAgIG0tPmx3cy5tb3VudHBvaW50ID0ganNfc3RyZHVwKGN0eCwgbW91bnRwb2ludCk7CiAgICBtLT5sd3Mub3JpZ2luID0gb3JpZ2luID8ganNfc3RyZHVwKGN0eCwgb3JpZ2luKSA6IDA7CiAgICBtLT5sd3MuZGVmID0gZGVmID8ganNfc3RyZHVwKGN0eCwgZGVmKSA6IDA7CiAgICBtLT5sd3MucHJvdG9jb2wgPSBwcm8gPyBwcm8gOiBqc19zdHJkdXAoY3R4LCBvcmlnaW5fcHJvdG8gPT0gTFdTTVBST19DQUxMQkFDSyA/ICJodHRwIiA6ICJkZWZwcm90Iik7CiAgICBtLT5sd3Mub3JpZ2luX3Byb3RvY29sID0gb3JpZ2luX3Byb3RvOwogICAgbS0+bHdzLm1vdW50cG9pbnRfbGVuID0gc3RybGVuKG1vdW50cG9pbnQpOwogIH0KCiAgcmV0dXJuIG07Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBrZXkpIHsKICBNaW5uZXRIdHRwTW91bnQqIHJldDsKICBKU1ZhbHVlIG1udCA9IEpTX1VOREVGSU5FRCwgb3JnID0gSlNfVU5ERUZJTkVELCBkZWYgPSBKU19VTkRFRklORUQsIHBybyA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9iaikpIHsKICAgIG1udCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAwKTsKICAgIG9yZyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAxKTsKICAgIGRlZiA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAyKTsKICAgIHBybyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAzKTsKICB9IGVsc2UgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9iaikpIHsKCiAgICBpZigha2V5KSB7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBKU1ZhbHVlIG5hbWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5hbWUiKTsKICAgICAgY29uc3QgY2hhciogbmFtZXN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZuYW1lbGVuLCBuYW1lKTsKICAgICAgY2hhciBidWZbbmFtZWxlbiArIDJdOwogICAgICBwc3RyY3B5KCZidWZbMV0sIG5hbWVsZW4gKyAxLCBuYW1lc3RyKTsKICAgICAgYnVmWzBdID0gJy8nOwogICAgICBidWZbbmFtZWxlbiArIDFdID0gJ1wwJzsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lc3RyKTsKICAgICAgbW50ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICBtbnQgPSBKU19OZXdTdHJpbmcoY3R4LCBrZXkpOwogICAgfQoKICAgIG9yZyA9IEpTX0R1cFZhbHVlKGN0eCwgb2JqKTsKICB9CgogIGNvbnN0IGNoYXIqIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCBtbnQpOwoKICAvLyBwcmludGYoIm1vdW50X25ldyAnJXMnXG4iLCBwYXRoKTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9yZykpIHsKICAgIHJldCA9IG1vdW50X2NyZWF0ZShjdHgsIHBhdGgsIDAsIDAsIDAsIExXU01QUk9fQ0FMTEJBQ0spOwoKICAgIEdFVENCVEhJUyhvcmcsIHJldC0+Y2FsbGJhY2ssIEpTX1VOREVGSU5FRCk7CgogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBkZXN0ID0gSlNfVG9DU3RyaW5nKGN0eCwgb3JnKTsKICAgIGNoYXIqIHByb3RvY29sID0gSlNfSXNTdHJpbmcocHJvKSA/IGpzX3Rvc3RyaW5nKGN0eCwgcHJvKSA6IDA7CiAgICBjb25zdCBjaGFyKiBkb3RzbGFzaHNsYXNoID0gc3Ryc3RyKGRlc3QsICI6Ly8iKTsKICAgIHNpemVfdCBwbGVuID0gZG90c2xhc2hzbGFzaCA/IGRvdHNsYXNoc2xhc2ggLSBkZXN0IDogMDsKICAgIGNvbnN0IGNoYXIqIG9yaWdpbiA9ICZkZXN0W3BsZW4gPyBwbGVuICsgMyA6IDBdOwogICAgY29uc3QgY2hhciogaW5kZXggPSBKU19Jc1VuZGVmaW5lZChkZWYpID8gMCA6IEpTX1RvQ1N0cmluZyhjdHgsIGRlZik7CiAgICBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgcHJvdG8gPSBwbGVuID09IDAgPyBMV1NNUFJPX0ZJTEUgOiAhc3RybmNtcChkZXN0LCAiaHR0cHMiLCBwbGVuKSA/IExXU01QUk9fSFRUUFMgOiBMV1NNUFJPX0hUVFA7CgogICAgcmV0ID0gbW91bnRfY3JlYXRlKGN0eCwgcGF0aCwgb3JpZ2luLCBpbmRleCwgcHJvdG9jb2wsIHByb3RvKTsKCiAgICBpZihpbmRleCkKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmRleCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGRlc3QpOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXRoKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgbW50KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcmcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlZik7CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kKE1pbm5ldEh0dHBNb3VudCogbW91bnRzLCBjb25zdCBjaGFyKiB4LCBzaXplX3QgbikgewogIHN0cnVjdCBsd3NfaHR0cF9tb3VudCAqcCwgKm0gPSAwOwogIGludCBwcm90b2NvbCA9IG4gPT0gMCA/IExXU01QUk9fQ0FMTEJBQ0sgOiBMV1NNUFJPX0hUVFA7CiAgc2l6ZV90IGwgPSAwOwogIGlmKG4gPT0gMCkKICAgIG4gPSBzdHJsZW4oeCk7CiAgaWYocHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiB4WzBdID09ICcvJykgewogICAgeCsrOwogICAgbi0tOwogIH0KICBmb3IocCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKW1vdW50czsgcDsgcCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKXAtPm1vdW50X25leHQpIHsKICAgIGlmKHByb3RvY29sICE9IExXU01QUk9fQ0FMTEJBQ0sgfHwgcC0+b3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKICAgICAgY29uc3QgY2hhciogbW50ID0gcC0+bW91bnRwb2ludDsKICAgICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwogICAgICBpZihwcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLICYmIG1udFswXSA9PSAnLycpIHsKICAgICAgICBtbnQrKzsKICAgICAgICBsZW4tLTsKICAgICAgfQogICAgICAvLyBwcmludGYoIm1vdW50IHg9JyUuKnMnICclLipzJ1xuIiwgKGludCluLCB4LCAoaW50KWxlbiwgbW50KTsKCiAgICAgIGlmKChsZW4gPT0gbiB8fCAobiA+IGxlbiAmJiAoeFtsZW5dID09ICcvJyB8fCB4W2xlbl0gPT0gJz8nKSkpICYmICFzdHJuY21wKHgsIG1udCwgbikpIHsKICAgICAgICBtID0gcDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihuID49IGxlbiAmJiBsZW4gPj0gbCAmJiAhc3RybmNtcChtbnQsIHgsIE1JTihsZW4sIG4pKSkgewogICAgICAgIG0gPSBwOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAoc3RydWN0IGh0dHBfbW91bnQqKW07Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kX3MoTWlubmV0SHR0cE1vdW50KiBtb3VudHMsIGNvbnN0IGNoYXIqIHgpIHsKICBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKnAsICptID0gMDsKICBzaXplX3QgbiA9IHN0cmxlbih4KTsKCiAgZm9yKHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50Kiltb3VudHM7IHA7IHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50KilwLT5tb3VudF9uZXh0KSB7CiAgICBjb25zdCBjaGFyKiBtbnQgPSBwLT5tb3VudHBvaW50OwogICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwoKICAgIC8vIHByaW50ZigibW91bnQgeD0nJS4qcycgJyUuKnMnXG4iLCAoaW50KW4sIHgsIChpbnQpbGVuLCBtbnQpOwogICAgaWYobGVuID09IG4gJiYgIXN0cm5jbXAoeCwgbW50LCBuKSkgewogICAgICBtID0gcDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBpZihsZW4gPT0gMSAmJiBtbnRbMF0gPT0gJy8nKSB7CiAgICAgIG0gPSBwOwogICAgfQogICAgaWYoKG4gPiBsZW4gJiYgKHhbbGVuXSA9PSAnLycgfHwgeFtsZW5dID09ICc/JykpICYmIChsZW4gPT0gMCB8fCAhc3RybmNtcCh4LCBtbnQsIGxlbikpKSB7CiAgICAgIG0gPSBwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIChzdHJ1Y3QgaHR0cF9tb3VudCopbTsKfQoKdm9pZAptb3VudF9mcmVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQgY29uc3QqIG0pIHsKICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmx3cy5tb3VudHBvaW50KTsKCiAgaWYobS0+b3JnKQogICAganNfZnJlZShjdHgsICh2b2lkKiltLT5vcmcpOwoKICBpZihtLT5kZWYpCiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmRlZik7CgogIGlmKG0tPnBybykKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopbS0+cHJvKTsKCiAganNfZnJlZShjdHgsICh2b2lkKiltKTsKfQoKaW50Cmh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyogd3NpLCBNaW5uZXRCdWZmZXIqIGJ1Ziwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgaW50IGlzX3NzbCA9IGx3c19pc19zc2wod3NpKTsKCiAgbHdzbF91c2VyKCJodHRwICIgRkcoIjE5OCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgc3RhdHVzPSVkIHR5cGU9JXMgbGVuZ3RoPSV6dSIsICJSRVNQT05EIiwgb3BhcXVlLT5zZXJpYWwsIHJlc3AtPnN0YXR1cywgcmVzcC0+dHlwZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgLy8gcmVzcC0+cmVhZF9vbmx5ID0gVFJVRTsKCiAgaWYobHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzKHdzaSwgcmVzcC0+c3RhdHVzLCByZXNwLT50eXBlLCBpc19zc2wgPyBMV1NfSUxMRUdBTF9IVFRQX0NPTlRFTlRfTEVOIDogYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCAmYnVmLT53cml0ZSwgYnVmLT5lbmQpKSB7CiAgICByZXR1cm4gMTsKICB9CiAgLyogIHsKICAgICAgY2hhciogYiA9IGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KTsKCiAgICAgIGx3c2xfdXNlcigibHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzICV0ZCAnJXMnIiwgYnVmLT53cml0ZSAtIGJ1Zi0+c3RhcnQsIGIpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgICB9Ki8KCiAgewogICAgc2l6ZV90IGxlbiwgbjsKICAgIHVpbnQ4X3QgKngsICplbmQ7CiAgICBmb3IoeCA9IHJlc3AtPmhlYWRlcnMuc3RhcnQsIGVuZCA9IHJlc3AtPmhlYWRlcnMud3JpdGU7IHggPCBlbmQ7IHggKz0gbGVuICsgMSkgewogICAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgICAgaWYobGVuID4gKG4gPSBieXRlX2Nocih4LCBsZW4sICc6JykpKSB7CiAgICAgICAgY29uc3QgY2hhciogcHJvcCA9IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbik7CiAgICAgICAgaWYoeFtuXSA9PSAnOicpCiAgICAgICAgICBuKys7CiAgICAgICAgaWYoaXNzcGFjZSh4W25dKSkKICAgICAgICAgIG4rKzsKCiAgICAgICAgbHdzbF91c2VyKCJIVFRQIGhlYWRlciAlcyA9ICUuKnMiLCBwcm9wLCAoaW50KShsZW4gLSBuKSwgJnhbbl0pOwoKICAgICAgICBpZigobHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lKHdzaSwgKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXByb3AsIChjb25zdCB1bnNpZ25lZCBjaGFyKikmeFtuXSwgbGVuIC0gbiwgJmJ1Zi0+d3JpdGUsIGJ1Zi0+ZW5kKSkpCiAgICAgICAgICBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lIGZhaWxlZCIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcHJvcCk7CiAgICAgIH0KICAgIH0KICB9CiAgaW50IHJldCA9IGx3c19maW5hbGl6ZV93cml0ZV9odHRwX2hlYWRlcih3c2ksIGJ1Zi0+c3RhcnQsICZidWYtPndyaXRlLCBidWYtPmVuZCk7CgogIC8qIHsKICAgICBjaGFyKiBiID0gYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpOwogICAgIGx3c2xfdXNlcigibHdzX2ZpbmFsaXplX3dyaXRlX2h0dHBfaGVhZGVyICclcycgJXRkIHJldD0lZCIsIGIsIGJ1Zi0+d3JpdGUgLSBidWYtPnN0YXJ0LCByZXQpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgIH0qLwogIGlmKHJldCkKICAgIHJldHVybiAyOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIE1pbm5ldFJlc3BvbnNlKgpyZXF1ZXN0X2hhbmRsZXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY2ItPmN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwoKICBpZihjYiAmJiBjYi0+Y3R4KSB7CiAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CiAgICBsd3NsX3VzZXIoInJlcXVlc3RfaGFuZGxlciByZXQ9JXMiLCBKU19Ub0NTdHJpbmcoY2ItPmN0eCwgcmV0KSk7CiAgICBpZihKU19Jc09iamVjdChyZXQpICYmIG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBzZXNzaW9uLT5hcmdzWzFdKTsKICAgICAgc2Vzc2lvbi0+YXJnc1sxXSA9IHJldDsKICAgICAgcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpOwogICAgfSBlbHNlIHsKICAgICAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIHJldCk7CiAgICB9CiAgfQogIGx3c2xfdXNlcigicmVxdWVzdF9oYW5kbGVyICVzIiwgcmVzcG9uc2VfZHVtcChyZXNwKSk7CgogIHJldHVybiByZXNwOwp9CgpzdGF0aWMgc2l6ZV90CmZpbGVfc2l6ZShGSUxFKiBmcCkgewogIGxvbmcgcG9zID0gZnRlbGwoZnApOwogIHNpemVfdCBzaXplID0gMDsKCiAgaWYoZnNlZWsoZnAsIDAsIFNFRUtfRU5EKSAhPSAtMSkgewogICAgc2l6ZSA9IGZ0ZWxsKGZwKTsKICAgIGZzZWVrKGZwLCBwb3MsIFNFRUtfU0VUKTsKICB9CiAgcmV0dXJuIHNpemU7Cn0KCnN0YXRpYyBpbnQKc2VydmVfZmlsZShzdHJ1Y3QgbHdzKiB3c2ksIGNvbnN0IGNoYXIqIHBhdGgsIHN0cnVjdCBodHRwX21vdW50KiBtb3VudCwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgRklMRSogZnA7CiAgY29uc3QgY2hhciogbWltZSA9IGx3c19nZXRfbWltZXR5cGUocGF0aCwgJm1vdW50LT5sd3MpOwoKICBpZihwYXRoWzBdID09ICdcMCcpCiAgICBwYXRoID0gbW91bnQtPmRlZjsKCiAgLyp7CiAgICBjaGFyIGRpc3Bvc2l0aW9uWzEwMjRdOwogICAgc25wcmludGYoZGlzcG9zaXRpb24sIHNpemVvZihkaXNwb3NpdGlvbiksICJhdHRhY2htZW50OyBmaWxlbmFtZT1cIiVzXCIiLCBiYXNlbmFtZShwYXRoKSk7CiAgICBoZWFkZXJzX3NldChjdHgsICZyZXNwLT5oZWFkZXJzLCAiQ29udGVudC1EaXNwb3NpdGlvbiIsIGRpc3Bvc2l0aW9uKTsKICB9Ki8KCiAgaWYoKGZwID0gZm9wZW4ocGF0aCwgInJiIikpKSB7CiAgICBzaXplX3QgbiA9IGZpbGVfc2l6ZShmcCk7CgogICAgYnVmZmVyX2FsbG9jKCZyZXNwLT5ib2R5LCBuLCBjdHgpOwoKICAgIGlmKGZyZWFkKHJlc3AtPmJvZHkud3JpdGUsIG4sIDEsIGZwKSA9PSAxKQogICAgICByZXNwLT5ib2R5LndyaXRlICs9IG47CgogICAgaWYobWltZSkgewogICAgICBpZihyZXNwLT50eXBlKQogICAgICAgIGpzX2ZyZWUoY3R4LCByZXNwLT50eXBlKTsKCiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBtaW1lKTsKICAgIH0KCiAgICBmY2xvc2UoZnApOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBib2R5ID0gIjxodG1sPlxuICA8aGVhZD5cbiAgICA8dGl0bGU+NDA0IE5vdCBGb3VuZDwvdGl0bGU+XG4gICAgPG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PVwiQ29udGVudC1MYW5ndWFnZVwiIGNvbnRlbnQ9XCJlblwiLz5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8aDE+NDA0IE5vdCAiCiAgICAgICAgICAgICAgICAgICAgICAgIkZvdW5kPC9oMT5cbiAgPC9ib2R5PlxuPC9odG1sPlxuIjsKICAgIHJlc3AtPnN0YXR1cyA9IDQwNDsKICAgIHJlc3AtPm9rID0gRkFMU0U7CgogICAgcmVzcG9uc2Vfd3JpdGUocmVzcCwgYm9keSwgc3RybGVuKGJvZHkpLCBjdHgpOwogIH0KCiAgbHdzbF91c2VyKCJzZXJ2ZV9maWxlIHBhdGg9JXMgbW91bnQ9JS4qcyBsZW5ndGg9JXRkIiwgcGF0aCwgbW91bnQtPmx3cy5tb3VudHBvaW50X2xlbiwgbW91bnQtPmx3cy5tb3VudHBvaW50LCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICByZXR1cm4gMDsKfQoKaW50Cmh0dHBfc2VydmVyX3dyaXRhYmxlKHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEJPT0wgZG9uZSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wgbiwgcCA9IC0xOwogIHNpemVfdCByZW1haW47CiAgc3NpemVfdCByZXQgPSAwOwoKICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgLyogIGlmKCFidWZmZXJfQllURVMoJnJlc3AtPmJvZHkpICYmIGlzX2gyKHdzaSkpIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksICJcblhYWFhYWFhYWFhYWFhYIiwgMSwgY3R4KTsqLwoKICBpZigocmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSkpIHsKICAgIHVpbnQ4X3QqIHggPSByZXNwLT5ib2R5LnJlYWQ7CiAgICBzaXplX3QgbCA9IGlzX2gyKHdzaSkgPyAocmVtYWluID4gMTAyNCA/IDEwMjQgOiByZW1haW4pIDogcmVtYWluOwoKICAgIGlmKGwgPiAwKSB7CiAgICAgIHAgPSAocmVtYWluIC0gbCkgPiAwID8gTFdTX1dSSVRFX0hUVFAgOiBuOwogICAgICByZXQgPSBsd3Nfd3JpdGUod3NpLCB4LCBsLCBwKTsKICAgICAgbHdzbF91c2VyKCJsd3Nfd3JpdGUgd3NpIyUiIFBSSWk2NCAiIGxlbj0lenUgZmluYWw9JWQgcmV0PSV6ZCIsIG9wYXF1ZS0+c2VyaWFsLCBsLCBwID09IExXU19XUklURV9IVFRQX0ZJTkFMLCByZXQpOwogICAgICBpZihyZXQgPiAwKQogICAgICAgIGJ1ZmZlcl9za2lwKCZyZXNwLT5ib2R5LCByZXQpOwogICAgfQogIH0KCiAgcmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KTsKCiAgbHdzbF91c2VyKCIlcyB3c2kjJSIgUFJJaTY0ICIgZG9uZT0laSByZW1haW49JXp1IGZpbmFsPSVkIiwgX19mdW5jX18sIG9wYXF1ZS0+c2VyaWFsLCBkb25lLCByZW1haW4sIHAgPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwpOwoKICBpZihwID09IExXU19XUklURV9IVFRQX0ZJTkFMKSB7CgogICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgIHJldHVybiAtMTsKCiAgICByZXR1cm4gMTsKICB9IGVsc2UgaWYocmVtYWluID4gMCkgewogICAgLyoKICAgICAqIEhUVFAvMS4wIG5vIGtlZXBhbGl2ZTogY2xvc2UgbmV0d29yayBjb25uZWN0aW9uCiAgICAgKiBIVFRQLzEuMSBvciBIVFRQMS4wICsgS0E6IHdhaXQgLyBwcm9jZXNzIG5leHQgdHJhbnNhY3Rpb24KICAgICAqIEhUVFAvMjogcmluZ2J1ZmZlciBlbmRlZCwgcGFyZW50IGNvbm5lY3Rpb24gcmVtYWlucyB1cAogICAgICovCiAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICB9CgogIHJldHVybiAwOwp9CgppbnQKaHR0cF9zZXJ2ZXJfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICB1aW50OF90IGJ1ZltMV1NfUFJFICsgTFdTX1JFQ09NTUVOREVEX01JTl9IRUFERVJfU1BBQ0VdOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXIgPyBzZXJ2ZXItPmNvbnRleHQuanMgOiAwOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHsKICAgIGFzc2VydChzZXJ2ZXIpOwogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIH0KCiAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERSkgewogICAgaWYoc2Vzc2lvbiAmJiBzZXNzaW9uLT5zZXJpYWwgIT0gb3BhcXVlLT5zZXJpYWwpIHsKICAgICAgc2Vzc2lvbi0+c2VyaWFsID0gb3BhcXVlLT5zZXJpYWw7CiAgICAgIHNlc3Npb24tPmgyID0gaXNfaDIod3NpKTsKICAgIH0KICB9CgogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMgJiYgcmVhc29uICE9IExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUykgewogICAgaWYoIW9wYXF1ZSAmJiB3c2kgJiYgc2Vzc2lvbiAmJiBjdHgpIHsKICAgICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICAgIGFzc2VydChvcGFxdWUpOwogICAgfQogIH0KICAvLyBhc3NlcnQob3BhcXVlKTsKCiAgTE9HKCJIVFRQIiwKICAgICAgIiVzJXNmZD0lZCBpbj0nJS4qcycgdXJsPSVzIHNlc3Npb24jJWQiLAogICAgICBpc19oMih3c2kpID8gImgyLCAiIDogIiIsCiAgICAgIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwKICAgICAgbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3c2kpKSwKICAgICAgKGludClsZW4sCiAgICAgIGluLAogICAgICBvcGFxdWUgJiYgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDAsCiAgICAgIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEVDS19BQ0NFU1NfUklHSFRTOiB7CiAgICAgIHJldHVybiAwOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgLy8gc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBKU1ZhbHVlQ29uc3QgYXJnc1syXSA9IHtzZXNzaW9uLT53c19vYmosIEpTX05VTEx9OwoKICAgICAgaWYoIWx3c19pc19zc2wod3NpKSAmJiAhc3RyY21wKGluLCAiaDJjIikpCiAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKSB7CiAgICAgICAgLypjaGFyKiB1cmk7CiAgICAgICAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2Q7CgogICAgICAgIHVyaSA9IG1pbm5ldF91cmlfYW5kX21ldGhvZChjdHgsIHdzaSwgJm1ldGhvZCk7CiAgICAgICAgaWYodXJpKSovCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwogICAgICB9CgogICAgICBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwoKICAgICAgTE9HKCJIVFRQIiwgImZkPSVpLCBudW1faGRyPSVpIiwgbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3c2kpKSwgbnVtX2hkcik7CgogICAgICAvKnJldHVybiAxOyovCiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046IHsKICAgICAgYXNzZXJ0KCFvcGFxdWUtPnJlcSk7CgogICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXVybChjdHgsIGluKTsKCiAgICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgICAgaWYoKHZob3N0ID0gbHdzX2dldF92aG9zdCh3c2kpKSkgewogICAgICAgIGNvbnN0IGNoYXIqIG5hbWU7CgogICAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgICB1cmxfcGFyc2UoJm9wYXF1ZS0+cmVxLT51cmwsIG5hbWUsIGN0eCk7CiAgICAgIH0KCiAgICAgIHVybF9zZXRfcHJvdG9jb2woJm9wYXF1ZS0+cmVxLT51cmwsIGx3c19pc19zc2wod3NpKSA/ICJodHRwcyIgOiAiaHR0cCIpOwoKICAgICAgLy8gTE9HKCJIVFRQIiwgInVybD0lcyIsIG9wYXF1ZS0+cmVxID8gdXJsX3N0cmluZygmb3BhcXVlLT5yZXEtPnVybCkgOiAwKTsKICAgICAgcmV0dXJuIDA7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9IRUFERVJTOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQk9EWV9DT01QTEVUSU9OOiB7CiAgICAgIE1pbm5ldENhbGxiYWNrKiBjYiA9IHNlc3Npb24tPm1vdW50ID8gJnNlc3Npb24tPm1vdW50LT5jYWxsYmFjayA6IDA7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gcmVxdWVzdF9oYW5kbGVyKHNlc3Npb24sIGNiKTsKCiAgICAgIGlmKGNiICYmIGNiLT5jdHgpIHsKICAgICAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CgogICAgICAgIGFzc2VydChqc19pc19pdGVyYXRvcihjdHgsIHJldCkpOwogICAgICAgIHNlc3Npb24tPmdlbmVyYXRvciA9IHJldDsKICAgICAgfSAvKiBlbHNlIGlmKGx3c19odHRwX3RyYW5zYWN0aW9uX2NvbXBsZXRlZCh3c2kpKSB7CiAgICAgICAgIHJldHVybiAtMTsKICAgICAgIH0KICovCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0JPRFk6IHsKICAgICAgTWlubmV0UmVxdWVzdCogcmVxID0gbWlubmV0X3JlcXVlc3RfZGF0YTIoY3R4LCBzZXNzaW9uLT5yZXFfb2JqKTsKCiAgICAgIExPRygiSFRUUCIsICIlc2xlbjogJXp1LCBzaXplOiAlenUiLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGxlbiwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwoKICAgICAgaWYobGVuKSB7CiAgICAgICAgYnVmZmVyX2FwcGVuZCgmcmVxLT5ib2R5LCBpbiwgbGVuLCBjdHgpOwoKICAgICAgICBqc19kdW1wX3N0cmluZyhpbiwgbGVuLCA4MCk7CiAgICAgICAgcHV0cygiIik7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUDogewogICAgICBNaW5uZXRVUkwqIHVybCA9ICZvcGFxdWUtPnJlcS0+dXJsOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBNaW5uZXRCdWZmZXIgYiA9IEJVRkZFUihidWYpOwogICAgICBKU1ZhbHVlKiBhcmdzID0gc2Vzc2lvbi0+YXJnczsKICAgICAgY2hhciogcGF0aCA9IGluOwogICAgICBpbnQgcmV0ID0gMDsKICAgICAgc2l6ZV90IG1vdW50cG9pbnRfbGVuID0gMCwgcGF0aGxlbiA9IHN0cmxlbih1cmwtPnBhdGgpOwoKICAgICAgaWYodXJsLT5wYXRoICYmIGluICYmIGxlbiA8IHBhdGhsZW4gLyomJiAhc3RyY21wKHVybC0+cGF0aCwgaW4pKi8pCiAgICAgICAgbW91bnRwb2ludF9sZW4gPSBwYXRobGVuIC0gbGVuOwoKICAgICAgTE9HKCJIVFRQIiwgIm1vdW50cG9pbnQ9JyUuKnMnIHBhdGg9JyVzJyIsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCwgcGF0aCk7CgogICAgICBpZighb3BhcXVlLT5yZXEtPmhlYWRlcnMud3JpdGUpIHsKICAgICAgICBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICB9CiAgICAgIC8qCiAgICAgICAgICAgIGlmKCFvcGFxdWUtPnJlcS0+cGF0aFswXSkKICAgICAgICAgICAgICBwc3RyY3B5KG9wYXF1ZS0+cmVxLT5wYXRoLCBzaXplb2Yob3BhcXVlLT5yZXEtPnBhdGgpLCBwYXRoKTsKICAgICAgKi8KICAgICAgc2Vzc2lvbi0+bW91bnQgPSBtb3VudF9maW5kKChNaW5uZXRIdHRwTW91bnQqKXNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgcGF0aCwgMCk7CiAgICAgIGlmKHVybC0+cGF0aCAmJiAhc2Vzc2lvbi0+bW91bnQpCiAgICAgICAgaWYoIShzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgsIG1vdW50cG9pbnRfbGVuKSkpCiAgICAgICAgICBzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgsIDApOwoKICAgICAgc2Vzc2lvbi0+aDIgPSBpc19oMih3c2kpOwoKICAgICAgaWYoKG1vdW50ID0gc2Vzc2lvbi0+bW91bnQpKSB7CiAgICAgICAgc2l6ZV90IG1sZW4gPSBzdHJsZW4obW91bnQtPm1udCk7CiAgICAgICAgYXNzZXJ0KCFzdHJuY21wKHVybC0+cGF0aCwgbW91bnQtPm1udCwgbWxlbikpOwogICAgICAgIGFzc2VydCghc3RyY21wKHVybC0+cGF0aCArIG1sZW4sIHBhdGgpKTsKCiAgICAgICAgTE9HKCJIVFRQIiwKICAgICAgICAgICAgIm1vdW50OiBtbnQ9JyVzJywgb3JnPSclcycsIHBybz0nJXMnLCBvcmlnaW5fcHJvdG9jb2w9JyVzJ1xuIiwKICAgICAgICAgICAgbW91bnQtPm1udCwKICAgICAgICAgICAgbW91bnQtPm9yZywKICAgICAgICAgICAgbW91bnQtPnBybywKICAgICAgICAgICAgKChjb25zdCBjaGFyKltdKXsiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwgIlJFRElSX0hUVFBTIiwgIkNBTExCQUNLIn0pWyh1aW50cHRyX3QpbW91bnQtPmx3cy5vcmlnaW5fcHJvdG9jb2xdKTsKICAgICAgfQoKICAgICAgYXJnc1swXSA9IHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgaWYoIUpTX0lzT2JqZWN0KGFyZ3NbMV0pKQogICAgICAgIGFyZ3NbMV0gPSBtaW5uZXRfcmVzcG9uc2VfbmV3KGN0eCwgKnVybCwgb3BhcXVlLT5yZXEtPm1ldGhvZCA9PSBNRVRIT0RfUE9TVCA/IDIwMSA6IDIwMCwgMCwgVFJVRSwgInRleHQvaHRtbCIpOwoKICAgICAgTWlubmV0UmVxdWVzdCogcmVxID0gb3BhcXVlLT5yZXE7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gb3BhcXVlLT5yZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgYXJnc1sxXSk7CgogICAgICBMT0coIkhUVFAiLCAicmVxPSVwLCBoZWFkZXI9JXp1IiwgcmVxLCBidWZmZXJfSEVBRCgmcmVxLT5oZWFkZXJzKSk7CgogICAgICByZXF1ZXN0X2R1cChyZXEpOwoKICAgICAgTWlubmV0Q2FsbGJhY2sqIGNiID0gJnNlcnZlci0+Y2IuaHR0cDsKCiAgICAgIGlmKG1vdW50ICYmIChtb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbCA9PSBMV1NNUFJPX0ZJTEUgfHwgKG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0sgJiYgbW91bnQtPmx3cy5vcmlnaW4pKSkgewoKICAgICAgICBpZigocmV0ID0gc2VydmVfZmlsZSh3c2ksIHBhdGgsIG1vdW50LCByZXNwLCBjdHgpKSkgewogICAgICAgICAgTE9HKCJIVFRQIiwgInNlcnZlX2ZpbGUgRkFJTCAlZCIsIHJldCk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICBpZigocmV0ID0gaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSkgewogICAgICAgICAgTE9HKCJIVFRQIiwgImh0dHBfc2VydmVyX3Jlc3BvbmQgRkFJTCAlZCIsIHJldCk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZihtb3VudCAmJiBtb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLKSB7CgogICAgICAgIGNiID0gJm1vdW50LT5jYWxsYmFjazsKCiAgICAgICAgaWYocmVxLT5tZXRob2QgPT0gTUVUSE9EX0dFVCAvKiB8fCBpc19oMih3c2kpKi8pIHsKICAgICAgICAgIHJlc3AgPSByZXF1ZXN0X2hhbmRsZXIoc2Vzc2lvbiwgY2IpOwoKICAgICAgICAgIGlmKGNiICYmIGNiLT5jdHgpIHsKICAgICAgICAgICAgSlNWYWx1ZSBnZW4gPSBtaW5uZXRfZW1pdF90aGlzKGNiLCBzZXNzaW9uLT53c19vYmosIDIsIGFyZ3MpOwogICAgICAgICAgICBhc3NlcnQoanNfaXNfaXRlcmF0b3IoY3R4LCBnZW4pKTsKICAgICAgICAgICAgTE9HKCJIVFRQIiwgImdlbj0lcyIsIEpTX1RvQ1N0cmluZyhjdHgsIGdlbikpOwoKICAgICAgICAgICAgc2Vzc2lvbi0+Z2VuZXJhdG9yID0gZ2VuOwogICAgICAgICAgICBzZXNzaW9uLT5uZXh0ID0gSlNfVU5ERUZJTkVEOwogICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIExPRygiSFRUUCIsICJwYXRoPSVzIG1vdW50cG9pbnQ9JS4qcyIsIHBhdGgsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCk7CiAgICAgICAgICAgIGlmKGx3c19odHRwX3RyYW5zYWN0aW9uX2NvbXBsZXRlZCh3c2kpKQogICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKGh0dHBfc2VydmVyX3Jlc3BvbmQod3NpLCAmYiwgcmVzcCwgY3R4KSkgewogICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgTE9HKCJIVFRQIiwgIk5PVCBGT1VORFx0cGF0aD0lcyBtb3VudHBvaW50PSUuKnMiLCBwYXRoLCAoaW50KW1vdW50cG9pbnRfbGVuLCB1cmwtPnBhdGgpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGlmKHJlcS0+bWV0aG9kID09IE1FVEhPRF9HRVQgfHwgaXNfaDIod3NpKSkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKCiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CgogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiB7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogICAgICBCT09MIGRvbmUgPSBGQUxTRTsKCiAgICAgIExPRygiSFRUUCIsCiAgICAgICAgICAiJXNtbnQ9JXMgcmVtYWluPSV0ZCB0eXBlPSVzIHVybC5wYXRoPSVzIiwKICAgICAgICAgIHNlc3Npb24tPmgyID8gImgyLCAiIDogIiIsCiAgICAgICAgICBzZXNzaW9uLT5tb3VudCA/IHNlc3Npb24tPm1vdW50LT5tbnQgOiAwLAogICAgICAgICAgcmVzcCA/IGJ1ZmZlcl9CWVRFUygmcmVzcC0+Ym9keSkgOiAwLAogICAgICAgICAgcmVzcCA/IHJlc3AtPnR5cGUgOiAwLAogICAgICAgICAgcmVzcCA/IHJlc3AtPnVybC5wYXRoIDogMCk7CgogICAgICBpZihKU19Jc09iamVjdChzZXNzaW9uLT5nZW5lcmF0b3IpKSB7CiAgICAgICAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogICAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgICByZXQgPSBqc19pdGVyYXRvcl9uZXh0KGN0eCwgc2Vzc2lvbi0+Z2VuZXJhdG9yLCAmc2Vzc2lvbi0+bmV4dCwgJmRvbmUsIDAsIDApOwoKICAgICAgICAgIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpIHsKICAgICAgICAgICAgSlNWYWx1ZSBleGNlcHRpb24gPSBKU19HZXRFeGNlcHRpb24oY3R4KTsKICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsICJFeGNlcHRpb246ICVzXG4iLCBKU19Ub0NTdHJpbmcoY3R4LCBleGNlcHRpb24pKTsKICAgICAgICAgICAgZG9uZSA9IFRSVUU7CiAgICAgICAgICB9IGVsc2UgaWYoIWRvbmUpIHsKICAgICAgICAgICAgSlNCdWZmZXIgb3V0ID0ganNfYnVmZmVyX25ldyhjdHgsIHJldCk7CiAgICAgICAgICAgIExPRygiSFRUUCIsICJzaXplPSV6dSIsIG91dC5zaXplKTsKICAgICAgICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgb3V0LmRhdGEsIG91dC5zaXplLCBjdHgpOwogICAgICAgICAgICBqc19idWZmZXJfZnJlZSgmb3V0LCBjdHgpOwogICAgICAgICAgfQogICAgICAgICAgTE9HKCJIVFRQIiwgImRvbmU9JWkgd3JpdGU9JXp1IiwgZG9uZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgICAgICAgICBpZihvcGFxdWUtPnN0YXR1cyA9PSBPUEVOKSB7CiAgICAgICAgICAgIGlmKGh0dHBfc2VydmVyX3Jlc3BvbmQod3NpLCAmYiwgcmVzcCwgY3R4KSkgewogICAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsKCiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TSU5HOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZighYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKSB7CiAgICAgICAgc3RhdGljIGludCB1bmhhbmRsZWQ7CgogICAgICAgIGlmKCF1bmhhbmRsZWQrKykKICAgICAgICAgIExPRygiSFRUUCIsICJ1bmhhbmRsZWQgJWQiLCB1bmhhbmRsZWQpOwoKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb25lID0gVFJVRTsKICAgICAgfQoKICAgICAgaWYoaHR0cF9zZXJ2ZXJfd3JpdGFibGUod3NpLCByZXNwLCBkb25lKSA9PSAxKQogICAgICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTiwgdXNlciwgaW4sIGxlbik7CgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9GSUxFX0NPTVBMRVRJT046IHsKCiAgICAgIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICAgICAgcmVxdWVzdF9mcmVlKG9wYXF1ZS0+cmVxLCBjdHgpOwogICAgICAgIG9wYXF1ZS0+cmVxID0gMDsKICAgICAgfQoKICAgICAgaWYob3BhcXVlLT5yZXNwKSB7CiAgICAgICAgcmVzcG9uc2VfZnJlZShvcGFxdWUtPnJlc3AsIGN0eCk7CiAgICAgICAgb3BhcXVlLT5yZXNwID0gMDsKICAgICAgfQoKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0hUVFA6IHsKICAgICAgTE9HKCJIVFRQIiwgImluPSclLipzJyB1cmw9JXMiLCAoaW50KWxlbiwgKGNoYXIqKWluLCBvcGFxdWUgJiYgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDApOwogICAgICAvLyBsd3NfY2xvc2VfZnJlZV93c2kod3NpLCBMV1NfQ0xPU0VfU1RBVFVTX05PU1RBVFVTLCBfX2Z1bmNfXyk7CiAgICAgIC8qICAgICBpZihzZXNzaW9uKSB7CiAgICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT5yZXFfb2JqKTsKICAgICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19VTkRFRklORUQ7CiAgICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXNzaW9uLT5yZXNwX29iaik7CiAgICAgICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX1VOREVGSU5FRDsKICAgICAgICAgICB9Ki8KICAgICAgcmV0dXJuIC0xOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGludCByZXQgPSAwOwogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfSFRUUF9XUklURUFCTEUgJiYgKHJlYXNvbiA8IExXU19DQUxMQkFDS19IVFRQX0JJTkRfUFJPVE9DT0wgfHwgcmVhc29uID4gTFdTX0NBTExCQUNLX0NIRUNLX0FDQ0VTU19SSUdIVFMpKSB7CiAgICBMT0coIkhUVFAiLCAiZmQ9JWkgJXMlc2luPSclLipzJyByZXQ9JWRcbiIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIChzZXNzaW9uICYmIHNlc3Npb24tPmgyKSB8fCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIChjaGFyKilpbiwgcmV0KTsKICB9CgogIHJldCA9IGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKCiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAADhYAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3DEAAAAAAADcMQAAAAAAAAAAAAAAAPC/"
				],
				[
					269,
					1,
					"paste",
					null,
					"AQAAAEFWAAAAAAAAqVYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQVYAAAAAAABBVgAAAAAAAAAAAAAAAPC/"
				],
				[
					270,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAKlWAAAAAAAAqlYAAAAAAAAAAAAAqlYAAAAAAACuVgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqVYAAAAAAACpVgAAAAAAAAAAAAAAAPC/"
				],
				[
					275,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAClWAAAI2luY2x1ZGUgPHN5cy90eXBlcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8bGliZ2VuLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLWh0dHAuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKCk1pbm5ldFZob3N0T3B0aW9ucyoKdmhvc3Rfb3B0aW9uc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2byA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Vmhvc3RPcHRpb25zKSk7CgojaWZkZWYgREVCVUdfT1VUUFVUCiAgZnByaW50ZihzdGRlcnIsICJ2aG9zdF9vcHRpb25zX2NyZWF0ZSAlcyAlc1xuIiwgbmFtZSwgdmFsdWUpOwojZW5kaWYKCiAgdm8tPm5hbWUgPSBuYW1lID8ganNfc3RyZHVwKGN0eCwgbmFtZSkgOiAwOwogIHZvLT52YWx1ZSA9IHZhbHVlID8ganNfc3RyZHVwKGN0eCwgdmFsdWUpIDogMDsKCiAgcmV0dXJuIHZvOwp9CgpNaW5uZXRWaG9zdE9wdGlvbnMqCnZob3N0X29wdGlvbnNfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgdmhvc3Rfb3B0aW9uKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2bzsKICBKU1ZhbHVlIG5hbWUsIHZhbHVlOwogIGNvbnN0IGNoYXIgKm5hbWVzdHIsICp2YWx1ZXN0cjsKCiAgbmFtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAwKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAxKTsKCiAgbmFtZXN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogIHZhbHVlc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZvID0gdmhvc3Rfb3B0aW9uc19jcmVhdGUoY3R4LCBuYW1lc3RyLCB2YWx1ZXN0cik7CgogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZXN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZXN0cik7CgogIHJldHVybiB2bzsKfQoKdm9pZAp2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewogIE1pbm5ldFZob3N0T3B0aW9ucyogbmV4dDsKCiAgZG8gewoKICAgIGlmKHZvLT5uYW1lKQogICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXZvLT5uYW1lKTsKICAgIGlmKHZvLT52YWx1ZSkKICAgICAganNfZnJlZShjdHgsICh2b2lkKil2by0+dmFsdWUpOwogICAgaWYodm8tPm9wdGlvbnMpCiAgICAgIHZob3N0X29wdGlvbnNfZnJlZV9saXN0KGN0eCwgdm8tPm9wdGlvbnMpOwoKICAgIG5leHQgPSB2by0+bmV4dDsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8pOwogIH0gd2hpbGUoKHZvID0gbmV4dCkpOwp9Cgp2b2lkCnZob3N0X29wdGlvbnNfZnJlZShKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewoKICBpZih2by0+bmFtZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPm5hbWUpOwogIGlmKHZvLT52YWx1ZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPnZhbHVlKTsKCiAgaWYodm8tPm9wdGlvbnMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHZvLT5vcHRpb25zKTsKCiAganNfZnJlZShjdHgsICh2b2lkKil2byk7Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb3VudHBvaW50LCBjb25zdCBjaGFyKiBvcmlnaW4sIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKSB7CiAgTWlubmV0SHR0cE1vdW50KiBtOwoKICBpZigobSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cE1vdW50KSkpKSB7CgogICAgLy8gcHJpbnRmKCJtb3VudF9jcmVhdGUgbW50PSUtMTBzIG9yZz0lLTIwcyBkZWY9JS0xNXMgcHJvdG9jb2w9JS0xMHMgb3JpZ2luX3Byb3RvY29sPSVzXG4iLCBtb3VudHBvaW50LCBvcmlnaW4sIGRlZiwgcHJvLCAoKGNvbnN0IGNoYXIqW10peyAiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwKICAgIC8vICJSRURJUl9IVFRQUyIsICJDQUxMQkFDSyIsIH0pW29yaWdpbl9wcm90b10pOwoKICAgIG0tPmx3cy5tb3VudHBvaW50ID0ganNfc3RyZHVwKGN0eCwgbW91bnRwb2ludCk7CiAgICBtLT5sd3Mub3JpZ2luID0gb3JpZ2luID8ganNfc3RyZHVwKGN0eCwgb3JpZ2luKSA6IDA7CiAgICBtLT5sd3MuZGVmID0gZGVmID8ganNfc3RyZHVwKGN0eCwgZGVmKSA6IDA7CiAgICBtLT5sd3MucHJvdG9jb2wgPSBwcm8gPyBwcm8gOiBqc19zdHJkdXAoY3R4LCBvcmlnaW5fcHJvdG8gPT0gTFdTTVBST19DQUxMQkFDSyA/ICJodHRwIiA6ICJkZWZwcm90Iik7CiAgICBtLT5sd3Mub3JpZ2luX3Byb3RvY29sID0gb3JpZ2luX3Byb3RvOwogICAgbS0+bHdzLm1vdW50cG9pbnRfbGVuID0gc3RybGVuKG1vdW50cG9pbnQpOwogIH0KCiAgcmV0dXJuIG07Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBrZXkpIHsKICBNaW5uZXRIdHRwTW91bnQqIHJldDsKICBKU1ZhbHVlIG1udCA9IEpTX1VOREVGSU5FRCwgb3JnID0gSlNfVU5ERUZJTkVELCBkZWYgPSBKU19VTkRFRklORUQsIHBybyA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9iaikpIHsKICAgIG1udCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAwKTsKICAgIG9yZyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAxKTsKICAgIGRlZiA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAyKTsKICAgIHBybyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAzKTsKICB9IGVsc2UgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9iaikpIHsKCiAgICBpZigha2V5KSB7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBKU1ZhbHVlIG5hbWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5hbWUiKTsKICAgICAgY29uc3QgY2hhciogbmFtZXN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZuYW1lbGVuLCBuYW1lKTsKICAgICAgY2hhciBidWZbbmFtZWxlbiArIDJdOwogICAgICBwc3RyY3B5KCZidWZbMV0sIG5hbWVsZW4gKyAxLCBuYW1lc3RyKTsKICAgICAgYnVmWzBdID0gJy8nOwogICAgICBidWZbbmFtZWxlbiArIDFdID0gJ1wwJzsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lc3RyKTsKICAgICAgbW50ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICBtbnQgPSBKU19OZXdTdHJpbmcoY3R4LCBrZXkpOwogICAgfQoKICAgIG9yZyA9IEpTX0R1cFZhbHVlKGN0eCwgb2JqKTsKICB9CgogIGNvbnN0IGNoYXIqIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCBtbnQpOwoKICAvLyBwcmludGYoIm1vdW50X25ldyAnJXMnXG4iLCBwYXRoKTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9yZykpIHsKICAgIHJldCA9IG1vdW50X2NyZWF0ZShjdHgsIHBhdGgsIDAsIDAsIDAsIExXU01QUk9fQ0FMTEJBQ0spOwoKICAgIEdFVENCVEhJUyhvcmcsIHJldC0+Y2FsbGJhY2ssIEpTX1VOREVGSU5FRCk7CgogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBkZXN0ID0gSlNfVG9DU3RyaW5nKGN0eCwgb3JnKTsKICAgIGNoYXIqIHByb3RvY29sID0gSlNfSXNTdHJpbmcocHJvKSA/IGpzX3Rvc3RyaW5nKGN0eCwgcHJvKSA6IDA7CiAgICBjb25zdCBjaGFyKiBkb3RzbGFzaHNsYXNoID0gc3Ryc3RyKGRlc3QsICI6Ly8iKTsKICAgIHNpemVfdCBwbGVuID0gZG90c2xhc2hzbGFzaCA/IGRvdHNsYXNoc2xhc2ggLSBkZXN0IDogMDsKICAgIGNvbnN0IGNoYXIqIG9yaWdpbiA9ICZkZXN0W3BsZW4gPyBwbGVuICsgMyA6IDBdOwogICAgY29uc3QgY2hhciogaW5kZXggPSBKU19Jc1VuZGVmaW5lZChkZWYpID8gMCA6IEpTX1RvQ1N0cmluZyhjdHgsIGRlZik7CiAgICBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgcHJvdG8gPSBwbGVuID09IDAgPyBMV1NNUFJPX0ZJTEUgOiAhc3RybmNtcChkZXN0LCAiaHR0cHMiLCBwbGVuKSA/IExXU01QUk9fSFRUUFMgOiBMV1NNUFJPX0hUVFA7CgogICAgcmV0ID0gbW91bnRfY3JlYXRlKGN0eCwgcGF0aCwgb3JpZ2luLCBpbmRleCwgcHJvdG9jb2wsIHByb3RvKTsKCiAgICBpZihpbmRleCkKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmRleCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGRlc3QpOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXRoKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgbW50KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcmcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlZik7CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kKE1pbm5ldEh0dHBNb3VudCogbW91bnRzLCBjb25zdCBjaGFyKiB4LCBzaXplX3QgbikgewogIHN0cnVjdCBsd3NfaHR0cF9tb3VudCAqcCwgKm0gPSAwOwogIGludCBwcm90b2NvbCA9IG4gPT0gMCA/IExXU01QUk9fQ0FMTEJBQ0sgOiBMV1NNUFJPX0hUVFA7CiAgc2l6ZV90IGwgPSAwOwogIGlmKG4gPT0gMCkKICAgIG4gPSBzdHJsZW4oeCk7CiAgaWYocHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiB4WzBdID09ICcvJykgewogICAgeCsrOwogICAgbi0tOwogIH0KICBmb3IocCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKW1vdW50czsgcDsgcCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKXAtPm1vdW50X25leHQpIHsKICAgIGlmKHByb3RvY29sICE9IExXU01QUk9fQ0FMTEJBQ0sgfHwgcC0+b3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKICAgICAgY29uc3QgY2hhciogbW50ID0gcC0+bW91bnRwb2ludDsKICAgICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwogICAgICBpZihwcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLICYmIG1udFswXSA9PSAnLycpIHsKICAgICAgICBtbnQrKzsKICAgICAgICBsZW4tLTsKICAgICAgfQogICAgICAvLyBwcmludGYoIm1vdW50IHg9JyUuKnMnICclLipzJ1xuIiwgKGludCluLCB4LCAoaW50KWxlbiwgbW50KTsKCiAgICAgIGlmKChsZW4gPT0gbiB8fCAobiA+IGxlbiAmJiAoeFtsZW5dID09ICcvJyB8fCB4W2xlbl0gPT0gJz8nKSkpICYmICFzdHJuY21wKHgsIG1udCwgbikpIHsKICAgICAgICBtID0gcDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihuID49IGxlbiAmJiBsZW4gPj0gbCAmJiAhc3RybmNtcChtbnQsIHgsIE1JTihsZW4sIG4pKSkgewogICAgICAgIG0gPSBwOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAoc3RydWN0IGh0dHBfbW91bnQqKW07Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kX3MoTWlubmV0SHR0cE1vdW50KiBtb3VudHMsIGNvbnN0IGNoYXIqIHgpIHsKICBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKnAsICptID0gMDsKICBzaXplX3QgbiA9IHN0cmxlbih4KTsKCiAgZm9yKHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50Kiltb3VudHM7IHA7IHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50KilwLT5tb3VudF9uZXh0KSB7CiAgICBjb25zdCBjaGFyKiBtbnQgPSBwLT5tb3VudHBvaW50OwogICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwoKICAgIC8vIHByaW50ZigibW91bnQgeD0nJS4qcycgJyUuKnMnXG4iLCAoaW50KW4sIHgsIChpbnQpbGVuLCBtbnQpOwogICAgaWYobGVuID09IG4gJiYgIXN0cm5jbXAoeCwgbW50LCBuKSkgewogICAgICBtID0gcDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBpZihsZW4gPT0gMSAmJiBtbnRbMF0gPT0gJy8nKSB7CiAgICAgIG0gPSBwOwogICAgfQogICAgaWYoKG4gPiBsZW4gJiYgKHhbbGVuXSA9PSAnLycgfHwgeFtsZW5dID09ICc/JykpICYmIChsZW4gPT0gMCB8fCAhc3RybmNtcCh4LCBtbnQsIGxlbikpKSB7CiAgICAgIG0gPSBwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIChzdHJ1Y3QgaHR0cF9tb3VudCopbTsKfQoKdm9pZAptb3VudF9mcmVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQgY29uc3QqIG0pIHsKICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmx3cy5tb3VudHBvaW50KTsKCiAgaWYobS0+b3JnKQogICAganNfZnJlZShjdHgsICh2b2lkKiltLT5vcmcpOwoKICBpZihtLT5kZWYpCiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmRlZik7CgogIGlmKG0tPnBybykKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopbS0+cHJvKTsKCiAganNfZnJlZShjdHgsICh2b2lkKiltKTsKfQoKaW50Cmh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyogd3NpLCBNaW5uZXRCdWZmZXIqIGJ1Ziwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGN0eCk7CiAgaW50IGlzX3NzbCA9IGx3c19pc19zc2wod3NpKTsKCiAgbHdzbF91c2VyKCJodHRwICIgRkcoIjE5OCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgc3RhdHVzPSVkIHR5cGU9JXMgbGVuZ3RoPSV6dSIsICJSRVNQT05EIiwgb3BhcXVlLT5zZXJpYWwsIHJlc3AtPnN0YXR1cywgcmVzcC0+dHlwZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgLy8gcmVzcC0+cmVhZF9vbmx5ID0gVFJVRTsKCiAgaWYobHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzKHdzaSwgcmVzcC0+c3RhdHVzLCByZXNwLT50eXBlLCBpc19zc2wgPyBMV1NfSUxMRUdBTF9IVFRQX0NPTlRFTlRfTEVOIDogYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCAmYnVmLT53cml0ZSwgYnVmLT5lbmQpKSB7CiAgICByZXR1cm4gMTsKICB9CiAgLyogIHsKICAgICAgY2hhciogYiA9IGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KTsKCiAgICAgIGx3c2xfdXNlcigibHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzICV0ZCAnJXMnIiwgYnVmLT53cml0ZSAtIGJ1Zi0+c3RhcnQsIGIpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgICB9Ki8KCiAgewogICAgc2l6ZV90IGxlbiwgbjsKICAgIHVpbnQ4X3QgKngsICplbmQ7CiAgICBmb3IoeCA9IHJlc3AtPmhlYWRlcnMuc3RhcnQsIGVuZCA9IHJlc3AtPmhlYWRlcnMud3JpdGU7IHggPCBlbmQ7IHggKz0gbGVuICsgMSkgewogICAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgICAgaWYobGVuID4gKG4gPSBieXRlX2Nocih4LCBsZW4sICc6JykpKSB7CiAgICAgICAgY29uc3QgY2hhciogcHJvcCA9IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbik7CiAgICAgICAgaWYoeFtuXSA9PSAnOicpCiAgICAgICAgICBuKys7CiAgICAgICAgaWYoaXNzcGFjZSh4W25dKSkKICAgICAgICAgIG4rKzsKCiAgICAgICAgbHdzbF91c2VyKCJIVFRQIGhlYWRlciAlcyA9ICUuKnMiLCBwcm9wLCAoaW50KShsZW4gLSBuKSwgJnhbbl0pOwoKICAgICAgICBpZigobHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lKHdzaSwgKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXByb3AsIChjb25zdCB1bnNpZ25lZCBjaGFyKikmeFtuXSwgbGVuIC0gbiwgJmJ1Zi0+d3JpdGUsIGJ1Zi0+ZW5kKSkpCiAgICAgICAgICBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lIGZhaWxlZCIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcHJvcCk7CiAgICAgIH0KICAgIH0KICB9CiAgaW50IHJldCA9IGx3c19maW5hbGl6ZV93cml0ZV9odHRwX2hlYWRlcih3c2ksIGJ1Zi0+c3RhcnQsICZidWYtPndyaXRlLCBidWYtPmVuZCk7CgogIC8qIHsKICAgICBjaGFyKiBiID0gYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpOwogICAgIGx3c2xfdXNlcigibHdzX2ZpbmFsaXplX3dyaXRlX2h0dHBfaGVhZGVyICclcycgJXRkIHJldD0lZCIsIGIsIGJ1Zi0+d3JpdGUgLSBidWYtPnN0YXJ0LCByZXQpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgIH0qLwogIGlmKHJldCkKICAgIHJldHVybiAyOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIE1pbm5ldFJlc3BvbnNlKgpyZXF1ZXN0X2hhbmRsZXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY2ItPmN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwoKICBpZihjYiAmJiBjYi0+Y3R4KSB7CiAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CiAgICBsd3NsX3VzZXIoInJlcXVlc3RfaGFuZGxlciByZXQ9JXMiLCBKU19Ub0NTdHJpbmcoY2ItPmN0eCwgcmV0KSk7CiAgICBpZihKU19Jc09iamVjdChyZXQpICYmIG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBzZXNzaW9uLT5hcmdzWzFdKTsKICAgICAgc2Vzc2lvbi0+YXJnc1sxXSA9IHJldDsKICAgICAgcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpOwogICAgfSBlbHNlIHsKICAgICAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIHJldCk7CiAgICB9CiAgfQogIGx3c2xfdXNlcigicmVxdWVzdF9oYW5kbGVyICVzIiwgcmVzcG9uc2VfZHVtcChyZXNwKSk7CgogIHJldHVybiByZXNwOwp9CgpzdGF0aWMgc2l6ZV90CmZpbGVfc2l6ZShGSUxFKiBmcCkgewogIGxvbmcgcG9zID0gZnRlbGwoZnApOwogIHNpemVfdCBzaXplID0gMDsKCiAgaWYoZnNlZWsoZnAsIDAsIFNFRUtfRU5EKSAhPSAtMSkgewogICAgc2l6ZSA9IGZ0ZWxsKGZwKTsKICAgIGZzZWVrKGZwLCBwb3MsIFNFRUtfU0VUKTsKICB9CiAgcmV0dXJuIHNpemU7Cn0KCnN0YXRpYyBpbnQKc2VydmVfZmlsZShzdHJ1Y3QgbHdzKiB3c2ksIGNvbnN0IGNoYXIqIHBhdGgsIHN0cnVjdCBodHRwX21vdW50KiBtb3VudCwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgRklMRSogZnA7CiAgY29uc3QgY2hhciogbWltZSA9IGx3c19nZXRfbWltZXR5cGUocGF0aCwgJm1vdW50LT5sd3MpOwoKICBpZihwYXRoWzBdID09ICdcMCcpCiAgICBwYXRoID0gbW91bnQtPmRlZjsKCiAgLyp7CiAgICBjaGFyIGRpc3Bvc2l0aW9uWzEwMjRdOwogICAgc25wcmludGYoZGlzcG9zaXRpb24sIHNpemVvZihkaXNwb3NpdGlvbiksICJhdHRhY2htZW50OyBmaWxlbmFtZT1cIiVzXCIiLCBiYXNlbmFtZShwYXRoKSk7CiAgICBoZWFkZXJzX3NldChjdHgsICZyZXNwLT5oZWFkZXJzLCAiQ29udGVudC1EaXNwb3NpdGlvbiIsIGRpc3Bvc2l0aW9uKTsKICB9Ki8KCiAgaWYoKGZwID0gZm9wZW4ocGF0aCwgInJiIikpKSB7CiAgICBzaXplX3QgbiA9IGZpbGVfc2l6ZShmcCk7CgogICAgYnVmZmVyX2FsbG9jKCZyZXNwLT5ib2R5LCBuLCBjdHgpOwoKICAgIGlmKGZyZWFkKHJlc3AtPmJvZHkud3JpdGUsIG4sIDEsIGZwKSA9PSAxKQogICAgICByZXNwLT5ib2R5LndyaXRlICs9IG47CgogICAgaWYobWltZSkgewogICAgICBpZihyZXNwLT50eXBlKQogICAgICAgIGpzX2ZyZWUoY3R4LCByZXNwLT50eXBlKTsKCiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBtaW1lKTsKICAgIH0KCiAgICBmY2xvc2UoZnApOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBib2R5ID0gIjxodG1sPlxuICA8aGVhZD5cbiAgICA8dGl0bGU+NDA0IE5vdCBGb3VuZDwvdGl0bGU+XG4gICAgPG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PVwiQ29udGVudC1MYW5ndWFnZVwiIGNvbnRlbnQ9XCJlblwiLz5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8aDE+NDA0IE5vdCAiCiAgICAgICAgICAgICAgICAgICAgICAgIkZvdW5kPC9oMT5cbiAgPC9ib2R5PlxuPC9odG1sPlxuIjsKICAgIHJlc3AtPnN0YXR1cyA9IDQwNDsKICAgIHJlc3AtPm9rID0gRkFMU0U7CgogICAgcmVzcG9uc2Vfd3JpdGUocmVzcCwgYm9keSwgc3RybGVuKGJvZHkpLCBjdHgpOwogIH0KCiAgbHdzbF91c2VyKCJzZXJ2ZV9maWxlIHBhdGg9JXMgbW91bnQ9JS4qcyBsZW5ndGg9JXRkIiwgcGF0aCwgbW91bnQtPmx3cy5tb3VudHBvaW50X2xlbiwgbW91bnQtPmx3cy5tb3VudHBvaW50LCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICByZXR1cm4gMDsKfQoKaW50Cmh0dHBfc2VydmVyX3dyaXRhYmxlKHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEJPT0wgZG9uZSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wgbiwgcCA9IC0xOwogIHNpemVfdCByZW1haW47CiAgc3NpemVfdCByZXQgPSAwOwoKICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgLyogIGlmKCFidWZmZXJfQllURVMoJnJlc3AtPmJvZHkpICYmIGlzX2gyKHdzaSkpIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksICJcblhYWFhYWFhYWFhYWFhYIiwgMSwgY3R4KTsqLwoKICBpZigocmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSkpIHsKICAgIHVpbnQ4X3QqIHggPSByZXNwLT5ib2R5LnJlYWQ7CiAgICBzaXplX3QgbCA9IGlzX2gyKHdzaSkgPyAocmVtYWluID4gMTAyNCA/IDEwMjQgOiByZW1haW4pIDogcmVtYWluOwoKICAgIGlmKGwgPiAwKSB7CiAgICAgIHAgPSAocmVtYWluIC0gbCkgPiAwID8gTFdTX1dSSVRFX0hUVFAgOiBuOwogICAgICByZXQgPSBsd3Nfd3JpdGUod3NpLCB4LCBsLCBwKTsKICAgICAgbHdzbF91c2VyKCJsd3Nfd3JpdGUgd3NpIyUiIFBSSWk2NCAiIGxlbj0lenUgZmluYWw9JWQgcmV0PSV6ZCIsIG9wYXF1ZS0+c2VyaWFsLCBsLCBwID09IExXU19XUklURV9IVFRQX0ZJTkFMLCByZXQpOwogICAgICBpZihyZXQgPiAwKQogICAgICAgIGJ1ZmZlcl9za2lwKCZyZXNwLT5ib2R5LCByZXQpOwogICAgfQogIH0KCiAgcmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KTsKCiAgbHdzbF91c2VyKCIlcyB3c2kjJSIgUFJJaTY0ICIgZG9uZT0laSByZW1haW49JXp1IGZpbmFsPSVkIiwgX19mdW5jX18sIG9wYXF1ZS0+c2VyaWFsLCBkb25lLCByZW1haW4sIHAgPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwpOwoKICBpZihwID09IExXU19XUklURV9IVFRQX0ZJTkFMKSB7CgogICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgIHJldHVybiAtMTsKCiAgICByZXR1cm4gMTsKICB9IGVsc2UgaWYocmVtYWluID4gMCkgewogICAgLyoKICAgICAqIEhUVFAvMS4wIG5vIGtlZXBhbGl2ZTogY2xvc2UgbmV0d29yayBjb25uZWN0aW9uCiAgICAgKiBIVFRQLzEuMSBvciBIVFRQMS4wICsgS0E6IHdhaXQgLyBwcm9jZXNzIG5leHQgdHJhbnNhY3Rpb24KICAgICAqIEhUVFAvMjogcmluZ2J1ZmZlciBlbmRlZCwgcGFyZW50IGNvbm5lY3Rpb24gcmVtYWlucyB1cAogICAgICovCiAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICB9CgogIHJldHVybiAwOwp9CgppbnQKaHR0cF9zZXJ2ZXJfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICB1aW50OF90IGJ1ZltMV1NfUFJFICsgTFdTX1JFQ09NTUVOREVEX01JTl9IRUFERVJfU1BBQ0VdOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXIgPyBzZXJ2ZXItPmNvbnRleHQuanMgOiAwOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHsKICAgIGFzc2VydChzZXJ2ZXIpOwogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIH0KCiAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERSkgewogICAgaWYoc2Vzc2lvbiAmJiBzZXNzaW9uLT5zZXJpYWwgIT0gb3BhcXVlLT5zZXJpYWwpIHsKICAgICAgc2Vzc2lvbi0+c2VyaWFsID0gb3BhcXVlLT5zZXJpYWw7CiAgICAgIHNlc3Npb24tPmgyID0gaXNfaDIod3NpKTsKICAgIH0KICB9CgogIGlmKCFvcGFxdWUgJiYgY3R4KQogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGN0eCk7CgogIGFzc2VydChvcGFxdWUpOwoKICBMT0coIkhUVFAiLAogICAgICAiJXMlc2ZkPSVkIGluPSclLipzJyB1cmw9JXMgc2Vzc2lvbiMlZCIsCiAgICAgIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwKICAgICAgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLAogICAgICBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLAogICAgICAoaW50KWxlbiwKICAgICAgaW4sCiAgICAgIG9wYXF1ZSAmJiBvcGFxdWUtPnJlcSA/IHVybF9zdHJpbmcoJm9wYXF1ZS0+cmVxLT51cmwpIDogMCwKICAgICAgc2Vzc2lvbiA/IHNlc3Npb24tPnNlcmlhbCA6IDApOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NIRUNLX0FDQ0VTU19SSUdIVFM6IHsKICAgICAgcmV0dXJuIDA7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICAvLyBzZXNzaW9uX3plcm8oc2Vzc2lvbik7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge3Nlc3Npb24tPndzX29iaiwgSlNfTlVMTH07CgogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICBpZighb3BhcXVlLT5yZXEpIHsKICAgICAgICAvKmNoYXIqIHVyaTsKICAgICAgICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZDsKCiAgICAgICAgdXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKGN0eCwgd3NpLCAmbWV0aG9kKTsKICAgICAgICBpZih1cmkpKi8KICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CiAgICAgIH0KCiAgICAgIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CgogICAgICBMT0coIkhUVFAiLCAiZmQ9JWksIG51bV9oZHI9JWkiLCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLCBudW1faGRyKTsKCiAgICAgIC8qcmV0dXJuIDE7Ki8KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX0hUVFBfQ09OTkVDVElPTjogewogICAgICBhc3NlcnQoIW9wYXF1ZS0+cmVxKTsKCiAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9tdXJsKGN0eCwgaW4pOwoKICAgICAgc3RydWN0IGx3c192aG9zdCogdmhvc3Q7CgogICAgICBpZigodmhvc3QgPSBsd3NfZ2V0X3Zob3N0KHdzaSkpKSB7CiAgICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgICAgaWYoKG5hbWUgPSBsd3NfZ2V0X3Zob3N0X25hbWUodmhvc3QpKSkKICAgICAgICAgIHVybF9wYXJzZSgmb3BhcXVlLT5yZXEtPnVybCwgbmFtZSwgY3R4KTsKICAgICAgfQoKICAgICAgdXJsX3NldF9wcm90b2NvbCgmb3BhcXVlLT5yZXEtPnVybCwgbHdzX2lzX3NzbCh3c2kpID8gImh0dHBzIiA6ICJodHRwIik7CgogICAgICAvLyBMT0coIkhUVFAiLCAidXJsPSVzIiwgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDApOwogICAgICByZXR1cm4gMDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046IHsKICAgICAgTWlubmV0Q2FsbGJhY2sqIGNiID0gc2Vzc2lvbi0+bW91bnQgPyAmc2Vzc2lvbi0+bW91bnQtPmNhbGxiYWNrIDogMDsKICAgICAgTWlubmV0QnVmZmVyIGIgPSBCVUZGRVIoYnVmKTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSByZXF1ZXN0X2hhbmRsZXIoc2Vzc2lvbiwgY2IpOwoKICAgICAgaWYoY2IgJiYgY2ItPmN0eCkgewogICAgICAgIEpTVmFsdWUgcmV0ID0gbWlubmV0X2VtaXRfdGhpcyhjYiwgc2Vzc2lvbi0+d3Nfb2JqLCAyLCBzZXNzaW9uLT5hcmdzKTsKCiAgICAgICAgYXNzZXJ0KGpzX2lzX2l0ZXJhdG9yKGN0eCwgcmV0KSk7CiAgICAgICAgc2Vzc2lvbi0+Z2VuZXJhdG9yID0gcmV0OwogICAgICB9IC8qIGVsc2UgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpIHsKICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgfQogKi8KICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQk9EWTogewogICAgICBNaW5uZXRSZXF1ZXN0KiByZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHNlc3Npb24tPnJlcV9vYmopOwoKICAgICAgTE9HKCJIVFRQIiwgIiVzbGVuOiAlenUsIHNpemU6ICV6dSIsIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbGVuLCBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSk7CgogICAgICBpZihsZW4pIHsKICAgICAgICBidWZmZXJfYXBwZW5kKCZyZXEtPmJvZHksIGluLCBsZW4sIGN0eCk7CgogICAgICAgIGpzX2R1bXBfc3RyaW5nKGluLCBsZW4sIDgwKTsKICAgICAgICBwdXRzKCIiKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOiB7CiAgICAgIE1pbm5ldFVSTCogdXJsID0gJm9wYXF1ZS0+cmVxLT51cmw7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIEpTVmFsdWUqIGFyZ3MgPSBzZXNzaW9uLT5hcmdzOwogICAgICBjaGFyKiBwYXRoID0gaW47CiAgICAgIGludCByZXQgPSAwOwogICAgICBzaXplX3QgbW91bnRwb2ludF9sZW4gPSAwLCBwYXRobGVuID0gc3RybGVuKHVybC0+cGF0aCk7CgogICAgICBpZih1cmwtPnBhdGggJiYgaW4gJiYgbGVuIDwgcGF0aGxlbiAvKiYmICFzdHJjbXAodXJsLT5wYXRoLCBpbikqLykKICAgICAgICBtb3VudHBvaW50X2xlbiA9IHBhdGhsZW4gLSBsZW47CgogICAgICBMT0coIkhUVFAiLCAibW91bnRwb2ludD0nJS4qcycgcGF0aD0nJXMnIiwgKGludCltb3VudHBvaW50X2xlbiwgdXJsLT5wYXRoLCBwYXRoKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcS0+aGVhZGVycy53cml0ZSkgewogICAgICAgIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CiAgICAgIH0KICAgICAgLyoKICAgICAgICAgICAgaWYoIW9wYXF1ZS0+cmVxLT5wYXRoWzBdKQogICAgICAgICAgICAgIHBzdHJjcHkob3BhcXVlLT5yZXEtPnBhdGgsIHNpemVvZihvcGFxdWUtPnJlcS0+cGF0aCksIHBhdGgpOwogICAgICAqLwogICAgICBzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCBwYXRoLCAwKTsKICAgICAgaWYodXJsLT5wYXRoICYmICFzZXNzaW9uLT5tb3VudCkKICAgICAgICBpZighKHNlc3Npb24tPm1vdW50ID0gbW91bnRfZmluZCgoTWlubmV0SHR0cE1vdW50KilzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCwgbW91bnRwb2ludF9sZW4pKSkKICAgICAgICAgIHNlc3Npb24tPm1vdW50ID0gbW91bnRfZmluZCgoTWlubmV0SHR0cE1vdW50KilzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCwgMCk7CgogICAgICBzZXNzaW9uLT5oMiA9IGlzX2gyKHdzaSk7CgogICAgICBpZigobW91bnQgPSBzZXNzaW9uLT5tb3VudCkpIHsKICAgICAgICBzaXplX3QgbWxlbiA9IHN0cmxlbihtb3VudC0+bW50KTsKICAgICAgICBhc3NlcnQoIXN0cm5jbXAodXJsLT5wYXRoLCBtb3VudC0+bW50LCBtbGVuKSk7CiAgICAgICAgYXNzZXJ0KCFzdHJjbXAodXJsLT5wYXRoICsgbWxlbiwgcGF0aCkpOwoKICAgICAgICBMT0coIkhUVFAiLAogICAgICAgICAgICAibW91bnQ6IG1udD0nJXMnLCBvcmc9JyVzJywgcHJvPSclcycsIG9yaWdpbl9wcm90b2NvbD0nJXMnXG4iLAogICAgICAgICAgICBtb3VudC0+bW50LAogICAgICAgICAgICBtb3VudC0+b3JnLAogICAgICAgICAgICBtb3VudC0+cHJvLAogICAgICAgICAgICAoKGNvbnN0IGNoYXIqW10peyJIVFRQIiwgIkhUVFBTIiwgIkZJTEUiLCAiQ0dJIiwgIlJFRElSX0hUVFAiLCAiUkVESVJfSFRUUFMiLCAiQ0FMTEJBQ0sifSlbKHVpbnRwdHJfdCltb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbF0pOwogICAgICB9CgogICAgICBhcmdzWzBdID0gc2Vzc2lvbi0+cmVxX29iaiA9IG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCBvcGFxdWUtPnJlcSk7CgogICAgICBpZighSlNfSXNPYmplY3QoYXJnc1sxXSkpCiAgICAgICAgYXJnc1sxXSA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCAqdXJsLCBvcGFxdWUtPnJlcS0+bWV0aG9kID09IE1FVEhPRF9QT1NUID8gMjAxIDogMjAwLCAwLCBUUlVFLCAidGV4dC9odG1sIik7CgogICAgICBNaW5uZXRSZXF1ZXN0KiByZXEgPSBvcGFxdWUtPnJlcTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBvcGFxdWUtPnJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCBhcmdzWzFdKTsKCiAgICAgIExPRygiSFRUUCIsICJyZXE9JXAsIGhlYWRlcj0lenUiLCByZXEsIGJ1ZmZlcl9IRUFEKCZyZXEtPmhlYWRlcnMpKTsKCiAgICAgIHJlcXVlc3RfZHVwKHJlcSk7CgogICAgICBNaW5uZXRDYWxsYmFjayogY2IgPSAmc2VydmVyLT5jYi5odHRwOwoKICAgICAgaWYobW91bnQgJiYgKG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fRklMRSB8fCAobW91bnQtPmx3cy5vcmlnaW5fcHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiBtb3VudC0+bHdzLm9yaWdpbikpKSB7CgogICAgICAgIGlmKChyZXQgPSBzZXJ2ZV9maWxlKHdzaSwgcGF0aCwgbW91bnQsIHJlc3AsIGN0eCkpKSB7CiAgICAgICAgICBMT0coIkhUVFAiLCAic2VydmVfZmlsZSBGQUlMICVkIiwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGlmKChyZXQgPSBodHRwX3NlcnZlcl9yZXNwb25kKHdzaSwgJmIsIHJlc3AsIGN0eCkpKSB7CiAgICAgICAgICBMT0coIkhUVFAiLCAiaHR0cF9zZXJ2ZXJfcmVzcG9uZCBGQUlMICVkIiwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQoKICAgICAgfSBlbHNlIGlmKG1vdW50ICYmIG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKCiAgICAgICAgY2IgPSAmbW91bnQtPmNhbGxiYWNrOwoKICAgICAgICBpZihyZXEtPm1ldGhvZCA9PSBNRVRIT0RfR0VUIC8qIHx8IGlzX2gyKHdzaSkqLykgewogICAgICAgICAgcmVzcCA9IHJlcXVlc3RfaGFuZGxlcihzZXNzaW9uLCBjYik7CgogICAgICAgICAgaWYoY2IgJiYgY2ItPmN0eCkgewogICAgICAgICAgICBKU1ZhbHVlIGdlbiA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgYXJncyk7CiAgICAgICAgICAgIGFzc2VydChqc19pc19pdGVyYXRvcihjdHgsIGdlbikpOwogICAgICAgICAgICBMT0coIkhUVFAiLCAiZ2VuPSVzIiwgSlNfVG9DU3RyaW5nKGN0eCwgZ2VuKSk7CgogICAgICAgICAgICBzZXNzaW9uLT5nZW5lcmF0b3IgPSBnZW47CiAgICAgICAgICAgIHNlc3Npb24tPm5leHQgPSBKU19VTkRFRklORUQ7CiAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgTE9HKCJIVFRQIiwgInBhdGg9JXMgbW91bnRwb2ludD0lLipzIiwgcGF0aCwgKGludCltb3VudHBvaW50X2xlbiwgdXJsLT5wYXRoKTsKICAgICAgICAgICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfQogICAgICAgICAgaWYoaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSB7CiAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBMT0coIkhUVFAiLCAiTk9UIEZPVU5EXHRwYXRoPSVzIG1vdW50cG9pbnQ9JS4qcyIsIHBhdGgsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgaWYocmVxLT5tZXRob2QgPT0gTUVUSE9EX0dFVCB8fCBpc19oMih3c2kpKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwoKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9XUklURUFCTEU6IHsKICAgICAgTWlubmV0QnVmZmVyIGIgPSBCVUZGRVIoYnVmKTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCBzZXNzaW9uLT5yZXNwX29iaik7CiAgICAgIEJPT0wgZG9uZSA9IEZBTFNFOwoKICAgICAgTE9HKCJIVFRQIiwKICAgICAgICAgICIlc21udD0lcyByZW1haW49JXRkIHR5cGU9JXMgdXJsLnBhdGg9JXMiLAogICAgICAgICAgc2Vzc2lvbi0+aDIgPyAiaDIsICIgOiAiIiwKICAgICAgICAgIHNlc3Npb24tPm1vdW50ID8gc2Vzc2lvbi0+bW91bnQtPm1udCA6IDAsCiAgICAgICAgICByZXNwID8gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSA6IDAsCiAgICAgICAgICByZXNwID8gcmVzcC0+dHlwZSA6IDAsCiAgICAgICAgICByZXNwID8gcmVzcC0+dXJsLnBhdGggOiAwKTsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHNlc3Npb24tPmdlbmVyYXRvcikpIHsKICAgICAgICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgICAgICAgd2hpbGUoIWRvbmUpIHsKICAgICAgICAgIHJldCA9IGpzX2l0ZXJhdG9yX25leHQoY3R4LCBzZXNzaW9uLT5nZW5lcmF0b3IsICZzZXNzaW9uLT5uZXh0LCAmZG9uZSwgMCwgMCk7CgogICAgICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgICAgICBKU1ZhbHVlIGV4Y2VwdGlvbiA9IEpTX0dldEV4Y2VwdGlvbihjdHgpOwogICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwgIkV4Y2VwdGlvbjogJXNcbiIsIEpTX1RvQ1N0cmluZyhjdHgsIGV4Y2VwdGlvbikpOwogICAgICAgICAgICBkb25lID0gVFJVRTsKICAgICAgICAgIH0gZWxzZSBpZighZG9uZSkgewogICAgICAgICAgICBKU0J1ZmZlciBvdXQgPSBqc19idWZmZXJfbmV3KGN0eCwgcmV0KTsKICAgICAgICAgICAgTE9HKCJIVFRQIiwgInNpemU9JXp1Iiwgb3V0LnNpemUpOwogICAgICAgICAgICBidWZmZXJfYXBwZW5kKCZyZXNwLT5ib2R5LCBvdXQuZGF0YSwgb3V0LnNpemUsIGN0eCk7CiAgICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZvdXQsIGN0eCk7CiAgICAgICAgICB9CiAgICAgICAgICBMT0coIkhUVFAiLCAiZG9uZT0laSB3cml0ZT0lenUiLCBkb25lLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICAgICAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzID09IE9QRU4pIHsKICAgICAgICAgICAgaWYoaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSB7CiAgICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwoKICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NJTkc7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgfSBlbHNlIGlmKCFidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpIHsKICAgICAgICBzdGF0aWMgaW50IHVuaGFuZGxlZDsKCiAgICAgICAgaWYoIXVuaGFuZGxlZCsrKQogICAgICAgICAgTE9HKCJIVFRQIiwgInVuaGFuZGxlZCAlZCIsIHVuaGFuZGxlZCk7CgogICAgICAgIGJyZWFrOwogICAgICB9IGVsc2UgewogICAgICAgIGRvbmUgPSBUUlVFOwogICAgICB9CgogICAgICBpZihodHRwX3NlcnZlcl93cml0YWJsZSh3c2ksIHJlc3AsIGRvbmUpID09IDEpCiAgICAgICAgcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgTFdTX0NBTExCQUNLX0hUVFBfRklMRV9DT01QTEVUSU9OLCB1c2VyLCBpbiwgbGVuKTsKCiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjogewoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICByZXF1ZXN0X2ZyZWUob3BhcXVlLT5yZXEsIGN0eCk7CiAgICAgICAgb3BhcXVlLT5yZXEgPSAwOwogICAgICB9CgogICAgICBpZihvcGFxdWUtPnJlc3ApIHsKICAgICAgICByZXNwb25zZV9mcmVlKG9wYXF1ZS0+cmVzcCwgY3R4KTsKICAgICAgICBvcGFxdWUtPnJlc3AgPSAwOwogICAgICB9CgogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfQ0xJRU5UX0hUVFA6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDogewogICAgICBMT0coIkhUVFAiLCAiaW49JyUuKnMnIHVybD0lcyIsIChpbnQpbGVuLCAoY2hhciopaW4sIG9wYXF1ZS0+cmVxID8gdXJsX3N0cmluZygmb3BhcXVlLT5yZXEtPnVybCkgOiAwKTsKICAgICAgLy8gbHdzX2Nsb3NlX2ZyZWVfd3NpKHdzaSwgTFdTX0NMT1NFX1NUQVRVU19OT1NUQVRVUywgX19mdW5jX18pOwogICAgICAvKiAgICAgaWYoc2Vzc2lvbikgewogICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVxX29iaik7CiAgICAgICAgICAgICBzZXNzaW9uLT5yZXFfb2JqID0gSlNfVU5ERUZJTkVEOwogICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogICAgICAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBKU19VTkRFRklORUQ7CiAgICAgICAgICAgfSovCiAgICAgIHJldHVybiAtMTsKICAgIH0KICAgICBjYXNlIExXU19DQUxMQkFDS19FVkVOVF9XQUlUX0NBTkNFTExFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQ6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CiAgaW50IHJldCA9IDA7CiAgaWYocmVhc29uICE9IExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRSAmJiAocmVhc29uIDwgTFdTX0NBTExCQUNLX0hUVFBfQklORF9QUk9UT0NPTCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfQ0hFQ0tfQUNDRVNTX1JJR0hUUykpIHsKICAgIExPRygiSFRUUCIsICJmZD0laSAlcyVzaW49JyUuKnMnIHJldD0lZFxuIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgKHNlc3Npb24gJiYgc2Vzc2lvbi0+aDIpIHx8IGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgKGNoYXIqKWluLCByZXQpOwogIH0KCiAgcmV0ID0gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICByZXR1cm4gcmV0Owp9CgAAAAAAAAAAoVgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArlYAAAAAAACuVgAAAAAAAAAAAAAAAPC/"
				],
				[
					276,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAChWAAAI2luY2x1ZGUgPHN5cy90eXBlcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxjdHlwZS5oPgojaW5jbHVkZSA8bGliZ2VuLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLmgiCiNpbmNsdWRlICJtaW5uZXQtc2VydmVyLWh0dHAuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKCk1pbm5ldFZob3N0T3B0aW9ucyoKdmhvc3Rfb3B0aW9uc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2byA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Vmhvc3RPcHRpb25zKSk7CgojaWZkZWYgREVCVUdfT1VUUFVUCiAgZnByaW50ZihzdGRlcnIsICJ2aG9zdF9vcHRpb25zX2NyZWF0ZSAlcyAlc1xuIiwgbmFtZSwgdmFsdWUpOwojZW5kaWYKCiAgdm8tPm5hbWUgPSBuYW1lID8ganNfc3RyZHVwKGN0eCwgbmFtZSkgOiAwOwogIHZvLT52YWx1ZSA9IHZhbHVlID8ganNfc3RyZHVwKGN0eCwgdmFsdWUpIDogMDsKCiAgcmV0dXJuIHZvOwp9CgpNaW5uZXRWaG9zdE9wdGlvbnMqCnZob3N0X29wdGlvbnNfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgdmhvc3Rfb3B0aW9uKSB7CiAgTWlubmV0Vmhvc3RPcHRpb25zKiB2bzsKICBKU1ZhbHVlIG5hbWUsIHZhbHVlOwogIGNvbnN0IGNoYXIgKm5hbWVzdHIsICp2YWx1ZXN0cjsKCiAgbmFtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAwKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmhvc3Rfb3B0aW9uLCAxKTsKCiAgbmFtZXN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogIHZhbHVlc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZvID0gdmhvc3Rfb3B0aW9uc19jcmVhdGUoY3R4LCBuYW1lc3RyLCB2YWx1ZXN0cik7CgogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZXN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZXN0cik7CgogIHJldHVybiB2bzsKfQoKdm9pZAp2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewogIE1pbm5ldFZob3N0T3B0aW9ucyogbmV4dDsKCiAgZG8gewoKICAgIGlmKHZvLT5uYW1lKQogICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXZvLT5uYW1lKTsKICAgIGlmKHZvLT52YWx1ZSkKICAgICAganNfZnJlZShjdHgsICh2b2lkKil2by0+dmFsdWUpOwogICAgaWYodm8tPm9wdGlvbnMpCiAgICAgIHZob3N0X29wdGlvbnNfZnJlZV9saXN0KGN0eCwgdm8tPm9wdGlvbnMpOwoKICAgIG5leHQgPSB2by0+bmV4dDsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8pOwogIH0gd2hpbGUoKHZvID0gbmV4dCkpOwp9Cgp2b2lkCnZob3N0X29wdGlvbnNfZnJlZShKU0NvbnRleHQqIGN0eCwgTWlubmV0Vmhvc3RPcHRpb25zKiB2bykgewoKICBpZih2by0+bmFtZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPm5hbWUpOwogIGlmKHZvLT52YWx1ZSkKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopdm8tPnZhbHVlKTsKCiAgaWYodm8tPm9wdGlvbnMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHZvLT5vcHRpb25zKTsKCiAganNfZnJlZShjdHgsICh2b2lkKil2byk7Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb3VudHBvaW50LCBjb25zdCBjaGFyKiBvcmlnaW4sIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKSB7CiAgTWlubmV0SHR0cE1vdW50KiBtOwoKICBpZigobSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cE1vdW50KSkpKSB7CgogICAgLy8gcHJpbnRmKCJtb3VudF9jcmVhdGUgbW50PSUtMTBzIG9yZz0lLTIwcyBkZWY9JS0xNXMgcHJvdG9jb2w9JS0xMHMgb3JpZ2luX3Byb3RvY29sPSVzXG4iLCBtb3VudHBvaW50LCBvcmlnaW4sIGRlZiwgcHJvLCAoKGNvbnN0IGNoYXIqW10peyAiSFRUUCIsICJIVFRQUyIsICJGSUxFIiwgIkNHSSIsICJSRURJUl9IVFRQIiwKICAgIC8vICJSRURJUl9IVFRQUyIsICJDQUxMQkFDSyIsIH0pW29yaWdpbl9wcm90b10pOwoKICAgIG0tPmx3cy5tb3VudHBvaW50ID0ganNfc3RyZHVwKGN0eCwgbW91bnRwb2ludCk7CiAgICBtLT5sd3Mub3JpZ2luID0gb3JpZ2luID8ganNfc3RyZHVwKGN0eCwgb3JpZ2luKSA6IDA7CiAgICBtLT5sd3MuZGVmID0gZGVmID8ganNfc3RyZHVwKGN0eCwgZGVmKSA6IDA7CiAgICBtLT5sd3MucHJvdG9jb2wgPSBwcm8gPyBwcm8gOiBqc19zdHJkdXAoY3R4LCBvcmlnaW5fcHJvdG8gPT0gTFdTTVBST19DQUxMQkFDSyA/ICJodHRwIiA6ICJkZWZwcm90Iik7CiAgICBtLT5sd3Mub3JpZ2luX3Byb3RvY29sID0gb3JpZ2luX3Byb3RvOwogICAgbS0+bHdzLm1vdW50cG9pbnRfbGVuID0gc3RybGVuKG1vdW50cG9pbnQpOwogIH0KCiAgcmV0dXJuIG07Cn0KCk1pbm5ldEh0dHBNb3VudCoKbW91bnRfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBrZXkpIHsKICBNaW5uZXRIdHRwTW91bnQqIHJldDsKICBKU1ZhbHVlIG1udCA9IEpTX1VOREVGSU5FRCwgb3JnID0gSlNfVU5ERUZJTkVELCBkZWYgPSBKU19VTkRFRklORUQsIHBybyA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9iaikpIHsKICAgIG1udCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAwKTsKICAgIG9yZyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAxKTsKICAgIGRlZiA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAyKTsKICAgIHBybyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCAzKTsKICB9IGVsc2UgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9iaikpIHsKCiAgICBpZigha2V5KSB7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBKU1ZhbHVlIG5hbWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5hbWUiKTsKICAgICAgY29uc3QgY2hhciogbmFtZXN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZuYW1lbGVuLCBuYW1lKTsKICAgICAgY2hhciBidWZbbmFtZWxlbiArIDJdOwogICAgICBwc3RyY3B5KCZidWZbMV0sIG5hbWVsZW4gKyAxLCBuYW1lc3RyKTsKICAgICAgYnVmWzBdID0gJy8nOwogICAgICBidWZbbmFtZWxlbiArIDFdID0gJ1wwJzsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lc3RyKTsKICAgICAgbW50ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICBtbnQgPSBKU19OZXdTdHJpbmcoY3R4LCBrZXkpOwogICAgfQoKICAgIG9yZyA9IEpTX0R1cFZhbHVlKGN0eCwgb2JqKTsKICB9CgogIGNvbnN0IGNoYXIqIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCBtbnQpOwoKICAvLyBwcmludGYoIm1vdW50X25ldyAnJXMnXG4iLCBwYXRoKTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG9yZykpIHsKICAgIHJldCA9IG1vdW50X2NyZWF0ZShjdHgsIHBhdGgsIDAsIDAsIDAsIExXU01QUk9fQ0FMTEJBQ0spOwoKICAgIEdFVENCVEhJUyhvcmcsIHJldC0+Y2FsbGJhY2ssIEpTX1VOREVGSU5FRCk7CgogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBkZXN0ID0gSlNfVG9DU3RyaW5nKGN0eCwgb3JnKTsKICAgIGNoYXIqIHByb3RvY29sID0gSlNfSXNTdHJpbmcocHJvKSA/IGpzX3Rvc3RyaW5nKGN0eCwgcHJvKSA6IDA7CiAgICBjb25zdCBjaGFyKiBkb3RzbGFzaHNsYXNoID0gc3Ryc3RyKGRlc3QsICI6Ly8iKTsKICAgIHNpemVfdCBwbGVuID0gZG90c2xhc2hzbGFzaCA/IGRvdHNsYXNoc2xhc2ggLSBkZXN0IDogMDsKICAgIGNvbnN0IGNoYXIqIG9yaWdpbiA9ICZkZXN0W3BsZW4gPyBwbGVuICsgMyA6IDBdOwogICAgY29uc3QgY2hhciogaW5kZXggPSBKU19Jc1VuZGVmaW5lZChkZWYpID8gMCA6IEpTX1RvQ1N0cmluZyhjdHgsIGRlZik7CiAgICBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgcHJvdG8gPSBwbGVuID09IDAgPyBMV1NNUFJPX0ZJTEUgOiAhc3RybmNtcChkZXN0LCAiaHR0cHMiLCBwbGVuKSA/IExXU01QUk9fSFRUUFMgOiBMV1NNUFJPX0hUVFA7CgogICAgcmV0ID0gbW91bnRfY3JlYXRlKGN0eCwgcGF0aCwgb3JpZ2luLCBpbmRleCwgcHJvdG9jb2wsIHByb3RvKTsKCiAgICBpZihpbmRleCkKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmRleCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGRlc3QpOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXRoKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgbW50KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcmcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlZik7CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kKE1pbm5ldEh0dHBNb3VudCogbW91bnRzLCBjb25zdCBjaGFyKiB4LCBzaXplX3QgbikgewogIHN0cnVjdCBsd3NfaHR0cF9tb3VudCAqcCwgKm0gPSAwOwogIGludCBwcm90b2NvbCA9IG4gPT0gMCA/IExXU01QUk9fQ0FMTEJBQ0sgOiBMV1NNUFJPX0hUVFA7CiAgc2l6ZV90IGwgPSAwOwogIGlmKG4gPT0gMCkKICAgIG4gPSBzdHJsZW4oeCk7CiAgaWYocHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiB4WzBdID09ICcvJykgewogICAgeCsrOwogICAgbi0tOwogIH0KICBmb3IocCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKW1vdW50czsgcDsgcCA9IChzdHJ1Y3QgbHdzX2h0dHBfbW91bnQqKXAtPm1vdW50X25leHQpIHsKICAgIGlmKHByb3RvY29sICE9IExXU01QUk9fQ0FMTEJBQ0sgfHwgcC0+b3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKICAgICAgY29uc3QgY2hhciogbW50ID0gcC0+bW91bnRwb2ludDsKICAgICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwogICAgICBpZihwcm90b2NvbCA9PSBMV1NNUFJPX0NBTExCQUNLICYmIG1udFswXSA9PSAnLycpIHsKICAgICAgICBtbnQrKzsKICAgICAgICBsZW4tLTsKICAgICAgfQogICAgICAvLyBwcmludGYoIm1vdW50IHg9JyUuKnMnICclLipzJ1xuIiwgKGludCluLCB4LCAoaW50KWxlbiwgbW50KTsKCiAgICAgIGlmKChsZW4gPT0gbiB8fCAobiA+IGxlbiAmJiAoeFtsZW5dID09ICcvJyB8fCB4W2xlbl0gPT0gJz8nKSkpICYmICFzdHJuY21wKHgsIG1udCwgbikpIHsKICAgICAgICBtID0gcDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihuID49IGxlbiAmJiBsZW4gPj0gbCAmJiAhc3RybmNtcChtbnQsIHgsIE1JTihsZW4sIG4pKSkgewogICAgICAgIG0gPSBwOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAoc3RydWN0IGh0dHBfbW91bnQqKW07Cn0KCnN0cnVjdCBodHRwX21vdW50Kgptb3VudF9maW5kX3MoTWlubmV0SHR0cE1vdW50KiBtb3VudHMsIGNvbnN0IGNoYXIqIHgpIHsKICBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKnAsICptID0gMDsKICBzaXplX3QgbiA9IHN0cmxlbih4KTsKCiAgZm9yKHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50Kiltb3VudHM7IHA7IHAgPSAoc3RydWN0IGx3c19odHRwX21vdW50KilwLT5tb3VudF9uZXh0KSB7CiAgICBjb25zdCBjaGFyKiBtbnQgPSBwLT5tb3VudHBvaW50OwogICAgc2l6ZV90IGxlbiA9IHAtPm1vdW50cG9pbnRfbGVuOwoKICAgIC8vIHByaW50ZigibW91bnQgeD0nJS4qcycgJyUuKnMnXG4iLCAoaW50KW4sIHgsIChpbnQpbGVuLCBtbnQpOwogICAgaWYobGVuID09IG4gJiYgIXN0cm5jbXAoeCwgbW50LCBuKSkgewogICAgICBtID0gcDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBpZihsZW4gPT0gMSAmJiBtbnRbMF0gPT0gJy8nKSB7CiAgICAgIG0gPSBwOwogICAgfQogICAgaWYoKG4gPiBsZW4gJiYgKHhbbGVuXSA9PSAnLycgfHwgeFtsZW5dID09ICc/JykpICYmIChsZW4gPT0gMCB8fCAhc3RybmNtcCh4LCBtbnQsIGxlbikpKSB7CiAgICAgIG0gPSBwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIChzdHJ1Y3QgaHR0cF9tb3VudCopbTsKfQoKdm9pZAptb3VudF9mcmVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQgY29uc3QqIG0pIHsKICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmx3cy5tb3VudHBvaW50KTsKCiAgaWYobS0+b3JnKQogICAganNfZnJlZShjdHgsICh2b2lkKiltLT5vcmcpOwoKICBpZihtLT5kZWYpCiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKW0tPmRlZik7CgogIGlmKG0tPnBybykKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopbS0+cHJvKTsKCiAganNfZnJlZShjdHgsICh2b2lkKiltKTsKfQoKaW50Cmh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyogd3NpLCBNaW5uZXRCdWZmZXIqIGJ1Ziwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGN0eCk7CiAgaW50IGlzX3NzbCA9IGx3c19pc19zc2wod3NpKTsKCiAgbHdzbF91c2VyKCJodHRwICIgRkcoIjE5OCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgc3RhdHVzPSVkIHR5cGU9JXMgbGVuZ3RoPSV6dSIsICJSRVNQT05EIiwgb3BhcXVlLT5zZXJpYWwsIHJlc3AtPnN0YXR1cywgcmVzcC0+dHlwZSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKCiAgLy8gcmVzcC0+cmVhZF9vbmx5ID0gVFJVRTsKCiAgaWYobHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzKHdzaSwgcmVzcC0+c3RhdHVzLCByZXNwLT50eXBlLCBpc19zc2wgPyBMV1NfSUxMRUdBTF9IVFRQX0NPTlRFTlRfTEVOIDogYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCAmYnVmLT53cml0ZSwgYnVmLT5lbmQpKSB7CiAgICByZXR1cm4gMTsKICB9CiAgLyogIHsKICAgICAgY2hhciogYiA9IGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KTsKCiAgICAgIGx3c2xfdXNlcigibHdzX2FkZF9odHRwX2NvbW1vbl9oZWFkZXJzICV0ZCAnJXMnIiwgYnVmLT53cml0ZSAtIGJ1Zi0+c3RhcnQsIGIpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgICB9Ki8KCiAgewogICAgc2l6ZV90IGxlbiwgbjsKICAgIHVpbnQ4X3QgKngsICplbmQ7CiAgICBmb3IoeCA9IHJlc3AtPmhlYWRlcnMuc3RhcnQsIGVuZCA9IHJlc3AtPmhlYWRlcnMud3JpdGU7IHggPCBlbmQ7IHggKz0gbGVuICsgMSkgewogICAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgICAgaWYobGVuID4gKG4gPSBieXRlX2Nocih4LCBsZW4sICc6JykpKSB7CiAgICAgICAgY29uc3QgY2hhciogcHJvcCA9IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbik7CiAgICAgICAgaWYoeFtuXSA9PSAnOicpCiAgICAgICAgICBuKys7CiAgICAgICAgaWYoaXNzcGFjZSh4W25dKSkKICAgICAgICAgIG4rKzsKCiAgICAgICAgbHdzbF91c2VyKCJIVFRQIGhlYWRlciAlcyA9ICUuKnMiLCBwcm9wLCAoaW50KShsZW4gLSBuKSwgJnhbbl0pOwoKICAgICAgICBpZigobHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lKHdzaSwgKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXByb3AsIChjb25zdCB1bnNpZ25lZCBjaGFyKikmeFtuXSwgbGVuIC0gbiwgJmJ1Zi0+d3JpdGUsIGJ1Zi0+ZW5kKSkpCiAgICAgICAgICBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lIGZhaWxlZCIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcHJvcCk7CiAgICAgIH0KICAgIH0KICB9CiAgaW50IHJldCA9IGx3c19maW5hbGl6ZV93cml0ZV9odHRwX2hlYWRlcih3c2ksIGJ1Zi0+c3RhcnQsICZidWYtPndyaXRlLCBidWYtPmVuZCk7CgogIC8qIHsKICAgICBjaGFyKiBiID0gYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpOwogICAgIGx3c2xfdXNlcigibHdzX2ZpbmFsaXplX3dyaXRlX2h0dHBfaGVhZGVyICclcycgJXRkIHJldD0lZCIsIGIsIGJ1Zi0+d3JpdGUgLSBidWYtPnN0YXJ0LCByZXQpOwogICAgICBqc19mcmVlKGN0eCwgYik7CiAgIH0qLwogIGlmKHJldCkKICAgIHJldHVybiAyOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIE1pbm5ldFJlc3BvbnNlKgpyZXF1ZXN0X2hhbmRsZXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY2ItPmN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwoKICBpZihjYiAmJiBjYi0+Y3R4KSB7CiAgICBKU1ZhbHVlIHJldCA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgc2Vzc2lvbi0+YXJncyk7CiAgICBsd3NsX3VzZXIoInJlcXVlc3RfaGFuZGxlciByZXQ9JXMiLCBKU19Ub0NTdHJpbmcoY2ItPmN0eCwgcmV0KSk7CiAgICBpZihKU19Jc09iamVjdChyZXQpICYmIG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBzZXNzaW9uLT5hcmdzWzFdKTsKICAgICAgc2Vzc2lvbi0+YXJnc1sxXSA9IHJldDsKICAgICAgcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjYi0+Y3R4LCByZXQpOwogICAgfSBlbHNlIHsKICAgICAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIHJldCk7CiAgICB9CiAgfQogIGx3c2xfdXNlcigicmVxdWVzdF9oYW5kbGVyICVzIiwgcmVzcG9uc2VfZHVtcChyZXNwKSk7CgogIHJldHVybiByZXNwOwp9CgpzdGF0aWMgc2l6ZV90CmZpbGVfc2l6ZShGSUxFKiBmcCkgewogIGxvbmcgcG9zID0gZnRlbGwoZnApOwogIHNpemVfdCBzaXplID0gMDsKCiAgaWYoZnNlZWsoZnAsIDAsIFNFRUtfRU5EKSAhPSAtMSkgewogICAgc2l6ZSA9IGZ0ZWxsKGZwKTsKICAgIGZzZWVrKGZwLCBwb3MsIFNFRUtfU0VUKTsKICB9CiAgcmV0dXJuIHNpemU7Cn0KCnN0YXRpYyBpbnQKc2VydmVfZmlsZShzdHJ1Y3QgbHdzKiB3c2ksIGNvbnN0IGNoYXIqIHBhdGgsIHN0cnVjdCBodHRwX21vdW50KiBtb3VudCwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgRklMRSogZnA7CiAgY29uc3QgY2hhciogbWltZSA9IGx3c19nZXRfbWltZXR5cGUocGF0aCwgJm1vdW50LT5sd3MpOwoKICBpZihwYXRoWzBdID09ICdcMCcpCiAgICBwYXRoID0gbW91bnQtPmRlZjsKCiAgLyp7CiAgICBjaGFyIGRpc3Bvc2l0aW9uWzEwMjRdOwogICAgc25wcmludGYoZGlzcG9zaXRpb24sIHNpemVvZihkaXNwb3NpdGlvbiksICJhdHRhY2htZW50OyBmaWxlbmFtZT1cIiVzXCIiLCBiYXNlbmFtZShwYXRoKSk7CiAgICBoZWFkZXJzX3NldChjdHgsICZyZXNwLT5oZWFkZXJzLCAiQ29udGVudC1EaXNwb3NpdGlvbiIsIGRpc3Bvc2l0aW9uKTsKICB9Ki8KCiAgaWYoKGZwID0gZm9wZW4ocGF0aCwgInJiIikpKSB7CiAgICBzaXplX3QgbiA9IGZpbGVfc2l6ZShmcCk7CgogICAgYnVmZmVyX2FsbG9jKCZyZXNwLT5ib2R5LCBuLCBjdHgpOwoKICAgIGlmKGZyZWFkKHJlc3AtPmJvZHkud3JpdGUsIG4sIDEsIGZwKSA9PSAxKQogICAgICByZXNwLT5ib2R5LndyaXRlICs9IG47CgogICAgaWYobWltZSkgewogICAgICBpZihyZXNwLT50eXBlKQogICAgICAgIGpzX2ZyZWUoY3R4LCByZXNwLT50eXBlKTsKCiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBtaW1lKTsKICAgIH0KCiAgICBmY2xvc2UoZnApOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBib2R5ID0gIjxodG1sPlxuICA8aGVhZD5cbiAgICA8dGl0bGU+NDA0IE5vdCBGb3VuZDwvdGl0bGU+XG4gICAgPG1ldGEgY2hhcnNldD11dGYtOCBodHRwLWVxdWl2PVwiQ29udGVudC1MYW5ndWFnZVwiIGNvbnRlbnQ9XCJlblwiLz5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8aDE+NDA0IE5vdCAiCiAgICAgICAgICAgICAgICAgICAgICAgIkZvdW5kPC9oMT5cbiAgPC9ib2R5PlxuPC9odG1sPlxuIjsKICAgIHJlc3AtPnN0YXR1cyA9IDQwNDsKICAgIHJlc3AtPm9rID0gRkFMU0U7CgogICAgcmVzcG9uc2Vfd3JpdGUocmVzcCwgYm9keSwgc3RybGVuKGJvZHkpLCBjdHgpOwogIH0KCiAgbHdzbF91c2VyKCJzZXJ2ZV9maWxlIHBhdGg9JXMgbW91bnQ9JS4qcyBsZW5ndGg9JXRkIiwgcGF0aCwgbW91bnQtPmx3cy5tb3VudHBvaW50X2xlbiwgbW91bnQtPmx3cy5tb3VudHBvaW50LCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICByZXR1cm4gMDsKfQoKaW50Cmh0dHBfc2VydmVyX3dyaXRhYmxlKHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3AsIEJPT0wgZG9uZSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wgbiwgcCA9IC0xOwogIHNpemVfdCByZW1haW47CiAgc3NpemVfdCByZXQgPSAwOwoKICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgLyogIGlmKCFidWZmZXJfQllURVMoJnJlc3AtPmJvZHkpICYmIGlzX2gyKHdzaSkpIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksICJcblhYWFhYWFhYWFhYWFhYIiwgMSwgY3R4KTsqLwoKICBpZigocmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSkpIHsKICAgIHVpbnQ4X3QqIHggPSByZXNwLT5ib2R5LnJlYWQ7CiAgICBzaXplX3QgbCA9IGlzX2gyKHdzaSkgPyAocmVtYWluID4gMTAyNCA/IDEwMjQgOiByZW1haW4pIDogcmVtYWluOwoKICAgIGlmKGwgPiAwKSB7CiAgICAgIHAgPSAocmVtYWluIC0gbCkgPiAwID8gTFdTX1dSSVRFX0hUVFAgOiBuOwogICAgICByZXQgPSBsd3Nfd3JpdGUod3NpLCB4LCBsLCBwKTsKICAgICAgbHdzbF91c2VyKCJsd3Nfd3JpdGUgd3NpIyUiIFBSSWk2NCAiIGxlbj0lenUgZmluYWw9JWQgcmV0PSV6ZCIsIG9wYXF1ZS0+c2VyaWFsLCBsLCBwID09IExXU19XUklURV9IVFRQX0ZJTkFMLCByZXQpOwogICAgICBpZihyZXQgPiAwKQogICAgICAgIGJ1ZmZlcl9za2lwKCZyZXNwLT5ib2R5LCByZXQpOwogICAgfQogIH0KCiAgcmVtYWluID0gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KTsKCiAgbHdzbF91c2VyKCIlcyB3c2kjJSIgUFJJaTY0ICIgZG9uZT0laSByZW1haW49JXp1IGZpbmFsPSVkIiwgX19mdW5jX18sIG9wYXF1ZS0+c2VyaWFsLCBkb25lLCByZW1haW4sIHAgPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwpOwoKICBpZihwID09IExXU19XUklURV9IVFRQX0ZJTkFMKSB7CgogICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgIHJldHVybiAtMTsKCiAgICByZXR1cm4gMTsKICB9IGVsc2UgaWYocmVtYWluID4gMCkgewogICAgLyoKICAgICAqIEhUVFAvMS4wIG5vIGtlZXBhbGl2ZTogY2xvc2UgbmV0d29yayBjb25uZWN0aW9uCiAgICAgKiBIVFRQLzEuMSBvciBIVFRQMS4wICsgS0E6IHdhaXQgLyBwcm9jZXNzIG5leHQgdHJhbnNhY3Rpb24KICAgICAqIEhUVFAvMjogcmluZ2J1ZmZlciBlbmRlZCwgcGFyZW50IGNvbm5lY3Rpb24gcmVtYWlucyB1cAogICAgICovCiAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICB9CgogIHJldHVybiAwOwp9CgppbnQKaHR0cF9zZXJ2ZXJfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICB1aW50OF90IGJ1ZltMV1NfUFJFICsgTFdTX1JFQ09NTUVOREVEX01JTl9IRUFERVJfU1BBQ0VdOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gbHdzX2NvbnRleHRfdXNlcihsd3NfZ2V0X2NvbnRleHQod3NpKSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXIgPyBzZXJ2ZXItPmNvbnRleHQuanMgOiAwOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHsKICAgIGFzc2VydChzZXJ2ZXIpOwogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIH0KCiAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERSkgewogICAgaWYoc2Vzc2lvbiAmJiBzZXNzaW9uLT5zZXJpYWwgIT0gb3BhcXVlLT5zZXJpYWwpIHsKICAgICAgc2Vzc2lvbi0+c2VyaWFsID0gb3BhcXVlLT5zZXJpYWw7CiAgICAgIHNlc3Npb24tPmgyID0gaXNfaDIod3NpKTsKICAgIH0KICB9CgogIGlmKCFvcGFxdWUgJiYgY3R4KQogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGN0eCk7CgogIGFzc2VydChvcGFxdWUpOwoKICBMT0coIkhUVFAiLAogICAgICAiJXMlc2ZkPSVkIGluPSclLipzJyB1cmw9JXMgc2Vzc2lvbiMlZCIsCiAgICAgIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwKICAgICAgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLAogICAgICBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLAogICAgICAoaW50KWxlbiwKICAgICAgaW4sCiAgICAgIG9wYXF1ZSAmJiBvcGFxdWUtPnJlcSA/IHVybF9zdHJpbmcoJm9wYXF1ZS0+cmVxLT51cmwpIDogMCwKICAgICAgc2Vzc2lvbiA/IHNlc3Npb24tPnNlcmlhbCA6IDApOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NIRUNLX0FDQ0VTU19SSUdIVFM6IHsKICAgICAgcmV0dXJuIDA7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICAvLyBzZXNzaW9uX3plcm8oc2Vzc2lvbik7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge3Nlc3Npb24tPndzX29iaiwgSlNfTlVMTH07CgogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICBpZighb3BhcXVlLT5yZXEpIHsKICAgICAgICAvKmNoYXIqIHVyaTsKICAgICAgICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZDsKCiAgICAgICAgdXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKGN0eCwgd3NpLCAmbWV0aG9kKTsKICAgICAgICBpZih1cmkpKi8KICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CiAgICAgIH0KCiAgICAgIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CgogICAgICBMT0coIkhUVFAiLCAiZmQ9JWksIG51bV9oZHI9JWkiLCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLCBudW1faGRyKTsKCiAgICAgIC8qcmV0dXJuIDE7Ki8KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX0hUVFBfQ09OTkVDVElPTjogewogICAgICBhc3NlcnQoIW9wYXF1ZS0+cmVxKTsKCiAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9tdXJsKGN0eCwgaW4pOwoKICAgICAgc3RydWN0IGx3c192aG9zdCogdmhvc3Q7CgogICAgICBpZigodmhvc3QgPSBsd3NfZ2V0X3Zob3N0KHdzaSkpKSB7CiAgICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgICAgaWYoKG5hbWUgPSBsd3NfZ2V0X3Zob3N0X25hbWUodmhvc3QpKSkKICAgICAgICAgIHVybF9wYXJzZSgmb3BhcXVlLT5yZXEtPnVybCwgbmFtZSwgY3R4KTsKICAgICAgfQoKICAgICAgdXJsX3NldF9wcm90b2NvbCgmb3BhcXVlLT5yZXEtPnVybCwgbHdzX2lzX3NzbCh3c2kpID8gImh0dHBzIiA6ICJodHRwIik7CgogICAgICAvLyBMT0coIkhUVFAiLCAidXJsPSVzIiwgb3BhcXVlLT5yZXEgPyB1cmxfc3RyaW5nKCZvcGFxdWUtPnJlcS0+dXJsKSA6IDApOwogICAgICByZXR1cm4gMDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046IHsKICAgICAgTWlubmV0Q2FsbGJhY2sqIGNiID0gc2Vzc2lvbi0+bW91bnQgPyAmc2Vzc2lvbi0+bW91bnQtPmNhbGxiYWNrIDogMDsKICAgICAgTWlubmV0QnVmZmVyIGIgPSBCVUZGRVIoYnVmKTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSByZXF1ZXN0X2hhbmRsZXIoc2Vzc2lvbiwgY2IpOwoKICAgICAgaWYoY2IgJiYgY2ItPmN0eCkgewogICAgICAgIEpTVmFsdWUgcmV0ID0gbWlubmV0X2VtaXRfdGhpcyhjYiwgc2Vzc2lvbi0+d3Nfb2JqLCAyLCBzZXNzaW9uLT5hcmdzKTsKCiAgICAgICAgYXNzZXJ0KGpzX2lzX2l0ZXJhdG9yKGN0eCwgcmV0KSk7CiAgICAgICAgc2Vzc2lvbi0+Z2VuZXJhdG9yID0gcmV0OwogICAgICB9IC8qIGVsc2UgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpIHsKICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgfQogKi8KICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQk9EWTogewogICAgICBNaW5uZXRSZXF1ZXN0KiByZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHNlc3Npb24tPnJlcV9vYmopOwoKICAgICAgTE9HKCJIVFRQIiwgIiVzbGVuOiAlenUsIHNpemU6ICV6dSIsIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbGVuLCBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSk7CgogICAgICBpZihsZW4pIHsKICAgICAgICBidWZmZXJfYXBwZW5kKCZyZXEtPmJvZHksIGluLCBsZW4sIGN0eCk7CgogICAgICAgIGpzX2R1bXBfc3RyaW5nKGluLCBsZW4sIDgwKTsKICAgICAgICBwdXRzKCIiKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOiB7CiAgICAgIE1pbm5ldFVSTCogdXJsID0gJm9wYXF1ZS0+cmVxLT51cmw7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIE1pbm5ldEJ1ZmZlciBiID0gQlVGRkVSKGJ1Zik7CiAgICAgIEpTVmFsdWUqIGFyZ3MgPSBzZXNzaW9uLT5hcmdzOwogICAgICBjaGFyKiBwYXRoID0gaW47CiAgICAgIGludCByZXQgPSAwOwogICAgICBzaXplX3QgbW91bnRwb2ludF9sZW4gPSAwLCBwYXRobGVuID0gc3RybGVuKHVybC0+cGF0aCk7CgogICAgICBpZih1cmwtPnBhdGggJiYgaW4gJiYgbGVuIDwgcGF0aGxlbiAvKiYmICFzdHJjbXAodXJsLT5wYXRoLCBpbikqLykKICAgICAgICBtb3VudHBvaW50X2xlbiA9IHBhdGhsZW4gLSBsZW47CgogICAgICBMT0coIkhUVFAiLCAibW91bnRwb2ludD0nJS4qcycgcGF0aD0nJXMnIiwgKGludCltb3VudHBvaW50X2xlbiwgdXJsLT5wYXRoLCBwYXRoKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcS0+aGVhZGVycy53cml0ZSkgewogICAgICAgIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CiAgICAgIH0KICAgICAgLyoKICAgICAgICAgICAgaWYoIW9wYXF1ZS0+cmVxLT5wYXRoWzBdKQogICAgICAgICAgICAgIHBzdHJjcHkob3BhcXVlLT5yZXEtPnBhdGgsIHNpemVvZihvcGFxdWUtPnJlcS0+cGF0aCksIHBhdGgpOwogICAgICAqLwogICAgICBzZXNzaW9uLT5tb3VudCA9IG1vdW50X2ZpbmQoKE1pbm5ldEh0dHBNb3VudCopc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCBwYXRoLCAwKTsKICAgICAgaWYodXJsLT5wYXRoICYmICFzZXNzaW9uLT5tb3VudCkKICAgICAgICBpZighKHNlc3Npb24tPm1vdW50ID0gbW91bnRfZmluZCgoTWlubmV0SHR0cE1vdW50KilzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCwgbW91bnRwb2ludF9sZW4pKSkKICAgICAgICAgIHNlc3Npb24tPm1vdW50ID0gbW91bnRfZmluZCgoTWlubmV0SHR0cE1vdW50KilzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCwgMCk7CgogICAgICBzZXNzaW9uLT5oMiA9IGlzX2gyKHdzaSk7CgogICAgICBpZigobW91bnQgPSBzZXNzaW9uLT5tb3VudCkpIHsKICAgICAgICBzaXplX3QgbWxlbiA9IHN0cmxlbihtb3VudC0+bW50KTsKICAgICAgICBhc3NlcnQoIXN0cm5jbXAodXJsLT5wYXRoLCBtb3VudC0+bW50LCBtbGVuKSk7CiAgICAgICAgYXNzZXJ0KCFzdHJjbXAodXJsLT5wYXRoICsgbWxlbiwgcGF0aCkpOwoKICAgICAgICBMT0coIkhUVFAiLAogICAgICAgICAgICAibW91bnQ6IG1udD0nJXMnLCBvcmc9JyVzJywgcHJvPSclcycsIG9yaWdpbl9wcm90b2NvbD0nJXMnXG4iLAogICAgICAgICAgICBtb3VudC0+bW50LAogICAgICAgICAgICBtb3VudC0+b3JnLAogICAgICAgICAgICBtb3VudC0+cHJvLAogICAgICAgICAgICAoKGNvbnN0IGNoYXIqW10peyJIVFRQIiwgIkhUVFBTIiwgIkZJTEUiLCAiQ0dJIiwgIlJFRElSX0hUVFAiLCAiUkVESVJfSFRUUFMiLCAiQ0FMTEJBQ0sifSlbKHVpbnRwdHJfdCltb3VudC0+bHdzLm9yaWdpbl9wcm90b2NvbF0pOwogICAgICB9CgogICAgICBhcmdzWzBdID0gc2Vzc2lvbi0+cmVxX29iaiA9IG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCBvcGFxdWUtPnJlcSk7CgogICAgICBpZighSlNfSXNPYmplY3QoYXJnc1sxXSkpCiAgICAgICAgYXJnc1sxXSA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCAqdXJsLCBvcGFxdWUtPnJlcS0+bWV0aG9kID09IE1FVEhPRF9QT1NUID8gMjAxIDogMjAwLCAwLCBUUlVFLCAidGV4dC9odG1sIik7CgogICAgICBNaW5uZXRSZXF1ZXN0KiByZXEgPSBvcGFxdWUtPnJlcTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBvcGFxdWUtPnJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCBhcmdzWzFdKTsKCiAgICAgIExPRygiSFRUUCIsICJyZXE9JXAsIGhlYWRlcj0lenUiLCByZXEsIGJ1ZmZlcl9IRUFEKCZyZXEtPmhlYWRlcnMpKTsKCiAgICAgIHJlcXVlc3RfZHVwKHJlcSk7CgogICAgICBNaW5uZXRDYWxsYmFjayogY2IgPSAmc2VydmVyLT5jYi5odHRwOwoKICAgICAgaWYobW91bnQgJiYgKG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fRklMRSB8fCAobW91bnQtPmx3cy5vcmlnaW5fcHJvdG9jb2wgPT0gTFdTTVBST19DQUxMQkFDSyAmJiBtb3VudC0+bHdzLm9yaWdpbikpKSB7CgogICAgICAgIGlmKChyZXQgPSBzZXJ2ZV9maWxlKHdzaSwgcGF0aCwgbW91bnQsIHJlc3AsIGN0eCkpKSB7CiAgICAgICAgICBMT0coIkhUVFAiLCAic2VydmVfZmlsZSBGQUlMICVkIiwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGlmKChyZXQgPSBodHRwX3NlcnZlcl9yZXNwb25kKHdzaSwgJmIsIHJlc3AsIGN0eCkpKSB7CiAgICAgICAgICBMT0coIkhUVFAiLCAiaHR0cF9zZXJ2ZXJfcmVzcG9uZCBGQUlMICVkIiwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQoKICAgICAgfSBlbHNlIGlmKG1vdW50ICYmIG1vdW50LT5sd3Mub3JpZ2luX3Byb3RvY29sID09IExXU01QUk9fQ0FMTEJBQ0spIHsKCiAgICAgICAgY2IgPSAmbW91bnQtPmNhbGxiYWNrOwoKICAgICAgICBpZihyZXEtPm1ldGhvZCA9PSBNRVRIT0RfR0VUIC8qIHx8IGlzX2gyKHdzaSkqLykgewogICAgICAgICAgcmVzcCA9IHJlcXVlc3RfaGFuZGxlcihzZXNzaW9uLCBjYik7CgogICAgICAgICAgaWYoY2IgJiYgY2ItPmN0eCkgewogICAgICAgICAgICBKU1ZhbHVlIGdlbiA9IG1pbm5ldF9lbWl0X3RoaXMoY2IsIHNlc3Npb24tPndzX29iaiwgMiwgYXJncyk7CiAgICAgICAgICAgIGFzc2VydChqc19pc19pdGVyYXRvcihjdHgsIGdlbikpOwogICAgICAgICAgICBMT0coIkhUVFAiLCAiZ2VuPSVzIiwgSlNfVG9DU3RyaW5nKGN0eCwgZ2VuKSk7CgogICAgICAgICAgICBzZXNzaW9uLT5nZW5lcmF0b3IgPSBnZW47CiAgICAgICAgICAgIHNlc3Npb24tPm5leHQgPSBKU19VTkRFRklORUQ7CiAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgTE9HKCJIVFRQIiwgInBhdGg9JXMgbW91bnRwb2ludD0lLipzIiwgcGF0aCwgKGludCltb3VudHBvaW50X2xlbiwgdXJsLT5wYXRoKTsKICAgICAgICAgICAgaWYobHdzX2h0dHBfdHJhbnNhY3Rpb25fY29tcGxldGVkKHdzaSkpCiAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfQogICAgICAgICAgaWYoaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSB7CiAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBMT0coIkhUVFAiLCAiTk9UIEZPVU5EXHRwYXRoPSVzIG1vdW50cG9pbnQ9JS4qcyIsIHBhdGgsIChpbnQpbW91bnRwb2ludF9sZW4sIHVybC0+cGF0aCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgaWYocmVxLT5tZXRob2QgPT0gTUVUSE9EX0dFVCB8fCBpc19oMih3c2kpKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwoKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9XUklURUFCTEU6IHsKICAgICAgTWlubmV0QnVmZmVyIGIgPSBCVUZGRVIoYnVmKTsKICAgICAgTWlubmV0UmVzcG9uc2UqIHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCBzZXNzaW9uLT5yZXNwX29iaik7CiAgICAgIEJPT0wgZG9uZSA9IEZBTFNFOwoKICAgICAgTE9HKCJIVFRQIiwKICAgICAgICAgICIlc21udD0lcyByZW1haW49JXRkIHR5cGU9JXMgdXJsLnBhdGg9JXMiLAogICAgICAgICAgc2Vzc2lvbi0+aDIgPyAiaDIsICIgOiAiIiwKICAgICAgICAgIHNlc3Npb24tPm1vdW50ID8gc2Vzc2lvbi0+bW91bnQtPm1udCA6IDAsCiAgICAgICAgICByZXNwID8gYnVmZmVyX0JZVEVTKCZyZXNwLT5ib2R5KSA6IDAsCiAgICAgICAgICByZXNwID8gcmVzcC0+dHlwZSA6IDAsCiAgICAgICAgICByZXNwID8gcmVzcC0+dXJsLnBhdGggOiAwKTsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHNlc3Npb24tPmdlbmVyYXRvcikpIHsKICAgICAgICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgICAgICAgd2hpbGUoIWRvbmUpIHsKICAgICAgICAgIHJldCA9IGpzX2l0ZXJhdG9yX25leHQoY3R4LCBzZXNzaW9uLT5nZW5lcmF0b3IsICZzZXNzaW9uLT5uZXh0LCAmZG9uZSwgMCwgMCk7CgogICAgICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgICAgICBKU1ZhbHVlIGV4Y2VwdGlvbiA9IEpTX0dldEV4Y2VwdGlvbihjdHgpOwogICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwgIkV4Y2VwdGlvbjogJXNcbiIsIEpTX1RvQ1N0cmluZyhjdHgsIGV4Y2VwdGlvbikpOwogICAgICAgICAgICBkb25lID0gVFJVRTsKICAgICAgICAgIH0gZWxzZSBpZighZG9uZSkgewogICAgICAgICAgICBKU0J1ZmZlciBvdXQgPSBqc19idWZmZXJfbmV3KGN0eCwgcmV0KTsKICAgICAgICAgICAgTE9HKCJIVFRQIiwgInNpemU9JXp1Iiwgb3V0LnNpemUpOwogICAgICAgICAgICBidWZmZXJfYXBwZW5kKCZyZXNwLT5ib2R5LCBvdXQuZGF0YSwgb3V0LnNpemUsIGN0eCk7CiAgICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZvdXQsIGN0eCk7CiAgICAgICAgICB9CiAgICAgICAgICBMT0coIkhUVFAiLCAiZG9uZT0laSB3cml0ZT0lenUiLCBkb25lLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwoKICAgICAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzID09IE9QRU4pIHsKICAgICAgICAgICAgaWYoaHR0cF9zZXJ2ZXJfcmVzcG9uZCh3c2ksICZiLCByZXNwLCBjdHgpKSB7CiAgICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOwoKICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NJTkc7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgfSBlbHNlIGlmKCFidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpIHsKICAgICAgICBzdGF0aWMgaW50IHVuaGFuZGxlZDsKCiAgICAgICAgaWYoIXVuaGFuZGxlZCsrKQogICAgICAgICAgTE9HKCJIVFRQIiwgInVuaGFuZGxlZCAlZCIsIHVuaGFuZGxlZCk7CgogICAgICAgIGJyZWFrOwogICAgICB9IGVsc2UgewogICAgICAgIGRvbmUgPSBUUlVFOwogICAgICB9CgogICAgICBpZihodHRwX3NlcnZlcl93cml0YWJsZSh3c2ksIHJlc3AsIGRvbmUpID09IDEpCiAgICAgICAgcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgTFdTX0NBTExCQUNLX0hUVFBfRklMRV9DT01QTEVUSU9OLCB1c2VyLCBpbiwgbGVuKTsKCiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjogewoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICByZXF1ZXN0X2ZyZWUob3BhcXVlLT5yZXEsIGN0eCk7CiAgICAgICAgb3BhcXVlLT5yZXEgPSAwOwogICAgICB9CgogICAgICBpZihvcGFxdWUtPnJlc3ApIHsKICAgICAgICByZXNwb25zZV9mcmVlKG9wYXF1ZS0+cmVzcCwgY3R4KTsKICAgICAgICBvcGFxdWUtPnJlc3AgPSAwOwogICAgICB9CgogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfQ0xJRU5UX0hUVFA6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDogewogICAgICBMT0coIkhUVFAiLCAiaW49JyUuKnMnIHVybD0lcyIsIChpbnQpbGVuLCAoY2hhciopaW4sIG9wYXF1ZS0+cmVxID8gdXJsX3N0cmluZygmb3BhcXVlLT5yZXEtPnVybCkgOiAwKTsKICAgICAgLy8gbHdzX2Nsb3NlX2ZyZWVfd3NpKHdzaSwgTFdTX0NMT1NFX1NUQVRVU19OT1NUQVRVUywgX19mdW5jX18pOwogICAgICAvKiAgICAgaWYoc2Vzc2lvbikgewogICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVxX29iaik7CiAgICAgICAgICAgICBzZXNzaW9uLT5yZXFfb2JqID0gSlNfVU5ERUZJTkVEOwogICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogICAgICAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBKU19VTkRFRklORUQ7CiAgICAgICAgICAgfSovCiAgICAgIHJldHVybiAtMTsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0VWRU5UX1dBSVRfQ0FOQ0VMTEVEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRDogewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICBpbnQgcmV0ID0gMDsKICBpZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFICYmIChyZWFzb24gPCBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MIHx8IHJlYXNvbiA+IExXU19DQUxMQkFDS19DSEVDS19BQ0NFU1NfUklHSFRTKSkgewogICAgTE9HKCJIVFRQIiwgImZkPSVpICVzJXNpbj0nJS4qcycgcmV0PSVkXG4iLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCAoc2Vzc2lvbiAmJiBzZXNzaW9uLT5oMikgfHwgaXNfaDIod3NpKSA/ICJoMiwgIiA6ICIiLCBsd3NfaXNfc3NsKHdzaSkgPyAic3NsLCAiIDogIiIsIChpbnQpbGVuLCAoY2hhciopaW4sIHJldCk7CiAgfQoKICByZXQgPSBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIHJldHVybiByZXQ7Cn0KAAAAAAAAAAC8WAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArlYAAAAAAACuVgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-server.h",
			"settings":
			{
				"buffer_size": 874,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet-buffer.h",
			"settings":
			{
				"buffer_size": 3948,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsDwAAI2lmbmRlZiBNSU5ORVRfQlVGRkVSX0gKI2RlZmluZSBNSU5ORVRfQlVGRkVSX0gKCiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgPHN0ZGFyZy5oPgojaW5jbHVkZSA8c3lzL3R5cGVzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KCnR5cGVkZWYgc3RydWN0IGJ5dGVfYmxvY2sgewogIHVpbnQ4X3QqIHN0YXJ0OwogIHVpbnQ4X3QqIGVuZDsKfSBNaW5uZXRCeXRlczsKCiNkZWZpbmUgYmxvY2tfU0laRShiKSAoc2l6ZV90KSgoYiktPmVuZCAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYmxvY2tfQkVHSU4oYikgKHZvaWQqKShiKS0+c3RhcnQKI2RlZmluZSBibG9ja19FTkQoYikgKHZvaWQqKShiKS0+ZW5kCiNkZWZpbmUgYmxvY2tfQUxMT0MoYikgKHZvaWQqKSgoYiktPnN0YXJ0ID8gKGIpLT5zdGFydCAtIExXU19QUkUgOiAwKQoKdm9pZCBibG9ja19pbml0KE1pbm5ldEJ5dGVzKiwgdWludDhfdCosIHNpemVfdCk7CnVpbnQ4X3QqIGJsb2NrX2FsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdWludDhfdCogYmxvY2tfcmVhbGxvYyhNaW5uZXRCeXRlcyosIHNpemVfdCwgSlNDb250ZXh0Kik7CnZvaWQgYmxvY2tfZnJlZShNaW5uZXRCeXRlcyosIEpTUnVudGltZSopOwppbnQgYmxvY2tfZnJvbWFycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9hcnJheWJ1ZmZlcihNaW5uZXRCeXRlcyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJsb2NrX3Rvc3RyaW5nKE1pbm5ldEJ5dGVzIGNvbnN0KiwgSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmJsb2NrX2dyb3coTWlubmV0Qnl0ZXMqIGJsaywgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJsb2NrX3JlYWxsb2MoYmxrLCBibG9ja19TSVpFKGJsaykgKyBzaXplLCBjdHgpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldEJ5dGVzCmJsb2NrX21vdmUoTWlubmV0Qnl0ZXMqIGJsaykgewogIE1pbm5ldEJ5dGVzIHJldCA9IHtibGstPnN0YXJ0LCBibGstPmVuZH07CiAgYmxrLT5zdGFydCA9IDA7CiAgYmxrLT5lbmQgPSAwOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgdW5pb24gYnl0ZV9idWZmZXIgewogIHN0cnVjdCB7CiAgICB1aW50OF90ICpzdGFydCwgKmVuZCwgKnJlYWQsICp3cml0ZSwgKmFsbG9jOwogIH07CiAgTWlubmV0Qnl0ZXMgYmxvY2s7Cn0gTWlubmV0QnVmZmVyOwoKI2RlZmluZSBCVUZGRVIoYnVmKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSArIExXU19QUkUsICh1aW50OF90KikoYnVmKSArIHNpemVvZihidWYpIC0gMSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgMCB9IFwKICB9CgojZGVmaW5lIEJVRkZFUl8wKCkgXAogIChNaW5uZXRCdWZmZXIpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAwIH0gXAogIH0KCiNkZWZpbmUgQlVGRkVSX04oYnVmLCBuKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSwgKHVpbnQ4X3QqKShidWYpICsgKG4pLCAodWludDhfdCopKGJ1ZiksICh1aW50OF90KikoYnVmKSwgMCB9IFwKICB9CgojZGVmaW5lIGJ1ZmZlcl9BVkFJTChiKSAocHRyZGlmZl90KSgoYiktPmVuZCAtIChiKS0+d3JpdGUpCiNkZWZpbmUgYnVmZmVyX0JZVEVTKGIpIChwdHJkaWZmX3QpKChiKS0+d3JpdGUgLSAoYiktPnJlYWQpCiNkZWZpbmUgYnVmZmVyX0hFQUQoYikgKHNpemVfdCkoKGIpLT53cml0ZSAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYnVmZmVyX1RBSUwoYikgKHNpemVfdCkoKGIpLT5yZWFkIC0gKGIpLT5zdGFydCkKI2RlZmluZSBidWZmZXJfQUxMT0MoYikgKHZvaWQqKSgoYiktPmFsbG9jKQoKI2RlZmluZSBidWZmZXJfQkVHSU4oYikgYmxvY2tfQkVHSU4oJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX0VORChiKSBibG9ja19FTkQoJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX1NJWkUoYikgYmxvY2tfU0laRSgmKGIpLT5ibG9jaykKCiNkZWZpbmUgYnVmZmVyX3plcm8oYikgbWVtc2V0KChiKSwgMCwgc2l6ZW9mKE1pbm5ldEJ1ZmZlcikpCgp2b2lkIGJsb2NrX2luaXQoTWlubmV0Qnl0ZXMqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYmxvY2tfYWxsb2MoTWlubmV0Qnl0ZXMqLCBzaXplX3QsIEpTQ29udGV4dCopOwp1aW50OF90KiBibG9ja19yZWFsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdm9pZCBibG9ja19mcmVlKE1pbm5ldEJ5dGVzKiwgSlNSdW50aW1lKik7CmludCBibG9ja19mcm9tYXJyYXlidWZmZXIoTWlubmV0Qnl0ZXMqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBibG9ja190b2FycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9zdHJpbmcoTWlubmV0Qnl0ZXMgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfaW5pdChNaW5uZXRCdWZmZXIqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYnVmZmVyX2FsbG9jKE1pbm5ldEJ1ZmZlciosIHNpemVfdCwgSlNDb250ZXh0Kik7CnNzaXplX3QgYnVmZmVyX2FwcGVuZChNaW5uZXRCdWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CnZvaWQgYnVmZmVyX2ZyZWUoTWlubmV0QnVmZmVyKiwgSlNSdW50aW1lKik7CkJPT0wgYnVmZmVyX3dyaXRlKE1pbm5ldEJ1ZmZlciosIGNvbnN0IHZvaWQqLCBzaXplX3QpOwppbnQgYnVmZmVyX3ZwcmludGYoTWlubmV0QnVmZmVyKiwgY29uc3QgY2hhciosIHZhX2xpc3QpOwppbnQgYnVmZmVyX3ByaW50ZihNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCogYnVmZmVyX3JlYWxsb2MoTWlubmV0QnVmZmVyKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKaW50IGJ1ZmZlcl9mcm9tYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CmludCBidWZmZXJfZnJvbXZhbHVlKE1pbm5ldEJ1ZmZlciosIEpTVmFsdWUsIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJ1ZmZlcl90b3N0cmluZyhNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKc2l6ZV90IGJ1ZmZlcl9lc2NhcGUoTWlubmV0QnVmZmVyKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwpjaGFyKiBidWZmZXJfZXNjYXBlZChNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfZmluYWxpemVyKEpTUnVudGltZSosIHZvaWQqLCB2b2lkKik7CkpTVmFsdWUgYnVmZmVyX3RvYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQgYnVmZmVyX2R1bXAoY29uc3QgY2hhciosIE1pbm5ldEJ1ZmZlciBjb25zdCopOwpCT09MIGJ1ZmZlcl9jbG9uZShNaW5uZXRCdWZmZXIqLCBjb25zdCBNaW5uZXRCdWZmZXIqLCBKU0NvbnRleHQqKTsKdWludDhfdCogYnVmZmVyX3NraXAoTWlubmV0QnVmZmVyKiwgc2l6ZV90KTsKQk9PTCBidWZmZXJfcHV0Y2hhcihNaW5uZXRCdWZmZXIqLCBjaGFyKTsKTWlubmV0QnVmZmVyIGJ1ZmZlcl9tb3ZlKE1pbm5ldEJ1ZmZlciopOwp1aW50OF90KiBidWZmZXJfZ3JvdyhNaW5uZXRCdWZmZXIqIGJ1Ziwgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdm9pZApidWZmZXJfcmVzZXQoTWlubmV0QnVmZmVyKiBidWYpIHsKICBidWYtPnJlYWQgPSBidWYtPnN0YXJ0OwogIGJ1Zi0+d3JpdGUgPSBidWYtPnN0YXJ0Owp9CgovKnN0YXRpYyBpbmxpbmUgdWludDhfdCoKYnVmZmVyX2dyb3coTWlubmV0QnVmZmVyKiBidWYsIHNpemVfdCBzaXplLCBKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBibG9ja19ncm93KCZidWYtPmJsb2NrLCBzaXplLCBjdHgpOwp9Ki8KCiNlbmRpZiAvKiBNSU5ORVRfQlVGRkVSX0ggKi8KAAAAAAAAAABsDwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwYAAAAAAACfBgAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsDwAAI2lmbmRlZiBNSU5ORVRfQlVGRkVSX0gKI2RlZmluZSBNSU5ORVRfQlVGRkVSX0gKCiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgPHN0ZGFyZy5oPgojaW5jbHVkZSA8c3lzL3R5cGVzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KCnR5cGVkZWYgc3RydWN0IGJ5dGVfYmxvY2sgewogIHVpbnQ4X3QqIHN0YXJ0OwogIHVpbnQ4X3QqIGVuZDsKfSBNaW5uZXRCeXRlczsKCiNkZWZpbmUgYmxvY2tfU0laRShiKSAoc2l6ZV90KSgoYiktPmVuZCAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYmxvY2tfQkVHSU4oYikgKHZvaWQqKShiKS0+c3RhcnQKI2RlZmluZSBibG9ja19FTkQoYikgKHZvaWQqKShiKS0+ZW5kCiNkZWZpbmUgYmxvY2tfQUxMT0MoYikgKHZvaWQqKSgoYiktPnN0YXJ0ID8gKGIpLT5zdGFydCAtIExXU19QUkUgOiAwKQoKdm9pZCBibG9ja19pbml0KE1pbm5ldEJ5dGVzKiwgdWludDhfdCosIHNpemVfdCk7CnVpbnQ4X3QqIGJsb2NrX2FsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdWludDhfdCogYmxvY2tfcmVhbGxvYyhNaW5uZXRCeXRlcyosIHNpemVfdCwgSlNDb250ZXh0Kik7CnZvaWQgYmxvY2tfZnJlZShNaW5uZXRCeXRlcyosIEpTUnVudGltZSopOwppbnQgYmxvY2tfZnJvbWFycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9hcnJheWJ1ZmZlcihNaW5uZXRCeXRlcyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJsb2NrX3Rvc3RyaW5nKE1pbm5ldEJ5dGVzIGNvbnN0KiwgSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmJsb2NrX2dyb3coTWlubmV0Qnl0ZXMqIGJsaywgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJsb2NrX3JlYWxsb2MoYmxrLCBibG9ja19TSVpFKGJsaykgKyBzaXplLCBjdHgpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldEJ5dGVzCmJsb2NrX21vdmUoTWlubmV0Qnl0ZXMqIGJsaykgewogIE1pbm5ldEJ5dGVzIHJldCA9IHtibGstPnN0YXJ0LCBibGstPmVuZH07CiAgYmxrLT5zdGFydCA9IDA7CiAgYmxrLT5lbmQgPSAwOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgdW5pb24gYnl0ZV9idWZmZXIgewogIHN0cnVjdCB7CiAgICB1aW50OF90ICpzdGFydCwgKmVuZCwgKnJlYWQsICp3cml0ZSwgKmFsbG9jOwogIH07CiAgTWlubmV0Qnl0ZXMgYmxvY2s7Cn0gTWlubmV0QnVmZmVyOwoKI2RlZmluZSBCVUZGRVIoYnVmKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSArIExXU19QUkUsICh1aW50OF90KikoYnVmKSArIHNpemVvZihidWYpIC0gMSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgMCB9IFwKICB9CgojZGVmaW5lIEJVRkZFUl8wKCkgXAogIChNaW5uZXRCdWZmZXIpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAwIH0gXAogIH0KCiNkZWZpbmUgQlVGRkVSX04oYnVmLCBuKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSwgKHVpbnQ4X3QqKShidWYpICsgKG4pLCAodWludDhfdCopKGJ1ZiksICh1aW50OF90KikoYnVmKSwgMCB9IFwKICB9CgojZGVmaW5lIGJ1ZmZlcl9BVkFJTChiKSAocHRyZGlmZl90KSgoYiktPmVuZCAtIChiKS0+d3JpdGUpCiNkZWZpbmUgYnVmZmVyX0JZVEVTKGIpIChwdHJkaWZmX3QpKChiKS0+d3JpdGUgLSAoYiktPnJlYWQpCiNkZWZpbmUgYnVmZmVyX0hFQUQoYikgKHNpemVfdCkoKGIpLT53cml0ZSAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYnVmZmVyX1RBSUwoYikgKHNpemVfdCkoKGIpLT5yZWFkIC0gKGIpLT5zdGFydCkKI2RlZmluZSBidWZmZXJfQUxMT0MoYikgKHZvaWQqKSgoYiktPmFsbG9jKQoKI2RlZmluZSBidWZmZXJfQkVHSU4oYikgYmxvY2tfQkVHSU4oJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX0VORChiKSBibG9ja19FTkQoJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX1NJWkUoYikgYmxvY2tfU0laRSgmKGIpLT5ibG9jaykKCiNkZWZpbmUgYnVmZmVyX3plcm8oYikgbWVtc2V0KChiKSwgMCwgc2l6ZW9mKE1pbm5ldEJ1ZmZlcikpCgp2b2lkIGJsb2NrX2luaXQoTWlubmV0Qnl0ZXMqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYmxvY2tfYWxsb2MoTWlubmV0Qnl0ZXMqLCBzaXplX3QsIEpTQ29udGV4dCopOwp1aW50OF90KiBibG9ja19yZWFsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdm9pZCBibG9ja19mcmVlKE1pbm5ldEJ5dGVzKiwgSlNSdW50aW1lKik7CmludCBibG9ja19mcm9tYXJyYXlidWZmZXIoTWlubmV0Qnl0ZXMqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBibG9ja190b2FycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9zdHJpbmcoTWlubmV0Qnl0ZXMgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfaW5pdChNaW5uZXRCdWZmZXIqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYnVmZmVyX2FsbG9jKE1pbm5ldEJ1ZmZlciosIHNpemVfdCwgSlNDb250ZXh0Kik7CnNzaXplX3QgYnVmZmVyX2FwcGVuZChNaW5uZXRCdWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CnZvaWQgYnVmZmVyX2ZyZWUoTWlubmV0QnVmZmVyKiwgSlNSdW50aW1lKik7CkJPT0wgYnVmZmVyX3dyaXRlKE1pbm5ldEJ1ZmZlciosIGNvbnN0IHZvaWQqLCBzaXplX3QpOwppbnQgYnVmZmVyX3ZwcmludGYoTWlubmV0QnVmZmVyKiwgY29uc3QgY2hhciosIHZhX2xpc3QpOwppbnQgYnVmZmVyX3ByaW50ZihNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCogYnVmZmVyX3JlYWxsb2MoTWlubmV0QnVmZmVyKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKaW50IGJ1ZmZlcl9mcm9tYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CmludCBidWZmZXJfZnJvbXZhbHVlKE1pbm5ldEJ1ZmZlciosIEpTVmFsdWUsIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJ1ZmZlcl90b3N0cmluZyhNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKc2l6ZV90IGJ1ZmZlcl9lc2NhcGUoTWlubmV0QnVmZmVyKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwpjaGFyKiBidWZmZXJfZXNjYXBlZChNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfZmluYWxpemVyKEpTUnVudGltZSosIHZvaWQqLCB2b2lkKik7CkpTVmFsdWUgYnVmZmVyX3RvYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQgYnVmZmVyX2R1bXAoY29uc3QgY2hhciosIE1pbm5ldEJ1ZmZlciBjb25zdCopOwpCT09MIGJ1ZmZlcl9jbG9uZShNaW5uZXRCdWZmZXIqLCBjb25zdCBNaW5uZXRCdWZmZXIqLCBKU0NvbnRleHQqKTsKdWludDhfdCogYnVmZmVyX3NraXAoTWlubmV0QnVmZmVyKiwgc2l6ZV90KTsKQk9PTCBidWZmZXJfcHV0Y2hhcihNaW5uZXRCdWZmZXIqLCBjaGFyKTsKTWlubmV0QnVmZmVyIGJ1ZmZlcl9tb3ZlKE1pbm5ldEJ1ZmZlciopOwp1aW50OF90KiBidWZmZXJfZ3JvdyhNaW5uZXRCdWZmZXIqIGJ1Ziwgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdm9pZApidWZmZXJfcmVzZXQoTWlubmV0QnVmZmVyKiBidWYpIHsKICBidWYtPnJlYWQgPSBidWYtPnN0YXJ0OwogIGJ1Zi0+d3JpdGUgPSBidWYtPnN0YXJ0Owp9CgovKnN0YXRpYyBpbmxpbmUgdWludDhfdCoKYnVmZmVyX2dyb3coTWlubmV0QnVmZmVyKiBidWYsIHNpemVfdCBzaXplLCBKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBibG9ja19ncm93KCZidWYtPmJsb2NrLCBzaXplLCBjdHgpOwp9Ki8KCiNlbmRpZiAvKiBNSU5ORVRfQlVGRkVSX0ggKi8KAAAAAAAAAABsDwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwYAAAAAAACfBgAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsDwAAI2lmbmRlZiBNSU5ORVRfQlVGRkVSX0gKI2RlZmluZSBNSU5ORVRfQlVGRkVSX0gKCiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgPHN0ZGFyZy5oPgojaW5jbHVkZSA8c3lzL3R5cGVzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KCnR5cGVkZWYgc3RydWN0IGJ5dGVfYmxvY2sgewogIHVpbnQ4X3QqIHN0YXJ0OwogIHVpbnQ4X3QqIGVuZDsKfSBNaW5uZXRCeXRlczsKCiNkZWZpbmUgYmxvY2tfU0laRShiKSAoc2l6ZV90KSgoYiktPmVuZCAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYmxvY2tfQkVHSU4oYikgKHZvaWQqKShiKS0+c3RhcnQKI2RlZmluZSBibG9ja19FTkQoYikgKHZvaWQqKShiKS0+ZW5kCiNkZWZpbmUgYmxvY2tfQUxMT0MoYikgKHZvaWQqKSgoYiktPnN0YXJ0ID8gKGIpLT5zdGFydCAtIExXU19QUkUgOiAwKQoKdm9pZCBibG9ja19pbml0KE1pbm5ldEJ5dGVzKiwgdWludDhfdCosIHNpemVfdCk7CnVpbnQ4X3QqIGJsb2NrX2FsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdWludDhfdCogYmxvY2tfcmVhbGxvYyhNaW5uZXRCeXRlcyosIHNpemVfdCwgSlNDb250ZXh0Kik7CnZvaWQgYmxvY2tfZnJlZShNaW5uZXRCeXRlcyosIEpTUnVudGltZSopOwppbnQgYmxvY2tfZnJvbWFycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9hcnJheWJ1ZmZlcihNaW5uZXRCeXRlcyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJsb2NrX3Rvc3RyaW5nKE1pbm5ldEJ5dGVzIGNvbnN0KiwgSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmJsb2NrX2dyb3coTWlubmV0Qnl0ZXMqIGJsaywgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJsb2NrX3JlYWxsb2MoYmxrLCBibG9ja19TSVpFKGJsaykgKyBzaXplLCBjdHgpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldEJ5dGVzCmJsb2NrX21vdmUoTWlubmV0Qnl0ZXMqIGJsaykgewogIE1pbm5ldEJ5dGVzIHJldCA9IHtibGstPnN0YXJ0LCBibGstPmVuZH07CiAgYmxrLT5zdGFydCA9IDA7CiAgYmxrLT5lbmQgPSAwOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgdW5pb24gYnl0ZV9idWZmZXIgewogIHN0cnVjdCB7CiAgICB1aW50OF90ICpzdGFydCwgKmVuZCwgKnJlYWQsICp3cml0ZSwgKmFsbG9jOwogIH07CiAgTWlubmV0Qnl0ZXMgYmxvY2s7Cn0gTWlubmV0QnVmZmVyOwoKI2RlZmluZSBCVUZGRVIoYnVmKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSArIExXU19QUkUsICh1aW50OF90KikoYnVmKSArIHNpemVvZihidWYpIC0gMSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgMCB9IFwKICB9CgojZGVmaW5lIEJVRkZFUl8wKCkgXAogIChNaW5uZXRCdWZmZXIpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAwIH0gXAogIH0KCiNkZWZpbmUgQlVGRkVSX04oYnVmLCBuKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSwgKHVpbnQ4X3QqKShidWYpICsgKG4pLCAodWludDhfdCopKGJ1ZiksICh1aW50OF90KikoYnVmKSwgMCB9IFwKICB9CgojZGVmaW5lIGJ1ZmZlcl9BVkFJTChiKSAocHRyZGlmZl90KSgoYiktPmVuZCAtIChiKS0+d3JpdGUpCiNkZWZpbmUgYnVmZmVyX0JZVEVTKGIpIChwdHJkaWZmX3QpKChiKS0+d3JpdGUgLSAoYiktPnJlYWQpCiNkZWZpbmUgYnVmZmVyX0hFQUQoYikgKHNpemVfdCkoKGIpLT53cml0ZSAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYnVmZmVyX1RBSUwoYikgKHNpemVfdCkoKGIpLT5yZWFkIC0gKGIpLT5zdGFydCkKI2RlZmluZSBidWZmZXJfQUxMT0MoYikgKHZvaWQqKSgoYiktPmFsbG9jKQoKI2RlZmluZSBidWZmZXJfQkVHSU4oYikgYmxvY2tfQkVHSU4oJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX0VORChiKSBibG9ja19FTkQoJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX1NJWkUoYikgYmxvY2tfU0laRSgmKGIpLT5ibG9jaykKCiNkZWZpbmUgYnVmZmVyX3plcm8oYikgbWVtc2V0KChiKSwgMCwgc2l6ZW9mKE1pbm5ldEJ1ZmZlcikpCgp2b2lkIGJsb2NrX2luaXQoTWlubmV0Qnl0ZXMqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYmxvY2tfYWxsb2MoTWlubmV0Qnl0ZXMqLCBzaXplX3QsIEpTQ29udGV4dCopOwp1aW50OF90KiBibG9ja19yZWFsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdm9pZCBibG9ja19mcmVlKE1pbm5ldEJ5dGVzKiwgSlNSdW50aW1lKik7CmludCBibG9ja19mcm9tYXJyYXlidWZmZXIoTWlubmV0Qnl0ZXMqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBibG9ja190b2FycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9zdHJpbmcoTWlubmV0Qnl0ZXMgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfaW5pdChNaW5uZXRCdWZmZXIqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYnVmZmVyX2FsbG9jKE1pbm5ldEJ1ZmZlciosIHNpemVfdCwgSlNDb250ZXh0Kik7CnNzaXplX3QgYnVmZmVyX2FwcGVuZChNaW5uZXRCdWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CnZvaWQgYnVmZmVyX2ZyZWUoTWlubmV0QnVmZmVyKiwgSlNSdW50aW1lKik7CkJPT0wgYnVmZmVyX3dyaXRlKE1pbm5ldEJ1ZmZlciosIGNvbnN0IHZvaWQqLCBzaXplX3QpOwppbnQgYnVmZmVyX3ZwcmludGYoTWlubmV0QnVmZmVyKiwgY29uc3QgY2hhciosIHZhX2xpc3QpOwppbnQgYnVmZmVyX3ByaW50ZihNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCogYnVmZmVyX3JlYWxsb2MoTWlubmV0QnVmZmVyKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKaW50IGJ1ZmZlcl9mcm9tYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CmludCBidWZmZXJfZnJvbXZhbHVlKE1pbm5ldEJ1ZmZlciosIEpTVmFsdWUsIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJ1ZmZlcl90b3N0cmluZyhNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKc2l6ZV90IGJ1ZmZlcl9lc2NhcGUoTWlubmV0QnVmZmVyKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwpjaGFyKiBidWZmZXJfZXNjYXBlZChNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfZmluYWxpemVyKEpTUnVudGltZSosIHZvaWQqLCB2b2lkKik7CkpTVmFsdWUgYnVmZmVyX3RvYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQgYnVmZmVyX2R1bXAoY29uc3QgY2hhciosIE1pbm5ldEJ1ZmZlciBjb25zdCopOwpCT09MIGJ1ZmZlcl9jbG9uZShNaW5uZXRCdWZmZXIqLCBjb25zdCBNaW5uZXRCdWZmZXIqLCBKU0NvbnRleHQqKTsKdWludDhfdCogYnVmZmVyX3NraXAoTWlubmV0QnVmZmVyKiwgc2l6ZV90KTsKQk9PTCBidWZmZXJfcHV0Y2hhcihNaW5uZXRCdWZmZXIqLCBjaGFyKTsKTWlubmV0QnVmZmVyIGJ1ZmZlcl9tb3ZlKE1pbm5ldEJ1ZmZlciopOwp1aW50OF90KiBidWZmZXJfZ3JvdyhNaW5uZXRCdWZmZXIqIGJ1Ziwgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdm9pZApidWZmZXJfcmVzZXQoTWlubmV0QnVmZmVyKiBidWYpIHsKICBidWYtPnJlYWQgPSBidWYtPnN0YXJ0OwogIGJ1Zi0+d3JpdGUgPSBidWYtPnN0YXJ0Owp9CgovKnN0YXRpYyBpbmxpbmUgdWludDhfdCoKYnVmZmVyX2dyb3coTWlubmV0QnVmZmVyKiBidWYsIHNpemVfdCBzaXplLCBKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBibG9ja19ncm93KCZidWYtPmJsb2NrLCBzaXplLCBjdHgpOwp9Ki8KCiNlbmRpZiAvKiBNSU5ORVRfQlVGRkVSX0ggKi8KAAAAAAAAAABsDwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwYAAAAAAACfBgAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsDwAAI2lmbmRlZiBNSU5ORVRfQlVGRkVSX0gKI2RlZmluZSBNSU5ORVRfQlVGRkVSX0gKCiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgPHN0ZGFyZy5oPgojaW5jbHVkZSA8c3lzL3R5cGVzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KCnR5cGVkZWYgc3RydWN0IGJ5dGVfYmxvY2sgewogIHVpbnQ4X3QqIHN0YXJ0OwogIHVpbnQ4X3QqIGVuZDsKfSBNaW5uZXRCeXRlczsKCiNkZWZpbmUgYmxvY2tfU0laRShiKSAoc2l6ZV90KSgoYiktPmVuZCAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYmxvY2tfQkVHSU4oYikgKHZvaWQqKShiKS0+c3RhcnQKI2RlZmluZSBibG9ja19FTkQoYikgKHZvaWQqKShiKS0+ZW5kCiNkZWZpbmUgYmxvY2tfQUxMT0MoYikgKHZvaWQqKSgoYiktPnN0YXJ0ID8gKGIpLT5zdGFydCAtIExXU19QUkUgOiAwKQoKdm9pZCBibG9ja19pbml0KE1pbm5ldEJ5dGVzKiwgdWludDhfdCosIHNpemVfdCk7CnVpbnQ4X3QqIGJsb2NrX2FsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdWludDhfdCogYmxvY2tfcmVhbGxvYyhNaW5uZXRCeXRlcyosIHNpemVfdCwgSlNDb250ZXh0Kik7CnZvaWQgYmxvY2tfZnJlZShNaW5uZXRCeXRlcyosIEpTUnVudGltZSopOwppbnQgYmxvY2tfZnJvbWFycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9hcnJheWJ1ZmZlcihNaW5uZXRCeXRlcyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJsb2NrX3Rvc3RyaW5nKE1pbm5ldEJ5dGVzIGNvbnN0KiwgSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmJsb2NrX2dyb3coTWlubmV0Qnl0ZXMqIGJsaywgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJsb2NrX3JlYWxsb2MoYmxrLCBibG9ja19TSVpFKGJsaykgKyBzaXplLCBjdHgpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldEJ5dGVzCmJsb2NrX21vdmUoTWlubmV0Qnl0ZXMqIGJsaykgewogIE1pbm5ldEJ5dGVzIHJldCA9IHtibGstPnN0YXJ0LCBibGstPmVuZH07CiAgYmxrLT5zdGFydCA9IDA7CiAgYmxrLT5lbmQgPSAwOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgdW5pb24gYnl0ZV9idWZmZXIgewogIHN0cnVjdCB7CiAgICB1aW50OF90ICpzdGFydCwgKmVuZCwgKnJlYWQsICp3cml0ZSwgKmFsbG9jOwogIH07CiAgTWlubmV0Qnl0ZXMgYmxvY2s7Cn0gTWlubmV0QnVmZmVyOwoKI2RlZmluZSBCVUZGRVIoYnVmKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSArIExXU19QUkUsICh1aW50OF90KikoYnVmKSArIHNpemVvZihidWYpIC0gMSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgKHVpbnQ4X3QqKShidWYpICsgTFdTX1BSRSwgMCB9IFwKICB9CgojZGVmaW5lIEJVRkZFUl8wKCkgXAogIChNaW5uZXRCdWZmZXIpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAwIH0gXAogIH0KCiNkZWZpbmUgQlVGRkVSX04oYnVmLCBuKSBcCiAgKE1pbm5ldEJ1ZmZlcikgeyBcCiAgICB7ICh1aW50OF90KikoYnVmKSwgKHVpbnQ4X3QqKShidWYpICsgKG4pLCAodWludDhfdCopKGJ1ZiksICh1aW50OF90KikoYnVmKSwgMCB9IFwKICB9CgojZGVmaW5lIGJ1ZmZlcl9BVkFJTChiKSAocHRyZGlmZl90KSgoYiktPmVuZCAtIChiKS0+d3JpdGUpCiNkZWZpbmUgYnVmZmVyX0JZVEVTKGIpIChwdHJkaWZmX3QpKChiKS0+d3JpdGUgLSAoYiktPnJlYWQpCiNkZWZpbmUgYnVmZmVyX0hFQUQoYikgKHNpemVfdCkoKGIpLT53cml0ZSAtIChiKS0+c3RhcnQpCiNkZWZpbmUgYnVmZmVyX1RBSUwoYikgKHNpemVfdCkoKGIpLT5yZWFkIC0gKGIpLT5zdGFydCkKI2RlZmluZSBidWZmZXJfQUxMT0MoYikgKHZvaWQqKSgoYiktPmFsbG9jKQoKI2RlZmluZSBidWZmZXJfQkVHSU4oYikgYmxvY2tfQkVHSU4oJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX0VORChiKSBibG9ja19FTkQoJihiKS0+YmxvY2spCiNkZWZpbmUgYnVmZmVyX1NJWkUoYikgYmxvY2tfU0laRSgmKGIpLT5ibG9jaykKCiNkZWZpbmUgYnVmZmVyX3plcm8oYikgbWVtc2V0KChiKSwgMCwgc2l6ZW9mKE1pbm5ldEJ1ZmZlcikpCgp2b2lkIGJsb2NrX2luaXQoTWlubmV0Qnl0ZXMqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYmxvY2tfYWxsb2MoTWlubmV0Qnl0ZXMqLCBzaXplX3QsIEpTQ29udGV4dCopOwp1aW50OF90KiBibG9ja19yZWFsbG9jKE1pbm5ldEJ5dGVzKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKdm9pZCBibG9ja19mcmVlKE1pbm5ldEJ5dGVzKiwgSlNSdW50aW1lKik7CmludCBibG9ja19mcm9tYXJyYXlidWZmZXIoTWlubmV0Qnl0ZXMqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBibG9ja190b2FycmF5YnVmZmVyKE1pbm5ldEJ5dGVzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgYmxvY2tfdG9zdHJpbmcoTWlubmV0Qnl0ZXMgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfaW5pdChNaW5uZXRCdWZmZXIqLCB1aW50OF90Kiwgc2l6ZV90KTsKdWludDhfdCogYnVmZmVyX2FsbG9jKE1pbm5ldEJ1ZmZlciosIHNpemVfdCwgSlNDb250ZXh0Kik7CnNzaXplX3QgYnVmZmVyX2FwcGVuZChNaW5uZXRCdWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CnZvaWQgYnVmZmVyX2ZyZWUoTWlubmV0QnVmZmVyKiwgSlNSdW50aW1lKik7CkJPT0wgYnVmZmVyX3dyaXRlKE1pbm5ldEJ1ZmZlciosIGNvbnN0IHZvaWQqLCBzaXplX3QpOwppbnQgYnVmZmVyX3ZwcmludGYoTWlubmV0QnVmZmVyKiwgY29uc3QgY2hhciosIHZhX2xpc3QpOwppbnQgYnVmZmVyX3ByaW50ZihNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCogYnVmZmVyX3JlYWxsb2MoTWlubmV0QnVmZmVyKiwgc2l6ZV90LCBKU0NvbnRleHQqKTsKaW50IGJ1ZmZlcl9mcm9tYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNWYWx1ZSwgSlNDb250ZXh0Kik7CmludCBidWZmZXJfZnJvbXZhbHVlKE1pbm5ldEJ1ZmZlciosIEpTVmFsdWUsIEpTQ29udGV4dCopOwpKU1ZhbHVlIGJ1ZmZlcl90b3N0cmluZyhNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKc2l6ZV90IGJ1ZmZlcl9lc2NhcGUoTWlubmV0QnVmZmVyKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwpjaGFyKiBidWZmZXJfZXNjYXBlZChNaW5uZXRCdWZmZXIgY29uc3QqLCBKU0NvbnRleHQqKTsKdm9pZCBidWZmZXJfZmluYWxpemVyKEpTUnVudGltZSosIHZvaWQqLCB2b2lkKik7CkpTVmFsdWUgYnVmZmVyX3RvYXJyYXlidWZmZXIoTWlubmV0QnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQgYnVmZmVyX2R1bXAoY29uc3QgY2hhciosIE1pbm5ldEJ1ZmZlciBjb25zdCopOwpCT09MIGJ1ZmZlcl9jbG9uZShNaW5uZXRCdWZmZXIqLCBjb25zdCBNaW5uZXRCdWZmZXIqLCBKU0NvbnRleHQqKTsKdWludDhfdCogYnVmZmVyX3NraXAoTWlubmV0QnVmZmVyKiwgc2l6ZV90KTsKQk9PTCBidWZmZXJfcHV0Y2hhcihNaW5uZXRCdWZmZXIqLCBjaGFyKTsKTWlubmV0QnVmZmVyIGJ1ZmZlcl9tb3ZlKE1pbm5ldEJ1ZmZlciopOwp1aW50OF90KiBidWZmZXJfZ3JvdyhNaW5uZXRCdWZmZXIqIGJ1Ziwgc2l6ZV90IHNpemUsIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdm9pZApidWZmZXJfcmVzZXQoTWlubmV0QnVmZmVyKiBidWYpIHsKICBidWYtPnJlYWQgPSBidWYtPnN0YXJ0OwogIGJ1Zi0+d3JpdGUgPSBidWYtPnN0YXJ0Owp9CgovKnN0YXRpYyBpbmxpbmUgdWludDhfdCoKYnVmZmVyX2dyb3coTWlubmV0QnVmZmVyKiBidWYsIHNpemVfdCBzaXplLCBKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBibG9ja19ncm93KCZidWYtPmJsb2NrLCBzaXplLCBjdHgpOwp9Ki8KCiNlbmRpZiAvKiBNSU5ORVRfQlVGRkVSX0ggKi8KAAAAAAAAAABsDwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwYAAAAAAACfBgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/lib/core-net/wsi-timeout.c",
			"settings":
			{
				"buffer_size": 8699,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-logs.h",
			"settings":
			{
				"buffer_size": 24350,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/lib/core/context.c",
			"settings":
			{
				"buffer_size": 59750,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-callbacks.h",
			"settings":
			{
				"buffer_size": 37291,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "libwebsockets/lib/roles/h2/ops-h2.c",
			"settings":
			{
				"buffer_size": 39157,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/lib/roles/http/server/server.c",
			"settings":
			{
				"buffer_size": 88080,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet-server-proxy.c",
			"settings":
			{
				"buffer_size": 5374,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAD+FAAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItcHJveHkuaCIKI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCnR5cGVkZWYgc3RydWN0IHByb3h5X21zZyB7CiAgbHdzX2RsbDJfdCBsaXN0OwogIHNpemVfdCBsZW47Cgp9IHByb3h5X21zZ190OwoKdHlwZWRlZiBzdHJ1Y3QgcHJveHlfY29ubiB7CiAgc3RydWN0IGx3cyogd3NpX3dzOwogIHN0cnVjdCBsd3MqIHdzaV9yYXc7CgogIGx3c19kbGwyX293bmVyX3QgcGVuZGluZ19tc2dfdG9fd3M7CiAgbHdzX2RsbDJfb3duZXJfdCBwZW5kaW5nX21zZ190b19yYXc7Cn0gcHJveHlfY29ubl90OwoKaW50CnByb3h5X3dzX3Jhd19tc2dfZGVzdHJveShzdHJ1Y3QgbHdzX2RsbDIqIGQsIHZvaWQqIHVzZXIpIHsKICBwcm94eV9tc2dfdCogbXNnID0gbHdzX2NvbnRhaW5lcl9vZihkLCBwcm94eV9tc2dfdCwgbGlzdCk7CgogIGx3c19kbGwyX3JlbW92ZShkKTsKICBmcmVlKG1zZyk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgcHJveHlfY29ubl90Kgpwcm94eV9uZXcoKSB7CiAgcHJveHlfY29ubl90KiBwYzsKICBpZigocGMgPSBtYWxsb2Moc2l6ZW9mKCpwYykpKSkKICAgIG1lbXNldChwYywgMCwgc2l6ZW9mKCpwYykpOwoKICByZXR1cm4gcGM7Cn0KCmludApjYWxsYmFja19wcm94eV93c19zZXJ2ZXIoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBwcm94eV9jb25uX3QqIHBjID0gKHByb3h5X2Nvbm5fdCopbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpbmZvOwoKICAgICAgcGMgPSBwcm94eV9uZXcoKTsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgcGMpOwoKICAgICAgcGMtPndzaV93cyA9IHdzaTsKCiAgICAgIG1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKCiAgICAgIGluZm8ubWV0aG9kID0gIlJBVyI7CiAgICAgIGluZm8uY29udGV4dCA9IGx3c19nZXRfY29udGV4dCh3c2kpOwogICAgICBpbmZvLnBvcnQgPSAxMjM0OwogICAgICBpbmZvLmFkZHJlc3MgPSAiMTI3LjAuMC4xIjsKICAgICAgaW5mby5zc2xfY29ubmVjdGlvbiA9IDA7CiAgICAgIGluZm8ubG9jYWxfcHJvdG9jb2xfbmFtZSA9ICJsd3Mtd3MtcmF3LXJhdyI7CgogICAgICBpbmZvLm9wYXF1ZV91c2VyX2RhdGEgPSBwYzsKCiAgICAgIGluZm8ucHdzaSA9ICZwYy0+d3NpX3JhdzsKCiAgICAgIGlmKCFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmluZm8pKSB7CiAgICAgICAgbHdzbF93YXJuKCIlczogb253YXJkIGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBsd3NfZGxsMl9mb3JlYWNoX3NhZmUoJnBjLT5wZW5kaW5nX21zZ190b193cywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKICAgICAgcGMtPndzaV93cyA9IE5VTEw7CiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIE5VTEwpOwogICAgICBpZighcGMtPndzaV9yYXcpIHsKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihwYy0+cGVuZGluZ19tc2dfdG9fcmF3LmNvdW50KSB7CiAgICAgICAgbHdzX3NldF90aW1lb3V0KHBjLT53c2lfcmF3LCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbHdzX3dzaV9jbG9zZShwYy0+d3NpX3JhdywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgcHJveHlfbXNnX3QqIG1zZzsKICAgICAgdWludDhfdCogZGF0YTsKICAgICAgaW50IG0sIGE7CgogICAgICBpZighcGMgfHwgIXBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmhlYWQsIHByb3h5X21zZ190LCBsaXN0KTsKICAgICAgZGF0YSA9ICh1aW50OF90KikmbXNnWzFdICsgTFdTX1BSRTsKCiAgICAgIG0gPSBsd3Nfd3JpdGUod3NpLCBkYXRhLCBtc2ctPmxlbiwgTFdTX1dSSVRFX1RFWFQpOwogICAgICBhID0gKGludCltc2ctPmxlbjsKICAgICAgbHdzX2RsbDJfcmVtb3ZlKCZtc2ctPmxpc3QpOwogICAgICBmcmVlKG1zZyk7CgogICAgICBpZihtIDwgYSkgewogICAgICAgIGx3c2xfZXJyKCJFUlJPUiAlZCB3cml0aW5nIHRvIHdzXG4iLCBtKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KCiAgICAgIGlmKHBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIHByb3h5X21zZ190KiBtc2c7CiAgICAgIHVpbnQ4X3QqIGRhdGE7CgogICAgICBpZighcGMgfHwgIXBjLT53c2lfcmF3KQogICAgICAgIGJyZWFrOwoKICAgICAgbXNnID0gKHByb3h5X21zZ190KiltYWxsb2Moc2l6ZW9mKCptc2cpICsgTFdTX1BSRSArIGxlbik7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBpZighbXNnKSB7CiAgICAgICAgbHdzbF91c2VyKCJPT006IGRyb3BwaW5nXG4iKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbWVtc2V0KG1zZywgMCwgc2l6ZW9mKCptc2cpKTsKICAgICAgbXNnLT5sZW4gPSBsZW47CiAgICAgIG1lbWNweShkYXRhLCBpbiwgbGVuKTsKCiAgICAgIGx3c19kbGwyX2FkZF90YWlsKCZtc2ctPmxpc3QsICZwYy0+cGVuZGluZ19tc2dfdG9fcmF3KTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3Jhdyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CgppbnQKY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudChzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIHByb3h5X2Nvbm5fdCogcGMgPSAocHJveHlfY29ubl90Kilsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICBwcm94eV9tc2dfdCogbXNnOwogIHVpbnQ4X3QqIGRhdGE7CiAgaW50IG0sIGE7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOgogICAgICBsd3NsX3dhcm4oIiVzOiBvbndhcmQgcmF3IGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUOgogICAgICBsd3NsX3VzZXIoIkxXU19DQUxMQkFDS19SQVdfQURPUFRcbiIpOwogICAgICBwYy0+d3NpX3JhdyA9IHdzaTsKICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DTE9TRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFXG4iKTsKCiAgICAgIGx3c19kbGwyX2ZvcmVhY2hfc2FmZSgmcGMtPnBlbmRpbmdfbXNnX3RvX3JhdywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKCiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgTlVMTCk7CgogICAgICBpZighcGMtPndzaV93cykgewoKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmNvdW50KSB7CgogICAgICAgIGx3c19zZXRfdGltZW91dChwYy0+d3NpX3dzLCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGx3c193c2lfY2xvc2UocGMtPndzaV93cywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6CiAgICAgIGx3c2xfdXNlcigiTFdTX0NBTExCQUNLX1JBV19SWCAoJWQpXG4iLCAoaW50KWxlbik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPndzaV93cykKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IChwcm94eV9tc2dfdCopbWFsbG9jKHNpemVvZigqbXNnKSArIExXU19QUkUgKyBsZW4pOwogICAgICBkYXRhID0gKHVpbnQ4X3QqKSZtc2dbMV0gKyBMV1NfUFJFOwoKICAgICAgaWYoIW1zZykgewogICAgICAgIGx3c2xfdXNlcigiT09NOiBkcm9wcGluZ1xuIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1lbXNldChtc2csIDAsIHNpemVvZigqbXNnKSk7CiAgICAgIG1zZy0+bGVuID0gbGVuOwogICAgICBtZW1jcHkoZGF0YSwgaW4sIGxlbik7CgogICAgICBsd3NfZGxsMl9hZGRfdGFpbCgmbXNnLT5saXN0LCAmcGMtPnBlbmRpbmdfbXNnX3RvX3dzKTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3dzKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRVxuIik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5oZWFkLCBwcm94eV9tc2dfdCwgbGlzdCk7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBtID0gbHdzX3dyaXRlKHdzaSwgZGF0YSwgbXNnLT5sZW4sIExXU19XUklURV9URVhUKTsKICAgICAgYSA9IChpbnQpbXNnLT5sZW47CiAgICAgIGx3c19kbGwyX3JlbW92ZSgmbXNnLT5saXN0KTsKICAgICAgZnJlZShtc2cpOwoKICAgICAgaWYobSA8IGEpIHsKICAgICAgICBsd3NsX2VycigiRVJST1IgJWQgd3JpdGluZyB0byByYXdcbiIsIG0pOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazsKICB9CgogIHJldHVybiAwOwp9CgAAAAAAAAAA/hQAAAAAAAAAAAAAAAAAAAAAAAD+FAAAAAAAAAAAAAAAAAAAAAAAAP4UAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD+FAAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItcHJveHkuaCIKI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCnR5cGVkZWYgc3RydWN0IHByb3h5X21zZyB7CiAgbHdzX2RsbDJfdCBsaXN0OwogIHNpemVfdCBsZW47Cgp9IHByb3h5X21zZ190OwoKdHlwZWRlZiBzdHJ1Y3QgcHJveHlfY29ubiB7CiAgc3RydWN0IGx3cyogd3NpX3dzOwogIHN0cnVjdCBsd3MqIHdzaV9yYXc7CgogIGx3c19kbGwyX293bmVyX3QgcGVuZGluZ19tc2dfdG9fd3M7CiAgbHdzX2RsbDJfb3duZXJfdCBwZW5kaW5nX21zZ190b19yYXc7Cn0gcHJveHlfY29ubl90OwoKaW50CnByb3h5X3dzX3Jhd19tc2dfZGVzdHJveShzdHJ1Y3QgbHdzX2RsbDIqIGQsIHZvaWQqIHVzZXIpIHsKICBwcm94eV9tc2dfdCogbXNnID0gbHdzX2NvbnRhaW5lcl9vZihkLCBwcm94eV9tc2dfdCwgbGlzdCk7CgogIGx3c19kbGwyX3JlbW92ZShkKTsKICBmcmVlKG1zZyk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgcHJveHlfY29ubl90Kgpwcm94eV9uZXcoKSB7CiAgcHJveHlfY29ubl90KiBwYzsKICBpZigocGMgPSBtYWxsb2Moc2l6ZW9mKCpwYykpKSkKICAgIG1lbXNldChwYywgMCwgc2l6ZW9mKCpwYykpOwoKICByZXR1cm4gcGM7Cn0KCmludApjYWxsYmFja19wcm94eV93c19zZXJ2ZXIoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBwcm94eV9jb25uX3QqIHBjID0gKHByb3h5X2Nvbm5fdCopbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpbmZvOwoKICAgICAgcGMgPSBwcm94eV9uZXcoKTsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgcGMpOwoKICAgICAgcGMtPndzaV93cyA9IHdzaTsKCiAgICAgIG1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKCiAgICAgIGluZm8ubWV0aG9kID0gIlJBVyI7CiAgICAgIGluZm8uY29udGV4dCA9IGx3c19nZXRfY29udGV4dCh3c2kpOwogICAgICBpbmZvLnBvcnQgPSAxMjM0OwogICAgICBpbmZvLmFkZHJlc3MgPSAiMTI3LjAuMC4xIjsKICAgICAgaW5mby5zc2xfY29ubmVjdGlvbiA9IDA7CiAgICAgIGluZm8ubG9jYWxfcHJvdG9jb2xfbmFtZSA9ICJsd3Mtd3MtcmF3LXJhdyI7CgogICAgICBpbmZvLm9wYXF1ZV91c2VyX2RhdGEgPSBwYzsKCiAgICAgIGluZm8ucHdzaSA9ICZwYy0+d3NpX3JhdzsKCiAgICAgIGlmKCFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmluZm8pKSB7CiAgICAgICAgbHdzbF93YXJuKCIlczogb253YXJkIGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBsd3NfZGxsMl9mb3JlYWNoX3NhZmUoJnBjLT5wZW5kaW5nX21zZ190b193cywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKICAgICAgcGMtPndzaV93cyA9IE5VTEw7CiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIE5VTEwpOwogICAgICBpZighcGMtPndzaV9yYXcpIHsKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihwYy0+cGVuZGluZ19tc2dfdG9fcmF3LmNvdW50KSB7CiAgICAgICAgbHdzX3NldF90aW1lb3V0KHBjLT53c2lfcmF3LCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbHdzX3dzaV9jbG9zZShwYy0+d3NpX3JhdywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgcHJveHlfbXNnX3QqIG1zZzsKICAgICAgdWludDhfdCogZGF0YTsKICAgICAgaW50IG0sIGE7CgogICAgICBpZighcGMgfHwgIXBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmhlYWQsIHByb3h5X21zZ190LCBsaXN0KTsKICAgICAgZGF0YSA9ICh1aW50OF90KikmbXNnWzFdICsgTFdTX1BSRTsKCiAgICAgIG0gPSBsd3Nfd3JpdGUod3NpLCBkYXRhLCBtc2ctPmxlbiwgTFdTX1dSSVRFX1RFWFQpOwogICAgICBhID0gKGludCltc2ctPmxlbjsKICAgICAgbHdzX2RsbDJfcmVtb3ZlKCZtc2ctPmxpc3QpOwogICAgICBmcmVlKG1zZyk7CgogICAgICBpZihtIDwgYSkgewogICAgICAgIGx3c2xfZXJyKCJFUlJPUiAlZCB3cml0aW5nIHRvIHdzXG4iLCBtKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KCiAgICAgIGlmKHBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIHByb3h5X21zZ190KiBtc2c7CiAgICAgIHVpbnQ4X3QqIGRhdGE7CgogICAgICBpZighcGMgfHwgIXBjLT53c2lfcmF3KQogICAgICAgIGJyZWFrOwoKICAgICAgbXNnID0gKHByb3h5X21zZ190KiltYWxsb2Moc2l6ZW9mKCptc2cpICsgTFdTX1BSRSArIGxlbik7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBpZighbXNnKSB7CiAgICAgICAgbHdzbF91c2VyKCJPT006IGRyb3BwaW5nXG4iKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbWVtc2V0KG1zZywgMCwgc2l6ZW9mKCptc2cpKTsKICAgICAgbXNnLT5sZW4gPSBsZW47CiAgICAgIG1lbWNweShkYXRhLCBpbiwgbGVuKTsKCiAgICAgIGx3c19kbGwyX2FkZF90YWlsKCZtc2ctPmxpc3QsICZwYy0+cGVuZGluZ19tc2dfdG9fcmF3KTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3Jhdyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CgppbnQKY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudChzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIHByb3h5X2Nvbm5fdCogcGMgPSAocHJveHlfY29ubl90Kilsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICBwcm94eV9tc2dfdCogbXNnOwogIHVpbnQ4X3QqIGRhdGE7CiAgaW50IG0sIGE7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOgogICAgICBsd3NsX3dhcm4oIiVzOiBvbndhcmQgcmF3IGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUOgogICAgICBsd3NsX3VzZXIoIkxXU19DQUxMQkFDS19SQVdfQURPUFRcbiIpOwogICAgICBwYy0+d3NpX3JhdyA9IHdzaTsKICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DTE9TRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFXG4iKTsKCiAgICAgIGx3c19kbGwyX2ZvcmVhY2hfc2FmZSgmcGMtPnBlbmRpbmdfbXNnX3RvX3JhdywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKCiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgTlVMTCk7CgogICAgICBpZighcGMtPndzaV93cykgewoKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmNvdW50KSB7CgogICAgICAgIGx3c19zZXRfdGltZW91dChwYy0+d3NpX3dzLCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGx3c193c2lfY2xvc2UocGMtPndzaV93cywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6CiAgICAgIGx3c2xfdXNlcigiTFdTX0NBTExCQUNLX1JBV19SWCAoJWQpXG4iLCAoaW50KWxlbik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPndzaV93cykKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IChwcm94eV9tc2dfdCopbWFsbG9jKHNpemVvZigqbXNnKSArIExXU19QUkUgKyBsZW4pOwogICAgICBkYXRhID0gKHVpbnQ4X3QqKSZtc2dbMV0gKyBMV1NfUFJFOwoKICAgICAgaWYoIW1zZykgewogICAgICAgIGx3c2xfdXNlcigiT09NOiBkcm9wcGluZ1xuIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1lbXNldChtc2csIDAsIHNpemVvZigqbXNnKSk7CiAgICAgIG1zZy0+bGVuID0gbGVuOwogICAgICBtZW1jcHkoZGF0YSwgaW4sIGxlbik7CgogICAgICBsd3NfZGxsMl9hZGRfdGFpbCgmbXNnLT5saXN0LCAmcGMtPnBlbmRpbmdfbXNnX3RvX3dzKTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3dzKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRVxuIik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5oZWFkLCBwcm94eV9tc2dfdCwgbGlzdCk7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBtID0gbHdzX3dyaXRlKHdzaSwgZGF0YSwgbXNnLT5sZW4sIExXU19XUklURV9URVhUKTsKICAgICAgYSA9IChpbnQpbXNnLT5sZW47CiAgICAgIGx3c19kbGwyX3JlbW92ZSgmbXNnLT5saXN0KTsKICAgICAgZnJlZShtc2cpOwoKICAgICAgaWYobSA8IGEpIHsKICAgICAgICBsd3NsX2VycigiRVJST1IgJWQgd3JpdGluZyB0byByYXdcbiIsIG0pOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazsKICB9CgogIHJldHVybiAwOwp9CgAAAAAAAAAA/hQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD+FAAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItcHJveHkuaCIKI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCnR5cGVkZWYgc3RydWN0IHByb3h5X21zZyB7CiAgbHdzX2RsbDJfdCBsaXN0OwogIHNpemVfdCBsZW47Cgp9IHByb3h5X21zZ190OwoKdHlwZWRlZiBzdHJ1Y3QgcHJveHlfY29ubiB7CiAgc3RydWN0IGx3cyogd3NpX3dzOwogIHN0cnVjdCBsd3MqIHdzaV9yYXc7CgogIGx3c19kbGwyX293bmVyX3QgcGVuZGluZ19tc2dfdG9fd3M7CiAgbHdzX2RsbDJfb3duZXJfdCBwZW5kaW5nX21zZ190b19yYXc7Cn0gcHJveHlfY29ubl90OwoKaW50CnByb3h5X3dzX3Jhd19tc2dfZGVzdHJveShzdHJ1Y3QgbHdzX2RsbDIqIGQsIHZvaWQqIHVzZXIpIHsKICBwcm94eV9tc2dfdCogbXNnID0gbHdzX2NvbnRhaW5lcl9vZihkLCBwcm94eV9tc2dfdCwgbGlzdCk7CgogIGx3c19kbGwyX3JlbW92ZShkKTsKICBmcmVlKG1zZyk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgcHJveHlfY29ubl90Kgpwcm94eV9uZXcoKSB7CiAgcHJveHlfY29ubl90KiBwYzsKICBpZigocGMgPSBtYWxsb2Moc2l6ZW9mKCpwYykpKSkKICAgIG1lbXNldChwYywgMCwgc2l6ZW9mKCpwYykpOwoKICByZXR1cm4gcGM7Cn0KCmludApjYWxsYmFja19wcm94eV93c19zZXJ2ZXIoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBwcm94eV9jb25uX3QqIHBjID0gKHByb3h5X2Nvbm5fdCopbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpbmZvOwoKICAgICAgcGMgPSBwcm94eV9uZXcoKTsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgcGMpOwoKICAgICAgcGMtPndzaV93cyA9IHdzaTsKCiAgICAgIG1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKCiAgICAgIGluZm8ubWV0aG9kID0gIlJBVyI7CiAgICAgIGluZm8uY29udGV4dCA9IGx3c19nZXRfY29udGV4dCh3c2kpOwogICAgICBpbmZvLnBvcnQgPSAxMjM0OwogICAgICBpbmZvLmFkZHJlc3MgPSAiMTI3LjAuMC4xIjsKICAgICAgaW5mby5zc2xfY29ubmVjdGlvbiA9IDA7CiAgICAgIGluZm8ubG9jYWxfcHJvdG9jb2xfbmFtZSA9ICJsd3Mtd3MtcmF3LXJhdyI7CgogICAgICBpbmZvLm9wYXF1ZV91c2VyX2RhdGEgPSBwYzsKCiAgICAgIGluZm8ucHdzaSA9ICZwYy0+d3NpX3JhdzsKCiAgICAgIGlmKCFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmluZm8pKSB7CiAgICAgICAgbHdzbF93YXJuKCIlczogb253YXJkIGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBsd3NfZGxsMl9mb3JlYWNoX3NhZmUoJnBjLT5wZW5kaW5nX21zZ190b193cywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKICAgICAgcGMtPndzaV93cyA9IE5VTEw7CiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIE5VTEwpOwogICAgICBpZighcGMtPndzaV9yYXcpIHsKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihwYy0+cGVuZGluZ19tc2dfdG9fcmF3LmNvdW50KSB7CiAgICAgICAgbHdzX3NldF90aW1lb3V0KHBjLT53c2lfcmF3LCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbHdzX3dzaV9jbG9zZShwYy0+d3NpX3JhdywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgcHJveHlfbXNnX3QqIG1zZzsKICAgICAgdWludDhfdCogZGF0YTsKICAgICAgaW50IG0sIGE7CgogICAgICBpZighcGMgfHwgIXBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmhlYWQsIHByb3h5X21zZ190LCBsaXN0KTsKICAgICAgZGF0YSA9ICh1aW50OF90KikmbXNnWzFdICsgTFdTX1BSRTsKCiAgICAgIG0gPSBsd3Nfd3JpdGUod3NpLCBkYXRhLCBtc2ctPmxlbiwgTFdTX1dSSVRFX1RFWFQpOwogICAgICBhID0gKGludCltc2ctPmxlbjsKICAgICAgbHdzX2RsbDJfcmVtb3ZlKCZtc2ctPmxpc3QpOwogICAgICBmcmVlKG1zZyk7CgogICAgICBpZihtIDwgYSkgewogICAgICAgIGx3c2xfZXJyKCJFUlJPUiAlZCB3cml0aW5nIHRvIHdzXG4iLCBtKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KCiAgICAgIGlmKHBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIHByb3h5X21zZ190KiBtc2c7CiAgICAgIHVpbnQ4X3QqIGRhdGE7CgogICAgICBpZighcGMgfHwgIXBjLT53c2lfcmF3KQogICAgICAgIGJyZWFrOwoKICAgICAgbXNnID0gKHByb3h5X21zZ190KiltYWxsb2Moc2l6ZW9mKCptc2cpICsgTFdTX1BSRSArIGxlbik7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBpZighbXNnKSB7CiAgICAgICAgbHdzbF91c2VyKCJPT006IGRyb3BwaW5nXG4iKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbWVtc2V0KG1zZywgMCwgc2l6ZW9mKCptc2cpKTsKICAgICAgbXNnLT5sZW4gPSBsZW47CiAgICAgIG1lbWNweShkYXRhLCBpbiwgbGVuKTsKCiAgICAgIGx3c19kbGwyX2FkZF90YWlsKCZtc2ctPmxpc3QsICZwYy0+cGVuZGluZ19tc2dfdG9fcmF3KTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3Jhdyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CgppbnQKY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudChzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIHByb3h5X2Nvbm5fdCogcGMgPSAocHJveHlfY29ubl90Kilsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICBwcm94eV9tc2dfdCogbXNnOwogIHVpbnQ4X3QqIGRhdGE7CiAgaW50IG0sIGE7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOgogICAgICBsd3NsX3dhcm4oIiVzOiBvbndhcmQgcmF3IGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUOgogICAgICBsd3NsX3VzZXIoIkxXU19DQUxMQkFDS19SQVdfQURPUFRcbiIpOwogICAgICBwYy0+d3NpX3JhdyA9IHdzaTsKICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DTE9TRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFXG4iKTsKCiAgICAgIGx3c19kbGwyX2ZvcmVhY2hfc2FmZSgmcGMtPnBlbmRpbmdfbXNnX3RvX3JhdywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKCiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgTlVMTCk7CgogICAgICBpZighcGMtPndzaV93cykgewoKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmNvdW50KSB7CgogICAgICAgIGx3c19zZXRfdGltZW91dChwYy0+d3NpX3dzLCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGx3c193c2lfY2xvc2UocGMtPndzaV93cywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6CiAgICAgIGx3c2xfdXNlcigiTFdTX0NBTExCQUNLX1JBV19SWCAoJWQpXG4iLCAoaW50KWxlbik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPndzaV93cykKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IChwcm94eV9tc2dfdCopbWFsbG9jKHNpemVvZigqbXNnKSArIExXU19QUkUgKyBsZW4pOwogICAgICBkYXRhID0gKHVpbnQ4X3QqKSZtc2dbMV0gKyBMV1NfUFJFOwoKICAgICAgaWYoIW1zZykgewogICAgICAgIGx3c2xfdXNlcigiT09NOiBkcm9wcGluZ1xuIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1lbXNldChtc2csIDAsIHNpemVvZigqbXNnKSk7CiAgICAgIG1zZy0+bGVuID0gbGVuOwogICAgICBtZW1jcHkoZGF0YSwgaW4sIGxlbik7CgogICAgICBsd3NfZGxsMl9hZGRfdGFpbCgmbXNnLT5saXN0LCAmcGMtPnBlbmRpbmdfbXNnX3RvX3dzKTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3dzKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRVxuIik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5oZWFkLCBwcm94eV9tc2dfdCwgbGlzdCk7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBtID0gbHdzX3dyaXRlKHdzaSwgZGF0YSwgbXNnLT5sZW4sIExXU19XUklURV9URVhUKTsKICAgICAgYSA9IChpbnQpbXNnLT5sZW47CiAgICAgIGx3c19kbGwyX3JlbW92ZSgmbXNnLT5saXN0KTsKICAgICAgZnJlZShtc2cpOwoKICAgICAgaWYobSA8IGEpIHsKICAgICAgICBsd3NsX2VycigiRVJST1IgJWQgd3JpdGluZyB0byByYXdcbiIsIG0pOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazsKICB9CgogIHJldHVybiAwOwp9CgAAAAAAAAAA/hQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD+FAAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItcHJveHkuaCIKI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCnR5cGVkZWYgc3RydWN0IHByb3h5X21zZyB7CiAgbHdzX2RsbDJfdCBsaXN0OwogIHNpemVfdCBsZW47Cgp9IHByb3h5X21zZ190OwoKdHlwZWRlZiBzdHJ1Y3QgcHJveHlfY29ubiB7CiAgc3RydWN0IGx3cyogd3NpX3dzOwogIHN0cnVjdCBsd3MqIHdzaV9yYXc7CgogIGx3c19kbGwyX293bmVyX3QgcGVuZGluZ19tc2dfdG9fd3M7CiAgbHdzX2RsbDJfb3duZXJfdCBwZW5kaW5nX21zZ190b19yYXc7Cn0gcHJveHlfY29ubl90OwoKaW50CnByb3h5X3dzX3Jhd19tc2dfZGVzdHJveShzdHJ1Y3QgbHdzX2RsbDIqIGQsIHZvaWQqIHVzZXIpIHsKICBwcm94eV9tc2dfdCogbXNnID0gbHdzX2NvbnRhaW5lcl9vZihkLCBwcm94eV9tc2dfdCwgbGlzdCk7CgogIGx3c19kbGwyX3JlbW92ZShkKTsKICBmcmVlKG1zZyk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgcHJveHlfY29ubl90Kgpwcm94eV9uZXcoKSB7CiAgcHJveHlfY29ubl90KiBwYzsKICBpZigocGMgPSBtYWxsb2Moc2l6ZW9mKCpwYykpKSkKICAgIG1lbXNldChwYywgMCwgc2l6ZW9mKCpwYykpOwoKICByZXR1cm4gcGM7Cn0KCmludApjYWxsYmFja19wcm94eV93c19zZXJ2ZXIoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBwcm94eV9jb25uX3QqIHBjID0gKHByb3h5X2Nvbm5fdCopbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpbmZvOwoKICAgICAgcGMgPSBwcm94eV9uZXcoKTsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgcGMpOwoKICAgICAgcGMtPndzaV93cyA9IHdzaTsKCiAgICAgIG1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKCiAgICAgIGluZm8ubWV0aG9kID0gIlJBVyI7CiAgICAgIGluZm8uY29udGV4dCA9IGx3c19nZXRfY29udGV4dCh3c2kpOwogICAgICBpbmZvLnBvcnQgPSAxMjM0OwogICAgICBpbmZvLmFkZHJlc3MgPSAiMTI3LjAuMC4xIjsKICAgICAgaW5mby5zc2xfY29ubmVjdGlvbiA9IDA7CiAgICAgIGluZm8ubG9jYWxfcHJvdG9jb2xfbmFtZSA9ICJsd3Mtd3MtcmF3LXJhdyI7CgogICAgICBpbmZvLm9wYXF1ZV91c2VyX2RhdGEgPSBwYzsKCiAgICAgIGluZm8ucHdzaSA9ICZwYy0+d3NpX3JhdzsKCiAgICAgIGlmKCFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmluZm8pKSB7CiAgICAgICAgbHdzbF93YXJuKCIlczogb253YXJkIGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBsd3NfZGxsMl9mb3JlYWNoX3NhZmUoJnBjLT5wZW5kaW5nX21zZ190b193cywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKICAgICAgcGMtPndzaV93cyA9IE5VTEw7CiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIE5VTEwpOwogICAgICBpZighcGMtPndzaV9yYXcpIHsKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihwYy0+cGVuZGluZ19tc2dfdG9fcmF3LmNvdW50KSB7CiAgICAgICAgbHdzX3NldF90aW1lb3V0KHBjLT53c2lfcmF3LCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbHdzX3dzaV9jbG9zZShwYy0+d3NpX3JhdywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgcHJveHlfbXNnX3QqIG1zZzsKICAgICAgdWludDhfdCogZGF0YTsKICAgICAgaW50IG0sIGE7CgogICAgICBpZighcGMgfHwgIXBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmhlYWQsIHByb3h5X21zZ190LCBsaXN0KTsKICAgICAgZGF0YSA9ICh1aW50OF90KikmbXNnWzFdICsgTFdTX1BSRTsKCiAgICAgIG0gPSBsd3Nfd3JpdGUod3NpLCBkYXRhLCBtc2ctPmxlbiwgTFdTX1dSSVRFX1RFWFQpOwogICAgICBhID0gKGludCltc2ctPmxlbjsKICAgICAgbHdzX2RsbDJfcmVtb3ZlKCZtc2ctPmxpc3QpOwogICAgICBmcmVlKG1zZyk7CgogICAgICBpZihtIDwgYSkgewogICAgICAgIGx3c2xfZXJyKCJFUlJPUiAlZCB3cml0aW5nIHRvIHdzXG4iLCBtKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KCiAgICAgIGlmKHBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIHByb3h5X21zZ190KiBtc2c7CiAgICAgIHVpbnQ4X3QqIGRhdGE7CgogICAgICBpZighcGMgfHwgIXBjLT53c2lfcmF3KQogICAgICAgIGJyZWFrOwoKICAgICAgbXNnID0gKHByb3h5X21zZ190KiltYWxsb2Moc2l6ZW9mKCptc2cpICsgTFdTX1BSRSArIGxlbik7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBpZighbXNnKSB7CiAgICAgICAgbHdzbF91c2VyKCJPT006IGRyb3BwaW5nXG4iKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbWVtc2V0KG1zZywgMCwgc2l6ZW9mKCptc2cpKTsKICAgICAgbXNnLT5sZW4gPSBsZW47CiAgICAgIG1lbWNweShkYXRhLCBpbiwgbGVuKTsKCiAgICAgIGx3c19kbGwyX2FkZF90YWlsKCZtc2ctPmxpc3QsICZwYy0+cGVuZGluZ19tc2dfdG9fcmF3KTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3Jhdyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CgppbnQKY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudChzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIHByb3h5X2Nvbm5fdCogcGMgPSAocHJveHlfY29ubl90Kilsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICBwcm94eV9tc2dfdCogbXNnOwogIHVpbnQ4X3QqIGRhdGE7CiAgaW50IG0sIGE7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOgogICAgICBsd3NsX3dhcm4oIiVzOiBvbndhcmQgcmF3IGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUOgogICAgICBsd3NsX3VzZXIoIkxXU19DQUxMQkFDS19SQVdfQURPUFRcbiIpOwogICAgICBwYy0+d3NpX3JhdyA9IHdzaTsKICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DTE9TRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFXG4iKTsKCiAgICAgIGx3c19kbGwyX2ZvcmVhY2hfc2FmZSgmcGMtPnBlbmRpbmdfbXNnX3RvX3JhdywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKCiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgTlVMTCk7CgogICAgICBpZighcGMtPndzaV93cykgewoKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmNvdW50KSB7CgogICAgICAgIGx3c19zZXRfdGltZW91dChwYy0+d3NpX3dzLCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGx3c193c2lfY2xvc2UocGMtPndzaV93cywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6CiAgICAgIGx3c2xfdXNlcigiTFdTX0NBTExCQUNLX1JBV19SWCAoJWQpXG4iLCAoaW50KWxlbik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPndzaV93cykKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IChwcm94eV9tc2dfdCopbWFsbG9jKHNpemVvZigqbXNnKSArIExXU19QUkUgKyBsZW4pOwogICAgICBkYXRhID0gKHVpbnQ4X3QqKSZtc2dbMV0gKyBMV1NfUFJFOwoKICAgICAgaWYoIW1zZykgewogICAgICAgIGx3c2xfdXNlcigiT09NOiBkcm9wcGluZ1xuIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1lbXNldChtc2csIDAsIHNpemVvZigqbXNnKSk7CiAgICAgIG1zZy0+bGVuID0gbGVuOwogICAgICBtZW1jcHkoZGF0YSwgaW4sIGxlbik7CgogICAgICBsd3NfZGxsMl9hZGRfdGFpbCgmbXNnLT5saXN0LCAmcGMtPnBlbmRpbmdfbXNnX3RvX3dzKTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3dzKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRVxuIik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5oZWFkLCBwcm94eV9tc2dfdCwgbGlzdCk7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBtID0gbHdzX3dyaXRlKHdzaSwgZGF0YSwgbXNnLT5sZW4sIExXU19XUklURV9URVhUKTsKICAgICAgYSA9IChpbnQpbXNnLT5sZW47CiAgICAgIGx3c19kbGwyX3JlbW92ZSgmbXNnLT5saXN0KTsKICAgICAgZnJlZShtc2cpOwoKICAgICAgaWYobSA8IGEpIHsKICAgICAgICBsd3NsX2VycigiRVJST1IgJWQgd3JpdGluZyB0byByYXdcbiIsIG0pOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazsKICB9CgogIHJldHVybiAwOwp9CgAAAAAAAAAA/hQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD+FAAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItcHJveHkuaCIKI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCnR5cGVkZWYgc3RydWN0IHByb3h5X21zZyB7CiAgbHdzX2RsbDJfdCBsaXN0OwogIHNpemVfdCBsZW47Cgp9IHByb3h5X21zZ190OwoKdHlwZWRlZiBzdHJ1Y3QgcHJveHlfY29ubiB7CiAgc3RydWN0IGx3cyogd3NpX3dzOwogIHN0cnVjdCBsd3MqIHdzaV9yYXc7CgogIGx3c19kbGwyX293bmVyX3QgcGVuZGluZ19tc2dfdG9fd3M7CiAgbHdzX2RsbDJfb3duZXJfdCBwZW5kaW5nX21zZ190b19yYXc7Cn0gcHJveHlfY29ubl90OwoKaW50CnByb3h5X3dzX3Jhd19tc2dfZGVzdHJveShzdHJ1Y3QgbHdzX2RsbDIqIGQsIHZvaWQqIHVzZXIpIHsKICBwcm94eV9tc2dfdCogbXNnID0gbHdzX2NvbnRhaW5lcl9vZihkLCBwcm94eV9tc2dfdCwgbGlzdCk7CgogIGx3c19kbGwyX3JlbW92ZShkKTsKICBmcmVlKG1zZyk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgcHJveHlfY29ubl90Kgpwcm94eV9uZXcoKSB7CiAgcHJveHlfY29ubl90KiBwYzsKICBpZigocGMgPSBtYWxsb2Moc2l6ZW9mKCpwYykpKSkKICAgIG1lbXNldChwYywgMCwgc2l6ZW9mKCpwYykpOwoKICByZXR1cm4gcGM7Cn0KCmludApjYWxsYmFja19wcm94eV93c19zZXJ2ZXIoc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBwcm94eV9jb25uX3QqIHBjID0gKHByb3h5X2Nvbm5fdCopbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpbmZvOwoKICAgICAgcGMgPSBwcm94eV9uZXcoKTsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgcGMpOwoKICAgICAgcGMtPndzaV93cyA9IHdzaTsKCiAgICAgIG1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKCiAgICAgIGluZm8ubWV0aG9kID0gIlJBVyI7CiAgICAgIGluZm8uY29udGV4dCA9IGx3c19nZXRfY29udGV4dCh3c2kpOwogICAgICBpbmZvLnBvcnQgPSAxMjM0OwogICAgICBpbmZvLmFkZHJlc3MgPSAiMTI3LjAuMC4xIjsKICAgICAgaW5mby5zc2xfY29ubmVjdGlvbiA9IDA7CiAgICAgIGluZm8ubG9jYWxfcHJvdG9jb2xfbmFtZSA9ICJsd3Mtd3MtcmF3LXJhdyI7CgogICAgICBpbmZvLm9wYXF1ZV91c2VyX2RhdGEgPSBwYzsKCiAgICAgIGluZm8ucHdzaSA9ICZwYy0+d3NpX3JhdzsKCiAgICAgIGlmKCFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmluZm8pKSB7CiAgICAgICAgbHdzbF93YXJuKCIlczogb253YXJkIGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBsd3NfZGxsMl9mb3JlYWNoX3NhZmUoJnBjLT5wZW5kaW5nX21zZ190b193cywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKICAgICAgcGMtPndzaV93cyA9IE5VTEw7CiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIE5VTEwpOwogICAgICBpZighcGMtPndzaV9yYXcpIHsKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZihwYy0+cGVuZGluZ19tc2dfdG9fcmF3LmNvdW50KSB7CiAgICAgICAgbHdzX3NldF90aW1lb3V0KHBjLT53c2lfcmF3LCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbHdzX3dzaV9jbG9zZShwYy0+d3NpX3JhdywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgcHJveHlfbXNnX3QqIG1zZzsKICAgICAgdWludDhfdCogZGF0YTsKICAgICAgaW50IG0sIGE7CgogICAgICBpZighcGMgfHwgIXBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmhlYWQsIHByb3h5X21zZ190LCBsaXN0KTsKICAgICAgZGF0YSA9ICh1aW50OF90KikmbXNnWzFdICsgTFdTX1BSRTsKCiAgICAgIG0gPSBsd3Nfd3JpdGUod3NpLCBkYXRhLCBtc2ctPmxlbiwgTFdTX1dSSVRFX1RFWFQpOwogICAgICBhID0gKGludCltc2ctPmxlbjsKICAgICAgbHdzX2RsbDJfcmVtb3ZlKCZtc2ctPmxpc3QpOwogICAgICBmcmVlKG1zZyk7CgogICAgICBpZihtIDwgYSkgewogICAgICAgIGx3c2xfZXJyKCJFUlJPUiAlZCB3cml0aW5nIHRvIHdzXG4iLCBtKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KCiAgICAgIGlmKHBjLT5wZW5kaW5nX21zZ190b193cy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIHByb3h5X21zZ190KiBtc2c7CiAgICAgIHVpbnQ4X3QqIGRhdGE7CgogICAgICBpZighcGMgfHwgIXBjLT53c2lfcmF3KQogICAgICAgIGJyZWFrOwoKICAgICAgbXNnID0gKHByb3h5X21zZ190KiltYWxsb2Moc2l6ZW9mKCptc2cpICsgTFdTX1BSRSArIGxlbik7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBpZighbXNnKSB7CiAgICAgICAgbHdzbF91c2VyKCJPT006IGRyb3BwaW5nXG4iKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbWVtc2V0KG1zZywgMCwgc2l6ZW9mKCptc2cpKTsKICAgICAgbXNnLT5sZW4gPSBsZW47CiAgICAgIG1lbWNweShkYXRhLCBpbiwgbGVuKTsKCiAgICAgIGx3c19kbGwyX2FkZF90YWlsKCZtc2ctPmxpc3QsICZwYy0+cGVuZGluZ19tc2dfdG9fcmF3KTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3Jhdyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CgppbnQKY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudChzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIHByb3h5X2Nvbm5fdCogcGMgPSAocHJveHlfY29ubl90Kilsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICBwcm94eV9tc2dfdCogbXNnOwogIHVpbnQ4X3QqIGRhdGE7CiAgaW50IG0sIGE7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOgogICAgICBsd3NsX3dhcm4oIiVzOiBvbndhcmQgcmF3IGNvbm5lY3Rpb24gZmFpbGVkXG4iLCBfX2Z1bmNfXyk7CiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUOgogICAgICBsd3NsX3VzZXIoIkxXU19DQUxMQkFDS19SQVdfQURPUFRcbiIpOwogICAgICBwYy0+d3NpX3JhdyA9IHdzaTsKICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DTE9TRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFXG4iKTsKCiAgICAgIGx3c19kbGwyX2ZvcmVhY2hfc2FmZSgmcGMtPnBlbmRpbmdfbXNnX3RvX3JhdywgTlVMTCwgcHJveHlfd3NfcmF3X21zZ19kZXN0cm95KTsKCiAgICAgIHBjLT53c2lfcmF3ID0gTlVMTDsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgTlVMTCk7CgogICAgICBpZighcGMtPndzaV93cykgewoKICAgICAgICBmcmVlKHBjKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3dzLmNvdW50KSB7CgogICAgICAgIGx3c19zZXRfdGltZW91dChwYy0+d3NpX3dzLCBQRU5ESU5HX1RJTUVPVVRfS0lMTEVEX0JZX1BST1hZX0NMSUVOVF9DTE9TRSwgMyk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGx3c193c2lfY2xvc2UocGMtPndzaV93cywgTFdTX1RPX0tJTExfQVNZTkMpOwogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6CiAgICAgIGx3c2xfdXNlcigiTFdTX0NBTExCQUNLX1JBV19SWCAoJWQpXG4iLCAoaW50KWxlbik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPndzaV93cykKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IChwcm94eV9tc2dfdCopbWFsbG9jKHNpemVvZigqbXNnKSArIExXU19QUkUgKyBsZW4pOwogICAgICBkYXRhID0gKHVpbnQ4X3QqKSZtc2dbMV0gKyBMV1NfUFJFOwoKICAgICAgaWYoIW1zZykgewogICAgICAgIGx3c2xfdXNlcigiT09NOiBkcm9wcGluZ1xuIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1lbXNldChtc2csIDAsIHNpemVvZigqbXNnKSk7CiAgICAgIG1zZy0+bGVuID0gbGVuOwogICAgICBtZW1jcHkoZGF0YSwgaW4sIGxlbik7CgogICAgICBsd3NfZGxsMl9hZGRfdGFpbCgmbXNnLT5saXN0LCAmcGMtPnBlbmRpbmdfbXNnX3RvX3dzKTsKCiAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZShwYy0+d3NpX3dzKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRToKICAgICAgbHdzbF91c2VyKCJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRVxuIik7CiAgICAgIGlmKCFwYyB8fCAhcGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBicmVhazsKCiAgICAgIG1zZyA9IGx3c19jb250YWluZXJfb2YocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5oZWFkLCBwcm94eV9tc2dfdCwgbGlzdCk7CiAgICAgIGRhdGEgPSAodWludDhfdCopJm1zZ1sxXSArIExXU19QUkU7CgogICAgICBtID0gbHdzX3dyaXRlKHdzaSwgZGF0YSwgbXNnLT5sZW4sIExXU19XUklURV9URVhUKTsKICAgICAgYSA9IChpbnQpbXNnLT5sZW47CiAgICAgIGx3c19kbGwyX3JlbW92ZSgmbXNnLT5saXN0KTsKICAgICAgZnJlZShtc2cpOwoKICAgICAgaWYobSA8IGEpIHsKICAgICAgICBsd3NsX2VycigiRVJST1IgJWQgd3JpdGluZyB0byByYXdcbiIsIG0pOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYocGMtPnBlbmRpbmdfbXNnX3RvX3Jhdy5jb3VudCkKICAgICAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3NpKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazsKICB9CgogIHJldHVybiAwOwp9CgAAAAAAAAAA/hQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/lib/core/private-lib-core.h",
			"settings":
			{
				"buffer_size": 24455,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/test-apps/test-server.c",
			"settings":
			{
				"buffer_size": 19417,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "libwebsockets/minimal-examples/http-client/minimal-http-client-hugeurl/minimal-http-client-hugeurl.c",
			"settings":
			{
				"buffer_size": 6594,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet-server-ws.c",
			"settings":
			{
				"buffer_size": 6867,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					358,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAKsMAAAAAAAArQwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqwwAAAAAAACrDAAAAAAAAAAAAAAAAPC/"
				],
				[
					359,
					1,
					"insert",
					{
						"characters": "opaque->ws"
					},
					"CgAAAKwMAAAAAAAArQwAAAAAAAAAAAAArQwAAAAAAACuDAAAAAAAAAAAAACuDAAAAAAAAK8MAAAAAAAAAAAAAK8MAAAAAAAAsAwAAAAAAAAAAAAAsAwAAAAAAACxDAAAAAAAAAAAAACxDAAAAAAAALIMAAAAAAAAAAAAALIMAAAAAAAAswwAAAAAAAAAAAAAswwAAAAAAAC0DAAAAAAAAAAAAAC0DAAAAAAAALUMAAAAAAAAAAAAALUMAAAAAAAAtgwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArAwAAAAAAACsDAAAAAAAAAAAAAAAAPC/"
				],
				[
					361,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAALcMAAAAAAAAuAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtwwAAAAAAAC3DAAAAAAAAAAAAAAAAPC/"
				],
				[
					364,
					1,
					"cut",
					null,
					"AQAAAKUMAAAAAAAApQwAAAAAAAAUAAAAYXNzZXJ0KG9wYXF1ZS0+d3MpOwo",
					"AQAAAAAAAAABAAAAuQwAAAAAAAClDAAAAAAAAAAAAAAAAAAA"
				],
				[
					365,
					2,
					"paste",
					null,
					"AgAAAKUMAAAAAAAAuQwAAAAAAAAAAAAAuQwAAAAAAADNDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApQwAAAAAAAClDAAAAAAAAAAAAAAAAPC/"
				],
				[
					369,
					3,
					"left_delete",
					null,
					"AwAAALUMAAAAAAAAtQwAAAAAAAABAAAAc7QMAAAAAAAAtAwAAAAAAAABAAAAd7MMAAAAAAAAswwAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAAtgwAAAAAAAC2DAAAAAAAAAAAAAAAAPC/"
				],
				[
					372,
					1,
					"left_delete",
					null,
					"AQAAALIMAAAAAAAAsgwAAAAAAAABAAAALQ",
					"AQAAAAAAAAABAAAAswwAAAAAAACzDAAAAAAAAAAAAAAAgGFA"
				],
				[
					377,
					1,
					"cut",
					null,
					"AQAAAH8MAAAAAAAAfwwAAAAAAAAmAAAAYXNzZXJ0KEpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpOwo",
					"AQAAAAAAAAABAAAAfwwAAAAAAAClDAAAAAAAAAAAAAAAAAAA"
				],
				[
					378,
					2,
					"paste",
					null,
					"AgAAAH8MAAAAAAAApQwAAAAAAAAAAAAApQwAAAAAAADLDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfwwAAAAAAAB/DAAAAAAAAAAAAAAAAPC/"
				],
				[
					382,
					9,
					"left_delete",
					null,
					"CQAAAKEMAAAAAAAAoQwAAAAAAAABAAAAKaAMAAAAAAAAoAwAAAAAAAABAAAAap8MAAAAAAAAnwwAAAAAAAABAAAAYp4MAAAAAAAAngwAAAAAAAABAAAAb50MAAAAAAAAnQwAAAAAAAABAAAAX5wMAAAAAAAAnAwAAAAAAAABAAAAc5sMAAAAAAAAmwwAAAAAAAABAAAAd5oMAAAAAAAAmgwAAAAAAAABAAAAPpkMAAAAAAAAmQwAAAAAAAABAAAALQ",
					"AQAAAAAAAAABAAAAogwAAAAAAACiDAAAAAAAAAAAAAAAAPC/"
				],
				[
					384,
					13,
					"left_delete",
					null,
					"DQAAAJIMAAAAAAAAkgwAAAAAAAABAAAAc5EMAAAAAAAAkQwAAAAAAAABAAAAKJAMAAAAAAAAkAwAAAAAAAABAAAAdI8MAAAAAAAAjwwAAAAAAAABAAAAY44MAAAAAAAAjgwAAAAAAAABAAAAZY0MAAAAAAAAjQwAAAAAAAABAAAAaowMAAAAAAAAjAwAAAAAAAABAAAAYosMAAAAAAAAiwwAAAAAAAABAAAAT4oMAAAAAAAAigwAAAAAAAABAAAAc4kMAAAAAAAAiQwAAAAAAAABAAAASYgMAAAAAAAAiAwAAAAAAAABAAAAX4cMAAAAAAAAhwwAAAAAAAABAAAAU4YMAAAAAAAAhgwAAAAAAAABAAAASg",
					"AQAAAAAAAAABAAAAkwwAAAAAAACTDAAAAAAAAAAAAAAAAPC/"
				],
				[
					385,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAIYMAAAAAAAAhwwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhgwAAAAAAACGDAAAAAAAAAAAAAAAAPC/"
				],
				[
					388,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAJGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyID8gc2VydmVyLT5jb250ZXh0LmpzIDogMDsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwoKICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgb3BhcXVlID0gd3NfZnJvbXdzaSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBhc3NlcnQob3BhcXVlKTsKICAgIG9wYXF1ZS0+c2VzcyA9IHNlc3Npb247CiAgfQoKICBpZihsd3NfaXNfcG9sbF9jYWxsYmFjayhyZWFzb24pKQogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9zZXJ2ZXJfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBMT0coIldTIiwgImZkPSVkLCAlcyVzaW49JyUuKnMnIHNlc3Npb24jJWkiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIGluLCBzZXNzaW9uID8gc2Vzc2lvbi0+c2VyaWFsIDogMCk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9ORVRXT1JLX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19GSUxURVJfUFJPVE9DT0xfQ09OTkVDVElPTjoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6IHsKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOiB7CiAgICAgIC8vIG9wYXF1ZS0+d3MgPSB3c19mcm9td3NpKHdzaSwgY3R4KTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1k6IHsKICAgICAgLyogICBpZihvcGFxdWUgJiYgb3BhcXVlLT53cykgewogICAgICAgICAgIHdzX2ZyZWUob3BhcXVlLT53cywgY3R4KTsKICAgICAgICAgICBvcGFxdWUtPndzID0gMDsKICAgICAgICAgfSovCiAgICAgIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpIHsKICAgICAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCAwKTsKICAgICAgICBvcGFxdWVfZnJlZShvcGFxdWUsIGN0eCk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9DT05GSVJNX1VQR1JBREU6IHsKICAgICAgaWYoIWx3c19pc19zc2wod3NpKSAmJiAhc3RyY21wKGluLCAiaDJjIikpCiAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgLypyZXR1cm4gaHR0cF9zZXJ2ZXJfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOyovCgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgLy8gaW50IG51bV9oZHIgPSBoZWFkZXJzX2dldChjdHgsICZvcGFxdWUtPnJlcS0+aGVhZGVycywgd3NpKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6IHsKICAgICAgaW50IHN0YXR1czsKICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKICAgICAgTWlubmV0SHR0cE1vdW50KiBtb3VudCA9IDA7CiAgICAgIE1pbm5ldFVSTCogdXJsOwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICAgICAgdXJsID0gJm9wYXF1ZS0+cmVxLT51cmw7CgogICAgICAgIGlmKChtb3VudCA9IG1vdW50X2ZpbmRfcyhzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCkpKSB7CiAgICAgICAgICAvLyBwcmludGYoImZvdW5kIG1vdW50IG1udD0lcyBvcmc9JXMgZGVmPSVzIHBybz0lc1xuIiwgbW91bnQtPm1udCwgbW91bnQtPm9yZywgbW91bnQtPmRlZiwgbW91bnQtPnBybyk7CiAgICAgICAgfQoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+cmVxX29iaikpCiAgICAgICAgICBzZXNzaW9uLT5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIG9wYXF1ZS0+cmVxKTsKCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2VfbmV3KGN0eCwgb3BhcXVlLT5yZXEtPnVybCwgc3RhdHVzLCAwLCBUUlVFLCAidGV4dC9odG1sIik7CiAgICAgIH0KCiAgICAgIG9wYXF1ZS0+c3RhdHVzID0gT1BFTjsKCiAgICAgIGlmKHNlcnZlci0+Y2IuY29ubmVjdC5jdHgpIHsKCmFzc2VydChzZXNzaW9uKTsKYXNzZXJ0KEpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpOwphc3NlcnQob3BhcXVlKTsKYXNzZXJ0KG9wYXF1ZS0+d3MpOwogICAgICAgIC8qICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gb3BhcXVlLT53cyA/IG1pbm5ldF93c193cmFwKGN0eCwgb3BhcXVlLT53cykgOiBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHdzaSwgc2Vzc2lvbik7CgogICAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICAgIG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YShzZXNzaW9uLT53c19vYmopOyovCgogICAgICAgIExPRygid3MiLCAid3NpIyUiIFBSSWQ2NCAiIHJlcT0lcCIsIG9wYXF1ZS0+c2VyaWFsLCBvcGFxdWUtPnJlcSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0X3RoaXMoJnNlcnZlci0+Y2IuY29ubmVjdCwgc2Vzc2lvbi0+d3Nfb2JqLCAyLCAmc2Vzc2lvbi0+d3Nfb2JqKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TSU5HKSB7CiAgICAgICAgSlNWYWx1ZSB3aHkgPSBKU19VTkRFRklORUQ7CiAgICAgICAgaW50IGNvZGUgPSAtMTsKCiAgICAgICAgaWYoaW4pIHsKICAgICAgICAgIHVpbnQ4X3QqIGNvZGVwID0gaW47CiAgICAgICAgICBjb2RlID0gKGNvZGVwWzBdIDw8IDgpICsgY29kZXBbMV07CiAgICAgICAgICBpZihsZW4gLSAyID4gMCkKICAgICAgICAgICAgd2h5ID0gSlNfTmV3U3RyaW5nTGVuKHNlcnZlci0+Y29udGV4dC5qcywgKGNoYXIqKWluICsgMiwgbGVuIC0gMik7CiAgICAgICAgfQoKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NJTkc7CgogICAgICAgIExPRygid3MiLCAiZmQ9JWQsIHN0YXR1cz0lZCIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIG9wYXF1ZS0+c3RhdHVzKTsKCiAgICAgICAgaWYoY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbM10gPSB7c2Vzc2lvbi0+d3Nfb2JqLCBjb2RlICE9IC0xID8gSlNfTmV3SW50MzIoY3R4LCBjb2RlKSA6IEpTX1VOREVGSU5FRCwgd2h5fTsKICAgICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5jbG9zZSwgY29kZSAhPSAtMSA/IDMgOiAxLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgd2h5KTsKICAgICAgICAvKkpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNvbnRleHQuanMsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsqLwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGZkPSVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSkpOwoKICAgICAgTWlubmV0QnVmZmVyKiBidWYgPSAmc2Vzc2lvbi0+c2VuZF9idWY7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiXHgxYlsxOzMzbXdyaXRhYmxlXHgxYlswbSAlcyBidWY9JXNcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpKTsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkU6IHsKICAgICAgaWYoY3R4KSB7CiAgICAgICAgTWlubmV0V2Vic29ja2V0KiB3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IubWVzc2FnZSwgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HOiB7CiAgICAgIGlmKHNlcnZlci0+Y2IucG9uZy5jdHgpIHsKICAgICAgICAvLyB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShzZXJ2ZXItPmNiLnBvbmcuY3R4LCB3c2kpOwogICAgICAgIEpTVmFsdWUgbXNnID0gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KHNlcnZlci0+Y2IucG9uZy5jdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9EUk9QX1BST1RPQ09MOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGRlZmF1bHQ6IHsKICAgICAgLy8gcHJpbnRmKCJ3c19jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBsd3NsX3VzZXIoIndzICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgZmQ9JWQgdXJsPSclcycgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBsd3NfZ2V0X3VyaSh3c2ksIHNlcnZlci0+Y29udGV4dC5qcywgLy8KICAvLyBXU0lfVE9LRU5fR0VUX1VSSSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldHVybiAtMTsKCiAgcmV0dXJuIDA7IC8vIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAACkaAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhwwAAAAAAACHDAAAAAAAAAAAAAAAAPC/"
				],
				[
					416,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAFoCAAAAAAAAWwIAAAAAAAAAAAAAWwIAAAAAAABbAgAAAAAAAAMAAAAgd3M",
					"AQAAAAAAAAABAAAAWgIAAAAAAABdAgAAAAAAAAAAAAAAAPC/"
				],
				[
					417,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAFsCAAAAAAAAXAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwIAAAAAAABbAgAAAAAAAAAAAAAAAPC/"
				],
				[
					418,
					1,
					"left_delete",
					null,
					"AQAAAFsCAAAAAAAAWwIAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAXAIAAAAAAABcAgAAAAAAAAAAAAAAAPC/"
				],
				[
					419,
					1,
					"insert",
					{
						"characters": "ws"
					},
					"AgAAAFsCAAAAAAAAXAIAAAAAAAAAAAAAXAIAAAAAAABdAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwIAAAAAAABbAgAAAAAAAAAAAAAAAPC/"
				],
				[
					422,
					1,
					"cut",
					null,
					"AQAAAFsCAAAAAAAAWwIAAAAAAAAeAAAAd3NfZnJvbXdzaSh3c2ksIHNlc3Npb24sIGN0eCk7",
					"AQAAAAAAAAABAAAAWwIAAAAAAAB5AgAAAAAAAP///////+9/"
				],
				[
					425,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAE0CAAAAAAAATgIAAAAAAAAAAAAATgIAAAAAAABQAgAAAAAAAAAAAABQAgAAAAAAAFICAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATQIAAAAAAABNAgAAAAAAAP///////+9/"
				],
				[
					426,
					1,
					"paste",
					null,
					"AQAAAFICAAAAAAAAcAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUgIAAAAAAABSAgAAAAAAAAAAAAAAAPC/"
				],
				[
					435,
					1,
					"paste",
					null,
					"AQAAAH4CAAAAAAAAnAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfgIAAAAAAAB+AgAAAAAAAAAAAAAAAPC/"
				],
				[
					448,
					1,
					"cut",
					null,
					"AQAAACQCAAAAAAAAJAIAAAAAAACtAAAACiAgaWYoIW9wYXF1ZSAmJiB3c2kgJiYgc2Vzc2lvbiAmJiBjdHgpIHsKICAgIHdzX2Zyb213c2kod3NpLCBzZXNzaW9uLCBjdHgpOwogICAgb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgICBhc3NlcnQob3BhcXVlKTsKICAgIG9wYXF1ZS0+c2VzcyA9IHNlc3Npb247CiAgfQo",
					"AQAAAAAAAAABAAAAJAIAAAAAAADRAgAAAAAAAAAAAAAAAPC/"
				],
				[
					449,
					1,
					"paste",
					null,
					"AQAAACQCAAAAAAAA0QIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJAIAAAAAAAAkAgAAAAAAAAAAAAAAAPC/"
				],
				[
					459,
					1,
					"paste",
					null,
					"AgAAACQCAAAAAAAAtQIAAAAAAAAAAAAAtQIAAAAAAAC1AgAAAAAAAK0AAAAKICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgd3NfZnJvbXdzaSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICAgIGFzc2VydChvcGFxdWUpOwogICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9Cg",
					"AQAAAAAAAAABAAAA0QIAAAAAAAAkAgAAAAAAAAAAAAAAAPC/"
				],
				[
					460,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALUCAAAAAAAAtgIAAAAAAAAAAAAAtgIAAAAAAAC5AgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQIAAAAAAAC1AgAAAAAAAAAAAAAAAPC/"
				],
				[
					476,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA0GgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyID8gc2VydmVyLT5jb250ZXh0LmpzIDogMDsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwoKICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgd3NfZnJvbXdzaSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICAgIGFzc2VydChvcGFxdWUpOwogICB9CiAgIAogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX2Zyb213c2kod3NpLCBjdHgpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICAvKiAgIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPndzKSB7CiAgICAgICAgICAgd3NfZnJlZShvcGFxdWUtPndzLCBjdHgpOwogICAgICAgICAgIG9wYXF1ZS0+d3MgPSAwOwogICAgICAgICB9Ki8KICAgICAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIDApOwogICAgICAgIG9wYXF1ZV9mcmVlKG9wYXF1ZSwgY3R4KTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICAvKnJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Ki8KCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBhc3NlcnQoc2Vzc2lvbik7CiAgICAgICAgYXNzZXJ0KEpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpOwogICAgICAgIGFzc2VydChvcGFxdWUpOwogICAgICAgIGFzc2VydChvcGFxdWUtPndzKTsKICAgICAgICAvKiAgaWYoIUpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpCiAgICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG9wYXF1ZS0+d3MgPyBtaW5uZXRfd3Nfd3JhcChjdHgsIG9wYXF1ZS0+d3MpIDogbWlubmV0X3dzX2Zyb213c2koY3R4LCB3c2ksIHNlc3Npb24pOwoKICAgICAgICAgIGlmKCFvcGFxdWUtPndzKQogICAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsqLwoKICAgICAgICBMT0coIndzIiwgIndzaSMlIiBQUklkNjQgIiByZXE9JXAiLCBvcGFxdWUtPnNlcmlhbCwgb3BhcXVlLT5yZXEpOwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdF90aGlzKCZzZXJ2ZXItPmNiLmNvbm5lY3QsIHNlc3Npb24tPndzX29iaiwgMiwgJnNlc3Npb24tPndzX29iaikpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1BFRVJfSU5JVElBVEVEX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgQ0xPU0lORykgewogICAgICAgIEpTVmFsdWUgd2h5ID0gSlNfVU5ERUZJTkVEOwogICAgICAgIGludCBjb2RlID0gLTE7CgogICAgICAgIGlmKGluKSB7CiAgICAgICAgICB1aW50OF90KiBjb2RlcCA9IGluOwogICAgICAgICAgY29kZSA9IChjb2RlcFswXSA8PCA4KSArIGNvZGVwWzFdOwogICAgICAgICAgaWYobGVuIC0gMiA+IDApCiAgICAgICAgICAgIHdoeSA9IEpTX05ld1N0cmluZ0xlbihzZXJ2ZXItPmNvbnRleHQuanMsIChjaGFyKilpbiArIDIsIGxlbiAtIDIpOwogICAgICAgIH0KCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TSU5HOwoKICAgICAgICBMT0coIndzIiwgImZkPSVkLCBzdGF0dXM9JWQiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBvcGFxdWUtPnN0YXR1cyk7CgogICAgICAgIGlmKGN0eCkgewogICAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzNdID0ge3Nlc3Npb24tPndzX29iaiwgY29kZSAhPSAtMSA/IEpTX05ld0ludDMyKGN0eCwgY29kZSkgOiBKU19VTkRFRklORUQsIHdoeX07CiAgICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuY2xvc2UsIGNvZGUgIT0gLTEgPyAzIDogMSwgY2JfYXJndikpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgICAgfQogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNvbnRleHQuanMsIHdoeSk7CiAgICAgICAgLypKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCBzZXNzaW9uLT53c19vYmopOwogICAgICAgIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7Ki8KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfV1JJVEVBQkxFOiB7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiXHgxYlsxOzMzbXdyaXRhYmxlXHgxYlswbSAlcyBmZD0lZFxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpKTsKCiAgICAgIE1pbm5ldEJ1ZmZlciogYnVmID0gJnNlc3Npb24tPnNlbmRfYnVmOwogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgYnVmPSVzXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KSk7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIGlmKGN0eCkgewogICAgICAgIE1pbm5ldFdlYnNvY2tldCogd3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgIEpTVmFsdWUgbXNnID0gb3BhcXVlLT5iaW5hcnkgPyBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBpbiwgbGVuKSA6IEpTX05ld1N0cmluZ0xlbihjdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLm1lc3NhZ2UsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfUE9ORzogewogICAgICBpZihzZXJ2ZXItPmNiLnBvbmcuY3R4KSB7CiAgICAgICAgLy8gd3Nfb2JqID0gbWlubmV0X3dzX2Zyb213c2koc2VydmVyLT5jYi5wb25nLmN0eCwgd3NpKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IEpTX05ld0FycmF5QnVmZmVyQ29weShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IucG9uZywgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU19TRVJWRVJfRFJPUF9QUk9UT0NPTDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIC8vIHByaW50Zigid3NfY2FsbGJhY2sgJXMgJXAgJXAgJXp1XG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pLCB1c2VyLCBpbiwgbGVuKTsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgLy8gbHdzbF91c2VyKCJ3cyAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGZkPSVkIHVybD0nJXMnIGluPSclLipzJ1xuIiwgMjIgKyAocmVhc29uICogMiksIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgbHdzX2dldF91cmkod3NpLCBzZXJ2ZXItPmNvbnRleHQuanMsIC8vCiAgLy8gV1NJX1RPS0VOX0dFVF9VUkkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXR1cm4gLTE7CgogIHJldHVybiAwOyAvLyBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Cn0KAAAAAAAAAAAwGgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QEAAAAAAAAkAgAAAAAAAAAAAAAAAPC/"
				],
				[
					477,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAwGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyID8gc2VydmVyLT5jb250ZXh0LmpzIDogMDsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwoKICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgd3NfZnJvbXdzaSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICAgIGFzc2VydChvcGFxdWUpOwogIH0KCiAgaWYobHdzX2lzX3BvbGxfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBmZF9jYWxsYmFjayh3c2ksIHJlYXNvbiwgJnNlcnZlci0+Y2IuZmQsIGluKTsKICBpZihsd3NfaXNfaHR0cF9jYWxsYmFjayhyZWFzb24pKQogICAgcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKCiAgTE9HKCJXUyIsICJmZD0lZCwgJXMlc2luPSclLipzJyBzZXNzaW9uIyVpIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgaXNfaDIod3NpKSA/ICJoMiwgIiA6ICIiLCBsd3NfaXNfc3NsKHdzaSkgPyAic3NsLCAiIDogIiIsIChpbnQpbGVuLCBpbiwgc2Vzc2lvbiA/IHNlc3Npb24tPnNlcmlhbCA6IDApOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19GSUxURVJfTkVUV09SS19DT05ORUNUSU9OOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX1BST1RPQ09MX0NPTk5FQ1RJT046CiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICBicmVhazsKCiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9JTklUOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWTogewogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfU0VSVkVSX1ZFUklGWV9DRVJUUzoKICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTOiB7CiAgICAgIHJldHVybiBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURTogewogICAgICAvLyBvcGFxdWUtPndzID0gd3NfZnJvbXdzaSh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIC8vIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIGludCBzdGF0dXM7CiAgICAgIHN0YXR1cyA9IGx3c19odHRwX2NsaWVudF9odHRwX3Jlc3BvbnNlKHdzaSk7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQgPSAwOwogICAgICBNaW5uZXRVUkwqIHVybDsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICBpZihvcGFxdWUtPnJlcSkgewogICAgICAgIHVybCA9ICZvcGFxdWUtPnJlcS0+dXJsOwoKICAgICAgICBpZigobW91bnQgPSBtb3VudF9maW5kX3Moc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgpKSkgewogICAgICAgICAgLy8gcHJpbnRmKCJmb3VuZCBtb3VudCBtbnQ9JXMgb3JnPSVzIGRlZj0lcyBwcm89JXNcbiIsIG1vdW50LT5tbnQsIG1vdW50LT5vcmcsIG1vdW50LT5kZWYsIG1vdW50LT5wcm8pOwogICAgICAgIH0KCiAgICAgICAgaWYoIUpTX0lzT2JqZWN0KHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgICAgc2Vzc2lvbi0+cmVxX29iaiA9IG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCBvcGFxdWUtPnJlcSk7CgogICAgICAgIHNlc3Npb24tPnJlc3Bfb2JqID0gbWlubmV0X3Jlc3BvbnNlX25ldyhjdHgsIG9wYXF1ZS0+cmVxLT51cmwsIHN0YXR1cywgMCwgVFJVRSwgInRleHQvaHRtbCIpOwogICAgICB9CgogICAgICBvcGFxdWUtPnN0YXR1cyA9IE9QRU47CgogICAgICBpZihzZXJ2ZXItPmNiLmNvbm5lY3QuY3R4KSB7CgogICAgICAgIGFzc2VydChzZXNzaW9uKTsKICAgICAgICBhc3NlcnQoSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSk7CiAgICAgICAgYXNzZXJ0KG9wYXF1ZSk7CiAgICAgICAgYXNzZXJ0KG9wYXF1ZS0+d3MpOwogICAgICAgIC8qICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gb3BhcXVlLT53cyA/IG1pbm5ldF93c193cmFwKGN0eCwgb3BhcXVlLT53cykgOiBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHdzaSwgc2Vzc2lvbik7CgogICAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICAgIG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YShzZXNzaW9uLT53c19vYmopOyovCgogICAgICAgIExPRygid3MiLCAid3NpIyUiIFBSSWQ2NCAiIHJlcT0lcCIsIG9wYXF1ZS0+c2VyaWFsLCBvcGFxdWUtPnJlcSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0X3RoaXMoJnNlcnZlci0+Y2IuY29ubmVjdCwgc2Vzc2lvbi0+d3Nfb2JqLCAyLCAmc2Vzc2lvbi0+d3Nfb2JqKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TSU5HKSB7CiAgICAgICAgSlNWYWx1ZSB3aHkgPSBKU19VTkRFRklORUQ7CiAgICAgICAgaW50IGNvZGUgPSAtMTsKCiAgICAgICAgaWYoaW4pIHsKICAgICAgICAgIHVpbnQ4X3QqIGNvZGVwID0gaW47CiAgICAgICAgICBjb2RlID0gKGNvZGVwWzBdIDw8IDgpICsgY29kZXBbMV07CiAgICAgICAgICBpZihsZW4gLSAyID4gMCkKICAgICAgICAgICAgd2h5ID0gSlNfTmV3U3RyaW5nTGVuKHNlcnZlci0+Y29udGV4dC5qcywgKGNoYXIqKWluICsgMiwgbGVuIC0gMik7CiAgICAgICAgfQoKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NJTkc7CgogICAgICAgIExPRygid3MiLCAiZmQ9JWQsIHN0YXR1cz0lZCIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIG9wYXF1ZS0+c3RhdHVzKTsKCiAgICAgICAgaWYoY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbM10gPSB7c2Vzc2lvbi0+d3Nfb2JqLCBjb2RlICE9IC0xID8gSlNfTmV3SW50MzIoY3R4LCBjb2RlKSA6IEpTX1VOREVGSU5FRCwgd2h5fTsKICAgICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5jbG9zZSwgY29kZSAhPSAtMSA/IDMgOiAxLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgd2h5KTsKICAgICAgICAvKkpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNvbnRleHQuanMsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsqLwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGZkPSVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSkpOwoKICAgICAgTWlubmV0QnVmZmVyKiBidWYgPSAmc2Vzc2lvbi0+c2VuZF9idWY7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiXHgxYlsxOzMzbXdyaXRhYmxlXHgxYlswbSAlcyBidWY9JXNcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpKTsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkU6IHsKICAgICAgaWYoY3R4KSB7CiAgICAgICAgTWlubmV0V2Vic29ja2V0KiB3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IubWVzc2FnZSwgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HOiB7CiAgICAgIGlmKHNlcnZlci0+Y2IucG9uZy5jdHgpIHsKICAgICAgICAvLyB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShzZXJ2ZXItPmNiLnBvbmcuY3R4LCB3c2kpOwogICAgICAgIEpTVmFsdWUgbXNnID0gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KHNlcnZlci0+Y2IucG9uZy5jdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9EUk9QX1BST1RPQ09MOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGRlZmF1bHQ6IHsKICAgICAgLy8gcHJpbnRmKCJ3c19jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBsd3NsX3VzZXIoIndzICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgZmQ9JWQgdXJsPSclcycgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBsd3NfZ2V0X3VyaSh3c2ksIHNlcnZlci0+Y29udGV4dC5qcywgLy8KICAvLyBXU0lfVE9LRU5fR0VUX1VSSSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldHVybiAtMTsKCiAgcmV0dXJuIDA7IC8vIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAAGMZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QEAAAAAAAAkAgAAAAAAAAAAAAAAAPC/"
				],
				[
					480,
					1,
					"cut",
					null,
					"AQAAAAIXAAAAAAAAAhcAAAAAAABFAAAAICBjYXNlIExXU19DQUxMQkFDS19XU19TRVJWRVJfRFJPUF9QUk9UT0NPTDogewogICAgICByZXR1cm4gMDsKICAgIH0K",
					"AQAAAAAAAAABAAAAAhcAAAAAAABHFwAAAAAAAAAAAAAAAPC/"
				],
				[
					481,
					2,
					"paste",
					null,
					"AgAAAAIXAAAAAAAARxcAAAAAAAAAAAAARxcAAAAAAACMFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAhcAAAAAAAACFwAAAAAAAAAAAAAAAPC/"
				],
				[
					484,
					1,
					"insert",
					{
						"characters": "GET"
					},
					"BAAAAFsXAAAAAAAAXBcAAAAAAAAAAAAAXBcAAAAAAABcFwAAAAAAABcAAABXU19TRVJWRVJfRFJPUF9QUk9UT0NPTFwXAAAAAAAAXRcAAAAAAAAAAAAAXRcAAAAAAABeFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWxcAAAAAAAByFwAAAAAAAAAAAAAAAPC/"
				],
				[
					485,
					1,
					"insert_completion",
					{
						"completion": "LWS_CALLBACK_GET_THREAD_ID",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "LWS_CALLBACK_GET_THREAD_ID"
					},
					"AgAAAE4XAAAAAAAAThcAAAAAAAAQAAAATFdTX0NBTExCQUNLX0dFVE4XAAAAAAAAaBcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXhcAAAAAAABeFwAAAAAAAAAAAAAAAPC/"
				],
				[
					492,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACeGQAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX25ldyh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwogICAgICBpZighb3BhcXVlKQogICAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICAvLyBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5tZXNzYWdlLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX1BPTkc6IHsKICAgICAgaWYoc2VydmVyLT5jYi5wb25nLmN0eCkgewogICAgICAgIC8vIHdzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKHNlcnZlci0+Y2IucG9uZy5jdHgsIHdzaSk7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoc2VydmVyLT5jYi5wb25nLmN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLnBvbmcsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgY2FzZSBMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIC8vIHByaW50Zigid3NfY2FsbGJhY2sgJXMgJXAgJXAgJXp1XG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pLCB1c2VyLCBpbiwgbGVuKTsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgLy8gbHdzbF91c2VyKCJ3cyAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGZkPSVkIHVybD0nJXMnIGluPSclLipzJ1xuIiwgMjIgKyAocmVhc29uICogMiksIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgbHdzX2dldF91cmkod3NpLCBzZXJ2ZXItPmNvbnRleHQuanMsIC8vCiAgLy8gV1NJX1RPS0VOX0dFVF9VUkkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXR1cm4gLTE7CgogIHJldHVybiAwOyAvLyBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Cn0KAAAAAAAAAACgGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeRcAAAAAAAB5FwAAAAAAAAAAAAAAAPC/"
				],
				[
					499,
					1,
					"cut",
					null,
					"AQAAAEcXAAAAAAAARxcAAAAAAAAnAAAAICAgIGNhc2UgTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQ6IHsK",
					"AQAAAAAAAAABAAAARxcAAAAAAABuFwAAAAAAAAAAAAAAAPC/"
				],
				[
					500,
					2,
					"paste",
					null,
					"AgAAAEcXAAAAAAAAbhcAAAAAAAAAAAAAbhcAAAAAAACVFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARxcAAAAAAABHFwAAAAAAAAAAAAAAAPC/"
				],
				[
					507,
					1,
					"paste",
					null,
					"AgAAAFAXAAAAAAAAcRcAAAAAAAAAAAAAcRcAAAAAAABxFwAAAAAAABoAAABMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRA",
					"AQAAAAAAAAABAAAAUBcAAAAAAABqFwAAAAAAAAAAAAAAAPC/"
				],
				[
					510,
					1,
					"left_delete",
					null,
					"AQAAAHMXAAAAAAAAcxcAAAAAAAABAAAAew",
					"AQAAAAAAAAABAAAAdBcAAAAAAAB0FwAAAAAAAAAAAAAAAPC/"
				],
				[
					524,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAAEAIAAAAAAAAQQgAAAAAAAAAAAAAQQgAAAAAAABCCAAAAAAAAAAAAABCCAAAAAAAAEMIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQAgAAAAAAABACAAAAAAAAAAAAAAAAPC/"
				],
				[
					525,
					1,
					"insert",
					{
						"characters": " c"
					},
					"AgAAAEMIAAAAAAAARAgAAAAAAAAAAAAARAgAAAAAAABFCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQwgAAAAAAABDCAAAAAAAAAAAAAAAAPC/"
				],
				[
					526,
					1,
					"insert",
					{
						"characters": "tx"
					},
					"AgAAAEUIAAAAAAAARggAAAAAAAAAAAAARggAAAAAAABHCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARQgAAAAAAABFCAAAAAAAAAAAAAAAAPC/"
				],
				[
					527,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEcIAAAAAAAASAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARwgAAAAAAABHCAAAAAAAAAAAAAAAAPC/"
				],
				[
					528,
					4,
					"left_delete",
					null,
					"BAAAAEcIAAAAAAAARwgAAAAAAAABAAAAIEYIAAAAAAAARggAAAAAAAABAAAAeEUIAAAAAAAARQgAAAAAAAABAAAAdEQIAAAAAAAARAgAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAASAgAAAAAAABICAAAAAAAAAAAAAAAAPC/"
				],
				[
					529,
					1,
					"insert",
					{
						"characters": "session"
					},
					"BwAAAEQIAAAAAAAARQgAAAAAAAAAAAAARQgAAAAAAABGCAAAAAAAAAAAAABGCAAAAAAAAEcIAAAAAAAAAAAAAEcIAAAAAAAASAgAAAAAAAAAAAAASAgAAAAAAABJCAAAAAAAAAAAAABJCAAAAAAAAEoIAAAAAAAAAAAAAEoIAAAAAAAASwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARAgAAAAAAABECAAAAAAAAAAAAAAAAPC/"
				],
				[
					530,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAAEsIAAAAAAAATAgAAAAAAAAAAAAATAgAAAAAAABNCAAAAAAAAAAAAABNCAAAAAAAAE4IAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASwgAAAAAAABLCAAAAAAAAAAAAAAAAPC/"
				],
				[
					531,
					1,
					"insert",
					{
						"characters": " ctx"
					},
					"BAAAAE4IAAAAAAAATwgAAAAAAAAAAAAATwgAAAAAAABQCAAAAAAAAAAAAABQCAAAAAAAAFEIAAAAAAAAAAAAAFEIAAAAAAAAUggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATggAAAAAAABOCAAAAAAAAAAAAAAAAPC/"
				],
				[
					536,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAAHUIAAAAAAAAdggAAAAAAAAAAAAAdggAAAAAAAB3CAAAAAAAAAAAAAB3CAAAAAAAAHgIAAAAAAAAAAAAAHgIAAAAAAAAeQgAAAAAAAAAAAAAeQgAAAAAAAB6CAAAAAAAAAAAAAB6CAAAAAAAAHsIAAAAAAAAAAAAAHsIAAAAAAAAfAgAAAAAAAAAAAAAfAgAAAAAAAB9CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQgAAAAAAAB1CAAAAAAAAAAAAAAAAPC/"
				],
				[
					537,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAH0IAAAAAAAAfggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfQgAAAAAAAB9CAAAAAAAAAAAAAAAAPC/"
				],
				[
					587,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAAO8MAAAAAAAA8AwAAAAAAAAAAAAA8AwAAAAAAADxDAAAAAAAAAAAAADxDAAAAAAAAPIMAAAAAAAAAAAAAPIMAAAAAAAA8wwAAAAAAAAAAAAA8wwAAAAAAAD0DAAAAAAAAAAAAAD0DAAAAAAAAPUMAAAAAAAAAAAAAPUMAAAAAAAA9gwAAAAAAAAAAAAA9gwAAAAAAAD3DAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7wwAAAAAAADvDAAAAAAAAAAAAAAAAPC/"
				],
				[
					597,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAANQCAAAAAAAA1QIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AIAAAAAAADUAgAAAAAAAAAAAAAAAPC/"
				],
				[
					598,
					1,
					"paste",
					null,
					"AQAAANUCAAAAAAAAIQMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QIAAAAAAADVAgAAAAAAAAAAAAAAAPC/"
				],
				[
					601,
					1,
					"cut",
					null,
					"AQAAANYCAAAAAAAA1gIAAAAAAABMAAAAICBpZighb3BhcXVlICYmIHNlc3Npb24gJiYgY3R4KQogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksc2Vzc2lvbiwgY3R4KTsKCg",
					"AQAAAAAAAAABAAAA1gIAAAAAAAAiAwAAAAAAAAAAAAAAAAAA"
				],
				[
					604,
					1,
					"paste",
					null,
					"AQAAANUCAAAAAAAAIQMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QIAAAAAAADVAgAAAAAAAAAAAAAAAAAA"
				],
				[
					609,
					1,
					"left_delete",
					null,
					"AQAAACADAAAAAAAAIAMAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAIQMAAAAAAAAhAwAAAAAAAAAAAAAAAPC/"
				],
				[
					614,
					1,
					"insert",
					{
						"characters": "\nif"
					},
					"AwAAANQCAAAAAAAA1QIAAAAAAAAAAAAA1QIAAAAAAADWAgAAAAAAAAAAAADWAgAAAAAAANcCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AIAAAAAAADUAgAAAAAAAAAAAAAAAPC/"
				],
				[
					615,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAANcCAAAAAAAA2QIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wIAAAAAAADXAgAAAAAAAAAAAAAAAPC/"
				],
				[
					616,
					1,
					"insert",
					{
						"characters": "reason"
					},
					"BgAAANgCAAAAAAAA2QIAAAAAAAAAAAAA2QIAAAAAAADaAgAAAAAAAAAAAADaAgAAAAAAANsCAAAAAAAAAAAAANsCAAAAAAAA3AIAAAAAAAAAAAAA3AIAAAAAAADdAgAAAAAAAAAAAADdAgAAAAAAAN4CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2AIAAAAAAADYAgAAAAAAAAAAAAAAAPC/"
				],
				[
					617,
					1,
					"insert",
					{
						"characters": " !="
					},
					"AwAAAN4CAAAAAAAA3wIAAAAAAAAAAAAA3wIAAAAAAADgAgAAAAAAAAAAAADgAgAAAAAAAOECAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3gIAAAAAAADeAgAAAAAAAAAAAAAAAPC/"
				],
				[
					618,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOECAAAAAAAA4gIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4QIAAAAAAADhAgAAAAAAAAAAAAAAAPC/"
				],
				[
					619,
					1,
					"paste",
					null,
					"AQAAAOICAAAAAAAAFQMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4gIAAAAAAADiAgAAAAAAAAAAAAAAAPC/"
				],
				[
					621,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABYDAAAAAAAAFwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFgMAAAAAAAAWAwAAAAAAAAAAAAAAAPC/"
				],
				[
					630,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAABUDAAAAAAAAFgMAAAAAAAAAAAAAFgMAAAAAAAAXAwAAAAAAAAAAAAAXAwAAAAAAABgDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFQMAAAAAAAAVAwAAAAAAAAAAAAAAAPC/"
				],
				[
					631,
					1,
					"insert",
					{
						"characters": " reason"
					},
					"BwAAABgDAAAAAAAAGQMAAAAAAAAAAAAAGQMAAAAAAAAaAwAAAAAAAAAAAAAaAwAAAAAAABsDAAAAAAAAAAAAABsDAAAAAAAAHAMAAAAAAAAAAAAAHAMAAAAAAAAdAwAAAAAAAAAAAAAdAwAAAAAAAB4DAAAAAAAAAAAAAB4DAAAAAAAAHwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGAMAAAAAAAAYAwAAAAAAAAAAAAAAAPC/"
				],
				[
					632,
					1,
					"insert",
					{
						"characters": " !"
					},
					"AgAAAB8DAAAAAAAAIAMAAAAAAAAAAAAAIAMAAAAAAAAhAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHwMAAAAAAAAfAwAAAAAAAAAAAAAAAPC/"
				],
				[
					634,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAACIDAAAAAAAAIwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIgMAAAAAAAAiAwAAAAAAAAAAAAAAAPC/"
				],
				[
					635,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACMDAAAAAAAAJAMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIwMAAAAAAAAjAwAAAAAAAAAAAAAAAPC/"
				],
				[
					636,
					3,
					"left_delete",
					null,
					"AwAAACMDAAAAAAAAIwMAAAAAAAABAAAAICIDAAAAAAAAIgMAAAAAAAABAAAAPSEDAAAAAAAAIQMAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAJAMAAAAAAAAkAwAAAAAAAAAAAAAAAPC/"
				],
				[
					637,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAACEDAAAAAAAAIgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIQMAAAAAAAAhAwAAAAAAAAAAAAAAAPC/"
				],
				[
					638,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACIDAAAAAAAAIwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIgMAAAAAAAAiAwAAAAAAAAAAAAAAAPC/"
				],
				[
					639,
					1,
					"paste",
					null,
					"AQAAACMDAAAAAAAAVgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIwMAAAAAAAAjAwAAAAAAAAAAAAAAAPC/"
				],
				[
					640,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAFYDAAAAAAAAVwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVgMAAAAAAABWAwAAAAAAAAAAAAAAAPC/"
				],
				[
					643,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADAGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgppZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTICYmIHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpIAogIGlmKCFvcGFxdWUgJiYgc2Vzc2lvbiAmJiBjdHgpCiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSxzZXNzaW9uLCBjdHgpOwoKICBMT0coIldTIiwgImZkPSVkLCAlcyVzaW49JyUuKnMnIHNlc3Npb24jJWkiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIGluLCBzZXNzaW9uID8gc2Vzc2lvbi0+c2VyaWFsIDogMCk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9ORVRXT1JLX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19GSUxURVJfUFJPVE9DT0xfQ09OTkVDVElPTjoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6IHsKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOiB7CiAgICAgIC8vIG9wYXF1ZS0+d3MgPSB3c19uZXcod3NpLCBjdHgpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICAvKiAgIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPndzKSB7CiAgICAgICAgICAgd3NfZnJlZShvcGFxdWUtPndzLCBjdHgpOwogICAgICAgICAgIG9wYXF1ZS0+d3MgPSAwOwogICAgICAgICB9Ki8KICAgICAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIDApOwogICAgICAgIG9wYXF1ZV9mcmVlKG9wYXF1ZSwgY3R4KTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICAvKnJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Ki8KICAgICAgaWYoIW9wYXF1ZSAmJiBzZXNzaW9uICYmIGN0eCkKICAgICAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY3R4KTsKICAgICAgYXNzZXJ0KG9wYXF1ZSk7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgLy8gaW50IG51bV9oZHIgPSBoZWFkZXJzX2dldChjdHgsICZvcGFxdWUtPnJlcS0+aGVhZGVycywgd3NpKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6IHsKICAgICAgLy8gc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY3R4KTsKICAgICAgaW50IHN0YXR1czsKICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKICAgICAgTWlubmV0SHR0cE1vdW50KiBtb3VudCA9IDA7CiAgICAgIE1pbm5ldFVSTCogdXJsOwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICAgICAgdXJsID0gJm9wYXF1ZS0+cmVxLT51cmw7CgogICAgICAgIGlmKChtb3VudCA9IG1vdW50X2ZpbmRfcyhzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCkpKSB7CiAgICAgICAgICAvLyBwcmludGYoImZvdW5kIG1vdW50IG1udD0lcyBvcmc9JXMgZGVmPSVzIHBybz0lc1xuIiwgbW91bnQtPm1udCwgbW91bnQtPm9yZywgbW91bnQtPmRlZiwgbW91bnQtPnBybyk7CiAgICAgICAgfQoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+cmVxX29iaikpCiAgICAgICAgICBzZXNzaW9uLT5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIG9wYXF1ZS0+cmVxKTsKCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2VfbmV3KGN0eCwgb3BhcXVlLT5yZXEtPnVybCwgc3RhdHVzLCAwLCBUUlVFLCAidGV4dC9odG1sIik7CiAgICAgIH0KCiAgICAgIG9wYXF1ZS0+c3RhdHVzID0gT1BFTjsKCiAgICAgIGlmKHNlcnZlci0+Y2IuY29ubmVjdC5jdHgpIHsKCiAgICAgICAgaWYoIUpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpCiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsc2Vzc2lvbiwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5tZXNzYWdlLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX1BPTkc6IHsKICAgICAgaWYoc2VydmVyLT5jYi5wb25nLmN0eCkgewogICAgICAgIC8vIHdzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKHNlcnZlci0+Y2IucG9uZy5jdHgsIHdzaSk7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoc2VydmVyLT5jYi5wb25nLmN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLnBvbmcsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19FVkVOVF9XQUlUX0NBTkNFTExFRDogCiAgICBjYXNlIExXU19DQUxMQkFDS19HRVRfVEhSRUFEX0lEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGRlZmF1bHQ6IHsKICAgICAgLy8gcHJpbnRmKCJ3c19jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBsd3NsX3VzZXIoIndzICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgZmQ9JWQgdXJsPSclcycgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBsd3NfZ2V0X3VyaSh3c2ksIHNlcnZlci0+Y29udGV4dC5qcywgLy8KICAvLyBXU0lfVE9LRU5fR0VUX1VSSSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldHVybiAtMTsKCiAgcmV0dXJuIDA7IC8vIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAAMYaAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVwMAAAAAAABXAwAAAAAAAAAAAAAAAPC/"
				],
				[
					654,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFkDAAAAAAAAWgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWQMAAAAAAABZAwAAAAAAAP///////+9/"
				],
				[
					655,
					1,
					"wrap_block",
					{
						"begin": "{",
						"end": "}"
					},
					"AgAAAFoDAAAAAAAAWwMAAAAAAAAAAAAArAMAAAAAAACwAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWgMAAAAAAABaAwAAAAAAAAAAAAAAAPC/"
				],
				[
					656,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAFsDAAAAAAAAXAMAAAAAAAAAAAAAXAMAAAAAAABeAwAAAAAAAAAAAABeAwAAAAAAAGADAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwMAAAAAAABbAwAAAAAAAAAAAAAAAPC/"
				],
				[
					657,
					1,
					"paste",
					null,
					"AQAAAGADAAAAAAAAzQMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYAMAAAAAAABgAwAAAAAAAAAAAAAAAPC/"
				],
				[
					659,
					1,
					"left_delete",
					null,
					"AQAAAM0DAAAAAAAAzQMAAAAAAABRAAAACiAgICBpZighb3BhcXVlICYmIHNlc3Npb24gJiYgY3R4KQogICAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY3R4KTsK",
					"AQAAAAAAAAABAAAAzQMAAAAAAAAeBAAAAAAAAAAAAAAAAAAA"
				],
				[
					672,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADtGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMgJiYgcmVhc29uICE9IExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUykgewogICAgICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBhc3NlcnQob3BhcXVlKTsKICB9CiAgfQoKICBMT0coIldTIiwgImZkPSVkLCAlcyVzaW49JyUuKnMnIHNlc3Npb24jJWkiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIGluLCBzZXNzaW9uID8gc2Vzc2lvbi0+c2VyaWFsIDogMCk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9ORVRXT1JLX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19GSUxURVJfUFJPVE9DT0xfQ09OTkVDVElPTjoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6IHsKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOiB7CiAgICAgIC8vIG9wYXF1ZS0+d3MgPSB3c19uZXcod3NpLCBjdHgpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICAvKiAgIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPndzKSB7CiAgICAgICAgICAgd3NfZnJlZShvcGFxdWUtPndzLCBjdHgpOwogICAgICAgICAgIG9wYXF1ZS0+d3MgPSAwOwogICAgICAgICB9Ki8KICAgICAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIDApOwogICAgICAgIG9wYXF1ZV9mcmVlKG9wYXF1ZSwgY3R4KTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICAvKnJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Ki8KICAgICAgaWYoIW9wYXF1ZSAmJiBzZXNzaW9uICYmIGN0eCkKICAgICAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY3R4KTsKICAgICAgYXNzZXJ0KG9wYXF1ZSk7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgLy8gaW50IG51bV9oZHIgPSBoZWFkZXJzX2dldChjdHgsICZvcGFxdWUtPnJlcS0+aGVhZGVycywgd3NpKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6IHsKICAgICAgLy8gc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY3R4KTsKICAgICAgaW50IHN0YXR1czsKICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKICAgICAgTWlubmV0SHR0cE1vdW50KiBtb3VudCA9IDA7CiAgICAgIE1pbm5ldFVSTCogdXJsOwoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICAgICAgdXJsID0gJm9wYXF1ZS0+cmVxLT51cmw7CgogICAgICAgIGlmKChtb3VudCA9IG1vdW50X2ZpbmRfcyhzZXJ2ZXItPmNvbnRleHQuaW5mby5tb3VudHMsIHVybC0+cGF0aCkpKSB7CiAgICAgICAgICAvLyBwcmludGYoImZvdW5kIG1vdW50IG1udD0lcyBvcmc9JXMgZGVmPSVzIHBybz0lc1xuIiwgbW91bnQtPm1udCwgbW91bnQtPm9yZywgbW91bnQtPmRlZiwgbW91bnQtPnBybyk7CiAgICAgICAgfQoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+cmVxX29iaikpCiAgICAgICAgICBzZXNzaW9uLT5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIG9wYXF1ZS0+cmVxKTsKCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2VfbmV3KGN0eCwgb3BhcXVlLT5yZXEtPnVybCwgc3RhdHVzLCAwLCBUUlVFLCAidGV4dC9odG1sIik7CiAgICAgIH0KCiAgICAgIG9wYXF1ZS0+c3RhdHVzID0gT1BFTjsKCiAgICAgIGlmKHNlcnZlci0+Y2IuY29ubmVjdC5jdHgpIHsKCiAgICAgICAgaWYoIUpTX0lzT2JqZWN0KHNlc3Npb24tPndzX29iaikpCiAgICAgICAgICBzZXNzaW9uLT53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHNlc3Npb24sIHdzaSk7CgogICAgICAgIGlmKCFvcGFxdWUtPndzKQogICAgICAgICAgb3BhcXVlLT53cyA9IG1pbm5ldF93c19kYXRhKHNlc3Npb24tPndzX29iaik7CgogICAgICAgIExPRygid3MiLCAid3NpIyUiIFBSSWQ2NCAiIHJlcT0lcCIsIG9wYXF1ZS0+c2VyaWFsLCBvcGFxdWUtPnJlcSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0X3RoaXMoJnNlcnZlci0+Y2IuY29ubmVjdCwgc2Vzc2lvbi0+d3Nfb2JqLCAyLCAmc2Vzc2lvbi0+d3Nfb2JqKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TSU5HKSB7CiAgICAgICAgSlNWYWx1ZSB3aHkgPSBKU19VTkRFRklORUQ7CiAgICAgICAgaW50IGNvZGUgPSAtMTsKCiAgICAgICAgaWYoaW4pIHsKICAgICAgICAgIHVpbnQ4X3QqIGNvZGVwID0gaW47CiAgICAgICAgICBjb2RlID0gKGNvZGVwWzBdIDw8IDgpICsgY29kZXBbMV07CiAgICAgICAgICBpZihsZW4gLSAyID4gMCkKICAgICAgICAgICAgd2h5ID0gSlNfTmV3U3RyaW5nTGVuKHNlcnZlci0+Y29udGV4dC5qcywgKGNoYXIqKWluICsgMiwgbGVuIC0gMik7CiAgICAgICAgfQoKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NJTkc7CgogICAgICAgIExPRygid3MiLCAiZmQ9JWQsIHN0YXR1cz0lZCIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIG9wYXF1ZS0+c3RhdHVzKTsKCiAgICAgICAgaWYoY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbM10gPSB7c2Vzc2lvbi0+d3Nfb2JqLCBjb2RlICE9IC0xID8gSlNfTmV3SW50MzIoY3R4LCBjb2RlKSA6IEpTX1VOREVGSU5FRCwgd2h5fTsKICAgICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5jbG9zZSwgY29kZSAhPSAtMSA/IDMgOiAxLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgd2h5KTsKICAgICAgICAvKkpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNvbnRleHQuanMsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gSlNfTlVMTDsqLwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9XUklURUFCTEU6IHsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGZkPSVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSkpOwoKICAgICAgTWlubmV0QnVmZmVyKiBidWYgPSAmc2Vzc2lvbi0+c2VuZF9idWY7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiXHgxYlsxOzMzbXdyaXRhYmxlXHgxYlswbSAlcyBidWY9JXNcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgYnVmZmVyX2VzY2FwZWQoYnVmLCBjdHgpKTsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkU6IHsKICAgICAgaWYoY3R4KSB7CiAgICAgICAgTWlubmV0V2Vic29ja2V0KiB3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IubWVzc2FnZSwgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HOiB7CiAgICAgIGlmKHNlcnZlci0+Y2IucG9uZy5jdHgpIHsKICAgICAgICAvLyB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShzZXJ2ZXItPmNiLnBvbmcuY3R4LCB3c2kpOwogICAgICAgIEpTVmFsdWUgbXNnID0gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KHNlcnZlci0+Y2IucG9uZy5jdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9EUk9QX1BST1RPQ09MOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVZFTlRfV0FJVF9DQU5DRUxMRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19HRVRfVEhSRUFEX0lEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGRlZmF1bHQ6IHsKICAgICAgLy8gcHJpbnRmKCJ3c19jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBsd3NsX3VzZXIoIndzICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgZmQ9JWQgdXJsPSclcycgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBsd3NfZ2V0X3VyaSh3c2ksIHNlcnZlci0+Y29udGV4dC5qcywgLy8KICAvLyBXU0lfVE9LRU5fR0VUX1VSSSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldHVybiAtMTsKCiAgcmV0dXJuIDA7IC8vIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAAPEaAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AIAAAAAAADQAwAAAAAAAAAAAAAAAPC/"
				],
				[
					715,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAL0BAAAAAAAAvgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvQEAAAAAAAC9AQAAAAAAAAAAAAAAAPC/"
				],
				[
					716,
					1,
					"left_delete",
					null,
					"AQAAAL0BAAAAAAAAvQEAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAvgEAAAAAAAC+AQAAAAAAAAAAAAAAAPC/"
				],
				[
					718,
					1,
					"insert",
					{
						"characters": "server"
					},
					"BgAAALwBAAAAAAAAvQEAAAAAAAAAAAAAvQEAAAAAAAC+AQAAAAAAAAAAAAC+AQAAAAAAAL8BAAAAAAAAAAAAAL8BAAAAAAAAwAEAAAAAAAAAAAAAwAEAAAAAAADBAQAAAAAAAAAAAADBAQAAAAAAAMIBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvAEAAAAAAAC8AQAAAAAAAAAAAAAAAPC/"
				],
				[
					719,
					1,
					"insert",
					{
						"characters": " ?"
					},
					"AgAAAMIBAAAAAAAAwwEAAAAAAAAAAAAAwwEAAAAAAADEAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgEAAAAAAADCAQAAAAAAAAAAAAAAAPC/"
				],
				[
					720,
					1,
					"insert",
					{
						"characters": " server->c"
					},
					"CgAAAMQBAAAAAAAAxQEAAAAAAAAAAAAAxQEAAAAAAADGAQAAAAAAAAAAAADGAQAAAAAAAMcBAAAAAAAAAAAAAMcBAAAAAAAAyAEAAAAAAAAAAAAAyAEAAAAAAADJAQAAAAAAAAAAAADJAQAAAAAAAMoBAAAAAAAAAAAAAMoBAAAAAAAAywEAAAAAAAAAAAAAywEAAAAAAADMAQAAAAAAAAAAAADMAQAAAAAAAM0BAAAAAAAAAAAAAM0BAAAAAAAAzgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxAEAAAAAAADEAQAAAAAAAAAAAAAAAPC/"
				],
				[
					721,
					9,
					"left_delete",
					null,
					"CQAAAM0BAAAAAAAAzQEAAAAAAAABAAAAY8wBAAAAAAAAzAEAAAAAAAABAAAAPssBAAAAAAAAywEAAAAAAAABAAAALcoBAAAAAAAAygEAAAAAAAABAAAAcskBAAAAAAAAyQEAAAAAAAABAAAAZcgBAAAAAAAAyAEAAAAAAAABAAAAdscBAAAAAAAAxwEAAAAAAAABAAAAcsYBAAAAAAAAxgEAAAAAAAABAAAAZcUBAAAAAAAAxQEAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAzgEAAAAAAADOAQAAAAAAAAAAAAAAAPC/"
				],
				[
					724,
					1,
					"insert",
					{
						"characters": " :"
					},
					"AgAAANcBAAAAAAAA2AEAAAAAAAAAAAAA2AEAAAAAAADZAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wEAAAAAAADXAQAAAAAAAAAAAAAAAPC/"
				],
				[
					725,
					1,
					"insert",
					{
						"characters": " 0"
					},
					"AgAAANkBAAAAAAAA2gEAAAAAAAAAAAAA2gEAAAAAAADbAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2QEAAAAAAADZAQAAAAAAAAAAAAAAAPC/"
				],
				[
					743,
					1,
					"paste",
					null,
					"AgAAANcUAAAAAAAA7xQAAAAAAAAAAAAA7xQAAAAAAADvFAAAAAAAAA8AAABvcGFxdWUtPmJpbmFyeSA",
					"AQAAAAAAAAABAAAA1xQAAAAAAADmFAAAAAAAAAAAAAAAAPC/"
				],
				[
					744,
					1,
					"left_delete",
					null,
					"AQAAAO4UAAAAAAAA7hQAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAA7xQAAAAAAADvFAAAAAAAAAAAAAAAAPC/"
				],
				[
					745,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAO4UAAAAAAAA7xQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7hQAAAAAAADuFAAAAAAAAAAAAAAAAPC/"
				],
				[
					747,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"AwAAAO0UAAAAAAAA7hQAAAAAAAAAAAAA7hQAAAAAAADvFAAAAAAAAAAAAADvFAAAAAAAAPAUAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7RQAAAAAAADtFAAAAAAAAAAAAAAAAPC/"
				],
				[
					749,
					2,
					"left_delete",
					null,
					"AgAAANgUAAAAAAAA2BQAAAAAAAABAAAAINcUAAAAAAAA1xQAAAAAAAADAAAA4peG",
					"AQAAAAAAAAABAAAA2RQAAAAAAADZFAAAAAAAAAAAAAAAAPC/"
				],
				[
					755,
					1,
					"left_delete",
					null,
					"AQAAAIQUAAAAAAAAhBQAAAAAAABFAAAATWlubmV0V2Vic29ja2V0KiB3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHNlc3Npb24tPndzX29iaik7CiAgICAgICAg",
					"AQAAAAAAAAABAAAAhBQAAAAAAADJFAAAAAAAAAAAAAAAAPC/"
				],
				[
					769,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADDGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyID8gc2VydmVyLT5jb250ZXh0LmpzIDogMDsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwoKICBpZihsd3NfaXNfcG9sbF9jYWxsYmFjayhyZWFzb24pKQogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9zZXJ2ZXJfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBpZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTICYmIHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpIHsKICAgIGlmKCFvcGFxdWUgJiYgd3NpICYmIHNlc3Npb24gJiYgY3R4KSB7CiAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBzZXNzaW9uLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKICAgIH0KICB9CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX25ldyh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwogICAgICBpZighb3BhcXVlICYmIHNlc3Npb24gJiYgY3R4KQogICAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBzZXNzaW9uLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICAvLyBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgc2Vzc2lvbiwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBKU1ZhbHVlIG1zZyA9IGx3c19mcmFtZV9pc19iaW5hcnkod3NpKSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IubWVzc2FnZSwgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HOiB7CiAgICAgIGlmKHNlcnZlci0+Y2IucG9uZy5jdHgpIHsKICAgICAgICAvLyB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShzZXJ2ZXItPmNiLnBvbmcuY3R4LCB3c2kpOwogICAgICAgIEpTVmFsdWUgbXNnID0gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KHNlcnZlci0+Y2IucG9uZy5jdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9EUk9QX1BST1RPQ09MOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVZFTlRfV0FJVF9DQU5DRUxMRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19HRVRfVEhSRUFEX0lEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGRlZmF1bHQ6IHsKICAgICAgLy8gcHJpbnRmKCJ3c19jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBsd3NsX3VzZXIoIndzICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgZmQ9JWQgdXJsPSclcycgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBsd3NfZ2V0X3VyaSh3c2ksIHNlcnZlci0+Y29udGV4dC5qcywgLy8KICAvLyBXU0lfVE9LRU5fR0VUX1VSSSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldHVybiAtMTsKCiAgcmV0dXJuIDA7IC8vIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAAGMZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqhcAAAAAAACqFwAAAAAAAAAAAAAAAFRA"
				],
				[
					770,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjGQAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX25ldyh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwogICAgICBpZighb3BhcXVlKQogICAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICAvLyBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5tZXNzYWdlLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX1BPTkc6IHsKICAgICAgaWYoc2VydmVyLT5jYi5wb25nLmN0eCkgewogICAgICAgIC8vIHdzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKHNlcnZlci0+Y2IucG9uZy5jdHgsIHdzaSk7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoc2VydmVyLT5jYi5wb25nLmN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLnBvbmcsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZGVmYXVsdDogewogICAgICAvLyBwcmludGYoIndzX2NhbGxiYWNrICVzICVwICVwICV6dVxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSwgdXNlciwgaW4sIGxlbik7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGx3c2xfdXNlcigid3MgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBmZD0lZCB1cmw9JyVzJyBpbj0nJS4qcydcbiIsIDIyICsgKHJlYXNvbiAqIDIpLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGx3c19nZXRfdXJpKHdzaSwgc2VydmVyLT5jb250ZXh0LmpzLCAvLwogIC8vIFdTSV9UT0tFTl9HRVRfVVJJKSwgKGludClsZW4sIChjaGFyKilpbik7CgogIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPnN0YXR1cyA+PSBDTE9TSU5HKQogICAgcmV0dXJuIC0xOwoKICByZXR1cm4gMDsgLy8gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAzBkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqhcAAAAAAACqFwAAAAAAAAAAAAAAAPC/"
				],
				[
					833,
					1,
					"wrap_block",
					{
						"begin": "{",
						"end": "}"
					},
					"AgAAAJYIAAAAAAAAlwgAAAAAAAAAAAAAyQgAAAAAAADRCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlggAAAAAAACWCAAAAAAAAAAAAAAAAPC/"
				],
				[
					836,
					1,
					"insert",
					{
						"characters": "\nopaque->s"
					},
					"CwAAAMgIAAAAAAAAyQgAAAAAAAAAAAAAyQgAAAAAAADRCAAAAAAAAAAAAADRCAAAAAAAANIIAAAAAAAAAAAAANIIAAAAAAAA0wgAAAAAAAAAAAAA0wgAAAAAAADUCAAAAAAAAAAAAADUCAAAAAAAANUIAAAAAAAAAAAAANUIAAAAAAAA1ggAAAAAAAAAAAAA1ggAAAAAAADXCAAAAAAAAAAAAADXCAAAAAAAANgIAAAAAAAAAAAAANgIAAAAAAAA2QgAAAAAAAAAAAAA2QgAAAAAAADaCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyAgAAAAAAADICAAAAAAAAP///////+9/"
				],
				[
					837,
					1,
					"insert",
					{
						"characters": "ess"
					},
					"AwAAANoIAAAAAAAA2wgAAAAAAAAAAAAA2wgAAAAAAADcCAAAAAAAAAAAAADcCAAAAAAAAN0IAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2ggAAAAAAADaCAAAAAAAAAAAAAAAAPC/"
				],
				[
					838,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAN0IAAAAAAAA3ggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QgAAAAAAADdCAAAAAAAAAAAAAAAAPC/"
				],
				[
					839,
					1,
					"left_delete",
					null,
					"AQAAAN0IAAAAAAAA3QgAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAA3ggAAAAAAADeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					840,
					1,
					"insert",
					{
						"characters": "->req_"
					},
					"BgAAAN0IAAAAAAAA3ggAAAAAAAAAAAAA3ggAAAAAAADfCAAAAAAAAAAAAADfCAAAAAAAAOAIAAAAAAAAAAAAAOAIAAAAAAAA4QgAAAAAAAAAAAAA4QgAAAAAAADiCAAAAAAAAAAAAADiCAAAAAAAAOMIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QgAAAAAAADdCAAAAAAAAAAAAAAAAPC/"
				],
				[
					841,
					1,
					"paste",
					null,
					"AQAAAOMIAAAAAAAA9AgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4wgAAAAAAADjCAAAAAAAAAAAAAAAAPC/"
				],
				[
					843,
					1,
					"insert",
					{
						"characters": "session>"
					},
					"CQAAANEIAAAAAAAA0ggAAAAAAAAAAAAA0ggAAAAAAADSCAAAAAAAACMAAABvcGFxdWUtPnNlc3MtPnJlcV9XU0lfVE9LRU5fR0VUX1VSSdIIAAAAAAAA0wgAAAAAAAAAAAAA0wgAAAAAAADUCAAAAAAAAAAAAADUCAAAAAAAANUIAAAAAAAAAAAAANUIAAAAAAAA1ggAAAAAAAAAAAAA1ggAAAAAAADXCAAAAAAAAAAAAADXCAAAAAAAANgIAAAAAAAAAAAAANgIAAAAAAAA2QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9AgAAAAAAADRCAAAAAAAAAAAAAAAAFRA"
				],
				[
					844,
					1,
					"left_delete",
					null,
					"AQAAANgIAAAAAAAA2AgAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAA2QgAAAAAAADZCAAAAAAAAAAAAAAAAPC/"
				],
				[
					845,
					1,
					"insert",
					{
						"characters": "->reqo"
					},
					"BgAAANgIAAAAAAAA2QgAAAAAAAAAAAAA2QgAAAAAAADaCAAAAAAAAAAAAADaCAAAAAAAANsIAAAAAAAAAAAAANsIAAAAAAAA3AgAAAAAAAAAAAAA3AgAAAAAAADdCAAAAAAAAAAAAADdCAAAAAAAAN4IAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2AgAAAAAAADYCAAAAAAAAAAAAAAAAPC/"
				],
				[
					846,
					1,
					"left_delete",
					null,
					"AQAAAN0IAAAAAAAA3QgAAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAA3ggAAAAAAADeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					847,
					1,
					"insert",
					{
						"characters": "_obj"
					},
					"BAAAAN0IAAAAAAAA3ggAAAAAAAAAAAAA3ggAAAAAAADfCAAAAAAAAAAAAADfCAAAAAAAAOAIAAAAAAAAAAAAAOAIAAAAAAAA4QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QgAAAAAAADdCAAAAAAAAAAAAAAAAPC/"
				],
				[
					848,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAOEIAAAAAAAA4ggAAAAAAAAAAAAA4ggAAAAAAADjCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4QgAAAAAAADhCAAAAAAAAAAAAAAAAPC/"
				],
				[
					849,
					1,
					"insert",
					{
						"characters": " minnet_request_wrap"
					},
					"FAAAAOMIAAAAAAAA5AgAAAAAAAAAAAAA5AgAAAAAAADlCAAAAAAAAAAAAADlCAAAAAAAAOYIAAAAAAAAAAAAAOYIAAAAAAAA5wgAAAAAAAAAAAAA5wgAAAAAAADoCAAAAAAAAAAAAADoCAAAAAAAAOkIAAAAAAAAAAAAAOkIAAAAAAAA6ggAAAAAAAAAAAAA6ggAAAAAAADrCAAAAAAAAAAAAADrCAAAAAAAAOwIAAAAAAAAAAAAAOwIAAAAAAAA7QgAAAAAAAAAAAAA7QgAAAAAAADuCAAAAAAAAAAAAADuCAAAAAAAAO8IAAAAAAAAAAAAAO8IAAAAAAAA8AgAAAAAAAAAAAAA8AgAAAAAAADxCAAAAAAAAAAAAADxCAAAAAAAAPIIAAAAAAAAAAAAAPIIAAAAAAAA8wgAAAAAAAAAAAAA8wgAAAAAAAD0CAAAAAAAAAAAAAD0CAAAAAAAAPUIAAAAAAAAAAAAAPUIAAAAAAAA9ggAAAAAAAAAAAAA9ggAAAAAAAD3CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4wgAAAAAAADjCAAAAAAAAAAAAAAAAPC/"
				],
				[
					850,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAPcIAAAAAAAA+QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wgAAAAAAAD3CAAAAAAAAAAAAAAAAPC/"
				],
				[
					851,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAPgIAAAAAAAA+QgAAAAAAAAAAAAA+QgAAAAAAAD6CAAAAAAAAAAAAAD6CAAAAAAAAPsIAAAAAAAAAAAAAPsIAAAAAAAA/AgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+AgAAAAAAAD4CAAAAAAAAAAAAAAAAPC/"
				],
				[
					852,
					1,
					"insert",
					{
						"characters": " opaque->req"
					},
					"DAAAAPwIAAAAAAAA/QgAAAAAAAAAAAAA/QgAAAAAAAD+CAAAAAAAAAAAAAD+CAAAAAAAAP8IAAAAAAAAAAAAAP8IAAAAAAAAAAkAAAAAAAAAAAAAAAkAAAAAAAABCQAAAAAAAAAAAAABCQAAAAAAAAIJAAAAAAAAAAAAAAIJAAAAAAAAAwkAAAAAAAAAAAAAAwkAAAAAAAAECQAAAAAAAAAAAAAECQAAAAAAAAUJAAAAAAAAAAAAAAUJAAAAAAAABgkAAAAAAAAAAAAABgkAAAAAAAAHCQAAAAAAAAAAAAAHCQAAAAAAAAgJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/AgAAAAAAAD8CAAAAAAAAAAAAAAAAPC/"
				],
				[
					854,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAAkJAAAAAAAACgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACQkAAAAAAAAJCQAAAAAAAAAAAAAAAPC/"
				],
				[
					870,
					1,
					"paste",
					null,
					"AgAAAK4IAAAAAAAAvQgAAAAAAAAAAAAAvQgAAAAAAAC9CAAAAAAAAA8AAAByZXF1ZXN0X2Zyb213c2k",
					"AQAAAAAAAAABAAAArggAAAAAAAC9CAAAAAAAAAAAAAAAAPC/"
				],
				[
					882,
					1,
					"paste",
					null,
					"AgAAAMMIAAAAAAAA7ggAAAAAAAAAAAAA7ggAAAAAAADuCAAAAAAAAAMAAAB3c2k",
					"AQAAAAAAAAABAAAAwwgAAAAAAADGCAAAAAAAAAAAAAAAAPC/"
				],
				[
					893,
					1,
					"cut",
					null,
					"AQAAAMIIAAAAAAAAwggAAAAAAAAsAAAAIGx3c19oZHJfc2ltcGxlX3B0ciAod3NpLCBXU0lfVE9LRU5fR0VUX1VSSSk",
					"AQAAAAAAAAABAAAA7ggAAAAAAADCCAAAAAAAAAAAAAAAAPC/"
				],
				[
					894,
					1,
					"insert",
					{
						"characters": " url"
					},
					"BAAAAMIIAAAAAAAAwwgAAAAAAAAAAAAAwwgAAAAAAADECAAAAAAAAAAAAADECAAAAAAAAMUIAAAAAAAAAAAAAMUIAAAAAAAAxggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwggAAAAAAADCCAAAAAAAAAAAAAAAAPC/"
				],
				[
					896,
					1,
					"insert",
					{
						"characters": "\ncont"
					},
					"BwAAAJcIAAAAAAAAmAgAAAAAAAAAAAAAmAgAAAAAAACeCAAAAAAAAAAAAACeCAAAAAAAAKAIAAAAAAAAAAAAAKAIAAAAAAAAoQgAAAAAAAAAAAAAoQgAAAAAAACiCAAAAAAAAAAAAACiCAAAAAAAAKMIAAAAAAAAAAAAAKMIAAAAAAAApAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlwgAAAAAAACXCAAAAAAAAAAAAAAAwHxA"
				],
				[
					897,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKQIAAAAAAAApQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApAgAAAAAAACkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					898,
					2,
					"left_delete",
					null,
					"AgAAAKQIAAAAAAAApAgAAAAAAAABAAAAIKMIAAAAAAAAowgAAAAAAAABAAAAdA",
					"AQAAAAAAAAABAAAApQgAAAAAAAClCAAAAAAAAAAAAAAAAPC/"
				],
				[
					899,
					1,
					"insert",
					{
						"characters": "st"
					},
					"AgAAAKMIAAAAAAAApAgAAAAAAAAAAAAApAgAAAAAAAClCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAowgAAAAAAACjCAAAAAAAAAAAAAAAAPC/"
				],
				[
					900,
					1,
					"insert",
					{
						"characters": " char*"
					},
					"BgAAAKUIAAAAAAAApggAAAAAAAAAAAAApggAAAAAAACnCAAAAAAAAAAAAACnCAAAAAAAAKgIAAAAAAAAAAAAAKgIAAAAAAAAqQgAAAAAAAAAAAAAqQgAAAAAAACqCAAAAAAAAAAAAACqCAAAAAAAAKsIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApQgAAAAAAAClCAAAAAAAAAAAAAAAAPC/"
				],
				[
					901,
					1,
					"insert",
					{
						"characters": " url"
					},
					"BAAAAKsIAAAAAAAArAgAAAAAAAAAAAAArAgAAAAAAACtCAAAAAAAAAAAAACtCAAAAAAAAK4IAAAAAAAAAAAAAK4IAAAAAAAArwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqwgAAAAAAACrCAAAAAAAAAAAAAAAAPC/"
				],
				[
					902,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAK8IAAAAAAAAsAgAAAAAAAAAAAAAsAgAAAAAAACxCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArwgAAAAAAACvCAAAAAAAAAAAAAAAAPC/"
				],
				[
					903,
					1,
					"paste",
					null,
					"AQAAALEIAAAAAAAA3QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQgAAAAAAACxCAAAAAAAAAAAAAAAAPC/"
				],
				[
					904,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAN0IAAAAAAAA3ggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QgAAAAAAADdCAAAAAAAAAAAAAAAAPC/"
				],
				[
					912,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABeGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX25ldyh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwogICAgICBpZighb3BhcXVlKQogICAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSl7CiAgICAgICAgY29uc3QgY2hhciogdXJsID0gbHdzX2hkcl9zaW1wbGVfcHRyICh3c2ksIFdTSV9UT0tFTl9HRVRfVVJJKTsKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXVybChjdHgsIHVybCk7CiAgICAgICAgc2Vzc2lvbi0+cmVxX29iaiA9IG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCBvcGFxdWUtPnJlcSk7CiAgICAgIH0KCiAgICAgIC8vIGludCBudW1faGRyID0gaGVhZGVyc19nZXQoY3R4LCAmb3BhcXVlLT5yZXEtPmhlYWRlcnMsIHdzaSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEOiB7CiAgICAgIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGN0eCk7CiAgICAgIGludCBzdGF0dXM7CiAgICAgIHN0YXR1cyA9IGx3c19odHRwX2NsaWVudF9odHRwX3Jlc3BvbnNlKHdzaSk7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQgPSAwOwogICAgICBNaW5uZXRVUkwqIHVybDsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkKICAgICAgICBvcGFxdWUtPnJlcSA9IHJlcXVlc3RfZnJvbXdzaShjdHgsIHdzaSk7CgogICAgICBpZihvcGFxdWUtPnJlcSkgewogICAgICAgIHVybCA9ICZvcGFxdWUtPnJlcS0+dXJsOwoKICAgICAgICBpZigobW91bnQgPSBtb3VudF9maW5kX3Moc2VydmVyLT5jb250ZXh0LmluZm8ubW91bnRzLCB1cmwtPnBhdGgpKSkgewogICAgICAgICAgLy8gcHJpbnRmKCJmb3VuZCBtb3VudCBtbnQ9JXMgb3JnPSVzIGRlZj0lcyBwcm89JXNcbiIsIG1vdW50LT5tbnQsIG1vdW50LT5vcmcsIG1vdW50LT5kZWYsIG1vdW50LT5wcm8pOwogICAgICAgIH0KCiAgICAgICAgaWYoIUpTX0lzT2JqZWN0KHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgICAgc2Vzc2lvbi0+cmVxX29iaiA9IG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCBvcGFxdWUtPnJlcSk7CgogICAgICAgIHNlc3Npb24tPnJlc3Bfb2JqID0gbWlubmV0X3Jlc3BvbnNlX25ldyhjdHgsIG9wYXF1ZS0+cmVxLT51cmwsIHN0YXR1cywgMCwgVFJVRSwgInRleHQvaHRtbCIpOwogICAgICB9CgogICAgICBvcGFxdWUtPnN0YXR1cyA9IE9QRU47CgogICAgICBpZihzZXJ2ZXItPmNiLmNvbm5lY3QuY3R4KSB7CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT53c19vYmopKQogICAgICAgICAgc2Vzc2lvbi0+d3Nfb2JqID0gbWlubmV0X3dzX2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgICBpZighb3BhcXVlLT53cykKICAgICAgICAgIG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YShzZXNzaW9uLT53c19vYmopOwoKICAgICAgICBMT0coIndzIiwgIndzaSMlIiBQUklkNjQgIiByZXE9JXAiLCBvcGFxdWUtPnNlcmlhbCwgb3BhcXVlLT5yZXEpOwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdF90aGlzKCZzZXJ2ZXItPmNiLmNvbm5lY3QsIHNlc3Npb24tPndzX29iaiwgMiwgJnNlc3Npb24tPndzX29iaikpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX1BFRVJfSU5JVElBVEVEX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgQ0xPU0lORykgewogICAgICAgIEpTVmFsdWUgd2h5ID0gSlNfVU5ERUZJTkVEOwogICAgICAgIGludCBjb2RlID0gLTE7CgogICAgICAgIGlmKGluKSB7CiAgICAgICAgICB1aW50OF90KiBjb2RlcCA9IGluOwogICAgICAgICAgY29kZSA9IChjb2RlcFswXSA8PCA4KSArIGNvZGVwWzFdOwogICAgICAgICAgaWYobGVuIC0gMiA+IDApCiAgICAgICAgICAgIHdoeSA9IEpTX05ld1N0cmluZ0xlbihzZXJ2ZXItPmNvbnRleHQuanMsIChjaGFyKilpbiArIDIsIGxlbiAtIDIpOwogICAgICAgIH0KCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TSU5HOwoKICAgICAgICBMT0coIndzIiwgImZkPSVkLCBzdGF0dXM9JWQiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBvcGFxdWUtPnN0YXR1cyk7CgogICAgICAgIGlmKGN0eCkgewogICAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzNdID0ge3Nlc3Npb24tPndzX29iaiwgY29kZSAhPSAtMSA/IEpTX05ld0ludDMyKGN0eCwgY29kZSkgOiBKU19VTkRFRklORUQsIHdoeX07CiAgICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuY2xvc2UsIGNvZGUgIT0gLTEgPyAzIDogMSwgY2JfYXJndikpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgICAgfQogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNvbnRleHQuanMsIHdoeSk7CiAgICAgICAgLypKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCBzZXNzaW9uLT53c19vYmopOwogICAgICAgIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7Ki8KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfV1JJVEVBQkxFOiB7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiXHgxYlsxOzMzbXdyaXRhYmxlXHgxYlswbSAlcyBmZD0lZFxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpKTsKCiAgICAgIE1pbm5ldEJ1ZmZlciogYnVmID0gJnNlc3Npb24tPnNlbmRfYnVmOwogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgYnVmPSVzXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGJ1ZmZlcl9lc2NhcGVkKGJ1ZiwgY3R4KSk7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOiB7CiAgICAgIGlmKGN0eCkgewogICAgICAgIE1pbm5ldFdlYnNvY2tldCogd3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCBzZXNzaW9uLT53c19vYmopOwogICAgICAgIEpTVmFsdWUgbXNnID0gb3BhcXVlLT5iaW5hcnkgPyBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBpbiwgbGVuKSA6IEpTX05ld1N0cmluZ0xlbihjdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndlsyXSA9IHtKU19EdXBWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLm1lc3NhZ2UsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfUE9ORzogewogICAgICBpZihzZXJ2ZXItPmNiLnBvbmcuY3R4KSB7CiAgICAgICAgLy8gd3Nfb2JqID0gbWlubmV0X3dzX2Zyb213c2koc2VydmVyLT5jYi5wb25nLmN0eCwgd3NpKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IEpTX05ld0FycmF5QnVmZmVyQ29weShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgc2Vzc2lvbi0+d3Nfb2JqKSwgbXNnfTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IucG9uZywgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLnBvbmcuY3R4LCBjYl9hcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU19TRVJWRVJfRFJPUF9QUk9UT0NPTDogewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0VWRU5UX1dBSVRfQ0FOQ0VMTEVEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIC8vIHByaW50Zigid3NfY2FsbGJhY2sgJXMgJXAgJXAgJXp1XG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pLCB1c2VyLCBpbiwgbGVuKTsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgLy8gbHdzbF91c2VyKCJ3cyAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGZkPSVkIHVybD0nJXMnIGluPSclLipzJ1xuIiwgMjIgKyAocmVhc29uICogMiksIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgbHdzX2dldF91cmkod3NpLCBzZXJ2ZXItPmNvbnRleHQuanMsIC8vCiAgLy8gV1NJX1RPS0VOX0dFVF9VUkkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXR1cm4gLTE7CgogIHJldHVybiAwOyAvLyBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Cn0KAAAAAAAAAABeGgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAQkAAAAAAAABCQAAAAAAAAAAAAAAAPC/"
				],
				[
					920,
					1,
					"cut",
					null,
					"AQAAAHIAAAAAAAAAcgAAAAAAAAAUAAAAI2luY2x1ZGUgPGFzc2VydC5oPgo",
					"AQAAAAAAAAABAAAAcgAAAAAAAACGAAAAAAAAAAAAAAAAAPC/"
				],
				[
					921,
					2,
					"paste",
					null,
					"AgAAAHIAAAAAAAAAhgAAAAAAAAAAAAAAhgAAAAAAAACaAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcgAAAAAAAAByAAAAAAAAAAAAAAAAAPC/"
				],
				[
					926,
					1,
					"insert",
					{
						"characters": "libwebsockets"
					},
					"DgAAAJAAAAAAAAAAkQAAAAAAAAAAAAAAkQAAAAAAAACRAAAAAAAAAAYAAABhc3NlcnSRAAAAAAAAAJIAAAAAAAAAAAAAAJIAAAAAAAAAkwAAAAAAAAAAAAAAkwAAAAAAAACUAAAAAAAAAAAAAACUAAAAAAAAAJUAAAAAAAAAAAAAAJUAAAAAAAAAlgAAAAAAAAAAAAAAlgAAAAAAAACXAAAAAAAAAAAAAACXAAAAAAAAAJgAAAAAAAAAAAAAAJgAAAAAAAAAmQAAAAAAAAAAAAAAmQAAAAAAAACaAAAAAAAAAAAAAACaAAAAAAAAAJsAAAAAAAAAAAAAAJsAAAAAAAAAnAAAAAAAAAAAAAAAnAAAAAAAAACdAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkAAAAAAAAACWAAAAAAAAAAAAAAAAAPC/"
				],
				[
					1034,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAPoAAAAAAAAA+wAAAAAAAAAAAAAA+wAAAAAAAAD8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+gAAAAAAAAD6AAAAAAAAAAAAAAAAAPC/"
				],
				[
					1036,
					1,
					"insert",
					{
						"characters": "extermn"
					},
					"BwAAAPsAAAAAAAAA/AAAAAAAAAAAAAAA/AAAAAAAAAD9AAAAAAAAAAAAAAD9AAAAAAAAAP4AAAAAAAAAAAAAAP4AAAAAAAAA/wAAAAAAAAAAAAAA/wAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAEBAAAAAAAAAAAAAAEBAAAAAAAAAgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wAAAAAAAAD7AAAAAAAAAAAAAAAAAAAA"
				],
				[
					1037,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAIBAAAAAAAAAwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAgEAAAAAAAACAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1038,
					8,
					"left_delete",
					null,
					"CAAAAAIBAAAAAAAAAgEAAAAAAAABAAAAIAEBAAAAAAAAAQEAAAAAAAABAAAAbgABAAAAAAAAAAEAAAAAAAABAAAAbf8AAAAAAAAA/wAAAAAAAAABAAAAcv4AAAAAAAAA/gAAAAAAAAABAAAAZf0AAAAAAAAA/QAAAAAAAAABAAAAdPwAAAAAAAAA/AAAAAAAAAABAAAAePsAAAAAAAAA+wAAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAAwEAAAAAAAADAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1039,
					1,
					"insert",
					{
						"characters": "char*"
					},
					"BQAAAPsAAAAAAAAA/AAAAAAAAAAAAAAA/AAAAAAAAAD9AAAAAAAAAAAAAAD9AAAAAAAAAP4AAAAAAAAAAAAAAP4AAAAAAAAA/wAAAAAAAAAAAAAA/wAAAAAAAAAAAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wAAAAAAAAD7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					1040,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAABAAAAAAAAAQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1041,
					1,
					"paste",
					null,
					"AQAAAAEBAAAAAAAAEwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAQEAAAAAAAABAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1042,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAABMBAAAAAAAAFQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEwEAAAAAAAATAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1043,
					1,
					"insert",
					{
						"characters": "struct"
					},
					"BgAAABQBAAAAAAAAFQEAAAAAAAAAAAAAFQEAAAAAAAAWAQAAAAAAAAAAAAAWAQAAAAAAABcBAAAAAAAAAAAAABcBAAAAAAAAGAEAAAAAAAAAAAAAGAEAAAAAAAAZAQAAAAAAAAAAAAAZAQAAAAAAABoBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFAEAAAAAAAAUAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1044,
					1,
					"insert",
					{
						"characters": " lws*"
					},
					"BQAAABoBAAAAAAAAGwEAAAAAAAAAAAAAGwEAAAAAAAAcAQAAAAAAAAAAAAAcAQAAAAAAAB0BAAAAAAAAAAAAAB0BAAAAAAAAHgEAAAAAAAAAAAAAHgEAAAAAAAAfAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGgEAAAAAAAAaAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1045,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAB8BAAAAAAAAIAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHwEAAAAAAAAfAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1046,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACABAAAAAAAAIQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIAEAAAAAAAAgAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1047,
					1,
					"insert",
					{
						"characters": "int"
					},
					"AwAAACEBAAAAAAAAIgEAAAAAAAAAAAAAIgEAAAAAAAAjAQAAAAAAAAAAAAAjAQAAAAAAACQBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIQEAAAAAAAAhAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1048,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACQBAAAAAAAAJQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJAEAAAAAAAAkAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1049,
					1,
					"left_delete",
					null,
					"AQAAACQBAAAAAAAAJAEAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAJQEAAAAAAAAlAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1051,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAACUBAAAAAAAAJgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJQEAAAAAAAAlAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1052,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAACYBAAAAAAAAJwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJgEAAAAAAAAmAQAAAAAAAAAAAAAAAPC/"
				],
				[
					1073,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgpjaGFyKiBsd3NfaGRyX3NpbXBsZV9wdHIoc3RydWN0IGx3cyosIGludCk7CgoKaW50CndzX2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwoKICBpZihsd3NfaXNfcG9sbF9jYWxsYmFjayhyZWFzb24pKQogICAgcmV0dXJuIGZkX2NhbGxiYWNrKHdzaSwgcmVhc29uLCAmc2VydmVyLT5jYi5mZCwgaW4pOwogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9zZXJ2ZXJfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBMT0coIldTIiwgImZkPSVkLCAlcyVzaW49JyUuKnMnIHNlc3Npb24jJWkiLCBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLCBpc19oMih3c2kpID8gImgyLCAiIDogIiIsIGx3c19pc19zc2wod3NpKSA/ICJzc2wsICIgOiAiIiwgKGludClsZW4sIGluLCBzZXNzaW9uID8gc2Vzc2lvbi0+c2VyaWFsIDogMCk7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9ORVRXT1JLX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19GSUxURVJfUFJPVE9DT0xfQ09OTkVDVElPTjoKICAgICAgaWYoIW9wYXF1ZS0+cmVxKQogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgIGJyZWFrOwoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6IHsKICAgICAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOiB7CiAgICAgIC8vIG9wYXF1ZS0+d3MgPSB3c19uZXcod3NpLCBjdHgpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICAvKiAgIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPndzKSB7CiAgICAgICAgICAgd3NfZnJlZShvcGFxdWUtPndzLCBjdHgpOwogICAgICAgICAgIG9wYXF1ZS0+d3MgPSAwOwogICAgICAgICB9Ki8KICAgICAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIDApOwogICAgICAgIG9wYXF1ZV9mcmVlKG9wYXF1ZSwgY3R4KTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERTogewogICAgICBpZighbHdzX2lzX3NzbCh3c2kpICYmICFzdHJjbXAoaW4sICJoMmMiKSkKICAgICAgICByZXR1cm4gLTE7CgogICAgICAvKnJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Ki8KICAgICAgaWYoIW9wYXF1ZSkKICAgICAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY3R4KTsKICAgICAgYXNzZXJ0KG9wYXF1ZSk7CgogICAgICBpZighb3BhcXVlLT5yZXEpIHsKICAgICAgICBjb25zdCBjaGFyKiB1cmwgPSBsd3NfaGRyX3NpbXBsZV9wdHIod3NpLCBXU0lfVE9LRU5fR0VUX1VSSSk7CiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb211cmwoY3R4LCB1cmwpOwogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwogICAgICB9CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICAvLyBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5tZXNzYWdlLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX1BPTkc6IHsKICAgICAgaWYoc2VydmVyLT5jYi5wb25nLmN0eCkgewogICAgICAgIC8vIHdzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKHNlcnZlci0+Y2IucG9uZy5jdHgsIHdzaSk7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoc2VydmVyLT5jYi5wb25nLmN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLnBvbmcsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19FVkVOVF9XQUlUX0NBTkNFTExFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQ6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZGVmYXVsdDogewogICAgICAvLyBwcmludGYoIndzX2NhbGxiYWNrICVzICVwICVwICV6dVxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSwgdXNlciwgaW4sIGxlbik7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGx3c2xfdXNlcigid3MgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBmZD0lZCB1cmw9JyVzJyBpbj0nJS4qcydcbiIsIDIyICsgKHJlYXNvbiAqIDIpLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGx3c19nZXRfdXJpKHdzaSwgc2VydmVyLT5jb250ZXh0LmpzLCAvLwogIC8vIFdTSV9UT0tFTl9HRVRfVVJJKSwgKGludClsZW4sIChjaGFyKilpbik7CgogIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPnN0YXR1cyA+PSBDTE9TSU5HKQogICAgcmV0dXJuIC0xOwoKICByZXR1cm4gMDsgLy8gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAphoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAkAAAAAAAAHCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1101,
					1,
					"insert",
					{
						"characters": "MinnetURL"
					},
					"CgAAAOgIAAAAAAAA6QgAAAAAAAAAAAAA6QgAAAAAAADpCAAAAAAAAD4AAAAgY29uc3QgY2hhciogdXJsID0gbHdzX2hkcl9zaW1wbGVfcHRyKHdzaSwgV1NJX1RPS0VOX0dFVF9VUkkpO+kIAAAAAAAA6ggAAAAAAAAAAAAA6ggAAAAAAADrCAAAAAAAAAAAAADrCAAAAAAAAOwIAAAAAAAAAAAAAOwIAAAAAAAA7QgAAAAAAAAAAAAA7QgAAAAAAADuCAAAAAAAAAAAAADuCAAAAAAAAO8IAAAAAAAAAAAAAO8IAAAAAAAA8AgAAAAAAAAAAAAA8AgAAAAAAADxCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6AgAAAAAAAAmCQAAAAAAAP///////+9/"
				],
				[
					1102,
					1,
					"insert",
					{
						"characters": " url="
					},
					"BQAAAPEIAAAAAAAA8ggAAAAAAAAAAAAA8ggAAAAAAADzCAAAAAAAAAAAAADzCAAAAAAAAPQIAAAAAAAAAAAAAPQIAAAAAAAA9QgAAAAAAAAAAAAA9QgAAAAAAAD2CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8QgAAAAAAADxCAAAAAAAAAAAAAAAAPC/"
				],
				[
					1103,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAPYIAAAAAAAA+AgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9ggAAAAAAAD2CAAAAAAAAAAAAAAAAPC/"
				],
				[
					1104,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAAPcIAAAAAAAA+AgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wgAAAAAAAD3CAAAAAAAAAAAAAAAAPC/"
				],
				[
					1106,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAPkIAAAAAAAA+ggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+QgAAAAAAAD5CAAAAAAAAAAAAAAAAPC/"
				],
				[
					1107,
					1,
					"insert",
					{
						"characters": "\nurl_fromr"
					},
					"CwAAAPoIAAAAAAAA+wgAAAAAAAAAAAAA+wgAAAAAAAACCQAAAAAAAAAAAAACCQAAAAAAAAMJAAAAAAAAAAAAAAMJAAAAAAAABAkAAAAAAAAAAAAABAkAAAAAAAAFCQAAAAAAAAAAAAAFCQAAAAAAAAYJAAAAAAAAAAAAAAYJAAAAAAAABwkAAAAAAAAAAAAABwkAAAAAAAAICQAAAAAAAAAAAAAICQAAAAAAAAkJAAAAAAAAAAAAAAkJAAAAAAAACgkAAAAAAAAAAAAACgkAAAAAAAALCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+ggAAAAAAAD6CAAAAAAAAAAAAAAAAPC/"
				],
				[
					1108,
					1,
					"left_delete",
					null,
					"AQAAAAoJAAAAAAAACgkAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAACwkAAAAAAAALCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1109,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"AwAAAAoJAAAAAAAACwkAAAAAAAAAAAAACwkAAAAAAAAMCQAAAAAAAAAAAAAMCQAAAAAAAA0JAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACgkAAAAAAAAKCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1110,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAA0JAAAAAAAADwkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADQkAAAAAAAANCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1111,
					1,
					"insert",
					{
						"characters": "&url,"
					},
					"BQAAAA4JAAAAAAAADwkAAAAAAAAAAAAADwkAAAAAAAAQCQAAAAAAAAAAAAAQCQAAAAAAABEJAAAAAAAAAAAAABEJAAAAAAAAEgkAAAAAAAAAAAAAEgkAAAAAAAATCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADgkAAAAAAAAOCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1112,
					1,
					"insert",
					{
						"characters": " wsi,"
					},
					"BQAAABMJAAAAAAAAFAkAAAAAAAAAAAAAFAkAAAAAAAAVCQAAAAAAAAAAAAAVCQAAAAAAABYJAAAAAAAAAAAAABYJAAAAAAAAFwkAAAAAAAAAAAAAFwkAAAAAAAAYCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEwkAAAAAAAATCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1113,
					1,
					"insert",
					{
						"characters": " ctx"
					},
					"BAAAABgJAAAAAAAAGQkAAAAAAAAAAAAAGQkAAAAAAAAaCQAAAAAAAAAAAAAaCQAAAAAAABsJAAAAAAAAAAAAABsJAAAAAAAAHAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGAkAAAAAAAAYCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1115,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAB0JAAAAAAAAHgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHQkAAAAAAAAdCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1118,
					7,
					"left_delete",
					null,
					"BwAAAEMJAAAAAAAAQwkAAAAAAAABAAAAbEIJAAAAAAAAQgkAAAAAAAABAAAAckEJAAAAAAAAQQkAAAAAAAABAAAAdUAJAAAAAAAAQAkAAAAAAAABAAAAbT8JAAAAAAAAPwkAAAAAAAABAAAAbz4JAAAAAAAAPgkAAAAAAAABAAAAcj0JAAAAAAAAPQkAAAAAAAABAAAAZg",
					"AQAAAAAAAAABAAAARAkAAAAAAABECQAAAAAAAAAAAAAAAPC/"
				],
				[
					1119,
					1,
					"insert",
					{
						"characters": "nerw"
					},
					"BAAAAD0JAAAAAAAAPgkAAAAAAAAAAAAAPgkAAAAAAAA/CQAAAAAAAAAAAAA/CQAAAAAAAEAJAAAAAAAAAAAAAEAJAAAAAAAAQQkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPQkAAAAAAAA9CQAAAAAAAAAAAAAAAPC/"
				],
				[
					1122,
					1,
					"insert",
					{
						"characters": "w"
					},
					"AgAAAD8JAAAAAAAAQAkAAAAAAAAAAAAAQAkAAAAAAABACQAAAAAAAAIAAABydw",
					"AQAAAAAAAAABAAAAPwkAAAAAAABBCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1128,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAEkJAAAAAAAASgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASQkAAAAAAABJCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1129,
					1,
					"insert",
					{
						"characters": " METHOD_GET"
					},
					"CwAAAEoJAAAAAAAASwkAAAAAAAAAAAAASwkAAAAAAABMCQAAAAAAAAAAAABMCQAAAAAAAE0JAAAAAAAAAAAAAE0JAAAAAAAATgkAAAAAAAAAAAAATgkAAAAAAABPCQAAAAAAAAAAAABPCQAAAAAAAFAJAAAAAAAAAAAAAFAJAAAAAAAAUQkAAAAAAAAAAAAAUQkAAAAAAABSCQAAAAAAAAAAAABSCQAAAAAAAFMJAAAAAAAAAAAAAFMJAAAAAAAAVAkAAAAAAAAAAAAAVAkAAAAAAABVCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASgkAAAAAAABKCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1140,
					1,
					"insert",
					{
						"characters": ".protocol="
					},
					"CgAAAPcIAAAAAAAA+AgAAAAAAAAAAAAA+AgAAAAAAAD5CAAAAAAAAAAAAAD5CAAAAAAAAPoIAAAAAAAAAAAAAPoIAAAAAAAA+wgAAAAAAAAAAAAA+wgAAAAAAAD8CAAAAAAAAAAAAAD8CAAAAAAAAP0IAAAAAAAAAAAAAP0IAAAAAAAA/ggAAAAAAAAAAAAA/ggAAAAAAAD/CAAAAAAAAAAAAAD/CAAAAAAAAAAJAAAAAAAAAAAAAAAJAAAAAAAAAQkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wgAAAAAAAD3CAAAAAAAAAAAAAAAAPC/"
				],
				[
					1141,
					1,
					"paste",
					null,
					"AQAAAAEJAAAAAAAAEAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAQkAAAAAAAABCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1142,
					1,
					"right_delete",
					null,
					"AQAAABAJAAAAAAAAEAkAAAAAAAABAAAAMA",
					"AQAAAAAAAAABAAAAEAkAAAAAAAAQCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1143,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAABAJAAAAAAAAEgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEAkAAAAAAAAQCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1144,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAABEJAAAAAAAAEwkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEQkAAAAAAAARCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1145,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAABEJAAAAAAAAEQkAAAAAAAABAAAAIhEJAAAAAAAAEQkAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAEgkAAAAAAAASCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1146,
					1,
					"insert",
					{
						"characters": "PROTOCOL_WS"
					},
					"CwAAABEJAAAAAAAAEgkAAAAAAAAAAAAAEgkAAAAAAAATCQAAAAAAAAAAAAATCQAAAAAAABQJAAAAAAAAAAAAABQJAAAAAAAAFQkAAAAAAAAAAAAAFQkAAAAAAAAWCQAAAAAAAAAAAAAWCQAAAAAAABcJAAAAAAAAAAAAABcJAAAAAAAAGAkAAAAAAAAAAAAAGAkAAAAAAAAZCQAAAAAAAAAAAAAZCQAAAAAAABoJAAAAAAAAAAAAABoJAAAAAAAAGwkAAAAAAAAAAAAAGwkAAAAAAAAcCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEQkAAAAAAAARCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1150,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADLGgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgPGFzc2VydC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgoKaW50IGh0dHBfc2VydmVyX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgpjaGFyKiBsd3NfaGRyX3NpbXBsZV9wdHIoc3RydWN0IGx3cyosIGludCk7CgppbnQKd3NfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uID0gdXNlcjsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZzZXJ2ZXItPmNiLmZkLCBpbik7CiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX3NlcnZlcl9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIExPRygiV1MiLCAiZmQ9JWQsICVzJXNpbj0nJS4qcycgc2Vzc2lvbiMlaSIsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGlzX2gyKHdzaSkgPyAiaDIsICIgOiAiIiwgbHdzX2lzX3NzbCh3c2kpID8gInNzbCwgIiA6ICIiLCAoaW50KWxlbiwgaW4sIHNlc3Npb24gPyBzZXNzaW9uLT5zZXJpYWwgOiAwKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRklMVEVSX05FVFdPUktfQ09OTkVDVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OOgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgYnJlYWs7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFM6CiAgICBjYXNlIExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUzogewogICAgICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9DUkVBVEU6IHsKICAgICAgLy8gb3BhcXVlLT53cyA9IHdzX25ldyh3c2ksIGN0eCk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIC8qICAgaWYob3BhcXVlICYmIG9wYXF1ZS0+d3MpIHsKICAgICAgICAgICB3c19mcmVlKG9wYXF1ZS0+d3MsIGN0eCk7CiAgICAgICAgICAgb3BhcXVlLT53cyA9IDA7CiAgICAgICAgIH0qLwogICAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgICAgb3BhcXVlX2ZyZWUob3BhcXVlLCBjdHgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfQ09ORklSTV9VUEdSQURFOiB7CiAgICAgIGlmKCFsd3NfaXNfc3NsKHdzaSkgJiYgIXN0cmNtcChpbiwgImgyYyIpKQogICAgICAgIHJldHVybiAtMTsKCiAgICAgIC8qcmV0dXJuIGh0dHBfc2VydmVyX2NhbGxiYWNrKHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsqLwogICAgICBpZighb3BhcXVlKQogICAgICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAgIGlmKCFvcGFxdWUtPnJlcSkgewogICAgICAgTWlubmV0VVJMIHVybD17LnByb3RvY29sPXByb3RvY29sX3N0cmluZyhQUk9UT0NPTF9XUyl9OwogICAgICAgdXJsX2Zyb213c2koJnVybCwgd3NpLCBjdHgpOwogICAgICAgIG9wYXF1ZS0+cmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIE1FVEhPRF9HRVQpOwogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwogICAgICB9CgogICAgICAvLyBpbnQgbnVtX2hkciA9IGhlYWRlcnNfZ2V0KGN0eCwgJm9wYXF1ZS0+cmVxLT5oZWFkZXJzLCB3c2kpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDogewogICAgICAvLyBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjdHgpOwogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50ID0gMDsKICAgICAgTWlubmV0VVJMKiB1cmw7CgogICAgICBpZighb3BhcXVlLT5yZXEpCiAgICAgICAgb3BhcXVlLT5yZXEgPSByZXF1ZXN0X2Zyb213c2koY3R4LCB3c2kpOwoKICAgICAgaWYob3BhcXVlLT5yZXEpIHsKICAgICAgICB1cmwgPSAmb3BhcXVlLT5yZXEtPnVybDsKCiAgICAgICAgaWYoKG1vdW50ID0gbW91bnRfZmluZF9zKHNlcnZlci0+Y29udGV4dC5pbmZvLm1vdW50cywgdXJsLT5wYXRoKSkpIHsKICAgICAgICAgIC8vIHByaW50ZigiZm91bmQgbW91bnQgbW50PSVzIG9yZz0lcyBkZWY9JXMgcHJvPSVzXG4iLCBtb3VudC0+bW50LCBtb3VudC0+b3JnLCBtb3VudC0+ZGVmLCBtb3VudC0+cHJvKTsKICAgICAgICB9CgogICAgICAgIGlmKCFKU19Jc09iamVjdChzZXNzaW9uLT5yZXFfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgb3BhcXVlLT5yZXEpOwoKICAgICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IG1pbm5ldF9yZXNwb25zZV9uZXcoY3R4LCBvcGFxdWUtPnJlcS0+dXJsLCBzdGF0dXMsIDAsIFRSVUUsICJ0ZXh0L2h0bWwiKTsKICAgICAgfQoKICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwoKICAgICAgaWYoc2VydmVyLT5jYi5jb25uZWN0LmN0eCkgewoKICAgICAgICBpZighSlNfSXNPYmplY3Qoc2Vzc2lvbi0+d3Nfb2JqKSkKICAgICAgICAgIHNlc3Npb24tPndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgICAgaWYoIW9wYXF1ZS0+d3MpCiAgICAgICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEoc2Vzc2lvbi0+d3Nfb2JqKTsKCiAgICAgICAgTE9HKCJ3cyIsICJ3c2kjJSIgUFJJZDY0ICIgcmVxPSVwIiwgb3BhcXVlLT5zZXJpYWwsIG9wYXF1ZS0+cmVxKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXRfdGhpcygmc2VydmVyLT5jYi5jb25uZWN0LCBzZXNzaW9uLT53c19vYmosIDIsICZzZXNzaW9uLT53c19vYmopKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU1ZhbHVlIHdoeSA9IEpTX1VOREVGSU5FRDsKICAgICAgICBpbnQgY29kZSA9IC0xOwoKICAgICAgICBpZihpbikgewogICAgICAgICAgdWludDhfdCogY29kZXAgPSBpbjsKICAgICAgICAgIGNvZGUgPSAoY29kZXBbMF0gPDwgOCkgKyBjb2RlcFsxXTsKICAgICAgICAgIGlmKGxlbiAtIDIgPiAwKQogICAgICAgICAgICB3aHkgPSBKU19OZXdTdHJpbmdMZW4oc2VydmVyLT5jb250ZXh0LmpzLCAoY2hhciopaW4gKyAyLCBsZW4gLSAyKTsKICAgICAgICB9CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKCiAgICAgICAgTE9HKCJ3cyIsICJmZD0lZCwgc3RhdHVzPSVkIiwgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgb3BhcXVlLT5zdGF0dXMpOwoKICAgICAgICBpZihjdHgpIHsKICAgICAgICAgIEpTVmFsdWUgY2JfYXJndlszXSA9IHtzZXNzaW9uLT53c19vYmosIGNvZGUgIT0gLTEgPyBKU19OZXdJbnQzMihjdHgsIGNvZGUpIDogSlNfVU5ERUZJTkVELCB3aHl9OwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmNsb3NlLCBjb2RlICE9IC0xID8gMyA6IDEsIGNiX2FyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgIH0KICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jb250ZXh0LmpzLCB3aHkpOwogICAgICAgIC8qSlNfRnJlZVZhbHVlKHNlcnZlci0+Y29udGV4dC5qcywgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBzZXNzaW9uLT53c19vYmogPSBKU19OVUxMOyovCiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRTogewogICAgICBmcHJpbnRmKHN0ZGVyciwgIlx4MWJbMTszM213cml0YWJsZVx4MWJbMG0gJXMgZmQ9JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSk7CgogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZzZXNzaW9uLT5zZW5kX2J1ZjsKICAgICAgZnByaW50ZihzdGRlcnIsICJceDFiWzE7MzNtd3JpdGFibGVceDFiWzBtICVzIGJ1Zj0lc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBidWZmZXJfZXNjYXBlZChidWYsIGN0eCkpOwoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRTogewogICAgICBpZihjdHgpIHsKICAgICAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgc2Vzc2lvbi0+d3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbMl0gPSB7SlNfRHVwVmFsdWUoY3R4LCBzZXNzaW9uLT53c19vYmopLCBtc2d9OwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5tZXNzYWdlLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX1BPTkc6IHsKICAgICAgaWYoc2VydmVyLT5jYi5wb25nLmN0eCkgewogICAgICAgIC8vIHdzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKHNlcnZlci0+Y2IucG9uZy5jdHgsIHdzaSk7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoc2VydmVyLT5jYi5wb25nLmN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2WzJdID0ge0pTX0R1cFZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIHNlc3Npb24tPndzX29iaiksIG1zZ307CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLnBvbmcsIDIsIGNiX2FyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5wb25nLmN0eCwgY2JfYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IucG9uZy5jdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0RST1BfUFJPVE9DT0w6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19FVkVOVF9XQUlUX0NBTkNFTExFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQ6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZGVmYXVsdDogewogICAgICAvLyBwcmludGYoIndzX2NhbGxiYWNrICVzICVwICVwICV6dVxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSwgdXNlciwgaW4sIGxlbik7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGx3c2xfdXNlcigid3MgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBmZD0lZCB1cmw9JyVzJyBpbj0nJS4qcydcbiIsIDIyICsgKHJlYXNvbiAqIDIpLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKHdzaSksIGx3c19nZXRfdXJpKHdzaSwgc2VydmVyLT5jb250ZXh0LmpzLCAvLwogIC8vIFdTSV9UT0tFTl9HRVRfVVJJKSwgKGludClsZW4sIChjaGFyKilpbik7CgogIGlmKG9wYXF1ZSAmJiBvcGFxdWUtPnN0YXR1cyA+PSBDTE9TSU5HKQogICAgcmV0dXJuIC0xOwoKICByZXR1cm4gMDsgLy8gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAA0RoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHQkAAAAAAAAdCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1156,
					1,
					"insert",
					{
						"characters": "&/&"
					},
					"AwAAAIsJAAAAAAAAjAkAAAAAAAAAAAAAjAkAAAAAAACNCQAAAAAAAAAAAACNCQAAAAAAAI4JAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiwkAAAAAAACLCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1157,
					3,
					"left_delete",
					null,
					"AwAAAI0JAAAAAAAAjQkAAAAAAAABAAAAJowJAAAAAAAAjAkAAAAAAAABAAAAL4sJAAAAAAAAiwkAAAAAAAABAAAAJg",
					"AQAAAAAAAAABAAAAjgkAAAAAAACOCQAAAAAAAAAAAAAAAPC/"
				],
				[
					1158,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAIsJAAAAAAAAjAkAAAAAAAAAAAAAjAkAAAAAAACNCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiwkAAAAAAACLCQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-write.h",
			"settings":
			{
				"buffer_size": 10215,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "minnet-server-proxy.h",
			"settings":
			{
				"buffer_size": 623,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c",
			"settings":
			{
				"buffer_size": 14937,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "minnet-ringbuffer.h",
			"settings":
			{
				"buffer_size": 1969,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					2,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAAAAAAAAAAAACxBwAAAAAAAAAAAAAAAAAAAAAAALEHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACxBwAAI2lmbmRlZiBNSU5ORVRfUklOR0JVRkZFUl9ICiNkZWZpbmUgTUlOTkVUX1JJTkdCVUZGRVJfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxwdGhyZWFkLmg+Cgp0eXBlZGVmIHN0cnVjdCByaW5nYnVmZmVyIHsKICBzaXplX3QgcmVmX2NvdW50OwogIGNoYXIgdHlwZVsyNTZdOwoKICBzdHJ1Y3QgbHdzX3JpbmcqIHJpbmc7CiAgcHRocmVhZF9tdXRleF90IGxvY2tfcmluZzsgLyogc2VyaWFsaXplIGFjY2VzcyB0byB0aGUgcmluZyBidWZmZXIgKi8KfSBNaW5uZXRSaW5nQnVmZmVyOwoKdm9pZCByaW5nYnVmZmVyX2R1bXAoc3RydWN0IHJpbmdidWZmZXIgY29uc3QqKTsKdm9pZCByaW5nYnVmZmVyX2luaXQoc3RydWN0IHJpbmdidWZmZXIqLCBzaXplX3QsIHNpemVfdCwgY29uc3QgY2hhciogdHlwZSwgc2l6ZV90IHR5cGVsZW4pOwpzdHJ1Y3QgcmluZ2J1ZmZlciogcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCByaW5nYnVmZmVyKiByaW5nYnVmZmVyX25ldzIoc2l6ZV90LCBzaXplX3QsIEpTQ29udGV4dCopOwpzaXplX3QgcmluZ2J1ZmZlcl9pbnNlcnQoc3RydWN0IHJpbmdidWZmZXIqLCBjb25zdCB2b2lkKiwgc2l6ZV90KTsKc2l6ZV90IHJpbmdidWZmZXJfY29uc3VtZShzdHJ1Y3QgcmluZ2J1ZmZlciosIHZvaWQqLCBzaXplX3QpOwpzaXplX3QgcmluZ2J1ZmZlcl9za2lwKHN0cnVjdCByaW5nYnVmZmVyKiwgc2l6ZV90KTsKY29uc3Qgdm9pZCogcmluZ2J1ZmZlcl9uZXh0KHN0cnVjdCByaW5nYnVmZmVyKik7CnNpemVfdCByaW5nYnVmZmVyX3NpemUoc3RydWN0IHJpbmdidWZmZXIqKTsKc2l6ZV90IHJpbmdidWZmZXJfYXZhaWwoc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX3plcm8oc3RydWN0IHJpbmdidWZmZXIqKTsKdm9pZCByaW5nYnVmZmVyX2ZyZWUoc3RydWN0IHJpbmdidWZmZXIqLCBKU1J1bnRpbWUqKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIHNpemVfdCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pOwpKU1ZhbHVlIG1pbm5ldF9yaW5nYnVmZmVyX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IHJpbmdidWZmZXIqKTsKCmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3I7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl9sb2NrKHN0cnVjdCByaW5nYnVmZmVyKiBzdHJtKSB7CiAgcmV0dXJuIHB0aHJlYWRfbXV0ZXhfbG9jaygmc3RybS0+bG9ja19yaW5nKTsKfQoKc3RhdGljIGlubGluZSBpbnQKcmluZ2J1ZmZlcl91bmxvY2soc3RydWN0IHJpbmdidWZmZXIqIHN0cm0pIHsKICByZXR1cm4gcHRocmVhZF9tdXRleF91bmxvY2soJnN0cm0tPmxvY2tfcmluZyk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmluZ0J1ZmZlcioKbWlubmV0X3JpbmdidWZmZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUklOR0JVRkZFUl9IICovCgAAAAAAAAAAsQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-server-http.h",
			"settings":
			{
				"buffer_size": 1734,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					3,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAAAAAAAAAAAAMYGAAAAAAAAAAAAAAAAAAAAAAAAxgYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACWBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACWBQAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACWBQAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGBgAAI2lmbmRlZiBNSU5ORVRfU0VSVkVSX0hUVFBfSAojZGVmaW5lIE1JTk5FVF9TRVJWRVJfSFRUUF9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSAibWlubmV0LmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCnR5cGVkZWYgdW5pb24gaHR0cF92aG9zdF9vcHRpb25zIHsKICBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgbHdzOwogIHN0cnVjdCB7CiAgICB1bmlvbiBodHRwX3Zob3N0X29wdGlvbnMgKm5leHQsICpvcHRpb25zOwogICAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIH07Cgp9IE1pbm5ldFZob3N0T3B0aW9uczsKCnR5cGVkZWYgc3RydWN0IGh0dHBfbW91bnQgewogIHVuaW9uIHsKICAgIHN0cnVjdCB7CiAgICAgIHN0cnVjdCBodHRwX21vdW50KiBuZXh0OwogICAgICBjb25zdCBjaGFyICptbnQsICpvcmcsICpkZWYsICpwcm87CiAgICAgIHVuaW9uIGh0dHBfdmhvc3Rfb3B0aW9ucyAqY2dpZW52LCAqZXh0cmFfbWltZXR5cGVzLCAqaW50ZXJwcmV0OwogICAgfTsKICAgIHN0cnVjdCBsd3NfaHR0cF9tb3VudCBsd3M7CiAgfTsKICBNaW5uZXRDYWxsYmFjayBjYWxsYmFjazsKfSBNaW5uZXRIdHRwTW91bnQ7CgpNaW5uZXRWaG9zdE9wdGlvbnMqIHZob3N0X29wdGlvbnNfY3JlYXRlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKik7Ck1pbm5ldFZob3N0T3B0aW9ucyogdmhvc3Rfb3B0aW9uc19uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoSlNDb250ZXh0KiwgTWlubmV0Vmhvc3RPcHRpb25zKik7CnZvaWQgdmhvc3Rfb3B0aW9uc19mcmVlKEpTQ29udGV4dCosIE1pbm5ldFZob3N0T3B0aW9ucyopOwpNaW5uZXRIdHRwTW91bnQqIG1vdW50X2NyZWF0ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGRlZiwgY29uc3QgY2hhciogcHJvLCBlbnVtIGx3c19tb3VudF9wcm90b2NvbHMgb3JpZ2luX3Byb3RvKTsKTWlubmV0SHR0cE1vdW50KiBtb3VudF9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgaHR0cF9tb3VudCogbW91bnRfZmluZChNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsKc3RydWN0IGh0dHBfbW91bnQqIG1vdW50X2ZpbmRfcyhNaW5uZXRIdHRwTW91bnQqLCBjb25zdCBjaGFyKik7CnZvaWQgbW91bnRfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCBNaW5uZXRIdHRwTW91bnQqKiBtLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cyk7CnZvaWQgbW91bnRfZnJlZShKU0NvbnRleHQqLCBNaW5uZXRIdHRwTW91bnQgY29uc3QqKTsKaW50IGh0dHBfc2VydmVyX3Jlc3BvbmQoc3RydWN0IGx3cyosIE1pbm5ldEJ1ZmZlciosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgSlNDb250ZXh0KiBjdHgpOwppbnQgaHR0cF9zZXJ2ZXJfd3JpdGFibGUoc3RydWN0IGx3cyosIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiwgQk9PTCk7CmludCBodHRwX3NlcnZlcl9jYWxsYmFjayhzdHJ1Y3QgbHdzKiwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucywgdm9pZCosIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCnN0YXRpYyBpbmxpbmUgaW50CmlzX2gyKHN0cnVjdCBsd3MqIHdzaSkgewogIHJldHVybiBsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkgIT0gd3NpOwp9CgojZW5kaWYgLyogTUlOTkVUX1NFUlZFUl9IVFRQX0ggKi8KAAAAAAAAAADGBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACWBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-server.c",
			"settings":
			{
				"buffer_size": 16839,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					7,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABrQQAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJsaWJ3ZWJzb2NrZXRzL3BsdWdpbnMvcmF3LXByb3h5L3Byb3RvY29sX2x3c19yYXdfcHJveHkuYyIKI2luY2x1ZGUgIm1pbm5ldC1wbHVnaW4tYnJva2VyLmMiCgppbnQgcHJveHlfY2FsbGJhY2soc3RydWN0IGx3cyosIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMsIHZvaWQqLCB2b2lkKiwgc2l6ZV90KTsKCnN0YXRpYyBzdHJ1Y3QgbHdzX3Byb3RvY29scyBwcm90b2NvbHNbXSA9IHsKICAgIHsid3MiLCB3c19jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJkZWZwcm90IiwgbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXksIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy13cyIsIGNhbGxiYWNrX3Byb3h5X3dzX3NlcnZlciwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy1yYXciLCBjYWxsYmFja19wcm94eV9yYXdfY2xpZW50LCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIC8vIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICBNSU5ORVRfUExVR0lOX0JST0tFUihicm9rZXIpLAogICAgLy8gTFdTX1BMVUdJTl9QUk9UT0NPTF9SQVdfUFJPWFksCiAgICB7MH0sCn07CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzMltdID0gewogICAgeyJ3cyIsIHdzX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJodHRwIiwgaHR0cF9zZXJ2ZXJfY2FsbGJhY2ssIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7ImRlZnByb3QiLCBkZWZwcm90X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDB9LAogICAgeyJwcm94eS13cy1yYXctd3MiLCBjYWxsYmFja19wcm94eV93c19zZXJ2ZXIsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctcmF3IiwgY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudCwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAvLyAgeyJwcm94eS13cyIsIHByb3h5X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgIC8vICBMV1NfUExVR0lOX1BST1RPQ09MX1JBV19QUk9YWSwKICAgIHswLCAwfSwKfTsKCnN0YXRpYyBjb25zdCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgbW91bnQgPSB7CiAgICAvKiAubW91bnRfbmV4dCAqLyBOVUxMLCAgLyogbGlua2VkLWxpc3QgIm5leHQiICovCiAgICAvKiAubW91bnRwb2ludCAqLyAiLyIsICAgLyogbW91bnRwb2ludCBVUkwgKi8KICAgIC8qIC5vcmlnaW4gKi8gIi4iLCAgICAgICAvKiBzZXJ2ZSBmcm9tIGRpciAqLwogICAgLyogLmRlZiAqLyAiaW5kZXguaHRtbCIsIC8qIGRlZmF1bHQgZmlsZW5hbWUgKi8KICAgIC8qIC5wcm90b2NvbCAqLyBOVUxMLAogICAgLyogLmNnaWVudiAqLyBOVUxMLAogICAgLyogLmV4dHJhX21pbWV0eXBlcyAqLyBOVUxMLAogICAgLyogLmludGVycHJldCAqLyBOVUxMLAogICAgLyogLmNnaV90aW1lb3V0ICovIDAsCiAgICAvKiAuY2FjaGVfbWF4X2FnZSAqLyAwLAogICAgLyogLmF1dGhfbWFzayAqLyAwLAogICAgLyogLmNhY2hlX3JldXNhYmxlICovIDAsCiAgICAvKiAuY2FjaGVfcmV2YWxpZGF0ZSAqLyAwLAogICAgLyogLmNhY2hlX2ludGVybWVkaWFyaWVzICovIDAsCiAgICAvKiAub3JpZ2luX3Byb3RvY29sICovIExXU01QUk9fRklMRSwgLyogZmlsZXMgaW4gYSBkaXIgKi8KICAgIC8qIC5tb3VudHBvaW50X2xlbiAqLyAxLCAgICAgICAgICAgICAvKiBjaGFyIGNvdW50ICovCiAgICAvKiAuYmFzaWNfYXV0aF9sb2dpbl9maWxlICovIE5VTEwsCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19leHRlbnNpb24gZXh0ZW5zaW9uc1tdID0gewogICAgeyJwZXJtZXNzYWdlLWRlZmxhdGUiLAogICAgIGx3c19leHRlbnNpb25fY2FsbGJhY2tfcG1fZGVmbGF0ZSwKICAgICAicGVybWVzc2FnZS1kZWZsYXRlIgogICAgICI7IGNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyIgogICAgICI7IGNsaWVudF9tYXhfd2luZG93X2JpdHMifSwKICAgIHtOVUxMLCBOVUxMLCBOVUxMIC8qIHRlcm1pbmF0b3IgKi99LAp9OwoKc3RhdGljIE1pbm5ldFNlcnZlcioKc2VydmVyX25ldyhKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFNlcnZlciogc2VydmVyOwoKICBpZighKHNlcnZlciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0U2VydmVyKSkpKQogICAgcmV0dXJuICh2b2lkKiktMTsKCiAgc2VydmVyLT5jb250ZXh0LmVycm9yID0gSlNfTlVMTDsKICBzZXJ2ZXItPmNvbnRleHQuanMgPSBjdHg7CiAgc2VydmVyLT5jb250ZXh0LmluZm8gPSAoc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8pey5wcm90b2NvbHMgPSBwcm90b2NvbHMyLCAudXNlciA9IHNlcnZlcn07CgogIHJldHVybiBzZXJ2ZXI7Cn0KCnN0YXRpYyBCT09MCnNlcnZlcl9pbml0KE1pbm5ldFNlcnZlciogc2VydmVyKSB7CiAgaWYoIShzZXJ2ZXItPmNvbnRleHQubHdzID0gbHdzX2NyZWF0ZV9jb250ZXh0KCZzZXJ2ZXItPmNvbnRleHQuaW5mbykpKSB7CiAgICBsd3NsX2VycigibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICBpZighbHdzX2NyZWF0ZV92aG9zdChzZXJ2ZXItPmNvbnRleHQubHdzLCAmc2VydmVyLT5jb250ZXh0LmluZm8pKSB7CiAgICBsd3NsX2VycigiRmFpbGVkIHRvIGNyZWF0ZSB2aG9zdFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICByZXR1cm4gVFJVRTsKfQoKdm9pZApzZXJ2ZXJfZnJlZShNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwoKICBpZigtLXNlcnZlci0+cmVmX2NvdW50ID09IDApIHsKICAgIGpzX3Byb21pc2VfZnJlZShjdHgsICZzZXJ2ZXItPnByb21pc2UpOwoKICAgIGNvbnRleHRfY2xlYXIoJnNlcnZlci0+Y29udGV4dCk7CgogICAganNfZnJlZShjdHgsIHNlcnZlcik7CiAgfQp9Cgp2b2lkCnNlcnZlcl9tb3VudHMoTWlubmV0U2VydmVyKiBzZXJ2ZXIsIEpTVmFsdWVDb25zdCBvcHRfbW91bnRzKSB7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXItPmNvbnRleHQuanM7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmc2VydmVyLT5jb250ZXh0LmluZm87CiAgTWlubmV0SHR0cE1vdW50KiogbSA9ICZpbmZvLT5tb3VudHM7CgogICptID0gMDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9wdF9tb3VudHMpKSB7CiAgICB1aW50MzJfdCBpOwogICAgZm9yKGkgPSAwOzsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTVmFsdWUgbW91bnR2YWwgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9wdF9tb3VudHMsIGkpOwogICAgICBpZihKU19Jc1VuZGVmaW5lZChtb3VudHZhbCkpCiAgICAgICAgYnJlYWs7CiAgICAgIG1vdW50ID0gbW91bnRfbmV3KGN0eCwgbW91bnR2YWwsIDApOwogICAgICBtb3VudC0+ZXh0cmFfbWltZXR5cGVzID0gc2VydmVyLT5taW1ldHlwZXM7CiAgICAgIG1vdW50LT5wcm8gPSAiaHR0cCI7CiAgICAgIEFERChtLCBtb3VudCwgbmV4dCk7CiAgICB9CiAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KG9wdF9tb3VudHMpKSB7CiAgICBKU1Byb3BlcnR5RW51bSogdG1wX3RhYjsKICAgIHVpbnQzMl90IGksIHRtcF9sZW4gPSAwOwogICAgSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0bXBfdGFiLCAmdG1wX2xlbiwgb3B0X21vdW50cywgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyk7CgogICAgZm9yKGkgPSAwOyBpIDwgdG1wX2xlbjsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTQXRvbSBwcm9wID0gdG1wX3RhYltpXS5hdG9tOwogICAgICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIHByb3ApOwogICAgICBKU1ZhbHVlIG1vdW50dmFsID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvcHRfbW91bnRzLCBwcm9wKTsKICAgICAgbW91bnQgPSBtb3VudF9uZXcoY3R4LCBtb3VudHZhbCwgbmFtZSk7CiAgICAgIG1vdW50LT5leHRyYV9taW1ldHlwZXMgPSBzZXJ2ZXItPm1pbWV0eXBlczsKICAgICAgbW91bnQtPnBybyA9ICJodHRwIjsKICAgICAgQUREKG0sIG1vdW50LCBuZXh0KTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgIH0KICB9Cn0KCnZvaWQKc2VydmVyX2NlcnRpZmljYXRlKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmY29udGV4dC0+aW5mbzsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBjb250ZXh0LT5jcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbFByaXZhdGVLZXkiKTsKICBjb250ZXh0LT5jYSA9IEpTX0dldFByb3BlcnR5U3RyKGNvbnRleHQtPmpzLCBvcHRpb25zLCAic3NsQ0EiKTsKCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y3J0KSkgewogICAgaW5mby0+c3NsX2NlcnRfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNydCk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgZmlsZTogJXNcbiIsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbiwgY29udGV4dC0+Y3J0KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0sIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW1fbGVuKTsKICB9CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpIHsKICAgIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+a2V5KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBwcml2YXRlIGtleSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIHByaXZhdGUga2V5IG1lbW9yeTogJXAgWyV1XVxuIiwgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0sIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpIHsKICAgIGluZm8tPnNzbF9jYV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+Y2EpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIENBIGNlcnRpZmljYXRlIGZpbGU6ICVzXG4iLCBpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIH0gZWxzZSB7CiAgICBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4sIGNvbnRleHQtPmNhKTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4pOwogIH0KfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3NlcnZlcl9oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfdGltZW91dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IHB0cjsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiB0aW1lciA9IHNlcnZlci0+Y29udGV4dC50aW1lcjsKCiAgaWYodGltZXIpIHsKICAgIHByaW50ZigidGltZW91dCAlIiBQUkl1MzIgIlxuIiwgdGltZXItPmludGVydmFsKTsKICAgIHVpbnQzMl90IG5ld19pbnRlcnZhbDsKCiAgICBkbyB7CiAgICAgIG5ld19pbnRlcnZhbCA9IGx3c19zZXJ2aWNlX2FkanVzdF90aW1lb3V0KHNlcnZlci0+Y29udGV4dC5sd3MsIDE1MDAwLCAwKTsKICAgICAgcHJpbnRmKCJuZXdfaW50ZXJ2YWwgJSIgUFJJdTMyICJcbiIsIG5ld19pbnRlcnZhbCk7CgogICAgICBpZihuZXdfaW50ZXJ2YWwgPT0gMCkKICAgICAgICBsd3Nfc2VydmljZV90c2koc2VydmVyLT5jb250ZXh0Lmx3cywgLTEsIDApOwogICAgfSB3aGlsZShuZXdfaW50ZXJ2YWwgPT0gMCk7CgogICAgdGltZXItPmludGVydmFsID0gbmV3X2ludGVydmFsOwoKICAgIGpzX3RpbWVyX3Jlc3RhcnQodGltZXIpOwoKICAgIHJldHVybiBKU19GQUxTRTsKICB9CiAgcHJpbnRmKCJ0aW1lb3V0ICVzICVzXG4iLCBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKSwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlthcmdjIC0gMV0pKTsKCiAgcmV0dXJuIEpTX1RSVUU7Cn0KCkpTVmFsdWUKbWlubmV0X3NlcnZlcl9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBhID0gMDsKICBCT09MIGJsb2NrID0gVFJVRSwgaXNfdGxzID0gRkFMU0UsIGlzX2gyID0gVFJVRTsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKICBNaW5uZXRVUkwgdXJsID0gezB9OwogIEpTVmFsdWUgcmV0LCBvcHRpb25zOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvOwoKICBpZigoc2VydmVyID0gc2VydmVyX25ldyhjdHgpKSA9PSAodm9pZCopLTEpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIGlmKCFzZXJ2ZXIpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImx3cyBpbml0IGZhaWxlZCIpOwoKICBpZihwdHIpIHsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+c2VydmVyID0gc2VydmVyOwogICAgKChNaW5uZXRDbG9zdXJlKilwdHIpLT5mcmVlX2Z1bmMgPSAmc2VydmVyX2ZyZWU7CiAgfQoKICBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwoKICByZXQgPSBKU19OZXdJbnQzMihjdHgsIDApOwogIG9wdGlvbnMgPSBhcmd2WzBdOwoKICBpZihhcmdjID49IDIgJiYgSlNfSXNTdHJpbmcoYXJndlthcmdpbmRdKSkgewogICAgY29uc3QgY2hhciogc3RyOwogICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSkpKSB7CiAgICAgIHVybF9wYXJzZSgmdXJsLCBzdHIsIGN0eCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgIH0KICAgIGFyZ2luZCsrOwogIH0KCiAgb3B0aW9ucyA9IGFyZ3ZbYXJnaW5kXTsKCiAgaWYoIUpTX0lzT2JqZWN0KG9wdGlvbnMpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50ICVkIG11c3QgYmUgb3B0aW9ucyBvYmplY3QiLCBhcmdpbmQgKyAxKTsKCiAgSlNWYWx1ZSBvcHRfcG9ydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBvcnQiKTsKICBKU1ZhbHVlIG9wdF9ob3N0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaG9zdCIpOwogIEpTVmFsdWUgb3B0X3Byb3RvY29sID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAicHJvdG9jb2wiKTsKICBKU1ZhbHVlIG9wdF90bHMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ0bHMiKTsKICBKU1ZhbHVlIG9wdF9vbl9wb25nID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25Qb25nIik7CiAgSlNWYWx1ZSBvcHRfb25fY2xvc2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkNsb3NlIik7CiAgSlNWYWx1ZSBvcHRfb25fY29ubmVjdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uQ29ubmVjdCIpOwogIEpTVmFsdWUgb3B0X29uX21lc3NhZ2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbk1lc3NhZ2UiKTsKICBKU1ZhbHVlIG9wdF9vbl9mZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uRmQiKTsKICBKU1ZhbHVlIG9wdF9vbl9odHRwID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25IdHRwIik7CiAgSlNWYWx1ZSBvcHRfbW91bnRzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibW91bnRzIik7CiAgSlNWYWx1ZSBvcHRfbWltZXR5cGVzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWltZXR5cGVzIik7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfdGxzKSkgewoKICAgIGlzX3RscyA9IEpTX1RvQm9vbChjdHgsIG9wdF90bHMpOwogICAgLy8gcHJpbnRmKCJpc190bHMgPSAlZFxuIiwgaXNfdGxzKTsKICB9CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfcG9ydCkpIHsKICAgIGludDMyX3QgcG9ydDsKICAgIEpTX1RvSW50MzIoY3R4LCAmcG9ydCwgb3B0X3BvcnQpOwogICAgdXJsLnBvcnQgPSBwb3J0OwogIH0KCiAgaWYoSlNfSXNTdHJpbmcob3B0X2hvc3QpKQogICAganNfcmVwbGFjZV9zdHJpbmcoY3R4LCBvcHRfaG9zdCwgJnVybC5ob3N0KTsKICBpZihKU19Jc1N0cmluZyhvcHRfcHJvdG9jb2wpKSB7CiAgICBjb25zdCBjaGFyKiBwcm90b2NvbDsKCiAgICBpZigocHJvdG9jb2wgPSBKU19Ub0NTdHJpbmcoY3R4LCBvcHRfcHJvdG9jb2wpKSkgewogICAgICB1cmxfc2V0X3Byb3RvY29sKCZ1cmwsIHByb3RvY29sKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgICB9CiAgfQoKICBKU1ZhbHVlIG9wdF9ibG9jayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKG9wdF9ibG9jaykpCiAgICBibG9jayA9IEpTX1RvQm9vbChjdHgsIG9wdF9ibG9jayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb3B0X2Jsb2NrKTsKCiAgSlNWYWx1ZSBvcHRfaDIgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoMiIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfaDIpKQogICAgaXNfaDIgPSBKU19Ub0Jvb2woY3R4LCBvcHRfaDIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9oMik7CgogIEdFVENCKG9wdF9vbl9wb25nLCBzZXJ2ZXItPmNiLnBvbmcpCiAgR0VUQ0Iob3B0X29uX2Nsb3NlLCBzZXJ2ZXItPmNiLmNsb3NlKQogIEdFVENCKG9wdF9vbl9jb25uZWN0LCBzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgR0VUQ0Iob3B0X29uX21lc3NhZ2UsIHNlcnZlci0+Y2IubWVzc2FnZSkKICBHRVRDQihvcHRfb25fZmQsIHNlcnZlci0+Y2IuZmQpCiAgR0VUQ0Iob3B0X29uX2h0dHAsIHNlcnZlci0+Y2IuaHR0cCkKCiAgZm9yKGludCBpID0gMDsgaSA8IGNvdW50b2YocHJvdG9jb2xzKTsgaSsrKSBwcm90b2NvbHNbaV0udXNlciA9IGN0eDsKCiAgaW5mby0+cHJvdG9jb2xzID0gcHJvdG9jb2xzMjsKICBpbmZvLT5tb3VudHMgPSAmbW91bnQ7CiAgaW5mby0+dmhvc3RfbmFtZSA9IHVybF9mb3JtYXQoKE1pbm5ldFVSTCl7Lmhvc3QgPSB1cmwuaG9zdCwgLnBvcnQgPSB1cmwucG9ydH0sIGN0eCk7CiAgaW5mby0+ZXJyb3JfZG9jdW1lbnRfNDA0ID0gIi80MDQuaHRtbCI7CiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPnRpbWVvdXRfc2VjcyA9IDA7CgogIGlmKGlzX3RscykgewogICAgc2VydmVyX2NlcnRpZmljYXRlKCZzZXJ2ZXItPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9QRUVSX0NFUlRfTk9UX1JFUVVJUkVEOwogICAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9SRURJUkVDVF9IVFRQX1RPX0hUVFBTOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19IVFRQX09OX0hUVFBTX0xJU1RFTkVSOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19OT05fU1NMX09OX1NTTF9QT1JUOwogIH0KCiAgaWYoaXNfaDIpIHsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fSDJfSlVTVF9GSVhfV0lORE9XX1VQREFURV9PVkVSRkxPVzsKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fVkhfSDJfSEFMRl9DTE9TRURfTE9OR19QT0xMOwogIH0KICAvLyBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0hUVFBfSEVBREVSU19TRUNVUklUWV9CRVNUX1BSQUNUSUNFU19FTkZPUkNFOwoKICBpZihKU19Jc0FycmF5KGN0eCwgb3B0X21pbWV0eXBlcykpIHsKICAgIE1pbm5ldFZob3N0T3B0aW9ucyAqdm9wdHMsICoqdm9wID0gJnNlcnZlci0+bWltZXR5cGVzOwogICAgdWludDMyX3QgaTsKICAgIGZvcihpID0gMDs7IGkrKykgewogICAgICBKU1ZhbHVlIG1pbWV0eXBlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvcHRfbWltZXR5cGVzLCBpKTsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQobWltZXR5cGUpKQogICAgICAgIGJyZWFrOwogICAgICB2b3B0cyA9IHZob3N0X29wdGlvbnNfbmV3KGN0eCwgbWltZXR5cGUpOwogICAgICBBREQodm9wLCB2b3B0cywgbmV4dCk7CiAgICB9CiAgfQoKICB7CiAgICBNaW5uZXRWaG9zdE9wdGlvbnMqIHB2bzsKCiAgICBmb3IocHZvID0gc2VydmVyLT5taW1ldHlwZXM7IHB2bzsgcHZvID0gcHZvLT5uZXh0KSB7CiAgICAgIC8vIHByaW50ZigicHZvIG1pbWV0eXBlICVzICVzXG4iLCBwdm8tPm5hbWUsIHB2by0+dmFsdWUpOwogICAgfQogIH0KCiAgLy8gaW5mby0+bW91bnRzID0gMDsKCiAgc2VydmVyX21vdW50cyhzZXJ2ZXIsIG9wdF9tb3VudHMpOwoKICBpZighc2VydmVyX2luaXQoc2VydmVyKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZCIpOwoKICBKU1ZhbHVlIHRpbWVyX2NiID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBtaW5uZXRfc2VydmVyX3RpbWVvdXQsIDAsIDAsIHNlcnZlciwgMCk7CiAgdWludDMyX3QgaW50ZXJ2YWwgPSBsd3Nfc2VydmljZV9hZGp1c3RfdGltZW91dChzZXJ2ZXItPmNvbnRleHQubHdzLCAxNTAwMCwgMCk7CiAgaWYoaW50ZXJ2YWwgPT0gMCkKICAgIGludGVydmFsID0gMTA7CiAgc2VydmVyLT5jb250ZXh0LnRpbWVyID0ganNfdGltZXJfaW50ZXJ2YWwoY3R4LCB0aW1lcl9jYiwgaW50ZXJ2YWwpOwoKICBpZighYmxvY2spCiAgICByZXR1cm4gcmV0OwoKICB3aGlsZShhID49IDApIHsKICAgIGlmKCFKU19Jc051bGwoc2VydmVyLT5jb250ZXh0LmVycm9yKSkgewogICAgICByZXQgPSBKU19UaHJvdyhjdHgsIHNlcnZlci0+Y29udGV4dC5lcnJvcik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KQogICAgICBqc19zdGRfbG9vcChjdHgpOwogICAgZWxzZQogICAgICBhID0gbHdzX3NlcnZpY2Uoc2VydmVyLT5jb250ZXh0Lmx3cywgMjApOwogIH0KCiAgLy8gbHdzX2NvbnRleHRfZGVzdHJveShzZXJ2ZXItPmNvbnRleHQubHdzKTsKCiAgaWYoc2VydmVyLT5taW1ldHlwZXMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHNlcnZlci0+bWltZXR5cGVzKTsKCiAgaWYoaW5mby0+bW91bnRzKSB7CiAgICBjb25zdCBNaW5uZXRIdHRwTW91bnQgKm1vdW50LCAqbmV4dDsKCiAgICBmb3IobW91bnQgPSAoTWlubmV0SHR0cE1vdW50KilpbmZvLT5tb3VudHM7IG1vdW50OyBtb3VudCA9IG5leHQpIHsKICAgICAgbmV4dCA9IChNaW5uZXRIdHRwTW91bnQqKW1vdW50LT5sd3MubW91bnRfbmV4dDsKICAgICAgbW91bnRfZnJlZShjdHgsIG1vdW50KTsKICAgIH0KICB9CgogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW0pOwogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtKTsKICBpZihpbmZvLT5zc2xfY2FfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogIC8qanNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5rZXksIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jcnQsIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jYSwgY3R4KTsqLwoKICAvKiBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKCiAgIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogICBqc19mcmVlKGN0eCwgKHZvaWQqKWluZm8tPnZob3N0X25hbWUpOwogKi8KICBGUkVFQ0Ioc2VydmVyLT5jYi5wb25nKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNsb3NlKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgRlJFRUNCKHNlcnZlci0+Y2IubWVzc2FnZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5mZCkKICBGUkVFQ0Ioc2VydmVyLT5jYi5odHRwKQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzdHJ1Y3QgY2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfc2VydmVyX2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZtaW5uZXRfc2VydmVyX2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCmludApkZWZwcm90X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSAvKnNlc3Npb24gPyBzZXNzaW9uLT5zZXJ2ZXIgOiovIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwoKICAvLyBpZighbHdzX2lzX3BvbGxfY2FsbGJhY2socmVhc29uKSkgcHJpbnRmKCJkZWZwcm90X2NhbGxiYWNrICVzICVwICVwICV6dVxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSwgdXNlciwgaW4sIGxlbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0xPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1VOTE9DS19QT0xMOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQ6IHsKICAgICAgc3RydWN0IGx3c19wb2xsYXJncyogYXJncyA9IGluOwogICAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkgewogICAgICAgIEpTVmFsdWUgYXJndlszXSA9IHtKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpfTsKICAgICAgICBtaW5uZXRfaGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7CiAgICAgICAgICAgIEpTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCksCiAgICAgICAgfTsKICAgICAgICBtaW5uZXRfaGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NIQU5HRV9NT0RFX1BPTExfRkQ6IHsKICAgICAgc3RydWN0IGx3c19wb2xsYXJncyogYXJncyA9IGluOwogICAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkgewogICAgICAgIGlmKGFyZ3MtPmV2ZW50cyAhPSBhcmdzLT5wcmV2X2V2ZW50cykgewogICAgICAgICAgSlNWYWx1ZSBhcmd2WzNdID0ge0pTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCl9OwogICAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlswXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfQoKICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAQ0IAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWAEAAAAAAABbAQAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"insert",
					{
						"characters": "opaque"
					},
					"BgAAAII6AAAAAAAAgzoAAAAAAAAAAAAAgzoAAAAAAACEOgAAAAAAAAAAAACEOgAAAAAAAIU6AAAAAAAAAAAAAIU6AAAAAAAAhjoAAAAAAAAAAAAAhjoAAAAAAACHOgAAAAAAAAAAAACHOgAAAAAAAIg6AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgjoAAAAAAACCOgAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAIg6AAAAAAAAiToAAAAAAAAAAAAAiToAAAAAAACKOgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiDoAAAAAAACIOgAAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"insert",
					{
						"characters": " lws_opauq"
					},
					"CgAAAIo6AAAAAAAAizoAAAAAAAAAAAAAizoAAAAAAACMOgAAAAAAAAAAAACMOgAAAAAAAI06AAAAAAAAAAAAAI06AAAAAAAAjjoAAAAAAAAAAAAAjjoAAAAAAACPOgAAAAAAAAAAAACPOgAAAAAAAJA6AAAAAAAAAAAAAJA6AAAAAAAAkToAAAAAAAAAAAAAkToAAAAAAACSOgAAAAAAAAAAAACSOgAAAAAAAJM6AAAAAAAAAAAAAJM6AAAAAAAAlDoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAijoAAAAAAACKOgAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					2,
					"left_delete",
					null,
					"AgAAAJM6AAAAAAAAkzoAAAAAAAABAAAAcZI6AAAAAAAAkjoAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAAlDoAAAAAAACUOgAAAAAAAAAAAAAAAPC/"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "que"
					},
					"AwAAAJI6AAAAAAAAkzoAAAAAAAAAAAAAkzoAAAAAAACUOgAAAAAAAAAAAACUOgAAAAAAAJU6AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkjoAAAAAAACSOgAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					11,
					"right_delete",
					null,
					"CwAAAJU6AAAAAAAAlToAAAAAAAABAAAAd5U6AAAAAAAAlToAAAAAAAABAAAAc5U6AAAAAAAAlToAAAAAAAABAAAAX5U6AAAAAAAAlToAAAAAAAABAAAAZpU6AAAAAAAAlToAAAAAAAABAAAAcpU6AAAAAAAAlToAAAAAAAABAAAAb5U6AAAAAAAAlToAAAAAAAABAAAAbZU6AAAAAAAAlToAAAAAAAABAAAAd5U6AAAAAAAAlToAAAAAAAABAAAAc5U6AAAAAAAAlToAAAAAAAABAAAAaZU6AAAAAAAAlToAAAAAAAABAAAAKA",
					"AQAAAAAAAAABAAAAlToAAAAAAACVOgAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAJU6AAAAAAAAljoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlToAAAAAAACVOgAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"cut",
					null,
					"AQAAAK46AAAAAAAArjoAAAAAAAAsAAAAb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgICA",
					"AQAAAAAAAAABAAAArjoAAAAAAADaOgAAAAAAAAAAAAAAAERA"
				],
				[
					73,
					1,
					"paste",
					null,
					"AgAAAFU6AAAAAAAAUTsAAAAAAAAAAAAAUTsAAAAAAABROwAAAAAAAG0AAAAgIGlmKCFvcGFxdWUgJiYgd3NpICYmIHNlc3Npb24gJiYgY3R4KSB7CiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY3R4KTsKICAgIGFzc2VydChvcGFxdWUpOwogIH0K",
					"AQAAAAAAAAABAAAAVToAAAAAAADCOgAAAAAAAAAAAAAAAAAA"
				],
				[
					78,
					1,
					"left_delete",
					null,
					"AQAAAFQ6AAAAAAAAVDoAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAVToAAAAAAABVOgAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACuQgAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJsaWJ3ZWJzb2NrZXRzL3BsdWdpbnMvcmF3LXByb3h5L3Byb3RvY29sX2x3c19yYXdfcHJveHkuYyIKI2luY2x1ZGUgIm1pbm5ldC1wbHVnaW4tYnJva2VyLmMiCgppbnQgcHJveHlfY2FsbGJhY2soc3RydWN0IGx3cyosIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMsIHZvaWQqLCB2b2lkKiwgc2l6ZV90KTsKCnN0YXRpYyBzdHJ1Y3QgbHdzX3Byb3RvY29scyBwcm90b2NvbHNbXSA9IHsKICAgIHsid3MiLCB3c19jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJkZWZwcm90IiwgbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXksIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy13cyIsIGNhbGxiYWNrX3Byb3h5X3dzX3NlcnZlciwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy1yYXciLCBjYWxsYmFja19wcm94eV9yYXdfY2xpZW50LCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIC8vIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICBNSU5ORVRfUExVR0lOX0JST0tFUihicm9rZXIpLAogICAgLy8gTFdTX1BMVUdJTl9QUk9UT0NPTF9SQVdfUFJPWFksCiAgICB7MH0sCn07CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzMltdID0gewogICAgeyJ3cyIsIHdzX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJodHRwIiwgaHR0cF9zZXJ2ZXJfY2FsbGJhY2ssIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7ImRlZnByb3QiLCBkZWZwcm90X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDB9LAogICAgeyJwcm94eS13cy1yYXctd3MiLCBjYWxsYmFja19wcm94eV93c19zZXJ2ZXIsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctcmF3IiwgY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudCwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAvLyAgeyJwcm94eS13cyIsIHByb3h5X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgIC8vICBMV1NfUExVR0lOX1BST1RPQ09MX1JBV19QUk9YWSwKICAgIHswLCAwfSwKfTsKCnN0YXRpYyBjb25zdCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgbW91bnQgPSB7CiAgICAvKiAubW91bnRfbmV4dCAqLyBOVUxMLCAgLyogbGlua2VkLWxpc3QgIm5leHQiICovCiAgICAvKiAubW91bnRwb2ludCAqLyAiLyIsICAgLyogbW91bnRwb2ludCBVUkwgKi8KICAgIC8qIC5vcmlnaW4gKi8gIi4iLCAgICAgICAvKiBzZXJ2ZSBmcm9tIGRpciAqLwogICAgLyogLmRlZiAqLyAiaW5kZXguaHRtbCIsIC8qIGRlZmF1bHQgZmlsZW5hbWUgKi8KICAgIC8qIC5wcm90b2NvbCAqLyBOVUxMLAogICAgLyogLmNnaWVudiAqLyBOVUxMLAogICAgLyogLmV4dHJhX21pbWV0eXBlcyAqLyBOVUxMLAogICAgLyogLmludGVycHJldCAqLyBOVUxMLAogICAgLyogLmNnaV90aW1lb3V0ICovIDAsCiAgICAvKiAuY2FjaGVfbWF4X2FnZSAqLyAwLAogICAgLyogLmF1dGhfbWFzayAqLyAwLAogICAgLyogLmNhY2hlX3JldXNhYmxlICovIDAsCiAgICAvKiAuY2FjaGVfcmV2YWxpZGF0ZSAqLyAwLAogICAgLyogLmNhY2hlX2ludGVybWVkaWFyaWVzICovIDAsCiAgICAvKiAub3JpZ2luX3Byb3RvY29sICovIExXU01QUk9fRklMRSwgLyogZmlsZXMgaW4gYSBkaXIgKi8KICAgIC8qIC5tb3VudHBvaW50X2xlbiAqLyAxLCAgICAgICAgICAgICAvKiBjaGFyIGNvdW50ICovCiAgICAvKiAuYmFzaWNfYXV0aF9sb2dpbl9maWxlICovIE5VTEwsCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19leHRlbnNpb24gZXh0ZW5zaW9uc1tdID0gewogICAgeyJwZXJtZXNzYWdlLWRlZmxhdGUiLAogICAgIGx3c19leHRlbnNpb25fY2FsbGJhY2tfcG1fZGVmbGF0ZSwKICAgICAicGVybWVzc2FnZS1kZWZsYXRlIgogICAgICI7IGNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyIgogICAgICI7IGNsaWVudF9tYXhfd2luZG93X2JpdHMifSwKICAgIHtOVUxMLCBOVUxMLCBOVUxMIC8qIHRlcm1pbmF0b3IgKi99LAp9OwoKc3RhdGljIE1pbm5ldFNlcnZlcioKc2VydmVyX25ldyhKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFNlcnZlciogc2VydmVyOwoKICBpZighKHNlcnZlciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0U2VydmVyKSkpKQogICAgcmV0dXJuICh2b2lkKiktMTsKCiAgc2VydmVyLT5jb250ZXh0LmVycm9yID0gSlNfTlVMTDsKICBzZXJ2ZXItPmNvbnRleHQuanMgPSBjdHg7CiAgc2VydmVyLT5jb250ZXh0LmluZm8gPSAoc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8pey5wcm90b2NvbHMgPSBwcm90b2NvbHMyLCAudXNlciA9IHNlcnZlcn07CgogIHJldHVybiBzZXJ2ZXI7Cn0KCnN0YXRpYyBCT09MCnNlcnZlcl9pbml0KE1pbm5ldFNlcnZlciogc2VydmVyKSB7CiAgaWYoIShzZXJ2ZXItPmNvbnRleHQubHdzID0gbHdzX2NyZWF0ZV9jb250ZXh0KCZzZXJ2ZXItPmNvbnRleHQuaW5mbykpKSB7CiAgICBsd3NsX2VycigibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICBpZighbHdzX2NyZWF0ZV92aG9zdChzZXJ2ZXItPmNvbnRleHQubHdzLCAmc2VydmVyLT5jb250ZXh0LmluZm8pKSB7CiAgICBsd3NsX2VycigiRmFpbGVkIHRvIGNyZWF0ZSB2aG9zdFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICByZXR1cm4gVFJVRTsKfQoKdm9pZApzZXJ2ZXJfZnJlZShNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwoKICBpZigtLXNlcnZlci0+cmVmX2NvdW50ID09IDApIHsKICAgIGpzX3Byb21pc2VfZnJlZShjdHgsICZzZXJ2ZXItPnByb21pc2UpOwoKICAgIGNvbnRleHRfY2xlYXIoJnNlcnZlci0+Y29udGV4dCk7CgogICAganNfZnJlZShjdHgsIHNlcnZlcik7CiAgfQp9Cgp2b2lkCnNlcnZlcl9tb3VudHMoTWlubmV0U2VydmVyKiBzZXJ2ZXIsIEpTVmFsdWVDb25zdCBvcHRfbW91bnRzKSB7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXItPmNvbnRleHQuanM7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmc2VydmVyLT5jb250ZXh0LmluZm87CiAgTWlubmV0SHR0cE1vdW50KiogbSA9ICZpbmZvLT5tb3VudHM7CgogICptID0gMDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9wdF9tb3VudHMpKSB7CiAgICB1aW50MzJfdCBpOwogICAgZm9yKGkgPSAwOzsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTVmFsdWUgbW91bnR2YWwgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9wdF9tb3VudHMsIGkpOwogICAgICBpZihKU19Jc1VuZGVmaW5lZChtb3VudHZhbCkpCiAgICAgICAgYnJlYWs7CiAgICAgIG1vdW50ID0gbW91bnRfbmV3KGN0eCwgbW91bnR2YWwsIDApOwogICAgICBtb3VudC0+ZXh0cmFfbWltZXR5cGVzID0gc2VydmVyLT5taW1ldHlwZXM7CiAgICAgIG1vdW50LT5wcm8gPSAiaHR0cCI7CiAgICAgIEFERChtLCBtb3VudCwgbmV4dCk7CiAgICB9CiAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KG9wdF9tb3VudHMpKSB7CiAgICBKU1Byb3BlcnR5RW51bSogdG1wX3RhYjsKICAgIHVpbnQzMl90IGksIHRtcF9sZW4gPSAwOwogICAgSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0bXBfdGFiLCAmdG1wX2xlbiwgb3B0X21vdW50cywgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyk7CgogICAgZm9yKGkgPSAwOyBpIDwgdG1wX2xlbjsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTQXRvbSBwcm9wID0gdG1wX3RhYltpXS5hdG9tOwogICAgICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIHByb3ApOwogICAgICBKU1ZhbHVlIG1vdW50dmFsID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvcHRfbW91bnRzLCBwcm9wKTsKICAgICAgbW91bnQgPSBtb3VudF9uZXcoY3R4LCBtb3VudHZhbCwgbmFtZSk7CiAgICAgIG1vdW50LT5leHRyYV9taW1ldHlwZXMgPSBzZXJ2ZXItPm1pbWV0eXBlczsKICAgICAgbW91bnQtPnBybyA9ICJodHRwIjsKICAgICAgQUREKG0sIG1vdW50LCBuZXh0KTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgIH0KICB9Cn0KCnZvaWQKc2VydmVyX2NlcnRpZmljYXRlKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmY29udGV4dC0+aW5mbzsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBjb250ZXh0LT5jcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbFByaXZhdGVLZXkiKTsKICBjb250ZXh0LT5jYSA9IEpTX0dldFByb3BlcnR5U3RyKGNvbnRleHQtPmpzLCBvcHRpb25zLCAic3NsQ0EiKTsKCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y3J0KSkgewogICAgaW5mby0+c3NsX2NlcnRfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNydCk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgZmlsZTogJXNcbiIsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbiwgY29udGV4dC0+Y3J0KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0sIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW1fbGVuKTsKICB9CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpIHsKICAgIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+a2V5KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBwcml2YXRlIGtleSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIHByaXZhdGUga2V5IG1lbW9yeTogJXAgWyV1XVxuIiwgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0sIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpIHsKICAgIGluZm8tPnNzbF9jYV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+Y2EpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIENBIGNlcnRpZmljYXRlIGZpbGU6ICVzXG4iLCBpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIH0gZWxzZSB7CiAgICBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4sIGNvbnRleHQtPmNhKTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4pOwogIH0KfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3NlcnZlcl9oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfdGltZW91dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IHB0cjsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiB0aW1lciA9IHNlcnZlci0+Y29udGV4dC50aW1lcjsKCiAgaWYodGltZXIpIHsKICAgIHByaW50ZigidGltZW91dCAlIiBQUkl1MzIgIlxuIiwgdGltZXItPmludGVydmFsKTsKICAgIHVpbnQzMl90IG5ld19pbnRlcnZhbDsKCiAgICBkbyB7CiAgICAgIG5ld19pbnRlcnZhbCA9IGx3c19zZXJ2aWNlX2FkanVzdF90aW1lb3V0KHNlcnZlci0+Y29udGV4dC5sd3MsIDE1MDAwLCAwKTsKICAgICAgcHJpbnRmKCJuZXdfaW50ZXJ2YWwgJSIgUFJJdTMyICJcbiIsIG5ld19pbnRlcnZhbCk7CgogICAgICBpZihuZXdfaW50ZXJ2YWwgPT0gMCkKICAgICAgICBsd3Nfc2VydmljZV90c2koc2VydmVyLT5jb250ZXh0Lmx3cywgLTEsIDApOwogICAgfSB3aGlsZShuZXdfaW50ZXJ2YWwgPT0gMCk7CgogICAgdGltZXItPmludGVydmFsID0gbmV3X2ludGVydmFsOwoKICAgIGpzX3RpbWVyX3Jlc3RhcnQodGltZXIpOwoKICAgIHJldHVybiBKU19GQUxTRTsKICB9CiAgcHJpbnRmKCJ0aW1lb3V0ICVzICVzXG4iLCBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKSwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlthcmdjIC0gMV0pKTsKCiAgcmV0dXJuIEpTX1RSVUU7Cn0KCkpTVmFsdWUKbWlubmV0X3NlcnZlcl9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBhID0gMDsKICBCT09MIGJsb2NrID0gVFJVRSwgaXNfdGxzID0gRkFMU0UsIGlzX2gyID0gVFJVRTsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKICBNaW5uZXRVUkwgdXJsID0gezB9OwogIEpTVmFsdWUgcmV0LCBvcHRpb25zOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvOwoKICBpZigoc2VydmVyID0gc2VydmVyX25ldyhjdHgpKSA9PSAodm9pZCopLTEpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIGlmKCFzZXJ2ZXIpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImx3cyBpbml0IGZhaWxlZCIpOwoKICBpZihwdHIpIHsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+c2VydmVyID0gc2VydmVyOwogICAgKChNaW5uZXRDbG9zdXJlKilwdHIpLT5mcmVlX2Z1bmMgPSAmc2VydmVyX2ZyZWU7CiAgfQoKICBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwoKICByZXQgPSBKU19OZXdJbnQzMihjdHgsIDApOwogIG9wdGlvbnMgPSBhcmd2WzBdOwoKICBpZihhcmdjID49IDIgJiYgSlNfSXNTdHJpbmcoYXJndlthcmdpbmRdKSkgewogICAgY29uc3QgY2hhciogc3RyOwogICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSkpKSB7CiAgICAgIHVybF9wYXJzZSgmdXJsLCBzdHIsIGN0eCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgIH0KICAgIGFyZ2luZCsrOwogIH0KCiAgb3B0aW9ucyA9IGFyZ3ZbYXJnaW5kXTsKCiAgaWYoIUpTX0lzT2JqZWN0KG9wdGlvbnMpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50ICVkIG11c3QgYmUgb3B0aW9ucyBvYmplY3QiLCBhcmdpbmQgKyAxKTsKCiAgSlNWYWx1ZSBvcHRfcG9ydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBvcnQiKTsKICBKU1ZhbHVlIG9wdF9ob3N0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaG9zdCIpOwogIEpTVmFsdWUgb3B0X3Byb3RvY29sID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAicHJvdG9jb2wiKTsKICBKU1ZhbHVlIG9wdF90bHMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ0bHMiKTsKICBKU1ZhbHVlIG9wdF9vbl9wb25nID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25Qb25nIik7CiAgSlNWYWx1ZSBvcHRfb25fY2xvc2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkNsb3NlIik7CiAgSlNWYWx1ZSBvcHRfb25fY29ubmVjdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uQ29ubmVjdCIpOwogIEpTVmFsdWUgb3B0X29uX21lc3NhZ2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbk1lc3NhZ2UiKTsKICBKU1ZhbHVlIG9wdF9vbl9mZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uRmQiKTsKICBKU1ZhbHVlIG9wdF9vbl9odHRwID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25IdHRwIik7CiAgSlNWYWx1ZSBvcHRfbW91bnRzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibW91bnRzIik7CiAgSlNWYWx1ZSBvcHRfbWltZXR5cGVzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWltZXR5cGVzIik7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfdGxzKSkgewoKICAgIGlzX3RscyA9IEpTX1RvQm9vbChjdHgsIG9wdF90bHMpOwogICAgLy8gcHJpbnRmKCJpc190bHMgPSAlZFxuIiwgaXNfdGxzKTsKICB9CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfcG9ydCkpIHsKICAgIGludDMyX3QgcG9ydDsKICAgIEpTX1RvSW50MzIoY3R4LCAmcG9ydCwgb3B0X3BvcnQpOwogICAgdXJsLnBvcnQgPSBwb3J0OwogIH0KCiAgaWYoSlNfSXNTdHJpbmcob3B0X2hvc3QpKQogICAganNfcmVwbGFjZV9zdHJpbmcoY3R4LCBvcHRfaG9zdCwgJnVybC5ob3N0KTsKICBpZihKU19Jc1N0cmluZyhvcHRfcHJvdG9jb2wpKSB7CiAgICBjb25zdCBjaGFyKiBwcm90b2NvbDsKCiAgICBpZigocHJvdG9jb2wgPSBKU19Ub0NTdHJpbmcoY3R4LCBvcHRfcHJvdG9jb2wpKSkgewogICAgICB1cmxfc2V0X3Byb3RvY29sKCZ1cmwsIHByb3RvY29sKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgICB9CiAgfQoKICBKU1ZhbHVlIG9wdF9ibG9jayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKG9wdF9ibG9jaykpCiAgICBibG9jayA9IEpTX1RvQm9vbChjdHgsIG9wdF9ibG9jayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb3B0X2Jsb2NrKTsKCiAgSlNWYWx1ZSBvcHRfaDIgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoMiIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfaDIpKQogICAgaXNfaDIgPSBKU19Ub0Jvb2woY3R4LCBvcHRfaDIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9oMik7CgogIEdFVENCKG9wdF9vbl9wb25nLCBzZXJ2ZXItPmNiLnBvbmcpCiAgR0VUQ0Iob3B0X29uX2Nsb3NlLCBzZXJ2ZXItPmNiLmNsb3NlKQogIEdFVENCKG9wdF9vbl9jb25uZWN0LCBzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgR0VUQ0Iob3B0X29uX21lc3NhZ2UsIHNlcnZlci0+Y2IubWVzc2FnZSkKICBHRVRDQihvcHRfb25fZmQsIHNlcnZlci0+Y2IuZmQpCiAgR0VUQ0Iob3B0X29uX2h0dHAsIHNlcnZlci0+Y2IuaHR0cCkKCiAgZm9yKGludCBpID0gMDsgaSA8IGNvdW50b2YocHJvdG9jb2xzKTsgaSsrKSBwcm90b2NvbHNbaV0udXNlciA9IGN0eDsKCiAgaW5mby0+cHJvdG9jb2xzID0gcHJvdG9jb2xzMjsKICBpbmZvLT5tb3VudHMgPSAmbW91bnQ7CiAgaW5mby0+dmhvc3RfbmFtZSA9IHVybF9mb3JtYXQoKE1pbm5ldFVSTCl7Lmhvc3QgPSB1cmwuaG9zdCwgLnBvcnQgPSB1cmwucG9ydH0sIGN0eCk7CiAgaW5mby0+ZXJyb3JfZG9jdW1lbnRfNDA0ID0gIi80MDQuaHRtbCI7CiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPnRpbWVvdXRfc2VjcyA9IDA7CgogIGlmKGlzX3RscykgewogICAgc2VydmVyX2NlcnRpZmljYXRlKCZzZXJ2ZXItPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9QRUVSX0NFUlRfTk9UX1JFUVVJUkVEOwogICAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9SRURJUkVDVF9IVFRQX1RPX0hUVFBTOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19IVFRQX09OX0hUVFBTX0xJU1RFTkVSOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19OT05fU1NMX09OX1NTTF9QT1JUOwogIH0KCiAgaWYoaXNfaDIpIHsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fSDJfSlVTVF9GSVhfV0lORE9XX1VQREFURV9PVkVSRkxPVzsKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fVkhfSDJfSEFMRl9DTE9TRURfTE9OR19QT0xMOwogIH0KICAvLyBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0hUVFBfSEVBREVSU19TRUNVUklUWV9CRVNUX1BSQUNUSUNFU19FTkZPUkNFOwoKICBpZihKU19Jc0FycmF5KGN0eCwgb3B0X21pbWV0eXBlcykpIHsKICAgIE1pbm5ldFZob3N0T3B0aW9ucyAqdm9wdHMsICoqdm9wID0gJnNlcnZlci0+bWltZXR5cGVzOwogICAgdWludDMyX3QgaTsKICAgIGZvcihpID0gMDs7IGkrKykgewogICAgICBKU1ZhbHVlIG1pbWV0eXBlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvcHRfbWltZXR5cGVzLCBpKTsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQobWltZXR5cGUpKQogICAgICAgIGJyZWFrOwogICAgICB2b3B0cyA9IHZob3N0X29wdGlvbnNfbmV3KGN0eCwgbWltZXR5cGUpOwogICAgICBBREQodm9wLCB2b3B0cywgbmV4dCk7CiAgICB9CiAgfQoKICB7CiAgICBNaW5uZXRWaG9zdE9wdGlvbnMqIHB2bzsKCiAgICBmb3IocHZvID0gc2VydmVyLT5taW1ldHlwZXM7IHB2bzsgcHZvID0gcHZvLT5uZXh0KSB7CiAgICAgIC8vIHByaW50ZigicHZvIG1pbWV0eXBlICVzICVzXG4iLCBwdm8tPm5hbWUsIHB2by0+dmFsdWUpOwogICAgfQogIH0KCiAgLy8gaW5mby0+bW91bnRzID0gMDsKCiAgc2VydmVyX21vdW50cyhzZXJ2ZXIsIG9wdF9tb3VudHMpOwoKICBpZighc2VydmVyX2luaXQoc2VydmVyKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZCIpOwoKICBKU1ZhbHVlIHRpbWVyX2NiID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBtaW5uZXRfc2VydmVyX3RpbWVvdXQsIDAsIDAsIHNlcnZlciwgMCk7CiAgdWludDMyX3QgaW50ZXJ2YWwgPSBsd3Nfc2VydmljZV9hZGp1c3RfdGltZW91dChzZXJ2ZXItPmNvbnRleHQubHdzLCAxNTAwMCwgMCk7CiAgaWYoaW50ZXJ2YWwgPT0gMCkKICAgIGludGVydmFsID0gMTA7CiAgc2VydmVyLT5jb250ZXh0LnRpbWVyID0ganNfdGltZXJfaW50ZXJ2YWwoY3R4LCB0aW1lcl9jYiwgaW50ZXJ2YWwpOwoKICBpZighYmxvY2spCiAgICByZXR1cm4gcmV0OwoKICB3aGlsZShhID49IDApIHsKICAgIGlmKCFKU19Jc051bGwoc2VydmVyLT5jb250ZXh0LmVycm9yKSkgewogICAgICByZXQgPSBKU19UaHJvdyhjdHgsIHNlcnZlci0+Y29udGV4dC5lcnJvcik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KQogICAgICBqc19zdGRfbG9vcChjdHgpOwogICAgZWxzZQogICAgICBhID0gbHdzX3NlcnZpY2Uoc2VydmVyLT5jb250ZXh0Lmx3cywgMjApOwogIH0KCiAgLy8gbHdzX2NvbnRleHRfZGVzdHJveShzZXJ2ZXItPmNvbnRleHQubHdzKTsKCiAgaWYoc2VydmVyLT5taW1ldHlwZXMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHNlcnZlci0+bWltZXR5cGVzKTsKCiAgaWYoaW5mby0+bW91bnRzKSB7CiAgICBjb25zdCBNaW5uZXRIdHRwTW91bnQgKm1vdW50LCAqbmV4dDsKCiAgICBmb3IobW91bnQgPSAoTWlubmV0SHR0cE1vdW50KilpbmZvLT5tb3VudHM7IG1vdW50OyBtb3VudCA9IG5leHQpIHsKICAgICAgbmV4dCA9IChNaW5uZXRIdHRwTW91bnQqKW1vdW50LT5sd3MubW91bnRfbmV4dDsKICAgICAgbW91bnRfZnJlZShjdHgsIG1vdW50KTsKICAgIH0KICB9CgogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW0pOwogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtKTsKICBpZihpbmZvLT5zc2xfY2FfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogIC8qanNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5rZXksIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jcnQsIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jYSwgY3R4KTsqLwoKICAvKiBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKCiAgIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogICBqc19mcmVlKGN0eCwgKHZvaWQqKWluZm8tPnZob3N0X25hbWUpOwogKi8KICBGUkVFQ0Ioc2VydmVyLT5jYi5wb25nKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNsb3NlKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgRlJFRUNCKHNlcnZlci0+Y2IubWVzc2FnZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5mZCkKICBGUkVFQ0Ioc2VydmVyLT5jYi5odHRwKQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzdHJ1Y3QgY2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfc2VydmVyX2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZtaW5uZXRfc2VydmVyX2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCmludApkZWZwcm90X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSAvKnNlc3Npb24gPyBzZXNzaW9uLT5zZXJ2ZXIgOiovIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMgJiYgcmVhc29uICE9IExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUykgewogICAgICBpZighb3BhcXVlICYmIHdzaSAmJiBzZXNzaW9uICYmIGN0eCkgewogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICBhc3NlcnQob3BhcXVlKTsKICB9CiAgfQogIC8vIGlmKCFsd3NfaXNfcG9sbF9jYWxsYmFjayhyZWFzb24pKSBwcmludGYoImRlZnByb3RfY2FsbGJhY2sgJXMgJXAgJXAgJXp1XG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pLCB1c2VyLCBpbiwgbGVuKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfTE9DS19QT0xMOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEw6IHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19BRERfUE9MTF9GRDogewogICAgICBzdHJ1Y3QgbHdzX3BvbGxhcmdzKiBhcmdzID0gaW47CiAgICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KSB7CiAgICAgICAgSlNWYWx1ZSBhcmd2WzNdID0ge0pTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCl9OwogICAgICAgIG1pbm5ldF9oYW5kbGVycyhzZXJ2ZXItPmNiLmZkLmN0eCwgd3NpLCAqYXJncywgJmFyZ3ZbMV0pOwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5mZCwgMywgYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMl0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6IHsKICAgICAgc3RydWN0IGx3c19wb2xsYXJncyogYXJncyA9IGluOwogICAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkgewogICAgICAgIEpTVmFsdWUgYXJndlszXSA9IHsKICAgICAgICAgICAgSlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKSwKICAgICAgICB9OwogICAgICAgIG1pbm5ldF9oYW5kbGVycyhzZXJ2ZXItPmNiLmZkLmN0eCwgd3NpLCAqYXJncywgJmFyZ3ZbMV0pOwogICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5mZCwgMywgYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlswXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMl0pOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0hBTkdFX01PREVfUE9MTF9GRDogewogICAgICBzdHJ1Y3QgbHdzX3BvbGxhcmdzKiBhcmdzID0gaW47CiAgICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KSB7CiAgICAgICAgaWYoYXJncy0+ZXZlbnRzICE9IGFyZ3MtPnByZXZfZXZlbnRzKSB7CiAgICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKX07CiAgICAgICAgICBtaW5uZXRfaGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICAgIHNlcnZlcl9leGNlcHRpb24oc2VydmVyLCBtaW5uZXRfZW1pdCgmc2VydmVyLT5jYi5mZCwgMywgYXJndikpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzBdKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMl0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICB9CgogIHJldHVybiBsd3NfY2FsbGJhY2tfaHR0cF9kdW1teSh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7Cn0KAAAAAAAAAACyQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVDoAAAAAAABUOgAAAAAAAAAAAAAAAPC/"
				],
				[
					82,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACyQgAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCiNpbmNsdWRlICJsaWJ3ZWJzb2NrZXRzL3BsdWdpbnMvcmF3LXByb3h5L3Byb3RvY29sX2x3c19yYXdfcHJveHkuYyIKI2luY2x1ZGUgIm1pbm5ldC1wbHVnaW4tYnJva2VyLmMiCgppbnQgcHJveHlfY2FsbGJhY2soc3RydWN0IGx3cyosIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMsIHZvaWQqLCB2b2lkKiwgc2l6ZV90KTsKCnN0YXRpYyBzdHJ1Y3QgbHdzX3Byb3RvY29scyBwcm90b2NvbHNbXSA9IHsKICAgIHsid3MiLCB3c19jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJkZWZwcm90IiwgbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXksIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy13cyIsIGNhbGxiYWNrX3Byb3h5X3dzX3NlcnZlciwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7InByb3h5LXdzLXJhdy1yYXciLCBjYWxsYmFja19wcm94eV9yYXdfY2xpZW50LCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIC8vIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICBNSU5ORVRfUExVR0lOX0JST0tFUihicm9rZXIpLAogICAgLy8gTFdTX1BMVUdJTl9QUk9UT0NPTF9SQVdfUFJPWFksCiAgICB7MH0sCn07CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzMltdID0gewogICAgeyJ3cyIsIHdzX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJodHRwIiwgaHR0cF9zZXJ2ZXJfY2FsbGJhY2ssIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7ImRlZnByb3QiLCBkZWZwcm90X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDB9LAogICAgeyJwcm94eS13cy1yYXctd3MiLCBjYWxsYmFja19wcm94eV93c19zZXJ2ZXIsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctcmF3IiwgY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudCwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAvLyAgeyJwcm94eS13cyIsIHByb3h5X2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgIC8vICBMV1NfUExVR0lOX1BST1RPQ09MX1JBV19QUk9YWSwKICAgIHswLCAwfSwKfTsKCnN0YXRpYyBjb25zdCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgbW91bnQgPSB7CiAgICAvKiAubW91bnRfbmV4dCAqLyBOVUxMLCAgLyogbGlua2VkLWxpc3QgIm5leHQiICovCiAgICAvKiAubW91bnRwb2ludCAqLyAiLyIsICAgLyogbW91bnRwb2ludCBVUkwgKi8KICAgIC8qIC5vcmlnaW4gKi8gIi4iLCAgICAgICAvKiBzZXJ2ZSBmcm9tIGRpciAqLwogICAgLyogLmRlZiAqLyAiaW5kZXguaHRtbCIsIC8qIGRlZmF1bHQgZmlsZW5hbWUgKi8KICAgIC8qIC5wcm90b2NvbCAqLyBOVUxMLAogICAgLyogLmNnaWVudiAqLyBOVUxMLAogICAgLyogLmV4dHJhX21pbWV0eXBlcyAqLyBOVUxMLAogICAgLyogLmludGVycHJldCAqLyBOVUxMLAogICAgLyogLmNnaV90aW1lb3V0ICovIDAsCiAgICAvKiAuY2FjaGVfbWF4X2FnZSAqLyAwLAogICAgLyogLmF1dGhfbWFzayAqLyAwLAogICAgLyogLmNhY2hlX3JldXNhYmxlICovIDAsCiAgICAvKiAuY2FjaGVfcmV2YWxpZGF0ZSAqLyAwLAogICAgLyogLmNhY2hlX2ludGVybWVkaWFyaWVzICovIDAsCiAgICAvKiAub3JpZ2luX3Byb3RvY29sICovIExXU01QUk9fRklMRSwgLyogZmlsZXMgaW4gYSBkaXIgKi8KICAgIC8qIC5tb3VudHBvaW50X2xlbiAqLyAxLCAgICAgICAgICAgICAvKiBjaGFyIGNvdW50ICovCiAgICAvKiAuYmFzaWNfYXV0aF9sb2dpbl9maWxlICovIE5VTEwsCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19leHRlbnNpb24gZXh0ZW5zaW9uc1tdID0gewogICAgeyJwZXJtZXNzYWdlLWRlZmxhdGUiLAogICAgIGx3c19leHRlbnNpb25fY2FsbGJhY2tfcG1fZGVmbGF0ZSwKICAgICAicGVybWVzc2FnZS1kZWZsYXRlIgogICAgICI7IGNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyIgogICAgICI7IGNsaWVudF9tYXhfd2luZG93X2JpdHMifSwKICAgIHtOVUxMLCBOVUxMLCBOVUxMIC8qIHRlcm1pbmF0b3IgKi99LAp9OwoKc3RhdGljIE1pbm5ldFNlcnZlcioKc2VydmVyX25ldyhKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFNlcnZlciogc2VydmVyOwoKICBpZighKHNlcnZlciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0U2VydmVyKSkpKQogICAgcmV0dXJuICh2b2lkKiktMTsKCiAgc2VydmVyLT5jb250ZXh0LmVycm9yID0gSlNfTlVMTDsKICBzZXJ2ZXItPmNvbnRleHQuanMgPSBjdHg7CiAgc2VydmVyLT5jb250ZXh0LmluZm8gPSAoc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8pey5wcm90b2NvbHMgPSBwcm90b2NvbHMyLCAudXNlciA9IHNlcnZlcn07CgogIHJldHVybiBzZXJ2ZXI7Cn0KCnN0YXRpYyBCT09MCnNlcnZlcl9pbml0KE1pbm5ldFNlcnZlciogc2VydmVyKSB7CiAgaWYoIShzZXJ2ZXItPmNvbnRleHQubHdzID0gbHdzX2NyZWF0ZV9jb250ZXh0KCZzZXJ2ZXItPmNvbnRleHQuaW5mbykpKSB7CiAgICBsd3NsX2VycigibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICBpZighbHdzX2NyZWF0ZV92aG9zdChzZXJ2ZXItPmNvbnRleHQubHdzLCAmc2VydmVyLT5jb250ZXh0LmluZm8pKSB7CiAgICBsd3NsX2VycigiRmFpbGVkIHRvIGNyZWF0ZSB2aG9zdFxuIik7CiAgICByZXR1cm4gRkFMU0U7CiAgfQoKICByZXR1cm4gVFJVRTsKfQoKdm9pZApzZXJ2ZXJfZnJlZShNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwoKICBpZigtLXNlcnZlci0+cmVmX2NvdW50ID09IDApIHsKICAgIGpzX3Byb21pc2VfZnJlZShjdHgsICZzZXJ2ZXItPnByb21pc2UpOwoKICAgIGNvbnRleHRfY2xlYXIoJnNlcnZlci0+Y29udGV4dCk7CgogICAganNfZnJlZShjdHgsIHNlcnZlcik7CiAgfQp9Cgp2b2lkCnNlcnZlcl9tb3VudHMoTWlubmV0U2VydmVyKiBzZXJ2ZXIsIEpTVmFsdWVDb25zdCBvcHRfbW91bnRzKSB7CiAgSlNDb250ZXh0KiBjdHggPSBzZXJ2ZXItPmNvbnRleHQuanM7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmc2VydmVyLT5jb250ZXh0LmluZm87CiAgTWlubmV0SHR0cE1vdW50KiogbSA9ICZpbmZvLT5tb3VudHM7CgogICptID0gMDsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9wdF9tb3VudHMpKSB7CiAgICB1aW50MzJfdCBpOwogICAgZm9yKGkgPSAwOzsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTVmFsdWUgbW91bnR2YWwgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9wdF9tb3VudHMsIGkpOwogICAgICBpZihKU19Jc1VuZGVmaW5lZChtb3VudHZhbCkpCiAgICAgICAgYnJlYWs7CiAgICAgIG1vdW50ID0gbW91bnRfbmV3KGN0eCwgbW91bnR2YWwsIDApOwogICAgICBtb3VudC0+ZXh0cmFfbWltZXR5cGVzID0gc2VydmVyLT5taW1ldHlwZXM7CiAgICAgIG1vdW50LT5wcm8gPSAiaHR0cCI7CiAgICAgIEFERChtLCBtb3VudCwgbmV4dCk7CiAgICB9CiAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KG9wdF9tb3VudHMpKSB7CiAgICBKU1Byb3BlcnR5RW51bSogdG1wX3RhYjsKICAgIHVpbnQzMl90IGksIHRtcF9sZW4gPSAwOwogICAgSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0bXBfdGFiLCAmdG1wX2xlbiwgb3B0X21vdW50cywgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyk7CgogICAgZm9yKGkgPSAwOyBpIDwgdG1wX2xlbjsgaSsrKSB7CiAgICAgIE1pbm5ldEh0dHBNb3VudCogbW91bnQ7CiAgICAgIEpTQXRvbSBwcm9wID0gdG1wX3RhYltpXS5hdG9tOwogICAgICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIHByb3ApOwogICAgICBKU1ZhbHVlIG1vdW50dmFsID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvcHRfbW91bnRzLCBwcm9wKTsKICAgICAgbW91bnQgPSBtb3VudF9uZXcoY3R4LCBtb3VudHZhbCwgbmFtZSk7CiAgICAgIG1vdW50LT5leHRyYV9taW1ldHlwZXMgPSBzZXJ2ZXItPm1pbWV0eXBlczsKICAgICAgbW91bnQtPnBybyA9ICJodHRwIjsKICAgICAgQUREKG0sIG1vdW50LCBuZXh0KTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgIH0KICB9Cn0KCnZvaWQKc2VydmVyX2NlcnRpZmljYXRlKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8qIGluZm8gPSAmY29udGV4dC0+aW5mbzsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBjb250ZXh0LT5jcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbFByaXZhdGVLZXkiKTsKICBjb250ZXh0LT5jYSA9IEpTX0dldFByb3BlcnR5U3RyKGNvbnRleHQtPmpzLCBvcHRpb25zLCAic3NsQ0EiKTsKCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y3J0KSkgewogICAgaW5mby0+c3NsX2NlcnRfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNydCk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgZmlsZTogJXNcbiIsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbiwgY29udGV4dC0+Y3J0KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0sIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW1fbGVuKTsKICB9CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpIHsKICAgIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+a2V5KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBwcml2YXRlIGtleSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIHByaXZhdGUga2V5IG1lbW9yeTogJXAgWyV1XVxuIiwgaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0sIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpIHsKICAgIGluZm8tPnNzbF9jYV9maWxlcGF0aCA9IGpzX3Rvc3RyaW5nKGN0eCwgY29udGV4dC0+Y2EpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIENBIGNlcnRpZmljYXRlIGZpbGU6ICVzXG4iLCBpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIH0gZWxzZSB7CiAgICBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4sIGNvbnRleHQtPmNhKTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbV9sZW4pOwogIH0KfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3NlcnZlcl9oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfdGltZW91dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlciA9IHB0cjsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiB0aW1lciA9IHNlcnZlci0+Y29udGV4dC50aW1lcjsKCiAgaWYodGltZXIpIHsKICAgIHByaW50ZigidGltZW91dCAlIiBQUkl1MzIgIlxuIiwgdGltZXItPmludGVydmFsKTsKICAgIHVpbnQzMl90IG5ld19pbnRlcnZhbDsKCiAgICBkbyB7CiAgICAgIG5ld19pbnRlcnZhbCA9IGx3c19zZXJ2aWNlX2FkanVzdF90aW1lb3V0KHNlcnZlci0+Y29udGV4dC5sd3MsIDE1MDAwLCAwKTsKICAgICAgcHJpbnRmKCJuZXdfaW50ZXJ2YWwgJSIgUFJJdTMyICJcbiIsIG5ld19pbnRlcnZhbCk7CgogICAgICBpZihuZXdfaW50ZXJ2YWwgPT0gMCkKICAgICAgICBsd3Nfc2VydmljZV90c2koc2VydmVyLT5jb250ZXh0Lmx3cywgLTEsIDApOwogICAgfSB3aGlsZShuZXdfaW50ZXJ2YWwgPT0gMCk7CgogICAgdGltZXItPmludGVydmFsID0gbmV3X2ludGVydmFsOwoKICAgIGpzX3RpbWVyX3Jlc3RhcnQodGltZXIpOwoKICAgIHJldHVybiBKU19GQUxTRTsKICB9CiAgcHJpbnRmKCJ0aW1lb3V0ICVzICVzXG4iLCBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKSwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlthcmdjIC0gMV0pKTsKCiAgcmV0dXJuIEpTX1RSVUU7Cn0KCkpTVmFsdWUKbWlubmV0X3NlcnZlcl9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBhID0gMDsKICBCT09MIGJsb2NrID0gVFJVRSwgaXNfdGxzID0gRkFMU0UsIGlzX2gyID0gVFJVRTsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKICBNaW5uZXRVUkwgdXJsID0gezB9OwogIEpTVmFsdWUgcmV0LCBvcHRpb25zOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvOwoKICBpZigoc2VydmVyID0gc2VydmVyX25ldyhjdHgpKSA9PSAodm9pZCopLTEpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIGlmKCFzZXJ2ZXIpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImx3cyBpbml0IGZhaWxlZCIpOwoKICBpZihwdHIpIHsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+c2VydmVyID0gc2VydmVyOwogICAgKChNaW5uZXRDbG9zdXJlKilwdHIpLT5mcmVlX2Z1bmMgPSAmc2VydmVyX2ZyZWU7CiAgfQoKICBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwoKICByZXQgPSBKU19OZXdJbnQzMihjdHgsIDApOwogIG9wdGlvbnMgPSBhcmd2WzBdOwoKICBpZihhcmdjID49IDIgJiYgSlNfSXNTdHJpbmcoYXJndlthcmdpbmRdKSkgewogICAgY29uc3QgY2hhciogc3RyOwogICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSkpKSB7CiAgICAgIHVybF9wYXJzZSgmdXJsLCBzdHIsIGN0eCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgIH0KICAgIGFyZ2luZCsrOwogIH0KCiAgb3B0aW9ucyA9IGFyZ3ZbYXJnaW5kXTsKCiAgaWYoIUpTX0lzT2JqZWN0KG9wdGlvbnMpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50ICVkIG11c3QgYmUgb3B0aW9ucyBvYmplY3QiLCBhcmdpbmQgKyAxKTsKCiAgSlNWYWx1ZSBvcHRfcG9ydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBvcnQiKTsKICBKU1ZhbHVlIG9wdF9ob3N0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaG9zdCIpOwogIEpTVmFsdWUgb3B0X3Byb3RvY29sID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAicHJvdG9jb2wiKTsKICBKU1ZhbHVlIG9wdF90bHMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ0bHMiKTsKICBKU1ZhbHVlIG9wdF9vbl9wb25nID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25Qb25nIik7CiAgSlNWYWx1ZSBvcHRfb25fY2xvc2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkNsb3NlIik7CiAgSlNWYWx1ZSBvcHRfb25fY29ubmVjdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uQ29ubmVjdCIpOwogIEpTVmFsdWUgb3B0X29uX21lc3NhZ2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbk1lc3NhZ2UiKTsKICBKU1ZhbHVlIG9wdF9vbl9mZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uRmQiKTsKICBKU1ZhbHVlIG9wdF9vbl9odHRwID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25IdHRwIik7CiAgSlNWYWx1ZSBvcHRfbW91bnRzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibW91bnRzIik7CiAgSlNWYWx1ZSBvcHRfbWltZXR5cGVzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWltZXR5cGVzIik7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfdGxzKSkgewoKICAgIGlzX3RscyA9IEpTX1RvQm9vbChjdHgsIG9wdF90bHMpOwogICAgLy8gcHJpbnRmKCJpc190bHMgPSAlZFxuIiwgaXNfdGxzKTsKICB9CgogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfcG9ydCkpIHsKICAgIGludDMyX3QgcG9ydDsKICAgIEpTX1RvSW50MzIoY3R4LCAmcG9ydCwgb3B0X3BvcnQpOwogICAgdXJsLnBvcnQgPSBwb3J0OwogIH0KCiAgaWYoSlNfSXNTdHJpbmcob3B0X2hvc3QpKQogICAganNfcmVwbGFjZV9zdHJpbmcoY3R4LCBvcHRfaG9zdCwgJnVybC5ob3N0KTsKICBpZihKU19Jc1N0cmluZyhvcHRfcHJvdG9jb2wpKSB7CiAgICBjb25zdCBjaGFyKiBwcm90b2NvbDsKCiAgICBpZigocHJvdG9jb2wgPSBKU19Ub0NTdHJpbmcoY3R4LCBvcHRfcHJvdG9jb2wpKSkgewogICAgICB1cmxfc2V0X3Byb3RvY29sKCZ1cmwsIHByb3RvY29sKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgICB9CiAgfQoKICBKU1ZhbHVlIG9wdF9ibG9jayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKG9wdF9ibG9jaykpCiAgICBibG9jayA9IEpTX1RvQm9vbChjdHgsIG9wdF9ibG9jayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb3B0X2Jsb2NrKTsKCiAgSlNWYWx1ZSBvcHRfaDIgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoMiIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfaDIpKQogICAgaXNfaDIgPSBKU19Ub0Jvb2woY3R4LCBvcHRfaDIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9oMik7CgogIEdFVENCKG9wdF9vbl9wb25nLCBzZXJ2ZXItPmNiLnBvbmcpCiAgR0VUQ0Iob3B0X29uX2Nsb3NlLCBzZXJ2ZXItPmNiLmNsb3NlKQogIEdFVENCKG9wdF9vbl9jb25uZWN0LCBzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgR0VUQ0Iob3B0X29uX21lc3NhZ2UsIHNlcnZlci0+Y2IubWVzc2FnZSkKICBHRVRDQihvcHRfb25fZmQsIHNlcnZlci0+Y2IuZmQpCiAgR0VUQ0Iob3B0X29uX2h0dHAsIHNlcnZlci0+Y2IuaHR0cCkKCiAgZm9yKGludCBpID0gMDsgaSA8IGNvdW50b2YocHJvdG9jb2xzKTsgaSsrKSBwcm90b2NvbHNbaV0udXNlciA9IGN0eDsKCiAgaW5mby0+cHJvdG9jb2xzID0gcHJvdG9jb2xzMjsKICBpbmZvLT5tb3VudHMgPSAmbW91bnQ7CiAgaW5mby0+dmhvc3RfbmFtZSA9IHVybF9mb3JtYXQoKE1pbm5ldFVSTCl7Lmhvc3QgPSB1cmwuaG9zdCwgLnBvcnQgPSB1cmwucG9ydH0sIGN0eCk7CiAgaW5mby0+ZXJyb3JfZG9jdW1lbnRfNDA0ID0gIi80MDQuaHRtbCI7CiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPnRpbWVvdXRfc2VjcyA9IDA7CgogIGlmKGlzX3RscykgewogICAgc2VydmVyX2NlcnRpZmljYXRlKCZzZXJ2ZXItPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9QRUVSX0NFUlRfTk9UX1JFUVVJUkVEOwogICAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9SRURJUkVDVF9IVFRQX1RPX0hUVFBTOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19IVFRQX09OX0hUVFBTX0xJU1RFTkVSOwogICAgaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19OT05fU1NMX09OX1NTTF9QT1JUOwogIH0KCiAgaWYoaXNfaDIpIHsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fSDJfSlVTVF9GSVhfV0lORE9XX1VQREFURV9PVkVSRkxPVzsKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fVkhfSDJfSEFMRl9DTE9TRURfTE9OR19QT0xMOwogIH0KICAvLyBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0hUVFBfSEVBREVSU19TRUNVUklUWV9CRVNUX1BSQUNUSUNFU19FTkZPUkNFOwoKICBpZihKU19Jc0FycmF5KGN0eCwgb3B0X21pbWV0eXBlcykpIHsKICAgIE1pbm5ldFZob3N0T3B0aW9ucyAqdm9wdHMsICoqdm9wID0gJnNlcnZlci0+bWltZXR5cGVzOwogICAgdWludDMyX3QgaTsKICAgIGZvcihpID0gMDs7IGkrKykgewogICAgICBKU1ZhbHVlIG1pbWV0eXBlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvcHRfbWltZXR5cGVzLCBpKTsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQobWltZXR5cGUpKQogICAgICAgIGJyZWFrOwogICAgICB2b3B0cyA9IHZob3N0X29wdGlvbnNfbmV3KGN0eCwgbWltZXR5cGUpOwogICAgICBBREQodm9wLCB2b3B0cywgbmV4dCk7CiAgICB9CiAgfQoKICB7CiAgICBNaW5uZXRWaG9zdE9wdGlvbnMqIHB2bzsKCiAgICBmb3IocHZvID0gc2VydmVyLT5taW1ldHlwZXM7IHB2bzsgcHZvID0gcHZvLT5uZXh0KSB7CiAgICAgIC8vIHByaW50ZigicHZvIG1pbWV0eXBlICVzICVzXG4iLCBwdm8tPm5hbWUsIHB2by0+dmFsdWUpOwogICAgfQogIH0KCiAgLy8gaW5mby0+bW91bnRzID0gMDsKCiAgc2VydmVyX21vdW50cyhzZXJ2ZXIsIG9wdF9tb3VudHMpOwoKICBpZighc2VydmVyX2luaXQoc2VydmVyKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibGlid2Vic29ja2V0cyBpbml0IGZhaWxlZCIpOwoKICBKU1ZhbHVlIHRpbWVyX2NiID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBtaW5uZXRfc2VydmVyX3RpbWVvdXQsIDAsIDAsIHNlcnZlciwgMCk7CiAgdWludDMyX3QgaW50ZXJ2YWwgPSBsd3Nfc2VydmljZV9hZGp1c3RfdGltZW91dChzZXJ2ZXItPmNvbnRleHQubHdzLCAxNTAwMCwgMCk7CiAgaWYoaW50ZXJ2YWwgPT0gMCkKICAgIGludGVydmFsID0gMTA7CiAgc2VydmVyLT5jb250ZXh0LnRpbWVyID0ganNfdGltZXJfaW50ZXJ2YWwoY3R4LCB0aW1lcl9jYiwgaW50ZXJ2YWwpOwoKICBpZighYmxvY2spCiAgICByZXR1cm4gcmV0OwoKICB3aGlsZShhID49IDApIHsKICAgIGlmKCFKU19Jc051bGwoc2VydmVyLT5jb250ZXh0LmVycm9yKSkgewogICAgICByZXQgPSBKU19UaHJvdyhjdHgsIHNlcnZlci0+Y29udGV4dC5lcnJvcik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KQogICAgICBqc19zdGRfbG9vcChjdHgpOwogICAgZWxzZQogICAgICBhID0gbHdzX3NlcnZpY2Uoc2VydmVyLT5jb250ZXh0Lmx3cywgMjApOwogIH0KCiAgLy8gbHdzX2NvbnRleHRfZGVzdHJveShzZXJ2ZXItPmNvbnRleHQubHdzKTsKCiAgaWYoc2VydmVyLT5taW1ldHlwZXMpCiAgICB2aG9zdF9vcHRpb25zX2ZyZWVfbGlzdChjdHgsIHNlcnZlci0+bWltZXR5cGVzKTsKCiAgaWYoaW5mby0+bW91bnRzKSB7CiAgICBjb25zdCBNaW5uZXRIdHRwTW91bnQgKm1vdW50LCAqbmV4dDsKCiAgICBmb3IobW91bnQgPSAoTWlubmV0SHR0cE1vdW50KilpbmZvLT5tb3VudHM7IG1vdW50OyBtb3VudCA9IG5leHQpIHsKICAgICAgbmV4dCA9IChNaW5uZXRIdHRwTW91bnQqKW1vdW50LT5sd3MubW91bnRfbmV4dDsKICAgICAgbW91bnRfZnJlZShjdHgsIG1vdW50KTsKICAgIH0KICB9CgogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW0pOwogIGlmKGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtKTsKICBpZihpbmZvLT5zc2xfY2FfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfY2FfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpOwogIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogIC8qanNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5rZXksIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jcnQsIGN0eCk7CiAganNfYnVmZmVyX2ZyZWUoJnNlcnZlci0+Y29udGV4dC5jYSwgY3R4KTsqLwoKICAvKiBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKCiAgIGlmKGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCkKICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CgogICBqc19mcmVlKGN0eCwgKHZvaWQqKWluZm8tPnZob3N0X25hbWUpOwogKi8KICBGUkVFQ0Ioc2VydmVyLT5jYi5wb25nKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNsb3NlKQogIEZSRUVDQihzZXJ2ZXItPmNiLmNvbm5lY3QpCiAgRlJFRUNCKHNlcnZlci0+Y2IubWVzc2FnZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5mZCkKICBGUkVFQ0Ioc2VydmVyLT5jYi5odHRwKQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzdHJ1Y3QgY2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfc2VydmVyX2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZtaW5uZXRfc2VydmVyX2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCmludApkZWZwcm90X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9IHVzZXI7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSAvKnNlc3Npb24gPyBzZXNzaW9uLT5zZXJ2ZXIgOiovIGx3c19jb250ZXh0X3VzZXIobHdzX2dldF9jb250ZXh0KHdzaSkpOwogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CgogIGlmKHJlYXNvbiAhPSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMgJiYgcmVhc29uICE9IExXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUykgewogICAgaWYoIW9wYXF1ZSAmJiB3c2kgJiYgc2Vzc2lvbiAmJiBjdHgpIHsKICAgICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIHNlc3Npb24sIGN0eCk7CiAgICAgIGFzc2VydChvcGFxdWUpOwogICAgfQogIH0KICAvLyBpZighbHdzX2lzX3BvbGxfY2FsbGJhY2socmVhc29uKSkgcHJpbnRmKCJkZWZwcm90X2NhbGxiYWNrICVzICVwICVwICV6dVxuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSwgdXNlciwgaW4sIGxlbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0xPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1VOTE9DS19QT0xMOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQ6IHsKICAgICAgc3RydWN0IGx3c19wb2xsYXJncyogYXJncyA9IGluOwogICAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkgewogICAgICAgIEpTVmFsdWUgYXJndlszXSA9IHtKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpfTsKICAgICAgICBtaW5uZXRfaGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7CiAgICAgICAgICAgIEpTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCksCiAgICAgICAgfTsKICAgICAgICBtaW5uZXRfaGFuZGxlcnMoc2VydmVyLT5jYi5mZC5jdHgsIHdzaSwgKmFyZ3MsICZhcmd2WzFdKTsKICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsxXSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NIQU5HRV9NT0RFX1BPTExfRkQ6IHsKICAgICAgc3RydWN0IGx3c19wb2xsYXJncyogYXJncyA9IGluOwogICAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkgewogICAgICAgIGlmKGFyZ3MtPmV2ZW50cyAhPSBhcmdzLT5wcmV2X2V2ZW50cykgewogICAgICAgICAgSlNWYWx1ZSBhcmd2WzNdID0ge0pTX05ld0ludDMyKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmdzLT5mZCl9OwogICAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgICBzZXJ2ZXJfZXhjZXB0aW9uKHNlcnZlciwgbWlubmV0X2VtaXQoJnNlcnZlci0+Y2IuZmQsIDMsIGFyZ3YpKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlswXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzJdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfQoKICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAV0EAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVDoAAAAAAABUOgAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					1,
					"paste",
					null,
					"AQAAABNBAAAAAAAAe0EAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAE0EAAAAAAAATQQAAAAAAAAAAAAAAAPC/"
				],
				[
					92,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC/QQAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgojaW5jbHVkZSAibGlid2Vic29ja2V0cy9wbHVnaW5zL3Jhdy1wcm94eS9wcm90b2NvbF9sd3NfcmF3X3Byb3h5LmMiCiNpbmNsdWRlICJtaW5uZXQtcGx1Z2luLWJyb2tlci5jIgoKaW50IHByb3h5X2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzW10gPSB7CiAgICB7IndzIiwgd3NfY2FsbGJhY2ssIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7Imh0dHAiLCBodHRwX3NlcnZlcl9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiZGVmcHJvdCIsIGx3c19jYWxsYmFja19odHRwX2R1bW15LCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctd3MiLCBjYWxsYmFja19wcm94eV93c19zZXJ2ZXIsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctcmF3IiwgY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudCwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAvLyB7InByb3h5LXdzIiwgcHJveHlfY2FsbGJhY2ssIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgIC8vIExXU19QTFVHSU5fUFJPVE9DT0xfUkFXX1BST1hZLAogICAgezB9LAp9OwoKc3RhdGljIHN0cnVjdCBsd3NfcHJvdG9jb2xzIHByb3RvY29sczJbXSA9IHsKICAgIHsid3MiLCB3c19jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJkZWZwcm90IiwgZGVmcHJvdF9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAwfSwKICAgIHsicHJveHktd3MtcmF3LXdzIiwgY2FsbGJhY2tfcHJveHlfd3Nfc2VydmVyLCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsicHJveHktd3MtcmF3LXJhdyIsIGNhbGxiYWNrX3Byb3h5X3Jhd19jbGllbnQsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgLy8gIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIE1JTk5FVF9QTFVHSU5fQlJPS0VSKGJyb2tlciksCiAgICAvLyAgTFdTX1BMVUdJTl9QUk9UT0NPTF9SQVdfUFJPWFksCiAgICB7MCwgMH0sCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19odHRwX21vdW50IG1vdW50ID0gewogICAgLyogLm1vdW50X25leHQgKi8gTlVMTCwgIC8qIGxpbmtlZC1saXN0ICJuZXh0IiAqLwogICAgLyogLm1vdW50cG9pbnQgKi8gIi8iLCAgIC8qIG1vdW50cG9pbnQgVVJMICovCiAgICAvKiAub3JpZ2luICovICIuIiwgICAgICAgLyogc2VydmUgZnJvbSBkaXIgKi8KICAgIC8qIC5kZWYgKi8gImluZGV4Lmh0bWwiLCAvKiBkZWZhdWx0IGZpbGVuYW1lICovCiAgICAvKiAucHJvdG9jb2wgKi8gTlVMTCwKICAgIC8qIC5jZ2llbnYgKi8gTlVMTCwKICAgIC8qIC5leHRyYV9taW1ldHlwZXMgKi8gTlVMTCwKICAgIC8qIC5pbnRlcnByZXQgKi8gTlVMTCwKICAgIC8qIC5jZ2lfdGltZW91dCAqLyAwLAogICAgLyogLmNhY2hlX21heF9hZ2UgKi8gMCwKICAgIC8qIC5hdXRoX21hc2sgKi8gMCwKICAgIC8qIC5jYWNoZV9yZXVzYWJsZSAqLyAwLAogICAgLyogLmNhY2hlX3JldmFsaWRhdGUgKi8gMCwKICAgIC8qIC5jYWNoZV9pbnRlcm1lZGlhcmllcyAqLyAwLAogICAgLyogLm9yaWdpbl9wcm90b2NvbCAqLyBMV1NNUFJPX0ZJTEUsIC8qIGZpbGVzIGluIGEgZGlyICovCiAgICAvKiAubW91bnRwb2ludF9sZW4gKi8gMSwgICAgICAgICAgICAgLyogY2hhciBjb3VudCAqLwogICAgLyogLmJhc2ljX2F1dGhfbG9naW5fZmlsZSAqLyBOVUxMLAp9OwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfZXh0ZW5zaW9uIGV4dGVuc2lvbnNbXSA9IHsKICAgIHsicGVybWVzc2FnZS1kZWZsYXRlIiwKICAgICBsd3NfZXh0ZW5zaW9uX2NhbGxiYWNrX3BtX2RlZmxhdGUsCiAgICAgInBlcm1lc3NhZ2UtZGVmbGF0ZSIKICAgICAiOyBjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlciIKICAgICAiOyBjbGllbnRfbWF4X3dpbmRvd19iaXRzIn0sCiAgICB7TlVMTCwgTlVMTCwgTlVMTCAvKiB0ZXJtaW5hdG9yICovfSwKfTsKCnN0YXRpYyBNaW5uZXRTZXJ2ZXIqCnNlcnZlcl9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKCiAgaWYoIShzZXJ2ZXIgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFNlcnZlcikpKSkKICAgIHJldHVybiAodm9pZCopLTE7CgogIHNlcnZlci0+Y29udGV4dC5lcnJvciA9IEpTX05VTEw7CiAgc2VydmVyLT5jb250ZXh0LmpzID0gY3R4OwogIHNlcnZlci0+Y29udGV4dC5pbmZvID0gKHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKXsucHJvdG9jb2xzID0gcHJvdG9jb2xzMiwgLnVzZXIgPSBzZXJ2ZXJ9OwoKICByZXR1cm4gc2VydmVyOwp9CgpzdGF0aWMgQk9PTApzZXJ2ZXJfaW5pdChNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIGlmKCEoc2VydmVyLT5jb250ZXh0Lmx3cyA9IGx3c19jcmVhdGVfY29udGV4dCgmc2VydmVyLT5jb250ZXh0LmluZm8pKSkgewogICAgbHdzbF9lcnIoImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWRcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgaWYoIWx3c19jcmVhdGVfdmhvc3Qoc2VydmVyLT5jb250ZXh0Lmx3cywgJnNlcnZlci0+Y29udGV4dC5pbmZvKSkgewogICAgbHdzbF9lcnIoIkZhaWxlZCB0byBjcmVhdGUgdmhvc3RcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKc2VydmVyX2ZyZWUoTWlubmV0U2VydmVyKiBzZXJ2ZXIpIHsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKCiAgaWYoLS1zZXJ2ZXItPnJlZl9jb3VudCA9PSAwKSB7CiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmc2VydmVyLT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZzZXJ2ZXItPmNvbnRleHQpOwoKICAgIGpzX2ZyZWUoY3R4LCBzZXJ2ZXIpOwogIH0KfQoKdm9pZApzZXJ2ZXJfbW91bnRzKE1pbm5ldFNlcnZlciogc2VydmVyLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cykgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwogIE1pbm5ldEh0dHBNb3VudCoqIG0gPSAmaW5mby0+bW91bnRzOwoKICAqbSA9IDA7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBvcHRfbW91bnRzKSkgewogICAgdWludDMyX3QgaTsKICAgIGZvcihpID0gMDs7IGkrKykgewogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBKU1ZhbHVlIG1vdW50dmFsID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvcHRfbW91bnRzLCBpKTsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQobW91bnR2YWwpKQogICAgICAgIGJyZWFrOwogICAgICBtb3VudCA9IG1vdW50X25ldyhjdHgsIG1vdW50dmFsLCAwKTsKICAgICAgbW91bnQtPmV4dHJhX21pbWV0eXBlcyA9IHNlcnZlci0+bWltZXR5cGVzOwogICAgICBtb3VudC0+cHJvID0gImh0dHAiOwogICAgICBBREQobSwgbW91bnQsIG5leHQpOwogICAgfQogIH0gZWxzZSBpZihKU19Jc09iamVjdChvcHRfbW91bnRzKSkgewogICAgSlNQcm9wZXJ0eUVudW0qIHRtcF90YWI7CiAgICB1aW50MzJfdCBpLCB0bXBfbGVuID0gMDsKICAgIEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdG1wX3RhYiwgJnRtcF9sZW4sIG9wdF9tb3VudHMsIEpTX0dQTl9FTlVNX09OTFkgfCBKU19HUE5fU1RSSU5HX01BU0sgfCBKU19HUE5fU1lNQk9MX01BU0spOwoKICAgIGZvcihpID0gMDsgaSA8IHRtcF9sZW47IGkrKykgewogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBKU0F0b20gcHJvcCA9IHRtcF90YWJbaV0uYXRvbTsKICAgICAgY29uc3QgY2hhciogbmFtZSA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBwcm9wKTsKICAgICAgSlNWYWx1ZSBtb3VudHZhbCA9IEpTX0dldFByb3BlcnR5KGN0eCwgb3B0X21vdW50cywgcHJvcCk7CiAgICAgIG1vdW50ID0gbW91bnRfbmV3KGN0eCwgbW91bnR2YWwsIG5hbWUpOwogICAgICBtb3VudC0+ZXh0cmFfbWltZXR5cGVzID0gc2VydmVyLT5taW1ldHlwZXM7CiAgICAgIG1vdW50LT5wcm8gPSAiaHR0cCI7CiAgICAgIEFERChtLCBtb3VudCwgbmV4dCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZSk7CiAgICB9CiAgfQp9Cgp2b2lkCnNlcnZlcl9jZXJ0aWZpY2F0ZShNaW5uZXRDb250ZXh0KiBjb250ZXh0LCBKU1ZhbHVlQ29uc3Qgb3B0aW9ucykgewogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvID0gJmNvbnRleHQtPmluZm87CiAgSlNDb250ZXh0KiBjdHggPSBjb250ZXh0LT5qczsKCiAgY29udGV4dC0+Y3J0ID0gSlNfR2V0UHJvcGVydHlTdHIoY29udGV4dC0+anMsIG9wdGlvbnMsICJzc2xDZXJ0Iik7CiAgY29udGV4dC0+a2V5ID0gSlNfR2V0UHJvcGVydHlTdHIoY29udGV4dC0+anMsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENBIik7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmNydCkpIHsKICAgIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIGNlcnRpZmljYXRlIGZpbGU6ICVzXG4iLCBpbmZvLT5zc2xfY2VydF9maWxlcGF0aCk7CiAgfSBlbHNlIHsKICAgIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5rZXkpKSB7CiAgICBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmtleSk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgcHJpdmF0ZSBrZXkgZmlsZTogJXNcbiIsIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CiAgfSBlbHNlIHsKICAgIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtID0ganNfdG9wdHJzaXplKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbiwgY29udGV4dC0+a2V5KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBwcml2YXRlIGtleSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbV9sZW4pOwogIH0KCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y2EpKSB7CiAgICBpbmZvLT5zc2xfY2FfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNhKTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgQ0EgY2VydGlmaWNhdGUgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSwgaW5mby0+c2VydmVyX3NzbF9jYV9tZW1fbGVuKTsKICB9Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfaGFuZGxlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfc2VydmVyX3RpbWVvdXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSBwdHI7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogdGltZXIgPSBzZXJ2ZXItPmNvbnRleHQudGltZXI7CgogIGlmKHRpbWVyKSB7CiAgICBwcmludGYoInRpbWVvdXQgJSIgUFJJdTMyICJcbiIsIHRpbWVyLT5pbnRlcnZhbCk7CiAgICB1aW50MzJfdCBuZXdfaW50ZXJ2YWw7CgogICAgZG8gewogICAgICBuZXdfaW50ZXJ2YWwgPSBsd3Nfc2VydmljZV9hZGp1c3RfdGltZW91dChzZXJ2ZXItPmNvbnRleHQubHdzLCAxNTAwMCwgMCk7CiAgICAgIHByaW50ZigibmV3X2ludGVydmFsICUiIFBSSXUzMiAiXG4iLCBuZXdfaW50ZXJ2YWwpOwoKICAgICAgaWYobmV3X2ludGVydmFsID09IDApCiAgICAgICAgbHdzX3NlcnZpY2VfdHNpKHNlcnZlci0+Y29udGV4dC5sd3MsIC0xLCAwKTsKICAgIH0gd2hpbGUobmV3X2ludGVydmFsID09IDApOwoKICAgIHRpbWVyLT5pbnRlcnZhbCA9IG5ld19pbnRlcnZhbDsKCiAgICBqc190aW1lcl9yZXN0YXJ0KHRpbWVyKTsKCiAgICByZXR1cm4gSlNfRkFMU0U7CiAgfQogIHByaW50ZigidGltZW91dCAlcyAlc1xuIiwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSksIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnYyAtIDFdKSk7CgogIHJldHVybiBKU19UUlVFOwp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfY2xvc3VyZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBpbnQgYXJnaW5kID0gMCwgYSA9IDA7CiAgQk9PTCBibG9jayA9IFRSVUUsIGlzX3RscyA9IEZBTFNFLCBpc19oMiA9IFRSVUU7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXI7CiAgTWlubmV0VVJMIHVybCA9IHswfTsKICBKU1ZhbHVlIHJldCwgb3B0aW9uczsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbzsKCiAgaWYoKHNlcnZlciA9IHNlcnZlcl9uZXcoY3R4KSkgPT0gKHZvaWQqKS0xKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICBpZighc2VydmVyKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJsd3MgaW5pdCBmYWlsZWQiKTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnNlcnZlciA9IHNlcnZlcjsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJnNlcnZlcl9mcmVlOwogIH0KCiAgaW5mbyA9ICZzZXJ2ZXItPmNvbnRleHQuaW5mbzsKCiAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCAwKTsKICBvcHRpb25zID0gYXJndlswXTsKCiAgaWYoYXJnYyA+PSAyICYmIEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0cjsKICAgIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2W2FyZ2luZF0pKSkgewogICAgICB1cmxfcGFyc2UoJnVybCwgc3RyLCBjdHgpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICB9CiAgICBhcmdpbmQrKzsKICB9CgogIG9wdGlvbnMgPSBhcmd2W2FyZ2luZF07CgogIGlmKCFKU19Jc09iamVjdChvcHRpb25zKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAlZCBtdXN0IGJlIG9wdGlvbnMgb2JqZWN0IiwgYXJnaW5kICsgMSk7CgogIEpTVmFsdWUgb3B0X3BvcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJwb3J0Iik7CiAgSlNWYWx1ZSBvcHRfaG9zdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImhvc3QiKTsKICBKU1ZhbHVlIG9wdF9wcm90b2NvbCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInByb3RvY29sIik7CiAgSlNWYWx1ZSBvcHRfdGxzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAidGxzIik7CiAgSlNWYWx1ZSBvcHRfb25fcG9uZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uUG9uZyIpOwogIEpTVmFsdWUgb3B0X29uX2Nsb3NlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25DbG9zZSIpOwogIEpTVmFsdWUgb3B0X29uX2Nvbm5lY3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkNvbm5lY3QiKTsKICBKU1ZhbHVlIG9wdF9vbl9tZXNzYWdlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25NZXNzYWdlIik7CiAgSlNWYWx1ZSBvcHRfb25fZmQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkZkIik7CiAgSlNWYWx1ZSBvcHRfb25faHR0cCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uSHR0cCIpOwogIEpTVmFsdWUgb3B0X21vdW50cyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1vdW50cyIpOwogIEpTVmFsdWUgb3B0X21pbWV0eXBlcyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1pbWV0eXBlcyIpOwoKICBpZighSlNfSXNVbmRlZmluZWQob3B0X3RscykpIHsKCiAgICBpc190bHMgPSBKU19Ub0Jvb2woY3R4LCBvcHRfdGxzKTsKICAgIC8vIHByaW50ZigiaXNfdGxzID0gJWRcbiIsIGlzX3Rscyk7CiAgfQoKICBpZighSlNfSXNVbmRlZmluZWQob3B0X3BvcnQpKSB7CiAgICBpbnQzMl90IHBvcnQ7CiAgICBKU19Ub0ludDMyKGN0eCwgJnBvcnQsIG9wdF9wb3J0KTsKICAgIHVybC5wb3J0ID0gcG9ydDsKICB9CgogIGlmKEpTX0lzU3RyaW5nKG9wdF9ob3N0KSkKICAgIGpzX3JlcGxhY2Vfc3RyaW5nKGN0eCwgb3B0X2hvc3QsICZ1cmwuaG9zdCk7CiAgaWYoSlNfSXNTdHJpbmcob3B0X3Byb3RvY29sKSkgewogICAgY29uc3QgY2hhciogcHJvdG9jb2w7CgogICAgaWYoKHByb3RvY29sID0gSlNfVG9DU3RyaW5nKGN0eCwgb3B0X3Byb3RvY29sKSkpIHsKICAgICAgdXJsX3NldF9wcm90b2NvbCgmdXJsLCBwcm90b2NvbCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcHJvdG9jb2wpOwogICAgfQogIH0KCiAgSlNWYWx1ZSBvcHRfYmxvY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJibG9jayIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfYmxvY2spKQogICAgYmxvY2sgPSBKU19Ub0Jvb2woY3R4LCBvcHRfYmxvY2spOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9ibG9jayk7CgogIEpTVmFsdWUgb3B0X2gyID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaDIiKTsKICBpZighSlNfSXNVbmRlZmluZWQob3B0X2gyKSkKICAgIGlzX2gyID0gSlNfVG9Cb29sKGN0eCwgb3B0X2gyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRfaDIpOwoKICBHRVRDQihvcHRfb25fcG9uZywgc2VydmVyLT5jYi5wb25nKQogIEdFVENCKG9wdF9vbl9jbG9zZSwgc2VydmVyLT5jYi5jbG9zZSkKICBHRVRDQihvcHRfb25fY29ubmVjdCwgc2VydmVyLT5jYi5jb25uZWN0KQogIEdFVENCKG9wdF9vbl9tZXNzYWdlLCBzZXJ2ZXItPmNiLm1lc3NhZ2UpCiAgR0VUQ0Iob3B0X29uX2ZkLCBzZXJ2ZXItPmNiLmZkKQogIEdFVENCKG9wdF9vbl9odHRwLCBzZXJ2ZXItPmNiLmh0dHApCgogIGZvcihpbnQgaSA9IDA7IGkgPCBjb3VudG9mKHByb3RvY29scyk7IGkrKykgcHJvdG9jb2xzW2ldLnVzZXIgPSBjdHg7CgogIGluZm8tPnByb3RvY29scyA9IHByb3RvY29sczI7CiAgaW5mby0+bW91bnRzID0gJm1vdW50OwogIGluZm8tPnZob3N0X25hbWUgPSB1cmxfZm9ybWF0KChNaW5uZXRVUkwpey5ob3N0ID0gdXJsLmhvc3QsIC5wb3J0ID0gdXJsLnBvcnR9LCBjdHgpOwogIGluZm8tPmVycm9yX2RvY3VtZW50XzQwNCA9ICIvNDA0Lmh0bWwiOwogIGluZm8tPnBvcnQgPSB1cmwucG9ydDsKICBpbmZvLT50aW1lb3V0X3NlY3MgPSAwOwoKICBpZihpc190bHMpIHsKICAgIHNlcnZlcl9jZXJ0aWZpY2F0ZSgmc2VydmVyLT5jb250ZXh0LCBvcHRpb25zKTsKCiAgICBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0RPX1NTTF9HTE9CQUxfSU5JVDsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fUEVFUl9DRVJUX05PVF9SRVFVSVJFRDsKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fUkVESVJFQ1RfSFRUUF9UT19IVFRQUzsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfSFRUUF9PTl9IVFRQU19MSVNURU5FUjsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfTk9OX1NTTF9PTl9TU0xfUE9SVDsKICB9CgogIGlmKGlzX2gyKSB7CiAgICBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICAvLyBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX1ZIX0gyX0hBTEZfQ0xPU0VEX0xPTkdfUE9MTDsKICB9CiAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9IVFRQX0hFQURFUlNfU0VDVVJJVFlfQkVTVF9QUkFDVElDRVNfRU5GT1JDRTsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9wdF9taW1ldHlwZXMpKSB7CiAgICBNaW5uZXRWaG9zdE9wdGlvbnMgKnZvcHRzLCAqKnZvcCA9ICZzZXJ2ZXItPm1pbWV0eXBlczsKICAgIHVpbnQzMl90IGk7CiAgICBmb3IoaSA9IDA7OyBpKyspIHsKICAgICAgSlNWYWx1ZSBtaW1ldHlwZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb3B0X21pbWV0eXBlcywgaSk7CiAgICAgIGlmKEpTX0lzVW5kZWZpbmVkKG1pbWV0eXBlKSkKICAgICAgICBicmVhazsKICAgICAgdm9wdHMgPSB2aG9zdF9vcHRpb25zX25ldyhjdHgsIG1pbWV0eXBlKTsKICAgICAgQUREKHZvcCwgdm9wdHMsIG5leHQpOwogICAgfQogIH0KCiAgewogICAgTWlubmV0Vmhvc3RPcHRpb25zKiBwdm87CgogICAgZm9yKHB2byA9IHNlcnZlci0+bWltZXR5cGVzOyBwdm87IHB2byA9IHB2by0+bmV4dCkgewogICAgICAvLyBwcmludGYoInB2byBtaW1ldHlwZSAlcyAlc1xuIiwgcHZvLT5uYW1lLCBwdm8tPnZhbHVlKTsKICAgIH0KICB9CgogIC8vIGluZm8tPm1vdW50cyA9IDA7CgogIHNlcnZlcl9tb3VudHMoc2VydmVyLCBvcHRfbW91bnRzKTsKCiAgaWYoIXNlcnZlcl9pbml0KHNlcnZlcikpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKCiAgSlNWYWx1ZSB0aW1lcl9jYiA9IEpTX05ld0NDbG9zdXJlKGN0eCwgbWlubmV0X3NlcnZlcl90aW1lb3V0LCA0LCAwLCBzZXJ2ZXIsIDApOwogIHVpbnQzMl90IGludGVydmFsID0gbHdzX3NlcnZpY2VfYWRqdXN0X3RpbWVvdXQoc2VydmVyLT5jb250ZXh0Lmx3cywgMTUwMDAsIDApOwogIGlmKGludGVydmFsID09IDApCiAgICBpbnRlcnZhbCA9IDEwOwogIHNlcnZlci0+Y29udGV4dC50aW1lciA9IGpzX3RpbWVyX2ludGVydmFsKGN0eCwgdGltZXJfY2IsIGludGVydmFsKTsKCiAgaWYoIWJsb2NrKQogICAgcmV0dXJuIHJldDsKCiAgd2hpbGUoYSA+PSAwKSB7CiAgICBpZighSlNfSXNOdWxsKHNlcnZlci0+Y29udGV4dC5lcnJvcikpIHsKICAgICAgcmV0ID0gSlNfVGhyb3coY3R4LCBzZXJ2ZXItPmNvbnRleHQuZXJyb3IpOwogICAgICBicmVhazsKICAgIH0KCiAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkKICAgICAganNfc3RkX2xvb3AoY3R4KTsKICAgIGVsc2UKICAgICAgYSA9IGx3c19zZXJ2aWNlKHNlcnZlci0+Y29udGV4dC5sd3MsIDIwKTsKICB9CgogIC8vIGx3c19jb250ZXh0X2Rlc3Ryb3koc2VydmVyLT5jb250ZXh0Lmx3cyk7CgogIGlmKHNlcnZlci0+bWltZXR5cGVzKQogICAgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoY3R4LCBzZXJ2ZXItPm1pbWV0eXBlcyk7CgogIGlmKGluZm8tPm1vdW50cykgewogICAgY29uc3QgTWlubmV0SHR0cE1vdW50ICptb3VudCwgKm5leHQ7CgogICAgZm9yKG1vdW50ID0gKE1pbm5ldEh0dHBNb3VudCopaW5mby0+bW91bnRzOyBtb3VudDsgbW91bnQgPSBuZXh0KSB7CiAgICAgIG5leHQgPSAoTWlubmV0SHR0cE1vdW50Kiltb3VudC0+bHdzLm1vdW50X25leHQ7CiAgICAgIG1vdW50X2ZyZWUoY3R4LCBtb3VudCk7CiAgICB9CiAgfQoKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSk7CiAgaWYoaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSk7CiAgaWYoaW5mby0+c3NsX2NhX2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAvKmpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQua2V5LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY3J0LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY2EsIGN0eCk7Ki8KCiAgLyogaWYoaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfY2VydF9maWxlcGF0aCk7CgogICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAganNfZnJlZShjdHgsICh2b2lkKilpbmZvLT52aG9zdF9uYW1lKTsKICovCiAgRlJFRUNCKHNlcnZlci0+Y2IucG9uZykKICBGUkVFQ0Ioc2VydmVyLT5jYi5jbG9zZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5jb25uZWN0KQogIEZSRUVDQihzZXJ2ZXItPmNiLm1lc3NhZ2UpCiAgRlJFRUNCKHNlcnZlci0+Y2IuZmQpCiAgRlJFRUNCKHNlcnZlci0+Y2IuaHR0cCkKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfc2VydmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IGNsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKCEoY2xvc3VyZSA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gbWlubmV0X3NlcnZlcl9jbG9zdXJlKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDAsIGNsb3N1cmUpOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmV0KSkgewogICAgSlNWYWx1ZSBmdW5jWzJdLCB0bXA7CgogICAgZnVuY1swXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJm1pbm5ldF9zZXJ2ZXJfaGFuZGxlciwgMSwgT05fUkVTT0xWRSwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CiAgICBmdW5jWzFdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRUpFQ1QsIGNsb3N1cmVfZHVwKGNsb3N1cmUpLCBjbG9zdXJlX2ZyZWUpOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgInRoZW4iLCAxLCAmZnVuY1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgImNhdGNoIiwgMSwgJmZ1bmNbMV0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgIHJldCA9IHRtcDsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMV0pOwogIH0KCiAgY2xvc3VyZV9mcmVlKGNsb3N1cmUpOwoKICByZXR1cm4gcmV0Owp9CgppbnQKZGVmcHJvdF9jYWxsYmFjayhzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIE1pbm5ldFNlc3Npb24qIHNlc3Npb24gPSB1c2VyOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gLypzZXNzaW9uID8gc2Vzc2lvbi0+c2VydmVyIDoqLyBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKCiAgLy8gaWYoIWx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHByaW50ZigiZGVmcHJvdF9jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKX07CiAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19ERUxfUE9MTF9GRDogewogICAgICBzdHJ1Y3QgbHdzX3BvbGxhcmdzKiBhcmdzID0gaW47CiAgICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KSB7CiAgICAgICAgSlNWYWx1ZSBhcmd2WzNdID0gewogICAgICAgICAgICBKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpLAogICAgICAgIH07CiAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBpZihhcmdzLT5ldmVudHMgIT0gYXJncy0+cHJldl9ldmVudHMpIHsKICAgICAgICAgIEpTVmFsdWUgYXJndlszXSA9IHtKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpfTsKICAgICAgICAgIG1pbm5ldF9oYW5kbGVycyhzZXJ2ZXItPmNiLmZkLmN0eCwgd3NpLCAqYXJncywgJmFyZ3ZbMV0pOwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgIGNhc2UgTFdTX0NBTExCQUNLX0VWRU5UX1dBSVRfQ0FOQ0VMTEVEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRDogewogICAgICByZXR1cm4gMDsKICAgIH0gfQoKICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAwEEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAe0EAAAAAAAB7QQAAAAAAAAAAAAAAAPC/"
				],
				[
					127,
					1,
					"cut",
					null,
					"AQAAANEaAAAAAAAA0RoAAAAAAAA6AAAAICAgICAgcHJpbnRmKCJuZXdfaW50ZXJ2YWwgJSIgUFJJdTMyICJcbiIsIG5ld19pbnRlcnZhbCk7Cg",
					"AQAAAAAAAAABAAAA0RoAAAAAAAALGwAAAAAAAAAAAAAAAPC/"
				],
				[
					130,
					1,
					"paste",
					null,
					"AQAAAEYbAAAAAAAAgBsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARhsAAAAAAABGGwAAAAAAAAAAAAAAAPC/"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAACoaAAAAAAAAKxoAAAAAAAAAAAAAKxoAAAAAAAAsGgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKhoAAAAAAAAqGgAAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAE4bAAAAAAAATxsAAAAAAAAAAAAATxsAAAAAAABQGwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAThsAAAAAAABOGwAAAAAAAAAAAAAAAPC/"
				],
				[
					154,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAOAbAAAAAAAA4RsAAAAAAAAAAAAA4RsAAAAAAADiGwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4BsAAAAAAADgGwAAAAAAAAAAAAAAADRA"
				],
				[
					159,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADGQQAAI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXNlcnZlci1wcm94eS5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgojaW5jbHVkZSAibGlid2Vic29ja2V0cy9wbHVnaW5zL3Jhdy1wcm94eS9wcm90b2NvbF9sd3NfcmF3X3Byb3h5LmMiCiNpbmNsdWRlICJtaW5uZXQtcGx1Z2luLWJyb2tlci5jIgoKaW50IHByb3h5X2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCB2b2lkKiwgdm9pZCosIHNpemVfdCk7CgpzdGF0aWMgc3RydWN0IGx3c19wcm90b2NvbHMgcHJvdG9jb2xzW10gPSB7CiAgICB7IndzIiwgd3NfY2FsbGJhY2ssIHNpemVvZihNaW5uZXRTZXNzaW9uKSwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICB7Imh0dHAiLCBodHRwX3NlcnZlcl9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiZGVmcHJvdCIsIGx3c19jYWxsYmFja19odHRwX2R1bW15LCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctd3MiLCBjYWxsYmFja19wcm94eV93c19zZXJ2ZXIsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJwcm94eS13cy1yYXctcmF3IiwgY2FsbGJhY2tfcHJveHlfcmF3X2NsaWVudCwgMCwgMTAyNCwgMCwgTlVMTCwgMH0sCiAgICAvLyB7InByb3h5LXdzIiwgcHJveHlfY2FsbGJhY2ssIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgTUlOTkVUX1BMVUdJTl9CUk9LRVIoYnJva2VyKSwKICAgIC8vIExXU19QTFVHSU5fUFJPVE9DT0xfUkFXX1BST1hZLAogICAgezB9LAp9OwoKc3RhdGljIHN0cnVjdCBsd3NfcHJvdG9jb2xzIHByb3RvY29sczJbXSA9IHsKICAgIHsid3MiLCB3c19jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfc2VydmVyX2NhbGxiYWNrLCBzaXplb2YoTWlubmV0U2Vzc2lvbiksIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgeyJkZWZwcm90IiwgZGVmcHJvdF9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAwfSwKICAgIHsicHJveHktd3MtcmF3LXdzIiwgY2FsbGJhY2tfcHJveHlfd3Nfc2VydmVyLCAwLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIHsicHJveHktd3MtcmF3LXJhdyIsIGNhbGxiYWNrX3Byb3h5X3Jhd19jbGllbnQsIDAsIDEwMjQsIDAsIE5VTEwsIDB9LAogICAgLy8gIHsicHJveHktd3MiLCBwcm94eV9jYWxsYmFjaywgc2l6ZW9mKE1pbm5ldFNlc3Npb24pLCAxMDI0LCAwLCBOVUxMLCAwfSwKICAgIE1JTk5FVF9QTFVHSU5fQlJPS0VSKGJyb2tlciksCiAgICAvLyAgTFdTX1BMVUdJTl9QUk9UT0NPTF9SQVdfUFJPWFksCiAgICB7MCwgMH0sCn07CgpzdGF0aWMgY29uc3Qgc3RydWN0IGx3c19odHRwX21vdW50IG1vdW50ID0gewogICAgLyogLm1vdW50X25leHQgKi8gTlVMTCwgIC8qIGxpbmtlZC1saXN0ICJuZXh0IiAqLwogICAgLyogLm1vdW50cG9pbnQgKi8gIi8iLCAgIC8qIG1vdW50cG9pbnQgVVJMICovCiAgICAvKiAub3JpZ2luICovICIuIiwgICAgICAgLyogc2VydmUgZnJvbSBkaXIgKi8KICAgIC8qIC5kZWYgKi8gImluZGV4Lmh0bWwiLCAvKiBkZWZhdWx0IGZpbGVuYW1lICovCiAgICAvKiAucHJvdG9jb2wgKi8gTlVMTCwKICAgIC8qIC5jZ2llbnYgKi8gTlVMTCwKICAgIC8qIC5leHRyYV9taW1ldHlwZXMgKi8gTlVMTCwKICAgIC8qIC5pbnRlcnByZXQgKi8gTlVMTCwKICAgIC8qIC5jZ2lfdGltZW91dCAqLyAwLAogICAgLyogLmNhY2hlX21heF9hZ2UgKi8gMCwKICAgIC8qIC5hdXRoX21hc2sgKi8gMCwKICAgIC8qIC5jYWNoZV9yZXVzYWJsZSAqLyAwLAogICAgLyogLmNhY2hlX3JldmFsaWRhdGUgKi8gMCwKICAgIC8qIC5jYWNoZV9pbnRlcm1lZGlhcmllcyAqLyAwLAogICAgLyogLm9yaWdpbl9wcm90b2NvbCAqLyBMV1NNUFJPX0ZJTEUsIC8qIGZpbGVzIGluIGEgZGlyICovCiAgICAvKiAubW91bnRwb2ludF9sZW4gKi8gMSwgICAgICAgICAgICAgLyogY2hhciBjb3VudCAqLwogICAgLyogLmJhc2ljX2F1dGhfbG9naW5fZmlsZSAqLyBOVUxMLAp9OwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfZXh0ZW5zaW9uIGV4dGVuc2lvbnNbXSA9IHsKICAgIHsicGVybWVzc2FnZS1kZWZsYXRlIiwKICAgICBsd3NfZXh0ZW5zaW9uX2NhbGxiYWNrX3BtX2RlZmxhdGUsCiAgICAgInBlcm1lc3NhZ2UtZGVmbGF0ZSIKICAgICAiOyBjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlciIKICAgICAiOyBjbGllbnRfbWF4X3dpbmRvd19iaXRzIn0sCiAgICB7TlVMTCwgTlVMTCwgTlVMTCAvKiB0ZXJtaW5hdG9yICovfSwKfTsKCnN0YXRpYyBNaW5uZXRTZXJ2ZXIqCnNlcnZlcl9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRTZXJ2ZXIqIHNlcnZlcjsKCiAgaWYoIShzZXJ2ZXIgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFNlcnZlcikpKSkKICAgIHJldHVybiAodm9pZCopLTE7CgogIHNlcnZlci0+Y29udGV4dC5lcnJvciA9IEpTX05VTEw7CiAgc2VydmVyLT5jb250ZXh0LmpzID0gY3R4OwogIHNlcnZlci0+Y29udGV4dC5pbmZvID0gKHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKXsucHJvdG9jb2xzID0gcHJvdG9jb2xzMiwgLnVzZXIgPSBzZXJ2ZXJ9OwoKICByZXR1cm4gc2VydmVyOwp9CgpzdGF0aWMgQk9PTApzZXJ2ZXJfaW5pdChNaW5uZXRTZXJ2ZXIqIHNlcnZlcikgewogIGlmKCEoc2VydmVyLT5jb250ZXh0Lmx3cyA9IGx3c19jcmVhdGVfY29udGV4dCgmc2VydmVyLT5jb250ZXh0LmluZm8pKSkgewogICAgbHdzbF9lcnIoImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWRcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgaWYoIWx3c19jcmVhdGVfdmhvc3Qoc2VydmVyLT5jb250ZXh0Lmx3cywgJnNlcnZlci0+Y29udGV4dC5pbmZvKSkgewogICAgbHdzbF9lcnIoIkZhaWxlZCB0byBjcmVhdGUgdmhvc3RcbiIpOwogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKc2VydmVyX2ZyZWUoTWlubmV0U2VydmVyKiBzZXJ2ZXIpIHsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKCiAgaWYoLS1zZXJ2ZXItPnJlZl9jb3VudCA9PSAwKSB7CiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmc2VydmVyLT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZzZXJ2ZXItPmNvbnRleHQpOwoKICAgIGpzX2ZyZWUoY3R4LCBzZXJ2ZXIpOwogIH0KfQoKdm9pZApzZXJ2ZXJfbW91bnRzKE1pbm5ldFNlcnZlciogc2VydmVyLCBKU1ZhbHVlQ29uc3Qgb3B0X21vdW50cykgewogIEpTQ29udGV4dCogY3R4ID0gc2VydmVyLT5jb250ZXh0LmpzOwogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvID0gJnNlcnZlci0+Y29udGV4dC5pbmZvOwogIE1pbm5ldEh0dHBNb3VudCoqIG0gPSAmaW5mby0+bW91bnRzOwoKICAqbSA9IDA7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBvcHRfbW91bnRzKSkgewogICAgdWludDMyX3QgaTsKICAgIGZvcihpID0gMDs7IGkrKykgewogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBKU1ZhbHVlIG1vdW50dmFsID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvcHRfbW91bnRzLCBpKTsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQobW91bnR2YWwpKQogICAgICAgIGJyZWFrOwogICAgICBtb3VudCA9IG1vdW50X25ldyhjdHgsIG1vdW50dmFsLCAwKTsKICAgICAgbW91bnQtPmV4dHJhX21pbWV0eXBlcyA9IHNlcnZlci0+bWltZXR5cGVzOwogICAgICBtb3VudC0+cHJvID0gImh0dHAiOwogICAgICBBREQobSwgbW91bnQsIG5leHQpOwogICAgfQogIH0gZWxzZSBpZihKU19Jc09iamVjdChvcHRfbW91bnRzKSkgewogICAgSlNQcm9wZXJ0eUVudW0qIHRtcF90YWI7CiAgICB1aW50MzJfdCBpLCB0bXBfbGVuID0gMDsKICAgIEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdG1wX3RhYiwgJnRtcF9sZW4sIG9wdF9tb3VudHMsIEpTX0dQTl9FTlVNX09OTFkgfCBKU19HUE5fU1RSSU5HX01BU0sgfCBKU19HUE5fU1lNQk9MX01BU0spOwoKICAgIGZvcihpID0gMDsgaSA8IHRtcF9sZW47IGkrKykgewogICAgICBNaW5uZXRIdHRwTW91bnQqIG1vdW50OwogICAgICBKU0F0b20gcHJvcCA9IHRtcF90YWJbaV0uYXRvbTsKICAgICAgY29uc3QgY2hhciogbmFtZSA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBwcm9wKTsKICAgICAgSlNWYWx1ZSBtb3VudHZhbCA9IEpTX0dldFByb3BlcnR5KGN0eCwgb3B0X21vdW50cywgcHJvcCk7CiAgICAgIG1vdW50ID0gbW91bnRfbmV3KGN0eCwgbW91bnR2YWwsIG5hbWUpOwogICAgICBtb3VudC0+ZXh0cmFfbWltZXR5cGVzID0gc2VydmVyLT5taW1ldHlwZXM7CiAgICAgIG1vdW50LT5wcm8gPSAiaHR0cCI7CiAgICAgIEFERChtLCBtb3VudCwgbmV4dCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZSk7CiAgICB9CiAgfQp9Cgp2b2lkCnNlcnZlcl9jZXJ0aWZpY2F0ZShNaW5uZXRDb250ZXh0KiBjb250ZXh0LCBKU1ZhbHVlQ29uc3Qgb3B0aW9ucykgewogIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvKiBpbmZvID0gJmNvbnRleHQtPmluZm87CiAgSlNDb250ZXh0KiBjdHggPSBjb250ZXh0LT5qczsKCiAgY29udGV4dC0+Y3J0ID0gSlNfR2V0UHJvcGVydHlTdHIoY29udGV4dC0+anMsIG9wdGlvbnMsICJzc2xDZXJ0Iik7CiAgY29udGV4dC0+a2V5ID0gSlNfR2V0UHJvcGVydHlTdHIoY29udGV4dC0+anMsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgb3B0aW9ucywgInNzbENBIik7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmNydCkpIHsKICAgIGluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogICAgLy8gcHJpbnRmKCJzZXJ2ZXIgU1NMIGNlcnRpZmljYXRlIGZpbGU6ICVzXG4iLCBpbmZvLT5zc2xfY2VydF9maWxlcGF0aCk7CiAgfSBlbHNlIHsKICAgIGluZm8tPnNlcnZlcl9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgY2VydGlmaWNhdGUgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbik7CiAgfQoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5rZXkpKSB7CiAgICBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmtleSk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgcHJpdmF0ZSBrZXkgZmlsZTogJXNcbiIsIGluZm8tPnNzbF9wcml2YXRlX2tleV9maWxlcGF0aCk7CiAgfSBlbHNlIHsKICAgIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtID0ganNfdG9wdHJzaXplKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbiwgY29udGV4dC0+a2V5KTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBwcml2YXRlIGtleSBtZW1vcnk6ICVwIFsldV1cbiIsIGluZm8tPnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtLCBpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbV9sZW4pOwogIH0KCiAgaWYoSlNfSXNTdHJpbmcoY29udGV4dC0+Y2EpKSB7CiAgICBpbmZvLT5zc2xfY2FfZmlsZXBhdGggPSBqc190b3N0cmluZyhjdHgsIGNvbnRleHQtPmNhKTsKICAgIC8vIHByaW50Zigic2VydmVyIFNTTCBDQSBjZXJ0aWZpY2F0ZSBmaWxlOiAlc1xuIiwgaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICB9IGVsc2UgewogICAgaW5mby0+c2VydmVyX3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7CiAgICAvLyBwcmludGYoInNlcnZlciBTU0wgQ0EgY2VydGlmaWNhdGUgbWVtb3J5OiAlcCBbJXVdXG4iLCBpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSwgaW5mby0+c2VydmVyX3NzbF9jYV9tZW1fbGVuKTsKICB9Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfaGFuZGxlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfc2VydmVyX3RpbWVvdXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXIgPSBwdHI7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogdGltZXIgPSBzZXJ2ZXItPmNvbnRleHQudGltZXI7CgogIGlmKHRpbWVyKSB7CiAgICAvL3ByaW50ZigidGltZW91dCAlIiBQUkl1MzIgIlxuIiwgdGltZXItPmludGVydmFsKTsKICAgIHVpbnQzMl90IG5ld19pbnRlcnZhbDsKCiAgICBkbyB7CiAgICAgIG5ld19pbnRlcnZhbCA9IGx3c19zZXJ2aWNlX2FkanVzdF90aW1lb3V0KHNlcnZlci0+Y29udGV4dC5sd3MsIDE1MDAwLCAwKTsKCiAgICAgIGlmKG5ld19pbnRlcnZhbCA9PSAwKQogICAgICAgIGx3c19zZXJ2aWNlX3RzaShzZXJ2ZXItPmNvbnRleHQubHdzLCAtMSwgMCk7CiAgICB9IHdoaWxlKG5ld19pbnRlcnZhbCA9PSAwKTsKCiAgICAgICAgLy9wcmludGYoIm5ld19pbnRlcnZhbCAlIiBQUkl1MzIgIlxuIiwgbmV3X2ludGVydmFsKTsKICB0aW1lci0+aW50ZXJ2YWwgPSBuZXdfaW50ZXJ2YWw7CgogICAganNfdGltZXJfcmVzdGFydCh0aW1lcik7CgogICAgcmV0dXJuIEpTX0ZBTFNFOwogIH0KICAvL3ByaW50ZigidGltZW91dCAlcyAlc1xuIiwgSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSksIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnYyAtIDFdKSk7CgogIHJldHVybiBKU19UUlVFOwp9CgpKU1ZhbHVlCm1pbm5ldF9zZXJ2ZXJfY2xvc3VyZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBpbnQgYXJnaW5kID0gMCwgYSA9IDA7CiAgQk9PTCBibG9jayA9IFRSVUUsIGlzX3RscyA9IEZBTFNFLCBpc19oMiA9IFRSVUU7CiAgTWlubmV0U2VydmVyKiBzZXJ2ZXI7CiAgTWlubmV0VVJMIHVybCA9IHswfTsKICBKU1ZhbHVlIHJldCwgb3B0aW9uczsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbzsKCiAgaWYoKHNlcnZlciA9IHNlcnZlcl9uZXcoY3R4KSkgPT0gKHZvaWQqKS0xKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICBpZighc2VydmVyKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJsd3MgaW5pdCBmYWlsZWQiKTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnNlcnZlciA9IHNlcnZlcjsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJnNlcnZlcl9mcmVlOwogIH0KCiAgaW5mbyA9ICZzZXJ2ZXItPmNvbnRleHQuaW5mbzsKCiAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCAwKTsKICBvcHRpb25zID0gYXJndlswXTsKCiAgaWYoYXJnYyA+PSAyICYmIEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0cjsKICAgIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2W2FyZ2luZF0pKSkgewogICAgICB1cmxfcGFyc2UoJnVybCwgc3RyLCBjdHgpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICB9CiAgICBhcmdpbmQrKzsKICB9CgogIG9wdGlvbnMgPSBhcmd2W2FyZ2luZF07CgogIGlmKCFKU19Jc09iamVjdChvcHRpb25zKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAlZCBtdXN0IGJlIG9wdGlvbnMgb2JqZWN0IiwgYXJnaW5kICsgMSk7CgogIEpTVmFsdWUgb3B0X3BvcnQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJwb3J0Iik7CiAgSlNWYWx1ZSBvcHRfaG9zdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImhvc3QiKTsKICBKU1ZhbHVlIG9wdF9wcm90b2NvbCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInByb3RvY29sIik7CiAgSlNWYWx1ZSBvcHRfdGxzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAidGxzIik7CiAgSlNWYWx1ZSBvcHRfb25fcG9uZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uUG9uZyIpOwogIEpTVmFsdWUgb3B0X29uX2Nsb3NlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25DbG9zZSIpOwogIEpTVmFsdWUgb3B0X29uX2Nvbm5lY3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkNvbm5lY3QiKTsKICBKU1ZhbHVlIG9wdF9vbl9tZXNzYWdlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAib25NZXNzYWdlIik7CiAgSlNWYWx1ZSBvcHRfb25fZmQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJvbkZkIik7CiAgSlNWYWx1ZSBvcHRfb25faHR0cCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm9uSHR0cCIpOwogIEpTVmFsdWUgb3B0X21vdW50cyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1vdW50cyIpOwogIEpTVmFsdWUgb3B0X21pbWV0eXBlcyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgIm1pbWV0eXBlcyIpOwoKICBpZighSlNfSXNVbmRlZmluZWQob3B0X3RscykpIHsKCiAgICBpc190bHMgPSBKU19Ub0Jvb2woY3R4LCBvcHRfdGxzKTsKICAgIC8vIHByaW50ZigiaXNfdGxzID0gJWRcbiIsIGlzX3Rscyk7CiAgfQoKICBpZighSlNfSXNVbmRlZmluZWQob3B0X3BvcnQpKSB7CiAgICBpbnQzMl90IHBvcnQ7CiAgICBKU19Ub0ludDMyKGN0eCwgJnBvcnQsIG9wdF9wb3J0KTsKICAgIHVybC5wb3J0ID0gcG9ydDsKICB9CgogIGlmKEpTX0lzU3RyaW5nKG9wdF9ob3N0KSkKICAgIGpzX3JlcGxhY2Vfc3RyaW5nKGN0eCwgb3B0X2hvc3QsICZ1cmwuaG9zdCk7CiAgaWYoSlNfSXNTdHJpbmcob3B0X3Byb3RvY29sKSkgewogICAgY29uc3QgY2hhciogcHJvdG9jb2w7CgogICAgaWYoKHByb3RvY29sID0gSlNfVG9DU3RyaW5nKGN0eCwgb3B0X3Byb3RvY29sKSkpIHsKICAgICAgdXJsX3NldF9wcm90b2NvbCgmdXJsLCBwcm90b2NvbCk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcHJvdG9jb2wpOwogICAgfQogIH0KCiAgSlNWYWx1ZSBvcHRfYmxvY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJibG9jayIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChvcHRfYmxvY2spKQogICAgYmxvY2sgPSBKU19Ub0Jvb2woY3R4LCBvcHRfYmxvY2spOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9ibG9jayk7CgogIEpTVmFsdWUgb3B0X2gyID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaDIiKTsKICBpZighSlNfSXNVbmRlZmluZWQob3B0X2gyKSkKICAgIGlzX2gyID0gSlNfVG9Cb29sKGN0eCwgb3B0X2gyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRfaDIpOwoKICBHRVRDQihvcHRfb25fcG9uZywgc2VydmVyLT5jYi5wb25nKQogIEdFVENCKG9wdF9vbl9jbG9zZSwgc2VydmVyLT5jYi5jbG9zZSkKICBHRVRDQihvcHRfb25fY29ubmVjdCwgc2VydmVyLT5jYi5jb25uZWN0KQogIEdFVENCKG9wdF9vbl9tZXNzYWdlLCBzZXJ2ZXItPmNiLm1lc3NhZ2UpCiAgR0VUQ0Iob3B0X29uX2ZkLCBzZXJ2ZXItPmNiLmZkKQogIEdFVENCKG9wdF9vbl9odHRwLCBzZXJ2ZXItPmNiLmh0dHApCgogIGZvcihpbnQgaSA9IDA7IGkgPCBjb3VudG9mKHByb3RvY29scyk7IGkrKykgcHJvdG9jb2xzW2ldLnVzZXIgPSBjdHg7CgogIGluZm8tPnByb3RvY29scyA9IHByb3RvY29sczI7CiAgaW5mby0+bW91bnRzID0gJm1vdW50OwogIGluZm8tPnZob3N0X25hbWUgPSB1cmxfZm9ybWF0KChNaW5uZXRVUkwpey5ob3N0ID0gdXJsLmhvc3QsIC5wb3J0ID0gdXJsLnBvcnR9LCBjdHgpOwogIGluZm8tPmVycm9yX2RvY3VtZW50XzQwNCA9ICIvNDA0Lmh0bWwiOwogIGluZm8tPnBvcnQgPSB1cmwucG9ydDsKICBpbmZvLT50aW1lb3V0X3NlY3MgPSAwOwoKICBpZihpc190bHMpIHsKICAgIHNlcnZlcl9jZXJ0aWZpY2F0ZSgmc2VydmVyLT5jb250ZXh0LCBvcHRpb25zKTsKCiAgICBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0RPX1NTTF9HTE9CQUxfSU5JVDsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fUEVFUl9DRVJUX05PVF9SRVFVSVJFRDsKICAgIC8vIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fUkVESVJFQ1RfSFRUUF9UT19IVFRQUzsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfSFRUUF9PTl9IVFRQU19MSVNURU5FUjsKICAgIGluZm8tPm9wdGlvbnMgfD0gTFdTX1NFUlZFUl9PUFRJT05fQUxMT1dfTk9OX1NTTF9PTl9TU0xfUE9SVDsKICB9CgogIGlmKGlzX2gyKSB7CiAgICBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICAvLyBpbmZvLT5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX1ZIX0gyX0hBTEZfQ0xPU0VEX0xPTkdfUE9MTDsKICB9CiAgLy8gaW5mby0+b3B0aW9ucyB8PSBMV1NfU0VSVkVSX09QVElPTl9IVFRQX0hFQURFUlNfU0VDVVJJVFlfQkVTVF9QUkFDVElDRVNfRU5GT1JDRTsKCiAgaWYoSlNfSXNBcnJheShjdHgsIG9wdF9taW1ldHlwZXMpKSB7CiAgICBNaW5uZXRWaG9zdE9wdGlvbnMgKnZvcHRzLCAqKnZvcCA9ICZzZXJ2ZXItPm1pbWV0eXBlczsKICAgIHVpbnQzMl90IGk7CiAgICBmb3IoaSA9IDA7OyBpKyspIHsKICAgICAgSlNWYWx1ZSBtaW1ldHlwZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb3B0X21pbWV0eXBlcywgaSk7CiAgICAgIGlmKEpTX0lzVW5kZWZpbmVkKG1pbWV0eXBlKSkKICAgICAgICBicmVhazsKICAgICAgdm9wdHMgPSB2aG9zdF9vcHRpb25zX25ldyhjdHgsIG1pbWV0eXBlKTsKICAgICAgQUREKHZvcCwgdm9wdHMsIG5leHQpOwogICAgfQogIH0KCiAgewogICAgTWlubmV0Vmhvc3RPcHRpb25zKiBwdm87CgogICAgZm9yKHB2byA9IHNlcnZlci0+bWltZXR5cGVzOyBwdm87IHB2byA9IHB2by0+bmV4dCkgewogICAgICAvLyBwcmludGYoInB2byBtaW1ldHlwZSAlcyAlc1xuIiwgcHZvLT5uYW1lLCBwdm8tPnZhbHVlKTsKICAgIH0KICB9CgogIC8vIGluZm8tPm1vdW50cyA9IDA7CgogIHNlcnZlcl9tb3VudHMoc2VydmVyLCBvcHRfbW91bnRzKTsKCiAgaWYoIXNlcnZlcl9pbml0KHNlcnZlcikpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKCiAgSlNWYWx1ZSB0aW1lcl9jYiA9IEpTX05ld0NDbG9zdXJlKGN0eCwgbWlubmV0X3NlcnZlcl90aW1lb3V0LCA0LCAwLCBzZXJ2ZXIsIDApOwogIHVpbnQzMl90IGludGVydmFsID0gbHdzX3NlcnZpY2VfYWRqdXN0X3RpbWVvdXQoc2VydmVyLT5jb250ZXh0Lmx3cywgMTUwMDAsIDApOwogIGlmKGludGVydmFsID09IDApCiAgICBpbnRlcnZhbCA9IDEwOwogIHNlcnZlci0+Y29udGV4dC50aW1lciA9IGpzX3RpbWVyX2ludGVydmFsKGN0eCwgdGltZXJfY2IsIGludGVydmFsKTsKCiAgaWYoIWJsb2NrKQogICAgcmV0dXJuIHJldDsKCiAgd2hpbGUoYSA+PSAwKSB7CiAgICBpZighSlNfSXNOdWxsKHNlcnZlci0+Y29udGV4dC5lcnJvcikpIHsKICAgICAgcmV0ID0gSlNfVGhyb3coY3R4LCBzZXJ2ZXItPmNvbnRleHQuZXJyb3IpOwogICAgICBicmVhazsKICAgIH0KCiAgICBpZihzZXJ2ZXItPmNiLmZkLmN0eCkKICAgICAganNfc3RkX2xvb3AoY3R4KTsKICAgIGVsc2UKICAgICAgYSA9IGx3c19zZXJ2aWNlKHNlcnZlci0+Y29udGV4dC5sd3MsIDIwKTsKICB9CgogIC8vIGx3c19jb250ZXh0X2Rlc3Ryb3koc2VydmVyLT5jb250ZXh0Lmx3cyk7CgogIGlmKHNlcnZlci0+bWltZXR5cGVzKQogICAgdmhvc3Rfb3B0aW9uc19mcmVlX2xpc3QoY3R4LCBzZXJ2ZXItPm1pbWV0eXBlcyk7CgogIGlmKGluZm8tPm1vdW50cykgewogICAgY29uc3QgTWlubmV0SHR0cE1vdW50ICptb3VudCwgKm5leHQ7CgogICAgZm9yKG1vdW50ID0gKE1pbm5ldEh0dHBNb3VudCopaW5mby0+bW91bnRzOyBtb3VudDsgbW91bnQgPSBuZXh0KSB7CiAgICAgIG5leHQgPSAoTWlubmV0SHR0cE1vdW50Kiltb3VudC0+bHdzLm1vdW50X25leHQ7CiAgICAgIG1vdW50X2ZyZWUoY3R4LCBtb3VudCk7CiAgICB9CiAgfQoKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NhX21lbSkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNlcnZlcl9zc2xfY2FfbWVtKTsKICBpZihpbmZvLT5zZXJ2ZXJfc3NsX2NlcnRfbWVtKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c2VydmVyX3NzbF9jZXJ0X21lbSk7CiAgaWYoaW5mby0+c2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0pCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zZXJ2ZXJfc3NsX3ByaXZhdGVfa2V5X21lbSk7CiAgaWYoaW5mby0+c3NsX2NhX2ZpbGVwYXRoKQogICAganNfY2xlYXIoY3R4LCAmaW5mby0+c3NsX2NhX2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfY2VydF9maWxlcGF0aCkKICAgIGpzX2NsZWFyKGN0eCwgJmluZm8tPnNzbF9jZXJ0X2ZpbGVwYXRoKTsKICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICBqc19jbGVhcihjdHgsICZpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAvKmpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQua2V5LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY3J0LCBjdHgpOwogIGpzX2J1ZmZlcl9mcmVlKCZzZXJ2ZXItPmNvbnRleHQuY2EsIGN0eCk7Ki8KCiAgLyogaWYoaW5mby0+c3NsX2NlcnRfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfY2VydF9maWxlcGF0aCk7CgogICBpZihpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpCiAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbmZvLT5zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGgpOwoKICAganNfZnJlZShjdHgsICh2b2lkKilpbmZvLT52aG9zdF9uYW1lKTsKICovCiAgRlJFRUNCKHNlcnZlci0+Y2IucG9uZykKICBGUkVFQ0Ioc2VydmVyLT5jYi5jbG9zZSkKICBGUkVFQ0Ioc2VydmVyLT5jYi5jb25uZWN0KQogIEZSRUVDQihzZXJ2ZXItPmNiLm1lc3NhZ2UpCiAgRlJFRUNCKHNlcnZlci0+Y2IuZmQpCiAgRlJFRUNCKHNlcnZlci0+Y2IuaHR0cCkKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfc2VydmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IGNsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKCEoY2xvc3VyZSA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gbWlubmV0X3NlcnZlcl9jbG9zdXJlKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDAsIGNsb3N1cmUpOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmV0KSkgewogICAgSlNWYWx1ZSBmdW5jWzJdLCB0bXA7CgogICAgZnVuY1swXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJm1pbm5ldF9zZXJ2ZXJfaGFuZGxlciwgMSwgT05fUkVTT0xWRSwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CiAgICBmdW5jWzFdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X3NlcnZlcl9oYW5kbGVyLCAxLCBPTl9SRUpFQ1QsIGNsb3N1cmVfZHVwKGNsb3N1cmUpLCBjbG9zdXJlX2ZyZWUpOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgInRoZW4iLCAxLCAmZnVuY1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgImNhdGNoIiwgMSwgJmZ1bmNbMV0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgIHJldCA9IHRtcDsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMV0pOwogIH0KCiAgY2xvc3VyZV9mcmVlKGNsb3N1cmUpOwoKICByZXR1cm4gcmV0Owp9CgppbnQKZGVmcHJvdF9jYWxsYmFjayhzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIE1pbm5ldFNlc3Npb24qIHNlc3Npb24gPSB1c2VyOwogIE1pbm5ldFNlcnZlciogc2VydmVyID0gLypzZXNzaW9uID8gc2Vzc2lvbi0+c2VydmVyIDoqLyBsd3NfY29udGV4dF91c2VyKGx3c19nZXRfY29udGV4dCh3c2kpKTsKICBKU0NvbnRleHQqIGN0eCA9IHNlcnZlci0+Y29udGV4dC5qczsKCiAgLy8gaWYoIWx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpIHByaW50ZigiZGVmcHJvdF9jYWxsYmFjayAlcyAlcCAlcCAlenVcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbiksIHVzZXIsIGluLCBsZW4pOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3MtPmZkKX07CiAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19ERUxfUE9MTF9GRDogewogICAgICBzdHJ1Y3QgbHdzX3BvbGxhcmdzKiBhcmdzID0gaW47CiAgICAgIGlmKHNlcnZlci0+Y2IuZmQuY3R4KSB7CiAgICAgICAgSlNWYWx1ZSBhcmd2WzNdID0gewogICAgICAgICAgICBKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpLAogICAgICAgIH07CiAgICAgICAgbWlubmV0X2hhbmRsZXJzKHNlcnZlci0+Y2IuZmQuY3R4LCB3c2ksICphcmdzLCAmYXJndlsxXSk7CiAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzBdKTsKICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMV0pOwogICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiB7CiAgICAgIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MgPSBpbjsKICAgICAgaWYoc2VydmVyLT5jYi5mZC5jdHgpIHsKICAgICAgICBpZihhcmdzLT5ldmVudHMgIT0gYXJncy0+cHJldl9ldmVudHMpIHsKICAgICAgICAgIEpTVmFsdWUgYXJndlszXSA9IHtKU19OZXdJbnQzMihzZXJ2ZXItPmNiLmZkLmN0eCwgYXJncy0+ZmQpfTsKICAgICAgICAgIG1pbm5ldF9oYW5kbGVycyhzZXJ2ZXItPmNiLmZkLmN0eCwgd3NpLCAqYXJncywgJmFyZ3ZbMV0pOwogICAgICAgICAgc2VydmVyX2V4Y2VwdGlvbihzZXJ2ZXIsIG1pbm5ldF9lbWl0KCZzZXJ2ZXItPmNiLmZkLCAzLCBhcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoc2VydmVyLT5jYi5mZC5jdHgsIGFyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKHNlcnZlci0+Y2IuZmQuY3R4LCBhcmd2WzFdKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShzZXJ2ZXItPmNiLmZkLmN0eCwgYXJndlsyXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVZFTlRfV0FJVF9DQU5DRUxMRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19HRVRfVEhSRUFEX0lEOiB7CiAgICAgIHJldHVybiAwOwogICAgfQogIH0KCiAgcmV0dXJuIGx3c19jYWxsYmFja19odHRwX2R1bW15KHdzaSwgcmVhc29uLCB1c2VyLCBpbiwgbGVuKTsKfQoAAAAAAAAAAMdBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4hsAAAAAAADiGwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-timeout-timer.h",
			"settings":
			{
				"buffer_size": 11652,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-service.h",
			"settings":
			{
				"buffer_size": 7679,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-context-vhost.h",
			"settings":
			{
				"buffer_size": 56539,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADb3AAALyoKICogbGlid2Vic29ja2V0cyAtIHNtYWxsIHNlcnZlciBzaWRlIHdlYnNvY2tldHMgYW5kIHdlYiBzZXJ2ZXIgaW1wbGVtZW50YXRpb24KICoKICogQ29weXJpZ2h0IChDKSAyMDEwIC0gMjAyMSBBbmR5IEdyZWVuIDxhbmR5QHdhcm1jYXQuY29tPgogKgogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0bwogKiBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZQogKiByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3IKICogc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAogKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgogKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORwogKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTCiAqIElOIFRIRSBTT0ZUV0FSRS4KICovCgovKiEgXGRlZmdyb3VwIGNvbnRleHQtYW5kLXZob3N0IGNvbnRleHQgYW5kIHZob3N0IHJlbGF0ZWQgZnVuY3Rpb25zCiAqICMjQ29udGV4dCBhbmQgVmhvc3QgcmVsZWF0ZWQgZnVuY3Rpb25zCiAqIFxpbmdyb3VwIGx3c2FwaQogKgogKgogKiAgTFdTIHJlcXVpcmVzIHRoYXQgdGhlcmUgaXMgb25lIGNvbnRleHQsIGluIHdoaWNoIHlvdSBtYXkgZGVmaW5lIG11bHRpcGxlCiAqICB2aG9zdHMuICBFYWNoIHZob3N0IGlzIGEgdmlydHVhbCBob3N0LCB3aXRoIGVpdGhlciBpdHMgb3duIGxpc3RlbiBwb3J0CiAqICBvciBzaGFyaW5nIGFuIGV4aXN0aW5nIG9uZS4gIEVhY2ggdmhvc3QgaGFzIGl0cyBvd24gU1NMIGNvbnRleHQgdGhhdCBjYW4KICogIGJlIHNldCB1cCBpbmRpdmlkdWFsbHkgb3IgbGVmdCBkaXNhYmxlZC4KICoKICogIElmIHlvdSBkb24ndCBjYXJlIGFib3V0IG11bHRpcGxlICJzaXRlIiBzdXBwb3J0LCB5b3UgY2FuIGlnbm9yZSBpdCBhbmQKICogIGx3cyB3aWxsIGNyZWF0ZSBhIHNpbmdsZSBkZWZhdWx0IHZob3N0IGF0IGNvbnRleHQgY3JlYXRpb24gdGltZS4KICovCi8vL0B7CgovKgogKiBOT1RFOiBUaGVzZSBwdWJsaWMgZW51bXMgYXJlIHBhcnQgb2YgdGhlIGFiaS4gIElmIHlvdSB3YW50IHRvIGFkZCBvbmUsCiAqIGFkZCBpdCBhdCB3aGVyZSBzcGVjaWZpZWQgc28gZXhpc3RpbmcgdXNlcnMgYXJlIHVuYWZmZWN0ZWQuCiAqLwoKCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fUkVRVUlSRV9WQUxJRF9PUEVOU1NMX0NMSUVOVF9DRVJUCSAoKDFsbCA8PCAxKSB8IFwKCQkJCQkJCQkgICgxbGwgPDwgMTIpKQoJLyoqPCAoVkgpIERvbid0IGFsbG93IHRoZSBjb25uZWN0aW9uIHVubGVzcyB0aGUgY2xpZW50IGhhcyBhCgkgKiBjbGllbnQgY2VydCB0aGF0IHdlIHJlY29nbml6ZTsgcHJvdmlkZXMKCSAqIExXU19TRVJWRVJfT1BUSU9OX0RPX1NTTF9HTE9CQUxfSU5JVCAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX1NLSVBfU0VSVkVSX0NBTk9OSUNBTF9OQU1FCQkgICgxbGwgPDwgMikKCS8qKjwgKENUWCkgRG9uJ3QgdHJ5IHRvIGdldCB0aGUgc2VydmVyJ3MgaG9zdG5hbWUgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19OT05fU1NMX09OX1NTTF9QT1JUCQkgKCgxbGwgPDwgMykgfCBcCgkJCQkJCQkJICAoMWxsIDw8IDEyKSkKCS8qKjwgKFZIKSBBbGxvdyBub24tU1NMIChwbGFpbnRleHQpIGNvbm5lY3Rpb25zIG9uIHRoZSBzYW1lCgkgKiBwb3J0IGFzIFNTTCBpcyBsaXN0ZW5pbmcuICBJZiBjb21iaW5lZCB3aXRoCgkgKiBMV1NfU0VSVkVSX09QVElPTl9SRURJUkVDVF9IVFRQX1RPX0hUVFBTIGl0IHdpbGwgdHJ5IHRvCgkgKiBmb3JjZSBodHRwIGNvbm5lY3Rpb25zIG9uIGFuIGh0dHBzIGxpc3RlbmVyIChlZywgaHR0cDovL3guY29tOjQ0MykgdG8KCSAqIHJlZGlyZWN0IHRvIGFuIGV4cGxpY2l0IGh0dHBzIGNvbm5lY3Rpb24gKGVnLCBodHRwczovL3guY29tKQoJICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fTElCRVYJCQkJCSAoMWxsIDw8IDQpCgkvKio8IChDVFgpIFVzZSBsaWJldiBldmVudCBsb29wICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fRElTQUJMRV9JUFY2CQkJCSAoMWxsIDw8IDUpCgkvKio8IChWSCkgRGlzYWJsZSBJUFY2IHN1cHBvcnQgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9ESVNBQkxFX09TX0NBX0NFUlRTCQkJICgxbGwgPDwgNikKCS8qKjwgKFZIKSBEb24ndCBsb2FkIE9TIENBIGNlcnRzLCB5b3Ugd2lsbCBuZWVkIHRvIGxvYWQgeW91cgoJICogb3duIENBIGNlcnQocykgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9QRUVSX0NFUlRfTk9UX1JFUVVJUkVECQkgKDFsbCA8PCA3KQoJLyoqPCAoVkgpIEFjY2VwdCBjb25uZWN0aW9ucyB3aXRoIG5vIHZhbGlkIENlcnQgKGVnLCBzZWxmc2lnbmVkKSAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX1ZBTElEQVRFX1VURjgJCQkJICgxbGwgPDwgOCkKCS8qKjwgKFZIKSBDaGVjayBVVC04IGNvcnJlY3RuZXNzICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fU1NMX0VDREgJCQkJICgoMWxsIDw8IDkpIHwgXAoJCQkJCQkJCSAgKDFsbCA8PCAxMikpCgkvKio8IChWSCkgIGluaXRpYWxpemUgRUNESCBjaXBoZXJzICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fTElCVVYJCQkJCSgxbGwgPDwgMTApCgkvKio8IChDVFgpICBVc2UgbGlidXYgZXZlbnQgbG9vcCAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX1JFRElSRUNUX0hUVFBfVE9fSFRUUFMJCSgoMWxsIDw8IDExKSB8XAoJCQkJCQkJCSAoMWxsIDw8IDEyKSkKCS8qKjwgKFZIKSBVc2UgYW4gaHR0cCByZWRpcmVjdCB0byBmb3JjZSB0aGUgY2xpZW50IHRvIGFzayBmb3IgaHR0cHMuCgkgKiBOb3RpY2UgaWYgeW91ciBodHRwIHNlcnZlciBpc3N1ZXMgdGhlIFNUUyBoZWFkZXIgYW5kIHRoZSBjbGllbnQgaGFzCgkgKiBldmVyIHNlZW4gdGhhdCwgdGhlIGNsaWVudCB3aWxsIGZhaWwgdGhlIGh0dHAgY29ubmVjdGlvbiBiZWZvcmUgaXQKCSAqIGNhbiBhY3R1YWxseSBkbyB0aGUgcmVkaXJlY3QuCgkgKgoJICogQ29tYmluZSB3aXRoIExXU19TRVJWRVJfT1BUSU9OX1JFRElSRUNUX0hUVFBfVE9fSFRUUFMgdG8gaGFuZGxlLCBlZywKCSAqIGh0dHA6Ly94LmNvbTo0NDMgLT4gaHR0cHM6Ly94LmNvbQoJICoKCSAqIChkZXByZWNhdGVkOiB1c2UgbW91bnQgcmVkaXJlY3Rpb24pICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUCQkJICgxbGwgPDwgMTIpCgkvKio8IChDVFgpIEluaXRpYWxpemUgdGhlIFNTTCBsaWJyYXJ5IGF0IGFsbCAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0VYUExJQ0lUX1ZIT1NUUwkJCSAoMWxsIDw8IDEzKQoJLyoqPCAoQ1RYKSBPbmx5IGNyZWF0ZSB0aGUgY29udGV4dCB3aGVuIGNhbGxpbmcgY29udGV4dAoJICogY3JlYXRlIGFwaSwgaW1wbGllcyB1c2VyIGNvZGUgd2lsbCBjcmVhdGUgaXRzIG93biB2aG9zdHMgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9VTklYX1NPQ0sJCQkJICgxbGwgPDwgMTQpCgkvKio8IChWSCkgVXNlIFVuaXggc29ja2V0ICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fU1RTCQkJCQkgKDFsbCA8PCAxNSkKCS8qKjwgKFZIKSBTZW5kIFN0cmljdCBUcmFuc3BvcnQgU2VjdXJpdHkgaGVhZGVyLCBtYWtpbmcKCSAqIGNsaWVudHMgc3Vic2VxdWVudGx5IGdvIHRvIGh0dHBzIGV2ZW4gaWYgdXNlciBhc2tlZCBmb3IgaHR0cCAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0lQVjZfVjZPTkxZX01PRElGWQkJCSAoMWxsIDw8IDE2KQoJLyoqPCAoVkgpIEVuYWJsZSBMV1NfU0VSVkVSX09QVElPTl9JUFY2X1Y2T05MWV9WQUxVRSB0byB0YWtlIGVmZmVjdCAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0lQVjZfVjZPTkxZX1ZBTFVFCQkJICgxbGwgPDwgMTcpCgkvKio8IChWSCkgaWYgc2V0LCBvbmx5IGlwdjYgYWxsb3dlZCBvbiB0aGUgdmhvc3QgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9VVl9OT19TSUdTRUdWX1NJR0ZQRV9TUElOCQkgKDFsbCA8PCAxOCkKCS8qKjwgKENUWCkgTGlidXYgb25seTogRG8gbm90IHNwaW4gb24gU0lHU0VHViAvIFNJR0ZQRS4gIEEgc2VnZmF1bHQKCSAqIG5vcm1hbGx5IG1ha2VzIHRoZSBsaWIgc3BpbiBzbyB5b3UgY2FuIGF0dGFjaCBhIGRlYnVnZ2VyIHRvIGl0CgkgKiBldmVuIGlmIGl0IGhhcHBlbmVkIHdpdGhvdXQgYSBkZWJ1Z2dlciBpbiBwbGFjZS4gIFlvdSBjYW4gZGlzYWJsZQoJICogdGhhdCBieSBnaXZpbmcgdGhpcyBvcHRpb24uCgkgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9KVVNUX1VTRV9SQVdfT1JJR0lOCQkJICgxbGwgPDwgMTkpCgkvKio8IEZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSByZWFzb25zLCBieSBkZWZhdWx0CgkgKiBsd3MgcHJlcGVuZHMgImh0dHA6Ly8iIHRvIHRoZSBvcmlnaW4geW91IGdpdmUgaW4gdGhlIGNsaWVudAoJICogY29ubmVjdGlvbiBpbmZvIHN0cnVjdC4gIElmIHlvdSBnaXZlIHRoaXMgZmxhZyB3aGVuIHlvdSBjcmVhdGUKCSAqIHRoZSBjb250ZXh0LCBvbmx5IHRoZSBzdHJpbmcgeW91IGdpdmUgaW4gdGhlIGNsaWVudCBjb25uZWN0CgkgKiBpbmZvIGZvciAub3JpZ2luIChpZiBhbnkpIHdpbGwgYmUgdXNlZCBkaXJlY3RseS4KCSAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0ZBTExCQUNLX1RPX1JBVyAvKiB1c2UgYmVsb3cgbmFtZSAqLwkgKDFsbCA8PCAyMCkKI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9GQUxMQkFDS19UT19BUFBMWV9MSVNURU5fQUNDRVBUX0NPTkZJRyAoMWxsIDw8IDIwKQoJLyoqPCAoVkgpIGlmIGludmFsaWQgaHR0cCBpcyBjb21pbmcgaW4gdGhlIGZpcnN0IGxpbmUsIHRoZW4gYWJhbmRvbgoJICogdHJ5aW5nIHRvIHRyZWF0IHRoZSBjb25uZWN0aW9uIGFzIGh0dHAsIGFuZCBiZWxhdGVkbHkgYXBwbHkgdGhlCgkgKiAubGlzdGVuX2FjY2VwdF9yb2xlIC8gLmxpc3Rlbl9hY2NlcHRfcHJvdG9jb2wgaW5mbyBzdHJ1Y3QgbWVtYmVycyB0bwoJICogdGhlIGNvbm5lY3Rpb24uICBJZiB0aGV5IGFyZSBOVUxMLCBmb3IgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgdGhlCgkgKiBjb25uZWN0aW9uIGlzIGJvdW5kIHRvICJyYXctc2t0IiByb2xlLCBhbmQgaW4gb3JkZXIgb2YgcHJpb3JpdHk6CgkgKiAxKSB0aGUgdmggcHJvdG9jb2wgd2l0aCBhIHB2byBuYW1lZCAicmF3IiwgMikgdGhlIHZoIHByb3RvY29sIHdpdGggYQoJICogcHZvIG5hbWVkICJkZWZhdWx0Iiwgb3IgMykgcHJvdG9jb2xzWzBdLgoJICoKCSAqIE11c3QgYmUgY29tYmluZWQgd2l0aCBMV1NfU0VSVkVSX09QVElPTl9BTExPV19OT05fU1NMX09OX1NTTF9QT1JUCgkgKiB0byB3b3JrIHdpdGggYSBzb2NrZXQgbGlzdGVuaW5nIHdpdGggdGxzLgoJICovCgojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0xJQkVWRU5UCQkJCSgxbGwgPDwgMjEpCgkvKio8IChDVFgpIFVzZSBsaWJldmVudCBldmVudCBsb29wICovCgojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX09OTFlfUkFXIC8qIFVzZSBiZWxvdyBuYW1lIGluc3RlYWQgKi8JKDFsbCA8PCAyMikKI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9BRE9QVF9BUFBMWV9MSVNURU5fQUNDRVBUX0NPTkZJRwkoMWxsIDw8IDIyKQoJLyoqPCAoVkgpIEFsbCBjb25uZWN0aW9ucyB0byB0aGlzIHZob3N0IC8gcG9ydCBhcmUgYm91bmQgdG8gdGhlCgkgKiByb2xlIGFuZCBwcm90b2NvbCBnaXZlbiBpbiAubGlzdGVuX2FjY2VwdF9yb2xlIC8KCSAqIC5saXN0ZW5fYWNjZXB0X3Byb3RvY29sLgoJICoKCSAqIElmIHRob3NlIGV4cGxpY2l0IHVzZXItY29udHJvbGxlZCBuYW1lcyBhcmUgTlVMTCwgZm9yIGJhY2t3YXJkcy0KCSAqIGNvbXBhdGliaWxpdHkgdGhlIGNvbm5lY3Rpb24gaXMgYm91bmQgdG8gInJhdy1za3QiIHJvbGUsIGFuZCBpbiBvcmRlcgoJICogb2YgcHJpb3JpdHk6IDEpIHRoZSB2aCBwcm90b2NvbCB3aXRoIGEgcHZvIG5hbWVkICJyYXciLCAyKSB0aGUgdmgKCSAqIHByb3RvY29sIHdpdGggYSBwdm8gbmFtZWQgImRlZmF1bHQiLCBvciAzKSBwcm90b2NvbHNbMF0uCgkgKgoJICogSXQncyBtdWNoIHByZWZlcnJlZCB0byBzcGVjaWZ5IHRoZSByb2xlICsgcHJvdG9jb2wgdXNpbmcgdGhlCgkgKiAubGlzdGVuX2FjY2VwdF9yb2xlIGFuZCAubGlzdGVuX2FjY2VwdF9wcm90b2NvbCBpbiB0aGUgaW5mbyBzdHJ1Y3QuCgkgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19MSVNURU5fU0hBUkUJCQkoMWxsIDw8IDIzKQoJLyoqPCAoVkgpIFNldCB0byBhbGxvdyBtdWx0aXBsZSBsaXN0ZW4gc29ja2V0cyBvbiBvbmUgaW50ZXJmYWNlICsKCSAqIGFkZHJlc3MgKyBwb3J0LiAgVGhlIGRlZmF1bHQgaXMgdG8gc3RyaWN0bHkgYWxsb3cgb25seSBvbmUKCSAqIGxpc3RlbiBzb2NrZXQgYXQgYSB0aW1lLiAgVGhpcyBpcyBhdXRvbWF0aWNhbGx5IHNlbGVjdGVkIGlmIHlvdQoJICogaGF2ZSBtdWx0aXBsZSBzZXJ2aWNlIHRocmVhZHMuICBMaW51eCBvbmx5LgoJICovCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fQ1JFQVRFX1ZIT1NUX1NTTF9DVFgJCQkoMWxsIDw8IDI0KQoJLyoqPCAoVkgpIEZvcmNlIHNldHRpbmcgdXAgdGhlIHZob3N0IFNTTF9DVFgsIGV2ZW4gdGhvdWdoIHRoZSB1c2VyCgkgKiBjb2RlIGRvZXNuJ3QgZXhwbGljaXRseSBwcm92aWRlIGEgY2VydCBpbiB0aGUgaW5mbyBzdHJ1Y3QuICBJdAoJICogaW1wbGllcyB0aGUgdXNlciBjb2RlIGlzIGdvaW5nIHRvIHByb3ZpZGUgYSBjZXJ0IGF0IHRoZQoJICogTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9TRVJWRVJfVkVSSUZZX0NFUlRTIGNhbGxiYWNrLCB3aGljaAoJICogcHJvdmlkZXMgdGhlIHZob3N0IFNTTF9DVFggKiBpbiB0aGUgdXNlciBwYXJhbWV0ZXIuCgkgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9TS0lQX1BST1RPQ09MX0lOSVQJCQkoMWxsIDw8IDI1KQoJLyoqPCAoVkgpIFlvdSBwcm9iYWJseSBkb24ndCB3YW50IHRoaXMuICBJdCBmb3JjZXMgdGhpcyB2aG9zdCB0byBub3QKCSAqIGNhbGwgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQgb24gaXRzIHByb3RvY29scy4gIEl0J3MgdXNlZCBpbiB0aGUKCSAqIHNwZWNpYWwgY2FzZSBvZiBhIHRlbXBvcmFyeSB2aG9zdCBib3VuZCB0byBhIHNpbmdsZSBwcm90b2NvbC4KCSAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0lHTk9SRV9NSVNTSU5HX0NFUlQJCQkoMWxsIDw8IDI2KQoJLyoqPCAoVkgpIERvbid0IGZhaWwgaWYgdGhlIHZob3N0IFRMUyBjZXJ0IG9yIGtleSBhcmUgbWlzc2luZywganVzdAoJICogY29udGludWUuICBUaGUgdmhvc3Qgd29uJ3QgYmUgYWJsZSB0byBzZXJ2ZSBhbnl0aGluZywgYnV0IGlmIGZvcgoJICogZXhhbXBsZSB0aGUgQUNNRSBwbHVnaW4gd2FzIGNvbmZpZ3VyZWQgdG8gZmV0Y2ggYSBjZXJ0LCB0aGlzIGxldHMKCSAqIHlvdSBib290c3RyYXAgeW91ciB2aG9zdCBmcm9tIGhhdmluZyBubyBjZXJ0IHRvIHN0YXJ0IHdpdGguCgkgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9WSE9TVF9VUEdfU1RSSUNUX0hPU1RfQ0hFQ0sJCSgxbGwgPDwgMjcpCgkvKio8IChWSCkgT24gdGhpcyB2aG9zdCwgaWYgdGhlIGNvbm5lY3Rpb24gaXMgYmVpbmcgdXBncmFkZWQsIGluc2lzdAoJICogdGhhdCB0aGVyZSdzIGEgSG9zdDogaGVhZGVyIGFuZCB0aGF0IHRoZSBjb250ZW50cyBtYXRjaCB0aGUgdmhvc3QKCSAqIG5hbWUgKyBwb3J0ICg0NDMgLyA4MCBhcmUgYXNzdW1lZCBpZiBubyA6cG9ydCBnaXZlbiBiYXNlZCBvbiBpZiB0aGUKCSAqIGNvbm5lY3Rpb24gaXMgdXNpbmcgVExTKS4KCSAqCgkgKiBCeSBkZWZhdWx0LCB3aXRob3V0IHRoaXMgZmxhZywgb24gdXBncmFkZSBsd3MganVzdCBjaGVja3MgdGhhdCB0aGUKCSAqIEhvc3Q6IGhlYWRlciB3YXMgZ2l2ZW4gd2l0aG91dCBjaGVja2luZyB0aGUgY29udGVudHMuLi4gdGhpcyBpcyB0bwoJICogYWxsb3cgbGF4IGhvc3RuYW1lIG1hcHBpbmdzIGxpa2UgbG9jYWxob3N0IC8gMTI3LjAuMC4xLCBhbmQgQ05BTUUKCSAqIG1hcHBpbmdzIGxpa2Ugd3d3Lm15c2l0ZS5jb20gLyBteXNpdGUuY29tCgkgKi8KI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9IVFRQX0hFQURFUlNfU0VDVVJJVFlfQkVTVF9QUkFDVElDRVNfRU5GT1JDRSAoMWxsIDw8IDI4KQoJLyoqPCAoVkgpIFNlbmQgbHdzIGRlZmF1bHQgSFRUUCBoZWFkZXJzIHJlY29tbWVuZGVkIGJ5IE1vemlsbGEKCSAqIE9ic2VydmF0b3J5IGZvciBzZWN1cml0eS4gIFRoaXMgaXMgYSBoZWxwZXIgb3B0aW9uIHRoYXQgc2VuZHMgY2FubmVkCgkgKiBoZWFkZXJzIG9uIGVhY2ggaHR0cCByZXNwb25zZSBlbmFibGluZyBhIFZFUlkgc3RyaWN0IENvbnRlbnQgU2VjdXJpdHkKCSAqIFBvbGljeS4gIFRoZSBwb2xpY3kgaXMgc28gc3RyaWN0LCBmb3IgZXhhbXBsZSBpdCB3b24ndCBsZXQgdGhlIHBhZ2UKCSAqIHJ1biBpdHMgb3duIGlubGluZSBKUyBub3Igc2hvdyBpbWFnZXMgb3IgdGFrZSBDU1MgZnJvbSBhIGRpZmZlcmVudAoJICogc2VydmVyLiAgSW4gbWFueSBjYXNlcyB5b3VyIEpTIG9ubHkgY29tZXMgZnJvbSB5b3VyIHNlcnZlciBhcyBkbyB0aGUKCSAqIGltYWdlIHNvdXJjZXMgYW5kIENTUywgc28gdGhhdCBpcyB3aGF0IHlvdSB3YW50Li4uIGF0dGFja2VycyBob3BpbmcKCSAqIHRvIGluamVjdCBKUyBpbnRvIHlvdXIgRE9NIGFyZSBjb21wbGV0ZWx5IG91dCBvZiBsdWNrIHNpbmNlIGV2ZW4gaWYKCSAqIHRoZXkgc3VjY2VlZCwgaXQgd2lsbCBiZSByZWplY3RlZCBmb3IgZXhlY3V0aW9uIGJ5IHRoZSBicm93c2VyCgkgKiBhY2NvcmRpbmcgdG8gdGhlIHN0cmljdCBDU1AuICBJbiBvdGhlciBjYXNlcyB5b3UgaGF2ZSB0byBkZXZpYXRlIGZyb20KCSAqIHRoZSBjb21wbGV0ZSBzdHJpY3RuZXNzLCBpbiB3aGljaCBjYXNlIGRvbid0IHVzZSB0aGlzIGZsYWc6IHVzZSB0aGUKCSAqIC5oZWFkZXJzIG1lbWJlciBpbiB0aGUgdmhvc3QgaW5pdCBkZXNjcmliZWQgaW4gc3RydWN0CgkgKiBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvIGluc3RlYWQgdG8gc2VuZCB0aGUgYWRhcHRlZCBoZWFkZXJzCgkgKiB5b3Vyc2VsZi4KCSAqLwoKI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9BTExPV19IVFRQX09OX0hUVFBTX0xJU1RFTkVSCQkgKDFsbCA8PCAyOSkKCS8qKjwgKFZIKSBJZiB5b3UgcmVhbGx5IHdhbnQgdG8gYWxsb3cgSFRUUCBjb25uZWN0aW9ucyBvbiBhIHRscwoJICogbGlzdGVuZXIsIHlvdSBjYW4gZG8gaXQgd2l0aCB0aGlzIGNvbWJpbmVkIHdpdGgKCSAqIExXU19TRVJWRVJfT1BUSU9OX0FMTE9XX05PTl9TU0xfT05fU1NMX1BPUlQuICBCdXQgdGhpcyBpcyBhbGxvd2luZwoJICogYWNjaWRlbnRhbCBsb3NzIG9mIHRoZSBzZWN1cml0eSBhc3N1cmFuY2VzIHByb3ZpZGVkIGJ5IHRscyBkZXBlbmRpbmcKCSAqIG9uIHRoZSBjbGllbnQgdXNpbmcgaHR0cCB3aGVuIGhlIG1lYW50IGh0dHBzLi4uIGl0J3Mgbm90CgkgKiByZWNvbW1lbmRlZC4KCSAqLwojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX0ZBSUxfVVBPTl9VTkFCTEVfVE9fQklORAkJICgxbGwgPDwgMzApCgkvKio8IChWSCkgV2hlbiBpbnN0YW50aWF0aW5nIGEgbmV3IHZob3N0IGFuZCB0aGUgc3BlY2lmaWVkIHBvcnQgaXMKCSAqIGFscmVhZHkgaW4gdXNlLCBhIG51bGwgdmFsdWUgc2hhbGwgYmUgcmV0dXJuIHRvIHNpZ25hbCB0aGUgZXJyb3IuCgkgKi8KCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fSDJfSlVTVF9GSVhfV0lORE9XX1VQREFURV9PVkVSRkxPVwkgKDFsbCA8PCAzMSkKCS8qKjwgKFZIKSBJbmRpY2F0ZXMgdGhlIGNvbm5lY3Rpb25zIHVzaW5nIHRoaXMgdmhvc3Qgc2hvdWxkIGlnbm9yZQoJICogaDIgV0lORE9XX1VQREFURSBmcm9tIGJyb2tlbiBwZWVycyBhbmQgZml4IHRoZW0gdXAgKi8KCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fVkhfSDJfSEFMRl9DTE9TRURfTE9OR19QT0xMCQkgKDFsbCA8PCAzMikKCS8qKjwgKFZIKSBUZWxsIHRoZSB2aG9zdCB0byB0cmVhdCBoYWxmLWNsb3NlZCByZW1vdGUgY2xpZW50cyBhcwoJICogZW50ZXJlZCBpbnRvIGFuIGltbW9ydGFsIChpZSwgbm90IHN1YmplY3QgdG8gbm9ybWFsIHRpbWVvdXRzKSBsb25nCgkgKiBwb2xsIG1vZGUuCgkgKi8KCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fR0xJQgkJCQkJICgxbGwgPDwgMzMpCgkvKio8IChDVFgpIFVzZSBnbGliIGV2ZW50IGxvb3AgKi8KCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fSDJfUFJJT1JfS05PV0xFREdFCQkJICgxbGwgPDwgMzQpCgkvKio8IChWSCkgVGVsbCB0aGUgdmhvc3QgdG8gdHJlYXQgcGxhaW4gdGV4dCBodHRwIGNvbm5lY3Rpb25zIGFzCgkgKiBIMiB3aXRoIHByaW9yIGtub3dsZWRnZSAobm8gdXBncmFkZSByZXF1ZXN0IGludm9sdmVkKQoJICovCgojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX05PX0xXU19TWVNURU1fU1RBVEVTCQkJICgxbGwgPDwgMzUpCgkvKio8IChDVFgpIERpc2FibGUgbHdzX3N5c3RlbSBzdGF0ZSwgZWcsIGJlY2F1c2Ugd2UgYXJlIGEgc2VjdXJlIHN0cmVhbXMKCSAqIHByb3h5IGNsaWVudCB0aGF0IGlzIG5vdCB0cnlpbmcgdG8gdHJhY2sgc3lzdGVtIHN0YXRlIGJ5IGl0c2VsZi4gKi8KCiNkZWZpbmUgTFdTX1NFUlZFUl9PUFRJT05fU1NfUFJPWFkJCQkJICgxbGwgPDwgMzYpCgkvKio8IChWSCkgV2UgYXJlIGJlaW5nIGEgU1MgUHJveHkgbGlzdGVuIHNvY2tldCBmb3IgdGhlIHZob3N0ICovCgojZGVmaW5lIExXU19TRVJWRVJfT1BUSU9OX1NERVZFTlQJCQkgCSAoMWxsIDw8IDM3KQoJLyoqPCAoQ1RYKSBVc2Ugc2QtZXZlbnQgbG9vcCAqLwoKI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9VTE9PUAkJCQkJICgxbGwgPDwgMzgpCgkvKio8IChDVFgpIFVzZSBsaWJ1Ym94IC8gdWxvb3AgZXZlbnQgbG9vcCAqLwoKI2RlZmluZSBMV1NfU0VSVkVSX09QVElPTl9ESVNBQkxFX1RMU19TRVNTSU9OX0NBQ0hFCQkgKDFsbCA8PCAzOSkKCS8qKjwgKFZIT1NUKSBEaXNhbGxvdyB1c2Ugb2YgY2xpZW50IHRscyBjYWNoaW5nIChvbiBieSBkZWZhdWx0KSAqLwoKCgkvKioqKioqIGFkZCBuZXcgdGhpbmdzIGp1c3QgYWJvdmUgLS0tXiAqKioqKiovCgoKI2RlZmluZSBsd3NfY2hlY2tfb3B0KGMsIGYpICgoKCh1aW50NjRfdCljKSAmICgodWludDY0X3QpZikpID09ICgodWludDY0X3QpZikpCgpzdHJ1Y3QgbHdzX3BsYXRfZmlsZV9vcHM7CnN0cnVjdCBsd3Nfc3NfcG9saWN5OwpzdHJ1Y3QgbHdzX3NzX3BsdWdpbjsKc3RydWN0IGx3c19tZXRyaWNfcG9saWN5OwoKdHlwZWRlZiBpbnQgKCpsd3NfY29udGV4dF9yZWFkeV9jYl90KShzdHJ1Y3QgbHdzX2NvbnRleHQgKmNvbnRleHQpOwoKdHlwZWRlZiBpbnQgKCpsd3NfcGVlcl9saW1pdHNfbm90aWZ5X3QpKHN0cnVjdCBsd3NfY29udGV4dCAqY3R4LAoJCQkJCWx3c19zb2NrZmRfdHlwZSBzb2NrZmQsCgkJCQkJbHdzX3NvY2thZGRyNDYgKnNhNDYpOwoKLyoqIHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvIC0gcGFyYW1ldGVycyB0byBjcmVhdGUgY29udGV4dCBhbmQgL29yIHZob3N0IHdpdGgKICoKICogVGhpcyBpcyBhbHNvIHVzZWQgdG8gY3JlYXRlIHZob3N0cy4uLi4gaWYgTFdTX1NFUlZFUl9PUFRJT05fRVhQTElDSVRfVkhPU1RTCiAqIGlzIG5vdCBnaXZlbiwgdGhlbiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgb25lIHZob3N0IGlzIGNyZWF0ZWQgYXQKICogY29udGV4dC1jcmVhdGlvbiB0aW1lIHVzaW5nIHRoZSBpbmZvIGZyb20gdGhpcyBzdHJ1Y3QuCiAqCiAqIElmIExXU19TRVJWRVJfT1BUSU9OX0VYUExJQ0lUX1ZIT1NUUyBpcyBnaXZlbiwgdGhlbiBubyB2aG9zdHMgYXJlIGNyZWF0ZWQKICogYXQgdGhlIHNhbWUgdGltZSBhcyB0aGUgY29udGV4dCwgdGhleSBhcmUgZXhwZWN0ZWQgdG8gYmUgY3JlYXRlZCBhZnRlcndhcmRzLgogKi8Kc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8gewojaWYgZGVmaW5lZChMV1NfV0lUSF9ORVRXT1JLKQoJY29uc3QgY2hhciAqaWZhY2U7CgkvKio8IFZIT1NUOiBOVUxMIHRvIGJpbmQgdGhlIGxpc3RlbiBzb2NrZXQgdG8gYWxsIGludGVyZmFjZXMsIG9yIHRoZQoJICogaW50ZXJmYWNlIG5hbWUsIGVnLCAiZXRoMiIKCSAqIElmIG9wdGlvbnMgc3BlY2lmaWVzIExXU19TRVJWRVJfT1BUSU9OX1VOSVhfU09DSywgdGhpcyBtZW1iZXIgaXMKCSAqIHRoZSBwYXRobmFtZSBvZiBhIFVOSVggZG9tYWluIHNvY2tldC4geW91IGNhbiB1c2UgdGhlIFVOSVggZG9tYWluCgkgKiBzb2NrZXRzIGluIGFic3RyYWN0IG5hbWVzcGFjZSwgYnkgcHJlcGVuZGluZyBhbiBhdCBzeW1ib2wgdG8gdGhlCgkgKiBzb2NrZXQgbmFtZS4gKi8KCWNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzICpwcm90b2NvbHM7CgkvKio8IFZIT1NUOiBBcnJheSBvZiBzdHJ1Y3R1cmVzIGxpc3Rpbmcgc3VwcG9ydGVkIHByb3RvY29scyBhbmQgYQoJICogcHJvdG9jb2wtc3BlY2lmaWMgY2FsbGJhY2sgZm9yIGVhY2ggb25lLiAgVGhlIGxpc3QgaXMgZW5kZWQgd2l0aCBhbgoJICogZW50cnkgdGhhdCBoYXMgYSBOVUxMIGNhbGxiYWNrIHBvaW50ZXIuICBTRUUgQUxTTyAucHByb3RvY29scyBiZWxvdywKCSAqIHdoaWNoIGdpdmVzIGFuIGFsdGVybmF0aXZlIHdheSB0byBwcm92aWRlIGFuIGFycmF5IG9mIHBvaW50ZXJzIHRvCgkgKiBwcm90b2NvbCBzdHJ1Y3RzLiAqLwojaWYgZGVmaW5lZChMV1NfUk9MRV9XUykKCWNvbnN0IHN0cnVjdCBsd3NfZXh0ZW5zaW9uICpleHRlbnNpb25zOwoJLyoqPCBWSE9TVDogTlVMTCBvciBhcnJheSBvZiBsd3NfZXh0ZW5zaW9uIHN0cnVjdHMgbGlzdGluZyB0aGUKCSAqIGV4dGVuc2lvbnMgdGhpcyBjb250ZXh0IHN1cHBvcnRzLiAqLwojZW5kaWYKI2lmIGRlZmluZWQoTFdTX1JPTEVfSDEpIHx8IGRlZmluZWQoTFdTX1JPTEVfSDIpCgljb25zdCBzdHJ1Y3QgbHdzX3Rva2VuX2xpbWl0cyAqdG9rZW5fbGltaXRzOwoJLyoqPCBDT05URVhUOiBOVUxMIG9yIHN0cnVjdCBsd3NfdG9rZW5fbGltaXRzIHBvaW50ZXIgd2hpY2ggaXMKCSAqIGluaXRpYWxpemVkIHdpdGggYSB0b2tlbiBsZW5ndGggbGltaXQgZm9yIGVhY2ggcG9zc2libGUgV1NJX1RPS0VOXyAqLwoJY29uc3QgY2hhciAqaHR0cF9wcm94eV9hZGRyZXNzOwoJLyoqPCBWSE9TVDogSWYgbm9uLU5VTEwsIGF0dGVtcHRzIHRvIHByb3h5IHZpYSB0aGUgZ2l2ZW4gYWRkcmVzcy4KCSAqIElmIHByb3h5IGF1dGggaXMgcmVxdWlyZWQsIHVzZSBmb3JtYXQKCSAqICJ1c2VybmFtZTpwYXNzd29yZFxAc2VydmVyOnBvcnQiICovCgljb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgKmhlYWRlcnM7CgkJLyoqPCBWSE9TVDogcG9pbnRlciB0byBvcHRpb25hbCBsaW5rZWQgbGlzdCBvZiBwZXItdmhvc3QKCQkgKiBjYW5uZWQgaGVhZGVycyB0aGF0IGFyZSBhZGRlZCB0byBzZXJ2ZXIgcmVzcG9uc2VzICovCgoJY29uc3Qgc3RydWN0IGx3c19wcm90b2NvbF92aG9zdF9vcHRpb25zICpyZWplY3Rfc2VydmljZV9rZXl3b3JkczsKCS8qKjwgQ09OVEVYVDogT3B0aW9uYWwgbGlzdCBvZiBrZXl3b3JkcyBhbmQgcmVqZWN0aW9uIGNvZGVzICsgdGV4dC4KCSAqCgkgKiBUaGUga2V5d29yZHMgYXJlIGNoZWNrZWQgZm9yIGV4aXN0aW5nIGluIHRoZSB1c2VyIGFnZW50IHN0cmluZy4KCSAqCgkgKiBFZywgImJhZHJvYm90IiAiNDA0IE5vdCBGb3VuZCIKCSAqLwoJY29uc3Qgc3RydWN0IGx3c19wcm90b2NvbF92aG9zdF9vcHRpb25zICpwdm87CgkvKio8IFZIT1NUOiBwb2ludGVyIHRvIG9wdGlvbmFsIGxpbmtlZCBsaXN0IG9mIHBlci12aG9zdAoJICogb3B0aW9ucyBtYWRlIGFjY2Vzc2libGUgdG8gcHJvdG9jb2xzICovCgljb25zdCBjaGFyICpsb2dfZmlsZXBhdGg7CgkvKio8IFZIT1NUOiBmaWxlcGF0aCB0byBhcHBlbmQgbG9ncyB0by4uLiB0aGlzIGlzIG9wZW5lZCBiZWZvcmUKCSAqCQlhbnkgZHJvcHBpbmcgb2YgaW5pdGlhbCBwcml2aWxlZ2VzICovCgljb25zdCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKm1vdW50czsKCS8qKjwgVkhPU1Q6IG9wdGlvbmFsIGxpbmtlZCBsaXN0IG9mIG1vdW50cyBmb3IgdGhpcyB2aG9zdCAqLwoJY29uc3QgY2hhciAqc2VydmVyX3N0cmluZzsKCS8qKjwgQ09OVEVYVDogc3RyaW5nIHVzZWQgaW4gSFRUUCBoZWFkZXJzIHRvIGlkZW50aWZ5IHNlcnZlcgoJICogc29mdHdhcmUsIGlmIE5VTEwsICJsaWJ3ZWJzb2NrZXRzIi4gKi8KCgljb25zdCBjaGFyICplcnJvcl9kb2N1bWVudF80MDQ7CgkvKio8IFZIT1NUOiBJZiBub24tTlVMTCwgd2hlbiBhc2tlZCB0byBzZXJ2ZSBhIG5vbi1leGlzdGVudCBmaWxlLAoJICogICAgICAgICAgbHdzIGF0dGVtcHRzIHRvIHNlcnZlciB0aGlzIHVybCBwYXRoIGluc3RlYWQuICBFZywKCSAqICAgICAgICAgICIvNDA0Lmh0bWwiICovCglpbnQgcG9ydDsKCS8qKjwgVkhPU1Q6IFBvcnQgdG8gbGlzdGVuIG9uLiBVc2UgQ09OVEVYVF9QT1JUX05PX0xJU1RFTiB0byBzdXBwcmVzcwoJICogbGlzdGVuaW5nIGZvciBhIGNsaWVudC4gVXNlIENPTlRFWFRfUE9SVF9OT19MSVNURU5fU0VSVkVSIGlmIHlvdSBhcmUKCSAqIHdyaXRpbmcgYSBzZXJ2ZXIgYnV0IHlvdSBhcmUgdXNpbmcgXHJlZiBzb2NrLWFkb3B0IGluc3RlYWQgb2YgdGhlCgkgKiBidWlsdC1pbiBsaXN0ZW5lci4KCSAqCgkgKiBZb3UgY2FuIGFsc28gc2V0IHBvcnQgdG8gMCwgaW4gd2hpY2ggY2FzZSB0aGUga2VybmVsIHdpbGwgcGljawoJICogYSByYW5kb20gcG9ydCB0aGF0IGlzIG5vdCBhbHJlYWR5IGluIHVzZS4gIFlvdSBjYW4gZmluZCBvdXQgd2hhdAoJICogcG9ydCB0aGUgdmhvc3QgaXMgbGlzdGVuaW5nIG9uIHVzaW5nIGx3c19nZXRfdmhvc3RfbGlzdGVuX3BvcnQoKSAqLwoKCXVuc2lnbmVkIGludCBodHRwX3Byb3h5X3BvcnQ7CgkvKio8IFZIT1NUOiBJZiBodHRwX3Byb3h5X2FkZHJlc3Mgd2FzIG5vbi1OVUxMLCB1c2VzIHRoaXMgcG9ydCAqLwoJdW5zaWduZWQgaW50IG1heF9odHRwX2hlYWRlcl9kYXRhMjsKCS8qKjwgQ09OVEVYVDogaWYgbWF4X2h0dHBfaGVhZGVyX2RhdGEgaXMgMCBhbmQgdGhpcwoJICogaXMgbm9uemVybywgdGhpcyB3aWxsIGJlIHVzZWQgaW4gcGxhY2Ugb2YgdGhlIGRlZmF1bHQuICBJdCdzCgkgKiBsaWtlIHRoaXMgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgb3JpZ2luYWwgc2hvcnQgdmVyc2lvbiwKCSAqIHRoaXMgaXMgdW5zaWduZWQgaW50IGxlbmd0aC4gKi8KCXVuc2lnbmVkIGludCBtYXhfaHR0cF9oZWFkZXJfcG9vbDI7CgkvKio8IENPTlRFWFQ6IGlmIG1heF9odHRwX2hlYWRlcl9wb29sIGlzIDAgYW5kIHRoaXMKCSAqIGlzIG5vbnplcm8sIHRoaXMgd2lsbCBiZSB1c2VkIGluIHBsYWNlIG9mIHRoZSBkZWZhdWx0LiAgSXQncwoJICogbGlrZSB0aGlzIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdGhlIG9yaWdpbmFsIHNob3J0IHZlcnNpb246CgkgKiB0aGlzIGlzIHVuc2lnbmVkIGludCBsZW5ndGguICovCgoJaW50IGtlZXBhbGl2ZV90aW1lb3V0OwoJLyoqPCBWSE9TVDogKGRlZmF1bHQgPSAwID0gNXMsIDMxcyBmb3IgaHR0cC8yKSBzZWNvbmRzIHRvIGFsbG93IHJlbW90ZQoJICogY2xpZW50IHRvIGhvbGQgb24gdG8gYW4gaWRsZSBIVFRQLzEuMSBjb25uZWN0aW9uLiAgVGltZW91dCBsaWZldGltZQoJICogYXBwbGllZCB0byBpZGxlIGgyIG5ldHdvcmsgY29ubmVjdGlvbnMgKi8KCXVpbnQzMl90CWh0dHAyX3NldHRpbmdzWzddOwoJLyoqPCBWSE9TVDogIGlmIGh0dHAyX3NldHRpbmdzWzBdIGlzIG5vbnplcm8sIHRoZSB2YWx1ZXMgZ2l2ZW4gaW4KCSAqCSAgICAgIGh0dHAyX3NldHRpbmdzWzFdLi5bNl0gYXJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgbHdzCgkgKgkgICAgICBwbGF0Zm9ybSBkZWZhdWx0IHZhbHVlcy4KCSAqCSAgICAgIEp1c3QgbGVhdmUgYWxsIGF0IDAgaWYgeW91IGRvbid0IGNhcmUuCgkgKi8KCgl1bnNpZ25lZCBzaG9ydCBtYXhfaHR0cF9oZWFkZXJfZGF0YTsKCS8qKjwgQ09OVEVYVDogVGhlIG1heCBhbW91bnQgb2YgaGVhZGVyIHBheWxvYWQgdGhhdCBjYW4gYmUgaGFuZGxlZAoJICogaW4gYW4gaHR0cCByZXF1ZXN0ICh1bnJlY29nbml6ZWQgaGVhZGVyIHBheWxvYWQgaXMgZHJvcHBlZCkgKi8KCXVuc2lnbmVkIHNob3J0IG1heF9odHRwX2hlYWRlcl9wb29sOwoJLyoqPCBDT05URVhUOiBUaGUgbWF4IG51bWJlciBvZiBjb25uZWN0aW9ucyB3aXRoIGh0dHAgaGVhZGVycyB0aGF0CgkgKiBjYW4gYmUgcHJvY2Vzc2VkIHNpbXVsdGFuZW91c2x5ICh0aGUgY29ycmVzcG9uZGluZyBtZW1vcnkgaXMKCSAqIGFsbG9jYXRlZCBhbmQgZGVhbGxvY2F0ZWQgZHluYW1pY2FsbHkgYXMgbmVlZGVkKS4gIElmIHRoZSBwb29sIGlzCgkgKiBmdWxseSBidXN5IG5ldyBpbmNvbWluZyBjb25uZWN0aW9ucyBtdXN0IHdhaXQgZm9yIGFjY2VwdCB1bnRpbCBvbmUKCSAqIGJlY29tZXMgZnJlZS4gMCA9IGFsbG93IGFzIG1hbnkgYWggYXMgbnVtYmVyIG9mIGF2YWlsYmxlIGZkcyBmb3IKCSAqIHRoZSBwcm9jZXNzICovCgojZW5kaWYKCiNpZiBkZWZpbmVkKExXU19XSVRIX1RMUykKCWNvbnN0IGNoYXIgKnNzbF9wcml2YXRlX2tleV9wYXNzd29yZDsKCS8qKjwgVkhPU1Q6IE5VTEwgb3IgdGhlIHBhc3NwaHJhc2UgbmVlZGVkIGZvciB0aGUgcHJpdmF0ZSBrZXkuIChGb3IKCSAqIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB0aGlzIGNhbiBhbHNvIGJlIHVzZWQgdG8gcGFzcyB0aGUgY2xpZW50CgkgKiBjZXJ0IHBhc3NwaHJhc2Ugd2hlbiBzZXR0aW5nIHVwIGEgdmhvc3QgY2xpZW50IFNTTCBjb250ZXh0LCBidXQgaXQgaXMKCSAqIHByZWZlcnJlZCB0byB1c2UgLmNsaWVudF9zc2xfcHJpdmF0ZV9rZXlfcGFzc3dvcmQgZm9yIHRoYXQuKSAqLwoJY29uc3QgY2hhciAqc3NsX2NlcnRfZmlsZXBhdGg7CgkvKio8IFZIT1NUOiBJZiBsaWJ3ZWJzb2NrZXRzIHdhcyBjb21waWxlZCB0byB1c2Ugc3NsLCBhbmQgeW91IHdhbnQKCSAqIHRvIGxpc3RlbiB1c2luZyBTU0wsIHNldCB0byB0aGUgZmlsZXBhdGggdG8gZmV0Y2ggdGhlCgkgKiBzZXJ2ZXIgY2VydCBmcm9tLCBvdGhlcndpc2UgTlVMTCBmb3IgdW5lbmNyeXB0ZWQuICAoRm9yIGJhY2t3YXJkcwoJICogY29tcGF0aWJpbGl0eSwgdGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIHBhc3MgdGhlIGNsaWVudCBjZXJ0aWZpY2F0ZQoJICogd2hlbiBzZXR0aW5nIHVwIGEgdmhvc3QgY2xpZW50IFNTTCBjb250ZXh0LCBidXQgaXQgaXMgcHJlZmVycmVkIHRvCgkgKiB1c2UgLmNsaWVudF9zc2xfY2VydF9maWxlcGF0aCBmb3IgdGhhdC4pCgkgKgoJICogTm90aWNlIHlvdSBjYW4gYWx0ZXJuYXRpdmVseSBzZXQgYSBzaW5nbGUgREVSIG9yIFBFTSBmcm9tIGEgbWVtb3J5CgkgKiBidWZmZXIgYXMgdGhlIHZob3N0IHRscyBjZXJ0IHVzaW5nIFxwIHNlcnZlcl9zc2xfY2VydF9tZW0gYW5kCgkgKiBccCBzZXJ2ZXJfc3NsX2NlcnRfbWVtX2xlbi4KCSAqLwoJY29uc3QgY2hhciAqc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoOwoJLyoqPCAgVkhPU1Q6IGZpbGVwYXRoIHRvIHByaXZhdGUga2V5IGlmIHdhbnRpbmcgU1NMIG1vZGU7CgkgKiBpZiB0aGlzIGlzIHNldCB0byBOVUxMIGJ1dCBzc2xfY2VydF9maWxlcGF0aCBpcyBzZXQsIHRoZQoJICogT1BFTlNTTF9DT05URVhUX1JFUVVJUkVTX1BSSVZBVEVfS0VZIGNhbGxiYWNrIGlzIGNhbGxlZAoJICogdG8gYWxsb3cgc2V0dGluZyBvZiB0aGUgcHJpdmF0ZSBrZXkgZGlyZWN0bHkgdmlhIG9wZW5TU0wKCSAqIGxpYnJhcnkgY2FsbHMuICAgKEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgdGhpcyBjYW4gYWxzbyBiZSB1c2VkCgkgKiB0byBwYXNzIHRoZSBjbGllbnQgY2VydCBwcml2YXRlIGtleSBmaWxlcGF0aCB3aGVuIHNldHRpbmcgdXAgYQoJICogdmhvc3QgY2xpZW50IFNTTCBjb250ZXh0LCBidXQgaXQgaXMgcHJlZmVycmVkIHRvIHVzZQoJICogLmNsaWVudF9zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggZm9yIHRoYXQuKQoJICoKCSAqIE5vdGljZSB5b3UgY2FuIGFsdGVybmF0aXZlbHkgc2V0IGEgREVSIG9yIFBFTSBwcml2YXRlIGtleSBmcm9tIGEKCSAqIG1lbW9yeSBidWZmZXIgYXMgdGhlIHZob3N0IHRscyBwcml2YXRlIGtleSB1c2luZwoJICogXHAgc2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0gYW5kIFxwIHNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtX2xlbi4KCSAqLwoJY29uc3QgY2hhciAqc3NsX2NhX2ZpbGVwYXRoOwoJLyoqPCBWSE9TVDogQ0EgY2VydGlmaWNhdGUgZmlsZXBhdGggb3IgTlVMTC4gIChGb3IgYmFja3dhcmRzCgkgKiBjb21wYXRpYmlsaXR5LCB0aGlzIGNhbiBhbHNvIGJlIHVzZWQgdG8gcGFzcyB0aGUgY2xpZW50IENBCgkgKiBmaWxlcGF0aCB3aGVuIHNldHRpbmcgdXAgYSB2aG9zdCBjbGllbnQgU1NMIGNvbnRleHQsCgkgKiBidXQgaXQgaXMgcHJlZmVycmVkIHRvIHVzZSAuY2xpZW50X3NzbF9jYV9maWxlcGF0aCBmb3IgdGhhdC4pCgkgKgoJICogTm90aWNlIHlvdSBjYW4gYWx0ZXJuYXRpdmVseSBzZXQgYSBERVIgb3IgUEVNIENBIGNlcnQgZnJvbSBhIG1lbW9yeQoJICogYnVmZmVyIHVzaW5nIFxwIHNlcnZlcl9zc2xfY2FfbWVtIGFuZCBccCBzZXJ2ZXJfc3NsX2NhX21lbV9sZW4uCgkgKi8KCWNvbnN0IGNoYXIgKnNzbF9jaXBoZXJfbGlzdDsKCS8qKjwgVkhPU1Q6IExpc3Qgb2YgdmFsaWQgY2lwaGVycyB0byB1c2UgT04gVExTMS4yIEFORCBMT1dFUiBPTkxZIChlZywKCSAqICJSQzQtTUQ1OlJDNC1TSEE6QUVTMTI4LVNIQTpBRVMyNTYtU0hBOkhJR0g6IURTUzohYU5VTEwiCgkgKiBvciB5b3UgY2FuIGxlYXZlIGl0IGFzIE5VTEwgdG8gZ2V0ICJERUZBVUxUIiAoRm9yIGJhY2t3YXJkcwoJICogY29tcGF0aWJpbGl0eSwgdGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIHBhc3MgdGhlIGNsaWVudCBjaXBoZXIKCSAqIGxpc3Qgd2hlbiBzZXR0aW5nIHVwIGEgdmhvc3QgY2xpZW50IFNTTCBjb250ZXh0LAoJICogYnV0IGl0IGlzIHByZWZlcnJlZCB0byB1c2UgLmNsaWVudF9zc2xfY2lwaGVyX2xpc3QgZm9yIHRoYXQuKQoJICogU0VFIC50bHMxXzNfcGx1c19jaXBoZXJfbGlzdCBhbmQgLmNsaWVudF90bHNfMV8zX3BsdXNfY2lwaGVyX2xpc3QKCSAqIGZvciB0aGUgZXF1aXZhbGVudCBmb3IgdGxzMS4zLgoJICovCgljb25zdCBjaGFyICplY2RoX2N1cnZlOwoJLyoqPCBWSE9TVDogaWYgTlVMTCwgZGVmYXVsdHMgdG8gaW5pdGlhbGl6aW5nIHNlcnZlciB3aXRoCgkgKiAgICJwcmltZTI1NnYxIiAqLwoJY29uc3QgY2hhciAqdGxzMV8zX3BsdXNfY2lwaGVyX2xpc3Q7CgkvKio8IFZIT1NUOiBMaXN0IG9mIHZhbGlkIGNpcGhlcnMgdG8gdXNlIGZvciBpbmNvbWluZyBzZXJ2ZXIgY29ubmVjdGlvbnMKCSAqIE9OIFRMUzEuMyBBTkQgQUJPVkUgKGVnLCAiVExTX0NIQUNIQTIwX1BPTFkxMzA1X1NIQTI1NiIgb24gdGhpcyB2aG9zdAoJICogb3IgeW91IGNhbiBsZWF2ZSBpdCBhcyBOVUxMIHRvIGdldCAiREVGQVVMVCIuCgkgKiBTRUUgLmNsaWVudF90bHNfMV8zX3BsdXNfY2lwaGVyX2xpc3QgdG8gZG8gdGhlIHNhbWUgb24gdGhlIHZob3N0CgkgKiBjbGllbnQgU1NMX0NUWC4KCSAqLwoKCWNvbnN0IHZvaWQgKnNlcnZlcl9zc2xfY2VydF9tZW07CgkvKio8IFZIT1NUOiBBbHRlcm5hdGl2ZSBmb3IgXHAgc3NsX2NlcnRfZmlsZXBhdGggdGhhdCBhbGxvd3Mgc2V0dGluZwoJICogZnJvbSBtZW1vcnkgaW5zdGVhZCBvZiBmcm9tIGEgZmlsZS4gIEF0IG1vc3Qgb25lIG9mCgkgKiBccCBzc2xfY2VydF9maWxlcGF0aCBvciBccCBzZXJ2ZXJfc3NsX2NlcnRfbWVtIHNob3VsZCBiZSBub24tTlVMTC4gKi8KCWNvbnN0IHZvaWQgKnNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtOwoJLyoqPCAgVkhPU1Q6IEFsdGVybmF0aXZlIGZvciBccCBzc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggYWxsb3dpbmcKCSAqIGluaXQgZnJvbSBhIHByaXZhdGUga2V5IGluIG1lbW9yeSBpbnN0ZWFkIG9mIGEgZmlsZS4gIEF0IG1vc3Qgb25lCgkgKiBvZiBccCBzc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGggb3IgXHAgc2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW0KCSAqIHNob3VsZCBiZSBub24tTlVMTC4gKi8KCWNvbnN0IHZvaWQgKnNlcnZlcl9zc2xfY2FfbWVtOwoJLyoqPCBWSE9TVDogQWx0ZXJuYXRpdmUgZm9yIFxwIHNzbF9jYV9maWxlcGF0aCBhbGxvd2luZwoJICogaW5pdCBmcm9tIGEgQ0EgY2VydCBpbiBtZW1vcnkgaW5zdGVhZCBvZiBhIGZpbGUuICBBdCBtb3N0IG9uZQoJICogb2YgXHAgc3NsX2NhX2ZpbGVwYXRoIG9yIFxwIHNlcnZlcl9zc2xfY2FfbWVtIHNob3VsZCBiZSBub24tTlVMTC4gKi8KCglsb25nIHNzbF9vcHRpb25zX3NldDsKCS8qKjwgVkhPU1Q6IEFueSBiaXRzIHNldCBoZXJlIHdpbGwgYmUgc2V0IGFzIHNlcnZlciBTU0wgb3B0aW9ucyAqLwoJbG9uZyBzc2xfb3B0aW9uc19jbGVhcjsKCS8qKjwgVkhPU1Q6IEFueSBiaXRzIHNldCBoZXJlIHdpbGwgYmUgY2xlYXJlZCBhcyBzZXJ2ZXIgU1NMIG9wdGlvbnMgKi8KCWludCBzaW11bHRhbmVvdXNfc3NsX3Jlc3RyaWN0aW9uOwoJLyoqPCBDT05URVhUOiAwIChubyBsaW1pdCkgb3IgbGltaXQgb2Ygc2ltdWx0YW5lb3VzIFNTTCBzZXNzaW9ucwoJICogcG9zc2libGUuKi8KCWludCBzaW11bHRhbmVvdXNfc3NsX2hhbmRzaGFrZV9yZXN0cmljdGlvbjsKCS8qKjwgQ09OVEVYVDogMCAobm8gbGltaXQpIG9yIGxpbWl0IG9mIHNpbXVsdGFuZW91cyBTU0wgaGFuZHNoYWtlcyBvbmdvaW5nICovCglpbnQgc3NsX2luZm9fZXZlbnRfbWFzazsKCS8qKjwgVkhPU1Q6IG1hc2sgb2Ygc3NsIGV2ZW50cyB0byBiZSByZXBvcnRlZCBvbiBMV1NfQ0FMTEJBQ0tfU1NMX0lORk8KCSAqIGNhbGxiYWNrIGZvciBjb25uZWN0aW9ucyBvbiB0aGlzIHZob3N0LiAgVGhlIG1hc2sgdmFsdWVzIGFyZSBvZgoJICogdGhlIGZvcm0gU1NMX0NCX0FMRVJULCBkZWZpbmVkIGluIG9wZW5zc2wvc3NsLmguICBUaGUgZGVmYXVsdCBvZgoJICogMCBtZWFucyBubyBpbmZvIGV2ZW50cyB3aWxsIGJlIHJlcG9ydGVkLgoJICovCgl1bnNpZ25lZCBpbnQgc2VydmVyX3NzbF9jZXJ0X21lbV9sZW47CgkvKio8IFZIT1NUOiBTZXJ2ZXIgU1NMIGNvbnRleHQgaW5pdDogbGVuZ3RoIG9mIHNlcnZlcl9zc2xfY2VydF9tZW0gaW4KCSAqIGJ5dGVzICovCgl1bnNpZ25lZCBpbnQgc2VydmVyX3NzbF9wcml2YXRlX2tleV9tZW1fbGVuOwoJLyoqPCBWSE9TVDogbGVuZ3RoIG9mIFxwIHNlcnZlcl9zc2xfcHJpdmF0ZV9rZXlfbWVtIGluIG1lbW9yeSAqLwoJdW5zaWduZWQgaW50IHNlcnZlcl9zc2xfY2FfbWVtX2xlbjsKCS8qKjwgVkhPU1Q6IGxlbmd0aCBvZiBccCBzZXJ2ZXJfc3NsX2NhX21lbSBpbiBtZW1vcnkgKi8KCgljb25zdCBjaGFyICphbHBuOwoJLyoqPCBDT05URVhUOiBJZiBub24tTlVMTCwgZGVmYXVsdCBsaXN0IG9mIGFkdmVydGlzZWQgYWxwbiwgY29tbWEtCgkgKgkgICAgICBzZXBhcmF0ZWQKCSAqCgkgKiAgICAgVkhPU1Q6IElmIG5vbi1OVUxMLCBwZXItdmhvc3QgbGlzdCBvZiBhZHZlcnRpc2VkIGFscG4sIGNvbW1hLQoJICoJICAgICAgc2VwYXJhdGVkCgkgKi8KCgojaWYgZGVmaW5lZChMV1NfV0lUSF9DTElFTlQpCgljb25zdCBjaGFyICpjbGllbnRfc3NsX3ByaXZhdGVfa2V5X3Bhc3N3b3JkOwoJLyoqPCBWSE9TVDogQ2xpZW50IFNTTCBjb250ZXh0IGluaXQ6IE5VTEwgb3IgdGhlIHBhc3NwaHJhc2UgbmVlZGVkCgkgKiBmb3IgdGhlIHByaXZhdGUga2V5ICovCgljb25zdCBjaGFyICpjbGllbnRfc3NsX2NlcnRfZmlsZXBhdGg7CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogVGhlIGNlcnRpZmljYXRlIHRoZSBjbGllbnQKCSAqIHNob3VsZCBwcmVzZW50IHRvIHRoZSBwZWVyIG9uIGNvbm5lY3Rpb24gKi8KCWNvbnN0IHZvaWQgKmNsaWVudF9zc2xfY2VydF9tZW07CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogY2xpZW50IGNlcnRpZmljYXRlIG1lbW9yeSBidWZmZXIgb3IKCSAqIE5VTEwuLi4gdXNlIHRoaXMgdG8gbG9hZCBjbGllbnQgY2VydCBmcm9tIG1lbW9yeSBpbnN0ZWFkIG9mIGZpbGUgKi8KCXVuc2lnbmVkIGludCBjbGllbnRfc3NsX2NlcnRfbWVtX2xlbjsKCS8qKjwgVkhPU1Q6IENsaWVudCBTU0wgY29udGV4dCBpbml0OiBsZW5ndGggb2YgY2xpZW50X3NzbF9jZXJ0X21lbSBpbgoJICogYnl0ZXMgKi8KCWNvbnN0IGNoYXIgKmNsaWVudF9zc2xfcHJpdmF0ZV9rZXlfZmlsZXBhdGg7CgkvKio8ICBWSE9TVDogQ2xpZW50IFNTTCBjb250ZXh0IGluaXQ6IGZpbGVwYXRoIHRvIGNsaWVudCBwcml2YXRlIGtleQoJICogaWYgdGhpcyBpcyBzZXQgdG8gTlVMTCBidXQgY2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoIGlzIHNldCwgeW91CgkgKiBjYW4gaGFuZGxlIHRoZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMKCSAqIGNhbGxiYWNrIG9mIHByb3RvY29sc1swXSB0byBhbGxvdyBzZXR0aW5nIG9mIHRoZSBwcml2YXRlIGtleSBkaXJlY3RseQoJICogdmlhIHRscyBsaWJyYXJ5IGNhbGxzICovCgljb25zdCB2b2lkICpjbGllbnRfc3NsX2tleV9tZW07CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogY2xpZW50IGtleSBtZW1vcnkgYnVmZmVyIG9yCgkgKiBOVUxMLi4uIHVzZSB0aGlzIHRvIGxvYWQgY2xpZW50IGtleSBmcm9tIG1lbW9yeSBpbnN0ZWFkIG9mIGZpbGUgKi8KCWNvbnN0IGNoYXIgKmNsaWVudF9zc2xfY2FfZmlsZXBhdGg7CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogQ0EgY2VydGlmaWNhdGUgZmlsZXBhdGggb3IgTlVMTCAqLwoJY29uc3Qgdm9pZCAqY2xpZW50X3NzbF9jYV9tZW07CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogQ0EgY2VydGlmaWNhdGUgbWVtb3J5IGJ1ZmZlciBvcgoJICogTlVMTC4uLiB1c2UgdGhpcyB0byBsb2FkIENBIGNlcnQgZnJvbSBtZW1vcnkgaW5zdGVhZCBvZiBmaWxlICovCgoJY29uc3QgY2hhciAqY2xpZW50X3NzbF9jaXBoZXJfbGlzdDsKCS8qKjwgVkhPU1Q6IENsaWVudCBTU0wgY29udGV4dCBpbml0OiBMaXN0IG9mIHZhbGlkIGNpcGhlcnMgdG8gdXNlIChlZywKCSogIlJDNC1NRDU6UkM0LVNIQTpBRVMxMjgtU0hBOkFFUzI1Ni1TSEE6SElHSDohRFNTOiFhTlVMTCIKCSogb3IgeW91IGNhbiBsZWF2ZSBpdCBhcyBOVUxMIHRvIGdldCAiREVGQVVMVCIgKi8KCWNvbnN0IGNoYXIgKmNsaWVudF90bHNfMV8zX3BsdXNfY2lwaGVyX2xpc3Q7CgkvKio8IFZIT1NUOiBMaXN0IG9mIHZhbGlkIGNpcGhlcnMgdG8gdXNlIGZvciBvdXRnb2luZyBjbGllbnQgY29ubmVjdGlvbnMKCSAqIE9OIFRMUzEuMyBBTkQgQUJPVkUgb24gdGhpcyB2aG9zdCAoZWcsCgkgKiAiVExTX0NIQUNIQTIwX1BPTFkxMzA1X1NIQTI1NiIpIG9yIHlvdSBjYW4gbGVhdmUgaXQgYXMgTlVMTCB0byBnZXQKCSAqICJERUZBVUxUIi4KCSAqLwoKCWxvbmcgc3NsX2NsaWVudF9vcHRpb25zX3NldDsKCS8qKjwgVkhPU1Q6IEFueSBiaXRzIHNldCBoZXJlIHdpbGwgYmUgc2V0IGFzIENMSUVOVCBTU0wgb3B0aW9ucyAqLwoJbG9uZyBzc2xfY2xpZW50X29wdGlvbnNfY2xlYXI7CgkvKio8IFZIT1NUOiBBbnkgYml0cyBzZXQgaGVyZSB3aWxsIGJlIGNsZWFyZWQgYXMgQ0xJRU5UIFNTTCBvcHRpb25zICovCgoKCXVuc2lnbmVkIGludCBjbGllbnRfc3NsX2NhX21lbV9sZW47CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogbGVuZ3RoIG9mIGNsaWVudF9zc2xfY2FfbWVtIGluCgkgKiBieXRlcyAqLwoJdW5zaWduZWQgaW50IGNsaWVudF9zc2xfa2V5X21lbV9sZW47CgkvKio8IFZIT1NUOiBDbGllbnQgU1NMIGNvbnRleHQgaW5pdDogbGVuZ3RoIG9mIGNsaWVudF9zc2xfa2V5X21lbSBpbgoJICogYnl0ZXMgKi8KCiNlbmRpZgoKI2lmICFkZWZpbmVkKExXU19XSVRIX01CRURUTFMpCglTU0xfQ1RYICpwcm92aWRlZF9jbGllbnRfc3NsX2N0eDsKCS8qKjwgQ09OVEVYVDogSWYgbm9uLW51bGwsIHN3YXAgb3V0IGxpYndlYnNvY2tldHMgc3NsCgkgICogaW1wbGVtZW50YXRpb24gZm9yIHRoZSBvbmUgcHJvdmlkZWQgYnkgcHJvdmlkZWRfc3NsX2N0eC4KCSAgKiBMaWJ3ZWJzb2NrZXRzIG5vIGxvbmdlciBpcyByZXNwb25zaWJsZSBmb3IgZnJlZWluZyB0aGUgY29udGV4dAoJICAqIGlmIHRoaXMgb3B0aW9uIGlzIHNlbGVjdGVkLiAqLwojZWxzZSAvKiBXSVRIX01CRURUTFMgKi8KCWNvbnN0IGNoYXIgKm1iZWR0bHNfY2xpZW50X3ByZWxvYWRfZmlsZXBhdGg7CgkvKio8IENPTlRFWFQ6IElmIE5VTEwsIG5vIGVmZmVjdC4gIE90aGVyd2lzZSBpdCBzaG91bGQgcG9pbnQgdG8gYQoJICogZmlsZXBhdGggd2hlcmUgZXZlcnkgY3JlYXRlZCBjbGllbnQgU1NMX0NUWCBpcyBwcmVsb2FkZWQgZnJvbSB0aGUKCSAqIHN5c3RlbSB0cnVzdCBidW5kbGUuCgkgKgoJICogVGhpcyBzZXRzIGEgcHJvY2Vzc3dpZGUgdmFyaWFibGUgdGhhdCBhZmZlY3RzIGFsbCBjb250ZXh0cy4KCSAqCgkgKiBSZXF1aXJlcyB0aGF0IHRoZSBtYmVkdGxzIHByb3ZpZGVzIG1iZWR0bHNfeDUwOV9jcnRfcGFyc2VfZmlsZSgpLAoJICogZWxzZSBkaXNhYmxlZC4KCSAqLwojZW5kaWYKI2VuZGlmCgoJaW50IGthX3RpbWU7CgkvKio8IENPTlRFWFQ6IDAgZm9yIG5vIFRDUCBrZWVwYWxpdmUsIG90aGVyd2lzZSBhcHBseSB0aGlzIGtlZXBhbGl2ZQoJICogdGltZW91dCB0byBhbGwgbGlid2Vic29ja2V0IHNvY2tldHMsIGNsaWVudCBvciBzZXJ2ZXIgKi8KCWludCBrYV9wcm9iZXM7CgkvKio8IENPTlRFWFQ6IGlmIGthX3RpbWUgd2FzIG5vbnplcm8sIGFmdGVyIHRoZSB0aW1lb3V0IGV4cGlyZXMgaG93IG1hbnkKCSAqIHRpbWVzIHRvIHRyeSB0byBnZXQgYSByZXNwb25zZSBmcm9tIHRoZSBwZWVyIGJlZm9yZSBnaXZpbmcgdXAKCSAqIGFuZCBraWxsaW5nIHRoZSBjb25uZWN0aW9uICovCglpbnQga2FfaW50ZXJ2YWw7CgkvKio8IENPTlRFWFQ6IGlmIGthX3RpbWUgd2FzIG5vbnplcm8sIGhvdyBsb25nIHRvIHdhaXQgYmVmb3JlIGVhY2gga2FfcHJvYmVzCgkgKiBhdHRlbXB0ICovCgl1bnNpZ25lZCBpbnQgdGltZW91dF9zZWNzOwoJLyoqPCBWSE9TVDogdmFyaW91cyBwcm9jZXNzZXMgaW52b2x2aW5nIG5ldHdvcmsgcm91bmR0cmlwcyBpbiB0aGUKCSAqIGxpYnJhcnkgYXJlIHByb3RlY3RlZCBmcm9tIGhhbmdpbmcgZm9yZXZlciBieSB0aW1lb3V0cy4gIElmCgkgKiBub256ZXJvLCB0aGlzIG1lbWJlciBsZXRzIHlvdSBzZXQgdGhlIHRpbWVvdXQgdXNlZCBpbiBzZWNvbmRzLgoJICogT3RoZXJ3aXNlIGEgZGVmYXVsdCB0aW1lb3V0IGlzIHVzZWQuICovCgl1bnNpZ25lZCBpbnQgY29ubmVjdF90aW1lb3V0X3NlY3M7CgkvKio8IFZIT1NUOiBjbGllbnQgY29ubmVjdGlvbnMgaGF2ZSB0aGlzIGxvbmcgdG8gZmluZCBhIHdvcmtpbmcgc2VydmVyCgkgKiBmcm9tIHRoZSBETlMgcmVzdWx0cywgb3IgdGhlIHdob2xlIGNvbm5lY3Rpb24gdGltZXMgb3V0LiAgSWYgemVybywKCSAqIGEgZGVmYXVsdCB0aW1lb3V0IGlzIHVzZWQgKi8KCWludCBiaW5kX2lmYWNlOwoJLyoqPCBWSE9TVDogbm9uemVybyB0byBzdHJpY3RseSBiaW5kIHNvY2tldHMgdG8gdGhlIGludGVyZmFjZSBuYW1lIGluCgkgKiAuaWZhY2UgKGVnLCAiZXRoMiIpLCB1c2luZyBTT19CSU5EX1RPX0RFVklDRS4KCSAqCgkgKiBSZXF1aXJlcyBTT19CSU5EVE9ERVZJQ0Ugc3VwcG9ydCBmcm9tIHlvdXIgT1MgYW5kIENBUF9ORVRfUkFXCgkgKiBjYXBhYmlsaXR5LgoJICoKCSAqIE5vdGljZSB0aGF0IGNvbW1vbiB0aGluZ3MgbGlrZSBhY2Nlc3MgbmV0d29yayBpbnRlcmZhY2UgSVAgZnJvbQoJICogeW91ciBsb2NhbCBtYWNoaW5lIHVzZSB5b3VyIGxvIC8gbG9vcGJhY2sgaW50ZXJmYWNlIGFuZCB3aWxsIGJlCgkgKiBkaXNhbGxvd2VkIGJ5IHRoaXMuCgkgKi8KCXVuc2lnbmVkIGludCB0aW1lb3V0X3NlY3NfYWhfaWRsZTsKCS8qKjwgVkhPU1Q6IHNlY29uZHMgdG8gYWxsb3cgYSBjbGllbnQgdG8gaG9sZCBhbiBhaCB3aXRob3V0IHVzaW5nIGl0LgoJICogMCBkZWZhdWx0cyB0byAxMHMuICovCiNlbmRpZiAvKiBXSVRIX05FVFdPUksgKi8KCiNpZiBkZWZpbmVkKExXU19XSVRIX1RMU19TRVNTSU9OUykKCXVpbnQzMl90CQkJdGxzX3Nlc3Npb25fdGltZW91dDsKCS8qKjwgVkhPU1Q6IHNlY29uZHMgdW50aWwgdGltZW91dC90dGwgZm9yIG5ld2x5IGNyZWF0ZWQgc2Vzc2lvbnMuCgkgKiAwIG1lYW5zIGRlZmF1bHQgdGltZW91dCAoZGVmaW5lZCBwZXIgcHJvdG9jb2wsIHVzdWFsbHkgMzAwcykuICovCgl1aW50MzJfdAkJCXRsc19zZXNzaW9uX2NhY2hlX21heDsKCS8qKjwgVkhPU1Q6IDAgZm9yIGRlZmF1bHQgbGltaXQgb2YgMTAsIG9yIHRoZSBtYXhpbXVtIG51bWJlciBvZgoJICogY2xpZW50IHRscyBzZXNzaW9ucyB3ZSBhcmUgd2lsbGluZyB0byBjYWNoZSAqLwojZW5kaWYKCglnaWRfdCBnaWQ7CgkvKio8IENPTlRFWFQ6IGdyb3VwIGlkIHRvIGNoYW5nZSB0byBhZnRlciBzZXR0aW5nIGxpc3RlbiBzb2NrZXQsCgkgKiAgIG9yIC0xLiBTZWUgYWxzbyAudXNlcm5hbWUgYmVsb3cuICovCgl1aWRfdCB1aWQ7CgkvKio8IENPTlRFWFQ6IHVzZXIgaWQgdG8gY2hhbmdlIHRvIGFmdGVyIHNldHRpbmcgbGlzdGVuIHNvY2tldCwKCSAqICAgb3IgLTEuICBTZWUgYWxzbyAuZ3JvdXBuYW1lIGJlbG93LiAqLwoJdWludDY0X3Qgb3B0aW9uczsKCS8qKjwgVkhPU1QgKyBDT05URVhUOiAwLCBvciBMV1NfU0VSVkVSX09QVElPTl8uLi4gYml0ZmllbGRzICovCgl2b2lkICp1c2VyOwoJLyoqPCBWSE9TVCArIENPTlRFWFQ6IG9wdGlvbmFsIHVzZXIgcG9pbnRlciB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZAoJICogd2l0aCB0aGUgY29udGV4dCB3aGVuIGNyZWF0aW5nIHRoZSBjb250ZXh0IChhbmQgY2FuIGJlIHJldHJpZXZlZCBieQoJICogbHdzX2NvbnRleHRfdXNlcihjb250ZXh0KSwgb3Igd2l0aCB0aGUgdmhvc3Qgd2hlbiBjcmVhdGluZyB0aGUgdmhvc3QKCSAqIChhbmQgY2FuIGJlIHJldHJpZXZlZCBieSBsd3Nfdmhvc3RfdXNlcih2aG9zdCkpLiAgWW91IHdpbGwgbmVlZCB0bwoJICogdXNlIExXU19TRVJWRVJfT1BUSU9OX0VYUExJQ0lUX1ZIT1NUUyBhbmQgY3JlYXRlIHRoZSB2aG9zdCBzZXBhcmF0ZWx5CgkgKiBpZiB5b3UgY2FyZSBhYm91dCBnaXZpbmcgdGhlIGNvbnRleHQgYW5kIHZob3N0IGRpZmZlcmVudCB1c2VyIHBvaW50ZXIKCSAqIHZhbHVlcy4KCSAqLwoJdW5zaWduZWQgaW50IGNvdW50X3RocmVhZHM7CgkvKio8IENPTlRFWFQ6IGhvdyBtYW55IGNvbnRleHRzIHRvIGNyZWF0ZSBpbiBhbiBhcnJheSwgMCA9IDEgKi8KCXVuc2lnbmVkIGludCBmZF9saW1pdF9wZXJfdGhyZWFkOwoJLyoqPCBDT05URVhUOiBub256ZXJvIG1lYW5zIHJlc3RyaWN0IGVhY2ggc2VydmljZSB0aHJlYWQgdG8gdGhpcwoJICogbWFueSBmZHMsIDAgbWVhbnMgdGhlIGRlZmF1bHQgd2hpY2ggaXMgZGl2aWRlIHRoZSBwcm9jZXNzIGZkCgkgKiBsaW1pdCBieSB0aGUgbnVtYmVyIG9mIHRocmVhZHMuCgkgKgoJICogTm90ZSBpZiB0aGlzIGlzIG5vbnplcm8sIGFuZCBmZF9saW1pdF9wZXJfdGhyZWFkIG11bHRpcGxpZWQgYnkgdGhlCgkgKiBudW1iZXIgb2Ygc2VydmljZSB0aHJlYWRzIGlzIGxlc3MgdGhhbiB0aGUgcHJvY2VzcyB1bGltaXQsIHRoZW4gbHdzCgkgKiByZXN0cmljdHMgaW50ZXJuYWwgbG9va3VwIHRhYmxlIGFsbG9jYXRpb24gdG8gdGhlIHNtYWxsZXIgc2l6ZSwgYW5kCgkgKiBzd2l0Y2hlcyB0byBhIGxlc3MgZWZmaWNpZW50IGxvb2t1cCBzY2hlbWUuICBZb3Ugc2hvdWxkIHVzZSB0aGlzIHRvCgkgKiB0cmFkZSBvZmYgc3BlZWQgYWdhaW5zdCBtZW1vcnkgdXNhZ2UgaWYgeW91IGtub3cgdGhlIGx3cyBjb250ZXh0CgkgKiB3aWxsIG9ubHkgdXNlIGEgaGFuZGZ1bCBvZiBmZHMuCgkgKgoJICogQmVhciBpbiBtaW5kIGx3cyBtYXkgdXNlIHNvbWUgZmRzIGludGVybmFsbHksIGZvciBleGFtcGxlIGZvciB0aGUKCSAqIGNhbmNlbCBwaXBlLCBzbyB5b3UgbWF5IG5lZWQgdG8gYWxsb3cgZm9yIHNvbWUgZXh0cmFzIGZvciBub3JtYWwKCSAqIG9wZXJhdGlvbi4KCSAqLwoJY29uc3QgY2hhciAqdmhvc3RfbmFtZTsKCS8qKjwgVkhPU1Q6IG5hbWUgb2Ygdmhvc3QsIG11c3QgbWF0Y2ggZXh0ZXJuYWwgRE5TIG5hbWUgdXNlZCB0bwoJICogYWNjZXNzIHRoZSBzaXRlLCBsaWtlICJ3YXJtY2F0LmNvbSIgYXMgaXQncyB1c2VkIHRvIG1hdGNoCgkgKiBIb3N0OiBoZWFkZXIgYW5kIC8gb3IgU05JIG5hbWUgZm9yIFNTTC4KCSAqIENPTlRFWFQ6IE5VTEwsIG9yIHRoZSBuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBjb250ZXh0IGZvcgoJICogY29udGV4dC1zcGVjaWZpYyBsb2dnaW5nCgkgKi8KI2lmIGRlZmluZWQoTFdTX1dJVEhfUExVR0lOUykKCWNvbnN0IGNoYXIgKiBjb25zdCAqcGx1Z2luX2RpcnM7CgkvKio8IENPTlRFWFQ6IE5VTEwsIG9yIE5VTEwtdGVybWluYXRlZCBhcnJheSBvZiBkaXJlY3RvcmllcyB0bwoJICogc2NhbiBmb3IgbHdzIHByb3RvY29sIHBsdWdpbnMgYXQgY29udGV4dCBjcmVhdGlvbiB0aW1lICovCiNlbmRpZgoJdm9pZCAqZXh0ZXJuYWxfYmFnZ2FnZV9mcmVlX29uX2Rlc3Ryb3k7CgkvKio8IENPTlRFWFQ6IE5VTEwsIG9yIHBvaW50ZXIgdG8gc29tZXRoaW5nIGV4dGVybmFsbHkgbWFsbG9jJ2QsIHRoYXQKCSAqIHNob3VsZCBiZSBmcmVlZCB3aGVuIHRoZSBjb250ZXh0IGlzIGRlc3Ryb3llZC4gIFRoaXMgYWxsb3dzIHlvdSB0bwoJICogYXV0b21hdGljYWxseSBzeW5jIHRoZSBmcmVlaW5nIGFjdGlvbiB0byB0aGUgY29udGV4dCBkZXN0cnVjdGlvbgoJICogYWN0aW9uLCBzbyB0aGVyZSBpcyBubyBuZWVkIGZvciBhbiBleHRlcm5hbCBmcmVlKCkgaWYgdGhlIGNvbnRleHQKCSAqIHN1Y2NlZWRlZCB0byBjcmVhdGUuCgkgKi8KCgoJdW5zaWduZWQgaW50IHB0X3NlcnZfYnVmX3NpemU7CgkvKio8IENPTlRFWFQ6IDAgPSBkZWZhdWx0IG9mIDQwOTYuICBUaGlzIGJ1ZmZlciBpcyB1c2VkIGJ5CgkgKiB2YXJpb3VzIHNlcnZpY2UgcmVsYXRlZCBmZWF0dXJlcyBpbmNsdWRpbmcgZmlsZSBzZXJ2aW5nLCBpdAoJICogZGVmaW5lcyB0aGUgbWF4IGNodW5rIG9mIGZpbGUgdGhhdCBjYW4gYmUgc2VudCBhdCBvbmNlLgoJICogQXQgdGhlIHJpc2sgb2YgbHdzIGhhdmluZyB0byBidWZmZXIgZmFpbGVkIGxhcmdlIHNlbmRzLCBpdAoJICogY2FuIGJlIGluY3JlYXNlZCB0bywgZWcsIDEyOEtpQiB0byBpbXByb3ZlIHRocm91Z2hwdXQuICovCiNpZiBkZWZpbmVkKExXU19XSVRIX0ZJTEVfT1BTKQoJY29uc3Qgc3RydWN0IGx3c19wbGF0X2ZpbGVfb3BzICpmb3BzOwoJLyoqPCBDT05URVhUOiBOVUxMLCBvciBwb2ludGVyIHRvIGFuIGFycmF5IG9mIGZvcHMgc3RydWN0cywgdGVybWluYXRlZAoJICogYnkgYSBzZW50aW5lbCB3aXRoIE5VTEwgLm9wZW4uCgkgKgoJICogSWYgTlVMTCwgbHdzIHByb3ZpZGVzIGp1c3QgdGhlIHBsYXRmb3JtIGZpbGUgb3BlcmF0aW9ucyBzdHJ1Y3QgZm9yCgkgKiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4KCSAqLwojZW5kaWYKCiNpZiBkZWZpbmVkKExXU19XSVRIX1NPQ0tTNSkKCWNvbnN0IGNoYXIgKnNvY2tzX3Byb3h5X2FkZHJlc3M7CgkvKio8IFZIT1NUOiBJZiBub24tTlVMTCwgYXR0ZW1wdHMgdG8gcHJveHkgdmlhIHRoZSBnaXZlbiBhZGRyZXNzLgoJICogSWYgcHJveHkgYXV0aCBpcyByZXF1aXJlZCwgdXNlIGZvcm1hdAoJICogInVzZXJuYW1lOnBhc3N3b3JkXEBzZXJ2ZXI6cG9ydCIgKi8KCXVuc2lnbmVkIGludCBzb2Nrc19wcm94eV9wb3J0OwoJLyoqPCBWSE9TVDogSWYgc29ja3NfcHJveHlfYWRkcmVzcyB3YXMgbm9uLU5VTEwsIHVzZXMgdGhpcyBwb3J0CgkgKiBpZiBub256ZXJvLCBvdGhlcndpc2UgcmVxdWlyZXMgInNlcnZlcjpwb3J0IiBpbiAuc29ja3NfcHJveHlfYWRkcmVzcwoJICovCiNlbmRpZgoKI2lmIGRlZmluZWQoTFdTX0hBVkVfU1lTX0NBUEFCSUxJVFlfSCkgJiYgZGVmaW5lZChMV1NfSEFWRV9MSUJDQVApCgljYXBfdmFsdWVfdCBjYXBzWzRdOwoJLyoqPCBDT05URVhUOiBhcnJheSBob2xkaW5nIExpbnV4IGNhcGFiaWxpdGllcyB5b3Ugd2FudCB0bwoJICogY29udGludWUgdG8gYmUgYXZhaWxhYmxlIHRvIHRoZSBzZXJ2ZXIgYWZ0ZXIgaXQgdHJhbnNpdGlvbnMKCSAqIHRvIGEgbm9wcml2aWxlZ2VkIHVzZXIuICBVc3VhbGx5IG5vbmUgYXJlIG5lZWRlZCBidXQgZm9yLCBlZywKCSAqIC5iaW5kX2lmYWNlLCBDQVBfTkVUX1JBVyBpcyByZXF1aXJlZC4gIFRoaXMgZ2l2ZXMgeW91IGEgd2F5CgkgKiB0byBzdGlsbCBoYXZlIHRoZSBjYXBhYmlsaXR5IGJ1dCBkcm9wIHJvb3QuCgkgKi8KCWNoYXIgY291bnRfY2FwczsKCS8qKjwgQ09OVEVYVDogY291bnQgb2YgTGludXggY2FwYWJpbGl0aWVzIGluIC5jYXBzW10uICAwIG1lYW5zCgkgKiBubyBjYXBhYmlsaXRpZXMgd2lsbCBiZSBpbmhlcml0ZWQgZnJvbSByb290ICh0aGUgZGVmYXVsdCkgKi8KI2VuZGlmCgl2b2lkICoqZm9yZWlnbl9sb29wczsKCS8qKjwgQ09OVEVYVDogVGhpcyBpcyBpZ25vcmVkIGlmIHRoZSBjb250ZXh0IGlzIG5vdCBiZWluZyBzdGFydGVkIHdpdGgKCSAqCQlhbiBldmVudCBsb29wLCBpZSwgLm9wdGlvbnMgaGFzIGEgZmxhZyBsaWtlCgkgKgkJTFdTX1NFUlZFUl9PUFRJT05fTElCVVYuCgkgKgoJICoJCU5VTEwgaW5kaWNhdGVzIGx3cyBzaG91bGQgc3RhcnQgaXRzIG93biBldmVuIGxvb3AgZm9yCgkgKgkJZWFjaCBzZXJ2aWNlIHRocmVhZCwgYW5kIGRlYWwgd2l0aCBjbG9zaW5nIHRoZSBsb29wcwoJICoJCXdoZW4gdGhlIGNvbnRleHQgaXMgZGVzdHJveWVkLgoJICoKCSAqCQlOb24tTlVMTCBtZWFucyBpdCBwb2ludHMgdG8gYW4gYXJyYXkgb2YgZXh0ZXJuYWwKCSAqCQkoImZvcmVpZ24iKSBldmVudCBsb29wcyB0aGF0IGFyZSB0byBiZSB1c2VkIGluIHR1cm4gZm9yCgkgKgkJZWFjaCBzZXJ2aWNlIHRocmVhZC4gIEluIHRoZSBkZWZhdWx0IGNhc2Ugb2YgMSBzZXJ2aWNlCgkgKgkJdGhyZWFkLCBpdCBjYW4ganVzdCBwb2ludCB0byBvbmUgZm9yZWlnbiBldmVudCBsb29wLgoJICovCgl2b2lkICgqc2lnbmFsX2NiKSh2b2lkICpldmVudF9saWJfaGFuZGxlLCBpbnQgc2lnbnVtKTsKCS8qKjwgQ09OVEVYVDogTlVMTDogZGVmYXVsdCBzaWduYWwgaGFuZGxpbmcuICBPdGhlcndpc2UgdGhpcyByZWNlaXZlcwoJICoJCXRoZSBzaWduYWwgaGFuZGxlciBjYWxsYmFjay4gIGV2ZW50X2xpYl9oYW5kbGUgaXMgdGhlCgkgKgkJbmF0aXZlIGV2ZW50IGxpYnJhcnkgc2lnbmFsIGhhbmRsZSwgZWcgdXZfc2lnbmFsX3QgKgoJICoJCWZvciBsaWJ1di4KCSAqLwoJc3RydWN0IGx3c19jb250ZXh0ICoqcGNvbnRleHQ7CgkvKio8IENPTlRFWFQ6IGlmIG5vbi1OVUxMLCBhdCB0aGUgZW5kIG9mIGNvbnRleHQgZGVzdHJveSBwcm9jZXNzaW5nLAoJICogdGhlIHBvaW50ZXIgcG9pbnRlZCB0byBieSBwY29udGV4dCBpcyB3cml0dGVuIHdpdGggTlVMTC4gIFlvdSBjYW4KCSAqIHVzZSB0aGlzIHRvIGxldCBmb3JlaWduIGV2ZW50IGxvb3BzIGtub3cgdGhhdCBsd3MgY29udGV4dCBkZXN0cnVjdGlvbgoJICogaXMgZnVsbHkgY29tcGxldGVkLgoJICovCgl2b2lkICgqZmluYWxpemUpKHN0cnVjdCBsd3Nfdmhvc3QgKnZoLCB2b2lkICphcmcpOwoJLyoqPCBWSE9TVDogTlVMTCwgb3IgcG9pbnRlciB0byBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIGJhY2sKCSAqCSAgICB3aGVuIHRoZSB2aG9zdCBpcyBqdXN0IGFib3V0IHRvIGJlIGZyZWVkLiAgVGhlIGFyZyBwYXJhbWV0ZXIKCSAqCSAgICB3aWxsIGJlIHNldCB0byB3aGF0ZXZlciBmaW5hbGl6ZV9hcmcgaXMgYmVsb3cuCgkgKi8KCXZvaWQgKmZpbmFsaXplX2FyZzsKCS8qKjwgVkhPU1Q6IG9wYXF1ZSBwb2ludGVyIGx3cyBpZ25vcmVzIGJ1dCBwYXNzZXMgdG8gdGhlIGZpbmFsaXplCgkgKgkgICAgY2FsbGJhY2suICBJZiB5b3UgZG9uJ3QgY2FyZSwgbGVhdmUgaXQgTlVMTC4KCSAqLwoJY29uc3QgY2hhciAqbGlzdGVuX2FjY2VwdF9yb2xlOwoJLyoqPCBWSE9TVDogTlVMTCBmb3IgZGVmYXVsdCwgb3IgZm9yY2UgYWNjZXB0ZWQgaW5jb21pbmcgY29ubmVjdGlvbnMgdG8KCSAqIGJpbmQgdG8gdGhpcyByb2xlLiAgVXNlcyB0aGUgcm9sZSBuYW1lcyBmcm9tIHRoZWlyIG9wcyBzdHJ1Y3QsIGVnLAoJICogInJhdy1za3QiLgoJICovCgljb25zdCBjaGFyICpsaXN0ZW5fYWNjZXB0X3Byb3RvY29sOwoJLyoqPCBWSE9TVDogTlVMTCBmb3IgZGVmYXVsdCwgb3IgZm9yY2UgYWNjZXB0ZWQgaW5jb21pbmcgY29ubmVjdGlvbnMgdG8KCSAqIGJpbmQgdG8gdGhpcyB2aG9zdCBwcm90b2NvbCBuYW1lLgoJICovCgljb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29scyAqKnBwcm90b2NvbHM7CgkvKio8IFZIT1NUOiBOVUxMOiB1c2UgLnByb3RvY29scywgb3RoZXJ3aXNlIGlnbm9yZSAucHJvdG9jb2xzIGFuZCB1c2UKCSAqIHRoaXMgYXJyYXkgb2YgcG9pbnRlcnMgdG8gcHJvdG9jb2xzIHN0cnVjdHMuICBUaGUgZW5kIG9mIHRoZSBhcnJheQoJICogaXMgbWFya2VkIGJ5IGEgTlVMTCBwb2ludGVyLgoJICoKCSAqIFRoaXMgaXMgcHJlZmVycmVkIG92ZXIgLnByb3RvY29scywgYmVjYXVzZSBpdCBhbGxvd3MgdGhlIHByb3RvY29sCgkgKiBzdHJ1Y3QgdG8gYmUgb3BhcXVlbHkgZGVmaW5lZCBlbHNld2hlcmUsIHdpdGgganVzdCBhIHBvaW50ZXIgdG8gaXQKCSAqIG5lZWRlZCB0byBjcmVhdGUgdGhlIGNvbnRleHQgd2l0aCBpdC4gIC5wcm90b2NvbHMgcmVxdWlyZXMgYWxzbwoJICogdGhlIHR5cGUgb2YgdGhlIHVzZXIgZGF0YSB0byBiZSBrbm93biBzbyBpdHMgc2l6ZSBjYW4gYmUgZ2l2ZW4uCgkgKi8KCgljb25zdCBjaGFyICp1c2VybmFtZTsgLyoqPCBDT05URVhUOiBzdHJpbmcgdXNlcm5hbWUgZm9yIHBvc3QtaW5pdAoJICogcGVybWlzc2lvbnMuICBMaWtlIC51aWQgYnV0IHRha2VzIGEgc3RyaW5nIHVzZXJuYW1lLiAqLwoJY29uc3QgY2hhciAqZ3JvdXBuYW1lOyAvKio8IENPTlRFWFQ6IHN0cmluZyBncm91cG5hbWUgZm9yIHBvc3QtaW5pdAoJICogcGVybWlzc2lvbnMuICBMaWtlIC5naWQgYnV0IHRha2VzIGEgc3RyaW5nIGdyb3VwbmFtZS4gKi8KCWNvbnN0IGNoYXIgKnVuaXhfc29ja2V0X3Blcm1zOyAvKio8IFZIT1NUOiBpZiB5b3VyIHZob3N0IGlzIGxpc3RlbmluZwoJICogb24gYSB1bml4IHNvY2tldCwgeW91IGNhbiBnaXZlIGEgInVzZXJuYW1lOmdyb3VwbmFtZSIgc3RyaW5nIGhlcmUKCSAqIHRvIGNvbnRyb2wgdGhlIG93bmVyOmdyb3VwIGl0J3MgY3JlYXRlZCB3aXRoLiAgSXQncyBhbHdheXMgY3JlYXRlZAoJICogd2l0aCAwNjYwIG1vZGUuICovCgljb25zdCBsd3Nfc3lzdGVtX29wc190ICpzeXN0ZW1fb3BzOwoJLyoqPCBDT05URVhUOiBob29rIHVwIGx3c19zeXN0ZW1fIGFwaXMgdG8gc3lzdGVtLXNwZWNpZmljCgkgKiBpbXBsZW1lbnRhdGlvbnMgKi8KCWNvbnN0IGx3c19yZXRyeV9ib190ICpyZXRyeV9hbmRfaWRsZV9wb2xpY3k7CgkvKio8IFZIT1NUOiBvcHRpb25hbCByZXRyeSBhbmQgaWRsZSBwb2xpY3kgdG8gYXBwbHkgdG8gdGhpcyB2aG9zdC4KCSAqICAgQ3VycmVudGx5IG9ubHkgdGhlIGlkbGUgcGFydHMgYXJlIGFwcGxpZWQgdG8gdGhlIGNvbm5lY3Rpb25zLgoJICovCiNpZiBkZWZpbmVkKExXU19XSVRIX1NZU19TVEFURSkKCWx3c19zdGF0ZV9ub3RpZnlfbGlua190ICogY29uc3QgKnJlZ2lzdGVyX25vdGlmaWVyX2xpc3Q7CgkvKio8IENPTlRFWFQ6IE5VTEwsIG9yIHBvaW50ZXIgdG8gYW4gYXJyYXkgb2Ygbm90aWZpZXJzIHRoYXQgc2hvdWxkCgkgKiBiZSByZWdpc3RlcmVkIGR1cmluZyBjb250ZXh0IGNyZWF0aW9uLCBzbyB0aGV5IGNhbiBzZWUgc3RhdGUgY2hhbmdlCgkgKiBldmVudHMgZnJvbSB2ZXJ5IGVhcmx5IG9uLiAgVGhlIGFycmF5IHNob3VsZCBlbmQgd2l0aCBhIE5VTEwuICovCiNlbmRpZgojaWYgZGVmaW5lZChMV1NfV0lUSF9TRUNVUkVfU1RSRUFNUykKI2lmIGRlZmluZWQoTFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfU1RBVElDX1BPTElDWV9PTkxZKQoJY29uc3Qgc3RydWN0IGx3c19zc19wb2xpY3kgKnBzc19wb2xpY2llczsgLyoqPCBDT05URVhUOiBwb2ludCB0byBmaXJzdAoJICogaW4gYSBsaW5rZWQtbGlzdCBvZiBzdHJlYW10eXBlIHBvbGljaWVzIHByZXBhcmVkIGJ5IHVzZXIgY29kZSAqLwojZWxzZQoJY29uc3QgY2hhciAqcHNzX3BvbGljaWVzX2pzb247IC8qKjwgQ09OVEVYVDogcG9pbnQgdG8gYSBzdHJpbmcKCSAqIGNvbnRhaW5pbmcgYSBKU09OIGRlc2NyaXB0aW9uIG9mIHRoZSBzZWN1cmUgc3RyZWFtcyBwb2xpY2llcy4gIFNldAoJICogdG8gTlVMTCBpZiBub3QgdXNpbmcgU2VjdXJlIFN0cmVhbXMuCgkgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgZmlsZXMgYW5kIHRoZSBzdHJpbmcgZG9lcyBub3QgYmVnaW4gd2l0aAoJICogJ3snLCBsd3MgdHJlYXRzIHRoZSBzdHJpbmcgYXMgYSBmaWxlcGF0aCB0byBvcGVuIHRvIGdldCB0aGUgSlNPTgoJICogcG9saWN5LgoJICovCiNlbmRpZgoJY29uc3Qgc3RydWN0IGx3c19zc19wbHVnaW4gKipwc3NfcGx1Z2luczsgLyoqPCBDT05URVhUOiBwb2ludCB0byBhbiBhcnJheQoJICogb2YgcG9pbnRlcnMgdG8gcGx1Z2luIHN0cnVjdHMgaGVyZSwgdGVybWluYXRlZCB3aXRoIGEgTlVMTCBwdHIuCgkgKiBTZXQgdG8gTlVMTCBpZiBub3QgdXNpbmcgU2VjdXJlIFN0cmVhbXMuICovCgljb25zdCBjaGFyICpzc19wcm94eV9iaW5kOyAvKio8IENPTlRFWFQ6IE5VTEwsIG9yOiBzc19wcm94eV9wb3J0ID09IDA6CgkgKiBwb2ludCB0byBhIHN0cmluZyBnaXZpbmcgdGhlIFVuaXggRG9tYWluIFNvY2tldCBhZGRyZXNzIHRvIHVzZSAoc3RhcnQKCSAqIHdpdGggQCBmb3IgYWJzdHJhY3QgbmFtZXNwYWNlKSwgc3NfcHJveHlfcG9ydCBub256ZXJvOiBzZXQgdGhlCgkgKiBuZXR3b3JrIGludGVyZmFjZSBhZGRyZXNzIChub3QgbmFtZSwgaXQncyBhbWJpZ3VvdXMgZm9yIGlwdjQvNikgdG8KCSAqIGJpbmQgdGhlIHRjcCBjb25uZWN0aW9uIHRvIHRoZSBwcm94eSB0byAqLwoJY29uc3QgY2hhciAqc3NfcHJveHlfYWRkcmVzczsgLyoqPCBDT05URVhUOiBOVUxMLCBvciBpZiBzc19wcm94eV9wb3J0CgkgKiBub256ZXJvOiB0aGUgdGNwIGFkZHJlc3Mgb2YgdGhlIHNzIHByb3h5IHRvIGNvbm5lY3QgdG8gKi8KCXVpbnQxNl90IHNzX3Byb3h5X3BvcnQ7IC8qIDAgPSBpZiBjb25uZWN0aW5nIHRvIHNzIHByb3h5LCBkbyBpdCB2aWEgYQoJICogVW5peCBEb21haW4gU29ja2V0LCAiK0Bwcm94eS5zcy5sd3MiIGlmIHNzX3Byb3h5X2JpbmQgaXMgTlVMTCBlbHNlCgkgKiB0aGUgc29ja2V0IHBhdGggZ2l2ZW4gaW4gc3NfcHJveHlfYmluZCAoc3RhcnQgaXQgd2l0aCBhICsgb3IgK0ApOwoJICogbm9uemVybyBtZWFucyBjb25uZWN0IHZpYSBhIHRjcCBzb2NrZXQgdG8gdGhlIHRjcCBhZGRyZXNzIGluCgkgKiBzc19wcm94eV9iaW5kIGFuZCB0aGUgZ2l2ZW4gcG9ydCAqLwojZW5kaWYKCglpbnQgcmxpbWl0X25vZmlsZTsKCS8qKjwgMCA9IGluaGVyaXQgdGhlIGluaXRpYWwgdWxpbWl0IGZvciBmaWxlcyAvIHNvY2tldHMgZnJvbSB0aGUgc3RhcnR1cAoJICogZW52aXJvbm1lbnQuICBOb256ZXJvID0gdHJ5IHRvIHNldCB0aGUgbGltaXQgZm9yIHRoaXMgcHJvY2Vzcy4KCSAqLwojaWYgZGVmaW5lZChMV1NfV0lUSF9QRUVSX0xJTUlUUykKCWx3c19wZWVyX2xpbWl0c19ub3RpZnlfdCBwbF9ub3RpZnlfY2I7CgkvKio8IENPTlRFWFQ6IE5VTEwsIG9yIGEgY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIGVhY2ggdGltZSBhCgkgKiBjb25uZWN0aW9uIGlzIGJlaW5nIGRyb3BwZWQgYmVjYXVzZSBvZiBwZWVyIGxpbWl0cy4KCSAqCgkgKiBUaGUgY2FsbGJhY2sgcHJvdmlkZXMgdGhlIGNvbnRleHQsIGFuZCBhbiBsd3Nfc29ja2FkZHI0NiB3aXRoIHRoZQoJICogcGVlciBhZGRyZXNzIGFuZCBwb3J0LgoJICovCgl1bnNpZ25lZCBzaG9ydCBpcF9saW1pdF9haDsKCS8qKjwgQ09OVEVYVDogbWF4IG51bWJlciBvZiBhaCBhIHNpbmdsZSBJUCBtYXkgdXNlIHNpbXVsdGFuZW91c2x5CgkgKgkgICAgICAwIGlzIG5vIGxpbWl0LiBUaGlzIGlzIGEgc29mdCBsaW1pdDogaWYgdGhlIGxpbWl0IGlzCgkgKgkgICAgICByZWFjaGVkLCBjb25uZWN0aW9ucyBmcm9tIHRoYXQgSVAgd2lsbCB3YWl0IGluIHRoZSBhaAoJICoJICAgICAgd2FpdGluZyBsaXN0IGFuZCBub3QgYmUgYWJsZSB0byBhY3F1aXJlIGFuIGFoIHVudGlsCgkgKgkgICAgICBhIGNvbm5lY3Rpb24gYmVsb25naW5nIHRvIHRoZSBJUCByZWxpbnF1aXNoZXMgb25lIGl0CgkgKgkgICAgICBhbHJlYWR5IGhhcy4KCSAqLwoJdW5zaWduZWQgc2hvcnQgaXBfbGltaXRfd3NpOwoJLyoqPCBDT05URVhUOiBtYXggbnVtYmVyIG9mIHdzaSBhIHNpbmdsZSBJUCBtYXkgdXNlIHNpbXVsdGFuZW91c2x5LgoJICoJICAgICAgMCBpcyBubyBsaW1pdC4gIFRoaXMgaXMgYSBoYXJkIGxpbWl0LCBjb25uZWN0aW9ucyBmcm9tCgkgKgkgICAgICB0aGUgc2FtZSBJUCB3aWxsIHNpbXBseSBiZSBkcm9wcGVkIG9uY2UgaXQgYWNxdWlyZXMgdGhlCgkgKgkgICAgICBhbW91bnQgb2Ygc2ltdWx0YW5lb3VzIHdzaSAvIGFjY2VwdGVkIGNvbm5lY3Rpb25zCgkgKgkgICAgICBnaXZlbiBoZXJlLgoJICovCgojZW5kaWYgLyogUEVFUl9MSU1JVFMgKi8KCiNpZiBkZWZpbmVkKExXU19XSVRIX1NZU19GQVVMVF9JTkpFQ1RJT04pCglsd3NfZmlfY3R4X3QJCQkJZmljOwoJLyoqPCBDT05URVhUIHwgVkhPU1Q6IGF0dGFjaCBleHRlcm5hbCBGYXVsdCBJbmplY3Rpb24gY29udGV4dCB0byB0aGUKCSAqIGx3c19jb250ZXh0IG9yIHZob3N0LiAgSWYgY3JlYXRpbmcgdGhlIGNvbnRleHQgKyBkZWZhdWx0IHZob3N0IGluCgkgKiBvbmUgc3RlcCwgb25seSB0aGUgY29udGV4dCBiaW5kcyB0byBccCBmaS4gIFdoZW4gY3JlYXRpbmcgYSB2aG9zdAoJICogb3RoZXJ3aXNlIHRoaXMgY2FuIGJpbmQgdG8gdGhlIHZob3N0IHNvIHRoZSBmYXVsdHMgY2FuIGJlIGluamVjdGVkCgkgKiBmcm9tIHRoZSBzdGFydC4KCSAqLwojZW5kaWYKCiNpZiBkZWZpbmVkKExXU19XSVRIX1NZU19TTUQpCglsd3Nfc21kX25vdGlmaWNhdGlvbl9jYl90CQllYXJseV9zbWRfY2I7CgkvKio8IENPTlRFWFQ6IE5VTEwsIG9yIGFuIHNtZCBub3RpZmljYXRpb24gY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHJlZ2lzdGVyZWQKCSAqIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBzbWQgaW4gdGhlIGNvbnRleHQgaXMgaW5pdGlhbGl6ZWQuICBUaGlzIGVuc3VyZXMKCSAqIHlvdSBjYW4gZ2V0IGFsbCBub3RpZmljYXRpb25zIHdpdGhvdXQgaGF2aW5nIHRvIGludGVyY2VwdCB0aGUgZXZlbnQgbG9vcAoJICogY3JlYXRpb24sIGVnLCB3aGVuIHVzaW5nIGFuIGV2ZW50IGxpYnJhcnkuICBPdGhlciBjYWxsYmFja3MgY2FuIGJlCgkgKiByZWdpc3RlcmVkIGxhdGVyIG1hbnVhbGx5IHdpdGhvdXQgcHJvYmxlbXMuCgkgKi8KCXZvaWQJCQkJCSplYXJseV9zbWRfb3BhcXVlOwoJbHdzX3NtZF9jbGFzc190CQkJCWVhcmx5X3NtZF9jbGFzc19maWx0ZXI7Cglsd3NfdXNlY190CQkJCXNtZF90dGxfdXM7CgkvKio8IENPTlRFWFQ6IFNNRCBtZXNzYWdlcyBvbGRlciB0aGFuIHRoaXMgbWFueSB1cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZQoJICogcXVldWUgYW5kIGRlc3Ryb3llZCBldmVuIGlmIG5vdCBmdWxseSBkZWxpdmVyZWQgeWV0LiAgSWYgemVybywKCSAqIGRlZmF1bHRzIHRvIDIgc2Vjb25kcyAoNSBzZWNvbmQgZm9yIEZSRUVSVE9TKS4KCSAqLwoJdWludDE2X3QJCQkJc21kX3F1ZXVlX2RlcHRoOwoJLyoqPCBDT05URVhUOiBNYXhpbXVtIHF1ZXVlIGRlcHRoLCBJZiB6ZXJvIGRlZmF1bHRzIHRvIDQwCgkgKiAoMjAgZm9yIEZSRUVSVE9TKSAqLwojZW5kaWYKCiNpZiBkZWZpbmVkKExXU19XSVRIX1NZU19NRVRSSUNTKQoJY29uc3Qgc3RydWN0IGx3c19tZXRyaWNfcG9saWN5CQkqbWV0cmljc19wb2xpY2llczsKCS8qKjwgQ09OVEVYVDogbm9uLVNTIHBvbGljeSBtZXRyaWNzIHBvbGljaWVzICovCgljb25zdCBjaGFyCQkJCSptZXRyaWNzX3ByZWZpeDsKCS8qKjwgQ09OVEVYVDogcHJlZml4IGZvciB0aGlzIGNvbnRleHQncyBtZXRyaWNzLCB1c2VkIHRvIGRpc3Rpbmd1aXNoCgkgKiBtZXRyaWNzIHBvb2xlZCBmcm9tIGRpZmZlcmVudCBwcm9jZXNzZXMgLyBhcHBsaWNhdGlvbnMsIHNvLCBlZyB3aGF0CgkgKiB3b3VsZCBiZSAiY3B1LnN2YyIgaWYgdGhpcyBpcyBOVUxMIGJlY29tZXMgIm15YXBwLmNwdS5zdmMiIGlzIHRoaXMgaXMKCSAqIHNldCB0byAibXlhcHAiLiAgUG9saWNpZXMgYXJlIGFwcGxpZWQgdXNpbmcgdGhlIG5hbWUgd2l0aCB0aGUgcHJlZml4LAoJICogaWYgcHJlc2VudC4KCSAqLwojZW5kaWYKCglpbnQJCQkJCWZvX2xpc3Rlbl9xdWV1ZTsKCS8qKjwgVkhPU1Q6IDAgPSBubyBUQ1BfRkFTVE9QRU4sIG5vbnplcm8gPSBlbmFibGUgVENQX0ZBU1RPUEVOIGlmIHRoZQoJICogcGxhdGZvcm0gc3VwcG9ydHMgaXQsIHdpdGggdGhlIGdpdmVuIHF1ZXVlIGxlbmd0aCBmb3IgdGhlIGxpc3RlbgoJICogc29ja2V0LgoJICovCgoJY29uc3Qgc3RydWN0IGx3c19wbHVnaW5fZXZsaWIJCSpldmVudF9saWJfY3VzdG9tOwoJLyoqPCBDT05URVhUOiBJZiBub24tTlVMTCwgb3ZlcnJpZGUgZXZlbnQgbGlicmFyeSBzZWxlY3Rpb24gc28gaXQgdXNlcwoJICogdGhpcyBjdXN0b20gZXZlbnQgbGlicmFyeSBpbXBsZW1lbnRhdGlvbiwgaW5zdGVhZCBvZiBkZWZhdWx0IGludGVybmFsCgkgKiBsb29wLiAgRG9uJ3Qgc2V0IGFueSBvdGhlciBldmVudCBsaWIgY29udGV4dCBjcmVhdGlvbiBmbGFncyBpbiB0aGF0CgkgKiBjYXNlLiBpdCB3aWxsIGJlIHVzZWQgYXV0b21hdGljYWxseS4gIFRoaXMgaXMgdXNlZnVsIGZvciBpbnRlZ3JhdGlvbgoJICogd2hlcmUgYW4gZXhpc3RpbmcgYXBwbGljYXRpb24gaXMgdXNpbmcgaXRzIG93biBoYW5kcm9sbGVkIGV2ZW50IGxvb3AKCSAqIGluc3RlYWQgb2YgYW4gZXZlbnQgbGlicmFyeSwgaXQgcHJvdmlkZXMgYSB3YXkgdG8gYWxsb3cgbHdzIHRvIHVzZQoJICogdGhlIGN1c3RvbSBldmVudCBsb29wIG5hdGl2ZWx5IGFzIGlmIGl0IHdlcmUgYW4gImV2ZW50IGxpYnJhcnkiLgoJICovCgojaWYgZGVmaW5lZChMV1NfV0lUSF9UTFNfSklUX1RSVVNUKQoJc2l6ZV90CQkJCQlqaXR0X2NhY2hlX21heF9mb290cHJpbnQ7CgkvKio8IENPTlRFWFQ6IDAgZm9yIG5vIGxpbWl0LCBlbHNlIG1heCBieXRlcyB1c2VkIGJ5IEpJVCBUcnVzdCBjYWNoZS4uLgoJICogTFJVIGl0ZW1zIGFyZSBldmljdGVkIHRvIGtlZXAgdW5kZXIgdGhpcyBsaW1pdCAqLwoJaW50CQkJCQl2aF9pZGxlX2dyYWNlX21zOwoJLyoqPCBDT05URVhUOiAwIGZvciBkZWZhdWx0IG9mIDUwMDBtcywgb3IgbnVtYmVyIG9mIG1zIEpJVCBUcnVzdCB2aG9zdHMKCSAqIGFyZSBhbGxvd2VkIHRvIGxpdmUgd2l0aG91dCBhY3RpdmUgY29ubmVjdGlvbnMgdXNpbmcgdGhlbS4gKi8KI2VuZGlmCgoJbHdzX2xvZ19jeF90CQkJCSpsb2dfY3g7CgkvKio8IENPTlRFWFQ6IE5VTEwgdG8gdXNlIHRoZSBkZWZhdWx0LCBwcm9jZXNzLXNjb3BlIGxvZ2dpbmcgY29udGV4dCwKCSAqIGVsc2UgYSBzcGVjaWZpYyBsb2dnaW5nIGNvbnRleHQgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBjb250ZXh0ICovCgojaWYgZGVmaW5lZChMV1NfV0lUSF9DQUNIRV9OU0NPT0tJRUpBUikgJiYgZGVmaW5lZChMV1NfV0lUSF9DTElFTlQpCgljb25zdCBjaGFyCQkJCSpodHRwX25zY19maWxlcGF0aDsKCS8qKjwgQ09OVEVYVDogRmlsZXBhdGggdG8gdXNlIGZvciBodHRwIG5ldHNjYXBlIGNvb2tpZWphciBmaWxlICovCgoJc2l6ZV90CQkJCQlodHRwX25zY19oZWFwX21heF9mb290cHJpbnQ7CgkvKio8IENPTlRFWFQ6IDAsIG9yIGxpbWl0IGluIGJ5dGVzIGZvciBoZWFwIHVzYWdlIG9mIG1lbW9yeSBjb29raWUKCSAqIGNhY2hlICovCglzaXplX3QJCQkJCWh0dHBfbnNjX2hlYXBfbWF4X2l0ZW1zOwoJLyoqPCBDT05URVhUOiAwLCBvciB0aGUgbWF4IG51bWJlciBvZiBpdGVtcyBhbGxvd2VkIGluIHRoZSBjb29raWUgY2FjaGUKCSAqIGJlZm9yZSBkZXN0cm95aW5nIGxydSBpdGVtcyB0byBrZWVwIGl0IHVuZGVyIHRoZSBsaW1pdCAqLwoJc2l6ZV90CQkJCQlodHRwX25zY19oZWFwX21heF9wYXlsb2FkOwoJLyoqPCBDT05URVhUOiAwLCBvciB0aGUgbWF4aW11bSBzaXplIG9mIGEgc2luZ2xlIGNvb2tpZSB3ZSBhcmUgYWJsZSB0bwoJICogaGFuZGxlICovCiNlbmRpZgoKCS8qIEFkZCBuZXcgdGhpbmdzIGp1c3QgYWJvdmUgaGVyZSAtLS1eCgkgKiBUaGlzIGlzIHBhcnQgb2YgdGhlIEFCSSwgZG9uJ3QgbmVlZGxlc3NseSBicmVhayBjb21wYXRpYmlsaXR5CgkgKgoJICogVGhlIGJlbG93IGlzIHRvIGVuc3VyZSBsYXRlciBsaWJyYXJ5IHZlcnNpb25zIHdpdGggbmV3CgkgKiBtZW1iZXJzIGFkZGVkIGFib3ZlIHdpbGwgc2VlIDAgKGRlZmF1bHQpIGV2ZW4gaWYgdGhlIGFwcAoJICogd2FzIG5vdCBidWlsdCBhZ2FpbnN0IHRoZSBuZXdlciBoZWFkZXJzLgoJICovCgoJdm9pZCAqX3VudXNlZFsyXTsgLyoqPCBkdW1teSAqLwp9OwoKLyoqCiAqIGx3c19jcmVhdGVfY29udGV4dCgpIC0gQ3JlYXRlIHRoZSB3ZWJzb2NrZXQgaGFuZGxlcgogKiBccGFyYW0gaW5mbzoJcG9pbnRlciB0byBzdHJ1Y3Qgd2l0aCBwYXJhbWV0ZXJzCiAqCiAqCVRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgbGlzdGVuaW5nIHNvY2tldCAoaWYgc2VydmluZykgYW5kIHRha2VzIGNhcmUKICoJb2YgYWxsIGluaXRpYWxpemF0aW9uIGluIG9uZSBzdGVwLgogKgogKglJZiBvcHRpb24gTFdTX1NFUlZFUl9PUFRJT05fRVhQTElDSVRfVkhPU1RTIGlzIGdpdmVuLCBubyB2aG9zdCBpcwogKgljcmVhdGVkOyB5b3UncmUgZXhwZWN0ZWQgdG8gY3JlYXRlIHlvdXIgb3duIHZob3N0cyBhZnRlcndhcmRzIHVzaW5nCiAqCWx3c19jcmVhdGVfdmhvc3QoKS4gIE90aGVyd2lzZSBhIHZob3N0IG5hbWVkICJkZWZhdWx0IiBpcyBhbHNvIGNyZWF0ZWQKICoJdXNpbmcgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB2aG9zdC1yZWxhdGVkIG1lbWJlcnMsIGZvciBjb21wYXRpYmlsaXR5LgogKgogKglBZnRlciBpbml0aWFsaXphdGlvbiwgaXQgcmV0dXJucyBhIHN0cnVjdCBsd3NfY29udGV4dCAqIHRoYXQKICoJcmVwcmVzZW50cyB0aGlzIHNlcnZlci4gIEFmdGVyIGNhbGxpbmcsIHVzZXIgY29kZSBuZWVkcyB0byB0YWtlIGNhcmUKICoJb2YgY2FsbGluZyBsd3Nfc2VydmljZSgpIHdpdGggdGhlIGNvbnRleHQgcG9pbnRlciB0byBnZXQgdGhlCiAqCXNlcnZlcidzIHNvY2tldHMgc2VydmljZWQuICBUaGlzIG11c3QgYmUgZG9uZSBpbiB0aGUgc2FtZSBwcm9jZXNzCiAqCWNvbnRleHQgYXMgdGhlIGluaXRpYWxpemF0aW9uIGNhbGwuCiAqCiAqCVRoZSBwcm90b2NvbCBjYWxsYmFjayBmdW5jdGlvbnMgYXJlIGNhbGxlZCBmb3IgYSBoYW5kZnVsIG9mIGV2ZW50cwogKglpbmNsdWRpbmcgaHR0cCByZXF1ZXN0cyBjb21pbmcgaW4sIHdlYnNvY2tldCBjb25uZWN0aW9ucyBiZWNvbWluZwogKgllc3RhYmxpc2hlZCwgYW5kIGRhdGEgYXJyaXZpbmc7IGl0J3MgYWxzbyBjYWxsZWQgcGVyaW9kaWNhbGx5IHRvIGFsbG93CiAqCWFzeW5jIHRyYW5zbWlzc2lvbi4KICoKICoJSFRUUCByZXF1ZXN0cyBhcmUgc2VudCBhbHdheXMgdG8gdGhlIEZJUlNUIHByb3RvY29sIGluIHByb3RvY29sLCBzaW5jZQogKglhdCB0aGF0IHRpbWUgd2Vic29ja2V0IHByb3RvY29sIGhhcyBub3QgYmVlbiBuZWdvdGlhdGVkLiAgT3RoZXIKICoJcHJvdG9jb2xzIGFmdGVyIHRoZSBmaXJzdCBvbmUgbmV2ZXIgc2VlIGFueSBIVFRQIGNhbGxiYWNrIGFjdGl2aXR5LgogKgogKglUaGUgc2VydmVyIGNyZWF0ZWQgaXMgYSBzaW1wbGUgaHR0cCBzZXJ2ZXIgYnkgZGVmYXVsdDsgcGFydCBvZiB0aGUKICoJd2Vic29ja2V0IHN0YW5kYXJkIGlzIHVwZ3JhZGluZyB0aGlzIGh0dHAgY29ubmVjdGlvbiB0byBhIHdlYnNvY2tldCBvbmUuCiAqCiAqCVRoaXMgYWxsb3dzIHRoZSBzYW1lIHNlcnZlciB0byBwcm92aWRlIGZpbGVzIGxpa2Ugc2NyaXB0cyBhbmQgZmF2aWNvbiAvCiAqCWltYWdlcyBvciB3aGF0ZXZlciBvdmVyIGh0dHAgYW5kIGR5bmFtaWMgZGF0YSBvdmVyIHdlYnNvY2tldHMgYWxsIGluCiAqCW9uZSBwbGFjZTsgdGhleSdyZSBhbGwgaGFuZGxlZCBpbiB0aGUgdXNlciBjYWxsYmFjay4KICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gc3RydWN0IGx3c19jb250ZXh0ICoKbHdzX2NyZWF0ZV9jb250ZXh0KGNvbnN0IHN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvICppbmZvKTsKCgovKioKICogbHdzX2NvbnRleHRfZGVzdHJveSgpIC0gRGVzdHJveSB0aGUgd2Vic29ja2V0IGNvbnRleHQKICogXHBhcmFtIGNvbnRleHQ6CVdlYnNvY2tldCBjb250ZXh0CiAqCiAqCVRoaXMgZnVuY3Rpb24gY2xvc2VzIGFueSBhY3RpdmUgY29ubmVjdGlvbnMgYW5kIHRoZW4gZnJlZXMgdGhlCiAqCWNvbnRleHQuICBBZnRlciBjYWxsaW5nIHRoaXMsIGFueSBmdXJ0aGVyIHVzZSBvZiB0aGUgY29udGV4dCBpcwogKgl1bmRlZmluZWQuCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIHZvaWQKbHdzX2NvbnRleHRfZGVzdHJveShzdHJ1Y3QgbHdzX2NvbnRleHQgKmNvbnRleHQpOwoKdHlwZWRlZiBpbnQgKCpsd3NfcmVsb2FkX2Z1bmMpKHZvaWQpOwoKLyoqCiAqIGx3c19jb250ZXh0X2RlcHJlY2F0ZSgpIC0gRGVwcmVjYXRlIHRoZSB3ZWJzb2NrZXQgY29udGV4dAogKgogKiBccGFyYW0gY29udGV4dDoJV2Vic29ja2V0IGNvbnRleHQKICogXHBhcmFtIGNiOiBDYWxsYmFjayBub3RpZmllZCB3aGVuIG9sZCBjb250ZXh0IGxpc3RlbiBzb2NrZXRzIGFyZSBjbG9zZWQKICoKICoJVGhpcyBmdW5jdGlvbiBpcyB1c2VkIG9uIGFuIGV4aXN0aW5nIGNvbnRleHQgYmVmb3JlIHN1cGVyY2VkaW5nIGl0CiAqCXdpdGggYSBuZXcgY29udGV4dC4KICoKICoJSXQgY2xvc2VzIGFueSBsaXN0ZW4gc29ja2V0cyBpbiB0aGUgY29udGV4dCwgc28gbmV3IGNvbm5lY3Rpb25zIGFyZQogKglub3QgcG9zc2libGUuCiAqCiAqCUFuZCBpdCBtYXJrcyB0aGUgY29udGV4dCB0byBiZSBkZWxldGVkIHdoZW4gdGhlIG51bWJlciBvZiBhY3RpdmUKICoJY29ubmVjdGlvbnMgaW50byBpdCBmYWxscyB0byB6ZXJvLgogKgogKglUaGlzIGlzIGFpbWVkIGF0IGFsbG93aW5nIHNlYW1sZXNzIGNvbmZpZ3VyYXRpb24gcmVsb2Fkcy4KICoKICoJVGhlIGNhbGxiYWNrIGNiIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBsaXN0ZW4gc29ja2V0cyBhcmUgYWN0dWFsbHkKICoJY2xvc2VkIGFuZCBtYXkgYmUgcmVvcGVuZWQuICBJbiB0aGUgY2FsbGJhY2sgdGhlIG5ldyBjb250ZXh0IHNob3VsZCBiZQogKgljb25maWd1cmVkIGFuZCBjcmVhdGVkLiAgKFdpdGggbGlidXYsIHNvY2tldCBjbG9zZSBoYXBwZW5zIGFzeW5jIGFmdGVyCiAqCW1vcmUgbG9vcCBldmVudHMpLgogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiB2b2lkCmx3c19jb250ZXh0X2RlcHJlY2F0ZShzdHJ1Y3QgbHdzX2NvbnRleHQgKmNvbnRleHQsIGx3c19yZWxvYWRfZnVuYyBjYik7CgpMV1NfVklTSUJMRSBMV1NfRVhURVJOIGludApsd3NfY29udGV4dF9pc19kZXByZWNhdGVkKHN0cnVjdCBsd3NfY29udGV4dCAqY29udGV4dCk7CgovKioKICogbHdzX3NldF9wcm94eSgpIC0gU2V0dXBzIHByb3h5IHRvIGx3c19jb250ZXh0LgogKiBccGFyYW0gdmhvc3Q6CXBvaW50ZXIgdG8gc3RydWN0IGx3c192aG9zdCB5b3Ugd2FudCBzZXQgcHJveHkgZm9yCiAqIFxwYXJhbSBwcm94eTogcG9pbnRlciB0byBjIHN0cmluZyBjb250YWluaW5nIHByb3h5IGluIGZvcm1hdCBhZGRyZXNzOnBvcnQKICoKICogUmV0dXJucyAwIGlmIHByb3h5IHN0cmluZyB3YXMgcGFyc2VkIGFuZCBwcm94eSB3YXMgc2V0dXAuCiAqIFJldHVybnMgLTEgaWYgcHJveHkgaXMgTlVMTCBvciBoYXMgaW5jb3JyZWN0IGZvcm1hdC4KICoKICogVGhpcyBpcyBvbmx5IHJlcXVpcmVkIGlmIHlvdXIgT1MgZG9lcyBub3QgcHJvdmlkZSB0aGUgaHR0cF9wcm94eQogKiBlbnZpcm9ubWVudCB2YXJpYWJsZSAoZWcsIE9TWCkKICoKICogICBJTVBPUlRBTlQhIFlvdSBzaG91bGQgY2FsbCB0aGlzIGZ1bmN0aW9uIHJpZ2h0IGFmdGVyIGNyZWF0aW9uIG9mIHRoZQogKiAgIGx3c19jb250ZXh0IGFuZCBiZWZvcmUgY2FsbCB0byBjb25uZWN0LiBJZiB5b3UgY2FsbCB0aGlzCiAqICAgZnVuY3Rpb24gYWZ0ZXIgY29ubmVjdCBiZWhhdmlvciBpcyB1bmRlZmluZWQuCiAqICAgVGhpcyBmdW5jdGlvbiB3aWxsIG92ZXJyaWRlIHByb3h5IHNldHRpbmdzIG1hZGUgb24gbHdzX2NvbnRleHQKICogICBjcmVhdGlvbiB3aXRoIGdlbmVudigpIGNhbGwuCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIGludApsd3Nfc2V0X3Byb3h5KHN0cnVjdCBsd3Nfdmhvc3QgKnZob3N0LCBjb25zdCBjaGFyICpwcm94eSk7CgovKioKICogbHdzX3NldF9zb2NrcygpIC0gU2V0dXAgc29ja3MgdG8gbHdzX2NvbnRleHQuCiAqIFxwYXJhbSB2aG9zdDoJcG9pbnRlciB0byBzdHJ1Y3QgbHdzX3Zob3N0IHlvdSB3YW50IHNldCBzb2NrcyBmb3IKICogXHBhcmFtIHNvY2tzOiBwb2ludGVyIHRvIGMgc3RyaW5nIGNvbnRhaW5pbmcgc29ja3MgaW4gZm9ybWF0IGFkZHJlc3M6cG9ydAogKgogKiBSZXR1cm5zIDAgaWYgc29ja3Mgc3RyaW5nIHdhcyBwYXJzZWQgYW5kIHNvY2tzIHdhcyBzZXR1cC4KICogUmV0dXJucyAtMSBpZiBzb2NrcyBpcyBOVUxMIG9yIGhhcyBpbmNvcnJlY3QgZm9ybWF0LgogKgogKiBUaGlzIGlzIG9ubHkgcmVxdWlyZWQgaWYgeW91ciBPUyBkb2VzIG5vdCBwcm92aWRlIHRoZSBzb2Nrc19wcm94eQogKiBlbnZpcm9ubWVudCB2YXJpYWJsZSAoZWcsIE9TWCkKICoKICogICBJTVBPUlRBTlQhIFlvdSBzaG91bGQgY2FsbCB0aGlzIGZ1bmN0aW9uIHJpZ2h0IGFmdGVyIGNyZWF0aW9uIG9mIHRoZQogKiAgIGx3c19jb250ZXh0IGFuZCBiZWZvcmUgY2FsbCB0byBjb25uZWN0LiBJZiB5b3UgY2FsbCB0aGlzCiAqICAgZnVuY3Rpb24gYWZ0ZXIgY29ubmVjdCBiZWhhdmlvciBpcyB1bmRlZmluZWQuCiAqICAgVGhpcyBmdW5jdGlvbiB3aWxsIG92ZXJyaWRlIHByb3h5IHNldHRpbmdzIG1hZGUgb24gbHdzX2NvbnRleHQKICogICBjcmVhdGlvbiB3aXRoIGdlbmVudigpIGNhbGwuCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIGludApsd3Nfc2V0X3NvY2tzKHN0cnVjdCBsd3Nfdmhvc3QgKnZob3N0LCBjb25zdCBjaGFyICpzb2Nrcyk7CgpzdHJ1Y3QgbHdzX3Zob3N0OwoKLyoqCiAqIGx3c19jcmVhdGVfdmhvc3QoKSAtIENyZWF0ZSBhIHZob3N0ICh2aXJ0dWFsIHNlcnZlciBjb250ZXh0KQogKiBccGFyYW0gY29udGV4dDoJcG9pbnRlciB0byByZXN1bHQgb2YgbHdzX2NyZWF0ZV9jb250ZXh0KCkKICogXHBhcmFtIGluZm86CQlwb2ludGVyIHRvIHN0cnVjdCB3aXRoIHBhcmFtZXRlcnMKICoKICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgdmlydHVhbCBzZXJ2ZXIgKHZob3N0KSB1c2luZyB0aGUgdmhvc3QtcmVsYXRlZAogKiBtZW1iZXJzIG9mIHRoZSBpbmZvIHN0cnVjdC4gIFlvdSBjYW4gY3JlYXRlIG1hbnkgdmhvc3RzIGluc2lkZSBvbmUgY29udGV4dAogKiBpZiB5b3UgY3JlYXRlZCB0aGUgY29udGV4dCB3aXRoIHRoZSBvcHRpb24gTFdTX1NFUlZFUl9PUFRJT05fRVhQTElDSVRfVkhPU1RTCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIHN0cnVjdCBsd3Nfdmhvc3QgKgpsd3NfY3JlYXRlX3Zob3N0KHN0cnVjdCBsd3NfY29udGV4dCAqY29udGV4dCwKCQkgY29uc3Qgc3RydWN0IGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8gKmluZm8pOwoKLyoqCiAqIGx3c192aG9zdF9kZXN0cm95KCkgLSBEZXN0cm95IGEgdmhvc3QgKHZpcnR1YWwgc2VydmVyIGNvbnRleHQpCiAqCiAqIFxwYXJhbSB2aDoJCXBvaW50ZXIgdG8gcmVzdWx0IG9mIGx3c19jcmVhdGVfdmhvc3QoKQogKgogKiBUaGlzIGZ1bmN0aW9uIGRlc3Ryb3lzIGEgdmhvc3QuICBOb3JtYWxseSwgaWYgeW91IGp1c3Qgd2FudCB0byBleGl0LAogKiB0aGVuIGx3c19kZXN0cm95X2NvbnRleHQoKSB3aWxsIHRha2UgY2FyZSBvZiBldmVyeXRoaW5nLiAgSWYgeW91IHdhbnQKICogdG8gZGVzdHJveSBhbiBpbmRpdmlkdWFsIHZob3N0IGFuZCBhbGwgY29ubmVjdGlvbnMgYW5kIGFsbG9jYXRpb25zLCB5b3UKICogY2FuIGRvIGl0IHdpdGggdGhpcy4KICoKICogSWYgdGhlIHZob3N0IGhhcyBhIGxpc3RlbiBzb2NrZXRzIHNoYXJlZCBieSBvdGhlciB2aG9zdHMsIGl0IHdpbGwgYmUgZ2l2ZW4KICogdG8gb25lIG9mIHRoZSB2aG9zdHMgc2hhcmluZyBpdCByYXRoZXIgdGhhbiBjbG9zZWQuCiAqCiAqIFRoZSB2aG9zdCBjbG9zZSBpcyBzdGFnZWQgYWNjb3JkaW5nIHRvIHRoZSBuZWVkcyBvZiB0aGUgZXZlbnQgbG9vcCwgYW5kIGlmCiAqIHRoZXJlIGFyZSBtdWx0aXBsZSBzZXJ2aWNlIHRocmVhZHMuICBBdCB0aGUgcG9pbnQgdGhlIHZob3N0IGl0c2VsZiBpZgogKiBhYm91dCB0byBiZSBmcmVlZCwgaWYgeW91IHByb3ZpZGVkIGEgZmluYWxpemUgY2FsbGJhY2sgYW5kIG9wdGlvbmFsIGFyZyBhdAogKiB2aG9zdCBjcmVhdGlvbiB0aW1lLCBpdCB3aWxsIGJlIGNhbGxlZCBqdXN0IGJlZm9yZSB0aGUgdmhvc3QgaXMgZnJlZWQuCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIHZvaWQKbHdzX3Zob3N0X2Rlc3Ryb3koc3RydWN0IGx3c192aG9zdCAqdmgpOwoKLyoqCiAqIGx3c3dzX2dldF9jb25maWdfZ2xvYmFscygpIC0gUGFyc2UgYSBKU09OIHNlcnZlciBjb25maWcgZmlsZQogKiBccGFyYW0gaW5mbzoJCXBvaW50ZXIgdG8gc3RydWN0IHdpdGggcGFyYW1ldGVycwogKiBccGFyYW0gZDoJCWZpbGVwYXRoIG9mIHRoZSBjb25maWcgZmlsZQogKiBccGFyYW0gY29uZmlnX3N0cmluZ3M6IHN0b3JhZ2UgZm9yIHRoZSBjb25maWcgc3RyaW5ncyBleHRyYWN0ZWQgZnJvbSBKU09OLAogKiAJCQkgIHRoZSBwb2ludGVyIGlzIGluY3JlbWVudGVkIGFzIHN0cmluZ3MgYXJlIHN0b3JlZAogKiBccGFyYW0gbGVuOgkJcG9pbnRlciB0byB0aGUgcmVtYWluaW5nIGxlbmd0aCBsZWZ0IGluIGNvbmZpZ19zdHJpbmdzCiAqCQkJICB0aGUgdmFsdWUgaXMgZGVjcmVtZW50ZWQgYXMgc3RyaW5ncyBhcmUgc3RvcmVkCiAqCiAqIFRoaXMgZnVuY3Rpb24gcHJlcGFyZXMgYSBuIGx3c19jb250ZXh0X2NyZWF0aW9uX2luZm8gc3RydWN0IHdpdGggZ2xvYmFsCiAqIHNldHRpbmdzIGZyb20gYSBmaWxlIGQuCiAqCiAqIFJlcXVpcmVzIENNYWtlIG9wdGlvbiBMV1NfV0lUSF9MRUpQX0NPTkYgdG8gaGF2ZSBiZWVuIGVuYWJsZWQKICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gaW50Cmx3c3dzX2dldF9jb25maWdfZ2xvYmFscyhzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyAqaW5mbywgY29uc3QgY2hhciAqZCwKCQkJIGNoYXIgKipjb25maWdfc3RyaW5ncywgaW50ICpsZW4pOwoKLyoqCiAqIGx3c3dzX2dldF9jb25maWdfdmhvc3RzKCkgLSBDcmVhdGUgdmhvc3RzIGZyb20gYSBKU09OIHNlcnZlciBjb25maWcgZmlsZQogKiBccGFyYW0gY29udGV4dDoJcG9pbnRlciB0byByZXN1bHQgb2YgbHdzX2NyZWF0ZV9jb250ZXh0KCkKICogXHBhcmFtIGluZm86CQlwb2ludGVyIHRvIHN0cnVjdCB3aXRoIHBhcmFtZXRlcnMKICogXHBhcmFtIGQ6CQlmaWxlcGF0aCBvZiB0aGUgY29uZmlnIGZpbGUKICogXHBhcmFtIGNvbmZpZ19zdHJpbmdzOiBzdG9yYWdlIGZvciB0aGUgY29uZmlnIHN0cmluZ3MgZXh0cmFjdGVkIGZyb20gSlNPTiwKICogCQkJICB0aGUgcG9pbnRlciBpcyBpbmNyZW1lbnRlZCBhcyBzdHJpbmdzIGFyZSBzdG9yZWQKICogXHBhcmFtIGxlbjoJCXBvaW50ZXIgdG8gdGhlIHJlbWFpbmluZyBsZW5ndGggbGVmdCBpbiBjb25maWdfc3RyaW5ncwogKgkJCSAgdGhlIHZhbHVlIGlzIGRlY3JlbWVudGVkIGFzIHN0cmluZ3MgYXJlIHN0b3JlZAogKgogKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdmhvc3RzIGludG8gYSBjb250ZXh0IGFjY29yZGluZyB0byB0aGUgc2V0dGluZ3MgaW4KICpKU09OIGZpbGVzIGZvdW5kIGluIGRpcmVjdG9yeSBkLgogKgogKiBSZXF1aXJlcyBDTWFrZSBvcHRpb24gTFdTX1dJVEhfTEVKUF9DT05GIHRvIGhhdmUgYmVlbiBlbmFibGVkCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIGludApsd3N3c19nZXRfY29uZmlnX3Zob3N0cyhzdHJ1Y3QgbHdzX2NvbnRleHQgKmNvbnRleHQsCgkJCXN0cnVjdCBsd3NfY29udGV4dF9jcmVhdGlvbl9pbmZvICppbmZvLCBjb25zdCBjaGFyICpkLAoJCQljaGFyICoqY29uZmlnX3N0cmluZ3MsIGludCAqbGVuKTsKCi8qKgogKiBsd3NfZ2V0X3Zob3N0KCkgLSByZXR1cm4gdGhlIHZob3N0IGEgd3NpIGJlbG9uZ3MgdG8KICoKICogXHBhcmFtIHdzaTogd2hpY2ggY29ubmVjdGlvbgogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiBzdHJ1Y3QgbHdzX3Zob3N0ICoKbHdzX2dldF92aG9zdChzdHJ1Y3QgbHdzICp3c2kpOwoKLyoqCiAqIGx3c19nZXRfdmhvc3RfbmFtZSgpIC0gcmV0dXJucyB0aGUgbmFtZSBvZiBhIHZob3N0CiAqCiAqIFxwYXJhbSB2aG9zdDogd2hpY2ggdmhvc3QKICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gY29uc3QgY2hhciAqCmx3c19nZXRfdmhvc3RfbmFtZShzdHJ1Y3QgbHdzX3Zob3N0ICp2aG9zdCk7CgovKioKICogbHdzX2dldF92aG9zdF9ieV9uYW1lKCkgLSByZXR1cm5zIHRoZSB2aG9zdCB3aXRoIHRoZSByZXF1ZXN0ZWQgbmFtZSwgb3IgTlVMTAogKgogKiBccGFyYW0gY29udGV4dDogdGhlIGx3c19jb250ZXh0IHRvIGxvb2sgaW4KICogXHBhcmFtIG5hbWU6IHZob3N0IG5hbWUgd2UgYXJlIGxvb2tpbmcgZm9yCiAqCiAqIFJldHVybnMgTlVMTCwgb3IgdGhlIHZob3N0IHdpdGggdGhlIG5hbWUgXHAgbmFtZQogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiBzdHJ1Y3QgbHdzX3Zob3N0ICoKbHdzX2dldF92aG9zdF9ieV9uYW1lKHN0cnVjdCBsd3NfY29udGV4dCAqY29udGV4dCwgY29uc3QgY2hhciAqbmFtZSk7CgovKioKICogbHdzX2dldF92aG9zdF9wb3J0KCkgLSByZXR1cm5zIHRoZSBwb3J0IGEgdmhvc3QgbGlzdGVucyBvbiwgb3IgLTEKICoKICogXHBhcmFtIHZob3N0OiB3aGljaCB2aG9zdAogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiBpbnQKbHdzX2dldF92aG9zdF9wb3J0KHN0cnVjdCBsd3Nfdmhvc3QgKnZob3N0KTsKCi8qKgogKiBsd3NfZ2V0X3Zob3N0X3VzZXIoKSAtIHJldHVybnMgdGhlIHVzZXIgcG9pbnRlciBmb3IgdGhlIHZob3N0CiAqCiAqIFxwYXJhbSB2aG9zdDogd2hpY2ggdmhvc3QKICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gdm9pZCAqCmx3c19nZXRfdmhvc3RfdXNlcihzdHJ1Y3QgbHdzX3Zob3N0ICp2aG9zdCk7CgovKioKICogbHdzX2dldF92aG9zdF9pZmFjZSgpIC0gcmV0dXJucyB0aGUgYmluZGluZyBmb3IgdGhlIHZob3N0IGxpc3RlbiBzb2NrZXQKICoKICogXHBhcmFtIHZob3N0OiB3aGljaCB2aG9zdAogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiBjb25zdCBjaGFyICoKbHdzX2dldF92aG9zdF9pZmFjZShzdHJ1Y3QgbHdzX3Zob3N0ICp2aG9zdCk7CgovKioKICogbHdzX2pzb25fZHVtcF92aG9zdCgpIC0gZGVzY3JpYmUgdmhvc3Qgc3RhdGUgYW5kIHN0YXRzIGluIEpTT04KICoKICogXHBhcmFtIHZoOiB0aGUgdmhvc3QKICogXHBhcmFtIGJ1ZjogYnVmZmVyIHRvIGZpbGwgd2l0aCBKU09OCiAqIFxwYXJhbSBsZW46IG1heCBsZW5ndGggb2YgYnVmCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIGludApsd3NfanNvbl9kdW1wX3Zob3N0KGNvbnN0IHN0cnVjdCBsd3Nfdmhvc3QgKnZoLCBjaGFyICpidWYsIGludCBsZW4pOwoKLyoqCiAqIGx3c19qc29uX2R1bXBfY29udGV4dCgpIC0gZGVzY3JpYmUgY29udGV4dCBzdGF0ZSBhbmQgc3RhdHMgaW4gSlNPTgogKgogKiBccGFyYW0gY29udGV4dDogdGhlIGNvbnRleHQKICogXHBhcmFtIGJ1ZjogYnVmZmVyIHRvIGZpbGwgd2l0aCBKU09OCiAqIFxwYXJhbSBsZW46IG1heCBsZW5ndGggb2YgYnVmCiAqIFxwYXJhbSBoaWRlX3Zob3N0czogbm9uemVybyB0byBub3QgcHJvdmlkZSBwZXItdmhvc3QgbW91bnQgZXRjIGluZm9ybWF0aW9uCiAqCiAqIEdlbmVyYXRlcyBhIEpTT04gZGVzY3JpcHRpb24gb2Ygdmhvc3Qgc3RhdGUgaW50byBidWYKICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gaW50Cmx3c19qc29uX2R1bXBfY29udGV4dChjb25zdCBzdHJ1Y3QgbHdzX2NvbnRleHQgKmNvbnRleHQsIGNoYXIgKmJ1ZiwgaW50IGxlbiwKCQkgICAgICBpbnQgaGlkZV92aG9zdHMpOwoKLyoqCiAqIGx3c192aG9zdF91c2VyKCkgLSBnZXQgdGhlIHVzZXIgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIHZob3N0CiAqIFxwYXJhbSB2aG9zdDogV2Vic29ja2V0IHZob3N0CiAqCiAqIFRoaXMgcmV0dXJucyB0aGUgb3B0aW9uYWwgdXNlciBwb2ludGVyIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvCiAqIGEgdmhvc3Qgd2hlbiBpdCB3YXMgY3JlYXRlZC4gIEx3cyBuZXZlciBkZXJlZmVyZW5jZXMgdGhpcyBwb2ludGVyLCBpdCBvbmx5CiAqIHNldHMgaXQgd2hlbiB0aGUgdmhvc3QgaXMgY3JlYXRlZCwgYW5kIHJldHVybnMgaXQgdXNpbmcgdGhpcyBhcGkuCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIHZvaWQgKgpsd3Nfdmhvc3RfdXNlcihzdHJ1Y3QgbHdzX3Zob3N0ICp2aG9zdCk7CgovKioKICogbHdzX2NvbnRleHRfdXNlcigpIC0gZ2V0IHRoZSB1c2VyIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb250ZXh0CiAqIFxwYXJhbSBjb250ZXh0OiBXZWJzb2NrZXQgY29udGV4dAogKgogKiBUaGlzIHJldHVybnMgdGhlIG9wdGlvbmFsIHVzZXIgYWxsb2NhdGlvbiB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0bwogKiB0aGUgY29udGV4dCB0aGUgc29ja2V0cyBsaXZlIGluIGF0IGNvbnRleHRfY3JlYXRlIHRpbWUuICBJdCdzIGEgd2F5CiAqIHRvIGxldCBhbGwgc29ja2V0cyBzZXJ2aWNlZCBpbiB0aGUgc2FtZSBjb250ZXh0IHNoYXJlIGRhdGEgd2l0aG91dAogKiB1c2luZyBnbG9iYWxzIHN0YXRpY3MgaW4gdGhlIHVzZXIgY29kZS4KICovCkxXU19WSVNJQkxFIExXU19FWFRFUk4gdm9pZCAqCmx3c19jb250ZXh0X3VzZXIoc3RydWN0IGx3c19jb250ZXh0ICpjb250ZXh0KTsKCkxXU19WSVNJQkxFIExXU19FWFRFUk4gY29uc3QgY2hhciAqCmx3c192aF90YWcoc3RydWN0IGx3c192aG9zdCAqdmgpOwoKLyoqCiAqIGx3c19jb250ZXh0X2lzX2JlaW5nX2Rlc3Ryb3llZCgpIC0gZmluZCBvdXQgaWYgY29udGV4dCBpcyBiZWluZyBkZXN0cm95ZWQKICoKICogXHBhcmFtIGNvbnRleHQ6IHRoZSBzdHJ1Y3QgbHdzX2NvbnRleHQgcG9pbnRlcgogKgogKiBSZXR1cm5zIG5vbnplcm8gaWYgdGhlIGNvbnRleHQgaGFzIGhhZCBsd3NfY29udGV4dF9kZXN0cm95KCkgY2FsbGVkIG9uIGl0Li4uCiAqIHdoZW4gdXNpbmcgZXZlbnQgbGlicmFyeSBsb29wcyB0aGUgZGVzdHJveSBwcm9jZXNzIGNhbiBiZSBhc3luY2hyb25vdXMuICBJbgogKiB0aGUgc3BlY2lhbCBjYXNlIG9mIGxpYnV2IGZvcmVpZ24gbG9vcHMsIHRoZSBmYWlsdXJlIHRvIGNyZWF0ZSB0aGUgY29udGV4dAogKiBtYXkgaGF2ZSB0byBkbyB3b3JrIG9uIHRoZSBmb3JlaWduIGxvb3AgdG8gcmV2ZXJzZSB0aGUgcGFydGlhbCBjcmVhdGlvbiwKICogbWVhbmluZyBhIGZhaWxlZCBjb250ZXh0IGNyZWF0ZSBjYW5ub3QgdW5waWNrIHdoYXQgaXQgZGlkIGFuZCByZXR1cm4gTlVMTC4KICoKICogSW4gdGhhdCBjb25kaXRpb24sIGEgdmFsaWQgY29udGV4dCB0aGF0IGlzIGFscmVhZHkgc3RhcnRlZCB0aGUgZGVzdHJveQogKiBwcm9jZXNzIGlzIHJldHVybmVkLCBhbmQgdGhpcyB0ZXN0IGFwaSB3aWxsIHJldHVybiBub256ZXJvIGFzIGEgd2F5IHRvCiAqIGZpbmQgb3V0IHRoZSBjcmVhdGUgaXMgaW4gdGhlIG1pZGRsZSBvZiBmYWlsaW5nLgogKi8KTFdTX1ZJU0lCTEUgTFdTX0VYVEVSTiBpbnQKbHdzX2NvbnRleHRfaXNfYmVpbmdfZGVzdHJveWVkKHN0cnVjdCBsd3NfY29udGV4dCAqY29udGV4dCk7CgovKiEgXGRlZmdyb3VwIHZob3N0LW1vdW50cyBWaG9zdCBtb3VudHMgYW5kIG9wdGlvbnMKICogXGluZ3JvdXAgY29udGV4dC1hbmQtdmhvc3QtY3JlYXRpb24KICoKICogIyNWaG9zdCBtb3VudHMgYW5kIG9wdGlvbnMKICovCi8vL0B7Ci8qKiBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgLSBsaW5rZWQgbGlzdCBvZiBwZXItdmhvc3QgcHJvdG9jb2wKICogCQkJCQluYW1lPXZhbHVlIG9wdGlvbnMKICoKICogVGhpcyBwcm92aWRlcyBhIGdlbmVyYWwgd2F5IHRvIGF0dGFjaCBhIGxpbmtlZC1saXN0IG9mIG5hbWU9dmFsdWUgcGFpcnMsCiAqIHdoaWNoIGNhbiBhbHNvIGhhdmUgYW4gb3B0aW9uYWwgY2hpbGQgbGluay1saXN0IHVzaW5nIHRoZSBvcHRpb25zIG1lbWJlci4KICovCnN0cnVjdCBsd3NfcHJvdG9jb2xfdmhvc3Rfb3B0aW9ucyB7Cgljb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgKm5leHQ7IC8qKjwgbGlua2VkIGxpc3QgKi8KCWNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xfdmhvc3Rfb3B0aW9ucyAqb3B0aW9uczsgLyoqPCBjaGlsZCBsaW5rZWQtbGlzdCBvZiBtb3JlIG9wdGlvbnMgZm9yIHRoaXMgbm9kZSAqLwoJY29uc3QgY2hhciAqbmFtZTsgLyoqPCBuYW1lIG9mIG5hbWU9dmFsdWUgcGFpciAqLwoJY29uc3QgY2hhciAqdmFsdWU7IC8qKjwgdmFsdWUgb2YgbmFtZT12YWx1ZSBwYWlyICovCn07CgovKiogZW51bSBsd3NfbW91bnRfcHJvdG9jb2xzCiAqIFRoaXMgc3BlY2lmaWVzIHRoZSBtb3VudCBwcm90b2NvbCBmb3IgYSBtb3VudHBvaW50LCB3aGV0aGVyIGl0IGlzIHRvIGJlCiAqIHNlcnZlZCBmcm9tIGEgZmlsZXN5c3RlbSwgb3IgaXQgaXMgYSBjZ2kgZXRjLgogKi8KZW51bSBsd3NfbW91bnRfcHJvdG9jb2xzIHsKCUxXU01QUk9fSFRUUAkJPSAwLCAvKio8IGh0dHAgcmV2ZXJzZSBwcm94eSAqLwoJTFdTTVBST19IVFRQUwkJPSAxLCAvKio8IGh0dHBzIHJldmVyc2UgcHJveHkgKi8KCUxXU01QUk9fRklMRQkJPSAyLCAvKio8IHNlcnZlIGZyb20gZmlsZXN5c3RlbSBkaXJlY3RvcnkgKi8KCUxXU01QUk9fQ0dJCQk9IDMsIC8qKjwgcGFzcyB0byBDR0kgdG8gaGFuZGxlICovCglMV1NNUFJPX1JFRElSX0hUVFAJPSA0LCAvKio8IHJlZGlyZWN0IHRvIGh0dHA6Ly8gdXJsICovCglMV1NNUFJPX1JFRElSX0hUVFBTCT0gNSwgLyoqPCByZWRpcmVjdCB0byBodHRwczovLyB1cmwgKi8KCUxXU01QUk9fQ0FMTEJBQ0sJPSA2LCAvKio8IGhhbmQgYnkgbmFtZWQgcHJvdG9jb2wncyBjYWxsYmFjayAqLwp9OwoKLyoqIGVudW0gbHdzX2F1dGhlbnRpY2F0aW9uX21vZGUKICogVGhpcyBzcGVjaWZpZXMgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZGUgb2YgdGhlIG1vdW50LiBUaGUgYmFzaWNfYXV0aF9sb2dpbl9maWxlIG1vdW50IHBhcmFtZXRlcgogKiBpcyBpZ25vcmVkIHVubGVzcyBMV1NBVVRITV9ERUZBVUxUIGlzIHNldC4KICovCmVudW0gbHdzX2F1dGhlbnRpY2F0aW9uX21vZGUgewoJTFdTQVVUSE1fREVGQVVMVCA9IDAsIC8qKjwgZGVmYXVsdCBhdXRoZW50aWNhdGUgb25seSBpZiBiYXNpY19hdXRoX2xvZ2luX2ZpbGUgaXMgcHJvdmlkZWQgKi8KCUxXU0FVVEhNX0JBU0lDX0FVVEhfQ0FMTEJBQ0sgPSAxIDw8IDI4IC8qKjwgQmFzaWMgYXV0aCB3aXRoIGEgY3VzdG9tIHZlcmlmaWVyICovCn07CgovKiogVGhlIGF1dGhlbnRpY2F0aW9uIG1vZGUgaXMgc3RvcmVkIGluIHRoZSB0b3AgNCBiaXRzIG9mIGx3c19odHRwX21vdW50LmF1dGhfbWFzayAqLwojZGVmaW5lIEFVVEhfTU9ERV9NQVNLIDB4RjAwMDAwMDAKCi8qKiBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQKICoKICogYXJndW1lbnRzIGZvciBtb3VudGluZyBzb21ldGhpbmcgaW4gYSB2aG9zdCdzIHVybCBuYW1lc3BhY2UKICovCnN0cnVjdCBsd3NfaHR0cF9tb3VudCB7Cgljb25zdCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKm1vdW50X25leHQ7CgkvKio8IHBvaW50ZXIgdG8gbmV4dCBzdHJ1Y3QgbHdzX2h0dHBfbW91bnQgKi8KCWNvbnN0IGNoYXIgKm1vdW50cG9pbnQ7CgkvKio8IG1vdW50cG9pbnQgaW4gaHR0cCBwYXRoc3BhY2UsIGVnLCAiLyIgKi8KCWNvbnN0IGNoYXIgKm9yaWdpbjsKCS8qKjwgcGF0aCB0byBiZSBtb3VudGVkLCBlZywgIi92YXIvd3d3L3dhcm1jYXQuY29tIiAqLwoJY29uc3QgY2hhciAqZGVmOwoJLyoqPCBkZWZhdWx0IHRhcmdldCwgZWcsICJpbmRleC5odG1sIiAqLwoJY29uc3QgY2hhciAqcHJvdG9jb2w7CgkvKio8InByb3RvY29sLW5hbWUiIHRvIGhhbmRsZSBtb3VudCAqLwoKCWNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xfdmhvc3Rfb3B0aW9ucyAqY2dpZW52OwoJLyoqPCBvcHRpb25hbCBsaW5rZWQtbGlzdCBvZiBjZ2kgb3B0aW9ucy4gIFRoZXNlIGFyZSBjcmVhdGVkCgkgKiBhcyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZm9yIHRoZSBjZ2kgcHJvY2VzcwoJICovCgljb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29sX3Zob3N0X29wdGlvbnMgKmV4dHJhX21pbWV0eXBlczsKCS8qKjwgb3B0aW9uYWwgbGlua2VkLWxpc3Qgb2YgbWltZXR5cGUgbWFwcGluZ3MgKi8KCWNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xfdmhvc3Rfb3B0aW9ucyAqaW50ZXJwcmV0OwoJLyoqPCBvcHRpb25hbCBsaW5rZWQtbGlzdCBvZiBmaWxlcyB0byBiZSBpbnRlcnByZXRlZCAqLwoKCWludCBjZ2lfdGltZW91dDsKCS8qKjwgc2Vjb25kcyBjZ2kgaXMgYWxsb3dlZCB0byBsaXZlLCBpZiBjZ2k6Ly9tb3VudCB0eXBlICovCglpbnQgY2FjaGVfbWF4X2FnZTsKCS8qKjwgbWF4LWFnZSBmb3IgcmV1c2Ugb2YgY2xpZW50IGNhY2hlIG9mIGZpbGVzLCBzZWNvbmRzICovCgl1bnNpZ25lZCBpbnQgYXV0aF9tYXNrOwoJLyoqPCBiaXRzIHNldCBoZXJlIG11c3QgYmUgc2V0IGZvciBhdXRob3JpemVkIGNsaWVudCBzZXNzaW9uICovCgoJdW5zaWduZWQgaW50IGNhY2hlX3JldXNhYmxlOjE7IC8qKjwgc2V0IGlmIGNsaWVudCBjYWNoZSBtYXkgcmV1c2UgdGhpcyAqLwoJdW5zaWduZWQgaW50IGNhY2hlX3JldmFsaWRhdGU6MTsgLyoqPCBzZXQgaWYgY2xpZW50IGNhY2hlIHNob3VsZCByZXZhbGlkYXRlIG9uIHVzZSAqLwoJdW5zaWduZWQgaW50IGNhY2hlX2ludGVybWVkaWFyaWVzOjE7IC8qKjwgc2V0IGlmIGludGVybWVkaWFyaWVzIGFyZSBhbGxvd2VkIHRvIGNhY2hlICovCgoJdW5zaWduZWQgY2hhciBvcmlnaW5fcHJvdG9jb2w7IC8qKjwgb25lIG9mIGVudW0gbHdzX21vdW50X3Byb3RvY29scyAqLwoJdW5zaWduZWQgY2hhciBtb3VudHBvaW50X2xlbjsgLyoqPCBsZW5ndGggb2YgbW91bnRwb2ludCBzdHJpbmcgKi8KCgljb25zdCBjaGFyICpiYXNpY19hdXRoX2xvZ2luX2ZpbGU7CgkvKio8TlVMTCwgb3IgZmlsZXBhdGggdG8gdXNlIHRvIGNoZWNrIGJhc2ljIGF1dGggbG9naW5zIGFnYWluc3QuIChyZXF1aXJlcyBMV1NBVVRITV9ERUZBVUxUKSAqLwoKCS8qIEFkZCBuZXcgdGhpbmdzIGp1c3QgYWJvdmUgaGVyZSAtLS1eCgkgKiBUaGlzIGlzIHBhcnQgb2YgdGhlIEFCSSwgZG9uJ3QgbmVlZGxlc3NseSBicmVhayBjb21wYXRpYmlsaXR5CgkgKi8KfTsKCi8vL0B9Ci8vL0B9CgAAAAAAAAAA29wAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVjMAAAAAAABjMwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-protocols-plugins.h",
			"settings":
			{
				"buffer_size": 14480,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet.c",
			"settings":
			{
				"buffer_size": 26107,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					567,
					1,
					"left_delete",
					null,
					"AQAAADIyAAAAAAAAMjIAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAMzIAAAAAAAAzMgAAAAAAAAAAAAAAAPC/"
				],
				[
					568,
					2,
					"insert_snippet",
					{
						"contents": "\n${TM_CURRENT_LINE/^\\s*((?:#|\\/\\/[\\/!]?)\\s*).*/$1/}"
					},
					"AgAAADIyAAAAAAAAOjIAAAAAAAAAAAAAOjIAAAAAAABCMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMjIAAAAAAAAyMgAAAAAAAAAAAAAAAPC/"
				],
				[
					569,
					3,
					"left_delete",
					null,
					"AwAAAEEyAAAAAAAAQTIAAAAAAAABAAAAIEAyAAAAAAAAQDIAAAAAAAABAAAALz8yAAAAAAAAPzIAAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAAQjIAAAAAAABCMgAAAAAAAAAAAAAAAPC/"
				],
				[
					570,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAD8yAAAAAAAAQDIAAAAAAAAAAAAAQDIAAAAAAABEMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPzIAAAAAAAA/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					572,
					1,
					"insert",
					{
						"characters": "rintf"
					},
					"BgAAAD8yAAAAAAAAQDIAAAAAAAAAAAAAQTIAAAAAAABBMgAAAAAAAAQAAAAgICAgQDIAAAAAAABBMgAAAAAAAAAAAABBMgAAAAAAAEIyAAAAAAAAAAAAAEIyAAAAAAAAQzIAAAAAAAAAAAAAQzIAAAAAAABEMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPzIAAAAAAAA/MgAAAAAAAAAAAAAAAERA"
				],
				[
					573,
					5,
					"left_delete",
					null,
					"BQAAAEMyAAAAAAAAQzIAAAAAAAABAAAAZkIyAAAAAAAAQjIAAAAAAAABAAAAdEEyAAAAAAAAQTIAAAAAAAABAAAAbkAyAAAAAAAAQDIAAAAAAAABAAAAaT8yAAAAAAAAPzIAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAARDIAAAAAAABEMgAAAAAAAAAAAAAAAPC/"
				],
				[
					574,
					1,
					"insert",
					{
						"characters": "printf"
					},
					"BgAAAD8yAAAAAAAAQDIAAAAAAAAAAAAAQDIAAAAAAABBMgAAAAAAAAAAAABBMgAAAAAAAEIyAAAAAAAAAAAAAEIyAAAAAAAAQzIAAAAAAAAAAAAAQzIAAAAAAABEMgAAAAAAAAAAAABEMgAAAAAAAEUyAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPzIAAAAAAAA/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					575,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAEUyAAAAAAAARzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARTIAAAAAAABFMgAAAAAAAAAAAAAAAPC/"
				],
				[
					576,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAEYyAAAAAAAASDIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARjIAAAAAAABGMgAAAAAAAAAAAAAAAPC/"
				],
				[
					577,
					1,
					"insert",
					{
						"characters": "%s:"
					},
					"AwAAAEcyAAAAAAAASDIAAAAAAAAAAAAASDIAAAAAAABJMgAAAAAAAAAAAABJMgAAAAAAAEoyAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARzIAAAAAAABHMgAAAAAAAAAAAAAAAPC/"
				],
				[
					578,
					1,
					"insert",
					{
						"characters": "  "
					},
					"AgAAAEoyAAAAAAAASzIAAAAAAAAAAAAASzIAAAAAAABMMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASjIAAAAAAABKMgAAAAAAAAAAAAAAAPC/"
				],
				[
					579,
					1,
					"left_delete",
					null,
					"AQAAAEsyAAAAAAAASzIAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAATDIAAAAAAABMMgAAAAAAAAAAAAAAAPC/"
				],
				[
					580,
					1,
					"insert",
					{
						"characters": "fd"
					},
					"AgAAAEsyAAAAAAAATDIAAAAAAAAAAAAATDIAAAAAAABNMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASzIAAAAAAABLMgAAAAAAAAAAAAAAAPC/"
				],
				[
					581,
					2,
					"left_delete",
					null,
					"AgAAAEwyAAAAAAAATDIAAAAAAAABAAAAZEsyAAAAAAAASzIAAAAAAAABAAAAZg",
					"AQAAAAAAAAABAAAATTIAAAAAAABNMgAAAAAAAAAAAAAAAPC/"
				],
				[
					582,
					1,
					"insert",
					{
						"characters": "fd=%d"
					},
					"BQAAAEsyAAAAAAAATDIAAAAAAAAAAAAATDIAAAAAAABNMgAAAAAAAAAAAABNMgAAAAAAAE4yAAAAAAAAAAAAAE4yAAAAAAAATzIAAAAAAAAAAAAATzIAAAAAAABQMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASzIAAAAAAABLMgAAAAAAAAAAAAAAAPC/"
				],
				[
					583,
					1,
					"insert",
					{
						"characters": " even"
					},
					"BQAAAFAyAAAAAAAAUTIAAAAAAAAAAAAAUTIAAAAAAABSMgAAAAAAAAAAAABSMgAAAAAAAFMyAAAAAAAAAAAAAFMyAAAAAAAAVDIAAAAAAAAAAAAAVDIAAAAAAABVMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUDIAAAAAAABQMgAAAAAAAAAAAAAAAPC/"
				],
				[
					584,
					3,
					"left_delete",
					null,
					"AwAAAFQyAAAAAAAAVDIAAAAAAAABAAAAblMyAAAAAAAAUzIAAAAAAAABAAAAZVIyAAAAAAAAUjIAAAAAAAABAAAAdg",
					"AQAAAAAAAAABAAAAVTIAAAAAAABVMgAAAAAAAAAAAAAAAPC/"
				],
				[
					585,
					1,
					"insert",
					{
						"characters": "re"
					},
					"AgAAAFIyAAAAAAAAUzIAAAAAAAAAAAAAUzIAAAAAAABUMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUjIAAAAAAABSMgAAAAAAAAAAAAAAAPC/"
				],
				[
					586,
					3,
					"left_delete",
					null,
					"AwAAAFMyAAAAAAAAUzIAAAAAAAABAAAAZVIyAAAAAAAAUjIAAAAAAAABAAAAclEyAAAAAAAAUTIAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAVDIAAAAAAABUMgAAAAAAAAAAAAAAAPC/"
				],
				[
					587,
					1,
					"insert",
					{
						"characters": "revents%"
					},
					"CAAAAFEyAAAAAAAAUjIAAAAAAAAAAAAAUjIAAAAAAABTMgAAAAAAAAAAAABTMgAAAAAAAFQyAAAAAAAAAAAAAFQyAAAAAAAAVTIAAAAAAAAAAAAAVTIAAAAAAABWMgAAAAAAAAAAAABWMgAAAAAAAFcyAAAAAAAAAAAAAFcyAAAAAAAAWDIAAAAAAAAAAAAAWDIAAAAAAABZMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUTIAAAAAAABRMgAAAAAAAAAAAAAAAPC/"
				],
				[
					588,
					1,
					"left_delete",
					null,
					"AQAAAFgyAAAAAAAAWDIAAAAAAAABAAAAJQ",
					"AQAAAAAAAAABAAAAWTIAAAAAAABZMgAAAAAAAAAAAAAAAPC/"
				],
				[
					589,
					1,
					"insert",
					{
						"characters": "=%d\\n"
					},
					"BQAAAFgyAAAAAAAAWTIAAAAAAAAAAAAAWTIAAAAAAABaMgAAAAAAAAAAAABaMgAAAAAAAFsyAAAAAAAAAAAAAFsyAAAAAAAAXDIAAAAAAAAAAAAAXDIAAAAAAABdMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWDIAAAAAAABYMgAAAAAAAAAAAAAAAPC/"
				],
				[
					591,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAF4yAAAAAAAAXzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXjIAAAAAAABeMgAAAAAAAAAAAAAAAPC/"
				],
				[
					592,
					1,
					"insert",
					{
						"characters": " __func_"
					},
					"CAAAAF8yAAAAAAAAYDIAAAAAAAAAAAAAYDIAAAAAAABhMgAAAAAAAAAAAABhMgAAAAAAAGIyAAAAAAAAAAAAAGIyAAAAAAAAYzIAAAAAAAAAAAAAYzIAAAAAAABkMgAAAAAAAAAAAABkMgAAAAAAAGUyAAAAAAAAAAAAAGUyAAAAAAAAZjIAAAAAAAAAAAAAZjIAAAAAAABnMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXzIAAAAAAABfMgAAAAAAAAAAAAAAAPC/"
				],
				[
					593,
					1,
					"insert",
					{
						"characters": "_,x.fd"
					},
					"BgAAAGcyAAAAAAAAaDIAAAAAAAAAAAAAaDIAAAAAAABpMgAAAAAAAAAAAABpMgAAAAAAAGoyAAAAAAAAAAAAAGoyAAAAAAAAazIAAAAAAAAAAAAAazIAAAAAAABsMgAAAAAAAAAAAABsMgAAAAAAAG0yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZzIAAAAAAABnMgAAAAAAAAAAAAAAAPC/"
				],
				[
					594,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAG0yAAAAAAAAbjIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbTIAAAAAAABtMgAAAAAAAAAAAAAAAPC/"
				],
				[
					595,
					1,
					"insert",
					{
						"characters": "  "
					},
					"AgAAAG4yAAAAAAAAbzIAAAAAAAAAAAAAbzIAAAAAAABwMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbjIAAAAAAABuMgAAAAAAAAAAAAAAAPC/"
				],
				[
					597,
					1,
					"insert",
					{
						"characters": "x.revents);"
					},
					"CwAAAG8yAAAAAAAAcDIAAAAAAAAAAAAAcDIAAAAAAABxMgAAAAAAAAAAAABxMgAAAAAAAHIyAAAAAAAAAAAAAHIyAAAAAAAAczIAAAAAAAAAAAAAczIAAAAAAAB0MgAAAAAAAAAAAAB0MgAAAAAAAHUyAAAAAAAAAAAAAHUyAAAAAAAAdjIAAAAAAAAAAAAAdjIAAAAAAAB3MgAAAAAAAAAAAAB3MgAAAAAAAHgyAAAAAAAAAAAAAHgyAAAAAAAAeTIAAAAAAAAAAAAAeTIAAAAAAAB6MgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbzIAAAAAAABvMgAAAAAAAAAAAAAAAPC/"
				],
				[
					599,
					1,
					"cut",
					null,
					"AQAAAHoyAAAAAAAAejIAAAAAAAACAAAAICk",
					"AQAAAAAAAAABAAAAejIAAAAAAAB8MgAAAAAAAP///////+9/"
				],
				[
					607,
					1,
					"insert",
					{
						"characters": " wds"
					},
					"BAAAAFsyAAAAAAAAXDIAAAAAAAAAAAAAXDIAAAAAAABdMgAAAAAAAAAAAABdMgAAAAAAAF4yAAAAAAAAAAAAAF4yAAAAAAAAXzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWzIAAAAAAABbMgAAAAAAAAAAAAAAAPC/"
				],
				[
					608,
					2,
					"left_delete",
					null,
					"AgAAAF4yAAAAAAAAXjIAAAAAAAABAAAAc10yAAAAAAAAXTIAAAAAAAABAAAAZA",
					"AQAAAAAAAAABAAAAXzIAAAAAAABfMgAAAAAAAAAAAAAAAPC/"
				],
				[
					609,
					1,
					"insert",
					{
						"characters": "s=%p"
					},
					"BAAAAF0yAAAAAAAAXjIAAAAAAAAAAAAAXjIAAAAAAABfMgAAAAAAAAAAAABfMgAAAAAAAGAyAAAAAAAAAAAAAGAyAAAAAAAAYTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXTIAAAAAAABdMgAAAAAAAAAAAAAAAPC/"
				],
				[
					612,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAH4yAAAAAAAAfzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfjIAAAAAAAB+MgAAAAAAAAAAAAAAAPC/"
				],
				[
					613,
					1,
					"insert",
					{
						"characters": " closure->op"
					},
					"DAAAAH8yAAAAAAAAgDIAAAAAAAAAAAAAgDIAAAAAAACBMgAAAAAAAAAAAACBMgAAAAAAAIIyAAAAAAAAAAAAAIIyAAAAAAAAgzIAAAAAAAAAAAAAgzIAAAAAAACEMgAAAAAAAAAAAACEMgAAAAAAAIUyAAAAAAAAAAAAAIUyAAAAAAAAhjIAAAAAAAAAAAAAhjIAAAAAAACHMgAAAAAAAAAAAACHMgAAAAAAAIgyAAAAAAAAAAAAAIgyAAAAAAAAiTIAAAAAAAAAAAAAiTIAAAAAAACKMgAAAAAAAAAAAACKMgAAAAAAAIsyAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfzIAAAAAAAB/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					614,
					1,
					"insert",
					{
						"characters": "aque->ws"
					},
					"CAAAAIsyAAAAAAAAjDIAAAAAAAAAAAAAjDIAAAAAAACNMgAAAAAAAAAAAACNMgAAAAAAAI4yAAAAAAAAAAAAAI4yAAAAAAAAjzIAAAAAAAAAAAAAjzIAAAAAAACQMgAAAAAAAAAAAACQMgAAAAAAAJEyAAAAAAAAAAAAAJEyAAAAAAAAkjIAAAAAAAAAAAAAkjIAAAAAAACTMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAizIAAAAAAACLMgAAAAAAAAAAAAAAAPC/"
				],
				[
					621,
					1,
					"insert",
					{
						"characters": "io_events("
					},
					"CgAAAHUyAAAAAAAAdjIAAAAAAAAAAAAAdjIAAAAAAAB3MgAAAAAAAAAAAAB3MgAAAAAAAHgyAAAAAAAAAAAAAHgyAAAAAAAAeTIAAAAAAAAAAAAAeTIAAAAAAAB6MgAAAAAAAAAAAAB6MgAAAAAAAHsyAAAAAAAAAAAAAHsyAAAAAAAAfDIAAAAAAAAAAAAAfDIAAAAAAAB9MgAAAAAAAAAAAAB9MgAAAAAAAH4yAAAAAAAAAAAAAH4yAAAAAAAAfzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdTIAAAAAAAB1MgAAAAAAAAAAAAAAAPC/"
				],
				[
					623,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAIgyAAAAAAAAiTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiDIAAAAAAACIMgAAAAAAAAAAAAAAAPC/"
				],
				[
					640,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAANosAAAAAAAA2ywAAAAAAAAAAAAA2ywAAAAAAADbLAAAAAAAAAIAAAAvKg",
					"AQAAAAAAAAABAAAA3CwAAAAAAADaLAAAAAAAAAAAAAAAAPC/"
				],
				[
					643,
					2,
					"left_delete",
					null,
					"AgAAAGEuAAAAAAAAYS4AAAAAAAABAAAAL2AuAAAAAAAAYC4AAAAAAAABAAAAKg",
					"AQAAAAAAAAABAAAAYi4AAAAAAABiLgAAAAAAAAAAAAAAAPC/"
				],
				[
					646,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABOZgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yaW5nYnVmZmVyLmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGVycm5vLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzeXMvdGltZS5oPgoKLyojaWZkZWYgX1dJTjMyCiNpbmNsdWRlICJwb2xsLmgiCiNlbmRpZiovCgojaWZuZGVmIFBPTExJTgojZGVmaW5lIFBPTExJTiAxCiNlbmRpZgojaWZuZGVmIFBPTExPVVQKI2RlZmluZSBQT0xMT1VUIDQKI2VuZGlmCiNpZm5kZWYgUE9MTEVSUgojZGVmaW5lIFBPTExFUlIgOAojZW5kaWYKI2lmbmRlZiBQT0xMSFVQCiNkZWZpbmUgUE9MTEhVUCAxNgojZW5kaWYKLyoKI2lmZGVmIEpTX1NIQVJFRF9MSUJSQVJZCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9taW5uZXQKI2VuZGlmCiovCiNkZWZpbmUgUElPIChQT0xMSU4gfCBQT0xMT1VUIHwgUE9MTEVSUikKCnN0cnVjdCBoYW5kbGVyX2Nsb3N1cmUgewogIEpTQ29udGV4dCogY3R4OwogIHN0cnVjdCBsd3MqIGx3c2k7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7Cn07CgpKU1ZhbHVlIG1pbm5ldF9mZXRjaChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0Kik7CgovLyBUSFJFQURfTE9DQUwgc3RydWN0IGx3c19jb250ZXh0KiBtaW5uZXRfbHdzX2NvbnRleHQgPSAwOwoKc3RhdGljIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF9sb2dfY2IsIG1pbm5ldF9sb2dfdGhpczsKVEhSRUFEX0xPQ0FMIGludDMyX3QgbWlubmV0X2xvZ19sZXZlbCA9IDA7ClRIUkVBRF9MT0NBTCBKU0NvbnRleHQqIG1pbm5ldF9sb2dfY3R4ID0gMDsKVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHMgPSB7MCwgMH07CnN0YXRpYyBUSFJFQURfTE9DQUwgdWludDMyX3Qgc2Vzc2lvbl9zZXJpYWwgPSAwOwovLyBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uID0gRkFMU0U7CgppbnQKc29ja2V0X2dldGVycm9yKGludCBmZCkgewogIGludCBlOwogIHNvY2tsZW5fdCBzbCA9IHNpemVvZihlKTsKCiAgaWYoIWdldHNvY2tvcHQoZmQsIFNPTF9TT0NLRVQsIFNPX0VSUk9SLCAmZSwgJnNsKSkgewogICAgc2V0c29ja29wdChmZCwgU09MX1NPQ0tFVCwgU09fRVJST1IsICZlLCBzbCk7CiAgICByZXR1cm4gZTsKICB9CgogIHJldHVybiAtMTsKfQoKdm9pZApzZXNzaW9uX3plcm8oTWlubmV0U2Vzc2lvbiogc2Vzc2lvbikgewogIG1lbXNldChzZXNzaW9uLCAwLCBzaXplb2YoTWlubmV0U2Vzc2lvbikpOwogIHNlc3Npb24tPnNlcmlhbCA9IC0xOwogIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVxX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVzcF9vYmogPSBKU19OVUxMOwogIHNlc3Npb24tPmdlbmVyYXRvciA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+bmV4dCA9IEpTX05VTEw7CgogIHNlc3Npb24tPnNlcmlhbCA9ICsrc2Vzc2lvbl9zZXJpYWw7CgogIC8vIGxpc3RfYWRkKCZzZXNzaW9uLT5saW5rLCAmbWlubmV0X3Nlc3Npb25zKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9Cgp2b2lkCnNlc3Npb25fY2xlYXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgSlNDb250ZXh0KiBjdHgpIHsKICAvLyBsaXN0X2RlbCgmc2Vzc2lvbi0+bGluayk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVxX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPmdlbmVyYXRvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+bmV4dCk7CgogIGJ1ZmZlcl9mcmVlKCZzZXNzaW9uLT5zZW5kX2J1ZiwgSlNfR2V0UnVudGltZShjdHgpKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9CgpKU1ZhbHVlCnNlc3Npb25fb2JqZWN0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlLCBKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgcmV0OwogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBvcGFxdWUtPnNlcmlhbCA/IEpTX05ld0ludDMyKGN0eCwgb3BhcXVlLT5zZXJpYWwpIDogSlNfTlVMTCk7CgogIGlmKG9wYXF1ZS0+c2VzcykgewogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT53c19vYmopKTsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAyLCBKU19EdXBWYWx1ZShjdHgsIG9wYXF1ZS0+c2Vzcy0+cmVxX29iaikpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT5yZXNwX29iaikpOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmNvbnRleHRfZXhjZXB0aW9uKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWUgcmV0dmFsKSB7CiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0dmFsKSkgewogICAgY29udGV4dC0+ZXhjZXB0aW9uID0gVFJVRTsKICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKGNvbnRleHQtPmpzKTsKICAgIEpTVmFsdWUgc3RhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgZXhjZXB0aW9uLCAic3RhY2siKTsKICAgIGNvbnN0IGNoYXIqIGVyciA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgZXhjZXB0aW9uKTsKICAgIGNvbnN0IGNoYXIqIHN0ayA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgc3RhY2spOwogICAgLy8gcHJpbnRmKCJHb3QgZXhjZXB0aW9uOiAlc1xuJXNcbiIsIGVyciwgc3RrKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGNvbnRleHQtPmpzLCBlcnIpOwogICAgSlNfRnJlZUNTdHJpbmcoY29udGV4dC0+anMsIHN0ayk7CiAgICBKU19GcmVlVmFsdWUoY29udGV4dC0+anMsIHN0YWNrKTsKICAgIEpTX1Rocm93KGNvbnRleHQtPmpzLCBleGNlcHRpb24pOwogIH0KCiAgcmV0dXJuIGNvbnRleHQtPmV4Y2VwdGlvbjsKfQoKdm9pZApjb250ZXh0X2NsZWFyKE1pbm5ldENvbnRleHQqIGNvbnRleHQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBsd3NfY29udGV4dF9kZXN0cm95KGNvbnRleHQtPmx3cyk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmNydCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY29udGV4dC0+a2V5KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjb250ZXh0LT5jYSk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmVycm9yKTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRDbG9zdXJlKiBjbG9zdXJlOwoKICBpZigoY2xvc3VyZSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Q2xvc3VyZSkpKSkKICAgIGNsb3N1cmUtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiBjbG9zdXJlOwp9CgpNaW5uZXRDbG9zdXJlKgpjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKiBjKSB7CiAgKytjLT5yZWZfY291bnQ7CiAgcmV0dXJuIGM7Cn0KCnZvaWQKY2xvc3VyZV9mcmVlKHZvaWQqIHB0cikgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPnNlcnZlcikgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNvbnRleHQtPmpzOwogICAgICAvLyBwcmludGYoIiVzIHNlcnZlcj0lcFxuIiwgX19mdW5jX18sIGNsb3N1cmUtPnNlcnZlcik7CiAgICAgIGlmKGNsb3N1cmUtPmZyZWVfZnVuYykKICAgICAgICBjbG9zdXJlLT5mcmVlX2Z1bmMoY2xvc3VyZS0+Y29udGV4dCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgpzdGF0aWMgdm9pZApsd3NfbG9nX2NhbGxiYWNrKGludCBsZXZlbCwgY29uc3QgY2hhciogbGluZSkgewogIGlmKG1pbm5ldF9sb2dfY3R4KSB7CiAgICBpZihKU19Jc0Z1bmN0aW9uKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiKSkgewogICAgICBzaXplX3QgbiA9IDAsIGxlbiA9IHN0cmxlbihsaW5lKTsKCiAgICAgIGlmKGxlbiA+IDAgJiYgbGluZVswXSA9PSAnWycpIHsKICAgICAgICBpZigobiA9IGJ5dGVfY2hyKGxpbmUsIGxlbiwgJ10nKSkgPCBsZW4pCiAgICAgICAgICBuKys7CiAgICAgICAgd2hpbGUobiA8IGxlbiAmJiBpc3NwYWNlKGxpbmVbbl0pKSBuKys7CiAgICAgICAgaWYobiArIDEgPCBsZW4gJiYgbGluZVtuICsgMV0gPT0gJzonKQogICAgICAgICAgbiArPSAyOwogICAgICAgIHdoaWxlKG4gPCBsZW4gJiYgKGlzc3BhY2UobGluZVtuXSkgfHwgbGluZVtuXSA9PSAnLScpKSBuKys7CiAgICAgIH0KICAgICAgaWYobGVuID4gMCAmJiBsaW5lW2xlbiAtIDFdID09ICdcbicpCiAgICAgICAgbGVuLS07CgogICAgICBKU1ZhbHVlQ29uc3QgYXJndlsyXSA9IHsKICAgICAgICAgIEpTX05ld0ludDMyKG1pbm5ldF9sb2dfY3R4LCBsZXZlbCksCiAgICAgICAgICBKU19OZXdTdHJpbmdMZW4obWlubmV0X2xvZ19jdHgsIGxpbmUgKyBuLCBsZW4gLSBuKSwKICAgICAgfTsKICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiLCBtaW5uZXRfbG9nX3RoaXMsIDIsIGFyZ3YpOwoKICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKG1pbm5ldF9sb2dfY3R4KTsKICAgICAgICBKU19GcmVlVmFsdWUobWlubmV0X2xvZ19jdHgsIGV4Y2VwdGlvbik7CiAgICAgIH0KCiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlswXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlsxXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgcmV0KTsKICAgIH0gZWxzZSB7CiAgICAgIGpzX2NvbnNvbGVfbG9nKG1pbm5ldF9sb2dfY3R4LCAmbWlubmV0X2xvZ190aGlzLCAmbWlubmV0X2xvZ19jYik7CiAgICB9CiAgfQp9CgppbnQKbWlubmV0X2x3c191bmhhbmRsZWQoY29uc3QgY2hhciogaGFuZGxlciwgaW50IHJlYXNvbikgewogIGx3c2xfd2FybigiVW5oYW5kbGVkIFx4MWJbMTszMW0lc1x4MWJbMG0gZXZlbnQ6ICVpICVzXG4iLCBoYW5kbGVyLCByZWFzb24sIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikpOwogIGFzc2VydCgwKTsKICByZXR1cm4gLTE7Cn0KCi8qc3RhdGljIEpTVmFsdWUKZ2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X2xvZ19jYik7Cn0qLwoKc3RhdGljIEpTVmFsdWUKc2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEpTVmFsdWVDb25zdCB0aGlzT2JqKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfY2IpID09IDAgPyBKU19VTkRFRklORUQgOiBtaW5uZXRfbG9nX2NiOwoKICBtaW5uZXRfbG9nX2N0eCA9IGN0eDsKICBtaW5uZXRfbG9nX2NiID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChtaW5uZXRfbG9nX3RoaXMpICYmICFKU19Jc051bGwobWlubmV0X2xvZ190aGlzKSAmJiBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfdGhpcykgIT0gMCkKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1pbm5ldF9sb2dfdGhpcyk7CgogIG1pbm5ldF9sb2dfdGhpcyA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc09iaik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXRfbG9nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJm1pbm5ldF9sb2dfbGV2ZWwsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgcmV0ID0gc2V0X2xvZyhjdHgsIHRoaXNfdmFsLCBhcmd2WzBdLCBhcmdjID4gMSA/IGFyZ3ZbMV0gOiBKU19OVUxMKTsKICBsd3Nfc2V0X2xvZ19sZXZlbCgoKHVuc2lnbmVkKW1pbm5ldF9sb2dfbGV2ZWwgJiAoKDF1IDw8IExMTF9DT1VOVCkgLSAxKSksIGx3c19sb2dfY2FsbGJhY2spOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKaGVhZGVyc19vYmplY3QoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqIHN0YXJ0LCBjb25zdCB2b2lkKiBlKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKICBzaXplX3QgbGVuLCBuYW1lbGVuLCBuOwogIGNvbnN0IHVpbnQ4X3QgKngsICplbmQ7CiAgZm9yKHggPSBzdGFydCwgZW5kID0gZTsgeCA8IGVuZDsgeCArPSBsZW4gKyAxKSB7CiAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgIGlmKGxlbiA+IChuID0gYnl0ZV9jaHIoeCwgbGVuLCAnOicpKSkgewogICAgICBjb25zdCBjaGFyKiBwcm9wID0gKG5hbWVsZW4gPSBuKSA/IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikgOiAwOwogICAgICBpZih4W25dID09ICc6JykKICAgICAgICBuKys7CiAgICAgIGlmKGlzc3BhY2UoeFtuXSkpCiAgICAgICAgbisrOwogICAgICBpZihwcm9wKSB7CiAgICAgICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIHJldCwgcHJvcCwgSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKSZ4W25dLCBsZW4gLSBuKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICAgICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXByb3ApOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmhlYWRlcnNfYXRvbShKU0F0b20gYXRvbSwgSlNDb250ZXh0KiBjdHgpIHsKICBjaGFyKiByZXQ7CiAgY29uc3QgY2hhciogc3RyID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIHNpemVfdCBsZW4gPSBzdHJsZW4oc3RyKTsKCiAgaWYoKHJldCA9IGpzX21hbGxvYyhjdHgsIGxlbiArIDIpKSkgewogICAgc3RyY3B5KHJldCwgc3RyKTsKICAgIHJldFtsZW5dID0gJzonOwogICAgcmV0W2xlbiArIDFdID0gJ1wwJzsKICB9CiAgcmV0dXJuIHJldDsKfQoKaW50CmhlYWRlcnNfYWRkKE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBzdHJ1Y3QgbHdzKiB3c2ksIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIG9iaiwgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSykpCiAgICByZXR1cm4gMDsKCiAgZm9yKGkgPSAwOyBpIDwgdGFiX2xlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIHRhYltpXS5hdG9tKTsKICAgIHNpemVfdCBsZW47CiAgICB2b2lkKiBwcm9wOwogICAgY29uc3Qgdm9pZCogc3RyOwogICAgaW50IHJldDsKCiAgICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgcHJvcCA9IGhlYWRlcnNfYXRvbSh0YWJbaV0uYXRvbSwgY3R4KTsKCiAgICByZXQgPSBsd3NfYWRkX2h0dHBfaGVhZGVyX2J5X25hbWUod3NpLCBwcm9wLCBzdHIsIGxlbiwgJmJ1ZmZlci0+d3JpdGUsIGJ1ZmZlci0+ZW5kKTsKCiAgICBqc19mcmVlKGN0eCwgcHJvcCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgaWYocmV0KQogICAgICByZXR1cm4gLTE7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gMDsKfQoKaW50CmhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqIGJ1ZmZlciwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNDb250ZXh0KiBjdHgpIHsKICBKU1Byb3BlcnR5RW51bSogdGFiOwogIHVpbnQzMl90IHRhYl9sZW4sIGk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUganN2YWwgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IHZhbHVlX2xlbiwgcHJvcF9sZW47CiAgICBjb25zdCBjaGFyICp2YWx1ZSwgKnByb3A7CgogICAgdmFsdWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmdmFsdWVfbGVuLCBqc3ZhbCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBqc3ZhbCk7CgogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CiAgICBwcm9wX2xlbiA9IHN0cmxlbihwcm9wKTsKCiAgICBidWZmZXJfZ3JvdyhidWZmZXIsIHByb3BfbGVuICsgMiArIHZhbHVlX2xlbiArIDIsIGN0eCk7CgogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgcHJvcCwgcHJvcF9sZW4pOwogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgIjogIiwgMik7CiAgICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVfbGVuKTsKICAgIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwogIH0KCiAganNfZnJlZShjdHgsIHRhYik7CiAgcmV0dXJuIGk7Cn0KCnNzaXplX3QKaGVhZGVyc19zZXQoSlNDb250ZXh0KiBjdHgsIE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBjb25zdCBjaGFyKiBuYW1lLCBjb25zdCBjaGFyKiB2YWx1ZSkgewogIHNpemVfdCBuYW1lbGVuID0gc3RybGVuKG5hbWUpLCB2YWx1ZWxlbiA9IHN0cmxlbih2YWx1ZSk7CiAgc2l6ZV90IGxlbiA9IG5hbWVsZW4gKyAyICsgdmFsdWVsZW4gKyAyOwoKICBidWZmZXJfZ3JvdyhidWZmZXIsIGxlbiwgY3R4KTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCBuYW1lLCBuYW1lbGVuKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCAiOiAiLCAyKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVsZW4pOwogIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogIHJldHVybiBsZW47Cn0KCmludApoZWFkZXJzX2dldChKU0NvbnRleHQqIGN0eCwgTWlubmV0QnVmZmVyKiBoZWFkZXJzLCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBpbnQgdG9rLCBsZW4sIGNvdW50ID0gMDsKCiAgaWYoIWhlYWRlcnMtPnN0YXJ0KQogICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogIGZvcih0b2sgPSBXU0lfVE9LRU5fSE9TVDsgdG9rIDwgV1NJX1RPS0VOX0NPVU5UOyB0b2srKykgewogICAgaWYodG9rID09IFdTSV9UT0tFTl9IVFRQIHx8IHRvayA9PSBXU0lfVE9LRU5fSFRUUF9VUklfQVJHUykKICAgICAgY29udGludWU7CgogICAgaWYoKGxlbiA9IGx3c19oZHJfdG90YWxfbGVuZ3RoKHdzaSwgdG9rKSkgPiAwKSB7CiAgICAgIGNoYXIgaGRyW2xlbiArIDFdOwogICAgICBjb25zdCBjaGFyKiBuYW1lOwoKICAgICAgaWYoKG5hbWUgPSAoY29uc3QgY2hhciopbHdzX3Rva2VuX3RvX3N0cmluZyh0b2spKSkgewogICAgICAgIGludCBuYW1lbGVuID0gYnl0ZV9jaHIobmFtZSwgc3RybGVuKG5hbWUpLCAnOicpOwogICAgICAgIGx3c19oZHJfY29weSh3c2ksIGhkciwgbGVuICsgMSwgdG9rKTsKICAgICAgICBoZHJbbGVuXSA9ICdcMCc7CgogICAgICAgIC8vIHByaW50ZigiaGVhZGVycyAlaSAlLipzICclcydcbiIsIHRvaywgbmFtZWxlbiwgbmFtZSwgaGRyKTsKCiAgICAgICAgaWYoIWhlYWRlcnMtPmFsbG9jKQogICAgICAgICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogICAgICAgIHdoaWxlKCFidWZmZXJfcHJpbnRmKGhlYWRlcnMsICIlLipzOiAlc1xuIiwgbmFtZWxlbiwgbmFtZSwgaGRyKSkgeyBidWZmZXJfZ3JvdyhoZWFkZXJzLCAxMDI0LCBjdHgpOyB9CiAgICAgICAgKytjb3VudDsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gY291bnQ7Cn0KCmludApmZF9oYW5kbGVyKHN0cnVjdCBsd3MqIHdzaSwgTWlubmV0Q2FsbGJhY2sqIGNiLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzIGFyZ3MpIHsKICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoY2ItPmN0eCwgYXJncy5mZCl9OwoKICBtaW5uZXRfaGFuZGxlcnMoY2ItPmN0eCwgd3NpLCBhcmdzLCAmYXJndlsxXSk7CiAgbWlubmV0X2VtaXQoY2IsIDMsIGFyZ3YpOwoKICBKU19GcmVlVmFsdWUoY2ItPmN0eCwgYXJndlswXSk7CiAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIGFyZ3ZbMV0pOwogIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBhcmd2WzJdKTsKICByZXR1cm4gMDsKfQoKaW50CmZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIE1pbm5ldENhbGxiYWNrKiBjYiwgc3RydWN0IGx3c19wb2xsYXJncyogYXJncykgewoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogcmV0dXJuIDA7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQ6IHsKCiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBmZF9oYW5kbGVyKHdzaSwgY2IsICphcmdzKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CgogICAgICBpZihjYi0+Y3R4KSB7CiAgICAgICAgZmRfaGFuZGxlcih3c2ksIGNiLCAqYXJncyk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiB7CiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBpZihhcmdzLT5ldmVudHMgIT0gYXJncy0+cHJldl9ldmVudHMpIHsKICAgICAgICAgIGZkX2hhbmRsZXIod3NpLCBjYiwgKmFyZ3MpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9Cn0KCiBzdGF0aWMgY29uc3QgY2hhcioKaW9fZXZlbnRzKGludCBldmVudHMpIHsKICBzd2l0Y2goZXZlbnRzKSB7CiAgICBjYXNlIFBPTExPVVQgfCBQT0xMSFVQOiByZXR1cm4gIk9VVHxIVVAiOwogICAgY2FzZSBQT0xMSU4gfCBQT0xMT1VUIHwgUE9MTEhVUCB8IFBPTExFUlI6IHJldHVybiAiSU58T1VUfEhVUHxFUlIiOwogICAgY2FzZSBQT0xMT1VUIHwgUE9MTEhVUCB8IFBPTExFUlI6IHJldHVybiAiT1VUfEhVUHxFUlIiOwogICAgY2FzZSBQT0xMSU4gfCBQT0xMT1VUOiByZXR1cm4gIklOfE9VVCI7CiAgICBjYXNlIFBPTExJTjogcmV0dXJuICJJTiI7CiAgICBjYXNlIFBPTExPVVQ6CiAgICAgIHJldHVybiAiT1VUIjsKICB9CiAgYXNzZXJ0KCFldmVudHMpOwogIHJldHVybiAiIjsKfQoKLypzdGF0aWMgaW50CmlvX3BhcnNlX2V2ZW50cyhjb25zdCBjaGFyKiBzdHIpIHsKICBpbnQgZXZlbnRzID0gMDsKCiAgaWYoc3Ryc3RyKHN0ciwgIklOIikpCiAgICBldmVudHMgfD0gUE9MTElOOwogIGlmKHN0cnN0cihzdHIsICJPVVQiKSkKICAgIGV2ZW50cyB8PSBQT0xMT1VUOwogIGlmKHN0cnN0cihzdHIsICJIVVAiKSkKICAgIGV2ZW50cyB8PSBQT0xMSFVQOwogIGlmKHN0cnN0cihzdHIsICJFUlIiKSkKICAgIGV2ZW50cyB8PSBQT0xMRVJSOwogIHJldHVybiBldmVudHM7Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X2lvX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBzdHJ1Y3QgcG9sbGZkKiBwOwogIGludDMyX3Qgd3I7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGFzc2VydChjbG9zdXJlLT5vcGFxdWUpOwogIHAgPSAmY2xvc3VyZS0+b3BhcXVlLT5wb2xsOwoKICBKU19Ub0ludDMyKGN0eCwgJndyLCBhcmd2WzBdKTsKCiAgcC0+cmV2ZW50cyA9IG1hZ2ljICYgKHdyID09IFdSSVRFX0hBTkRMRVIgPyBQT0xMT1VUIDogUE9MTElOKTsKCiAgaWYoKHAtPnJldmVudHMgJiBQSU8pICE9IG1hZ2ljKSB7CiAgICBpZihwb2xsKHAsIDEsIDApIDwgMCkKICAgICAgbHdzbF9lcnIoInBvbGwgZXJyb3I6ICVzXG4iLCBzdHJlcnJvcihlcnJubykpOwogIH0KCiAgaWYocC0+cmV2ZW50cyAmIFBJTykgewogICAgc3RydWN0IGx3c19wb2xsZmQgeCA9IHtwLT5mZCwgbWFnaWMsIHAtPnJldmVudHMgJiBQSU99OwoKICAgIGlmKHAtPnJldmVudHMgJiAoUE9MTEVSUiB8IFBPTExIVVApKQogICAgICBjbG9zdXJlLT5vcGFxdWUtPmVycm9yID0gZXJybm87CgogICAgLy8gZXJybm8gPSAwOwogICAgLy8gCiAgICBwcmludGYoIiVzOiBmZD0lZCByZXZlbnRzPSVkIHdzPSVwXG4iLCBfX2Z1bmNfXyx4LmZkLCBpb19ldmVudHMoeC5yZXZlbnRzKSwgY2xvc3VyZS0+b3BhcXVlLT53cyk7CgogICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsd3Nfc2VydmljZV9mZChsd3NfZ2V0X2NvbnRleHQoY2xvc3VyZS0+bHdzaSksICZ4KSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZApmcmVlX2hhbmRsZXJfY2xvc3VyZSh2b2lkKiBwdHIpIHsKICBzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKiBjbG9zdXJlID0gcHRyOwogIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y3R4OwogIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKfTsKCnN0YXRpYyBKU1ZhbHVlCm1ha2VfaGFuZGxlcihKU0NvbnRleHQqIGN0eCwgaW50IGZkLCBpbnQgZXZlbnRzLCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKiBjbG9zdXJlOwoKICBpZighKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCBoYW5kbGVyX2Nsb3N1cmUpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAqY2xvc3VyZSA9IChzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKXtjdHgsIHdzaSwgbHdzX29wYXF1ZSh3c2ksIDAsIGN0eCl9OwoKICBjbG9zdXJlLT5vcGFxdWUtPnBvbGwgPSAoc3RydWN0IHBvbGxmZCl7ZmQsIGV2ZW50cywgMH07CgogIHJldHVybiBKU19OZXdDQ2xvc3VyZShjdHgsIG1pbm5ldF9pb19oYW5kbGVyLCAxLCBldmVudHMsIGNsb3N1cmUsIGZyZWVfaGFuZGxlcl9jbG9zdXJlKTsKfQoKSlNWYWx1ZQptaW5uZXRfZ2V0X3Nlc3Npb25zKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBlbDsKICBKU1ZhbHVlIHJldDsKICB1aW50MzJfdCBpID0gMDsKCiAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgbGlzdF9mb3JfZWFjaChlbCwgJm1pbm5ldF9zb2NrZXRzKSB7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIHNlc3Npb24gPSBsaXN0X2VudHJ5KGVsLCBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEsIGxpbmspOwogICAgLy8gcHJpbnRmKCIlcyBAJXUgIyVpICVwXG4iLCBfX2Z1bmNfXywgaSwgc2Vzc2lvbi0+c2VyaWFsLCBzZXNzaW9uKTsKCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBzZXNzaW9uX29iamVjdChzZXNzaW9uLCBjdHgpKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKdm9pZAptaW5uZXRfaGFuZGxlcnMoSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IGx3c19wb2xsYXJncyBhcmdzLCBKU1ZhbHVlIG91dFsyXSkgewogIEpTVmFsdWUgZnVuYzsKICBpbnQgZXZlbnRzID0gYXJncy5ldmVudHMgJiAoUE9MTElOIHwgUE9MTE9VVCk7CiAgLy8gc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKm9wYXF1ZSA9bHdzX29wYXF1ZSh3c2ksIGN0eCk7CgogIGlmKGV2ZW50cykKICAgIGZ1bmMgPSBtYWtlX2hhbmRsZXIoY3R4LCBhcmdzLmZkLCBldmVudHMsIHdzaSk7CgogIG91dFswXSA9IChldmVudHMgJiBQT0xMSU4pID8ganNfZnVuY3Rpb25fYmluZF8xKGN0eCwgZnVuYywgSlNfTmV3SW50MzIoY3R4LCBSRUFEX0hBTkRMRVIpKSA6IEpTX05VTEw7CiAgb3V0WzFdID0gKGV2ZW50cyAmIFBPTExPVVQpID8ganNfZnVuY3Rpb25fYmluZF8xKGN0eCwgZnVuYywgSlNfTmV3SW50MzIoY3R4LCBXUklURV9IQU5ETEVSKSkgOiBKU19OVUxMOwoKICBpZihldmVudHMpCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jKTsKfQoKSlNWYWx1ZQptaW5uZXRfZW1pdF90aGlzKGNvbnN0IHN0cnVjdCB3c19jYWxsYmFjayogY2IsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgaW50IGFyZ2MsIEpTVmFsdWUqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoY2ItPmN0eCkgewogICAgc2l6ZV90IGxlbjsKICAgIGNvbnN0IGNoYXIqIHN0cjsKICAgIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjYi0+Y3R4LCAmbGVuLCBjYi0+ZnVuY19vYmopOwogICAgLy8gcHJpbnRmKCJlbWl0ICVzIFslZF0gXCIlLipzXCJcbiIsIGNiLT5uYW1lLCBhcmdjLCAoaW50KSgoY29uc3QgY2hhciopbWVtY2hyKHN0ciwgJ3snLCBsZW4pIC0gc3RyKSwgc3RyKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGNiLT5jdHgsIHN0cik7CgogICAgcmV0ID0gSlNfQ2FsbChjYi0+Y3R4LCBjYi0+ZnVuY19vYmosIHRoaXNfb2JqLCBhcmdjLCBhcmd2KTsKICB9CgogIC8qaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIG1pbm5ldF9leGNlcHRpb24gPSBUUlVFOyAqLwoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9lbWl0KGNvbnN0IHN0cnVjdCB3c19jYWxsYmFjayogY2IsIGludCBhcmdjLCBKU1ZhbHVlKiBhcmd2KSB7CiAgcmV0dXJuIG1pbm5ldF9lbWl0X3RoaXMoY2IsIGNiLT50aGlzX29iaiAvKiA/ICpjYi0+dGhpc19vYmogOiBKU19OVUxMKi8sIGFyZ2MsIGFyZ3YpOwp9CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X2xvZ2xldmVsc1tdID0gewogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigxLCAiRVJSIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDIsICJXQVJOIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDQsICJOT1RJQ0UiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoOCwgIklORk8iKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMTYsICJERUJVRyIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigzMiwgIlBBUlNFUiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig2NCwgIkhFQURFUiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigxMjgsICJFWFQiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMjU2LCAiQ0xJRU5UIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDUxMiwgIkxBVEVOQ1kiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMTAyNCwgIlVTRVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMjA0OCwgIlRIUkVBRCIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig0MDk1LCAiQUxMIiksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoInNlcnZlciIsIDEsIG1pbm5ldF9zZXJ2ZXIpLAogICAgSlNfQ0ZVTkNfREVGKCJjbGllbnQiLCAxLCBtaW5uZXRfY2xpZW50KSwKICAgIEpTX0NGVU5DX0RFRigiZmV0Y2giLCAxLCBtaW5uZXRfZmV0Y2gpLAogICAgSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoInNvY2tldCIsIDEsIGNvbnN0cnVjdG9yLCBtaW5uZXRfd3NfY29uc3RydWN0b3IpLAogICAgSlNfQ0ZVTkNfU1BFQ0lBTF9ERUYoInVybCIsIDEsIGNvbnN0cnVjdG9yLCBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yKSwKICAgIC8vIEpTX0NHRVRTRVRfREVGKCJsb2ciLCBnZXRfbG9nLCBzZXRfbG9nKSwKICAgIC8vIEpTX0NHRVRTRVRfREVGKCJzZXNzaW9ucyIsIG1pbm5ldF9nZXRfc2Vzc2lvbnMsIDApLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRTZXNzaW9ucyIsIDAsIG1pbm5ldF9nZXRfc2Vzc2lvbnMpLAogICAgSlNfQ0ZVTkNfREVGKCJzZXRMb2ciLCAxLCBtaW5uZXRfc2V0X2xvZyksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0dFVCIsIE1FVEhPRF9HRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9QT1NUIiwgTUVUSE9EX1BPU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9PUFRJT05TIiwgTUVUSE9EX09QVElPTlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9QVVQiLCBNRVRIT0RfUFVULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUEFUQ0giLCBNRVRIT0RfUEFUQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9ERUxFVEUiLCBNRVRIT0RfREVMRVRFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfQ09OTkVDVCIsIE1FVEhPRF9DT05ORUNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfSEVBRCIsIE1FVEhPRF9IRUFELCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0VSUiIsIExMTF9FUlIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9XQVJOIiwgTExMX1dBUk4sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9OT1RJQ0UiLCBMTExfTk9USUNFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfSU5GTyIsIExMTF9JTkZPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfREVCVUciLCBMTExfREVCVUcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9QQVJTRVIiLCBMTExfUEFSU0VSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfSEVBREVSIiwgTExMX0hFQURFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0VYVCIsIExMTF9FWFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9DTElFTlQiLCBMTExfQ0xJRU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfTEFURU5DWSIsIExMTF9MQVRFTkNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfVVNFUiIsIExMTF9VU0VSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfVEhSRUFEIiwgTExMX1RIUkVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0FMTCIsIH4oKH4wdSkgPDwgTExMX0NPVU5UKSwgMCksCiAgICBKU19PQkpFQ1RfREVGKCJsb2dMZXZlbHMiLCBtaW5uZXRfbG9nbGV2ZWxzLCBjb3VudG9mKG1pbm5ldF9sb2dsZXZlbHMpLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgp2b2lkCnZhbHVlX2R1bXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG4sIEpTVmFsdWVDb25zdCBjb25zdCogdikgewogIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsICp2KTsKICBsd3NsX3VzZXIoIiVzID0gJyVzJ1xuIiwgbiwgc3RyKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7Cn0KCnN0YXRpYyBpbnQKanNfbWlubmV0X2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgLyogIG1pbm5ldF9sb2dfY2IgPSBKU19VTkRFRklORUQ7CiAgICBtaW5uZXRfbG9nX3RoaXMgPSBKU19VTkRFRklORUQ7Ki8KCiAgaW5pdF9saXN0X2hlYWQoJm1pbm5ldF9zb2NrZXRzKTsKCiAgSlNfU2V0TW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIG1pbm5ldF9mdW5jcywgY291bnRvZihtaW5uZXRfZnVuY3MpKTsKCiAgLy8gQWRkIGNsYXNzIFJlc3BvbnNlCiAgSlNfTmV3Q2xhc3NJRCgmbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCwgJm1pbm5ldF9yZXNwb25zZV9jbGFzcyk7CgogIG1pbm5ldF9yZXNwb25zZV9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3MsIG1pbm5ldF9yZXNwb25zZV9wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8pOwoKICBtaW5uZXRfcmVzcG9uc2VfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY29uc3RydWN0b3IsICJNaW5uZXRSZXNwb25zZSIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIG1pbm5ldF9yZXNwb25zZV9jdG9yLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlc3BvbnNlIiwgbWlubmV0X3Jlc3BvbnNlX2N0b3IpOwoKICAvLyBBZGQgY2xhc3MgUmVxdWVzdAogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKCiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCwgJm1pbm5ldF9yZXF1ZXN0X2NsYXNzKTsKICBtaW5uZXRfcmVxdWVzdF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3JlcXVlc3RfcHJvdG8sIG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgbWlubmV0X3JlcXVlc3RfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfcmVxdWVzdF9jb25zdHJ1Y3RvciwgIk1pbm5ldFJlcXVlc3QiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmVxdWVzdF9jdG9yLCBtaW5uZXRfcmVxdWVzdF9wcm90byk7CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiUmVxdWVzdCIsIG1pbm5ldF9yZXF1ZXN0X2N0b3IpOwoKICAvLyBBZGQgY2xhc3MgU3RyZWFtCiAgSlNfTmV3Q2xhc3NJRCgmbWlubmV0X3JpbmdidWZmZXJfY2xhc3NfaWQpOwoKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkLCAmbWlubmV0X3JpbmdidWZmZXJfY2xhc3MpOwogIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90bywgbWlubmV0X3JpbmdidWZmZXJfcHJvdG9fZnVuY3MsIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvX2Z1bmNzX3NpemUpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCwgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8pOwoKICBtaW5uZXRfcmluZ2J1ZmZlcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF9yaW5nYnVmZmVyX2NvbnN0cnVjdG9yLCAiTWlubmV0UmluZ0J1ZmZlciIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIG1pbm5ldF9yaW5nYnVmZmVyX2N0b3IsIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJTdHJlYW0iLCBtaW5uZXRfcmluZ2J1ZmZlcl9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFVSTAogIG1pbm5ldF91cmxfaW5pdChjdHgsIG0pOwoKICAvLyBBZGQgY2xhc3MgV2ViU29ja2V0CiAgSlNfTmV3Q2xhc3NJRCgmbWlubmV0X3dzX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF93c19jbGFzc19pZCwgJm1pbm5ldF93c19jbGFzcyk7CiAgbWlubmV0X3dzX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19wcm90b19mdW5jcywgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfcHJvdG9fZGVmcywgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZSk7CgogIG1pbm5ldF93c19jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF93c19jb25zdHJ1Y3RvciwgIk1pbm5ldFdlYnNvY2tldCIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF93c19jdG9yLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUpOwoKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIG1pbm5ldF93c19jdG9yLCBtaW5uZXRfd3NfcHJvdG8pOwoKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF93c19jdG9yLCBtaW5uZXRfd3NfcHJvdG9fZGVmcywgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZSk7CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU29ja2V0IiwgbWlubmV0X3dzX2N0b3IpOwoKICB7CiAgICBKU1ZhbHVlIG1pbm5ldF9kZWZhdWx0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9kZWZhdWx0LCBtaW5uZXRfZnVuY3MsIGNvdW50b2YobWlubmV0X2Z1bmNzKSk7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZGVmYXVsdCIsIG1pbm5ldF9kZWZhdWx0KTsKICB9CgogIHJldHVybiAwOwp9CgpfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfbWlubmV0X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlc3BvbnNlIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlcXVlc3QiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU3RyZWFtIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNvY2tldCIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJVUkwiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZGVmYXVsdCIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBtaW5uZXRfZnVuY3MsIGNvdW50b2YobWlubmV0X2Z1bmNzKSk7CgogIG1pbm5ldF9sb2dfY3R4ID0gY3R4OwoKICBsd3Nfc2V0X2xvZ19sZXZlbChtaW5uZXRfbG9nX2xldmVsLCBsd3NfbG9nX2NhbGxiYWNrKTsKCiAgcmV0dXJuIG07Cn0KCmNvbnN0IGNoYXIqCmx3c19jYWxsYmFja19uYW1lKGludCByZWFzb24pIHsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsKICAgICAgIkxXU19DQUxMQkFDS19FU1RBQkxJU0hFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0VTVEFCTElTSEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19DTE9TRUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMT1NFRF9IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19SRUNFSVZFIiwKICAgICAgIkxXU19DQUxMQkFDS19SRUNFSVZFX1BPTkciLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRV9QT05HIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19TRVJWRVJfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0JPRFkiLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfQk9EWV9DT01QTEVUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9XUklURUFCTEUiLAogICAgICAiTFdTX0NBTExCQUNLX0ZJTFRFUl9ORVRXT1JLX0NPTk5FQ1RJT04iLAogICAgICAiTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT04iLAogICAgICAiTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfRklMVEVSX1BST1RPQ09MX0NPTk5FQ1RJT04iLAogICAgICAiTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfU0VSVkVSX1ZFUklGWV9DRVJUUyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9QRVJGT1JNX0NMSUVOVF9DRVJUX1ZFUklGSUNBVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0FQUEVORF9IQU5EU0hBS0VfSEVBREVSIiwKICAgICAgIkxXU19DQUxMQkFDS19DT05GSVJNX0VYVEVOU0lPTl9PS0FZIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfQ09ORklSTV9FWFRFTlNJT05fU1VQUE9SVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19QUk9UT0NPTF9JTklUIiwKICAgICAgIkxXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZIiwKICAgICAgIkxXU19DQUxMQkFDS19XU0lfQ1JFQVRFIiwKICAgICAgIkxXU19DQUxMQkFDS19XU0lfREVTVFJPWSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfR0VUX1RIUkVBRF9JRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQiLAogICAgICAiTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEIiwKICAgICAgIkxXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEIiwKICAgICAgIkxXU19DQUxMQkFDS19MT0NLX1BPTEwiLAogICAgICAiTFdTX0NBTExCQUNLX1VOTE9DS19QT0xMIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX0NPTlRFWFRfUkVRVUlSRVNfUFJJVkFURV9LRVkiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX1BFRVJfSU5JVElBVEVEX0NMT1NFIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19FWFRfREVGQVVMVFMiLAogICAgICAiTFdTX0NBTExCQUNLX0NHSSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0dJX1RFUk1JTkFURUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NHSV9TVERJTl9EQVRBIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0lfU1RESU5fQ09NUExFVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFAiLAogICAgICAiTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX0NIRUNLX0FDQ0VTU19SSUdIVFMiLAogICAgICAiTFdTX0NBTExCQUNLX1BST0NFU1NfSFRNTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlMiLAogICAgICAiTFdTX0NBTExCQUNLX1NFU1NJT05fSU5GTyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfR1NfRVZFTlQiLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfUE1PIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEUiLAogICAgICAiTFdTX0NBTExCQUNLX09QRU5TU0xfUEVSRk9STV9TRVJWRVJfQ0VSVF9WRVJJRklDQVRJT04iLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19SWCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQURPUFQiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19BRE9QVF9GSUxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUlhfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRV9GSUxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQ0xPU0VfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfU1NMX0lORk8iLAogICAgICAwLAogICAgICAiTFdTX0NBTExCQUNLX0NISUxEX0NMT1NJTkciLAogICAgICAiTFdTX0NBTExCQUNLX0NHSV9QUk9DRVNTX0FUVEFDSCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfRVZFTlRfV0FJVF9DQU5DRUxMRUQiLAogICAgICAiTFdTX0NBTExCQUNLX1ZIT1NUX0NFUlRfQUdJTkciLAogICAgICAiTFdTX0NBTExCQUNLX1RJTUVSIiwKICAgICAgIkxXU19DQUxMQkFDS19WSE9TVF9DRVJUX1VQREFURSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NMT1NFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfU0VSVkVSX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19DTElFTlRfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0RST1BfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19TS1RfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1NLVF9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfRklMRV9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfRklMRV9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0NPTkZJUk1fVVBHUkFERSIsCiAgICAgIDAsCiAgICAgIDAsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9SWCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9SWCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9XUklURUFCTEUiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfQ0xJX0FET1BUIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX0FET1BUIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfQ0xJX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX0RST1BfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19DT05ORUNURUQiLAogICAgICAiTFdTX0NBTExCQUNLX1ZFUklGWV9CQVNJQ19BVVRIT1JJWkFUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19XU0lfVFhfQ1JFRElUX0dFVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfUkVESVJFQ1QiLAogICAgICAiTFdTX0NBTExCQUNLX0NPTk5FQ1RJTkciLAogIH0pW3JlYXNvbl07Cn0KAAAAAAAAAABHZgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYC4AAAAAAABgLgAAAAAAAAAAAAAAAPC/"
				],
				[
					660,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AgAAAE8yAAAAAAAAUDIAAAAAAAAAAAAAUDIAAAAAAABQMgAAAAAAAAEAAABk",
					"AQAAAAAAAAABAAAATzIAAAAAAABQMgAAAAAAAAAAAAAAAPC/"
				],
				[
					669,
					1,
					"insert",
					{
						"characters": " opaque=%p"
					},
					"CgAAAFYyAAAAAAAAVzIAAAAAAAAAAAAAVzIAAAAAAABYMgAAAAAAAAAAAABYMgAAAAAAAFkyAAAAAAAAAAAAAFkyAAAAAAAAWjIAAAAAAAAAAAAAWjIAAAAAAABbMgAAAAAAAAAAAABbMgAAAAAAAFwyAAAAAAAAAAAAAFwyAAAAAAAAXTIAAAAAAAAAAAAAXTIAAAAAAABeMgAAAAAAAAAAAABeMgAAAAAAAF8yAAAAAAAAAAAAAF8yAAAAAAAAYDIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVjIAAAAAAABWMgAAAAAAAAAAAAAAAPC/"
				],
				[
					676,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAJ4yAAAAAAAAnzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnjIAAAAAAACeMgAAAAAAAAAAAAAAAPC/"
				],
				[
					677,
					1,
					"insert",
					{
						"characters": " clsou"
					},
					"BgAAAJ8yAAAAAAAAoDIAAAAAAAAAAAAAoDIAAAAAAAChMgAAAAAAAAAAAAChMgAAAAAAAKIyAAAAAAAAAAAAAKIyAAAAAAAAozIAAAAAAAAAAAAAozIAAAAAAACkMgAAAAAAAAAAAACkMgAAAAAAAKUyAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnzIAAAAAAACfMgAAAAAAAAAAAAAAAPC/"
				],
				[
					678,
					3,
					"left_delete",
					null,
					"AwAAAKQyAAAAAAAApDIAAAAAAAABAAAAdaMyAAAAAAAAozIAAAAAAAABAAAAb6IyAAAAAAAAojIAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAApTIAAAAAAAClMgAAAAAAAAAAAAAAAPC/"
				],
				[
					679,
					1,
					"insert",
					{
						"characters": "ois"
					},
					"AwAAAKIyAAAAAAAAozIAAAAAAAAAAAAAozIAAAAAAACkMgAAAAAAAAAAAACkMgAAAAAAAKUyAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAojIAAAAAAACiMgAAAAAAAAAAAAAAAPC/"
				],
				[
					680,
					2,
					"left_delete",
					null,
					"AgAAAKQyAAAAAAAApDIAAAAAAAABAAAAc6MyAAAAAAAAozIAAAAAAAABAAAAaQ",
					"AQAAAAAAAAABAAAApTIAAAAAAAClMgAAAAAAAAAAAAAAAPC/"
				],
				[
					681,
					1,
					"insert",
					{
						"characters": "sure->opaque"
					},
					"DAAAAKMyAAAAAAAApDIAAAAAAAAAAAAApDIAAAAAAAClMgAAAAAAAAAAAAClMgAAAAAAAKYyAAAAAAAAAAAAAKYyAAAAAAAApzIAAAAAAAAAAAAApzIAAAAAAACoMgAAAAAAAAAAAACoMgAAAAAAAKkyAAAAAAAAAAAAAKkyAAAAAAAAqjIAAAAAAAAAAAAAqjIAAAAAAACrMgAAAAAAAAAAAACrMgAAAAAAAKwyAAAAAAAAAAAAAKwyAAAAAAAArTIAAAAAAAAAAAAArTIAAAAAAACuMgAAAAAAAAAAAACuMgAAAAAAAK8yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAozIAAAAAAACjMgAAAAAAAAAAAAAAAPC/"
				],
				[
					692,
					1,
					"insert",
					{
						"characters": "\nstruct"
					},
					"CAAAAFkwAAAAAAAAWjAAAAAAAAAAAAAAWjAAAAAAAABcMAAAAAAAAAAAAABcMAAAAAAAAF0wAAAAAAAAAAAAAF0wAAAAAAAAXjAAAAAAAAAAAAAAXjAAAAAAAABfMAAAAAAAAAAAAABfMAAAAAAAAGAwAAAAAAAAAAAAAGAwAAAAAAAAYTAAAAAAAAAAAAAAYTAAAAAAAABiMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWTAAAAAAAABZMAAAAAAAAAAAAAAAAPC/"
				],
				[
					693,
					1,
					"insert",
					{
						"characters": " wsi_"
					},
					"BQAAAGIwAAAAAAAAYzAAAAAAAAAAAAAAYzAAAAAAAABkMAAAAAAAAAAAAABkMAAAAAAAAGUwAAAAAAAAAAAAAGUwAAAAAAAAZjAAAAAAAAAAAAAAZjAAAAAAAABnMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYjAAAAAAAABiMAAAAAAAAAAAAAAAAPC/"
				],
				[
					694,
					5,
					"left_delete",
					null,
					"BQAAAGYwAAAAAAAAZjAAAAAAAAABAAAAX2UwAAAAAAAAZTAAAAAAAAABAAAAaWQwAAAAAAAAZDAAAAAAAAABAAAAc2MwAAAAAAAAYzAAAAAAAAABAAAAd2IwAAAAAAAAYjAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAZzAAAAAAAABnMAAAAAAAAAAAAAAAAPC/"
				],
				[
					695,
					1,
					"insert",
					{
						"characters": " wsi_opa"
					},
					"CAAAAGIwAAAAAAAAYzAAAAAAAAAAAAAAYzAAAAAAAABkMAAAAAAAAAAAAABkMAAAAAAAAGUwAAAAAAAAAAAAAGUwAAAAAAAAZjAAAAAAAAAAAAAAZjAAAAAAAABnMAAAAAAAAAAAAABnMAAAAAAAAGgwAAAAAAAAAAAAAGgwAAAAAAAAaTAAAAAAAAAAAAAAaTAAAAAAAABqMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYjAAAAAAAABiMAAAAAAAAAAAAAAAAPC/"
				],
				[
					696,
					1,
					"insert",
					{
						"characters": "que_user_dat"
					},
					"DAAAAGowAAAAAAAAazAAAAAAAAAAAAAAazAAAAAAAABsMAAAAAAAAAAAAABsMAAAAAAAAG0wAAAAAAAAAAAAAG0wAAAAAAAAbjAAAAAAAAAAAAAAbjAAAAAAAABvMAAAAAAAAAAAAABvMAAAAAAAAHAwAAAAAAAAAAAAAHAwAAAAAAAAcTAAAAAAAAAAAAAAcTAAAAAAAAByMAAAAAAAAAAAAAByMAAAAAAAAHMwAAAAAAAAAAAAAHMwAAAAAAAAdDAAAAAAAAAAAAAAdDAAAAAAAAB1MAAAAAAAAAAAAAB1MAAAAAAAAHYwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAajAAAAAAAABqMAAAAAAAAAAAAAAAAPC/"
				],
				[
					697,
					1,
					"insert",
					{
						"characters": "a*"
					},
					"AgAAAHYwAAAAAAAAdzAAAAAAAAAAAAAAdzAAAAAAAAB4MAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdjAAAAAAAAB2MAAAAAAAAAAAAAAAAPC/"
				],
				[
					698,
					1,
					"insert",
					{
						"characters": " opaque"
					},
					"BwAAAHgwAAAAAAAAeTAAAAAAAAAAAAAAeTAAAAAAAAB6MAAAAAAAAAAAAAB6MAAAAAAAAHswAAAAAAAAAAAAAHswAAAAAAAAfDAAAAAAAAAAAAAAfDAAAAAAAAB9MAAAAAAAAAAAAAB9MAAAAAAAAH4wAAAAAAAAAAAAAH4wAAAAAAAAfzAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeDAAAAAAAAB4MAAAAAAAAAAAAAAAAPC/"
				],
				[
					699,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAH8wAAAAAAAAgDAAAAAAAAAAAAAAgDAAAAAAAACBMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfzAAAAAAAAB/MAAAAAAAAAAAAAAAAPC/"
				],
				[
					700,
					1,
					"insert",
					{
						"characters": " &"
					},
					"AgAAAIEwAAAAAAAAgjAAAAAAAAAAAAAAgjAAAAAAAACDMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgTAAAAAAAACBMAAAAAAAAAAAAAAAAPC/"
				],
				[
					701,
					1,
					"left_delete",
					null,
					"AQAAAIIwAAAAAAAAgjAAAAAAAAABAAAAJg",
					"AQAAAAAAAAABAAAAgzAAAAAAAACDMAAAAAAAAAAAAAAAAPC/"
				],
				[
					702,
					1,
					"insert",
					{
						"characters": "closure->opqaue"
					},
					"DwAAAIIwAAAAAAAAgzAAAAAAAAAAAAAAgzAAAAAAAACEMAAAAAAAAAAAAACEMAAAAAAAAIUwAAAAAAAAAAAAAIUwAAAAAAAAhjAAAAAAAAAAAAAAhjAAAAAAAACHMAAAAAAAAAAAAACHMAAAAAAAAIgwAAAAAAAAAAAAAIgwAAAAAAAAiTAAAAAAAAAAAAAAiTAAAAAAAACKMAAAAAAAAAAAAACKMAAAAAAAAIswAAAAAAAAAAAAAIswAAAAAAAAjDAAAAAAAAAAAAAAjDAAAAAAAACNMAAAAAAAAAAAAACNMAAAAAAAAI4wAAAAAAAAAAAAAI4wAAAAAAAAjzAAAAAAAAAAAAAAjzAAAAAAAACQMAAAAAAAAAAAAACQMAAAAAAAAJEwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgjAAAAAAAACCMAAAAAAAAAAAAAAAAPC/"
				],
				[
					703,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJEwAAAAAAAAkjAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkTAAAAAAAACRMAAAAAAAAAAAAAAAAPC/"
				],
				[
					704,
					5,
					"left_delete",
					null,
					"BQAAAJEwAAAAAAAAkTAAAAAAAAABAAAAIJAwAAAAAAAAkDAAAAAAAAABAAAAZY8wAAAAAAAAjzAAAAAAAAABAAAAdY4wAAAAAAAAjjAAAAAAAAABAAAAYY0wAAAAAAAAjTAAAAAAAAABAAAAcQ",
					"AQAAAAAAAAABAAAAkjAAAAAAAACSMAAAAAAAAAAAAAAAAPC/"
				],
				[
					705,
					1,
					"insert",
					{
						"characters": "aque"
					},
					"BAAAAI0wAAAAAAAAjjAAAAAAAAAAAAAAjjAAAAAAAACPMAAAAAAAAAAAAACPMAAAAAAAAJAwAAAAAAAAAAAAAJAwAAAAAAAAkTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjTAAAAAAAACNMAAAAAAAAAAAAAAAAPC/"
				],
				[
					707,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIIwAAAAAAAAgzAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgjAAAAAAAACCMAAAAAAAAAAAAAAAAPC/"
				],
				[
					709,
					1,
					"insert",
					{
						"characters": "lws_get"
					},
					"BwAAAIIwAAAAAAAAgzAAAAAAAAAAAAAAgzAAAAAAAACEMAAAAAAAAAAAAACEMAAAAAAAAIUwAAAAAAAAAAAAAIUwAAAAAAAAhjAAAAAAAAAAAAAAhjAAAAAAAACHMAAAAAAAAAAAAACHMAAAAAAAAIgwAAAAAAAAAAAAAIgwAAAAAAAAiTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgjAAAAAAAACCMAAAAAAAAAAAAAAAAPC/"
				],
				[
					710,
					1,
					"insert_completion",
					{
						"completion": "lws_get_opaque_user_data",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "lws_get_opaque_user_data"
					},
					"AgAAAIIwAAAAAAAAgjAAAAAAAAAHAAAAbHdzX2dldIIwAAAAAAAAmjAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiTAAAAAAAACJMAAAAAAAAAAAAAAAAPC/"
				],
				[
					711,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJowAAAAAAAAnDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmjAAAAAAAACaMAAAAAAAAAAAAAAAAPC/"
				],
				[
					712,
					1,
					"insert",
					{
						"characters": "closure->lwsi"
					},
					"DQAAAJswAAAAAAAAnDAAAAAAAAAAAAAAnDAAAAAAAACdMAAAAAAAAAAAAACdMAAAAAAAAJ4wAAAAAAAAAAAAAJ4wAAAAAAAAnzAAAAAAAAAAAAAAnzAAAAAAAACgMAAAAAAAAAAAAACgMAAAAAAAAKEwAAAAAAAAAAAAAKEwAAAAAAAAojAAAAAAAAAAAAAAojAAAAAAAACjMAAAAAAAAAAAAACjMAAAAAAAAKQwAAAAAAAAAAAAAKQwAAAAAAAApTAAAAAAAAAAAAAApTAAAAAAAACmMAAAAAAAAAAAAACmMAAAAAAAAKcwAAAAAAAAAAAAAKcwAAAAAAAAqDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmzAAAAAAAACbMAAAAAAAAAAAAAAAAPC/"
				],
				[
					714,
					1,
					"insert",
					{
						"characters": "  "
					},
					"AgAAAKkwAAAAAAAAqjAAAAAAAAAAAAAAqjAAAAAAAACrMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqTAAAAAAAACpMAAAAAAAAAAAAAAAAPC/"
				],
				[
					715,
					2,
					"left_delete",
					null,
					"AgAAAKowAAAAAAAAqjAAAAAAAAABAAAAIKkwAAAAAAAAqTAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAqzAAAAAAAACrMAAAAAAAAAAAAAAAAPC/"
				],
				[
					716,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAKkwAAAAAAAAqjAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqTAAAAAAAACpMAAAAAAAAAAAAAAAAPC/"
				],
				[
					717,
					1,
					"insert",
					{
						"characters": "\n\nif"
					},
					"BwAAAKowAAAAAAAAqzAAAAAAAAAAAAAAqzAAAAAAAACtMAAAAAAAAAAAAACtMAAAAAAAAK4wAAAAAAAAAAAAAK4wAAAAAAAAsDAAAAAAAAAAAAAAqzAAAAAAAACrMAAAAAAAAAIAAAAgIK4wAAAAAAAArzAAAAAAAAAAAAAArzAAAAAAAACwMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqjAAAAAAAACqMAAAAAAAAAAAAAAAAPC/"
				],
				[
					718,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALAwAAAAAAAAsjAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsDAAAAAAAACwMAAAAAAAAAAAAAAAAPC/"
				],
				[
					719,
					1,
					"insert",
					{
						"characters": "!opaque"
					},
					"BwAAALEwAAAAAAAAsjAAAAAAAAAAAAAAsjAAAAAAAACzMAAAAAAAAAAAAACzMAAAAAAAALQwAAAAAAAAAAAAALQwAAAAAAAAtTAAAAAAAAAAAAAAtTAAAAAAAAC2MAAAAAAAAAAAAAC2MAAAAAAAALcwAAAAAAAAAAAAALcwAAAAAAAAuDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsTAAAAAAAACxMAAAAAAAAAAAAAAAAPC/"
				],
				[
					723,
					1,
					"insert",
					{
						"characters": "opaque="
					},
					"BwAAALowAAAAAAAAuzAAAAAAAAAAAAAAuzAAAAAAAAC8MAAAAAAAAAAAAAC8MAAAAAAAAL0wAAAAAAAAAAAAAL0wAAAAAAAAvjAAAAAAAAAAAAAAvjAAAAAAAAC/MAAAAAAAAAAAAAC/MAAAAAAAAMAwAAAAAAAAAAAAAMAwAAAAAAAAwTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAujAAAAAAAAC6MAAAAAAAAAAAAAAAAPC/"
				],
				[
					725,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAANAwAAAAAAAA0TAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0DAAAAAAAADQMAAAAAAAAP///////+9/"
				],
				[
					727,
					1,
					"left_delete",
					null,
					"AQAAAKowAAAAAAAAqjAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAqzAAAAAAAACrMAAAAAAAAAAAAAAAIHdA"
				],
				[
					736,
					3,
					"right_delete",
					null,
					"AwAAAAIzAAAAAAAAAjMAAAAAAAAHAAAAY2xvc3VyZQIzAAAAAAAAAjMAAAAAAAABAAAALQIzAAAAAAAAAjMAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAAAjMAAAAAAAAJMwAAAAAAAAAAAAAAAPC/"
				],
				[
					739,
					9,
					"left_delete",
					null,
					"CQAAABYzAAAAAAAAFjMAAAAAAAABAAAAPhUzAAAAAAAAFTMAAAAAAAABAAAALRQzAAAAAAAAFDMAAAAAAAABAAAAZRMzAAAAAAAAEzMAAAAAAAABAAAAchIzAAAAAAAAEjMAAAAAAAABAAAAdREzAAAAAAAAETMAAAAAAAABAAAAcxAzAAAAAAAAEDMAAAAAAAABAAAAbw8zAAAAAAAADzMAAAAAAAABAAAAbA4zAAAAAAAADjMAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAAFzMAAAAAAAAXMwAAAAAAAAAAAAAAAPC/"
				],
				[
					742,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADHZgAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yaW5nYnVmZmVyLmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGVycm5vLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzeXMvdGltZS5oPgoKLyojaWZkZWYgX1dJTjMyCiNpbmNsdWRlICJwb2xsLmgiCiNlbmRpZiovCgojaWZuZGVmIFBPTExJTgojZGVmaW5lIFBPTExJTiAxCiNlbmRpZgojaWZuZGVmIFBPTExPVVQKI2RlZmluZSBQT0xMT1VUIDQKI2VuZGlmCiNpZm5kZWYgUE9MTEVSUgojZGVmaW5lIFBPTExFUlIgOAojZW5kaWYKI2lmbmRlZiBQT0xMSFVQCiNkZWZpbmUgUE9MTEhVUCAxNgojZW5kaWYKLyoKI2lmZGVmIEpTX1NIQVJFRF9MSUJSQVJZCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9taW5uZXQKI2VuZGlmCiovCiNkZWZpbmUgUElPIChQT0xMSU4gfCBQT0xMT1VUIHwgUE9MTEVSUikKCnN0cnVjdCBoYW5kbGVyX2Nsb3N1cmUgewogIEpTQ29udGV4dCogY3R4OwogIHN0cnVjdCBsd3MqIGx3c2k7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7Cn07CgpKU1ZhbHVlIG1pbm5ldF9mZXRjaChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0Kik7CgovLyBUSFJFQURfTE9DQUwgc3RydWN0IGx3c19jb250ZXh0KiBtaW5uZXRfbHdzX2NvbnRleHQgPSAwOwoKc3RhdGljIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF9sb2dfY2IsIG1pbm5ldF9sb2dfdGhpczsKVEhSRUFEX0xPQ0FMIGludDMyX3QgbWlubmV0X2xvZ19sZXZlbCA9IDA7ClRIUkVBRF9MT0NBTCBKU0NvbnRleHQqIG1pbm5ldF9sb2dfY3R4ID0gMDsKVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHMgPSB7MCwgMH07CnN0YXRpYyBUSFJFQURfTE9DQUwgdWludDMyX3Qgc2Vzc2lvbl9zZXJpYWwgPSAwOwovLyBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uID0gRkFMU0U7CgppbnQKc29ja2V0X2dldGVycm9yKGludCBmZCkgewogIGludCBlOwogIHNvY2tsZW5fdCBzbCA9IHNpemVvZihlKTsKCiAgaWYoIWdldHNvY2tvcHQoZmQsIFNPTF9TT0NLRVQsIFNPX0VSUk9SLCAmZSwgJnNsKSkgewogICAgc2V0c29ja29wdChmZCwgU09MX1NPQ0tFVCwgU09fRVJST1IsICZlLCBzbCk7CiAgICByZXR1cm4gZTsKICB9CgogIHJldHVybiAtMTsKfQoKdm9pZApzZXNzaW9uX3plcm8oTWlubmV0U2Vzc2lvbiogc2Vzc2lvbikgewogIG1lbXNldChzZXNzaW9uLCAwLCBzaXplb2YoTWlubmV0U2Vzc2lvbikpOwogIHNlc3Npb24tPnNlcmlhbCA9IC0xOwogIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVxX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVzcF9vYmogPSBKU19OVUxMOwogIHNlc3Npb24tPmdlbmVyYXRvciA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+bmV4dCA9IEpTX05VTEw7CgogIHNlc3Npb24tPnNlcmlhbCA9ICsrc2Vzc2lvbl9zZXJpYWw7CgogIC8vIGxpc3RfYWRkKCZzZXNzaW9uLT5saW5rLCAmbWlubmV0X3Nlc3Npb25zKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9Cgp2b2lkCnNlc3Npb25fY2xlYXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgSlNDb250ZXh0KiBjdHgpIHsKICAvLyBsaXN0X2RlbCgmc2Vzc2lvbi0+bGluayk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVxX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPmdlbmVyYXRvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+bmV4dCk7CgogIGJ1ZmZlcl9mcmVlKCZzZXNzaW9uLT5zZW5kX2J1ZiwgSlNfR2V0UnVudGltZShjdHgpKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9CgpKU1ZhbHVlCnNlc3Npb25fb2JqZWN0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlLCBKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgcmV0OwogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBvcGFxdWUtPnNlcmlhbCA/IEpTX05ld0ludDMyKGN0eCwgb3BhcXVlLT5zZXJpYWwpIDogSlNfTlVMTCk7CgogIGlmKG9wYXF1ZS0+c2VzcykgewogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT53c19vYmopKTsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAyLCBKU19EdXBWYWx1ZShjdHgsIG9wYXF1ZS0+c2Vzcy0+cmVxX29iaikpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT5yZXNwX29iaikpOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmNvbnRleHRfZXhjZXB0aW9uKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWUgcmV0dmFsKSB7CiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0dmFsKSkgewogICAgY29udGV4dC0+ZXhjZXB0aW9uID0gVFJVRTsKICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKGNvbnRleHQtPmpzKTsKICAgIEpTVmFsdWUgc3RhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgZXhjZXB0aW9uLCAic3RhY2siKTsKICAgIGNvbnN0IGNoYXIqIGVyciA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgZXhjZXB0aW9uKTsKICAgIGNvbnN0IGNoYXIqIHN0ayA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgc3RhY2spOwogICAgLy8gcHJpbnRmKCJHb3QgZXhjZXB0aW9uOiAlc1xuJXNcbiIsIGVyciwgc3RrKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGNvbnRleHQtPmpzLCBlcnIpOwogICAgSlNfRnJlZUNTdHJpbmcoY29udGV4dC0+anMsIHN0ayk7CiAgICBKU19GcmVlVmFsdWUoY29udGV4dC0+anMsIHN0YWNrKTsKICAgIEpTX1Rocm93KGNvbnRleHQtPmpzLCBleGNlcHRpb24pOwogIH0KCiAgcmV0dXJuIGNvbnRleHQtPmV4Y2VwdGlvbjsKfQoKdm9pZApjb250ZXh0X2NsZWFyKE1pbm5ldENvbnRleHQqIGNvbnRleHQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBsd3NfY29udGV4dF9kZXN0cm95KGNvbnRleHQtPmx3cyk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmNydCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY29udGV4dC0+a2V5KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjb250ZXh0LT5jYSk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmVycm9yKTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRDbG9zdXJlKiBjbG9zdXJlOwoKICBpZigoY2xvc3VyZSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Q2xvc3VyZSkpKSkKICAgIGNsb3N1cmUtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiBjbG9zdXJlOwp9CgpNaW5uZXRDbG9zdXJlKgpjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKiBjKSB7CiAgKytjLT5yZWZfY291bnQ7CiAgcmV0dXJuIGM7Cn0KCnZvaWQKY2xvc3VyZV9mcmVlKHZvaWQqIHB0cikgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPnNlcnZlcikgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNvbnRleHQtPmpzOwogICAgICAvLyBwcmludGYoIiVzIHNlcnZlcj0lcFxuIiwgX19mdW5jX18sIGNsb3N1cmUtPnNlcnZlcik7CiAgICAgIGlmKGNsb3N1cmUtPmZyZWVfZnVuYykKICAgICAgICBjbG9zdXJlLT5mcmVlX2Z1bmMoY2xvc3VyZS0+Y29udGV4dCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgpzdGF0aWMgdm9pZApsd3NfbG9nX2NhbGxiYWNrKGludCBsZXZlbCwgY29uc3QgY2hhciogbGluZSkgewogIGlmKG1pbm5ldF9sb2dfY3R4KSB7CiAgICBpZihKU19Jc0Z1bmN0aW9uKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiKSkgewogICAgICBzaXplX3QgbiA9IDAsIGxlbiA9IHN0cmxlbihsaW5lKTsKCiAgICAgIGlmKGxlbiA+IDAgJiYgbGluZVswXSA9PSAnWycpIHsKICAgICAgICBpZigobiA9IGJ5dGVfY2hyKGxpbmUsIGxlbiwgJ10nKSkgPCBsZW4pCiAgICAgICAgICBuKys7CiAgICAgICAgd2hpbGUobiA8IGxlbiAmJiBpc3NwYWNlKGxpbmVbbl0pKSBuKys7CiAgICAgICAgaWYobiArIDEgPCBsZW4gJiYgbGluZVtuICsgMV0gPT0gJzonKQogICAgICAgICAgbiArPSAyOwogICAgICAgIHdoaWxlKG4gPCBsZW4gJiYgKGlzc3BhY2UobGluZVtuXSkgfHwgbGluZVtuXSA9PSAnLScpKSBuKys7CiAgICAgIH0KICAgICAgaWYobGVuID4gMCAmJiBsaW5lW2xlbiAtIDFdID09ICdcbicpCiAgICAgICAgbGVuLS07CgogICAgICBKU1ZhbHVlQ29uc3QgYXJndlsyXSA9IHsKICAgICAgICAgIEpTX05ld0ludDMyKG1pbm5ldF9sb2dfY3R4LCBsZXZlbCksCiAgICAgICAgICBKU19OZXdTdHJpbmdMZW4obWlubmV0X2xvZ19jdHgsIGxpbmUgKyBuLCBsZW4gLSBuKSwKICAgICAgfTsKICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiLCBtaW5uZXRfbG9nX3RoaXMsIDIsIGFyZ3YpOwoKICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKG1pbm5ldF9sb2dfY3R4KTsKICAgICAgICBKU19GcmVlVmFsdWUobWlubmV0X2xvZ19jdHgsIGV4Y2VwdGlvbik7CiAgICAgIH0KCiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlswXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlsxXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgcmV0KTsKICAgIH0gZWxzZSB7CiAgICAgIGpzX2NvbnNvbGVfbG9nKG1pbm5ldF9sb2dfY3R4LCAmbWlubmV0X2xvZ190aGlzLCAmbWlubmV0X2xvZ19jYik7CiAgICB9CiAgfQp9CgppbnQKbWlubmV0X2x3c191bmhhbmRsZWQoY29uc3QgY2hhciogaGFuZGxlciwgaW50IHJlYXNvbikgewogIGx3c2xfd2FybigiVW5oYW5kbGVkIFx4MWJbMTszMW0lc1x4MWJbMG0gZXZlbnQ6ICVpICVzXG4iLCBoYW5kbGVyLCByZWFzb24sIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikpOwogIGFzc2VydCgwKTsKICByZXR1cm4gLTE7Cn0KCi8qc3RhdGljIEpTVmFsdWUKZ2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X2xvZ19jYik7Cn0qLwoKc3RhdGljIEpTVmFsdWUKc2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEpTVmFsdWVDb25zdCB0aGlzT2JqKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfY2IpID09IDAgPyBKU19VTkRFRklORUQgOiBtaW5uZXRfbG9nX2NiOwoKICBtaW5uZXRfbG9nX2N0eCA9IGN0eDsKICBtaW5uZXRfbG9nX2NiID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChtaW5uZXRfbG9nX3RoaXMpICYmICFKU19Jc051bGwobWlubmV0X2xvZ190aGlzKSAmJiBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfdGhpcykgIT0gMCkKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1pbm5ldF9sb2dfdGhpcyk7CgogIG1pbm5ldF9sb2dfdGhpcyA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc09iaik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXRfbG9nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJm1pbm5ldF9sb2dfbGV2ZWwsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgcmV0ID0gc2V0X2xvZyhjdHgsIHRoaXNfdmFsLCBhcmd2WzBdLCBhcmdjID4gMSA/IGFyZ3ZbMV0gOiBKU19OVUxMKTsKICBsd3Nfc2V0X2xvZ19sZXZlbCgoKHVuc2lnbmVkKW1pbm5ldF9sb2dfbGV2ZWwgJiAoKDF1IDw8IExMTF9DT1VOVCkgLSAxKSksIGx3c19sb2dfY2FsbGJhY2spOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKaGVhZGVyc19vYmplY3QoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqIHN0YXJ0LCBjb25zdCB2b2lkKiBlKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKICBzaXplX3QgbGVuLCBuYW1lbGVuLCBuOwogIGNvbnN0IHVpbnQ4X3QgKngsICplbmQ7CiAgZm9yKHggPSBzdGFydCwgZW5kID0gZTsgeCA8IGVuZDsgeCArPSBsZW4gKyAxKSB7CiAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgIGlmKGxlbiA+IChuID0gYnl0ZV9jaHIoeCwgbGVuLCAnOicpKSkgewogICAgICBjb25zdCBjaGFyKiBwcm9wID0gKG5hbWVsZW4gPSBuKSA/IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikgOiAwOwogICAgICBpZih4W25dID09ICc6JykKICAgICAgICBuKys7CiAgICAgIGlmKGlzc3BhY2UoeFtuXSkpCiAgICAgICAgbisrOwogICAgICBpZihwcm9wKSB7CiAgICAgICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIHJldCwgcHJvcCwgSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKSZ4W25dLCBsZW4gLSBuKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICAgICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXByb3ApOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmhlYWRlcnNfYXRvbShKU0F0b20gYXRvbSwgSlNDb250ZXh0KiBjdHgpIHsKICBjaGFyKiByZXQ7CiAgY29uc3QgY2hhciogc3RyID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIHNpemVfdCBsZW4gPSBzdHJsZW4oc3RyKTsKCiAgaWYoKHJldCA9IGpzX21hbGxvYyhjdHgsIGxlbiArIDIpKSkgewogICAgc3RyY3B5KHJldCwgc3RyKTsKICAgIHJldFtsZW5dID0gJzonOwogICAgcmV0W2xlbiArIDFdID0gJ1wwJzsKICB9CiAgcmV0dXJuIHJldDsKfQoKaW50CmhlYWRlcnNfYWRkKE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBzdHJ1Y3QgbHdzKiB3c2ksIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIG9iaiwgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSykpCiAgICByZXR1cm4gMDsKCiAgZm9yKGkgPSAwOyBpIDwgdGFiX2xlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIHRhYltpXS5hdG9tKTsKICAgIHNpemVfdCBsZW47CiAgICB2b2lkKiBwcm9wOwogICAgY29uc3Qgdm9pZCogc3RyOwogICAgaW50IHJldDsKCiAgICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgcHJvcCA9IGhlYWRlcnNfYXRvbSh0YWJbaV0uYXRvbSwgY3R4KTsKCiAgICByZXQgPSBsd3NfYWRkX2h0dHBfaGVhZGVyX2J5X25hbWUod3NpLCBwcm9wLCBzdHIsIGxlbiwgJmJ1ZmZlci0+d3JpdGUsIGJ1ZmZlci0+ZW5kKTsKCiAgICBqc19mcmVlKGN0eCwgcHJvcCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgaWYocmV0KQogICAgICByZXR1cm4gLTE7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gMDsKfQoKaW50CmhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqIGJ1ZmZlciwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNDb250ZXh0KiBjdHgpIHsKICBKU1Byb3BlcnR5RW51bSogdGFiOwogIHVpbnQzMl90IHRhYl9sZW4sIGk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUganN2YWwgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IHZhbHVlX2xlbiwgcHJvcF9sZW47CiAgICBjb25zdCBjaGFyICp2YWx1ZSwgKnByb3A7CgogICAgdmFsdWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmdmFsdWVfbGVuLCBqc3ZhbCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBqc3ZhbCk7CgogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CiAgICBwcm9wX2xlbiA9IHN0cmxlbihwcm9wKTsKCiAgICBidWZmZXJfZ3JvdyhidWZmZXIsIHByb3BfbGVuICsgMiArIHZhbHVlX2xlbiArIDIsIGN0eCk7CgogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgcHJvcCwgcHJvcF9sZW4pOwogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgIjogIiwgMik7CiAgICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVfbGVuKTsKICAgIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwogIH0KCiAganNfZnJlZShjdHgsIHRhYik7CiAgcmV0dXJuIGk7Cn0KCnNzaXplX3QKaGVhZGVyc19zZXQoSlNDb250ZXh0KiBjdHgsIE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBjb25zdCBjaGFyKiBuYW1lLCBjb25zdCBjaGFyKiB2YWx1ZSkgewogIHNpemVfdCBuYW1lbGVuID0gc3RybGVuKG5hbWUpLCB2YWx1ZWxlbiA9IHN0cmxlbih2YWx1ZSk7CiAgc2l6ZV90IGxlbiA9IG5hbWVsZW4gKyAyICsgdmFsdWVsZW4gKyAyOwoKICBidWZmZXJfZ3JvdyhidWZmZXIsIGxlbiwgY3R4KTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCBuYW1lLCBuYW1lbGVuKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCAiOiAiLCAyKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVsZW4pOwogIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogIHJldHVybiBsZW47Cn0KCmludApoZWFkZXJzX2dldChKU0NvbnRleHQqIGN0eCwgTWlubmV0QnVmZmVyKiBoZWFkZXJzLCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBpbnQgdG9rLCBsZW4sIGNvdW50ID0gMDsKCiAgaWYoIWhlYWRlcnMtPnN0YXJ0KQogICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogIGZvcih0b2sgPSBXU0lfVE9LRU5fSE9TVDsgdG9rIDwgV1NJX1RPS0VOX0NPVU5UOyB0b2srKykgewogICAgaWYodG9rID09IFdTSV9UT0tFTl9IVFRQIHx8IHRvayA9PSBXU0lfVE9LRU5fSFRUUF9VUklfQVJHUykKICAgICAgY29udGludWU7CgogICAgaWYoKGxlbiA9IGx3c19oZHJfdG90YWxfbGVuZ3RoKHdzaSwgdG9rKSkgPiAwKSB7CiAgICAgIGNoYXIgaGRyW2xlbiArIDFdOwogICAgICBjb25zdCBjaGFyKiBuYW1lOwoKICAgICAgaWYoKG5hbWUgPSAoY29uc3QgY2hhciopbHdzX3Rva2VuX3RvX3N0cmluZyh0b2spKSkgewogICAgICAgIGludCBuYW1lbGVuID0gYnl0ZV9jaHIobmFtZSwgc3RybGVuKG5hbWUpLCAnOicpOwogICAgICAgIGx3c19oZHJfY29weSh3c2ksIGhkciwgbGVuICsgMSwgdG9rKTsKICAgICAgICBoZHJbbGVuXSA9ICdcMCc7CgogICAgICAgIC8vIHByaW50ZigiaGVhZGVycyAlaSAlLipzICclcydcbiIsIHRvaywgbmFtZWxlbiwgbmFtZSwgaGRyKTsKCiAgICAgICAgaWYoIWhlYWRlcnMtPmFsbG9jKQogICAgICAgICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogICAgICAgIHdoaWxlKCFidWZmZXJfcHJpbnRmKGhlYWRlcnMsICIlLipzOiAlc1xuIiwgbmFtZWxlbiwgbmFtZSwgaGRyKSkgeyBidWZmZXJfZ3JvdyhoZWFkZXJzLCAxMDI0LCBjdHgpOyB9CiAgICAgICAgKytjb3VudDsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gY291bnQ7Cn0KCmludApmZF9oYW5kbGVyKHN0cnVjdCBsd3MqIHdzaSwgTWlubmV0Q2FsbGJhY2sqIGNiLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzIGFyZ3MpIHsKICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoY2ItPmN0eCwgYXJncy5mZCl9OwoKICBtaW5uZXRfaGFuZGxlcnMoY2ItPmN0eCwgd3NpLCBhcmdzLCAmYXJndlsxXSk7CiAgbWlubmV0X2VtaXQoY2IsIDMsIGFyZ3YpOwoKICBKU19GcmVlVmFsdWUoY2ItPmN0eCwgYXJndlswXSk7CiAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIGFyZ3ZbMV0pOwogIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBhcmd2WzJdKTsKICByZXR1cm4gMDsKfQoKaW50CmZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIE1pbm5ldENhbGxiYWNrKiBjYiwgc3RydWN0IGx3c19wb2xsYXJncyogYXJncykgewoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogcmV0dXJuIDA7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQ6IHsKCiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBmZF9oYW5kbGVyKHdzaSwgY2IsICphcmdzKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CgogICAgICBpZihjYi0+Y3R4KSB7CiAgICAgICAgZmRfaGFuZGxlcih3c2ksIGNiLCAqYXJncyk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiB7CiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBpZihhcmdzLT5ldmVudHMgIT0gYXJncy0+cHJldl9ldmVudHMpIHsKICAgICAgICAgIGZkX2hhbmRsZXIod3NpLCBjYiwgKmFyZ3MpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9Cn0KCnN0YXRpYyBjb25zdCBjaGFyKgppb19ldmVudHMoaW50IGV2ZW50cykgewogIHN3aXRjaChldmVudHMpIHsKICAgIGNhc2UgUE9MTE9VVCB8IFBPTExIVVA6IHJldHVybiAiT1VUfEhVUCI7CiAgICBjYXNlIFBPTExJTiB8IFBPTExPVVQgfCBQT0xMSFVQIHwgUE9MTEVSUjogcmV0dXJuICJJTnxPVVR8SFVQfEVSUiI7CiAgICBjYXNlIFBPTExPVVQgfCBQT0xMSFVQIHwgUE9MTEVSUjogcmV0dXJuICJPVVR8SFVQfEVSUiI7CiAgICBjYXNlIFBPTExJTiB8IFBPTExPVVQ6IHJldHVybiAiSU58T1VUIjsKICAgIGNhc2UgUE9MTElOOiByZXR1cm4gIklOIjsKICAgIGNhc2UgUE9MTE9VVDogcmV0dXJuICJPVVQiOwogIH0KICBhc3NlcnQoIWV2ZW50cyk7CiAgcmV0dXJuICIiOwp9CgovKnN0YXRpYyBpbnQKaW9fcGFyc2VfZXZlbnRzKGNvbnN0IGNoYXIqIHN0cikgewogIGludCBldmVudHMgPSAwOwoKICBpZihzdHJzdHIoc3RyLCAiSU4iKSkKICAgIGV2ZW50cyB8PSBQT0xMSU47CiAgaWYoc3Ryc3RyKHN0ciwgIk9VVCIpKQogICAgZXZlbnRzIHw9IFBPTExPVVQ7CiAgaWYoc3Ryc3RyKHN0ciwgIkhVUCIpKQogICAgZXZlbnRzIHw9IFBPTExIVVA7CiAgaWYoc3Ryc3RyKHN0ciwgIkVSUiIpKQogICAgZXZlbnRzIHw9IFBPTExFUlI7CiAgcmV0dXJuIGV2ZW50czsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfaW9faGFuZGxlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCB2b2lkKiBwdHIpIHsKICBzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKiBjbG9zdXJlID0gcHRyOwogIHN0cnVjdCBwb2xsZmQqIHA7CiAgaW50MzJfdCB3cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YShjbG9zdXJlLT5sd3NpKTsKICBpZighb3BhcXVlKSBvcGFxdWU9Y2xvc3VyZS0+b3BhcXVlOwoKICBhc3NlcnQoY2xvc3VyZS0+b3BhcXVlKTsKICBwID0gJmNsb3N1cmUtPm9wYXF1ZS0+cG9sbDsKCiAgSlNfVG9JbnQzMihjdHgsICZ3ciwgYXJndlswXSk7CgogIHAtPnJldmVudHMgPSBtYWdpYyAmICh3ciA9PSBXUklURV9IQU5ETEVSID8gUE9MTE9VVCA6IFBPTExJTik7CgogIGlmKChwLT5yZXZlbnRzICYgUElPKSAhPSBtYWdpYykgewogICAgaWYocG9sbChwLCAxLCAwKSA8IDApCiAgICAgIGx3c2xfZXJyKCJwb2xsIGVycm9yOiAlc1xuIiwgc3RyZXJyb3IoZXJybm8pKTsKICB9CgogIGlmKHAtPnJldmVudHMgJiBQSU8pIHsKICAgIHN0cnVjdCBsd3NfcG9sbGZkIHggPSB7cC0+ZmQsIG1hZ2ljLCBwLT5yZXZlbnRzICYgUElPfTsKCiAgICBpZihwLT5yZXZlbnRzICYgKFBPTExFUlIgfCBQT0xMSFVQKSkKICAgICAgY2xvc3VyZS0+b3BhcXVlLT5lcnJvciA9IGVycm5vOwoKICAgIC8vIGVycm5vID0gMDsKICAgIC8vCiAgICBwcmludGYoIiVzOiBmZD0lZCByZXZlbnRzPSVzIHdzPSVwIG9wYXF1ZT0lcFxuIiwgX19mdW5jX18sIHguZmQsIGlvX2V2ZW50cyh4LnJldmVudHMpLCBvcGFxdWUtPndzLCBvcGFxdWUpOwoKICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbHdzX3NlcnZpY2VfZmQobHdzX2dldF9jb250ZXh0KGNsb3N1cmUtPmx3c2kpLCAmeCkpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIHZvaWQKZnJlZV9oYW5kbGVyX2Nsb3N1cmUodm9pZCogcHRyKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmN0eDsKICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7Cn07CgpzdGF0aWMgSlNWYWx1ZQptYWtlX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIGludCBmZCwgaW50IGV2ZW50cywgc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgKmNsb3N1cmUgPSAoc3RydWN0IGhhbmRsZXJfY2xvc3VyZSl7Y3R4LCB3c2ksIGx3c19vcGFxdWUod3NpLCAwLCBjdHgpfTsKCiAgY2xvc3VyZS0+b3BhcXVlLT5wb2xsID0gKHN0cnVjdCBwb2xsZmQpe2ZkLCBldmVudHMsIDB9OwoKICByZXR1cm4gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBtaW5uZXRfaW9faGFuZGxlciwgMSwgZXZlbnRzLCBjbG9zdXJlLCBmcmVlX2hhbmRsZXJfY2xvc3VyZSk7Cn0KCkpTVmFsdWUKbWlubmV0X2dldF9zZXNzaW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQ7CiAgdWludDMyX3QgaSA9IDA7CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIGxpc3RfZm9yX2VhY2goZWwsICZtaW5uZXRfc29ja2V0cykgewogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBzZXNzaW9uID0gbGlzdF9lbnRyeShlbCwgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhLCBsaW5rKTsKICAgIC8vIHByaW50ZigiJXMgQCV1ICMlaSAlcFxuIiwgX19mdW5jX18sIGksIHNlc3Npb24tPnNlcmlhbCwgc2Vzc2lvbik7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgc2Vzc2lvbl9vYmplY3Qoc2Vzc2lvbiwgY3R4KSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnZvaWQKbWlubmV0X2hhbmRsZXJzKEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBsd3NfcG9sbGFyZ3MgYXJncywgSlNWYWx1ZSBvdXRbMl0pIHsKICBKU1ZhbHVlIGZ1bmM7CiAgaW50IGV2ZW50cyA9IGFyZ3MuZXZlbnRzICYgKFBPTExJTiB8IFBPTExPVVQpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSpvcGFxdWUgPWx3c19vcGFxdWUod3NpLCBjdHgpOwoKICBpZihldmVudHMpCiAgICBmdW5jID0gbWFrZV9oYW5kbGVyKGN0eCwgYXJncy5mZCwgZXZlbnRzLCB3c2kpOwoKICBvdXRbMF0gPSAoZXZlbnRzICYgUE9MTElOKSA/IGpzX2Z1bmN0aW9uX2JpbmRfMShjdHgsIGZ1bmMsIEpTX05ld0ludDMyKGN0eCwgUkVBRF9IQU5ETEVSKSkgOiBKU19OVUxMOwogIG91dFsxXSA9IChldmVudHMgJiBQT0xMT1VUKSA/IGpzX2Z1bmN0aW9uX2JpbmRfMShjdHgsIGZ1bmMsIEpTX05ld0ludDMyKGN0eCwgV1JJVEVfSEFORExFUikpIDogSlNfTlVMTDsKCiAgaWYoZXZlbnRzKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuYyk7Cn0KCkpTVmFsdWUKbWlubmV0X2VtaXRfdGhpcyhjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqIGNiLCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosIGludCBhcmdjLCBKU1ZhbHVlKiBhcmd2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGNiLT5jdHgpIHsKICAgIHNpemVfdCBsZW47CiAgICBjb25zdCBjaGFyKiBzdHI7CiAgICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY2ItPmN0eCwgJmxlbiwgY2ItPmZ1bmNfb2JqKTsKICAgIC8vIHByaW50ZigiZW1pdCAlcyBbJWRdIFwiJS4qc1wiXG4iLCBjYi0+bmFtZSwgYXJnYywgKGludCkoKGNvbnN0IGNoYXIqKW1lbWNocihzdHIsICd7JywgbGVuKSAtIHN0ciksIHN0cik7CiAgICBKU19GcmVlQ1N0cmluZyhjYi0+Y3R4LCBzdHIpOwoKICAgIHJldCA9IEpTX0NhbGwoY2ItPmN0eCwgY2ItPmZ1bmNfb2JqLCB0aGlzX29iaiwgYXJnYywgYXJndik7CiAgfQoKICAvKmlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICBtaW5uZXRfZXhjZXB0aW9uID0gVFJVRTsgKi8KCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqIGNiLCBpbnQgYXJnYywgSlNWYWx1ZSogYXJndikgewogIHJldHVybiBtaW5uZXRfZW1pdF90aGlzKGNiLCBjYi0+dGhpc19vYmogLyogPyAqY2ItPnRoaXNfb2JqIDogSlNfTlVMTCovLCBhcmdjLCBhcmd2KTsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9sb2dsZXZlbHNbXSA9IHsKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMSwgIkVSUiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigyLCAiV0FSTiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig0LCAiTk9USUNFIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDgsICJJTkZPIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDE2LCAiREVCVUciKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMzIsICJQQVJTRVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNjQsICJIRUFERVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMTI4LCAiRVhUIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDI1NiwgIkNMSUVOVCIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig1MTIsICJMQVRFTkNZIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDEwMjQsICJVU0VSIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDIwNDgsICJUSFJFQUQiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNDA5NSwgIkFMTCIpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJzZXJ2ZXIiLCAxLCBtaW5uZXRfc2VydmVyKSwKICAgIEpTX0NGVU5DX0RFRigiY2xpZW50IiwgMSwgbWlubmV0X2NsaWVudCksCiAgICBKU19DRlVOQ19ERUYoImZldGNoIiwgMSwgbWlubmV0X2ZldGNoKSwKICAgIEpTX0NGVU5DX1NQRUNJQUxfREVGKCJzb2NrZXQiLCAxLCBjb25zdHJ1Y3RvciwgbWlubmV0X3dzX2NvbnN0cnVjdG9yKSwKICAgIEpTX0NGVU5DX1NQRUNJQUxfREVGKCJ1cmwiLCAxLCBjb25zdHJ1Y3RvciwgbWlubmV0X3VybF9jb25zdHJ1Y3RvciksCiAgICAvLyBKU19DR0VUU0VUX0RFRigibG9nIiwgZ2V0X2xvZywgc2V0X2xvZyksCiAgICAvLyBKU19DR0VUU0VUX0RFRigic2Vzc2lvbnMiLCBtaW5uZXRfZ2V0X3Nlc3Npb25zLCAwKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0U2Vzc2lvbnMiLCAwLCBtaW5uZXRfZ2V0X3Nlc3Npb25zKSwKICAgIEpTX0NGVU5DX0RFRigic2V0TG9nIiwgMSwgbWlubmV0X3NldF9sb2cpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9HRVQiLCBNRVRIT0RfR0VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUE9TVCIsIE1FVEhPRF9QT1NULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfT1BUSU9OUyIsIE1FVEhPRF9PUFRJT05TLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUFVUIiwgTUVUSE9EX1BVVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX1BBVENIIiwgTUVUSE9EX1BBVENILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfREVMRVRFIiwgTUVUSE9EX0RFTEVURSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0NPTk5FQ1QiLCBNRVRIT0RfQ09OTkVDVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0hFQUQiLCBNRVRIT0RfSEVBRCwgMCksCgogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9FUlIiLCBMTExfRVJSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfV0FSTiIsIExMTF9XQVJOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfTk9USUNFIiwgTExMX05PVElDRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0lORk8iLCBMTExfSU5GTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0RFQlVHIiwgTExMX0RFQlVHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfUEFSU0VSIiwgTExMX1BBUlNFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0hFQURFUiIsIExMTF9IRUFERVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9FWFQiLCBMTExfRVhULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfQ0xJRU5UIiwgTExMX0NMSUVOVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0xBVEVOQ1kiLCBMTExfTEFURU5DWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX1VTRVIiLCBMTExfVVNFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX1RIUkVBRCIsIExMTF9USFJFQUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9BTEwiLCB+KCh+MHUpIDw8IExMTF9DT1VOVCksIDApLAogICAgSlNfT0JKRUNUX0RFRigibG9nTGV2ZWxzIiwgbWlubmV0X2xvZ2xldmVscywgY291bnRvZihtaW5uZXRfbG9nbGV2ZWxzKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKdm9pZAp2YWx1ZV9kdW1wKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuLCBKU1ZhbHVlQ29uc3QgY29uc3QqIHYpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCAqdik7CiAgbHdzbF91c2VyKCIlcyA9ICclcydcbiIsIG4sIHN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwp9CgpzdGF0aWMgaW50CmpzX21pbm5ldF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIC8qICBtaW5uZXRfbG9nX2NiID0gSlNfVU5ERUZJTkVEOwogICAgbWlubmV0X2xvZ190aGlzID0gSlNfVU5ERUZJTkVEOyovCgogIGluaXRfbGlzdF9oZWFkKCZtaW5uZXRfc29ja2V0cyk7CgogIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBtaW5uZXRfZnVuY3MsIGNvdW50b2YobWlubmV0X2Z1bmNzKSk7CgogIC8vIEFkZCBjbGFzcyBSZXNwb25zZQogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQsICZtaW5uZXRfcmVzcG9uc2VfY2xhc3MpOwoKICBtaW5uZXRfcmVzcG9uc2VfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXNwb25zZV9wcm90bywgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgbWlubmV0X3Jlc3BvbnNlX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yLCAiTWlubmV0UmVzcG9uc2UiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY3RvciwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXNwb25zZSIsIG1pbm5ldF9yZXNwb25zZV9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFJlcXVlc3QKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQsICZtaW5uZXRfcmVxdWVzdF9jbGFzcyk7CiAgbWlubmV0X3JlcXVlc3RfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jcywgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkLCBtaW5uZXRfcmVxdWVzdF9wcm90byk7CgogIG1pbm5ldF9yZXF1ZXN0X2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IsICJNaW5uZXRSZXF1ZXN0IiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3JlcXVlc3RfY3RvciwgbWlubmV0X3JlcXVlc3RfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlcXVlc3QiLCBtaW5uZXRfcmVxdWVzdF9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFN0cmVhbQogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkKTsKCiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCwgJm1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzKTsKICBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwgbWlubmV0X3JpbmdidWZmZXJfY2xhc3NfaWQsIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvKTsKCiAgbWlubmV0X3JpbmdidWZmZXJfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvciwgIk1pbm5ldFJpbmdCdWZmZXIiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9jdG9yLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90byk7CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU3RyZWFtIiwgbWlubmV0X3JpbmdidWZmZXJfY3Rvcik7CgogIC8vIEFkZCBjbGFzcyBVUkwKICBtaW5uZXRfdXJsX2luaXQoY3R4LCBtKTsKCiAgLy8gQWRkIGNsYXNzIFdlYlNvY2tldAogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF93c19jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfd3NfY2xhc3NfaWQsICZtaW5uZXRfd3NfY2xhc3MpOwogIG1pbm5ldF93c19wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfcHJvdG9fZnVuY3MsIG1pbm5ldF93c19wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBtaW5uZXRfd3NfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfd3NfY29uc3RydWN0b3IsICJNaW5uZXRXZWJzb2NrZXQiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3N0YXRpY19mdW5jcywgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplKTsKCiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvKTsKCiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNvY2tldCIsIG1pbm5ldF93c19jdG9yKTsKCiAgewogICAgSlNWYWx1ZSBtaW5uZXRfZGVmYXVsdCA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfZGVmYXVsdCwgbWlubmV0X2Z1bmNzLCBjb3VudG9mKG1pbm5ldF9mdW5jcykpOwogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgImRlZmF1bHQiLCBtaW5uZXRfZGVmYXVsdCk7CiAgfQoKICByZXR1cm4gMDsKfQoKX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX21pbm5ldF9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXNwb25zZSIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXF1ZXN0Iik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN0cmVhbSIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTb2NrZXQiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVVJMIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgImRlZmF1bHQiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwgbWlubmV0X2Z1bmNzLCBjb3VudG9mKG1pbm5ldF9mdW5jcykpOwoKICBtaW5uZXRfbG9nX2N0eCA9IGN0eDsKCiAgbHdzX3NldF9sb2dfbGV2ZWwobWlubmV0X2xvZ19sZXZlbCwgbHdzX2xvZ19jYWxsYmFjayk7CgogIHJldHVybiBtOwp9Cgpjb25zdCBjaGFyKgpsd3NfY2FsbGJhY2tfbmFtZShpbnQgcmVhc29uKSB7CiAgcmV0dXJuICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0giLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9FU1RBQkxJU0hFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xPU0VEIiwKICAgICAgIkxXU19DQUxMQkFDS19DTE9TRURfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkVfUE9ORyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0JPRFlfQ09NUExFVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9GSUxFX0NPTVBMRVRJT04iLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19GSUxURVJfTkVUV09SS19DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19GSUxURVJfSFRUUF9DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQiLAogICAgICAiTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMiLAogICAgICAiTFdTX0NBTExCQUNLX09QRU5TU0xfUEVSRk9STV9DTElFTlRfQ0VSVF9WRVJJRklDQVRJT04iLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ09ORklSTV9FWFRFTlNJT05fT0tBWSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTkZJUk1fRVhURU5TSU9OX1NVUFBPUlRFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1kiLAogICAgICAiTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQiLAogICAgICAiTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEIiwKICAgICAgIkxXU19DQUxMQkFDS19ERUxfUE9MTF9GRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0hBTkdFX01PREVfUE9MTF9GRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfTE9DS19QT0xMIiwKICAgICAgIkxXU19DQUxMQkFDS19VTkxPQ0tfUE9MTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9DT05URVhUX1JFUVVJUkVTX1BSSVZBVEVfS0VZIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfRVhUX0RFRkFVTFRTIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0kiLAogICAgICAiTFdTX0NBTExCQUNLX0NHSV9URVJNSU5BVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0lfU1RESU5fREFUQSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0dJX1NURElOX0NPTVBMRVRFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRURfQ0xJRU5UX0hUVFAiLAogICAgICAiTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQX1JFQUQiLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19DSEVDS19BQ0NFU1NfUklHSFRTIiwKICAgICAgIkxXU19DQUxMQkFDS19QUk9DRVNTX0hUTUwiLAogICAgICAiTFdTX0NBTExCQUNLX0FERF9IRUFERVJTIiwKICAgICAgIkxXU19DQUxMQkFDS19TRVNTSU9OX0lORk8iLAogICAgICAiTFdTX0NBTExCQUNLX0dTX0VWRU5UIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX1BNTyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX1BFUkZPUk1fU0VSVkVSX0NFUlRfVkVSSUZJQ0FUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQURPUFRfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1JYX0ZJTEUiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19XUklURUFCTEVfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFX0ZJTEUiLAogICAgICAiTFdTX0NBTExCQUNLX1NTTF9JTkZPIiwKICAgICAgMCwKICAgICAgIkxXU19DQUxMQkFDS19DSElMRF9DTE9TSU5HIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0lfUFJPQ0VTU19BVFRBQ0giLAogICAgICAiTFdTX0NBTExCQUNLX0VWRU5UX1dBSVRfQ0FOQ0VMTEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19WSE9TVF9DRVJUX0FHSU5HIiwKICAgICAgIkxXU19DQUxMQkFDS19USU1FUiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfVkhPU1RfQ0VSVF9VUERBVEUiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19TRVJWRVJfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19TS1RfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0ZJTEVfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0ZJTEVfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9DT05GSVJNX1VQR1JBREUiLAogICAgICAwLAogICAgICAwLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfQ0xPU0UiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfQ0xPU0UiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9BRE9QVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9BRE9QVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19WRVJJRllfQkFTSUNfQVVUSE9SSVpBVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX1RYX0NSRURJVF9HRVQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUIiwKICAgICAgIkxXU19DQUxMQkFDS19DT05ORUNUSU5HIiwKICB9KVtyZWFzb25dOwp9CgAAAAAAAAAA4GUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADjMAAAAAAAAOMwAAAAAAAAAAAAAAAPC/"
				],
				[
					748,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADgZQAAI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXF1ZXN0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVzcG9uc2UuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yaW5nYnVmZmVyLmgiCiNpbmNsdWRlICJqc3V0aWxzLmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGVycm5vLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzeXMvdGltZS5oPgoKLyojaWZkZWYgX1dJTjMyCiNpbmNsdWRlICJwb2xsLmgiCiNlbmRpZiovCgojaWZuZGVmIFBPTExJTgojZGVmaW5lIFBPTExJTiAxCiNlbmRpZgojaWZuZGVmIFBPTExPVVQKI2RlZmluZSBQT0xMT1VUIDQKI2VuZGlmCiNpZm5kZWYgUE9MTEVSUgojZGVmaW5lIFBPTExFUlIgOAojZW5kaWYKI2lmbmRlZiBQT0xMSFVQCiNkZWZpbmUgUE9MTEhVUCAxNgojZW5kaWYKLyoKI2lmZGVmIEpTX1NIQVJFRF9MSUJSQVJZCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9taW5uZXQKI2VuZGlmCiovCiNkZWZpbmUgUElPIChQT0xMSU4gfCBQT0xMT1VUIHwgUE9MTEVSUikKCnN0cnVjdCBoYW5kbGVyX2Nsb3N1cmUgewogIEpTQ29udGV4dCogY3R4OwogIHN0cnVjdCBsd3MqIGx3c2k7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7Cn07CgpKU1ZhbHVlIG1pbm5ldF9mZXRjaChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0Kik7CgovLyBUSFJFQURfTE9DQUwgc3RydWN0IGx3c19jb250ZXh0KiBtaW5uZXRfbHdzX2NvbnRleHQgPSAwOwoKc3RhdGljIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF9sb2dfY2IsIG1pbm5ldF9sb2dfdGhpczsKVEhSRUFEX0xPQ0FMIGludDMyX3QgbWlubmV0X2xvZ19sZXZlbCA9IDA7ClRIUkVBRF9MT0NBTCBKU0NvbnRleHQqIG1pbm5ldF9sb2dfY3R4ID0gMDsKVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHMgPSB7MCwgMH07CnN0YXRpYyBUSFJFQURfTE9DQUwgdWludDMyX3Qgc2Vzc2lvbl9zZXJpYWwgPSAwOwovLyBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uID0gRkFMU0U7CgppbnQKc29ja2V0X2dldGVycm9yKGludCBmZCkgewogIGludCBlOwogIHNvY2tsZW5fdCBzbCA9IHNpemVvZihlKTsKCiAgaWYoIWdldHNvY2tvcHQoZmQsIFNPTF9TT0NLRVQsIFNPX0VSUk9SLCAmZSwgJnNsKSkgewogICAgc2V0c29ja29wdChmZCwgU09MX1NPQ0tFVCwgU09fRVJST1IsICZlLCBzbCk7CiAgICByZXR1cm4gZTsKICB9CgogIHJldHVybiAtMTsKfQoKdm9pZApzZXNzaW9uX3plcm8oTWlubmV0U2Vzc2lvbiogc2Vzc2lvbikgewogIG1lbXNldChzZXNzaW9uLCAwLCBzaXplb2YoTWlubmV0U2Vzc2lvbikpOwogIHNlc3Npb24tPnNlcmlhbCA9IC0xOwogIHNlc3Npb24tPndzX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVxX29iaiA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+cmVzcF9vYmogPSBKU19OVUxMOwogIHNlc3Npb24tPmdlbmVyYXRvciA9IEpTX05VTEw7CiAgc2Vzc2lvbi0+bmV4dCA9IEpTX05VTEw7CgogIHNlc3Npb24tPnNlcmlhbCA9ICsrc2Vzc2lvbl9zZXJpYWw7CgogIC8vIGxpc3RfYWRkKCZzZXNzaW9uLT5saW5rLCAmbWlubmV0X3Nlc3Npb25zKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9Cgp2b2lkCnNlc3Npb25fY2xlYXIoTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiwgSlNDb250ZXh0KiBjdHgpIHsKICAvLyBsaXN0X2RlbCgmc2Vzc2lvbi0+bGluayk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPndzX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVxX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+cmVzcF9vYmopOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNlc3Npb24tPmdlbmVyYXRvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc2Vzc2lvbi0+bmV4dCk7CgogIGJ1ZmZlcl9mcmVlKCZzZXNzaW9uLT5zZW5kX2J1ZiwgSlNfR2V0UnVudGltZShjdHgpKTsKCiAgLy8gcHJpbnRmKCIlcyAjJWkgJXBcbiIsIF9fZnVuY19fLCBzZXNzaW9uLT5zZXJpYWwsIHNlc3Npb24pOwp9CgpKU1ZhbHVlCnNlc3Npb25fb2JqZWN0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlLCBKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgcmV0OwogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBvcGFxdWUtPnNlcmlhbCA/IEpTX05ld0ludDMyKGN0eCwgb3BhcXVlLT5zZXJpYWwpIDogSlNfTlVMTCk7CgogIGlmKG9wYXF1ZS0+c2VzcykgewogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT53c19vYmopKTsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAyLCBKU19EdXBWYWx1ZShjdHgsIG9wYXF1ZS0+c2Vzcy0+cmVxX29iaikpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX0R1cFZhbHVlKGN0eCwgb3BhcXVlLT5zZXNzLT5yZXNwX29iaikpOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmNvbnRleHRfZXhjZXB0aW9uKE1pbm5ldENvbnRleHQqIGNvbnRleHQsIEpTVmFsdWUgcmV0dmFsKSB7CiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0dmFsKSkgewogICAgY29udGV4dC0+ZXhjZXB0aW9uID0gVFJVRTsKICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKGNvbnRleHQtPmpzKTsKICAgIEpTVmFsdWUgc3RhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjb250ZXh0LT5qcywgZXhjZXB0aW9uLCAic3RhY2siKTsKICAgIGNvbnN0IGNoYXIqIGVyciA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgZXhjZXB0aW9uKTsKICAgIGNvbnN0IGNoYXIqIHN0ayA9IEpTX1RvQ1N0cmluZyhjb250ZXh0LT5qcywgc3RhY2spOwogICAgLy8gcHJpbnRmKCJHb3QgZXhjZXB0aW9uOiAlc1xuJXNcbiIsIGVyciwgc3RrKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGNvbnRleHQtPmpzLCBlcnIpOwogICAgSlNfRnJlZUNTdHJpbmcoY29udGV4dC0+anMsIHN0ayk7CiAgICBKU19GcmVlVmFsdWUoY29udGV4dC0+anMsIHN0YWNrKTsKICAgIEpTX1Rocm93KGNvbnRleHQtPmpzLCBleGNlcHRpb24pOwogIH0KCiAgcmV0dXJuIGNvbnRleHQtPmV4Y2VwdGlvbjsKfQoKdm9pZApjb250ZXh0X2NsZWFyKE1pbm5ldENvbnRleHQqIGNvbnRleHQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNvbnRleHQtPmpzOwoKICBsd3NfY29udGV4dF9kZXN0cm95KGNvbnRleHQtPmx3cyk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmNydCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY29udGV4dC0+a2V5KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjb250ZXh0LT5jYSk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNvbnRleHQtPmVycm9yKTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRDbG9zdXJlKiBjbG9zdXJlOwoKICBpZigoY2xvc3VyZSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0Q2xvc3VyZSkpKSkKICAgIGNsb3N1cmUtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiBjbG9zdXJlOwp9CgpNaW5uZXRDbG9zdXJlKgpjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKiBjKSB7CiAgKytjLT5yZWZfY291bnQ7CiAgcmV0dXJuIGM7Cn0KCnZvaWQKY2xvc3VyZV9mcmVlKHZvaWQqIHB0cikgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPnNlcnZlcikgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNvbnRleHQtPmpzOwogICAgICAvLyBwcmludGYoIiVzIHNlcnZlcj0lcFxuIiwgX19mdW5jX18sIGNsb3N1cmUtPnNlcnZlcik7CiAgICAgIGlmKGNsb3N1cmUtPmZyZWVfZnVuYykKICAgICAgICBjbG9zdXJlLT5mcmVlX2Z1bmMoY2xvc3VyZS0+Y29udGV4dCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgpzdGF0aWMgdm9pZApsd3NfbG9nX2NhbGxiYWNrKGludCBsZXZlbCwgY29uc3QgY2hhciogbGluZSkgewogIGlmKG1pbm5ldF9sb2dfY3R4KSB7CiAgICBpZihKU19Jc0Z1bmN0aW9uKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiKSkgewogICAgICBzaXplX3QgbiA9IDAsIGxlbiA9IHN0cmxlbihsaW5lKTsKCiAgICAgIGlmKGxlbiA+IDAgJiYgbGluZVswXSA9PSAnWycpIHsKICAgICAgICBpZigobiA9IGJ5dGVfY2hyKGxpbmUsIGxlbiwgJ10nKSkgPCBsZW4pCiAgICAgICAgICBuKys7CiAgICAgICAgd2hpbGUobiA8IGxlbiAmJiBpc3NwYWNlKGxpbmVbbl0pKSBuKys7CiAgICAgICAgaWYobiArIDEgPCBsZW4gJiYgbGluZVtuICsgMV0gPT0gJzonKQogICAgICAgICAgbiArPSAyOwogICAgICAgIHdoaWxlKG4gPCBsZW4gJiYgKGlzc3BhY2UobGluZVtuXSkgfHwgbGluZVtuXSA9PSAnLScpKSBuKys7CiAgICAgIH0KICAgICAgaWYobGVuID4gMCAmJiBsaW5lW2xlbiAtIDFdID09ICdcbicpCiAgICAgICAgbGVuLS07CgogICAgICBKU1ZhbHVlQ29uc3QgYXJndlsyXSA9IHsKICAgICAgICAgIEpTX05ld0ludDMyKG1pbm5ldF9sb2dfY3R4LCBsZXZlbCksCiAgICAgICAgICBKU19OZXdTdHJpbmdMZW4obWlubmV0X2xvZ19jdHgsIGxpbmUgKyBuLCBsZW4gLSBuKSwKICAgICAgfTsKICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKG1pbm5ldF9sb2dfY3R4LCBtaW5uZXRfbG9nX2NiLCBtaW5uZXRfbG9nX3RoaXMsIDIsIGFyZ3YpOwoKICAgICAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkgewogICAgICAgIEpTVmFsdWUgZXhjZXB0aW9uID0gSlNfR2V0RXhjZXB0aW9uKG1pbm5ldF9sb2dfY3R4KTsKICAgICAgICBKU19GcmVlVmFsdWUobWlubmV0X2xvZ19jdHgsIGV4Y2VwdGlvbik7CiAgICAgIH0KCiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlswXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgYXJndlsxXSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShtaW5uZXRfbG9nX2N0eCwgcmV0KTsKICAgIH0gZWxzZSB7CiAgICAgIGpzX2NvbnNvbGVfbG9nKG1pbm5ldF9sb2dfY3R4LCAmbWlubmV0X2xvZ190aGlzLCAmbWlubmV0X2xvZ19jYik7CiAgICB9CiAgfQp9CgppbnQKbWlubmV0X2x3c191bmhhbmRsZWQoY29uc3QgY2hhciogaGFuZGxlciwgaW50IHJlYXNvbikgewogIGx3c2xfd2FybigiVW5oYW5kbGVkIFx4MWJbMTszMW0lc1x4MWJbMG0gZXZlbnQ6ICVpICVzXG4iLCBoYW5kbGVyLCByZWFzb24sIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikpOwogIGFzc2VydCgwKTsKICByZXR1cm4gLTE7Cn0KCi8qc3RhdGljIEpTVmFsdWUKZ2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X2xvZ19jYik7Cn0qLwoKc3RhdGljIEpTVmFsdWUKc2V0X2xvZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEpTVmFsdWVDb25zdCB0aGlzT2JqKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfY2IpID09IDAgPyBKU19VTkRFRklORUQgOiBtaW5uZXRfbG9nX2NiOwoKICBtaW5uZXRfbG9nX2N0eCA9IGN0eDsKICBtaW5uZXRfbG9nX2NiID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChtaW5uZXRfbG9nX3RoaXMpICYmICFKU19Jc051bGwobWlubmV0X2xvZ190aGlzKSAmJiBKU19WQUxVRV9HRVRfVEFHKG1pbm5ldF9sb2dfdGhpcykgIT0gMCkKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1pbm5ldF9sb2dfdGhpcyk7CgogIG1pbm5ldF9sb2dfdGhpcyA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc09iaik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9zZXRfbG9nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJm1pbm5ldF9sb2dfbGV2ZWwsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgcmV0ID0gc2V0X2xvZyhjdHgsIHRoaXNfdmFsLCBhcmd2WzBdLCBhcmdjID4gMSA/IGFyZ3ZbMV0gOiBKU19OVUxMKTsKICBsd3Nfc2V0X2xvZ19sZXZlbCgoKHVuc2lnbmVkKW1pbm5ldF9sb2dfbGV2ZWwgJiAoKDF1IDw8IExMTF9DT1VOVCkgLSAxKSksIGx3c19sb2dfY2FsbGJhY2spOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKaGVhZGVyc19vYmplY3QoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqIHN0YXJ0LCBjb25zdCB2b2lkKiBlKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKICBzaXplX3QgbGVuLCBuYW1lbGVuLCBuOwogIGNvbnN0IHVpbnQ4X3QgKngsICplbmQ7CiAgZm9yKHggPSBzdGFydCwgZW5kID0gZTsgeCA8IGVuZDsgeCArPSBsZW4gKyAxKSB7CiAgICBsZW4gPSBieXRlX2NocnMoeCwgZW5kIC0geCwgIlxyXG4iLCAyKTsKICAgIGlmKGxlbiA+IChuID0gYnl0ZV9jaHIoeCwgbGVuLCAnOicpKSkgewogICAgICBjb25zdCBjaGFyKiBwcm9wID0gKG5hbWVsZW4gPSBuKSA/IGpzX3N0cm5kdXAoY3R4LCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikgOiAwOwogICAgICBpZih4W25dID09ICc6JykKICAgICAgICBuKys7CiAgICAgIGlmKGlzc3BhY2UoeFtuXSkpCiAgICAgICAgbisrOwogICAgICBpZihwcm9wKSB7CiAgICAgICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIHJldCwgcHJvcCwgSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKSZ4W25dLCBsZW4gLSBuKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICAgICAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXByb3ApOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmhlYWRlcnNfYXRvbShKU0F0b20gYXRvbSwgSlNDb250ZXh0KiBjdHgpIHsKICBjaGFyKiByZXQ7CiAgY29uc3QgY2hhciogc3RyID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIHNpemVfdCBsZW4gPSBzdHJsZW4oc3RyKTsKCiAgaWYoKHJldCA9IGpzX21hbGxvYyhjdHgsIGxlbiArIDIpKSkgewogICAgc3RyY3B5KHJldCwgc3RyKTsKICAgIHJldFtsZW5dID0gJzonOwogICAgcmV0W2xlbiArIDFdID0gJ1wwJzsKICB9CiAgcmV0dXJuIHJldDsKfQoKaW50CmhlYWRlcnNfYWRkKE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBzdHJ1Y3QgbHdzKiB3c2ksIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIG9iaiwgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSykpCiAgICByZXR1cm4gMDsKCiAgZm9yKGkgPSAwOyBpIDwgdGFiX2xlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIHRhYltpXS5hdG9tKTsKICAgIHNpemVfdCBsZW47CiAgICB2b2lkKiBwcm9wOwogICAgY29uc3Qgdm9pZCogc3RyOwogICAgaW50IHJldDsKCiAgICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgcHJvcCA9IGhlYWRlcnNfYXRvbSh0YWJbaV0uYXRvbSwgY3R4KTsKCiAgICByZXQgPSBsd3NfYWRkX2h0dHBfaGVhZGVyX2J5X25hbWUod3NpLCBwcm9wLCBzdHIsIGxlbiwgJmJ1ZmZlci0+d3JpdGUsIGJ1ZmZlci0+ZW5kKTsKCiAgICBqc19mcmVlKGN0eCwgcHJvcCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgaWYocmV0KQogICAgICByZXR1cm4gLTE7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gMDsKfQoKaW50CmhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqIGJ1ZmZlciwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNDb250ZXh0KiBjdHgpIHsKICBKU1Byb3BlcnR5RW51bSogdGFiOwogIHVpbnQzMl90IHRhYl9sZW4sIGk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUganN2YWwgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IHZhbHVlX2xlbiwgcHJvcF9sZW47CiAgICBjb25zdCBjaGFyICp2YWx1ZSwgKnByb3A7CgogICAgdmFsdWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmdmFsdWVfbGVuLCBqc3ZhbCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBqc3ZhbCk7CgogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CiAgICBwcm9wX2xlbiA9IHN0cmxlbihwcm9wKTsKCiAgICBidWZmZXJfZ3JvdyhidWZmZXIsIHByb3BfbGVuICsgMiArIHZhbHVlX2xlbiArIDIsIGN0eCk7CgogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgcHJvcCwgcHJvcF9sZW4pOwogICAgYnVmZmVyX3dyaXRlKGJ1ZmZlciwgIjogIiwgMik7CiAgICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVfbGVuKTsKICAgIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwogIH0KCiAganNfZnJlZShjdHgsIHRhYik7CiAgcmV0dXJuIGk7Cn0KCnNzaXplX3QKaGVhZGVyc19zZXQoSlNDb250ZXh0KiBjdHgsIE1pbm5ldEJ1ZmZlciogYnVmZmVyLCBjb25zdCBjaGFyKiBuYW1lLCBjb25zdCBjaGFyKiB2YWx1ZSkgewogIHNpemVfdCBuYW1lbGVuID0gc3RybGVuKG5hbWUpLCB2YWx1ZWxlbiA9IHN0cmxlbih2YWx1ZSk7CiAgc2l6ZV90IGxlbiA9IG5hbWVsZW4gKyAyICsgdmFsdWVsZW4gKyAyOwoKICBidWZmZXJfZ3JvdyhidWZmZXIsIGxlbiwgY3R4KTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCBuYW1lLCBuYW1lbGVuKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCAiOiAiLCAyKTsKICBidWZmZXJfd3JpdGUoYnVmZmVyLCB2YWx1ZSwgdmFsdWVsZW4pOwogIGJ1ZmZlcl93cml0ZShidWZmZXIsICJcclxuIiwgMik7CgogIHJldHVybiBsZW47Cn0KCmludApoZWFkZXJzX2dldChKU0NvbnRleHQqIGN0eCwgTWlubmV0QnVmZmVyKiBoZWFkZXJzLCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBpbnQgdG9rLCBsZW4sIGNvdW50ID0gMDsKCiAgaWYoIWhlYWRlcnMtPnN0YXJ0KQogICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogIGZvcih0b2sgPSBXU0lfVE9LRU5fSE9TVDsgdG9rIDwgV1NJX1RPS0VOX0NPVU5UOyB0b2srKykgewogICAgaWYodG9rID09IFdTSV9UT0tFTl9IVFRQIHx8IHRvayA9PSBXU0lfVE9LRU5fSFRUUF9VUklfQVJHUykKICAgICAgY29udGludWU7CgogICAgaWYoKGxlbiA9IGx3c19oZHJfdG90YWxfbGVuZ3RoKHdzaSwgdG9rKSkgPiAwKSB7CiAgICAgIGNoYXIgaGRyW2xlbiArIDFdOwogICAgICBjb25zdCBjaGFyKiBuYW1lOwoKICAgICAgaWYoKG5hbWUgPSAoY29uc3QgY2hhciopbHdzX3Rva2VuX3RvX3N0cmluZyh0b2spKSkgewogICAgICAgIGludCBuYW1lbGVuID0gYnl0ZV9jaHIobmFtZSwgc3RybGVuKG5hbWUpLCAnOicpOwogICAgICAgIGx3c19oZHJfY29weSh3c2ksIGhkciwgbGVuICsgMSwgdG9rKTsKICAgICAgICBoZHJbbGVuXSA9ICdcMCc7CgogICAgICAgIC8vIHByaW50ZigiaGVhZGVycyAlaSAlLipzICclcydcbiIsIHRvaywgbmFtZWxlbiwgbmFtZSwgaGRyKTsKCiAgICAgICAgaWYoIWhlYWRlcnMtPmFsbG9jKQogICAgICAgICAgYnVmZmVyX2FsbG9jKGhlYWRlcnMsIDEwMjQsIGN0eCk7CgogICAgICAgIHdoaWxlKCFidWZmZXJfcHJpbnRmKGhlYWRlcnMsICIlLipzOiAlc1xuIiwgbmFtZWxlbiwgbmFtZSwgaGRyKSkgeyBidWZmZXJfZ3JvdyhoZWFkZXJzLCAxMDI0LCBjdHgpOyB9CiAgICAgICAgKytjb3VudDsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gY291bnQ7Cn0KCmludApmZF9oYW5kbGVyKHN0cnVjdCBsd3MqIHdzaSwgTWlubmV0Q2FsbGJhY2sqIGNiLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzIGFyZ3MpIHsKICBKU1ZhbHVlIGFyZ3ZbM10gPSB7SlNfTmV3SW50MzIoY2ItPmN0eCwgYXJncy5mZCl9OwoKICBtaW5uZXRfaGFuZGxlcnMoY2ItPmN0eCwgd3NpLCBhcmdzLCAmYXJndlsxXSk7CiAgbWlubmV0X2VtaXQoY2IsIDMsIGFyZ3YpOwoKICBKU19GcmVlVmFsdWUoY2ItPmN0eCwgYXJndlswXSk7CiAgSlNfRnJlZVZhbHVlKGNiLT5jdHgsIGFyZ3ZbMV0pOwogIEpTX0ZyZWVWYWx1ZShjYi0+Y3R4LCBhcmd2WzJdKTsKICByZXR1cm4gMDsKfQoKaW50CmZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIE1pbm5ldENhbGxiYWNrKiBjYiwgc3RydWN0IGx3c19wb2xsYXJncyogYXJncykgewoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDogcmV0dXJuIDA7CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX1BPTExfRkQ6IHsKCiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBmZF9oYW5kbGVyKHdzaSwgY2IsICphcmdzKTsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0RFTF9QT0xMX0ZEOiB7CgogICAgICBpZihjYi0+Y3R4KSB7CiAgICAgICAgZmRfaGFuZGxlcih3c2ksIGNiLCAqYXJncyk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiB7CiAgICAgIGlmKGNiLT5jdHgpIHsKICAgICAgICBpZihhcmdzLT5ldmVudHMgIT0gYXJncy0+cHJldl9ldmVudHMpIHsKICAgICAgICAgIGZkX2hhbmRsZXIod3NpLCBjYiwgKmFyZ3MpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9Cn0KCi8qc3RhdGljIGNvbnN0IGNoYXIqCmlvX2V2ZW50cyhpbnQgZXZlbnRzKSB7CiAgc3dpdGNoKGV2ZW50cykgewogICAgY2FzZSBQT0xMT1VUIHwgUE9MTEhVUDogcmV0dXJuICJPVVR8SFVQIjsKICAgIGNhc2UgUE9MTElOIHwgUE9MTE9VVCB8IFBPTExIVVAgfCBQT0xMRVJSOiByZXR1cm4gIklOfE9VVHxIVVB8RVJSIjsKICAgIGNhc2UgUE9MTE9VVCB8IFBPTExIVVAgfCBQT0xMRVJSOiByZXR1cm4gIk9VVHxIVVB8RVJSIjsKICAgIGNhc2UgUE9MTElOIHwgUE9MTE9VVDogcmV0dXJuICJJTnxPVVQiOwogICAgY2FzZSBQT0xMSU46IHJldHVybiAiSU4iOwogICAgY2FzZSBQT0xMT1VUOgogICAgICByZXR1cm4gIk9VVCI7CiAgfQogIGFzc2VydCghZXZlbnRzKTsKICByZXR1cm4gIiI7Cn0qLwoKLypzdGF0aWMgaW50CmlvX3BhcnNlX2V2ZW50cyhjb25zdCBjaGFyKiBzdHIpIHsKICBpbnQgZXZlbnRzID0gMDsKCiAgaWYoc3Ryc3RyKHN0ciwgIklOIikpCiAgICBldmVudHMgfD0gUE9MTElOOwogIGlmKHN0cnN0cihzdHIsICJPVVQiKSkKICAgIGV2ZW50cyB8PSBQT0xMT1VUOwogIGlmKHN0cnN0cihzdHIsICJIVVAiKSkKICAgIGV2ZW50cyB8PSBQT0xMSFVQOwogIGlmKHN0cnN0cihzdHIsICJFUlIiKSkKICAgIGV2ZW50cyB8PSBQT0xMRVJSOwogIHJldHVybiBldmVudHM7Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X2lvX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBzdHJ1Y3QgcG9sbGZkKiBwOwogIGludDMyX3Qgd3I7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGFzc2VydChjbG9zdXJlLT5vcGFxdWUpOwogIHAgPSAmY2xvc3VyZS0+b3BhcXVlLT5wb2xsOwoKICBKU19Ub0ludDMyKGN0eCwgJndyLCBhcmd2WzBdKTsKCiAgcC0+cmV2ZW50cyA9IG1hZ2ljICYgKHdyID09IFdSSVRFX0hBTkRMRVIgPyBQT0xMT1VUIDogUE9MTElOKTsKCiAgaWYoKHAtPnJldmVudHMgJiBQSU8pICE9IG1hZ2ljKSB7CiAgICBpZihwb2xsKHAsIDEsIDApIDwgMCkKICAgICAgbHdzbF9lcnIoInBvbGwgZXJyb3I6ICVzXG4iLCBzdHJlcnJvcihlcnJubykpOwogIH0KCiAgaWYocC0+cmV2ZW50cyAmIFBJTykgewogICAgc3RydWN0IGx3c19wb2xsZmQgeCA9IHtwLT5mZCwgbWFnaWMsIHAtPnJldmVudHMgJiBQSU99OwoKICAgIGlmKHAtPnJldmVudHMgJiAoUE9MTEVSUiB8IFBPTExIVVApKQogICAgICBjbG9zdXJlLT5vcGFxdWUtPmVycm9yID0gZXJybm87CgogICAgLy8gZXJybm8gPSAwOwoKICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbHdzX3NlcnZpY2VfZmQobHdzX2dldF9jb250ZXh0KGNsb3N1cmUtPmx3c2kpLCAmeCkpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIHZvaWQKZnJlZV9oYW5kbGVyX2Nsb3N1cmUodm9pZCogcHRyKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmN0eDsKICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7Cn07CgpzdGF0aWMgSlNWYWx1ZQptYWtlX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIGludCBmZCwgaW50IGV2ZW50cywgc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IGhhbmRsZXJfY2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihzdHJ1Y3QgaGFuZGxlcl9jbG9zdXJlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgKmNsb3N1cmUgPSAoc3RydWN0IGhhbmRsZXJfY2xvc3VyZSl7Y3R4LCB3c2ksIGx3c19vcGFxdWUod3NpLCBjdHgpfTsKCiAgY2xvc3VyZS0+b3BhcXVlLT5wb2xsID0gKHN0cnVjdCBwb2xsZmQpe2ZkLCBldmVudHMsIDB9OwoKICByZXR1cm4gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBtaW5uZXRfaW9faGFuZGxlciwgMSwgZXZlbnRzLCBjbG9zdXJlLCBmcmVlX2hhbmRsZXJfY2xvc3VyZSk7Cn0KCkpTVmFsdWUKbWlubmV0X2dldF9zZXNzaW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQ7CiAgdWludDMyX3QgaSA9IDA7CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIGxpc3RfZm9yX2VhY2goZWwsICZtaW5uZXRfc29ja2V0cykgewogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBzZXNzaW9uID0gbGlzdF9lbnRyeShlbCwgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhLCBsaW5rKTsKICAgIC8vIHByaW50ZigiJXMgQCV1ICMlaSAlcFxuIiwgX19mdW5jX18sIGksIHNlc3Npb24tPnNlcmlhbCwgc2Vzc2lvbik7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgc2Vzc2lvbl9vYmplY3Qoc2Vzc2lvbiwgY3R4KSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnZvaWQKbWlubmV0X2hhbmRsZXJzKEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBsd3NfcG9sbGFyZ3MgYXJncywgSlNWYWx1ZSBvdXRbMl0pIHsKICBKU1ZhbHVlIGZ1bmM7CiAgaW50IGV2ZW50cyA9IGFyZ3MuZXZlbnRzICYgKFBPTExJTiB8IFBPTExPVVQpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSpvcGFxdWUgPWx3c19vcGFxdWUod3NpLCBjdHgpOwoKICBpZihldmVudHMpCiAgICBmdW5jID0gbWFrZV9oYW5kbGVyKGN0eCwgYXJncy5mZCwgZXZlbnRzLCB3c2kpOwoKICBvdXRbMF0gPSAoZXZlbnRzICYgUE9MTElOKSA/IGpzX2Z1bmN0aW9uX2JpbmRfMShjdHgsIGZ1bmMsIEpTX05ld0ludDMyKGN0eCwgUkVBRF9IQU5ETEVSKSkgOiBKU19OVUxMOwogIG91dFsxXSA9IChldmVudHMgJiBQT0xMT1VUKSA/IGpzX2Z1bmN0aW9uX2JpbmRfMShjdHgsIGZ1bmMsIEpTX05ld0ludDMyKGN0eCwgV1JJVEVfSEFORExFUikpIDogSlNfTlVMTDsKCiAgaWYoZXZlbnRzKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuYyk7Cn0KCkpTVmFsdWUKbWlubmV0X2VtaXRfdGhpcyhjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqIGNiLCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosIGludCBhcmdjLCBKU1ZhbHVlKiBhcmd2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGNiLT5jdHgpIHsKICAgIHNpemVfdCBsZW47CiAgICBjb25zdCBjaGFyKiBzdHI7CiAgICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY2ItPmN0eCwgJmxlbiwgY2ItPmZ1bmNfb2JqKTsKICAgIC8vIHByaW50ZigiZW1pdCAlcyBbJWRdIFwiJS4qc1wiXG4iLCBjYi0+bmFtZSwgYXJnYywgKGludCkoKGNvbnN0IGNoYXIqKW1lbWNocihzdHIsICd7JywgbGVuKSAtIHN0ciksIHN0cik7CiAgICBKU19GcmVlQ1N0cmluZyhjYi0+Y3R4LCBzdHIpOwoKICAgIHJldCA9IEpTX0NhbGwoY2ItPmN0eCwgY2ItPmZ1bmNfb2JqLCB0aGlzX29iaiwgYXJnYywgYXJndik7CiAgfQoKICAvKmlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICBtaW5uZXRfZXhjZXB0aW9uID0gVFJVRTsgKi8KCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqIGNiLCBpbnQgYXJnYywgSlNWYWx1ZSogYXJndikgewogIHJldHVybiBtaW5uZXRfZW1pdF90aGlzKGNiLCBjYi0+dGhpc19vYmogLyogPyAqY2ItPnRoaXNfb2JqIDogSlNfTlVMTCovLCBhcmdjLCBhcmd2KTsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9sb2dsZXZlbHNbXSA9IHsKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMSwgIkVSUiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRigyLCAiV0FSTiIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig0LCAiTk9USUNFIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDgsICJJTkZPIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDE2LCAiREVCVUciKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMzIsICJQQVJTRVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNjQsICJIRUFERVIiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoMTI4LCAiRVhUIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDI1NiwgIkNMSUVOVCIpLAogICAgSlNfSU5ERVhfU1RSSU5HX0RFRig1MTIsICJMQVRFTkNZIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDEwMjQsICJVU0VSIiksCiAgICBKU19JTkRFWF9TVFJJTkdfREVGKDIwNDgsICJUSFJFQUQiKSwKICAgIEpTX0lOREVYX1NUUklOR19ERUYoNDA5NSwgIkFMTCIpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJzZXJ2ZXIiLCAxLCBtaW5uZXRfc2VydmVyKSwKICAgIEpTX0NGVU5DX0RFRigiY2xpZW50IiwgMSwgbWlubmV0X2NsaWVudCksCiAgICBKU19DRlVOQ19ERUYoImZldGNoIiwgMSwgbWlubmV0X2ZldGNoKSwKICAgIEpTX0NGVU5DX1NQRUNJQUxfREVGKCJzb2NrZXQiLCAxLCBjb25zdHJ1Y3RvciwgbWlubmV0X3dzX2NvbnN0cnVjdG9yKSwKICAgIEpTX0NGVU5DX1NQRUNJQUxfREVGKCJ1cmwiLCAxLCBjb25zdHJ1Y3RvciwgbWlubmV0X3VybF9jb25zdHJ1Y3RvciksCiAgICAvLyBKU19DR0VUU0VUX0RFRigibG9nIiwgZ2V0X2xvZywgc2V0X2xvZyksCiAgICAvLyBKU19DR0VUU0VUX0RFRigic2Vzc2lvbnMiLCBtaW5uZXRfZ2V0X3Nlc3Npb25zLCAwKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0U2Vzc2lvbnMiLCAwLCBtaW5uZXRfZ2V0X3Nlc3Npb25zKSwKICAgIEpTX0NGVU5DX0RFRigic2V0TG9nIiwgMSwgbWlubmV0X3NldF9sb2cpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk1FVEhPRF9HRVQiLCBNRVRIT0RfR0VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUE9TVCIsIE1FVEhPRF9QT1NULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfT1BUSU9OUyIsIE1FVEhPRF9PUFRJT05TLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfUFVUIiwgTUVUSE9EX1BVVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX1BBVENIIiwgTUVUSE9EX1BBVENILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNRVRIT0RfREVMRVRFIiwgTUVUSE9EX0RFTEVURSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0NPTk5FQ1QiLCBNRVRIT0RfQ09OTkVDVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTUVUSE9EX0hFQUQiLCBNRVRIT0RfSEVBRCwgMCksCgogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9FUlIiLCBMTExfRVJSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfV0FSTiIsIExMTF9XQVJOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfTk9USUNFIiwgTExMX05PVElDRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0lORk8iLCBMTExfSU5GTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0RFQlVHIiwgTExMX0RFQlVHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfUEFSU0VSIiwgTExMX1BBUlNFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0hFQURFUiIsIExMTF9IRUFERVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9FWFQiLCBMTExfRVhULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJMTExfQ0xJRU5UIiwgTExMX0NMSUVOVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX0xBVEVOQ1kiLCBMTExfTEFURU5DWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX1VTRVIiLCBMTExfVVNFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTExMX1RIUkVBRCIsIExMTF9USFJFQUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxMTF9BTEwiLCB+KCh+MHUpIDw8IExMTF9DT1VOVCksIDApLAogICAgSlNfT0JKRUNUX0RFRigibG9nTGV2ZWxzIiwgbWlubmV0X2xvZ2xldmVscywgY291bnRvZihtaW5uZXRfbG9nbGV2ZWxzKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKdm9pZAp2YWx1ZV9kdW1wKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuLCBKU1ZhbHVlQ29uc3QgY29uc3QqIHYpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCAqdik7CiAgbHdzbF91c2VyKCIlcyA9ICclcydcbiIsIG4sIHN0cik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwp9CgpzdGF0aWMgaW50CmpzX21pbm5ldF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIC8qICBtaW5uZXRfbG9nX2NiID0gSlNfVU5ERUZJTkVEOwogICAgbWlubmV0X2xvZ190aGlzID0gSlNfVU5ERUZJTkVEOyovCgogIGluaXRfbGlzdF9oZWFkKCZtaW5uZXRfc29ja2V0cyk7CgogIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBtaW5uZXRfZnVuY3MsIGNvdW50b2YobWlubmV0X2Z1bmNzKSk7CgogIC8vIEFkZCBjbGFzcyBSZXNwb25zZQogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQsICZtaW5uZXRfcmVzcG9uc2VfY2xhc3MpOwoKICBtaW5uZXRfcmVzcG9uc2VfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXNwb25zZV9wcm90bywgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgbWlubmV0X3Jlc3BvbnNlX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yLCAiTWlubmV0UmVzcG9uc2UiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY3RvciwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXNwb25zZSIsIG1pbm5ldF9yZXNwb25zZV9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFJlcXVlc3QKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQsICZtaW5uZXRfcmVxdWVzdF9jbGFzcyk7CiAgbWlubmV0X3JlcXVlc3RfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jcywgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkLCBtaW5uZXRfcmVxdWVzdF9wcm90byk7CgogIG1pbm5ldF9yZXF1ZXN0X2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwgbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IsICJNaW5uZXRSZXF1ZXN0IiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3JlcXVlc3RfY3RvciwgbWlubmV0X3JlcXVlc3RfcHJvdG8pOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlcXVlc3QiLCBtaW5uZXRfcmVxdWVzdF9jdG9yKTsKCiAgLy8gQWRkIGNsYXNzIFN0cmVhbQogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzX2lkKTsKCiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfcmluZ2J1ZmZlcl9jbGFzc19pZCwgJm1pbm5ldF9yaW5nYnVmZmVyX2NsYXNzKTsKICBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3JpbmdidWZmZXJfcHJvdG8sIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvX2Z1bmNzLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwgbWlubmV0X3JpbmdidWZmZXJfY2xhc3NfaWQsIG1pbm5ldF9yaW5nYnVmZmVyX3Byb3RvKTsKCiAgbWlubmV0X3JpbmdidWZmZXJfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9jb25zdHJ1Y3RvciwgIk1pbm5ldFJpbmdCdWZmZXIiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfcmluZ2J1ZmZlcl9jdG9yLCBtaW5uZXRfcmluZ2J1ZmZlcl9wcm90byk7CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU3RyZWFtIiwgbWlubmV0X3JpbmdidWZmZXJfY3Rvcik7CgogIC8vIEFkZCBjbGFzcyBVUkwKICBtaW5uZXRfdXJsX2luaXQoY3R4LCBtKTsKCiAgLy8gQWRkIGNsYXNzIFdlYlNvY2tldAogIEpTX05ld0NsYXNzSUQoJm1pbm5ldF93c19jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfd3NfY2xhc3NfaWQsICZtaW5uZXRfd3NfY2xhc3MpOwogIG1pbm5ldF93c19wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfcHJvdG9fZnVuY3MsIG1pbm5ldF93c19wcm90b19mdW5jc19zaXplKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBtaW5uZXRfd3NfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfd3NfY29uc3RydWN0b3IsICJNaW5uZXRXZWJzb2NrZXQiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3N0YXRpY19mdW5jcywgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplKTsKCiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvKTsKCiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfd3NfY3RvciwgbWlubmV0X3dzX3Byb3RvX2RlZnMsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemUpOwoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNvY2tldCIsIG1pbm5ldF93c19jdG9yKTsKCiAgewogICAgSlNWYWx1ZSBtaW5uZXRfZGVmYXVsdCA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfZGVmYXVsdCwgbWlubmV0X2Z1bmNzLCBjb3VudG9mKG1pbm5ldF9mdW5jcykpOwogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgImRlZmF1bHQiLCBtaW5uZXRfZGVmYXVsdCk7CiAgfQoKICByZXR1cm4gMDsKfQoKX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX21pbm5ldF9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXNwb25zZSIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZXF1ZXN0Iik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN0cmVhbSIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTb2NrZXQiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVVJMIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgImRlZmF1bHQiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwgbWlubmV0X2Z1bmNzLCBjb3VudG9mKG1pbm5ldF9mdW5jcykpOwoKICBtaW5uZXRfbG9nX2N0eCA9IGN0eDsKCiAgbHdzX3NldF9sb2dfbGV2ZWwobWlubmV0X2xvZ19sZXZlbCwgbHdzX2xvZ19jYWxsYmFjayk7CgogIHJldHVybiBtOwp9Cgpjb25zdCBjaGFyKgpsd3NfY2FsbGJhY2tfbmFtZShpbnQgcmVhc29uKSB7CiAgcmV0dXJuICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0giLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9FU1RBQkxJU0hFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xPU0VEIiwKICAgICAgIkxXU19DQUxMQkFDS19DTE9TRURfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9QT05HIiwKICAgICAgIkxXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkVfUE9ORyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfU0VSVkVSX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX0JPRFlfQ09NUExFVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9GSUxFX0NPTVBMRVRJT04iLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19GSUxURVJfTkVUV09SS19DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19GSUxURVJfSFRUUF9DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQiLAogICAgICAiTFdTX0NBTExCQUNLX0ZJTFRFUl9QUk9UT0NPTF9DT05ORUNUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX0xPQURfRVhUUkFfQ0xJRU5UX1ZFUklGWV9DRVJUUyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX1NFUlZFUl9WRVJJRllfQ0VSVFMiLAogICAgICAiTFdTX0NBTExCQUNLX09QRU5TU0xfUEVSRk9STV9DTElFTlRfQ0VSVF9WRVJJRklDQVRJT04iLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ09ORklSTV9FWFRFTlNJT05fT0tBWSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTkZJUk1fRVhURU5TSU9OX1NVUFBPUlRFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1kiLAogICAgICAiTFdTX0NBTExCQUNLX0dFVF9USFJFQURfSUQiLAogICAgICAiTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEIiwKICAgICAgIkxXU19DQUxMQkFDS19ERUxfUE9MTF9GRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0hBTkdFX01PREVfUE9MTF9GRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfTE9DS19QT0xMIiwKICAgICAgIkxXU19DQUxMQkFDS19VTkxPQ0tfUE9MTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9DT05URVhUX1JFUVVJUkVTX1BSSVZBVEVfS0VZIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfRVhUX0RFRkFVTFRTIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0kiLAogICAgICAiTFdTX0NBTExCQUNLX0NHSV9URVJNSU5BVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0lfU1RESU5fREFUQSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0dJX1NURElOX0NPTVBMRVRFRCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRURfQ0xJRU5UX0hUVFAiLAogICAgICAiTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQIiwKICAgICAgIkxXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQX1JFQUQiLAogICAgICAiTFdTX0NBTExCQUNLX0hUVFBfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19DSEVDS19BQ0NFU1NfUklHSFRTIiwKICAgICAgIkxXU19DQUxMQkFDS19QUk9DRVNTX0hUTUwiLAogICAgICAiTFdTX0NBTExCQUNLX0FERF9IRUFERVJTIiwKICAgICAgIkxXU19DQUxMQkFDS19TRVNTSU9OX0lORk8iLAogICAgICAiTFdTX0NBTExCQUNLX0dTX0VWRU5UIiwKICAgICAgIkxXU19DQUxMQkFDS19IVFRQX1BNTyIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19PUEVOU1NMX1BFUkZPUk1fU0VSVkVSX0NFUlRfVkVSSUZJQ0FUSU9OIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19DTE9TRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0FET1BUIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQURPUFRfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1JYX0ZJTEUiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19XUklURUFCTEVfRklMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFX0ZJTEUiLAogICAgICAiTFdTX0NBTExCQUNLX1NTTF9JTkZPIiwKICAgICAgMCwKICAgICAgIkxXU19DQUxMQkFDS19DSElMRF9DTE9TSU5HIiwKICAgICAgIkxXU19DQUxMQkFDS19DR0lfUFJPQ0VTU19BVFRBQ0giLAogICAgICAiTFdTX0NBTExCQUNLX0VWRU5UX1dBSVRfQ0FOQ0VMTEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19WSE9TVF9DRVJUX0FHSU5HIiwKICAgICAgIkxXU19DQUxMQkFDS19USU1FUiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfVkhPU1RfQ0VSVF9VUERBVEUiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX1NFUlZFUl9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19XU19TRVJWRVJfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19TS1RfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0ZJTEVfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX0ZJTEVfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfSFRUUF9DT05GSVJNX1VQR1JBREUiLAogICAgICAwLAogICAgICAwLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfUlgiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfQ0xPU0UiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9TUlZfQ0xPU0UiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfV1JJVEVBQkxFIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX1dSSVRFQUJMRSIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9BRE9QVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9BRE9QVCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX0NMSV9CSU5EX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfUFJPWFlfU1JWX0JJTkRfUFJPVE9DT0wiLAogICAgICAiTFdTX0NBTExCQUNLX1JBV19QUk9YWV9DTElfRFJPUF9QUk9UT0NPTCIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfUkFXX1BST1hZX1NSVl9EUk9QX1BST1RPQ09MIiwKICAgICAgIkxXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEIiwKICAgICAgIkxXU19DQUxMQkFDS19WRVJJRllfQkFTSUNfQVVUSE9SSVpBVElPTiIsCiAgICAgICJMV1NfQ0FMTEJBQ0tfV1NJX1RYX0NSRURJVF9HRVQiLAogICAgICAiTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUIiwKICAgICAgIkxXU19DQUxMQkFDS19DT05ORUNUSU5HIiwKICB9KVtyZWFzb25dOwp9CgAAAAAAAAAA+2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtDUAAAAAAAC0NQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/include/libwebsockets/lws-http.h",
			"settings":
			{
				"buffer_size": 36626,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "minnet-fetch.c",
			"settings":
			{
				"buffer_size": 10250,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					36,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAKKAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWNsaWVudC5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgoKI2lmbmRlZiBVU0VfQ1VSTAoKc3RydWN0IGZldGNoX2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdGF0aWMgc3RydWN0IGZldGNoX2Nsb3N1cmUqCmZldGNoX2Nsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX21hbGxvY3ooY3R4LCBzaXplb2Yoc3RydWN0IGZldGNoX2Nsb3N1cmUpKTsKfQoKc3RhdGljIHN0cnVjdCBmZXRjaF9jbG9zdXJlKgpmZXRjaF9jbG9zdXJlX2R1cChzdHJ1Y3QgZmV0Y2hfY2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CgpzdGF0aWMgdm9pZApmZXRjaF9jbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPmNsaWVudCkgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNsaWVudC0+Y29udGV4dC5qczsKCiAgICAgIGNsaWVudF9mcmVlKGNsb3N1cmUtPmNsaWVudCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgplbnVtIHsKICBPTl9IVFRQID0gMCwKICBPTl9FUlJPUiwKICBPTl9DTE9TRSwKICBPTl9GRCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmZldGNoX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBjbG9zdXJlLT5jbGllbnQ7CgogIC8vIHByaW50ZigiJXMgbWFnaWM9JXMgY2xpZW50PSVwXG4iLCBfX2Z1bmNfXywgbWFnaWMgPT0gT05fSFRUUCA/ICJPTl9IVFRQIiA6IG1hZ2ljID09IE9OX0VSUk9SID8gIk9OX0VSUk9SIiA6ICJPTl9GRCIsIGNsaWVudCk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBPTl9IVFRQOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmY2xpZW50LT5wcm9taXNlLCBhcmd2WzFdKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBPTl9DTE9TRToKICAgIGNhc2UgT05fRVJST1I6IHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIiVzOiAlcyIsIG1hZ2ljID09IE9OX0NMT1NFID8gIm9uQ2xvc2UiIDogIm9uRXJyb3IiLCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgICAvLyAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3JlamVjdChjdHgsICZjbGllbnQtPnByb21pc2UsIGVycik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVycik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgT05fRkQ6IHsKICAgICAgSlNWYWx1ZSBvcywgdG1wLCBzZXRfd3JpdGUsIHNldF9yZWFkLCBhcmdzWzJdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwogICAgICBvcyA9IGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKICAgICAgaWYoIUpTX0lzT2JqZWN0KG9zKSkKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiZ2xvYmFsVGhpcy5vcyBtdXN0IGJlIGltcG9ydGVkIG1vZHVsZSIpOwogICAgICBzZXRfcmVhZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3MsICJzZXRSZWFkSGFuZGxlciIpOwogICAgICBzZXRfd3JpdGUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIik7CiAgICAgIGFyZ3NbMV0gPSBhcmd2WzFdOwogICAgICB0bXAgPSBKU19DYWxsKGN0eCwgc2V0X3JlYWQsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgYXJnc1sxXSA9IGFyZ3ZbMl07CiAgICAgIHRtcCA9IEpTX0NhbGwoY3R4LCBzZXRfd3JpdGUsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgb3MpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfd3JpdGUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfcmVhZCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCwgaGFuZGxlcnNbNF0sIGFyZ3NbMl07CiAgTWlubmV0Q2xvc3VyZSogY2M7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGZjOwoKICBpZihhcmdjID49IDIgJiYgIUpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDIgbXVzdCBiZSBhbiBvYmplY3QiKTsKCiAgaWYoIShmYyA9IGZldGNoX2Nsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaWYoIShjYyA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgYXJnc1swXSA9IGFyZ3ZbMF07CiAgYXJnc1sxXSA9IGFyZ2MgPD0gMSA/IEpTX05ld09iamVjdChjdHgpIDogSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKTsKCiAgaGFuZGxlcnNbMF0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9IVFRQLCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CiAgaGFuZGxlcnNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9FUlJPUiwgZmV0Y2hfY2xvc3VyZV9kdXAoZmMpLCBmZXRjaF9jbG9zdXJlX2ZyZWUpOwogIGhhbmRsZXJzWzJdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmZmV0Y2hfaGFuZGxlciwgMiwgT05fQ0xPU0UsIGZldGNoX2Nsb3N1cmVfZHVwKGZjKSwgZmV0Y2hfY2xvc3VyZV9mcmVlKTsKICBoYW5kbGVyc1szXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJmZldGNoX2hhbmRsZXIsIDMsIE9OX0ZELCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uSHR0cCIsIGhhbmRsZXJzWzBdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJvbkVycm9yIiwgaGFuZGxlcnNbMV0pOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uQ2xvc2UiLCBoYW5kbGVyc1syXSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcmdzWzFdLCAib25GZCIsIGhhbmRsZXJzWzNdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJibG9jayIsIEpTX0ZBTFNFKTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIDIsIGFyZ3MsIDAsIGNjKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIC8vIHByaW50ZigiJXMgdXJsPSVzIGNsaWVudD0lcFxuIiwgX19mdW5jX18sIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3NbMF0pLCBjYy0+Y2xpZW50KTsKCiAgZmMtPmNsaWVudCA9IGNsaWVudF9kdXAoY2MtPmNsaWVudCk7CgogIHJldHVybiByZXQ7Cn0KCiNlbHNlCiNpbmNsdWRlIDxjdXJsL2N1cmwuaD4KCnN0cnVjdCBoZWFkZXJfY29udGV4dCB7CiAgSlNDb250ZXh0KiBjdHg7CiAgTWlubmV0QnVmZmVyKiBidWY7Cn07CgpzdHJ1Y3QgY3VybF9jYWxsYmFjayB7CiAgSlNDb250ZXh0KiBjdHg7CiAgQ1VSTE0qIG11bHRpOwp9OwoKc3RydWN0IGN1cmxfc29ja2V0IHsKICBCT09MIHdhbnRyZWFkLCB3YW50d3JpdGU7CiAgY3VybF9zb2NrZXRfdCBzb2NrZmQ7Cn07CgpzdGF0aWMgc2l6ZV90CmhlYWRlcl9jYWxsYmFjayhjaGFyKiB4LCBzaXplX3Qgbiwgc2l6ZV90IG5pdGVtcywgdm9pZCogdXNlcmRhdGEpIHsKICBzdHJ1Y3QgaGVhZGVyX2NvbnRleHQqIGhjID0gdXNlcmRhdGE7CiAgc2l6ZV90IGk7CiAgZm9yKGkgPSBuaXRlbXM7IGkgPiAwOyAtLWkpCiAgICBpZighKHhbaSAtIDFdID09ICdccicgfHwgeFtpIC0gMV0gPT0gJ1xuJykpCiAgICAgIGJyZWFrOwogIGlmKGkgPiAwICYmIGJ1ZmZlcl9hcHBlbmQoaGMtPmJ1ZiwgeCwgaSArIDEsIGhjLT5jdHgpID4gMCkKICAgIGhjLT5idWYtPndyaXRlWy0xXSA9ICdcbic7CiAgcmV0dXJuIG5pdGVtcyAqIG47Cn0KCnN0YXRpYyBpbnQKc3RhcnRfdGltZW91dChDVVJMTSogbXVsdGksIGxvbmcgdGltZW91dF9tcywgdm9pZCogdXNlcnApIHsKICBzdHJ1Y3QgY3VybF9jYWxsYmFjayogY2FsbGJhY2tfZGF0YSA9IHVzZXJwOwogIHJldHVybiAwOwp9CgpzdGF0aWMgdm9pZApoZWFkZXJfbGlzdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGhlYWRlcnMsIHN0cnVjdCBjdXJsX3NsaXN0KiogbGlzdF9wdHIpIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIG9iamVjdF9jdG9yLCBrZXlzLCBuYW1lcywgbGVuZ3RoOwogIGludCBpOwogIGludDMyX3QgbGVuOwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICBvYmplY3RfY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsX29iaiwgIk9iamVjdCIpOwogIGtleXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdF9jdG9yLCAia2V5cyIpOwogIG5hbWVzID0gSlNfQ2FsbChjdHgsIGtleXMsIG9iamVjdF9jdG9yLCAxLCAoSlNWYWx1ZUNvbnN0KikmaGVhZGVycyk7CiAgbGVuZ3RoID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuYW1lcywgImxlbmd0aCIpOwogIEpTX1RvSW50MzIoY3R4LCAmbGVuLCBsZW5ndGgpOwoKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgSlNWYWx1ZSBrZXksIHZhbHVlOwogICAgY29uc3QgY2hhciAqa2V5X3N0ciwgKnZhbHVlX3N0cjsKICAgIHNpemVfdCBrZXlfbGVuLCB2YWx1ZV9sZW47CiAgICBrZXkgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG5hbWVzLCBpKTsKICAgIGtleV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBrZXkpOwogICAga2V5X2xlbiA9IHN0cmxlbihrZXlfc3RyKTsKICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBoZWFkZXJzLCBrZXlfc3RyKTsKICAgIHZhbHVlX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHZhbHVlX2xlbiA9IHN0cmxlbih2YWx1ZV9zdHIpOwogICAgewogICAgICBzaXplX3QgYnVmc2l6ZSA9IDA7CiAgICAgIGNoYXIgYnVmW2tleV9sZW4gKyAyICsgdmFsdWVfbGVuICsgMiArIDFdOwogICAgICBzdHJjcHkoJmJ1ZltidWZzaXplXSwga2V5X3N0cik7CiAgICAgIGJ1ZnNpemUgKz0ga2V5X2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICI6ICIpOwogICAgICBidWZzaXplICs9IDI7CiAgICAgIHN0cmNweSgmYnVmW2J1ZnNpemVdLCB2YWx1ZV9zdHIpOwogICAgICBidWZzaXplICs9IHZhbHVlX2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICJcMFxuIik7CiAgICAgIGJ1ZnNpemUgKz0gMjsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBrZXlfc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZV9zdHIpOwogICAgICAqbGlzdF9wdHIgPSBjdXJsX3NsaXN0X2FwcGVuZCgqbGlzdF9wdHIsIGJ1Zik7CiAgICB9CiAgfQoKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmplY3RfY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwga2V5cyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZXMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7Cn0KCnN0YXRpYyBpbnQKaGFuZGxlX3NvY2tldChDVVJMKiBlYXN5LCBjdXJsX3NvY2tldF90IHMsIGludCBhY3Rpb24sIHZvaWQqIHVzZXJwLCB2b2lkKiBzb2NrZXRwKSB7CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSB1c2VycDsKICBzdHJ1Y3QgY3VybF9zb2NrZXQqIHNvY2s7CiAgaW50IGV2ZW50cyA9IDA7CiAgc3dpdGNoKGFjdGlvbikgewogICAgY2FzZSBDVVJMX1BPTExfSU46CiAgICBjYXNlIENVUkxfUE9MTF9PVVQ6CiAgICBjYXNlIENVUkxfUE9MTF9JTk9VVDoKICAgICAgc29jayA9IChzdHJ1Y3QgY3VybF9zb2NrZXQqKShzb2NrZXRwID8gc29ja2V0cCA6IGpzX21hbGxvY3ooY2FsbGJhY2tfZGF0YS0+Y3R4LCBzaXplb2Yoc3RydWN0IGN1cmxfc29ja2V0KSkpOwogICAgICBjdXJsX211bHRpX2Fzc2lnbihjYWxsYmFja19kYXRhLT5tdWx0aSwgcywgKHZvaWQqKXNvY2spOwoKICAgICAgc29jay0+c29ja2ZkID0gczsKICAgICAgaWYoYWN0aW9uICE9IENVUkxfUE9MTF9JTikKICAgICAgICBzb2NrLT53YW50d3JpdGUgPSBUUlVFOwogICAgICBpZihhY3Rpb24gIT0gQ1VSTF9QT0xMX09VVCkKICAgICAgICBzb2NrLT53YW50cmVhZCA9IFRSVUU7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiaGFuZGxlX3NvY2tldCBzb2NrPSVkLCB3YW50d3JpdGU9JWQsIHdhbnRyZWFkPSVkXG4iLCBzb2NrLT5zb2NrZmQsIHNvY2stPndhbnR3cml0ZSwgc29jay0+d2FudHJlYWQpOwoKICAgICAgYnJlYWs7CiAgICBjYXNlIENVUkxfUE9MTF9SRU1PVkU6CiAgICAgIGlmKHNvY2tldHApIHsKICAgICAgICBqc19mcmVlKGNhbGxiYWNrX2RhdGEtPmN0eCwgc29ja2V0cCk7CiAgICAgICAgY3VybF9tdWx0aV9hc3NpZ24oY2FsbGJhY2tfZGF0YS0+bXVsdGksIHMsIE5VTEwpOwogICAgICB9CgogICAgICBicmVhazsKICAgIGRlZmF1bHQ6IGFib3J0KCk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBDVVJMKiBjdXJsID0gMDsKICBDVVJMTSogbXVsdGkgPSAwOwogIENVUkxjb2RlIGN1cmxSZXM7CiAgLy8gY29uc3QgY2hhciogdXJsOwogIEZJTEUqIGZpOwogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBNaW5uZXRSZXNwb25zZSogcmVzOwogIHVpbnQ4X3QqIGJ1ZmZlcjsKICBsb25nIGJ1ZlNpemU7CiAgbG9uZyBzdGF0dXM7CiAgY2hhciogdHlwZTsKICBjb25zdCBjaGFyKiBib2R5X3N0ciA9IE5VTEw7CiAgc3RydWN0IGN1cmxfc2xpc3QqIGhlYWRlcmxpc3QgPSBOVUxMOwogIHN0cnVjdCBoZWFkZXJfY29udGV4dCBoY3R4ID0ge2N0eCwgMH07CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSAwOwogIGludCBzdGlsbF9ydW5uaW5nID0gMTsKCiAgcmVxID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIEpTVmFsdWUgcmVzT2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHJlc09iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHJlcyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoKnJlcykpOwoKICBpZighcmVzKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXNPYmopOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIC8qaWYoIUpTX0lzU3RyaW5nKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsqLwoKICB1cmxfY29weSgmcmVzLT51cmwsICZyZXEtPnVybCwgY3R4KTsKCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgIEpTVmFsdWUgbWV0aG9kLCBib2R5LCBoZWFkZXJzOwogICAgY29uc3QgY2hhciogbWV0aG9kX3N0cjsKICAgIG1ldGhvZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgIm1ldGhvZCIpOwogICAgYm9keSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgImJvZHkiKTsKICAgIGhlYWRlcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMV0sICJoZWFkZXJzIik7CiAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgIGhlYWRlcl9saXN0KGN0eCwgaGVhZGVycywgJmhlYWRlcmxpc3QpOwogICAgbWV0aG9kX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG1ldGhvZCk7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGJvZHkpIHx8ICFzdHJjYXNlY21wKG1ldGhvZF9zdHIsICJwb3N0IikpIHsKICAgICAgYm9keV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBib2R5KTsKICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1ldGhvZF9zdHIpOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1ldGhvZCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGhlYWRlcnMpOwogIH0KCiAgY3VybF9nbG9iYWxfaW5pdChDVVJMX0dMT0JBTF9ERUZBVUxUKTsKCiAgaWYoIShtdWx0aSA9IGN1cmxfbXVsdGlfaW5pdCgpKSB8fCAhKGN1cmwgPSBjdXJsX2Vhc3lfaW5pdCgpKSB8fCAhKGNhbGxiYWNrX2RhdGEgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCBjdXJsX2NhbGxiYWNrKSkpKSB7CiAgICByZXNPYmogPSBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgICBnb3RvIGZhaWw7CiAgfQoKICBjYWxsYmFja19kYXRhLT5jdHggPSBjdHg7CiAgY2FsbGJhY2tfZGF0YS0+bXVsdGkgPSBtdWx0aTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfU09DS0VURlVOQ1RJT04sIGhhbmRsZV9zb2NrZXQpOwogIGN1cmxfbXVsdGlfc2V0b3B0KG11bHRpLCBDVVJMTU9QVF9TT0NLRVREQVRBLCBjYWxsYmFja19kYXRhKTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfVElNRVJGVU5DVElPTiwgc3RhcnRfdGltZW91dCk7CiAgY3VybF9tdWx0aV9zZXRvcHQobXVsdGksIENVUkxNT1BUX1RJTUVSREFUQSwgY2FsbGJhY2tfZGF0YSk7CiAgZmkgPSB0bXBmaWxlKCk7CiAgaGN0eC5idWYgPSAmcmVzLT5oZWFkZXJzOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9VUkwsIHVybCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxTCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX1VTRVJBR0VOVCwgIm1pbmltYWwtbmV0d29yay1xdWlja2pzIik7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0hUVFBIRUFERVIsIGhlYWRlcmxpc3QpOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9XUklURURBVEEsIGZpKTsKICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfSEVBREVSRlVOQ1RJT04sICZoZWFkZXJfY2FsbGJhY2spOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9IRUFERVJEQVRBLCAmaGN0eCk7CiAgaWYoYm9keV9zdHIpCiAgICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfUE9TVEZJRUxEUywgYm9keV9zdHIpOwogIGN1cmxfbXVsdGlfYWRkX2hhbmRsZShtdWx0aSwgY3VybCk7CgogIGlmKHN0aWxsX3J1bm5pbmcpIHsKICAgIENVUkxNc2cqIG1zZzsKICAgIGludCBxdWV1ZWQ7CiAgICBDVVJMTWNvZGUgbWMgPSBjdXJsX211bHRpX3BlcmZvcm0obXVsdGksICZzdGlsbF9ydW5uaW5nKTsKICB9CgpmaW5pc2g6CgogIGN1cmxfc2xpc3RfZnJlZV9hbGwoaGVhZGVybGlzdCk7CiAgaWYoYm9keV9zdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGJvZHlfc3RyKTsKICBKU19TZXRPcGFxdWUocmVzT2JqLCByZXMpOwoKZmFpbDoKICBpZihjYWxsYmFja19kYXRhKQogICAganNfZnJlZShjdHgsIGNhbGxiYWNrX2RhdGEpOwogIGlmKGN1cmwpCiAgICBjdXJsX2Vhc3lfY2xlYW51cChjdXJsKTsKICBpZihtdWx0aSkKICAgIGN1cmxfbXVsdGlfY2xlYW51cChtdWx0aSk7CiAgY3VybF9nbG9iYWxfY2xlYW51cCgpOwogIHJldHVybiByZXNPYmo7Cn0KCiNlbmRpZgoAAAAAAAAAAAooAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wcAAAAAAAB5CAAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAKKAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWNsaWVudC5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgoKI2lmbmRlZiBVU0VfQ1VSTAoKc3RydWN0IGZldGNoX2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdGF0aWMgc3RydWN0IGZldGNoX2Nsb3N1cmUqCmZldGNoX2Nsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX21hbGxvY3ooY3R4LCBzaXplb2Yoc3RydWN0IGZldGNoX2Nsb3N1cmUpKTsKfQoKc3RhdGljIHN0cnVjdCBmZXRjaF9jbG9zdXJlKgpmZXRjaF9jbG9zdXJlX2R1cChzdHJ1Y3QgZmV0Y2hfY2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CgpzdGF0aWMgdm9pZApmZXRjaF9jbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPmNsaWVudCkgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNsaWVudC0+Y29udGV4dC5qczsKCiAgICAgIGNsaWVudF9mcmVlKGNsb3N1cmUtPmNsaWVudCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgplbnVtIHsKICBPTl9IVFRQID0gMCwKICBPTl9FUlJPUiwKICBPTl9DTE9TRSwKICBPTl9GRCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmZldGNoX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBjbG9zdXJlLT5jbGllbnQ7CgogIC8vIHByaW50ZigiJXMgbWFnaWM9JXMgY2xpZW50PSVwXG4iLCBfX2Z1bmNfXywgbWFnaWMgPT0gT05fSFRUUCA/ICJPTl9IVFRQIiA6IG1hZ2ljID09IE9OX0VSUk9SID8gIk9OX0VSUk9SIiA6ICJPTl9GRCIsIGNsaWVudCk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBPTl9IVFRQOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmY2xpZW50LT5wcm9taXNlLCBhcmd2WzFdKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBPTl9DTE9TRToKICAgIGNhc2UgT05fRVJST1I6IHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIiVzOiAlcyIsIG1hZ2ljID09IE9OX0NMT1NFID8gIm9uQ2xvc2UiIDogIm9uRXJyb3IiLCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgICAvLyAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3JlamVjdChjdHgsICZjbGllbnQtPnByb21pc2UsIGVycik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVycik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgT05fRkQ6IHsKICAgICAgSlNWYWx1ZSBvcywgdG1wLCBzZXRfd3JpdGUsIHNldF9yZWFkLCBhcmdzWzJdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwogICAgICBvcyA9IGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKICAgICAgaWYoIUpTX0lzT2JqZWN0KG9zKSkKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiZ2xvYmFsVGhpcy5vcyBtdXN0IGJlIGltcG9ydGVkIG1vZHVsZSIpOwogICAgICBzZXRfcmVhZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3MsICJzZXRSZWFkSGFuZGxlciIpOwogICAgICBzZXRfd3JpdGUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIik7CiAgICAgIGFyZ3NbMV0gPSBhcmd2WzFdOwogICAgICB0bXAgPSBKU19DYWxsKGN0eCwgc2V0X3JlYWQsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgYXJnc1sxXSA9IGFyZ3ZbMl07CiAgICAgIHRtcCA9IEpTX0NhbGwoY3R4LCBzZXRfd3JpdGUsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgb3MpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfd3JpdGUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfcmVhZCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCwgaGFuZGxlcnNbNF0sIGFyZ3NbMl07CiAgTWlubmV0Q2xvc3VyZSogY2M7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGZjOwoKICBpZihhcmdjID49IDIgJiYgIUpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDIgbXVzdCBiZSBhbiBvYmplY3QiKTsKCiAgaWYoIShmYyA9IGZldGNoX2Nsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaWYoIShjYyA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgYXJnc1swXSA9IGFyZ3ZbMF07CiAgYXJnc1sxXSA9IGFyZ2MgPD0gMSA/IEpTX05ld09iamVjdChjdHgpIDogSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKTsKCiAgaGFuZGxlcnNbMF0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9IVFRQLCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CiAgaGFuZGxlcnNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9FUlJPUiwgZmV0Y2hfY2xvc3VyZV9kdXAoZmMpLCBmZXRjaF9jbG9zdXJlX2ZyZWUpOwogIGhhbmRsZXJzWzJdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmZmV0Y2hfaGFuZGxlciwgMiwgT05fQ0xPU0UsIGZldGNoX2Nsb3N1cmVfZHVwKGZjKSwgZmV0Y2hfY2xvc3VyZV9mcmVlKTsKICBoYW5kbGVyc1szXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJmZldGNoX2hhbmRsZXIsIDMsIE9OX0ZELCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uSHR0cCIsIGhhbmRsZXJzWzBdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJvbkVycm9yIiwgaGFuZGxlcnNbMV0pOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uQ2xvc2UiLCBoYW5kbGVyc1syXSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcmdzWzFdLCAib25GZCIsIGhhbmRsZXJzWzNdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJibG9jayIsIEpTX0ZBTFNFKTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIDIsIGFyZ3MsIDAsIGNjKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIC8vIHByaW50ZigiJXMgdXJsPSVzIGNsaWVudD0lcFxuIiwgX19mdW5jX18sIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3NbMF0pLCBjYy0+Y2xpZW50KTsKCiAgZmMtPmNsaWVudCA9IGNsaWVudF9kdXAoY2MtPmNsaWVudCk7CgogIHJldHVybiByZXQ7Cn0KCiNlbHNlCiNpbmNsdWRlIDxjdXJsL2N1cmwuaD4KCnN0cnVjdCBoZWFkZXJfY29udGV4dCB7CiAgSlNDb250ZXh0KiBjdHg7CiAgTWlubmV0QnVmZmVyKiBidWY7Cn07CgpzdHJ1Y3QgY3VybF9jYWxsYmFjayB7CiAgSlNDb250ZXh0KiBjdHg7CiAgQ1VSTE0qIG11bHRpOwp9OwoKc3RydWN0IGN1cmxfc29ja2V0IHsKICBCT09MIHdhbnRyZWFkLCB3YW50d3JpdGU7CiAgY3VybF9zb2NrZXRfdCBzb2NrZmQ7Cn07CgpzdGF0aWMgc2l6ZV90CmhlYWRlcl9jYWxsYmFjayhjaGFyKiB4LCBzaXplX3Qgbiwgc2l6ZV90IG5pdGVtcywgdm9pZCogdXNlcmRhdGEpIHsKICBzdHJ1Y3QgaGVhZGVyX2NvbnRleHQqIGhjID0gdXNlcmRhdGE7CiAgc2l6ZV90IGk7CiAgZm9yKGkgPSBuaXRlbXM7IGkgPiAwOyAtLWkpCiAgICBpZighKHhbaSAtIDFdID09ICdccicgfHwgeFtpIC0gMV0gPT0gJ1xuJykpCiAgICAgIGJyZWFrOwogIGlmKGkgPiAwICYmIGJ1ZmZlcl9hcHBlbmQoaGMtPmJ1ZiwgeCwgaSArIDEsIGhjLT5jdHgpID4gMCkKICAgIGhjLT5idWYtPndyaXRlWy0xXSA9ICdcbic7CiAgcmV0dXJuIG5pdGVtcyAqIG47Cn0KCnN0YXRpYyBpbnQKc3RhcnRfdGltZW91dChDVVJMTSogbXVsdGksIGxvbmcgdGltZW91dF9tcywgdm9pZCogdXNlcnApIHsKICBzdHJ1Y3QgY3VybF9jYWxsYmFjayogY2FsbGJhY2tfZGF0YSA9IHVzZXJwOwogIHJldHVybiAwOwp9CgpzdGF0aWMgdm9pZApoZWFkZXJfbGlzdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGhlYWRlcnMsIHN0cnVjdCBjdXJsX3NsaXN0KiogbGlzdF9wdHIpIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIG9iamVjdF9jdG9yLCBrZXlzLCBuYW1lcywgbGVuZ3RoOwogIGludCBpOwogIGludDMyX3QgbGVuOwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICBvYmplY3RfY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsX29iaiwgIk9iamVjdCIpOwogIGtleXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdF9jdG9yLCAia2V5cyIpOwogIG5hbWVzID0gSlNfQ2FsbChjdHgsIGtleXMsIG9iamVjdF9jdG9yLCAxLCAoSlNWYWx1ZUNvbnN0KikmaGVhZGVycyk7CiAgbGVuZ3RoID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuYW1lcywgImxlbmd0aCIpOwogIEpTX1RvSW50MzIoY3R4LCAmbGVuLCBsZW5ndGgpOwoKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgSlNWYWx1ZSBrZXksIHZhbHVlOwogICAgY29uc3QgY2hhciAqa2V5X3N0ciwgKnZhbHVlX3N0cjsKICAgIHNpemVfdCBrZXlfbGVuLCB2YWx1ZV9sZW47CiAgICBrZXkgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG5hbWVzLCBpKTsKICAgIGtleV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBrZXkpOwogICAga2V5X2xlbiA9IHN0cmxlbihrZXlfc3RyKTsKICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBoZWFkZXJzLCBrZXlfc3RyKTsKICAgIHZhbHVlX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHZhbHVlX2xlbiA9IHN0cmxlbih2YWx1ZV9zdHIpOwogICAgewogICAgICBzaXplX3QgYnVmc2l6ZSA9IDA7CiAgICAgIGNoYXIgYnVmW2tleV9sZW4gKyAyICsgdmFsdWVfbGVuICsgMiArIDFdOwogICAgICBzdHJjcHkoJmJ1ZltidWZzaXplXSwga2V5X3N0cik7CiAgICAgIGJ1ZnNpemUgKz0ga2V5X2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICI6ICIpOwogICAgICBidWZzaXplICs9IDI7CiAgICAgIHN0cmNweSgmYnVmW2J1ZnNpemVdLCB2YWx1ZV9zdHIpOwogICAgICBidWZzaXplICs9IHZhbHVlX2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICJcMFxuIik7CiAgICAgIGJ1ZnNpemUgKz0gMjsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBrZXlfc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZV9zdHIpOwogICAgICAqbGlzdF9wdHIgPSBjdXJsX3NsaXN0X2FwcGVuZCgqbGlzdF9wdHIsIGJ1Zik7CiAgICB9CiAgfQoKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmplY3RfY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwga2V5cyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZXMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7Cn0KCnN0YXRpYyBpbnQKaGFuZGxlX3NvY2tldChDVVJMKiBlYXN5LCBjdXJsX3NvY2tldF90IHMsIGludCBhY3Rpb24sIHZvaWQqIHVzZXJwLCB2b2lkKiBzb2NrZXRwKSB7CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSB1c2VycDsKICBzdHJ1Y3QgY3VybF9zb2NrZXQqIHNvY2s7CiAgaW50IGV2ZW50cyA9IDA7CiAgc3dpdGNoKGFjdGlvbikgewogICAgY2FzZSBDVVJMX1BPTExfSU46CiAgICBjYXNlIENVUkxfUE9MTF9PVVQ6CiAgICBjYXNlIENVUkxfUE9MTF9JTk9VVDoKICAgICAgc29jayA9IChzdHJ1Y3QgY3VybF9zb2NrZXQqKShzb2NrZXRwID8gc29ja2V0cCA6IGpzX21hbGxvY3ooY2FsbGJhY2tfZGF0YS0+Y3R4LCBzaXplb2Yoc3RydWN0IGN1cmxfc29ja2V0KSkpOwogICAgICBjdXJsX211bHRpX2Fzc2lnbihjYWxsYmFja19kYXRhLT5tdWx0aSwgcywgKHZvaWQqKXNvY2spOwoKICAgICAgc29jay0+c29ja2ZkID0gczsKICAgICAgaWYoYWN0aW9uICE9IENVUkxfUE9MTF9JTikKICAgICAgICBzb2NrLT53YW50d3JpdGUgPSBUUlVFOwogICAgICBpZihhY3Rpb24gIT0gQ1VSTF9QT0xMX09VVCkKICAgICAgICBzb2NrLT53YW50cmVhZCA9IFRSVUU7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiaGFuZGxlX3NvY2tldCBzb2NrPSVkLCB3YW50d3JpdGU9JWQsIHdhbnRyZWFkPSVkXG4iLCBzb2NrLT5zb2NrZmQsIHNvY2stPndhbnR3cml0ZSwgc29jay0+d2FudHJlYWQpOwoKICAgICAgYnJlYWs7CiAgICBjYXNlIENVUkxfUE9MTF9SRU1PVkU6CiAgICAgIGlmKHNvY2tldHApIHsKICAgICAgICBqc19mcmVlKGNhbGxiYWNrX2RhdGEtPmN0eCwgc29ja2V0cCk7CiAgICAgICAgY3VybF9tdWx0aV9hc3NpZ24oY2FsbGJhY2tfZGF0YS0+bXVsdGksIHMsIE5VTEwpOwogICAgICB9CgogICAgICBicmVhazsKICAgIGRlZmF1bHQ6IGFib3J0KCk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBDVVJMKiBjdXJsID0gMDsKICBDVVJMTSogbXVsdGkgPSAwOwogIENVUkxjb2RlIGN1cmxSZXM7CiAgLy8gY29uc3QgY2hhciogdXJsOwogIEZJTEUqIGZpOwogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBNaW5uZXRSZXNwb25zZSogcmVzOwogIHVpbnQ4X3QqIGJ1ZmZlcjsKICBsb25nIGJ1ZlNpemU7CiAgbG9uZyBzdGF0dXM7CiAgY2hhciogdHlwZTsKICBjb25zdCBjaGFyKiBib2R5X3N0ciA9IE5VTEw7CiAgc3RydWN0IGN1cmxfc2xpc3QqIGhlYWRlcmxpc3QgPSBOVUxMOwogIHN0cnVjdCBoZWFkZXJfY29udGV4dCBoY3R4ID0ge2N0eCwgMH07CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSAwOwogIGludCBzdGlsbF9ydW5uaW5nID0gMTsKCiAgcmVxID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIEpTVmFsdWUgcmVzT2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHJlc09iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHJlcyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoKnJlcykpOwoKICBpZighcmVzKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXNPYmopOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIC8qaWYoIUpTX0lzU3RyaW5nKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsqLwoKICB1cmxfY29weSgmcmVzLT51cmwsICZyZXEtPnVybCwgY3R4KTsKCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgIEpTVmFsdWUgbWV0aG9kLCBib2R5LCBoZWFkZXJzOwogICAgY29uc3QgY2hhciogbWV0aG9kX3N0cjsKICAgIG1ldGhvZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgIm1ldGhvZCIpOwogICAgYm9keSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgImJvZHkiKTsKICAgIGhlYWRlcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMV0sICJoZWFkZXJzIik7CiAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgIGhlYWRlcl9saXN0KGN0eCwgaGVhZGVycywgJmhlYWRlcmxpc3QpOwogICAgbWV0aG9kX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG1ldGhvZCk7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGJvZHkpIHx8ICFzdHJjYXNlY21wKG1ldGhvZF9zdHIsICJwb3N0IikpIHsKICAgICAgYm9keV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBib2R5KTsKICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1ldGhvZF9zdHIpOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1ldGhvZCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGhlYWRlcnMpOwogIH0KCiAgY3VybF9nbG9iYWxfaW5pdChDVVJMX0dMT0JBTF9ERUZBVUxUKTsKCiAgaWYoIShtdWx0aSA9IGN1cmxfbXVsdGlfaW5pdCgpKSB8fCAhKGN1cmwgPSBjdXJsX2Vhc3lfaW5pdCgpKSB8fCAhKGNhbGxiYWNrX2RhdGEgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCBjdXJsX2NhbGxiYWNrKSkpKSB7CiAgICByZXNPYmogPSBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgICBnb3RvIGZhaWw7CiAgfQoKICBjYWxsYmFja19kYXRhLT5jdHggPSBjdHg7CiAgY2FsbGJhY2tfZGF0YS0+bXVsdGkgPSBtdWx0aTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfU09DS0VURlVOQ1RJT04sIGhhbmRsZV9zb2NrZXQpOwogIGN1cmxfbXVsdGlfc2V0b3B0KG11bHRpLCBDVVJMTU9QVF9TT0NLRVREQVRBLCBjYWxsYmFja19kYXRhKTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfVElNRVJGVU5DVElPTiwgc3RhcnRfdGltZW91dCk7CiAgY3VybF9tdWx0aV9zZXRvcHQobXVsdGksIENVUkxNT1BUX1RJTUVSREFUQSwgY2FsbGJhY2tfZGF0YSk7CiAgZmkgPSB0bXBmaWxlKCk7CiAgaGN0eC5idWYgPSAmcmVzLT5oZWFkZXJzOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9VUkwsIHVybCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxTCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX1VTRVJBR0VOVCwgIm1pbmltYWwtbmV0d29yay1xdWlja2pzIik7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0hUVFBIRUFERVIsIGhlYWRlcmxpc3QpOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9XUklURURBVEEsIGZpKTsKICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfSEVBREVSRlVOQ1RJT04sICZoZWFkZXJfY2FsbGJhY2spOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9IRUFERVJEQVRBLCAmaGN0eCk7CiAgaWYoYm9keV9zdHIpCiAgICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfUE9TVEZJRUxEUywgYm9keV9zdHIpOwogIGN1cmxfbXVsdGlfYWRkX2hhbmRsZShtdWx0aSwgY3VybCk7CgogIGlmKHN0aWxsX3J1bm5pbmcpIHsKICAgIENVUkxNc2cqIG1zZzsKICAgIGludCBxdWV1ZWQ7CiAgICBDVVJMTWNvZGUgbWMgPSBjdXJsX211bHRpX3BlcmZvcm0obXVsdGksICZzdGlsbF9ydW5uaW5nKTsKICB9CgpmaW5pc2g6CgogIGN1cmxfc2xpc3RfZnJlZV9hbGwoaGVhZGVybGlzdCk7CiAgaWYoYm9keV9zdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGJvZHlfc3RyKTsKICBKU19TZXRPcGFxdWUocmVzT2JqLCByZXMpOwoKZmFpbDoKICBpZihjYWxsYmFja19kYXRhKQogICAganNfZnJlZShjdHgsIGNhbGxiYWNrX2RhdGEpOwogIGlmKGN1cmwpCiAgICBjdXJsX2Vhc3lfY2xlYW51cChjdXJsKTsKICBpZihtdWx0aSkKICAgIGN1cmxfbXVsdGlfY2xlYW51cChtdWx0aSk7CiAgY3VybF9nbG9iYWxfY2xlYW51cCgpOwogIHJldHVybiByZXNPYmo7Cn0KCiNlbmRpZgoAAAAAAAAAAAooAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wcAAAAAAAB5CAAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAKKAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWNsaWVudC5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgoKI2lmbmRlZiBVU0VfQ1VSTAoKc3RydWN0IGZldGNoX2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdGF0aWMgc3RydWN0IGZldGNoX2Nsb3N1cmUqCmZldGNoX2Nsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX21hbGxvY3ooY3R4LCBzaXplb2Yoc3RydWN0IGZldGNoX2Nsb3N1cmUpKTsKfQoKc3RhdGljIHN0cnVjdCBmZXRjaF9jbG9zdXJlKgpmZXRjaF9jbG9zdXJlX2R1cChzdHJ1Y3QgZmV0Y2hfY2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CgpzdGF0aWMgdm9pZApmZXRjaF9jbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPmNsaWVudCkgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNsaWVudC0+Y29udGV4dC5qczsKCiAgICAgIGNsaWVudF9mcmVlKGNsb3N1cmUtPmNsaWVudCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgplbnVtIHsKICBPTl9IVFRQID0gMCwKICBPTl9FUlJPUiwKICBPTl9DTE9TRSwKICBPTl9GRCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmZldGNoX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBjbG9zdXJlLT5jbGllbnQ7CgogIC8vIHByaW50ZigiJXMgbWFnaWM9JXMgY2xpZW50PSVwXG4iLCBfX2Z1bmNfXywgbWFnaWMgPT0gT05fSFRUUCA/ICJPTl9IVFRQIiA6IG1hZ2ljID09IE9OX0VSUk9SID8gIk9OX0VSUk9SIiA6ICJPTl9GRCIsIGNsaWVudCk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBPTl9IVFRQOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmY2xpZW50LT5wcm9taXNlLCBhcmd2WzFdKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBPTl9DTE9TRToKICAgIGNhc2UgT05fRVJST1I6IHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIiVzOiAlcyIsIG1hZ2ljID09IE9OX0NMT1NFID8gIm9uQ2xvc2UiIDogIm9uRXJyb3IiLCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgICAvLyAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3JlamVjdChjdHgsICZjbGllbnQtPnByb21pc2UsIGVycik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVycik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgT05fRkQ6IHsKICAgICAgSlNWYWx1ZSBvcywgdG1wLCBzZXRfd3JpdGUsIHNldF9yZWFkLCBhcmdzWzJdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwogICAgICBvcyA9IGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKICAgICAgaWYoIUpTX0lzT2JqZWN0KG9zKSkKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiZ2xvYmFsVGhpcy5vcyBtdXN0IGJlIGltcG9ydGVkIG1vZHVsZSIpOwogICAgICBzZXRfcmVhZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3MsICJzZXRSZWFkSGFuZGxlciIpOwogICAgICBzZXRfd3JpdGUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIik7CiAgICAgIGFyZ3NbMV0gPSBhcmd2WzFdOwogICAgICB0bXAgPSBKU19DYWxsKGN0eCwgc2V0X3JlYWQsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgYXJnc1sxXSA9IGFyZ3ZbMl07CiAgICAgIHRtcCA9IEpTX0NhbGwoY3R4LCBzZXRfd3JpdGUsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgb3MpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfd3JpdGUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfcmVhZCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCwgaGFuZGxlcnNbNF0sIGFyZ3NbMl07CiAgTWlubmV0Q2xvc3VyZSogY2M7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGZjOwoKICBpZihhcmdjID49IDIgJiYgIUpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDIgbXVzdCBiZSBhbiBvYmplY3QiKTsKCiAgaWYoIShmYyA9IGZldGNoX2Nsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaWYoIShjYyA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgYXJnc1swXSA9IGFyZ3ZbMF07CiAgYXJnc1sxXSA9IGFyZ2MgPD0gMSA/IEpTX05ld09iamVjdChjdHgpIDogSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKTsKCiAgaGFuZGxlcnNbMF0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9IVFRQLCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CiAgaGFuZGxlcnNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9FUlJPUiwgZmV0Y2hfY2xvc3VyZV9kdXAoZmMpLCBmZXRjaF9jbG9zdXJlX2ZyZWUpOwogIGhhbmRsZXJzWzJdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmZmV0Y2hfaGFuZGxlciwgMiwgT05fQ0xPU0UsIGZldGNoX2Nsb3N1cmVfZHVwKGZjKSwgZmV0Y2hfY2xvc3VyZV9mcmVlKTsKICBoYW5kbGVyc1szXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJmZldGNoX2hhbmRsZXIsIDMsIE9OX0ZELCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uSHR0cCIsIGhhbmRsZXJzWzBdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJvbkVycm9yIiwgaGFuZGxlcnNbMV0pOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uQ2xvc2UiLCBoYW5kbGVyc1syXSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcmdzWzFdLCAib25GZCIsIGhhbmRsZXJzWzNdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJibG9jayIsIEpTX0ZBTFNFKTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIDIsIGFyZ3MsIDAsIGNjKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIC8vIHByaW50ZigiJXMgdXJsPSVzIGNsaWVudD0lcFxuIiwgX19mdW5jX18sIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3NbMF0pLCBjYy0+Y2xpZW50KTsKCiAgZmMtPmNsaWVudCA9IGNsaWVudF9kdXAoY2MtPmNsaWVudCk7CgogIHJldHVybiByZXQ7Cn0KCiNlbHNlCiNpbmNsdWRlIDxjdXJsL2N1cmwuaD4KCnN0cnVjdCBoZWFkZXJfY29udGV4dCB7CiAgSlNDb250ZXh0KiBjdHg7CiAgTWlubmV0QnVmZmVyKiBidWY7Cn07CgpzdHJ1Y3QgY3VybF9jYWxsYmFjayB7CiAgSlNDb250ZXh0KiBjdHg7CiAgQ1VSTE0qIG11bHRpOwp9OwoKc3RydWN0IGN1cmxfc29ja2V0IHsKICBCT09MIHdhbnRyZWFkLCB3YW50d3JpdGU7CiAgY3VybF9zb2NrZXRfdCBzb2NrZmQ7Cn07CgpzdGF0aWMgc2l6ZV90CmhlYWRlcl9jYWxsYmFjayhjaGFyKiB4LCBzaXplX3Qgbiwgc2l6ZV90IG5pdGVtcywgdm9pZCogdXNlcmRhdGEpIHsKICBzdHJ1Y3QgaGVhZGVyX2NvbnRleHQqIGhjID0gdXNlcmRhdGE7CiAgc2l6ZV90IGk7CiAgZm9yKGkgPSBuaXRlbXM7IGkgPiAwOyAtLWkpCiAgICBpZighKHhbaSAtIDFdID09ICdccicgfHwgeFtpIC0gMV0gPT0gJ1xuJykpCiAgICAgIGJyZWFrOwogIGlmKGkgPiAwICYmIGJ1ZmZlcl9hcHBlbmQoaGMtPmJ1ZiwgeCwgaSArIDEsIGhjLT5jdHgpID4gMCkKICAgIGhjLT5idWYtPndyaXRlWy0xXSA9ICdcbic7CiAgcmV0dXJuIG5pdGVtcyAqIG47Cn0KCnN0YXRpYyBpbnQKc3RhcnRfdGltZW91dChDVVJMTSogbXVsdGksIGxvbmcgdGltZW91dF9tcywgdm9pZCogdXNlcnApIHsKICBzdHJ1Y3QgY3VybF9jYWxsYmFjayogY2FsbGJhY2tfZGF0YSA9IHVzZXJwOwogIHJldHVybiAwOwp9CgpzdGF0aWMgdm9pZApoZWFkZXJfbGlzdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGhlYWRlcnMsIHN0cnVjdCBjdXJsX3NsaXN0KiogbGlzdF9wdHIpIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIG9iamVjdF9jdG9yLCBrZXlzLCBuYW1lcywgbGVuZ3RoOwogIGludCBpOwogIGludDMyX3QgbGVuOwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICBvYmplY3RfY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsX29iaiwgIk9iamVjdCIpOwogIGtleXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdF9jdG9yLCAia2V5cyIpOwogIG5hbWVzID0gSlNfQ2FsbChjdHgsIGtleXMsIG9iamVjdF9jdG9yLCAxLCAoSlNWYWx1ZUNvbnN0KikmaGVhZGVycyk7CiAgbGVuZ3RoID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuYW1lcywgImxlbmd0aCIpOwogIEpTX1RvSW50MzIoY3R4LCAmbGVuLCBsZW5ndGgpOwoKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgSlNWYWx1ZSBrZXksIHZhbHVlOwogICAgY29uc3QgY2hhciAqa2V5X3N0ciwgKnZhbHVlX3N0cjsKICAgIHNpemVfdCBrZXlfbGVuLCB2YWx1ZV9sZW47CiAgICBrZXkgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG5hbWVzLCBpKTsKICAgIGtleV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBrZXkpOwogICAga2V5X2xlbiA9IHN0cmxlbihrZXlfc3RyKTsKICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBoZWFkZXJzLCBrZXlfc3RyKTsKICAgIHZhbHVlX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHZhbHVlX2xlbiA9IHN0cmxlbih2YWx1ZV9zdHIpOwogICAgewogICAgICBzaXplX3QgYnVmc2l6ZSA9IDA7CiAgICAgIGNoYXIgYnVmW2tleV9sZW4gKyAyICsgdmFsdWVfbGVuICsgMiArIDFdOwogICAgICBzdHJjcHkoJmJ1ZltidWZzaXplXSwga2V5X3N0cik7CiAgICAgIGJ1ZnNpemUgKz0ga2V5X2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICI6ICIpOwogICAgICBidWZzaXplICs9IDI7CiAgICAgIHN0cmNweSgmYnVmW2J1ZnNpemVdLCB2YWx1ZV9zdHIpOwogICAgICBidWZzaXplICs9IHZhbHVlX2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICJcMFxuIik7CiAgICAgIGJ1ZnNpemUgKz0gMjsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBrZXlfc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZV9zdHIpOwogICAgICAqbGlzdF9wdHIgPSBjdXJsX3NsaXN0X2FwcGVuZCgqbGlzdF9wdHIsIGJ1Zik7CiAgICB9CiAgfQoKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmplY3RfY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwga2V5cyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZXMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7Cn0KCnN0YXRpYyBpbnQKaGFuZGxlX3NvY2tldChDVVJMKiBlYXN5LCBjdXJsX3NvY2tldF90IHMsIGludCBhY3Rpb24sIHZvaWQqIHVzZXJwLCB2b2lkKiBzb2NrZXRwKSB7CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSB1c2VycDsKICBzdHJ1Y3QgY3VybF9zb2NrZXQqIHNvY2s7CiAgaW50IGV2ZW50cyA9IDA7CiAgc3dpdGNoKGFjdGlvbikgewogICAgY2FzZSBDVVJMX1BPTExfSU46CiAgICBjYXNlIENVUkxfUE9MTF9PVVQ6CiAgICBjYXNlIENVUkxfUE9MTF9JTk9VVDoKICAgICAgc29jayA9IChzdHJ1Y3QgY3VybF9zb2NrZXQqKShzb2NrZXRwID8gc29ja2V0cCA6IGpzX21hbGxvY3ooY2FsbGJhY2tfZGF0YS0+Y3R4LCBzaXplb2Yoc3RydWN0IGN1cmxfc29ja2V0KSkpOwogICAgICBjdXJsX211bHRpX2Fzc2lnbihjYWxsYmFja19kYXRhLT5tdWx0aSwgcywgKHZvaWQqKXNvY2spOwoKICAgICAgc29jay0+c29ja2ZkID0gczsKICAgICAgaWYoYWN0aW9uICE9IENVUkxfUE9MTF9JTikKICAgICAgICBzb2NrLT53YW50d3JpdGUgPSBUUlVFOwogICAgICBpZihhY3Rpb24gIT0gQ1VSTF9QT0xMX09VVCkKICAgICAgICBzb2NrLT53YW50cmVhZCA9IFRSVUU7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiaGFuZGxlX3NvY2tldCBzb2NrPSVkLCB3YW50d3JpdGU9JWQsIHdhbnRyZWFkPSVkXG4iLCBzb2NrLT5zb2NrZmQsIHNvY2stPndhbnR3cml0ZSwgc29jay0+d2FudHJlYWQpOwoKICAgICAgYnJlYWs7CiAgICBjYXNlIENVUkxfUE9MTF9SRU1PVkU6CiAgICAgIGlmKHNvY2tldHApIHsKICAgICAgICBqc19mcmVlKGNhbGxiYWNrX2RhdGEtPmN0eCwgc29ja2V0cCk7CiAgICAgICAgY3VybF9tdWx0aV9hc3NpZ24oY2FsbGJhY2tfZGF0YS0+bXVsdGksIHMsIE5VTEwpOwogICAgICB9CgogICAgICBicmVhazsKICAgIGRlZmF1bHQ6IGFib3J0KCk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBDVVJMKiBjdXJsID0gMDsKICBDVVJMTSogbXVsdGkgPSAwOwogIENVUkxjb2RlIGN1cmxSZXM7CiAgLy8gY29uc3QgY2hhciogdXJsOwogIEZJTEUqIGZpOwogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBNaW5uZXRSZXNwb25zZSogcmVzOwogIHVpbnQ4X3QqIGJ1ZmZlcjsKICBsb25nIGJ1ZlNpemU7CiAgbG9uZyBzdGF0dXM7CiAgY2hhciogdHlwZTsKICBjb25zdCBjaGFyKiBib2R5X3N0ciA9IE5VTEw7CiAgc3RydWN0IGN1cmxfc2xpc3QqIGhlYWRlcmxpc3QgPSBOVUxMOwogIHN0cnVjdCBoZWFkZXJfY29udGV4dCBoY3R4ID0ge2N0eCwgMH07CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSAwOwogIGludCBzdGlsbF9ydW5uaW5nID0gMTsKCiAgcmVxID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIEpTVmFsdWUgcmVzT2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHJlc09iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHJlcyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoKnJlcykpOwoKICBpZighcmVzKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXNPYmopOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIC8qaWYoIUpTX0lzU3RyaW5nKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsqLwoKICB1cmxfY29weSgmcmVzLT51cmwsICZyZXEtPnVybCwgY3R4KTsKCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgIEpTVmFsdWUgbWV0aG9kLCBib2R5LCBoZWFkZXJzOwogICAgY29uc3QgY2hhciogbWV0aG9kX3N0cjsKICAgIG1ldGhvZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgIm1ldGhvZCIpOwogICAgYm9keSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgImJvZHkiKTsKICAgIGhlYWRlcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMV0sICJoZWFkZXJzIik7CiAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgIGhlYWRlcl9saXN0KGN0eCwgaGVhZGVycywgJmhlYWRlcmxpc3QpOwogICAgbWV0aG9kX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG1ldGhvZCk7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGJvZHkpIHx8ICFzdHJjYXNlY21wKG1ldGhvZF9zdHIsICJwb3N0IikpIHsKICAgICAgYm9keV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBib2R5KTsKICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1ldGhvZF9zdHIpOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1ldGhvZCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGhlYWRlcnMpOwogIH0KCiAgY3VybF9nbG9iYWxfaW5pdChDVVJMX0dMT0JBTF9ERUZBVUxUKTsKCiAgaWYoIShtdWx0aSA9IGN1cmxfbXVsdGlfaW5pdCgpKSB8fCAhKGN1cmwgPSBjdXJsX2Vhc3lfaW5pdCgpKSB8fCAhKGNhbGxiYWNrX2RhdGEgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCBjdXJsX2NhbGxiYWNrKSkpKSB7CiAgICByZXNPYmogPSBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgICBnb3RvIGZhaWw7CiAgfQoKICBjYWxsYmFja19kYXRhLT5jdHggPSBjdHg7CiAgY2FsbGJhY2tfZGF0YS0+bXVsdGkgPSBtdWx0aTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfU09DS0VURlVOQ1RJT04sIGhhbmRsZV9zb2NrZXQpOwogIGN1cmxfbXVsdGlfc2V0b3B0KG11bHRpLCBDVVJMTU9QVF9TT0NLRVREQVRBLCBjYWxsYmFja19kYXRhKTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfVElNRVJGVU5DVElPTiwgc3RhcnRfdGltZW91dCk7CiAgY3VybF9tdWx0aV9zZXRvcHQobXVsdGksIENVUkxNT1BUX1RJTUVSREFUQSwgY2FsbGJhY2tfZGF0YSk7CiAgZmkgPSB0bXBmaWxlKCk7CiAgaGN0eC5idWYgPSAmcmVzLT5oZWFkZXJzOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9VUkwsIHVybCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxTCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX1VTRVJBR0VOVCwgIm1pbmltYWwtbmV0d29yay1xdWlja2pzIik7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0hUVFBIRUFERVIsIGhlYWRlcmxpc3QpOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9XUklURURBVEEsIGZpKTsKICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfSEVBREVSRlVOQ1RJT04sICZoZWFkZXJfY2FsbGJhY2spOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9IRUFERVJEQVRBLCAmaGN0eCk7CiAgaWYoYm9keV9zdHIpCiAgICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfUE9TVEZJRUxEUywgYm9keV9zdHIpOwogIGN1cmxfbXVsdGlfYWRkX2hhbmRsZShtdWx0aSwgY3VybCk7CgogIGlmKHN0aWxsX3J1bm5pbmcpIHsKICAgIENVUkxNc2cqIG1zZzsKICAgIGludCBxdWV1ZWQ7CiAgICBDVVJMTWNvZGUgbWMgPSBjdXJsX211bHRpX3BlcmZvcm0obXVsdGksICZzdGlsbF9ydW5uaW5nKTsKICB9CgpmaW5pc2g6CgogIGN1cmxfc2xpc3RfZnJlZV9hbGwoaGVhZGVybGlzdCk7CiAgaWYoYm9keV9zdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGJvZHlfc3RyKTsKICBKU19TZXRPcGFxdWUocmVzT2JqLCByZXMpOwoKZmFpbDoKICBpZihjYWxsYmFja19kYXRhKQogICAganNfZnJlZShjdHgsIGNhbGxiYWNrX2RhdGEpOwogIGlmKGN1cmwpCiAgICBjdXJsX2Vhc3lfY2xlYW51cChjdXJsKTsKICBpZihtdWx0aSkKICAgIGN1cmxfbXVsdGlfY2xlYW51cChtdWx0aSk7CiAgY3VybF9nbG9iYWxfY2xlYW51cCgpOwogIHJldHVybiByZXNPYmo7Cn0KCiNlbmRpZgoAAAAAAAAAAAooAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wcAAAAAAAB5CAAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAKKAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWNsaWVudC5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgoKI2lmbmRlZiBVU0VfQ1VSTAoKc3RydWN0IGZldGNoX2Nsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQ7Cn07CgpzdGF0aWMgc3RydWN0IGZldGNoX2Nsb3N1cmUqCmZldGNoX2Nsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX21hbGxvY3ooY3R4LCBzaXplb2Yoc3RydWN0IGZldGNoX2Nsb3N1cmUpKTsKfQoKc3RhdGljIHN0cnVjdCBmZXRjaF9jbG9zdXJlKgpmZXRjaF9jbG9zdXJlX2R1cChzdHJ1Y3QgZmV0Y2hfY2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CgpzdGF0aWMgdm9pZApmZXRjaF9jbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBwdHI7CgogIGlmKC0tY2xvc3VyZS0+cmVmX2NvdW50ID09IDApIHsKICAgIGlmKGNsb3N1cmUtPmNsaWVudCkgewogICAgICBKU0NvbnRleHQqIGN0eCA9IGNsb3N1cmUtPmNsaWVudC0+Y29udGV4dC5qczsKCiAgICAgIGNsaWVudF9mcmVlKGNsb3N1cmUtPmNsaWVudCk7CgogICAgICBqc19mcmVlKGN0eCwgY2xvc3VyZSk7CiAgICB9CiAgfQp9CgplbnVtIHsKICBPTl9IVFRQID0gMCwKICBPTl9FUlJPUiwKICBPTl9DTE9TRSwKICBPTl9GRCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmZldGNoX2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBjbG9zdXJlLT5jbGllbnQ7CgogIC8vIHByaW50ZigiJXMgbWFnaWM9JXMgY2xpZW50PSVwXG4iLCBfX2Z1bmNfXywgbWFnaWMgPT0gT05fSFRUUCA/ICJPTl9IVFRQIiA6IG1hZ2ljID09IE9OX0VSUk9SID8gIk9OX0VSUk9SIiA6ICJPTl9GRCIsIGNsaWVudCk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBPTl9IVFRQOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmY2xpZW50LT5wcm9taXNlLCBhcmd2WzFdKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBPTl9DTE9TRToKICAgIGNhc2UgT05fRVJST1I6IHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIiVzOiAlcyIsIG1hZ2ljID09IE9OX0NMT1NFID8gIm9uQ2xvc2UiIDogIm9uRXJyb3IiLCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgICAvLyAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3JlamVjdChjdHgsICZjbGllbnQtPnByb21pc2UsIGVycik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVycik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgT05fRkQ6IHsKICAgICAgSlNWYWx1ZSBvcywgdG1wLCBzZXRfd3JpdGUsIHNldF9yZWFkLCBhcmdzWzJdID0ge2FyZ3ZbMF0sIEpTX05VTEx9OwogICAgICBvcyA9IGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKICAgICAgaWYoIUpTX0lzT2JqZWN0KG9zKSkKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiZ2xvYmFsVGhpcy5vcyBtdXN0IGJlIGltcG9ydGVkIG1vZHVsZSIpOwogICAgICBzZXRfcmVhZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3MsICJzZXRSZWFkSGFuZGxlciIpOwogICAgICBzZXRfd3JpdGUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9zLCAic2V0V3JpdGVIYW5kbGVyIik7CiAgICAgIGFyZ3NbMV0gPSBhcmd2WzFdOwogICAgICB0bXAgPSBKU19DYWxsKGN0eCwgc2V0X3JlYWQsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgYXJnc1sxXSA9IGFyZ3ZbMl07CiAgICAgIHRtcCA9IEpTX0NhbGwoY3R4LCBzZXRfd3JpdGUsIG9zLCAyLCBhcmdzKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdG1wKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgb3MpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfd3JpdGUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfcmVhZCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCwgaGFuZGxlcnNbNF0sIGFyZ3NbMl07CiAgTWlubmV0Q2xvc3VyZSogY2M7CiAgc3RydWN0IGZldGNoX2Nsb3N1cmUqIGZjOwoKICBpZihhcmdjID49IDIgJiYgIUpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDIgbXVzdCBiZSBhbiBvYmplY3QiKTsKCiAgaWYoIShmYyA9IGZldGNoX2Nsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaWYoIShjYyA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgYXJnc1swXSA9IGFyZ3ZbMF07CiAgYXJnc1sxXSA9IGFyZ2MgPD0gMSA/IEpTX05ld09iamVjdChjdHgpIDogSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKTsKCiAgaGFuZGxlcnNbMF0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9IVFRQLCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CiAgaGFuZGxlcnNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZmZXRjaF9oYW5kbGVyLCAyLCBPTl9FUlJPUiwgZmV0Y2hfY2xvc3VyZV9kdXAoZmMpLCBmZXRjaF9jbG9zdXJlX2ZyZWUpOwogIGhhbmRsZXJzWzJdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmZmV0Y2hfaGFuZGxlciwgMiwgT05fQ0xPU0UsIGZldGNoX2Nsb3N1cmVfZHVwKGZjKSwgZmV0Y2hfY2xvc3VyZV9mcmVlKTsKICBoYW5kbGVyc1szXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJmZldGNoX2hhbmRsZXIsIDMsIE9OX0ZELCBmZXRjaF9jbG9zdXJlX2R1cChmYyksIGZldGNoX2Nsb3N1cmVfZnJlZSk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uSHR0cCIsIGhhbmRsZXJzWzBdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJvbkVycm9yIiwgaGFuZGxlcnNbMV0pOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnc1sxXSwgIm9uQ2xvc2UiLCBoYW5kbGVyc1syXSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcmdzWzFdLCAib25GZCIsIGhhbmRsZXJzWzNdKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3NbMV0sICJibG9jayIsIEpTX0ZBTFNFKTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIDIsIGFyZ3MsIDAsIGNjKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIC8vIHByaW50ZigiJXMgdXJsPSVzIGNsaWVudD0lcFxuIiwgX19mdW5jX18sIEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3NbMF0pLCBjYy0+Y2xpZW50KTsKCiAgZmMtPmNsaWVudCA9IGNsaWVudF9kdXAoY2MtPmNsaWVudCk7CgogIHJldHVybiByZXQ7Cn0KCiNlbHNlCiNpbmNsdWRlIDxjdXJsL2N1cmwuaD4KCnN0cnVjdCBoZWFkZXJfY29udGV4dCB7CiAgSlNDb250ZXh0KiBjdHg7CiAgTWlubmV0QnVmZmVyKiBidWY7Cn07CgpzdHJ1Y3QgY3VybF9jYWxsYmFjayB7CiAgSlNDb250ZXh0KiBjdHg7CiAgQ1VSTE0qIG11bHRpOwp9OwoKc3RydWN0IGN1cmxfc29ja2V0IHsKICBCT09MIHdhbnRyZWFkLCB3YW50d3JpdGU7CiAgY3VybF9zb2NrZXRfdCBzb2NrZmQ7Cn07CgpzdGF0aWMgc2l6ZV90CmhlYWRlcl9jYWxsYmFjayhjaGFyKiB4LCBzaXplX3Qgbiwgc2l6ZV90IG5pdGVtcywgdm9pZCogdXNlcmRhdGEpIHsKICBzdHJ1Y3QgaGVhZGVyX2NvbnRleHQqIGhjID0gdXNlcmRhdGE7CiAgc2l6ZV90IGk7CiAgZm9yKGkgPSBuaXRlbXM7IGkgPiAwOyAtLWkpCiAgICBpZighKHhbaSAtIDFdID09ICdccicgfHwgeFtpIC0gMV0gPT0gJ1xuJykpCiAgICAgIGJyZWFrOwogIGlmKGkgPiAwICYmIGJ1ZmZlcl9hcHBlbmQoaGMtPmJ1ZiwgeCwgaSArIDEsIGhjLT5jdHgpID4gMCkKICAgIGhjLT5idWYtPndyaXRlWy0xXSA9ICdcbic7CiAgcmV0dXJuIG5pdGVtcyAqIG47Cn0KCnN0YXRpYyBpbnQKc3RhcnRfdGltZW91dChDVVJMTSogbXVsdGksIGxvbmcgdGltZW91dF9tcywgdm9pZCogdXNlcnApIHsKICBzdHJ1Y3QgY3VybF9jYWxsYmFjayogY2FsbGJhY2tfZGF0YSA9IHVzZXJwOwogIHJldHVybiAwOwp9CgpzdGF0aWMgdm9pZApoZWFkZXJfbGlzdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGhlYWRlcnMsIHN0cnVjdCBjdXJsX3NsaXN0KiogbGlzdF9wdHIpIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIG9iamVjdF9jdG9yLCBrZXlzLCBuYW1lcywgbGVuZ3RoOwogIGludCBpOwogIGludDMyX3QgbGVuOwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICBvYmplY3RfY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsX29iaiwgIk9iamVjdCIpOwogIGtleXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdF9jdG9yLCAia2V5cyIpOwogIG5hbWVzID0gSlNfQ2FsbChjdHgsIGtleXMsIG9iamVjdF9jdG9yLCAxLCAoSlNWYWx1ZUNvbnN0KikmaGVhZGVycyk7CiAgbGVuZ3RoID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuYW1lcywgImxlbmd0aCIpOwogIEpTX1RvSW50MzIoY3R4LCAmbGVuLCBsZW5ndGgpOwoKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgSlNWYWx1ZSBrZXksIHZhbHVlOwogICAgY29uc3QgY2hhciAqa2V5X3N0ciwgKnZhbHVlX3N0cjsKICAgIHNpemVfdCBrZXlfbGVuLCB2YWx1ZV9sZW47CiAgICBrZXkgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG5hbWVzLCBpKTsKICAgIGtleV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBrZXkpOwogICAga2V5X2xlbiA9IHN0cmxlbihrZXlfc3RyKTsKICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBoZWFkZXJzLCBrZXlfc3RyKTsKICAgIHZhbHVlX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHZhbHVlX2xlbiA9IHN0cmxlbih2YWx1ZV9zdHIpOwogICAgewogICAgICBzaXplX3QgYnVmc2l6ZSA9IDA7CiAgICAgIGNoYXIgYnVmW2tleV9sZW4gKyAyICsgdmFsdWVfbGVuICsgMiArIDFdOwogICAgICBzdHJjcHkoJmJ1ZltidWZzaXplXSwga2V5X3N0cik7CiAgICAgIGJ1ZnNpemUgKz0ga2V5X2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICI6ICIpOwogICAgICBidWZzaXplICs9IDI7CiAgICAgIHN0cmNweSgmYnVmW2J1ZnNpemVdLCB2YWx1ZV9zdHIpOwogICAgICBidWZzaXplICs9IHZhbHVlX2xlbjsKICAgICAgc3RyY3B5KCZidWZbYnVmc2l6ZV0sICJcMFxuIik7CiAgICAgIGJ1ZnNpemUgKz0gMjsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBrZXlfc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZV9zdHIpOwogICAgICAqbGlzdF9wdHIgPSBjdXJsX3NsaXN0X2FwcGVuZCgqbGlzdF9wdHIsIGJ1Zik7CiAgICB9CiAgfQoKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmplY3RfY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwga2V5cyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgbmFtZXMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7Cn0KCnN0YXRpYyBpbnQKaGFuZGxlX3NvY2tldChDVVJMKiBlYXN5LCBjdXJsX3NvY2tldF90IHMsIGludCBhY3Rpb24sIHZvaWQqIHVzZXJwLCB2b2lkKiBzb2NrZXRwKSB7CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSB1c2VycDsKICBzdHJ1Y3QgY3VybF9zb2NrZXQqIHNvY2s7CiAgaW50IGV2ZW50cyA9IDA7CiAgc3dpdGNoKGFjdGlvbikgewogICAgY2FzZSBDVVJMX1BPTExfSU46CiAgICBjYXNlIENVUkxfUE9MTF9PVVQ6CiAgICBjYXNlIENVUkxfUE9MTF9JTk9VVDoKICAgICAgc29jayA9IChzdHJ1Y3QgY3VybF9zb2NrZXQqKShzb2NrZXRwID8gc29ja2V0cCA6IGpzX21hbGxvY3ooY2FsbGJhY2tfZGF0YS0+Y3R4LCBzaXplb2Yoc3RydWN0IGN1cmxfc29ja2V0KSkpOwogICAgICBjdXJsX211bHRpX2Fzc2lnbihjYWxsYmFja19kYXRhLT5tdWx0aSwgcywgKHZvaWQqKXNvY2spOwoKICAgICAgc29jay0+c29ja2ZkID0gczsKICAgICAgaWYoYWN0aW9uICE9IENVUkxfUE9MTF9JTikKICAgICAgICBzb2NrLT53YW50d3JpdGUgPSBUUlVFOwogICAgICBpZihhY3Rpb24gIT0gQ1VSTF9QT0xMX09VVCkKICAgICAgICBzb2NrLT53YW50cmVhZCA9IFRSVUU7CiAgICAgIGZwcmludGYoc3RkZXJyLCAiaGFuZGxlX3NvY2tldCBzb2NrPSVkLCB3YW50d3JpdGU9JWQsIHdhbnRyZWFkPSVkXG4iLCBzb2NrLT5zb2NrZmQsIHNvY2stPndhbnR3cml0ZSwgc29jay0+d2FudHJlYWQpOwoKICAgICAgYnJlYWs7CiAgICBjYXNlIENVUkxfUE9MTF9SRU1PVkU6CiAgICAgIGlmKHNvY2tldHApIHsKICAgICAgICBqc19mcmVlKGNhbGxiYWNrX2RhdGEtPmN0eCwgc29ja2V0cCk7CiAgICAgICAgY3VybF9tdWx0aV9hc3NpZ24oY2FsbGJhY2tfZGF0YS0+bXVsdGksIHMsIE5VTEwpOwogICAgICB9CgogICAgICBicmVhazsKICAgIGRlZmF1bHQ6IGFib3J0KCk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQptaW5uZXRfZmV0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBDVVJMKiBjdXJsID0gMDsKICBDVVJMTSogbXVsdGkgPSAwOwogIENVUkxjb2RlIGN1cmxSZXM7CiAgLy8gY29uc3QgY2hhciogdXJsOwogIEZJTEUqIGZpOwogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBNaW5uZXRSZXNwb25zZSogcmVzOwogIHVpbnQ4X3QqIGJ1ZmZlcjsKICBsb25nIGJ1ZlNpemU7CiAgbG9uZyBzdGF0dXM7CiAgY2hhciogdHlwZTsKICBjb25zdCBjaGFyKiBib2R5X3N0ciA9IE5VTEw7CiAgc3RydWN0IGN1cmxfc2xpc3QqIGhlYWRlcmxpc3QgPSBOVUxMOwogIHN0cnVjdCBoZWFkZXJfY29udGV4dCBoY3R4ID0ge2N0eCwgMH07CiAgc3RydWN0IGN1cmxfY2FsbGJhY2sqIGNhbGxiYWNrX2RhdGEgPSAwOwogIGludCBzdGlsbF9ydW5uaW5nID0gMTsKCiAgcmVxID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIEpTVmFsdWUgcmVzT2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHJlc09iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHJlcyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoKnJlcykpOwoKICBpZighcmVzKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXNPYmopOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIC8qaWYoIUpTX0lzU3RyaW5nKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsqLwoKICB1cmxfY29weSgmcmVzLT51cmwsICZyZXEtPnVybCwgY3R4KTsKCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgIEpTVmFsdWUgbWV0aG9kLCBib2R5LCBoZWFkZXJzOwogICAgY29uc3QgY2hhciogbWV0aG9kX3N0cjsKICAgIG1ldGhvZCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgIm1ldGhvZCIpOwogICAgYm9keSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlsxXSwgImJvZHkiKTsKICAgIGhlYWRlcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMV0sICJoZWFkZXJzIik7CiAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgIGhlYWRlcl9saXN0KGN0eCwgaGVhZGVycywgJmhlYWRlcmxpc3QpOwogICAgbWV0aG9kX3N0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIG1ldGhvZCk7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGJvZHkpIHx8ICFzdHJjYXNlY21wKG1ldGhvZF9zdHIsICJwb3N0IikpIHsKICAgICAgYm9keV9zdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBib2R5KTsKICAgIH0KCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1ldGhvZF9zdHIpOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1ldGhvZCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGhlYWRlcnMpOwogIH0KCiAgY3VybF9nbG9iYWxfaW5pdChDVVJMX0dMT0JBTF9ERUZBVUxUKTsKCiAgaWYoIShtdWx0aSA9IGN1cmxfbXVsdGlfaW5pdCgpKSB8fCAhKGN1cmwgPSBjdXJsX2Vhc3lfaW5pdCgpKSB8fCAhKGNhbGxiYWNrX2RhdGEgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCBjdXJsX2NhbGxiYWNrKSkpKSB7CiAgICByZXNPYmogPSBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgICBnb3RvIGZhaWw7CiAgfQoKICBjYWxsYmFja19kYXRhLT5jdHggPSBjdHg7CiAgY2FsbGJhY2tfZGF0YS0+bXVsdGkgPSBtdWx0aTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfU09DS0VURlVOQ1RJT04sIGhhbmRsZV9zb2NrZXQpOwogIGN1cmxfbXVsdGlfc2V0b3B0KG11bHRpLCBDVVJMTU9QVF9TT0NLRVREQVRBLCBjYWxsYmFja19kYXRhKTsKICBjdXJsX211bHRpX3NldG9wdChtdWx0aSwgQ1VSTE1PUFRfVElNRVJGVU5DVElPTiwgc3RhcnRfdGltZW91dCk7CiAgY3VybF9tdWx0aV9zZXRvcHQobXVsdGksIENVUkxNT1BUX1RJTUVSREFUQSwgY2FsbGJhY2tfZGF0YSk7CiAgZmkgPSB0bXBmaWxlKCk7CiAgaGN0eC5idWYgPSAmcmVzLT5oZWFkZXJzOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9VUkwsIHVybCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxTCk7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX1VTRVJBR0VOVCwgIm1pbmltYWwtbmV0d29yay1xdWlja2pzIik7CiAgY3VybF9lYXN5X3NldG9wdChjdXJsLCBDVVJMT1BUX0hUVFBIRUFERVIsIGhlYWRlcmxpc3QpOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9XUklURURBVEEsIGZpKTsKICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfSEVBREVSRlVOQ1RJT04sICZoZWFkZXJfY2FsbGJhY2spOwogIGN1cmxfZWFzeV9zZXRvcHQoY3VybCwgQ1VSTE9QVF9IRUFERVJEQVRBLCAmaGN0eCk7CiAgaWYoYm9keV9zdHIpCiAgICBjdXJsX2Vhc3lfc2V0b3B0KGN1cmwsIENVUkxPUFRfUE9TVEZJRUxEUywgYm9keV9zdHIpOwogIGN1cmxfbXVsdGlfYWRkX2hhbmRsZShtdWx0aSwgY3VybCk7CgogIGlmKHN0aWxsX3J1bm5pbmcpIHsKICAgIENVUkxNc2cqIG1zZzsKICAgIGludCBxdWV1ZWQ7CiAgICBDVVJMTWNvZGUgbWMgPSBjdXJsX211bHRpX3BlcmZvcm0obXVsdGksICZzdGlsbF9ydW5uaW5nKTsKICB9CgpmaW5pc2g6CgogIGN1cmxfc2xpc3RfZnJlZV9hbGwoaGVhZGVybGlzdCk7CiAgaWYoYm9keV9zdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGJvZHlfc3RyKTsKICBKU19TZXRPcGFxdWUocmVzT2JqLCByZXMpOwoKZmFpbDoKICBpZihjYWxsYmFja19kYXRhKQogICAganNfZnJlZShjdHgsIGNhbGxiYWNrX2RhdGEpOwogIGlmKGN1cmwpCiAgICBjdXJsX2Vhc3lfY2xlYW51cChjdXJsKTsKICBpZihtdWx0aSkKICAgIGN1cmxfbXVsdGlfY2xlYW51cChtdWx0aSk7CiAgY3VybF9nbG9iYWxfY2xlYW51cCgpOwogIHJldHVybiByZXNPYmo7Cn0KCiNlbmRpZgoAAAAAAAAAAAooAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wcAAAAAAAB5CAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet.h",
			"settings":
			{
				"buffer_size": 8334,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					22,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAABERAAAAAAAAEhEAAAAAAAAAAAAAEhEAAAAAAAASEQAAAAAAAAEAAAAq",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABIRAAAAAAAAEREAAAAAAAAAAAAAAADwvw"
				],
				[
					25,
					1,
					"left_delete",
					null,
					"AQAAABERAAAAAAAAEREAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABIRAAAAAAAAEhEAAAAAAAAAAAAAAADwvw"
				],
				[
					64,
					1,
					"cut",
					null,
					"AQAAAP8QAAAAAAAA/xAAAAAAAAAZAAAAICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAP8QAAAAAAAAGBEAAAAAAAAAAAAAAADwvw"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": "ockets"
					},
					"BwAAAOsTAAAAAAAA7BMAAAAAAAAAAAAA7BMAAAAAAADsEwAAAAAAAAcAAABlc3Npb25z7BMAAAAAAADtEwAAAAAAAAAAAADtEwAAAAAAAO4TAAAAAAAAAAAAAO4TAAAAAAAA7xMAAAAAAAAAAAAA7xMAAAAAAADwEwAAAAAAAAAAAADwEwAAAAAAAPETAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOsTAAAAAAAA8hMAAAAAAAAAAAAAAADwvw"
				],
				[
					104,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABwIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAABwIAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGgaAAAAAAAAcxoAAAAAAAAAAAAAAADwvw"
				],
				[
					105,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAABwIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAABwIAAAAAAAAAAAAAAAAAAAAAAAAHAgAAAAAAAAAAAAAAAAAAAAAAAAcCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGgaAAAAAAAAcxoAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABwIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAABwIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwhYAAAAAAADMFgAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABwIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAABwIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwhYAAAAAAADMFgAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABwIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAABwIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwhYAAAAAAADMFgAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "\nstruct"
					},
					"CAAAACMTAAAAAAAAJBMAAAAAAAAAAAAAJBMAAAAAAAAmEwAAAAAAAAAAAAAmEwAAAAAAACcTAAAAAAAAAAAAACcTAAAAAAAAKBMAAAAAAAAAAAAAKBMAAAAAAAApEwAAAAAAAAAAAAApEwAAAAAAACoTAAAAAAAAAAAAACoTAAAAAAAAKxMAAAAAAAAAAAAAKxMAAAAAAAAsEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIxMAAAAAAAAjEwAAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"insert",
					{
						"characters": " TimerClosure"
					},
					"DQAAACwTAAAAAAAALRMAAAAAAAAAAAAALRMAAAAAAAAuEwAAAAAAAAAAAAAuEwAAAAAAAC8TAAAAAAAAAAAAAC8TAAAAAAAAMBMAAAAAAAAAAAAAMBMAAAAAAAAxEwAAAAAAAAAAAAAxEwAAAAAAADITAAAAAAAAAAAAADITAAAAAAAAMxMAAAAAAAAAAAAAMxMAAAAAAAA0EwAAAAAAAAAAAAA0EwAAAAAAADUTAAAAAAAAAAAAADUTAAAAAAAANhMAAAAAAAAAAAAANhMAAAAAAAA3EwAAAAAAAAAAAAA3EwAAAAAAADgTAAAAAAAAAAAAADgTAAAAAAAAORMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALBMAAAAAAAAsEwAAAAAAAAAAAAAAAPC/"
				],
				[
					8,
					1,
					"insert",
					{
						"characters": "*"
					},
					"AQAAADkTAAAAAAAAOhMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAORMAAAAAAAA5EwAAAAAAAAAAAAAAAPC/"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": " timer;"
					},
					"BwAAADoTAAAAAAAAOxMAAAAAAAAAAAAAOxMAAAAAAAA8EwAAAAAAAAAAAAA8EwAAAAAAAD0TAAAAAAAAAAAAAD0TAAAAAAAAPhMAAAAAAAAAAAAAPhMAAAAAAAA/EwAAAAAAAAAAAAA/EwAAAAAAAEATAAAAAAAAAAAAAEATAAAAAAAAQRMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOhMAAAAAAAA6EwAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACOIAAAI2lmbmRlZiBNSU5ORVRfSAojZGVmaW5lIE1JTk5FVF9ICgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlICJqc3V0aWxzLmgiCgp1bmlvbiBieXRlX2J1ZmZlcjsKc3RydWN0IGh0dHBfcmVxdWVzdDsKCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbWlubmV0CiNlbmRpZgoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBNQVgoYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2RlZmluZSBNSU4oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKCiNkZWZpbmUgY291bnRvZih4KSAoc2l6ZW9mKHgpIC8gc2l6ZW9mKCh4KVswXSkpCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7LmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IH0gXAogIH0KI2RlZmluZSBKU19DR0VUU0VUX0ZMQUdTX0RFRihwcm9wX25hbWUsIGZnZXR0ZXIsIGZzZXR0ZXIsIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVQsIC51ID0gey5nZXRzZXQgPSB7LmdldCA9IHsuZ2V0dGVyX21hZ2ljID0gZmdldHRlcn0sIC5zZXQgPSB7LnNldHRlcl9tYWdpYyA9IGZzZXR0ZXJ9fSB9IFwKICB9CgojZGVmaW5lIEpTX0lOREVYX1NUUklOR19ERUYoaW5kZXgsIGNzdHIpIFwKICB7IFwKICAgIC5uYW1lID0gI2luZGV4LCAucHJvcF9mbGFncyA9IEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9FTlVNRVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfUFJPUF9TVFJJTkcsIC5tYWdpYyA9IDAsIC51ID0gey5zdHIgPSBjc3RyIH0gXAogIH0KI2RlZmluZSBKU19DRlVOQ19GTEFHU19ERUYocHJvcF9uYW1lLCBsZW5ndGgsIGZ1bmMxLCBmbGFncykgXAogIHsgXAogICAgLm5hbWUgPSBwcm9wX25hbWUsIC5wcm9wX2ZsYWdzID0gKGZsYWdzKSwgLmRlZl90eXBlID0gSlNfREVGX0NGVU5DLCAubWFnaWMgPSAwLCAudSA9IHsuZnVuYyA9IHtsZW5ndGgsIEpTX0NGVU5DX2dlbmVyaWMsIHsuZ2VuZXJpYyA9IGZ1bmMxfX0gfSBcCiAgfQojZGVmaW5lIFNFVExPRyhtYXhfbGV2ZWwpIGx3c19zZXRfbG9nX2xldmVsKCgoKChtYXhfbGV2ZWwpIDw8IDEpIC0gMSkgJiAofkxMTF9QQVJTRVIpKSB8IExMTF9VU0VSLCBOVUxMKTsKCiNkZWZpbmUgR0VUQ0JQUk9QKG9iaiwgb3B0LCBjYl9wdHIpIEdFVENCKEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBvcHQpLCBjYl9wdHIpCiNkZWZpbmUgR0VUQ0Iob3B0LCBjYl9wdHIpIEdFVENCVEhJUyhvcHQsIGNiX3B0ciwgdGhpc192YWwpCiNkZWZpbmUgR0VUQ0JUSElTKG9wdCwgY2JfcHRyLCB0aGlzX29iaikgXAogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBvcHQpKSB7IFwKICAgIGNiX3B0ciA9IChNaW5uZXRDYWxsYmFjayl7Y3R4LCBKU19EdXBWYWx1ZShjdHgsIHRoaXNfb2JqKSwgb3B0LCAjY2JfcHRyfTsgXAogIH0KCiNkZWZpbmUgRlJFRUNCKGNiX3B0cikgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLnRoaXNfb2JqKTsgXAogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfcHRyLmZ1bmNfb2JqKTsgXAogIH0gd2hpbGUoMCk7CgojZGVmaW5lIEFERChwdHIsIGluc3QsIG1lbWJlcikgXAogIGRvIHsgXAogICAgKCoocHRyKSkgPSAoaW5zdCk7IFwKICAgIChwdHIpID0gJigqKHB0cikpLT5tZW1iZXI7IFwKICB9IHdoaWxlKDApOwoKI2RlZmluZSBGRyhjKSAiXHgxYlszODs1OyIgYyAibSIKI2RlZmluZSBCRyhjKSAiXHgxYls0ODs1OyIgYyAibSIKI2RlZmluZSBGR0MoYywgc3RyKSBGRygjYykgc3RyIE5DCiNkZWZpbmUgQkdDKGMsIHN0cikgQkcoI2MpIHN0ciBOQwojZGVmaW5lIE5DICJceDFiWzBtIgoKI2RlZmluZSBMT0cobmFtZSwgZm10LCBhcmdzLi4uKSBsd3NsX3VzZXIoIiUtNXMiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiB3c2kjJSIgUFJJZDY0ICIgIiBmbXQgIlxuIiwgKG5hbWUpLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBvcGFxdWUgPyBvcGFxdWUtPnNlcmlhbCA6IC0xLCBhcmdzKTsKCiNpZmRlZiBfVGhyZWFkX2xvY2FsCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9UaHJlYWRfbG9jYWwKI2VsaWYgZGVmaW5lZChfX0dOVUNfXykgfHwgZGVmaW5lZChfX0lOVEVMX0NPTVBJTEVSKSB8fCBkZWZpbmVkKF9fU1VOUFJPX0NDKSB8fCBkZWZpbmVkKF9fSUJNQ1BQX18pCiNkZWZpbmUgVEhSRUFEX0xPQ0FMIF9fdGhyZWFkCiNlbGlmIGRlZmluZWQoX1dJTjMyKQojZGVmaW5lIFRIUkVBRF9MT0NBTCBfX2RlY2xzcGVjKHRocmVhZCkKI2Vsc2UKI2Vycm9yIE5vIFRMUyBpbXBsZW1lbnRhdGlvbiBmb3VuZC4KI2VuZGlmCgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAibWlubmV0LXVybC5oIgoKZW51bSB7IFJFQURfSEFORExFUiA9IDAsIFdSSVRFX0hBTkRMRVIgfTsKZW51bSBodHRwX21ldGhvZDsKCnR5cGVkZWYgc3RydWN0IGx3c19wb2xsZmQgTWlubmV0UG9sbEZkOwoKdHlwZWRlZiBlbnVtIGNsaWVudF9zdGF0ZSB7CiAgQ09OTkVDVElORyA9IDAsCiAgT1BFTiA9IDEsCiAgQ0xPU0lORyA9IDIsCiAgQ0xPU0VEID0gMywKfSBNaW5uZXRTdGF0dXM7Cgp0eXBlZGVmIGVudW0gb25fcHJvbWlzZSB7CiAgT05fUkVTT0xWRSA9IDAsCiAgT05fUkVKRUNULAp9IE1pbm5ldFByb21pc2VFdmVudDsKCnR5cGVkZWYgc3RydWN0IGNsb3N1cmUgewogIGludCByZWZfY291bnQ7CiAgdW5pb24gewogICAgc3RydWN0IGNvbnRleHQqIGNvbnRleHQ7CiAgICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICAgIHN0cnVjdCBzZXJ2ZXJfY29udGV4dCogc2VydmVyOwogIH07CiAgdm9pZCAoKmZyZWVfZnVuYykoLyp2b2lkKiovKTsKfSBNaW5uZXRDbG9zdXJlOwoKdHlwZWRlZiBzdHJ1Y3Qgd3NfY2FsbGJhY2sgewogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWUgdGhpc19vYmo7CiAgSlNWYWx1ZSBmdW5jX29iajsKICBjb25zdCBjaGFyKiBuYW1lOwp9IE1pbm5ldENhbGxiYWNrOwoKc3RhdGljIGlubGluZSB2b2lkCmNhbGxiYWNrX3plcm8oTWlubmV0Q2FsbGJhY2sqIGNiKSB7CiAgY2ItPmN0eCA9IDA7CiAgY2ItPnRoaXNfb2JqID0gSlNfVU5ERUZJTkVEOwogIGNiLT5mdW5jX29iaiA9IEpTX05VTEw7CiAgY2ItPm5hbWUgPSAwOwp9CgpzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbjsKc3RydWN0IGh0dHBfbW91bnQ7CnN0cnVjdCBzZXJ2ZXJfY29udGV4dDsKc3RydWN0IGNsaWVudF9jb250ZXh0OwoKZW51bSBodHRwX21ldGhvZCB7IE1FVEhPRF9HRVQgPSAwLCBNRVRIT0RfUE9TVCwgTUVUSE9EX09QVElPTlMsIE1FVEhPRF9QVVQsIE1FVEhPRF9QQVRDSCwgTUVUSE9EX0RFTEVURSwgTUVUSE9EX0NPTk5FQ1QsIE1FVEhPRF9IRUFEIH07Cgp0eXBlZGVmIGVudW0gaHR0cF9tZXRob2QgTWlubmV0SHR0cE1ldGhvZDsKCnR5cGVkZWYgc3RydWN0IHNlc3Npb25fZGF0YSB7CiAgSlNWYWx1ZSB3c19vYmo7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgSlNWYWx1ZSByZXFfb2JqOwogICAgICBKU1ZhbHVlIHJlc3Bfb2JqOwogICAgfTsKICAgIEpTVmFsdWUgYXJnc1syXTsKICB9OwogIHN0cnVjdCBodHRwX21vdW50KiBtb3VudDsKICBzdHJ1Y3QgcHJveHlfY29ubmVjdGlvbiogcHJveHk7CiAgSlNWYWx1ZSBnZW5lcmF0b3IsIG5leHQ7CiAgaW50IHNlcmlhbDsKICBCT09MIGgyOwogIGludDY0X3Qgd3JpdHRlbjsKICBzdHJ1Y3Qgc2VydmVyX2NvbnRleHQqIHNlcnZlcjsKICBzdHJ1Y3QgY2xpZW50X2NvbnRleHQqIGNsaWVudDsKICBNaW5uZXRCdWZmZXIgc2VuZF9idWY7Cn0gTWlubmV0U2Vzc2lvbjsKCnR5cGVkZWYgc3RydWN0IGNhbGxiYWNrcyB7CiAgTWlubmV0Q2FsbGJhY2sgbWVzc2FnZSwgY29ubmVjdCwgY2xvc2UsIHBvbmcsIGZkLCBodHRwOwp9IE1pbm5ldENhbGxiYWNrczsKCnN0YXRpYyBpbmxpbmUgdm9pZApjYWxsYmFja3NfemVybyhNaW5uZXRDYWxsYmFja3MqIGNicykgewogIGNhbGxiYWNrX3plcm8oJmNicy0+bWVzc2FnZSk7CiAgY2FsbGJhY2tfemVybygmY2JzLT5jb25uZWN0KTsKICBjYWxsYmFja196ZXJvKCZjYnMtPmNsb3NlKTsKICBjYWxsYmFja196ZXJvKCZjYnMtPnBvbmcpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+ZmQpOwogIGNhbGxiYWNrX3plcm8oJmNicy0+aHR0cCk7Cn0KCnR5cGVkZWYgc3RydWN0IGNvbnRleHQgewogIGludCByZWZfY291bnQ7CiAgSlNDb250ZXh0KiBqczsKICBzdHJ1Y3QgbHdzX2NvbnRleHQqIGx3czsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyBpbmZvOwogIEJPT0wgZXhjZXB0aW9uOwogIEpTVmFsdWUgZXJyb3I7CiAgSlNWYWx1ZSBjcnQsIGtleSwgY2E7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogdGltZXI7Cn0gTWlubmV0Q29udGV4dDsKCmV4dGVybiBUSFJFQURfTE9DQUwgaW50MzJfdCBtaW5uZXRfbG9nX2xldmVsOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ29udGV4dCogbWlubmV0X2xvZ19jdHg7CmV4dGVybiBUSFJFQURfTE9DQUwgQk9PTCBtaW5uZXRfZXhjZXB0aW9uOwpleHRlcm4gVEhSRUFEX0xPQ0FMIHN0cnVjdCBsaXN0X2hlYWQgbWlubmV0X3NvY2tldHM7CgppbnQgc29ja2V0X2dldGVycm9yKGludCk7CnZvaWQgc2Vzc2lvbl96ZXJvKE1pbm5ldFNlc3Npb24qKTsKdm9pZCBzZXNzaW9uX2NsZWFyKE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKQk9PTCBjb250ZXh0X2V4Y2VwdGlvbihNaW5uZXRDb250ZXh0KiwgSlNWYWx1ZSk7CnZvaWQgY29udGV4dF9jbGVhcihNaW5uZXRDb250ZXh0Kik7Ck1pbm5ldENsb3N1cmUqIGNsb3N1cmVfbmV3KEpTQ29udGV4dCopOwpNaW5uZXRDbG9zdXJlKiBjbG9zdXJlX2R1cChNaW5uZXRDbG9zdXJlKik7CnZvaWQgY2xvc3VyZV9mcmVlKHZvaWQqKTsKaW50IG1pbm5ldF9sd3NfdW5oYW5kbGVkKGNvbnN0IGNoYXIqLCBpbnQpOwpKU1ZhbHVlIGhlYWRlcnNfb2JqZWN0KEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBjb25zdCB2b2lkKik7CmNoYXIqIGhlYWRlcnNfYXRvbShKU0F0b20sIEpTQ29udGV4dCopOwppbnQgaGVhZGVyc19hZGQoTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyosIEpTVmFsdWUsIEpTQ29udGV4dCogY3R4KTsKaW50IGhlYWRlcnNfZnJvbW9iaihNaW5uZXRCdWZmZXIqLCBKU1ZhbHVlLCBKU0NvbnRleHQqKTsKc3NpemVfdCBoZWFkZXJzX3NldChKU0NvbnRleHQqLCBNaW5uZXRCdWZmZXIqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFsdWUpOwppbnQgaGVhZGVyc19nZXQoSlNDb250ZXh0KiwgTWlubmV0QnVmZmVyKiwgc3RydWN0IGx3cyopOwppbnQgZmRfaGFuZGxlcihzdHJ1Y3QgbHdzKiwgTWlubmV0Q2FsbGJhY2sqLCBzdHJ1Y3QgbHdzX3BvbGxhcmdzKTsKaW50IGZkX2NhbGxiYWNrKHN0cnVjdCBsd3MqLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zLCBNaW5uZXRDYWxsYmFjayosIHN0cnVjdCBsd3NfcG9sbGFyZ3MqIGFyZ3MpOwp2b2lkIG1pbm5ldF9oYW5kbGVycyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IGx3c19wb2xsYXJncywgSlNWYWx1ZSBvdXRbMl0pOwpKU1ZhbHVlIG1pbm5ldF9lbWl0X3RoaXMoY29uc3Qgc3RydWN0IHdzX2NhbGxiYWNrKiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlKiBhcmd2KTsKSlNWYWx1ZSBtaW5uZXRfZW1pdChjb25zdCBzdHJ1Y3Qgd3NfY2FsbGJhY2sqLCBpbnQsIEpTVmFsdWUqKTsKdm9pZCB2YWx1ZV9kdW1wKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlIGNvbnN0Kik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9taW5uZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBsd3NfY2FsbGJhY2tfbmFtZShpbnQpOwoKc3RhdGljIGlubGluZSBCT09MCmx3c19pc19wb2xsX2NhbGxiYWNrKGludCByZWFzb24pIHsKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19MT0NLX1BPTEw6CiAgICBjYXNlIExXU19DQUxMQkFDS19VTkxPQ0tfUE9MTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0FERF9QT0xMX0ZEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfREVMX1BPTExfRkQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DSEFOR0VfTU9ERV9QT0xMX0ZEOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKbHdzX2lzX2h0dHBfY2FsbGJhY2soaW50IHJlYXNvbikgewogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0VTVEFCTElTSEVEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xPU0VEX0NMSUVOVF9IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUF9SRUFEOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRV9DTElFTlRfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1dSSVRFQUJMRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX1JFRElSRUNUOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT01QTEVURURfQ0xJRU5UX0hUVFA6CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQUREX0hFQURFUlM6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTE9TRURfSFRUUDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0ZJTFRFUl9IVFRQX0NPTk5FQ1RJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CSU5EX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfSFRUUF9CT0RZX0NPTVBMRVRJT046CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX0ZJTEVfQ09NUExFVElPTjoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0hUVFBfV1JJVEVBQkxFOiByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApieXRlX2Nocihjb25zdCB2b2lkKiB4LCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdCwgKnN0ciA9IHg7CiAgZm9yKHMgPSBzdHIsIHQgPSBzICsgbGVuOyBzIDwgdDsgKytzKQogICAgaWYoKnMgPT0gYykKICAgICAgYnJlYWs7CiAgcmV0dXJuIHMgLSBzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfY2hycyhjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgbmVlZGxlW10sIHNpemVfdCBubCkgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gc3RyLCB0ID0gc3RyICsgbGVuOyBzICE9IHQ7IHMrKykKICAgIGlmKGJ5dGVfY2hyKG5lZWRsZSwgbmwsICpzKSA8IG5sKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKbHdzX2dldF91cmkoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgZW51bSBsd3NfdG9rZW5faW5kZXhlcyB0b2tlbikgewogIHNpemVfdCBsZW47CiAgY2hhciBidWZbMTAyNF07CgogIGlmKChsZW4gPSBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpIC0gMSwgdG9rZW4pKSA+IDApCiAgICBidWZbbGVuXSA9ICdcMCc7CiAgZWxzZQogICAgcmV0dXJuIDA7CgogIHJldHVybiBqc19zdHJuZHVwKGN0eCwgYnVmLCBsZW4pOwp9CgojZW5kaWYgLyogTUlOTkVUX0ggKi8KAAAAAAAAAACOIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5hAAAAAAAAD/EAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-response.h",
			"settings":
			{
				"buffer_size": 1977,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD3BwAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCByZXNwb25zZV9mb3JtYXQoTWlubmV0UmVzcG9uc2UgY29uc3QqLCBjaGFyKiwgc2l6ZV90KTsKY2hhciogcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkIHJlc3BvbnNlX3plcm8oTWlubmV0UmVzcG9uc2UqKTsKdm9pZCByZXNwb25zZV9pbml0KE1pbm5ldFJlc3BvbnNlKiwgTWlubmV0VVJMLCBpbnQgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSk7Ck1pbm5ldFJlc3BvbnNlKiByZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqKTsKc3NpemVfdCByZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSosIGNvbnN0IHZvaWQqLCBzaXplX3QsIEpTQ29udGV4dCogY3R4KTsKdm9pZCByZXNwb25zZV9jbGVhcihNaW5uZXRSZXNwb25zZSosIEpTQ29udGV4dCopOwp2b2lkIHJlc3BvbnNlX2NsZWFyX3J0KE1pbm5ldFJlc3BvbnNlKiwgSlNSdW50aW1lKik7CnZvaWQgcmVzcG9uc2VfZnJlZShNaW5uZXRSZXNwb25zZSosIEpTQ29udGV4dCopOwp2b2lkIHJlc3BvbnNlX2ZyZWVfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2VfbmV3KEpTQ29udGV4dCosIE1pbm5ldFVSTCwgaW50IHN0YXR1cywgY2hhciogc3RhdHVzX3RleHQsIEJPT0wgb2ssIGNvbnN0IGNoYXIqIHR5cGUpOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlc3BvbnNlKik7CkpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKdm9pZCBtaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSosIEpTVmFsdWVDb25zdCk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2VfcHJvdG8sIG1pbm5ldF9yZXNwb25zZV9jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZTsKCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRSZXNwb25zZSoKbWlubmV0X3Jlc3BvbnNlX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfUkVTUE9OU0VfSCAqLwoAAAAAAAAAAPcHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					4,
					1,
					"paste",
					null,
					"AgAAAP4BAAAAAAAA1wUAAAAAAAAAAAAA1wUAAAAAAADXBQAAAAAAAJ8DAAB2b2lkIHJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCosIGNoYXIqLCBzaXplX3QpOwpjaGFyKiByZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0Kik7CnZvaWQgcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSopOwp2b2lkIHJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqLCBNaW5uZXRVUkwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSopOwpzc2l6ZV90IHJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfY2xlYXJfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKdm9pZCByZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBpbnQgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY29uc3QgY2hhciogdHlwZSk7CkpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0UmVzcG9uc2UqKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2VfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwp2b2lkIG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIoSlNSdW50aW1lKiwgSlNWYWx1ZUNvbnN0KTs",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJ0FAAAAAAAA/gEAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAxCAAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCAgICAgICAgICAgIHJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCosIGNoYXIqLCBzaXplX3QpOwpjaGFyKiAgICAgICAgICAgcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkICAgICAgICAgICAgcmVzcG9uc2VfaW5pdChNaW5uZXRSZXNwb25zZSosIE1pbm5ldFVSTCwgaW50MzJfdCwgY2hhciogc3RhdHVzX3RleHQsIEJPT0wgb2ssIGNoYXIqIHR5cGUpOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfZHVwKE1pbm5ldFJlc3BvbnNlKik7CnNzaXplX3QgICAgICAgICByZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSosIGNvbnN0IHZvaWQqLCBzaXplX3QsIEpTQ29udGV4dCogY3R4KTsKdm9pZCAgICAgICAgICAgIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICByZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwp2b2lkICAgICAgICAgICAgcmVzcG9uc2VfZnJlZShNaW5uZXRSZXNwb25zZSosIEpTQ29udGV4dCopOwp2b2lkICAgICAgICAgICAgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlICAgICAgICAgbWlubmV0X3Jlc3BvbnNlX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIGludCwgY2hhciogc3RhdHVzX3RleHQsIEJPT0wgb2ssIGNvbnN0IGNoYXIqIHR5cGUpOwpKU1ZhbHVlICAgICAgICAgbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0UmVzcG9uc2UqKTsKSlNWYWx1ZSAgICAgICAgIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdm9pZCAgICAgICAgICAgIG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIoSlNSdW50aW1lKiwgSlNWYWx1ZSk7CgoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3Jlc3BvbnNlX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzX3NpemU7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlc3BvbnNlKgptaW5uZXRfcmVzcG9uc2VfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1JFU1BPTlNFX0ggKi8KAAAAAAAAAAC5BwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wUAAAAAAADXBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC5BwAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCByZXNwb25zZV9mb3JtYXQoTWlubmV0UmVzcG9uc2UgY29uc3QqLCBjaGFyKiwgc2l6ZV90KTsKY2hhciogcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkIHJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqLCBNaW5uZXRVUkwsIGludDMyX3QsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSopOwpzc2l6ZV90IHJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfY2xlYXJfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKdm9pZCByZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBpbnQsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRSZXNwb25zZSopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdm9pZCBtaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSosIEpTVmFsdWUpOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3Jlc3BvbnNlX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzX3NpemU7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlc3BvbnNlKgptaW5uZXRfcmVzcG9uc2VfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1JFU1BPTlNFX0ggKi8KAAAAAAAAAAC5BwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wUAAAAAAADXBQAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC5BwAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCByZXNwb25zZV9mb3JtYXQoTWlubmV0UmVzcG9uc2UgY29uc3QqLCBjaGFyKiwgc2l6ZV90KTsKY2hhciogcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkIHJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqLCBNaW5uZXRVUkwsIGludDMyX3QsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSopOwpzc2l6ZV90IHJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfY2xlYXJfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKdm9pZCByZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBpbnQsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRSZXNwb25zZSopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdm9pZCBtaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSosIEpTVmFsdWUpOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3Jlc3BvbnNlX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzX3NpemU7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlc3BvbnNlKgptaW5uZXRfcmVzcG9uc2VfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1JFU1BPTlNFX0ggKi8KAAAAAAAAAAC5BwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wUAAAAAAADXBQAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC5BwAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCByZXNwb25zZV9mb3JtYXQoTWlubmV0UmVzcG9uc2UgY29uc3QqLCBjaGFyKiwgc2l6ZV90KTsKY2hhciogcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkIHJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqLCBNaW5uZXRVUkwsIGludDMyX3QsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSopOwpzc2l6ZV90IHJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfY2xlYXJfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKdm9pZCByZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBpbnQsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRSZXNwb25zZSopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdm9pZCBtaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSosIEpTVmFsdWUpOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3Jlc3BvbnNlX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzX3NpemU7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlc3BvbnNlKgptaW5uZXRfcmVzcG9uc2VfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1JFU1BPTlNFX0ggKi8KAAAAAAAAAAC5BwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wUAAAAAAADXBQAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC5BwAAI2lmbmRlZiBNSU5ORVRfUkVTUE9OU0VfSAojZGVmaW5lIE1JTk5FVF9SRVNQT05TRV9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8bGlzdC5oPgojaW5jbHVkZSA8bGlid2Vic29ja2V0cy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3QgaHR0cF9yZXF1ZXN0OwoKLyogY2xhc3MgTWlubmV0UmVzcG9uc2UgKi8KCi8qdHlwZWRlZiBzdHJ1Y3QgaHR0cF9oZWFkZXIgewogIGNoYXIgKm5hbWUsICp2YWx1ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn0gTWlubmV0SHR0cEhlYWRlcjsqLwoKdHlwZWRlZiBzdHJ1Y3QgaHR0cF9yZXNwb25zZSB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBNaW5uZXRVUkwgdXJsOwogIGNoYXIqIHR5cGU7CiAgaW50IHN0YXR1czsKICBjaGFyKiBzdGF0dXNfdGV4dDsKICBCT09MIG9rOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlc3BvbnNlOwoKdm9pZCByZXNwb25zZV9mb3JtYXQoTWlubmV0UmVzcG9uc2UgY29uc3QqLCBjaGFyKiwgc2l6ZV90KTsKY2hhciogcmVzcG9uc2VfZHVtcChNaW5uZXRSZXNwb25zZSBjb25zdCopOwp2b2lkIHJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqLCBNaW5uZXRVUkwsIGludDMyX3QsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKTsKTWlubmV0UmVzcG9uc2UqIHJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSopOwpzc2l6ZV90IHJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiwgY29uc3Qgdm9pZCosIHNpemVfdCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHJlc3BvbnNlX2NsZWFyKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfY2xlYXJfcnQoTWlubmV0UmVzcG9uc2UqLCBKU1J1bnRpbWUqKTsKdm9pZCByZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiwgSlNDb250ZXh0Kik7CnZvaWQgcmVzcG9uc2VfZnJlZV9ydChNaW5uZXRSZXNwb25zZSosIEpTUnVudGltZSopOwpNaW5uZXRSZXNwb25zZSogcmVzcG9uc2VfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBpbnQsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKTsKSlNWYWx1ZSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRSZXNwb25zZSopOwpKU1ZhbHVlIG1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKdm9pZCBtaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSosIEpTVmFsdWUpOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3Jlc3BvbnNlX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3Jlc3BvbnNlX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzX3NpemU7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlc3BvbnNlKgptaW5uZXRfcmVzcG9uc2VfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UmVzcG9uc2UqCm1pbm5ldF9yZXNwb25zZV9kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1JFU1BPTlNFX0ggKi8KAAAAAAAAAAC5BwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wUAAAAAAADXBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-websocket.h",
			"settings":
			{
				"buffer_size": 2851,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					54,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAEkGAAAAAAAASgYAAAAAAAAAAAAASgYAAAAAAABMBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEkGAAAAAAAASQYAAAAAAAAAAAAAAADwvw"
				],
				[
					55,
					1,
					"paste",
					null,
					"AQAAAEwGAAAAAAAAZQYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEwGAAAAAAAATAYAAAAAAAAAAAAAAADwvw"
				],
				[
					56,
					1,
					"left_delete",
					null,
					"AQAAAGQGAAAAAAAAZAYAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGUGAAAAAAAAZQYAAAAAAAAAAAAAAADwvw"
				],
				[
					87,
					1,
					"cut",
					null,
					"AQAAAKMFAAAAAAAAowUAAAAAAAAcAAAAICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7Cg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKMFAAAAAAAAvwUAAAAAAAAAAAAAAADwvw"
				],
				[
					88,
					2,
					"paste",
					null,
					"AgAAAKMFAAAAAAAAvwUAAAAAAAAAAAAAvwUAAAAAAADbBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKMFAAAAAAAAowUAAAAAAAAAAAAAAADwvw"
				],
				[
					91,
					1,
					"insert",
					{
						"characters": "response"
					},
					"CQAAAM0FAAAAAAAAzgUAAAAAAAAAAAAAzgUAAAAAAADOBQAAAAAAAAcAAAByZXF1ZXN0zgUAAAAAAADPBQAAAAAAAAAAAADPBQAAAAAAANAFAAAAAAAAAAAAANAFAAAAAAAA0QUAAAAAAAAAAAAA0QUAAAAAAADSBQAAAAAAAAAAAADSBQAAAAAAANMFAAAAAAAAAAAAANMFAAAAAAAA1AUAAAAAAAAAAAAA1AUAAAAAAADVBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM0FAAAAAAAA1AUAAAAAAAAAAAAAAADwvw"
				],
				[
					93,
					1,
					"right_delete",
					null,
					"AQAAANkFAAAAAAAA2QUAAAAAAAABAAAAcQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANkFAAAAAAAA2QUAAAAAAAAAAAAAAADwvw"
				],
				[
					94,
					1,
					"insert",
					{
						"characters": "sp"
					},
					"AgAAANkFAAAAAAAA2gUAAAAAAAAAAAAA2gUAAAAAAADbBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANkFAAAAAAAA2QUAAAAAAAAAAAAAAADwvw"
				],
				[
					119,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAJQCAAAAAAAAlQIAAAAAAAAAAAAAlQIAAAAAAACWAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQCAAAAAAAAlAIAAAAAAAAAAAAAAADwvw"
				],
				[
					124,
					1,
					"left_delete",
					null,
					"AQAAAJQCAAAAAAAAlAIAAAAAAAA6AAAALy9NaW5uZXRXZWJzb2NrZXQqIHdzX2Zyb21fd3NpMihzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7Cg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQCAAAAAAAAzgIAAAAAAAAAAAAAAAAAAA"
				],
				[
					133,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACTCgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgc2l6ZV90IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqIHdzaSwgSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSk7CkpTVmFsdWUgbWlubmV0X3dzX29iamVjdChKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIEpTT2JqZWN0KiBvYmo7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICAgIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSk7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIGx3c19zZXNzaW9uKHdzLT5sd3NpKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCi8qCnN0YXRpYyBpbmxpbmUgaW50CndzX2x3cyhjb25zdCBNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiByZXR1cm4gd3MtPmx3c2k7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoY29uc3QgTWlubmV0V2Vic29ja2V0KiB3cykgewogcmV0dXJuIGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSk7Cn0qLwoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAlgoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFEDAAAAAAAAXwMAAAAAAAAAAAAAAADwvw"
				],
				[
					144,
					1,
					"paste",
					null,
					"AQAAAEkDAAAAAAAAlAMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEkDAAAAAAAASQMAAAAAAAAAAAAAAADwvw"
				],
				[
					149,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADhCgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgc2l6ZV90IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqIHdzaSwgSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSk7CkpTVmFsdWUgbWlubmV0X3dzX29iamVjdChKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIEpTT2JqZWN0KiBvYmo7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICAgIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSk7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIGx3c19zZXNzaW9uKHdzLT5sd3NpKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCi8qCnN0YXRpYyBpbmxpbmUgaW50CndzX2x3cyhjb25zdCBNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiByZXR1cm4gd3MtPmx3c2k7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoY29uc3QgTWlubmV0V2Vic29ja2V0KiB3cykgewogcmV0dXJuIGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSk7Cn0qLwoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAygoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQDAAAAAAAAlAMAAAAAAAAAAAAAAADwvw"
				],
				[
					150,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADKCgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgc2l6ZV90IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqIHdzaSwgSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSk7CkpTVmFsdWUgbWlubmV0X3dzX29iamVjdChKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIEpTT2JqZWN0KiBvYmo7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiBsd3Nfc2Vzc2lvbih3cy0+bHdzaSk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKICByZXR1cm4gKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSA/IG9wYXF1ZS0+d3MgOiAwOwp9CgovKgpzdGF0aWMgaW5saW5lIGludAp3c19sd3MoY29uc3QgTWlubmV0V2Vic29ja2V0KiB3cykgewogcmV0dXJuIHdzLT5sd3NpOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKGNvbnN0IE1pbm5ldFdlYnNvY2tldCogd3MpIHsKIHJldHVybiBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpOwp9Ki8KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAAMoKAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQDAAAAAAAAlAMAAAAAAAAAAAAAAADwvw"
				],
				[
					194,
					1,
					"insert",
					{
						"characters": "wd"
					},
					"AgAAAJ0HAAAAAAAAngcAAAAAAAAAAAAAngcAAAAAAACfBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJ0HAAAAAAAAnQcAAAAAAAAAAAAAAADwvw"
				],
				[
					195,
					2,
					"left_delete",
					null,
					"AgAAAJ4HAAAAAAAAngcAAAAAAAABAAAAZJ0HAAAAAAAAnQcAAAAAAAABAAAAdw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJ8HAAAAAAAAnwcAAAAAAAAAAAAAAADwvw"
				],
				[
					196,
					1,
					"insert",
					{
						"characters": "ws->lwsi"
					},
					"CAAAAJ0HAAAAAAAAngcAAAAAAAAAAAAAngcAAAAAAACfBwAAAAAAAAAAAACfBwAAAAAAAKAHAAAAAAAAAAAAAKAHAAAAAAAAoQcAAAAAAAAAAAAAoQcAAAAAAACiBwAAAAAAAAAAAACiBwAAAAAAAKMHAAAAAAAAAAAAAKMHAAAAAAAApAcAAAAAAAAAAAAApAcAAAAAAAClBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJ0HAAAAAAAAnQcAAAAAAAAAAAAAAADwvw"
				],
				[
					197,
					1,
					"insert",
					{
						"characters": " ?"
					},
					"AgAAAKUHAAAAAAAApgcAAAAAAAAAAAAApgcAAAAAAACnBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKUHAAAAAAAApQcAAAAAAAAAAAAAAADwvw"
				],
				[
					198,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKcHAAAAAAAAqAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKcHAAAAAAAApwcAAAAAAAAAAAAAAADwvw"
				],
				[
					201,
					1,
					"insert",
					{
						"characters": " :;"
					},
					"AwAAAMoHAAAAAAAAywcAAAAAAAAAAAAAywcAAAAAAADMBwAAAAAAAAAAAADMBwAAAAAAAM0HAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMoHAAAAAAAAygcAAAAAAAAAAAAAAADwvw"
				],
				[
					202,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAM0HAAAAAAAAzgcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM0HAAAAAAAAzQcAAAAAAAAAAAAAAADwvw"
				],
				[
					203,
					2,
					"left_delete",
					null,
					"AgAAAM0HAAAAAAAAzQcAAAAAAAABAAAAIMwHAAAAAAAAzAcAAAAAAAABAAAAOw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM4HAAAAAAAAzgcAAAAAAAAAAAAAAADwvw"
				],
				[
					204,
					1,
					"insert",
					{
						"characters": " 0"
					},
					"AgAAAMwHAAAAAAAAzQcAAAAAAAAAAAAAzQcAAAAAAADOBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMwHAAAAAAAAzAcAAAAAAAAAAAAAAADwvw"
				],
				[
					218,
					1,
					"paste",
					null,
					"AQAAACEIAAAAAAAALAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACEIAAAAAAAAIQgAAAAAAAAAAAAAAADwvw"
				],
				[
					223,
					1,
					"insert",
					{
						"characters": " :"
					},
					"AgAAAEEIAAAAAAAAQggAAAAAAAAAAAAAQggAAAAAAABDCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEEIAAAAAAAAQQgAAAAAAAAAAAAAAADwvw"
				],
				[
					224,
					1,
					"insert",
					{
						"characters": " 0"
					},
					"AgAAAEMIAAAAAAAARAgAAAAAAAAAAAAARAgAAAAAAABFCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEMIAAAAAAAAQwgAAAAAAAAAAAAAAADwvw"
				],
				[
					235,
					2,
					"left_delete",
					null,
					"AgAAAPUIAAAAAAAA9QgAAAAAAADRAAAACi8qCnN0YXRpYyBpbmxpbmUgaW50CndzX2x3cyhjb25zdCBNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiByZXR1cm4gd3MtPmx3c2k7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoY29uc3QgTWlubmV0V2Vic29ja2V0KiB3cykgewogcmV0dXJuIGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSk7Cn0qLwr0CAAAAAAAAPQIAAAAAAAAAQAAAAo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPUIAAAAAAAAxgkAAAAAAAAAAAAAAADwvw"
				],
				[
					236,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAPQIAAAAAAAA9QgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPQIAAAAAAAA9AgAAAAAAAAAAAAAAADwvw"
				],
				[
					264,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAH8FAAAAAAAAgAUAAAAAAAAAAAAAgAUAAAAAAACBBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAH8FAAAAAAAAfwUAAAAAAAAAAAAAAADwvw"
				],
				[
					273,
					1,
					"cut",
					null,
					"AQAAAEkHAAAAAAAASQcAAAAAAACKAAAACnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEkHAAAAAAAA0wcAAAAAAAAAAAAAAADwvw"
				],
				[
					274,
					2,
					"paste",
					null,
					"AgAAAEkHAAAAAAAA0wcAAAAAAAAAAAAA0wcAAAAAAABdCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEkHAAAAAAAASQcAAAAAAAAAAAAAAADwvw"
				],
				[
					278,
					1,
					"insert",
					{
						"characters": "dup"
					},
					"BAAAAHgHAAAAAAAAeQcAAAAAAAAAAAAAeQcAAAAAAAB5BwAAAAAAAAYAAABvcGFxdWV5BwAAAAAAAHoHAAAAAAAAAAAAAHoHAAAAAAAAewcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHgHAAAAAAAAfgcAAAAAAAAAAAAAAADwvw"
				],
				[
					286,
					1,
					"paste",
					null,
					"AgAAAFgHAAAAAAAAaQcAAAAAAAAAAAAAaQcAAAAAAABpBwAAAAAAABwAAABzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEq",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFgHAAAAAAAAdAcAAAAAAAAAAAAAAADwvw"
				],
				[
					289,
					1,
					"insert",
					{
						"characters": "\nws->ref"
					},
					"CQAAAIcHAAAAAAAAiAcAAAAAAAAAAAAAiAcAAAAAAACKBwAAAAAAAAAAAACKBwAAAAAAAIsHAAAAAAAAAAAAAIsHAAAAAAAAjAcAAAAAAAAAAAAAjAcAAAAAAACNBwAAAAAAAAAAAACNBwAAAAAAAI4HAAAAAAAAAAAAAI4HAAAAAAAAjwcAAAAAAAAAAAAAjwcAAAAAAACQBwAAAAAAAAAAAACQBwAAAAAAAJEHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIcHAAAAAAAAhwcAAAAAAAAAAAAAAADwvw"
				],
				[
					290,
					1,
					"insert",
					{
						"characters": "_count+"
					},
					"BwAAAJEHAAAAAAAAkgcAAAAAAAAAAAAAkgcAAAAAAACTBwAAAAAAAAAAAACTBwAAAAAAAJQHAAAAAAAAAAAAAJQHAAAAAAAAlQcAAAAAAAAAAAAAlQcAAAAAAACWBwAAAAAAAAAAAACWBwAAAAAAAJcHAAAAAAAAAAAAAJcHAAAAAAAAmAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAkQcAAAAAAAAAAAAAAADwvw"
				],
				[
					291,
					1,
					"left_delete",
					null,
					"AQAAAJcHAAAAAAAAlwcAAAAAAAABAAAAKw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJgHAAAAAAAAmAcAAAAAAAAAAAAAAADwvw"
				],
				[
					292,
					1,
					"insert",
					{
						"characters": "+"
					},
					"AQAAAJcHAAAAAAAAmAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJcHAAAAAAAAlwcAAAAAAAAAAAAAAADwvw"
				],
				[
					293,
					1,
					"left_delete",
					null,
					"AQAAAJcHAAAAAAAAlwcAAAAAAAABAAAAKw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJgHAAAAAAAAmAcAAAAAAAAAAAAAAADwvw"
				],
				[
					295,
					1,
					"insert",
					{
						"characters": "++"
					},
					"AgAAAIoHAAAAAAAAiwcAAAAAAAAAAAAAiwcAAAAAAACMBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIoHAAAAAAAAigcAAAAAAAAAAAAAAAA0QA"
				],
				[
					297,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAJkHAAAAAAAAmgcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJkHAAAAAAAAmQcAAAAAAAD////////vfw"
				],
				[
					298,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CAAAAJoHAAAAAAAAmwcAAAAAAAAAAAAAmwcAAAAAAACdBwAAAAAAAAAAAACdBwAAAAAAAJ4HAAAAAAAAAAAAAJ4HAAAAAAAAnwcAAAAAAAAAAAAAnwcAAAAAAACgBwAAAAAAAAAAAACgBwAAAAAAAKEHAAAAAAAAAAAAAKEHAAAAAAAAogcAAAAAAAAAAAAAogcAAAAAAACjBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJoHAAAAAAAAmgcAAAAAAAAAAAAAAADwvw"
				],
				[
					299,
					1,
					"insert",
					{
						"characters": " ws;"
					},
					"BAAAAKMHAAAAAAAApAcAAAAAAAAAAAAApAcAAAAAAAClBwAAAAAAAAAAAAClBwAAAAAAAKYHAAAAAAAAAAAAAKYHAAAAAAAApwcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKMHAAAAAAAAowcAAAAAAAAAAAAAAADwvw"
				],
				[
					303,
					1,
					"cut",
					null,
					"AQAAAKcHAAAAAAAApwcAAAAAAAA8AAAACiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKcHAAAAAAAA4wcAAAAAAAD////////vfw"
				],
				[
					305,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAKkHAAAAAAAAqgcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKkHAAAAAAAAqQcAAAAAAAAAAAAAAABeQA"
				],
				[
					318,
					1,
					"insert",
					{
						"characters": "int"
					},
					"BAAAAOMBAAAAAAAA5AEAAAAAAAAAAAAA5AEAAAAAAADkAQAAAAAAAAYAAABzaXplX3TkAQAAAAAAAOUBAAAAAAAAAAAAAOUBAAAAAAAA5gEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOMBAAAAAAAA6QEAAAAAAAAAAAAAAADwvw"
				],
				[
					324,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB3CgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqIHdzaSwgSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSk7CkpTVmFsdWUgbWlubmV0X3dzX29iamVjdChKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogLy8gSlNPYmplY3QqIG9iajsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqIAp3c19kdXAoTWlubmV0V2Vic29ja2V0KiB3cykgewogICsrd3MtPnJlZl9jb3VudDsKICByZXR1cm4gd3M7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKICByZXR1cm4gKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSA/IG9wYXF1ZS0+d3MgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEoSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUob2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfV0VCU09DS0VUX0ggKi8KAAAAAAAAAAB3CgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4CAAAAAAAArgIAAAAAAAAAAAAAAADwvw"
				],
				[
					328,
					1,
					"cut",
					null,
					"AQAAAEcHAAAAAAAARwcAAAAAAABgAAAACnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19kdXAoTWlubmV0V2Vic29ja2V0KiB3cykgewogICsrd3MtPnJlZl9jb3VudDsKICByZXR1cm4gd3M7Cn0K",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEcHAAAAAAAApwcAAAAAAAAAAAAAAADwvw"
				],
				[
					339,
					1,
					"paste",
					null,
					"AgAAAF8CAAAAAAAAkQQAAAAAAAAAAAAAkQQAAAAAAACRBAAAAAAAAJQBAABNaW5uZXRXZWJzb2NrZXQqIHdzX25ldyhzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiB3c2ksIEpTQ29udGV4dCogY3R4KTsKSlNWYWx1ZSBtaW5uZXRfd3NfbmV3KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpOwpKU1ZhbHVlIG1pbm5ldF93c19vYmplY3QoSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlW10pOw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPMDAAAAAAAAXwIAAAAAAAAAAAAAAADwvw"
				],
				[
					344,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC1CgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogICAgICAgICAgICAgd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwpNaW5uZXRXZWJzb2NrZXQqICAgICAgICAgICAgIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwoKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgLy8gSlNPYmplY3QqIG9iajsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAADAKAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEEAAAAAAAAkQQAAAAAAAAAAAAAAADwvw"
				],
				[
					351,
					1,
					"left_delete",
					null,
					"AQAAAJQFAAAAAAAAlAUAAAAAAAAUAAAAICAvLyBKU09iamVjdCogb2JqOwo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQFAAAAAAAAqAUAAAAAAAAAAAAAAADwvw"
				],
				[
					369,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAMACAAAAAAAAwQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMACAAAAAAAAwAIAAAAAAAAAAAAAAADwvw"
				],
				[
					370,
					1,
					"paste",
					null,
					"AQAAAMECAAAAAAAABgMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMECAAAAAAAAwQIAAAAAAAAAAAAAAADwvw"
				],
				[
					371,
					1,
					"left_delete",
					null,
					"AQAAAAUDAAAAAAAABQMAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAYDAAAAAAAABgMAAAAAAAAAAAAAAADwvw"
				],
				[
					376,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABhCgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10sIG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSwgbWlubmV0X3dzX3Byb3RvX2RlZnNbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplLCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhIHsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAAEkKAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAUDAAAAAAAABQMAAAAAAAAAAAAAAADwvw"
				],
				[
					381,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABJCgAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10sIG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSwgbWlubmV0X3dzX3Byb3RvX2RlZnNbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplLCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhIHsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAAE8KAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMYCAAAAAAAAxgIAAAAAAAAAAAAAAADwvw"
				],
				[
					388,
					1,
					"paste",
					null,
					"AgAAAF8CAAAAAAAAZQUAAAAAAAAAAAAAZQUAAAAAAABlBQAAAAAAAOABAABKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX25ldyhzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKTWlubmV0V2Vic29ja2V0KiB3c19kdXAoTWlubmV0V2Vic29ja2V0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTs",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAD8EAAAAAAAAXwIAAAAAAAAAAAAAAADwvw"
				],
				[
					393,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB1CwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogICAgICAgICAgICAgd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkICAgICAgICAgICAgICAgICAgICAgICAgIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogICAgICAgICAgICAgd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlICAgICAgICAgICAgICAgICAgICAgIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlICAgICAgICAgICAgICAgICAgICAgIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CgoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10sIG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSwgbWlubmV0X3dzX3Byb3RvX2RlZnNbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplLCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhIHsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIHJldHVybiAob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpID8gb3BhcXVlLT53cyA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAAKgKAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGUFAAAAAAAAZQUAAAAAAAAAAAAAAADwvw"
				],
				[
					398,
					1,
					"paste",
					null,
					"AQAAAF8CAAAAAAAACgMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF8CAAAAAAAAXwIAAAAAAAAAAAAAAADwvw"
				],
				[
					403,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAABTCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIHN0cnVjdCBzb2NrZXQqIHdzOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcTsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcDsKICBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzOwogIEpTVmFsdWUgaGFuZGxlcjsKICBpbnQ2NF90IHNlcmlhbDsKICBNaW5uZXRTdGF0dXMgc3RhdHVzOwogIHN0cnVjdCBwb2xsZmQgcG9sbDsKICBpbnQgZXJyb3I7CiAgQk9PTCBiaW5hcnk7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwp9OwoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgpsd3Nfc2Vzc2lvbihzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkKICAgIHJldHVybiBvcGFxdWUtPnNlc3M7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgp3c19zZXNzaW9uKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3Nfc2Vzc2lvbih3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKd3NfZnJvbV93c2koc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgcmV0dXJuIChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAIwsAAAAAAAAAAAAAAAAAAAAAAAAjCwAAAAAAAAAAAAAAAAAAAAAAACMLAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAoDAAAAAAAACgMAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAjCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIHN0cnVjdCBzb2NrZXQqIHdzOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcTsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcDsKICBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzOwogIEpTVmFsdWUgaGFuZGxlcjsKICBpbnQ2NF90IHNlcmlhbDsKICBNaW5uZXRTdGF0dXMgc3RhdHVzOwogIHN0cnVjdCBwb2xsZmQgcG9sbDsKICBpbnQgZXJyb3I7CiAgQk9PTCBiaW5hcnk7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwp9OwoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgpsd3Nfc2Vzc2lvbihzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkKICAgIHJldHVybiBvcGFxdWUtPnNlc3M7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgp3c19zZXNzaW9uKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3Nfc2Vzc2lvbih3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKd3NfZnJvbV93c2koc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgcmV0dXJuIChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAIwsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPAQAAAAAAAA8BAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAjCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIHN0cnVjdCBzb2NrZXQqIHdzOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcTsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcDsKICBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzOwogIEpTVmFsdWUgaGFuZGxlcjsKICBpbnQ2NF90IHNlcmlhbDsKICBNaW5uZXRTdGF0dXMgc3RhdHVzOwogIHN0cnVjdCBwb2xsZmQgcG9sbDsKICBpbnQgZXJyb3I7CiAgQk9PTCBiaW5hcnk7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwp9OwoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgpsd3Nfc2Vzc2lvbihzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkKICAgIHJldHVybiBvcGFxdWUtPnNlc3M7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgp3c19zZXNzaW9uKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3Nfc2Vzc2lvbih3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKd3NfZnJvbV93c2koc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgcmV0dXJuIChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAIwsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPAQAAAAAAAA8BAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAjCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlIGFyZ3ZbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIHN0cnVjdCBzb2NrZXQqIHdzOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcTsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcDsKICBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzOwogIEpTVmFsdWUgaGFuZGxlcjsKICBpbnQ2NF90IHNlcmlhbDsKICBNaW5uZXRTdGF0dXMgc3RhdHVzOwogIHN0cnVjdCBwb2xsZmQgcG9sbDsKICBpbnQgZXJyb3I7CiAgQk9PTCBiaW5hcnk7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwp9OwoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgpsd3Nfc2Vzc2lvbihzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkKICAgIHJldHVybiBvcGFxdWUtPnNlc3M7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgp3c19zZXNzaW9uKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3Nfc2Vzc2lvbih3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKd3NfZnJvbV93c2koc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgcmV0dXJuIChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAIwsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPAQAAAAAAAA8BAAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": "struct"
					},
					"BgAAAC8DAAAAAAAAMAMAAAAAAAAAAAAAMAMAAAAAAAAxAwAAAAAAAAAAAAAxAwAAAAAAADIDAAAAAAAAAAAAADIDAAAAAAAAMwMAAAAAAAAAAAAAMwMAAAAAAAA0AwAAAAAAAAAAAAA0AwAAAAAAADUDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALwMAAAAAAAAvAwAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAADUDAAAAAAAANgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANQMAAAAAAAA1AwAAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAADUDAAAAAAAANgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANQMAAAAAAAA1AwAAAAAAAAAAAAAAAPC/"
				],
				[
					43,
					7,
					"left_delete",
					null,
					"BwAAADUDAAAAAAAANQMAAAAAAAABAAAAIDQDAAAAAAAANAMAAAAAAAABAAAAdDMDAAAAAAAAMwMAAAAAAAABAAAAYzIDAAAAAAAAMgMAAAAAAAABAAAAdTEDAAAAAAAAMQMAAAAAAAABAAAAcjADAAAAAAAAMAMAAAAAAAABAAAAdC8DAAAAAAAALwMAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAANgMAAAAAAAA2AwAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": "MinnetSession*ses"
					},
					"EQAAAC8DAAAAAAAAMAMAAAAAAAAAAAAAMAMAAAAAAAAxAwAAAAAAAAAAAAAxAwAAAAAAADIDAAAAAAAAAAAAADIDAAAAAAAAMwMAAAAAAAAAAAAAMwMAAAAAAAA0AwAAAAAAAAAAAAA0AwAAAAAAADUDAAAAAAAAAAAAADUDAAAAAAAANgMAAAAAAAAAAAAANgMAAAAAAAA3AwAAAAAAAAAAAAA3AwAAAAAAADgDAAAAAAAAAAAAADgDAAAAAAAAOQMAAAAAAAAAAAAAOQMAAAAAAAA6AwAAAAAAAAAAAAA6AwAAAAAAADsDAAAAAAAAAAAAADsDAAAAAAAAPAMAAAAAAAAAAAAAPAMAAAAAAAA9AwAAAAAAAAAAAAA9AwAAAAAAAD4DAAAAAAAAAAAAAD4DAAAAAAAAPwMAAAAAAAAAAAAAPwMAAAAAAABAAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALwMAAAAAAAAvAwAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "s,"
					},
					"AgAAAEADAAAAAAAAQQMAAAAAAAAAAAAAQQMAAAAAAABCAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQAMAAAAAAABAAwAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAAcDAAAAAAAACAMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABwMAAAAAAAAHAwAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"paste",
					null,
					"AQAAAAgDAAAAAAAAGgMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACAMAAAAAAAAIAwAAAAAAAAAAAAAAAPC/"
				],
				[
					61,
					4,
					"left_delete",
					null,
					"BAAAABkDAAAAAAAAGQMAAAAAAAABAAAAcxgDAAAAAAAAGAMAAAAAAAABAAAAcxcDAAAAAAAAFwMAAAAAAAABAAAAZRYDAAAAAAAAFgMAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAGgMAAAAAAAAaAwAAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"paste",
					null,
					"AQAAAOsEAAAAAAAA+gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6wQAAAAAAADrBAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABVCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKixNaW5uZXRTZXNzaW9uKik7Ck1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBNaW5uZXRTZXNzaW9uKnNlc3MsIEpTQ29udGV4dCopOwp2b2lkIHdzX2NsZWFyX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2NsZWFyKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwp2b2lkIHdzX2ZyZWVfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfZnJlZShNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKTWlubmV0V2Vic29ja2V0KiB3c19kdXAoTWlubmV0V2Vic29ja2V0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyosTWlubmV0U2Vzc2lvbiopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKICByZXR1cm4gKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSA/IG9wYXF1ZS0+d3MgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEoSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUob2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfV0VCU09DS0VUX0ggKi8KAAAAAAAAAABYCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+gQAAAAAAAD6BAAAAAAAAAAAAAAAAPC/"
				],
				[
					127,
					1,
					"cut",
					null,
					"AQAAAAAKAAAAAAAAAAoAAAAAAAAgAAAAID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk",
					"AQAAAAAAAAABAAAAAAoAAAAAAAAgCgAAAAAAAAAAAAAAAPC/"
				],
				[
					130,
					1,
					"paste",
					null,
					"AQAAAO4JAAAAAAAADgoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7gkAAAAAAADuCQAAAAAAAAAAAAAAAPC/"
				],
				[
					133,
					1,
					"left_delete",
					null,
					"AQAAABkKAAAAAAAAGQoAAAAAAAABAAAAKA",
					"AQAAAAAAAAABAAAAGgoAAAAAAAAaCgAAAAAAAAAAAAAAAPC/"
				],
				[
					136,
					1,
					"left_delete",
					null,
					"AQAAAB8KAAAAAAAAHwoAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAIAoAAAAAAAAgCgAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABWCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX25ldyhzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiogc2VzcywgSlNDb250ZXh0Kik7CnZvaWQgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWUgYXJndltdKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwogIHJldHVybiBvcGFxdWUgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAWgsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKwMAAAAAAAAxAwAAAAAAAAAAAAAAAPC/"
				],
				[
					190,
					1,
					"paste",
					null,
					"AgAAAF8CAAAAAAAAgwYAAAAAAAAAAAAAgwYAAAAAAACDBgAAAAAAAO0CAAB2b2lkIG9wYXF1ZV9mcmVlX3J0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTUnVudGltZSopOwp2b2lkIG9wYXF1ZV9mcmVlKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0Kiwgc3RydWN0IGx3cyosIE1pbm5ldFNlc3Npb24qKTsKTWlubmV0V2Vic29ja2V0KiB3c19mcm9td3NpKHN0cnVjdCBsd3MqLCBNaW5uZXRTZXNzaW9uKiBzZXNzLCBKU0NvbnRleHQqKTsKdm9pZCB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c193cmFwKEpTQ29udGV4dCosIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqLCBNaW5uZXRTZXNzaW9uKik7CkpTVmFsdWUgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOw",
					"AQAAAAAAAAABAAAATAUAAAAAAABfAgAAAAAAAAAAAAAAAPC/"
				],
				[
					193,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACRDAAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX25ldyhKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiopOwpNaW5uZXRXZWJzb2NrZXQqICAgICAgICAgICAgIHdzX2Zyb213c2koc3RydWN0IGx3cyosIE1pbm5ldFNlc3Npb24qLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICBvcGFxdWVfZnJlZV9ydChzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqLCBKU1J1bnRpbWUqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICBvcGFxdWVfZnJlZShzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19mcmVlX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkICAgICAgICAgICAgICAgICAgICAgICAgIHdzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7Ck1pbm5ldFdlYnNvY2tldCogICAgICAgICAgICAgd3NfZHVwKE1pbm5ldFdlYnNvY2tldCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZV9uZXcoSlNDb250ZXh0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyosIE1pbm5ldFNlc3Npb24qKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwoKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwogIHJldHVybiBvcGFxdWUgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAlAsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwYAAAAAAACDBgAAAAAAAAAAAAAAAPC/"
				],
				[
					204,
					1,
					"left_delete",
					null,
					"AQAAAF8CAAAAAAAAXwIAAAAAAABAAAAASlNWYWx1ZSBtaW5uZXRfd3NfbmV3KEpTQ29udGV4dCosIHN0cnVjdCBsd3MqLCBNaW5uZXRTZXNzaW9uKik7Cg",
					"AQAAAAAAAAABAAAAXwIAAAAAAACfAgAAAAAAAAAAAAAAAPC/"
				],
				[
					217,
					1,
					"paste",
					null,
					"AQAAAJ0EAAAAAAAAsQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnQQAAAAAAACdBAAAAAAAAAAAAAAAAPC/"
				],
				[
					218,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALEEAAAAAAAAsgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQQAAAAAAACxBAAAAAAAAAAAAAAAAPC/"
				],
				[
					221,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJ0EAAAAAAAAngQAAAAAAAAAAAAAngQAAAAAAACeBAAAAAAAAAEAAAAs",
					"AQAAAAAAAAABAAAAnQQAAAAAAACeBAAAAAAAAAAAAAAAAPC/"
				],
				[
					249,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABpCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfZnJvbXdzaShzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiosIEpTQ29udGV4dCopOwp2b2lkIG9wYXF1ZV9mcmVlX3J0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTUnVudGltZSopOwp2b2lkIG9wYXF1ZV9mcmVlKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTQ29udGV4dCopOwp2b2lkIHdzX2NsZWFyX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2NsZWFyKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwp2b2lkIHdzX2ZyZWVfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfZnJlZShNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKTWlubmV0V2Vic29ja2V0KiB3c19kdXAoTWlubmV0V2Vic29ja2V0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlX25ldyhKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCAgIEpTVmFsdWVDb25zdCBwcm90byxNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiopOwpKU1ZhbHVlIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfd3NfY2xhc3NfaWQ7CmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jdG9yOwpleHRlcm4gSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3M7CmV4dGVybiBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdLCBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdOwpleHRlcm4gY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUsIG1pbm5ldF93c19wcm90b19kZWZzX3NpemU7CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEgewogIHN0cnVjdCBzb2NrZXQqIHdzOwogIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcTsKICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcDsKICBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzOwogIEpTVmFsdWUgaGFuZGxlcjsKICBpbnQ2NF90IHNlcmlhbDsKICBNaW5uZXRTdGF0dXMgc3RhdHVzOwogIHN0cnVjdCBwb2xsZmQgcG9sbDsKICBpbnQgZXJyb3I7CiAgQk9PTCBiaW5hcnk7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwp9OwoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgpsd3Nfc2Vzc2lvbihzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkKICAgIHJldHVybiBvcGFxdWUtPnNlc3M7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKd3Nfb3BhcXVlKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKgp3c19zZXNzaW9uKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICByZXR1cm4gd3MtPmx3c2kgPyBsd3Nfc2Vzc2lvbih3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKd3NfZnJvbV93c2koc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKTsKICByZXR1cm4gb3BhcXVlID8gb3BhcXVlLT53cyA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YShKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZShvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0KgptaW5uZXRfd3NfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9XRUJTT0NLRVRfSCAqLwoAAAAAAAAAAGgLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVQQAAAAAAABfBAAAAAAAAAAAAAAAAPC/"
				],
				[
					250,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABoCwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfZnJvbXdzaShzdHJ1Y3QgbHdzKiwgTWlubmV0U2Vzc2lvbiosIEpTQ29udGV4dCopOwp2b2lkIG9wYXF1ZV9mcmVlX3J0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTUnVudGltZSopOwp2b2lkIG9wYXF1ZV9mcmVlKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTQ29udGV4dCopOwp2b2lkIHdzX2NsZWFyX3J0KE1pbm5ldFdlYnNvY2tldCosIEpTUnVudGltZSopOwp2b2lkIHdzX2NsZWFyKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwp2b2lkIHdzX2ZyZWVfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfZnJlZShNaW5uZXRXZWJzb2NrZXQqLCBKU0NvbnRleHQqKTsKTWlubmV0V2Vic29ja2V0KiB3c19kdXAoTWlubmV0V2Vic29ja2V0Kik7CnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlX25ldyhKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QgcHJvdG8sIE1pbm5ldFdlYnNvY2tldCopOwpKU1ZhbHVlIG1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqLCBNaW5uZXRTZXNzaW9uKik7CkpTVmFsdWUgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwogIHJldHVybiBvcGFxdWUgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAIQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVQQAAAAAAABfBAAAAAAAAAAAAAAAAPC/"
				],
				[
					255,
					1,
					"paste",
					null,
					"AQAAAFIEAAAAAAAAbwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUgQAAAAAAABSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					258,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFIEAAAAAAAAUwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUgQAAAAAAABSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					271,
					1,
					"paste",
					null,
					"AgAAAF8CAAAAAAAANgYAAAAAAAAAAAAANgYAAAAAAAA2BgAAAAAAANICAAB2b2lkIG9wYXF1ZV9mcmVlX3J0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTUnVudGltZSopOwp2b2lkIG9wYXF1ZV9mcmVlKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSosIEpTQ29udGV4dCopOwpKU1ZhbHVlIG1pbm5ldF93c19uZXcoSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX25ldyhzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLHN0cnVjdCBzZXNzaW9uX2RhdGEgKiBzZXNzaW9uLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKik7CkpTVmFsdWUgbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWUsIGludCwgSlNWYWx1ZSBhcmd2W10pOw",
					"AQAAAAAAAAABAAAAMQUAAAAAAABfAgAAAAAAAAAAAAAAAPC/"
				],
				[
					305,
					1,
					"paste",
					null,
					"AgAAAF8CAAAAAAAATAYAAAAAAAAAAAAATAYAAAAAAABMBgAAAAAAANYDAABNaW5uZXRXZWJzb2NrZXQqICAgICAgICAgICAgIHdzX25ldyhzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqICAgICAgICAgICAgIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWVfbmV3KEpTQ29udGV4dCosIHN0cnVjdCBzZXNzaW9uX2RhdGEqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgICAgICAgICAgICAgICAgICAgICAgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyopOwpKU1ZhbHVlICAgICAgICAgICAgICAgICAgICAgIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7",
					"AQAAAAAAAAABAAAANQYAAAAAAABfAgAAAAAAAAAAAAAAAPC/"
				],
				[
					321,
					1,
					"cut",
					null,
					"AQAAAOEEAAAAAAAA4QQAAAAAAAAUAAAAc3RydWN0IHNlc3Npb25fZGF0YSo",
					"AQAAAAAAAAABAAAA4QQAAAAAAAD1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					324,
					1,
					"paste",
					null,
					"AQAAANUEAAAAAAAA6QQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QQAAAAAAADVBAAAAAAAAAAAAAAAAPC/"
				],
				[
					325,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAOkEAAAAAAAA6gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6QQAAAAAAADpBAAAAAAAAAAAAAAAAPC/"
				],
				[
					328,
					2,
					"left_delete",
					null,
					"AgAAAPUEAAAAAAAA9QQAAAAAAAABAAAAIPQEAAAAAAAA9AQAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAA9gQAAAAAAAD2BAAAAAAAAAAAAAAAAPC/"
				],
				[
					333,
					1,
					"paste",
					null,
					"AQAAAOAFAAAAAAAA+gUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4AUAAAAAAADgBQAAAAAAAAAAAAAAAPC/"
				],
				[
					338,
					4,
					"left_delete",
					null,
					"BAAAAPkFAAAAAAAA+QUAAAAAAAABAAAAc/gFAAAAAAAA+AUAAAAAAAABAAAAc/cFAAAAAAAA9wUAAAAAAAABAAAAZfYFAAAAAAAA9gUAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAA+gUAAAAAAAD6BQAAAAAAAAAAAAAAAPC/"
				],
				[
					343,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABwDAAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogICAgICAgICAgICAgd3NfbmV3KHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgICAgICAgICAgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqICAgICAgICAgICAgIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWVfbmV3KHN0cnVjdCBzZXNzaW9uX2RhdGEqLEpTQ29udGV4dCopOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIGx3c19vcGFxdWUoc3RydWN0IGx3cyosIHN0cnVjdCBzZXNzaW9uX2RhdGEqLCBKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqLCBNaW5uZXRXZWJzb2NrZXQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAgICAgICAgICBtaW5uZXRfd3NfZnJvbXdzaShKU0NvbnRleHQqLCBzdHJ1Y3QgbHdzKiwgc3RydWN0IHNlc3Npb25fZGF0YSopOwpKU1ZhbHVlICAgICAgICAgICAgICAgICAgICAgIG1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CgoKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF93c19jbGFzc19pZDsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzczsKZXh0ZXJuIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdLCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10sIG1pbm5ldF93c19wcm90b19kZWZzW107CmV4dGVybiBjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUsIG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZTsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSB7CiAgc3RydWN0IHNvY2tldCogd3M7CiAgc3RydWN0IGh0dHBfcmVxdWVzdCogcmVxOwogIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwOwogIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3M7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIGludDY0X3Qgc2VyaWFsOwogIE1pbm5ldFN0YXR1cyBzdGF0dXM7CiAgc3RydWN0IHBvbGxmZCBwb2xsOwogIGludCBlcnJvcjsKICBCT09MIGJpbmFyeTsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCmx3c19zZXNzaW9uKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZS0+c2VzczsKCiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgp3c19vcGFxdWUoTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSkgOiAwOwp9CgpzdGF0aWMgaW5saW5lIHN0cnVjdCBzZXNzaW9uX2RhdGEqCndzX3Nlc3Npb24oTWlubmV0V2Vic29ja2V0KiB3cykgewogIHJldHVybiB3cy0+bHdzaSA/IGx3c19zZXNzaW9uKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0V2Vic29ja2V0Kgp3c19mcm9tX3dzaShzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpOwogIHJldHVybiBvcGFxdWUgPyBvcGFxdWUtPndzIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3dzX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCm1pbm5ldF93c19kYXRhMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUyKGN0eCwgb2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1dFQlNPQ0tFVF9IICovCgAAAAAAAAAAiAsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gUAAAAAAAD2BQAAAAAAAAAAAAAAAPC/"
				],
				[
					344,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACICwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWVfbmV3KHN0cnVjdCBzZXNzaW9uX2RhdGEqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyosIHN0cnVjdCBzZXNzaW9uX2RhdGEqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10sIG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSwgbWlubmV0X3dzX3Byb3RvX2RlZnNbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplLCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhIHsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgcmV0dXJuIG9wYXF1ZSA/IG9wYXF1ZS0+d3MgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEoSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUob2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfV0VCU09DS0VUX0ggKi8KAAAAAAAAAACICwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gUAAAAAAAD2BQAAAAAAAAAAAAAAAPC/"
				],
				[
					350,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACICwAAI2lmbmRlZiBNSU5ORVRfV0VCU09DS0VUX0gKI2RlZmluZSBNSU5ORVRfV0VCU09DS0VUX0gKCiNpZihkZWZpbmVkKEhBVkVfV0lOU09DSzJfSCkgfHwgZGVmaW5lZChXSU4zMikgfHwgZGVmaW5lZChXSU42NCkgfHwgZGVmaW5lZChfX01JTkdXMzJfXykgfHwgZGVmaW5lZChfX01JTkdXNjRfXykpICYmICFkZWZpbmVkKF9fTVNZU19fKQoKI3dhcm5pbmcgd2luc29jazIKI2luY2x1ZGUgPHdpbnNvY2syLmg+CiNpZiAwCnN0cnVjdCBwb2xsZmQgewogIGludCBmZDsKICBzaG9ydCBldmVudHMsIHJldmVudHM7Cn07CiNlbmRpZgojZW5kaWYKCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KCnN0cnVjdCBsd3M7CnN0cnVjdCBodHRwX3JlcXVlc3Q7CnN0cnVjdCBodHRwX3Jlc3BvbnNlOwpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGE7CgovKiBjbGFzcyBXZWJTb2NrZXQgKi8KCnR5cGVkZWYgc3RydWN0IHNvY2tldCB7CiAgaW50IHJlZl9jb3VudDsKICBzdHJ1Y3QgbHdzKiBsd3NpOwogIC8vIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwp9IE1pbm5ldFdlYnNvY2tldDsKCmV4dGVybiBpbnQ2NF90IHdzX3NlcmlhbDsKCk1pbm5ldFdlYnNvY2tldCogd3NfbmV3KHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNSdW50aW1lKik7CnZvaWQgb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfY2xlYXJfcnQoTWlubmV0V2Vic29ja2V0KiwgSlNSdW50aW1lKik7CnZvaWQgd3NfY2xlYXIoTWlubmV0V2Vic29ja2V0KiwgSlNDb250ZXh0Kik7CnZvaWQgd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqLCBKU1J1bnRpbWUqKTsKdm9pZCB3c19mcmVlKE1pbm5ldFdlYnNvY2tldCosIEpTQ29udGV4dCopOwpNaW5uZXRXZWJzb2NrZXQqIHdzX2R1cChNaW5uZXRXZWJzb2NrZXQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWVfbmV3KHN0cnVjdCBzZXNzaW9uX2RhdGEqLCBKU0NvbnRleHQqKTsKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBsd3Nfb3BhcXVlKHN0cnVjdCBsd3MqLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3dzX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0V2Vic29ja2V0Kik7CkpTVmFsdWUgbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0Kiwgc3RydWN0IGx3cyosIHN0cnVjdCBzZXNzaW9uX2RhdGEqKTsKSlNWYWx1ZSBtaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwoKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY3RvcjsKZXh0ZXJuIEpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10sIG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSwgbWlubmV0X3dzX3Byb3RvX2RlZnNbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSwgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplLCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhIHsKICBzdHJ1Y3Qgc29ja2V0KiB3czsKICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXE7CiAgc3RydWN0IGh0dHBfcmVzcG9uc2UqIHJlc3A7CiAgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzczsKICBKU1ZhbHVlIGhhbmRsZXI7CiAgaW50NjRfdCBzZXJpYWw7CiAgTWlubmV0U3RhdHVzIHN0YXR1czsKICBzdHJ1Y3QgcG9sbGZkIHBvbGw7CiAgaW50IGVycm9yOwogIEJPT0wgYmluYXJ5OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKfTsKCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKbHdzX3Nlc3Npb24oc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlLT5zZXNzOwoKICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCndzX29wYXF1ZShNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpKSA6IDA7Cn0KCnN0YXRpYyBpbmxpbmUgc3RydWN0IHNlc3Npb25fZGF0YSoKd3Nfc2Vzc2lvbihNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgcmV0dXJuIHdzLT5sd3NpID8gbHdzX3Nlc3Npb24od3MtPmx3c2kpIDogMDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRXZWJzb2NrZXQqCndzX2Zyb21fd3NpKHN0cnVjdCBsd3MqIHdzaSkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSk7CiAgcmV0dXJuIG9wYXF1ZSA/IG9wYXF1ZS0+d3MgOiAwOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEoSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUob2JqLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFdlYnNvY2tldCoKbWlubmV0X3dzX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF93c19jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfV0VCU09DS0VUX0ggKi8KAAAAAAAAAAAjCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMAUAAAAAAABFBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-client.c",
			"settings":
			{
				"buffer_size": 16692,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					76,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA+QQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LWNsaWVudC1odHRwLmgiCiNpbmNsdWRlICJtaW5uZXQtY2xpZW50LmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8ZXJybm8uaD4KCi8vIHN0YXRpYyBNaW5uZXRDYWxsYmFjayBjbGllbnRfY2JfbWVzc2FnZSwgY2xpZW50X2NiX2Nvbm5lY3QsIGNsaWVudF9jYl9jbG9zZSwgY2xpZW50X2NiX3BvbmcsIGNsaWVudF9jYl9mZDsKCnN0YXRpYyBpbnQgY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCi8vIFRIUkVBRF9MT0NBTCBNaW5uZXRDbGllbnQqIG1pbm5ldF9jbGllbnQgPSAwOwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzIGNsaWVudF9wcm90b2NvbHNbXSA9IHsKICAgIHsicmF3IiwgY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsid3MiLCBjbGllbnRfY2FsbGJhY2ssIDAsIDAsIDAsIDAsIDB9LAogICAgezB9LAp9OwoKLypzdGF0aWMgdm9pZApjbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgaWYoY2xvc3VyZS0+Y2xpZW50KSB7CiAgICAgIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y2xpZW50LT5jb250ZXh0LmpzOwoKICAgICAgLy8gcHJpbnRmKCIlcyBjbGllbnQ9JXBcbiIsIF9fZnVuY19fLCBjbG9zdXJlLT5jbGllbnQpOwoKICAgICAgY2xpZW50X2ZyZWUoY2xvc3VyZS0+Y2xpZW50KTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICAgIH0KICB9Cn0KCk1pbm5ldENsb3N1cmUqCmNsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldENsb3N1cmUpKSkpCiAgICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9kdXAoTWlubmV0Q2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CiovCnN0YXRpYyBKU1ZhbHVlCmNsb3NlX3N0YXR1cyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogaW4sIHNpemVfdCBsZW4pIHsKICBpZihsZW4gPj0gMikKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsICgodWludDhfdCopaW4pWzBdIDw8IDggfCAoKHVpbnQ4X3QqKWluKVsxXSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKY2xvc2VfcmVhc29uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBpbiwgc2l6ZV90IGxlbikgewogIGlmKGxlbiA+IDIpCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgJmluWzJdLCBsZW4gLSAyKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgdm9pZApjbGllbnRfY2VydGlmaWNhdGUoTWlubmV0Q29udGV4dCogY29udGV4dCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbyA9ICZjb250ZXh0LT5pbmZvOwogIEpTQ29udGV4dCogY3R4ID0gY29udGV4dC0+anM7CgogIGNvbnRleHQtPmNydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xDQSIpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jcnQpKQogICAgaW5mby0+Y2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5rZXkpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfa2V5X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5jbGllbnRfc3NsX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgZWxzZQogICAgaW5mby0+Y2xpZW50X3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7Cn0KCnZvaWQKY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50KiBjbGllbnQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNsaWVudC0+Y29udGV4dC5qczsKCiAgaWYoLS1jbGllbnQtPnJlZl9jb3VudCA9PSAwKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbGllbnQtPmhlYWRlcnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xpZW50LT5ib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsaWVudC0+bmV4dCk7CgogICAgaWYoY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKSB7CiAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0gMDsKICAgIH0KCiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZjbGllbnQtPmNvbnRleHQpOwogICAgc2Vzc2lvbl9jbGVhcigmY2xpZW50LT5zZXNzaW9uLCBjdHgpOwoKICAgIGpzX2ZyZWUoY3R4LCBjbGllbnQpOwogIH0KfQoKdm9pZApjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCkgewogIG1lbXNldChjbGllbnQsIDAsIHNpemVvZihNaW5uZXRDbGllbnQpKTsKICBjbGllbnQtPmhlYWRlcnMgPSBKU19OVUxMOwogIGNsaWVudC0+Ym9keSA9IEpTX05VTEw7CiAgY2xpZW50LT5uZXh0ID0gSlNfTlVMTDsKICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAganNfcHJvbWlzZV96ZXJvKCZjbGllbnQtPnByb21pc2UpOwogIGNhbGxiYWNrc196ZXJvKCZjbGllbnQtPm9uKTsKfQoKTWlubmV0Q2xpZW50KgpjbGllbnRfZHVwKE1pbm5ldENsaWVudCogY2xpZW50KSB7CiAgKytjbGllbnQtPnJlZl9jb3VudDsKICByZXR1cm4gY2xpZW50Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfY2xpZW50X2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CgogIC8qc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE9OX1JFU09MVkU6IHsKICAgICAgLy9wcmludGYoIiVzICVzICVkXG4iLCBfX2Z1bmNfXywgIk9OX1JFU09MVkUiLCAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnJlZl9jb3VudCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBPTl9SRUpFQ1Q6IHsKICAgICAgLy9wcmludGYoIiVzICVzXG4iLCBfX2Z1bmNfXywgIk9OX1JFSkVDVCIsICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+cmVmX2NvdW50KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBzdGF0dXMgPSAtMTsKICBKU1ZhbHVlIHZhbHVlLCByZXQgPSBKU19OVUxMOwogIE1pbm5ldENsaWVudCogY2xpZW50ID0gMDsKICBKU1ZhbHVlIG9wdGlvbnMgPSBhcmd2WzBdOwogIHN0cnVjdCBsd3MgLyoqd3NpID0gMCwgKi8qIHdzaTI7CgogIEJPT0wgYmxvY2sgPSBUUlVFLCBiaW5hcnkgPSBGQUxTRTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG87CgogIC8vIFNFVExPRyhMTExfSU5GTykKCiAgaWYoIShjbGllbnQgPSBqc19tYWxsb2MoY3R4LCBzaXplb2YoTWlubmV0Q2xpZW50KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgY2xpZW50X3plcm8oY2xpZW50KTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPmNsaWVudCA9IGNsaWVudDsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJmNsaWVudF9mcmVlOwogIH0KCiAgKmNsaWVudCA9IChNaW5uZXRDbGllbnQpey5jb250ZXh0ID0gKE1pbm5ldENvbnRleHQpey5yZWZfY291bnQgPSAxfSwgLmhlYWRlcnMgPSBKU19VTkRFRklORUQsIC5ib2R5ID0gSlNfVU5ERUZJTkVELCAubmV4dCA9IEpTX1VOREVGSU5FRH07CgogIHNlc3Npb25femVybygmY2xpZW50LT5zZXNzaW9uKTsKCiAgY2xpZW50LT5yZXF1ZXN0ID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIGlmKGFyZ2MgPj0gMikgewoKICAgIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgICBhcmdpbmQrKzsKICAgIC8qICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgICAgICAgIHRtcCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSk7CiAgICAgICAgICBhcmdpbmQrKzsKICAgICAgICB9IGVsc2UgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlthcmdpbmRdKSkpIHsKICAgICAgICAgIGNsaWVudC0+cmVxdWVzdCA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgICAgICAgICBjbGllbnQtPnVybCA9IHVybF9jbG9uZShyZXEtPnVybCwgY3R4KTsKICAgICAgICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlthcmdpbmRdLCAiaGVhZGVycyIpOwogICAgICAgICAgYXJnaW5kKys7CiAgICAgICAgfSovCiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICB7CiAgICBNaW5uZXRDb250ZXh0KiBjb250ZXh0ID0gJmNsaWVudC0+Y29udGV4dDsKCiAgICBjb250ZXh0LT5qcyA9IGN0eDsKICAgIGNvbnRleHQtPmVycm9yID0gSlNfTlVMTDsKCiAgICBtZW1zZXQoJmNvbnRleHQtPmluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbykpOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zID0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICBjb250ZXh0LT5pbmZvLnBvcnQgPSBDT05URVhUX1BPUlRfTk9fTElTVEVOOwogICAgY29udGV4dC0+aW5mby5wcm90b2NvbHMgPSBjbGllbnRfcHJvdG9jb2xzOwogICAgY29udGV4dC0+aW5mby51c2VyID0gY2xpZW50OwoKICAgIGlmKCFjb250ZXh0LT5sd3MpIHsKICAgICAgY2xpZW50X2NlcnRpZmljYXRlKCZjbGllbnQtPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgICAgaWYoIShjb250ZXh0LT5sd3MgPSBsd3NfY3JlYXRlX2NvbnRleHQoJmNvbnRleHQtPmluZm8pKSkgewogICAgICAgIGx3c2xfZXJyKCJtaW5uZXQtY2xpZW50OiBsaWJ3ZWJzb2NrZXRzIGluaXQgZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm1pbm5ldC1jbGllbnQ6IGxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKICAgICAgfQogICAgfQogIH0KCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvblBvbmciLCBjbGllbnQtPm9uLnBvbmcpCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvbkNsb3NlIiwgY2xpZW50LT5vbi5jbG9zZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uQ29ubmVjdCIsIGNsaWVudC0+b24uY29ubmVjdCkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uTWVzc2FnZSIsIGNsaWVudC0+b24ubWVzc2FnZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uRmQiLCBjbGllbnQtPm9uLmZkKQogIEdFVENCUFJPUChvcHRpb25zLCAib25IdHRwIiwgY2xpZW50LT5vbi5odHRwKQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJpbmFyeSIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICBiaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGJsb2NrID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoSlNfSXNPYmplY3QoY2xpZW50LT5oZWFkZXJzKSkgewogICAgaGVhZGVyc19mcm9tb2JqKCZjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMsIGNsaWVudC0+aGVhZGVycywgY3R4KTsKICB9CgogIGNsaWVudC0+cmVzcG9uc2UgPSByZXNwb25zZV9uZXcoY3R4KTsKICB1cmxfY29weSgmY2xpZW50LT5yZXNwb25zZS0+dXJsLCBjbGllbnQtPnJlcXVlc3QtPnVybCwgY3R4KTsKCiAgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wpOwoKICB1cmxfaW5mbyhjbGllbnQtPnJlcXVlc3QtPnVybCwgJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICBjbGllbnQtPmNvbm5lY3RfaW5mby5wd3NpID0gJmNsaWVudC0+d3NpOwogIGNsaWVudC0+Y29ubmVjdF9pbmZvLmNvbnRleHQgPSBjbGllbnQtPmNvbnRleHQubHdzOwoKICBzd2l0Y2gocHJvdG8pIHsKICAgIGNhc2UgUFJPVE9DT0xfUkFXOiB7CiAgICAgIGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCA9IGpzX3N0cmR1cChjdHgsICJSQVciKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiAgICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgICAgIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0ganNfc3RyZHVwKGN0eCwgSlNfSXNTdHJpbmcodmFsdWUpID8gc3RyIDogbWV0aG9kX3N0cmluZyhNRVRIT0RfR0VUKSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKI2lmZGVmIERFQlVHX09VVFBVVAogIGZwcmludGYoc3RkZXJyLCAiTUVUSE9EOiAlc1xuIiwgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICBmcHJpbnRmKHN0ZGVyciwgIlBST1RPQ09MOiAlc1xuIiwgY29ubi0+cHJvdG9jb2wpOwojZW5kaWYKCiAgaWYoIWJsb2NrKQogICAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgZXJybm8gPSAwOwoKI2lmZGVmIExXU19XSVRIX1VEUAogIGlmKHByb3RvID09IFBST1RPQ09MX1JBVyAmJiAhc3RyY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpIHsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwogICAgTWlubmV0VVJMKiB1cmwgPSAmY2xpZW50LT5yZXF1ZXN0LT51cmw7CgogICAgdmhvc3QgPSBsd3NfY3JlYXRlX3Zob3N0KGNsaWVudC0+Y29udGV4dC5sd3MsICZjbGllbnQtPmNvbnRleHQuaW5mbyk7CiAgICB3c2kyID0gbHdzX2NyZWF0ZV9hZG9wdF91ZHAodmhvc3QsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCAwLCAicmF3IiwgMCwgMCwgMCwgMCwgMCk7CiAgICAqY2xpZW50LT5jb25uZWN0X2luZm8ucHdzaSA9IHdzaTI7CiAgfSBlbHNlCiNlbmRpZgogIHsKICAgIHdzaTIgPSBsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICB9CiAgZnByaW50ZihzdGRlcnIsICJjbGllbnQtPndzaSA9ICVwLCB3c2kyID0gJXBcbiIsIGNsaWVudC0+d3NpLCB3c2kyKTsKCiAgaWYoIWNsaWVudC0+d3NpIC8qJiYgIXdzaTIqLykgewogICAgaWYoIWJsb2NrKSB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIlsyXSBDb25uZWN0aW9uIGZhaWxlZDogJXMiLCBzdHJlcnJvcihlcnJubykpOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGN0eCwgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBlcnIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiQ29ubmVjdGlvbiBmYWlsZWQ6ICVzIiwgc3RyZXJyb3IoZXJybm8pKTsKICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgb3BhcXVlID0gbHdzX29wYXF1ZShjbGllbnQtPndzaSwgY2xpZW50LT5jb250ZXh0LmpzKTsKICBvcGFxdWUtPmJpbmFyeSA9IGJpbmFyeTsKCiAgaWYoIWJsb2NrKQogICAgcmV0dXJuIHJldDsKCiAgZm9yKDs7KSB7CiAgICBpZihzdGF0dXMgIT0gb3BhcXVlLT5zdGF0dXMpCiAgICAgIHN0YXR1cyA9IG9wYXF1ZS0+c3RhdHVzOwoKICAgIGlmKHN0YXR1cyA9PSBDTE9TRUQpCiAgICAgIGJyZWFrOwoKICAgIGpzX3N0ZF9sb29wKGN0eCk7CgogICAgaWYoY2xpZW50LT5jb250ZXh0LmV4Y2VwdGlvbikgewogICAgICByZXQgPSBKU19FWENFUFRJT047CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgLy8gY2xpZW50X2ZyZWUoY2xpZW50KTsKCmZhaWw6CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfY2xpZW50KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X2NsaWVudF9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZtaW5uZXRfY2xpZW50X2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCnVpbnQ4X3QqCnNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqIHB0ciwgdWludDhfdCBjaCkgewogIGlmKHB0clstMV0gPT0gJ1xuJykgewogICAgZG8geyAtLXB0cjsgfSB3aGlsZShwdHJbLTFdICE9IGNoKTsKICAgIHJldHVybiBwdHI7CiAgfQogIHJldHVybiAwOwp9CgpzdGF0aWMgaW50CmNsaWVudF9jYWxsYmFjayhzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIE1pbm5ldENsaWVudCogY2xpZW50ID0gbHdzX2NsaWVudCh3c2kpOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gMDsKICBpbnQgcmV0ID0gMDsKCiAgaWYobHdzX2lzX3BvbGxfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBmZF9jYWxsYmFjayh3c2ksIHJlYXNvbiwgJmNsaWVudC0+b24uZmQsIGluKTsKCiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX2NsaWVudF9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIGlmKGNsaWVudC0+Y29udGV4dC5qcykgewogICAgb3BhcXVlID0gbHdzX29wYXF1ZSh3c2ksIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICBvcGFxdWUtPnNlc3MgPSB1c2VyOwogIH0KCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0FQUEVORF9IQU5EU0hBS0VfSEVBREVSOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0w6IHsKICAgICAgc2Vzc2lvbl96ZXJvKCZjbGllbnQtPnNlc3Npb24pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1NLVF9EUk9QX1BST1RPQ09MOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0g6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT05ORUNUSU5HOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURToKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TRUQpIHsKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NFRDsKICAgICAgfQogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUjogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU0NvbnRleHQqIGN0eDsKICAgICAgICBpbnQzMl90IHJlc3VsdCA9IC0xOwogICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IgJiYgaW4pCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19OZXdTdHJpbmdMZW4oY2xpZW50LT5jb250ZXh0LmpzLCBpbiwgbGVuKTsKICAgICAgICBlbHNlCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKICAgICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5jbG9zZS5jdHgpKSB7CiAgICAgICAgICBKU1ZhbHVlIHJldDsKICAgICAgICAgIGludCBhcmdjLCBlcnIgPSBvcGFxdWUgPyBvcGFxdWUtPmVycm9yIDogMDsKICAgICAgICAgIEpTVmFsdWVDb25zdCBjYl9hcmd2WzRdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmp9OwoKICAgICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IpIHsKICAgICAgICAgICAgYXJnYyA9IDI7CiAgICAgICAgICAgIGNiX2FyZ3ZbMV0gPSBKU19EdXBWYWx1ZShjdHgsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhcmdjID0gNDsKICAgICAgICAgICAgY2JfYXJndlsxXSA9IGNsb3NlX3N0YXR1cyhjdHgsIGluLCBsZW4pOwogICAgICAgICAgICBjYl9hcmd2WzJdID0gY2xvc2VfcmVhc29uKGN0eCwgaW4sIGxlbik7CiAgICAgICAgICAgIGNiX2FyZ3ZbM10gPSBKU19OZXdJbnQzMihjdHgsIGVycik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uY2xvc2UsIGFyZ2MsIGNiX2FyZ3YpOwogICAgICAgICAgaWYoIWNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXQpKQogICAgICAgICAgICBpZihKU19Jc051bWJlcihyZXQpKQogICAgICAgICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsyXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzNdKTsKICAgICAgICB9CiAgICAgICAgcmV0ID0gcmVzdWx0OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQURPUFQ6IHsKICAgICAgLy8gbHdzbF91c2VyKCJBRE9QVCEgJXMiLCBjbGllbnQtPnJlcXVlc3QtPnVybC5wcm90b2NvbCk7CgogICAgICBpZihzdHJjYXNlY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgT1BFTikgewogICAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICAgIGludCBzdGF0dXM7CiAgICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwogICAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLmNvbm5lY3QuY3R4KSkgewoKICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHdzaSwgdXNlcik7CgogICAgICAgICAgaWYocmVhc29uICE9IExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEKSB7CiAgICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIGNsaWVudC0+cmVxdWVzdCk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBsd3NsX3VzZXIoImNsaWVudCAgICIgRkdDKDE3MSwgIiUtMzhzIikgIiBmZD0laSwgaW49JS4qc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgICAgICAgICBpZigoY2xpZW50LT5vbi5jb25uZWN0LmN0eCA9IGN0eCkpCiAgICAgICAgICAgIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5jb25uZWN0LCAzLCAmY2xpZW50LT5zZXNzaW9uLndzX29iaikpOwogICAgICAgIH0KICAgICAgICAvKmlmKCFtaW5uZXRfcmVzcG9uc2VfZGF0YShzZXNzLT5yZXNwX29iaikpKi8KICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfV1JJVEVBQkxFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRTogewogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZjbGllbnQtPnNlc3Npb24uc2VuZF9idWY7CiAgICAgIGludCByZXQsIHNpemUgPSBidWZmZXJfQllURVMoYnVmKTsKCiAgICAgIGlmKChyZXQgPSBsd3Nfd3JpdGUod3NpLCBidWYtPnJlYWQsIHNpemUsIExXU19XUklURV9URVhUKSkgIT0gc2l6ZSkgewogICAgICAgIGx3c2xfZXJyKCJzZW5kaW5nIG1lc3NhZ2UgZmFpbGVkOiAlZCA8ICVkXG4iLCByZXQsIHNpemUpOwogICAgICAgIHJldCA9IC0xOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBidWZmZXJfcmVzZXQoYnVmKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1JYOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5tZXNzYWdlLmN0eCkpIHsKICAgICAgICAvLyBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEoY2xpZW50LT5zZXNzaW9uLndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2W10gPSB7Y2xpZW50LT5zZXNzaW9uLndzX29iaiwgbXNnfTsKCiAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLm1lc3NhZ2UsIGNvdW50b2YoY2JfYXJndiksIGNiX2FyZ3YpKTsKCiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRV9QT05HOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5wb25nLmN0eCkpIHsKICAgICAgICBKU1ZhbHVlIGRhdGEgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbXSA9IHtjbGllbnQtPnNlc3Npb24ud3Nfb2JqLCBkYXRhfTsKICAgICAgICBjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgbWlubmV0X2VtaXQoJmNsaWVudC0+b24ucG9uZywgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1k6IHsKICAgICAgQk9PTCBpc19lcnJvciA9IEpTX0lzVW5kZWZpbmVkKGNsaWVudC0+Y29udGV4dC5lcnJvcik7CgogICAgICAoaXNfZXJyb3IgPyBqc19wcm9taXNlX3JlamVjdCA6IGpzX3Byb21pc2VfcmVzb2x2ZSkoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWTogewogICAgICBicmVhazsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXQgPSAtMTsKCiAgbHdzbF91c2VyKGxlbiA/ICJjbGllbnQgICAgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBpc19zc2w9JWkgbGVuPSV6dSBpbj0nJS4qcycgcmV0PSVkXG4iIDogImNsaWVudCAgICAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGlzX3NzbD0laSBsZW49JXp1XG4iLAogICAgICAgICAgICAyMiArIChyZWFzb24gKiAyKSwKICAgICAgICAgICAgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLAogICAgICAgICAgICBsd3NfaXNfc3NsKHdzaSksCiAgICAgICAgICAgIGxlbiwKICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgIChyZWFzb24gPT0gTFdTX0NBTExCQUNLX1JBV19SWCB8fCByZWFzb24gPT0gTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFIHx8IHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRSkgPyAwIDogKGNoYXIqKWluLAogICAgICAgICAgICByZXQpOwoKICByZXR1cm4gcmV0Owp9CgAAAAAAAAAAGUEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzjUAAAAAAADONQAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAAIgjAAAAAAAAiSMAAAAAAAAAAAAAiSMAAAAAAACKIwAAAAAAAAAAAACKIwAAAAAAAIsjAAAAAAAAAAAAAIsjAAAAAAAAjCMAAAAAAAAAAAAAjCMAAAAAAACNIwAAAAAAAAAAAACNIwAAAAAAAI4jAAAAAAAAAAAAAI4jAAAAAAAAjyMAAAAAAAAAAAAAjyMAAAAAAACQIwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiCMAAAAAAACIIwAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJAjAAAAAAAAkSMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkCMAAAAAAACQIwAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAALYqAAAAAAAAtyoAAAAAAAAAAAAAtyoAAAAAAAC4KgAAAAAAAAAAAAC4KgAAAAAAALkqAAAAAAAAAAAAALkqAAAAAAAAuioAAAAAAAAAAAAAuioAAAAAAAC7KgAAAAAAAAAAAAC7KgAAAAAAALwqAAAAAAAAAAAAALwqAAAAAAAAvSoAAAAAAAAAAAAAvSoAAAAAAAC+KgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtioAAAAAAAC2KgAAAAAAAAAAAAAAAPC/"
				],
				[
					94,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAL4qAAAAAAAAvyoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvioAAAAAAAC+KgAAAAAAAAAAAAAAAPC/"
				],
				[
					98,
					7,
					"left_delete",
					null,
					"BwAAALwqAAAAAAAAvCoAAAAAAAABAAAAbrsqAAAAAAAAuyoAAAAAAAABAAAAb7oqAAAAAAAAuioAAAAAAAABAAAAabkqAAAAAAAAuSoAAAAAAAABAAAAc7gqAAAAAAAAuCoAAAAAAAABAAAAc7cqAAAAAAAAtyoAAAAAAAABAAAAZbYqAAAAAAAAtioAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAvSoAAAAAAAC9KgAAAAAAAAAAAAAAAPC/"
				],
				[
					99,
					1,
					"insert",
					{
						"characters": "user"
					},
					"BAAAALYqAAAAAAAAtyoAAAAAAAAAAAAAtyoAAAAAAAC4KgAAAAAAAAAAAAC4KgAAAAAAALkqAAAAAAAAAAAAALkqAAAAAAAAuioAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtioAAAAAAAC2KgAAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"insert",
					{
						"characters": "user"
					},
					"BQAAAIgjAAAAAAAAiSMAAAAAAAAAAAAAiSMAAAAAAACJIwAAAAAAAAcAAABzZXNzaW9uiSMAAAAAAACKIwAAAAAAAAAAAACKIwAAAAAAAIsjAAAAAAAAAAAAAIsjAAAAAAAAjCMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiCMAAAAAAACPIwAAAAAAAAAAAAAAAPC/"
				],
				[
					140,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAL0jAAAAAAAAvyMAAAAAAAAAAAAAZyMAAAAAAABpIwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZyMAAAAAAAC9IwAAAAAAAP///////+9/"
				],
				[
					154,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAALU1AAAAAAAAtjUAAAAAAAAAAAAAtjUAAAAAAAC3NQAAAAAAAAAAAAC3NQAAAAAAALg1AAAAAAAAAAAAALg1AAAAAAAAuTUAAAAAAAAAAAAAuTUAAAAAAAC6NQAAAAAAAAAAAAC6NQAAAAAAALs1AAAAAAAAAAAAALs1AAAAAAAAvDUAAAAAAAAAAAAAvDUAAAAAAAC9NQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtTUAAAAAAAC1NQAAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"insert",
					{
						"characters": "client"
					},
					"BgAAALU1AAAAAAAAtjUAAAAAAAAAAAAAtjUAAAAAAAC3NQAAAAAAAAAAAAC3NQAAAAAAALg1AAAAAAAAAAAAALg1AAAAAAAAuTUAAAAAAAAAAAAAuTUAAAAAAAC6NQAAAAAAAAAAAAC6NQAAAAAAALs1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtTUAAAAAAAC1NQAAAAAAAAAAAAAAAPC/"
				],
				[
					157,
					1,
					"insert",
					{
						"characters": "->"
					},
					"AgAAALs1AAAAAAAAvDUAAAAAAAAAAAAAvDUAAAAAAAC9NQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuzUAAAAAAAC7NQAAAAAAAAAAAAAAAPC/"
				],
				[
					173,
					1,
					"insert",
					{
						"characters": "user"
					},
					"BQAAALU1AAAAAAAAtjUAAAAAAAAAAAAAtjUAAAAAAAC2NQAAAAAAAA8AAABjbGllbnQtPnNlc3Npb262NQAAAAAAALc1AAAAAAAAAAAAALc1AAAAAAAAuDUAAAAAAAAAAAAAuDUAAAAAAAC5NQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtTUAAAAAAADENQAAAAAAAAAAAAAAAPC/"
				],
				[
					196,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAuQQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LWNsaWVudC1odHRwLmgiCiNpbmNsdWRlICJtaW5uZXQtY2xpZW50LmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8ZXJybm8uaD4KCi8vIHN0YXRpYyBNaW5uZXRDYWxsYmFjayBjbGllbnRfY2JfbWVzc2FnZSwgY2xpZW50X2NiX2Nvbm5lY3QsIGNsaWVudF9jYl9jbG9zZSwgY2xpZW50X2NiX3BvbmcsIGNsaWVudF9jYl9mZDsKCnN0YXRpYyBpbnQgY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCi8vIFRIUkVBRF9MT0NBTCBNaW5uZXRDbGllbnQqIG1pbm5ldF9jbGllbnQgPSAwOwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzIGNsaWVudF9wcm90b2NvbHNbXSA9IHsKICAgIHsicmF3IiwgY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsid3MiLCBjbGllbnRfY2FsbGJhY2ssIDAsIDAsIDAsIDAsIDB9LAogICAgezB9LAp9OwoKLypzdGF0aWMgdm9pZApjbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgaWYoY2xvc3VyZS0+Y2xpZW50KSB7CiAgICAgIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y2xpZW50LT5jb250ZXh0LmpzOwoKICAgICAgLy8gcHJpbnRmKCIlcyBjbGllbnQ9JXBcbiIsIF9fZnVuY19fLCBjbG9zdXJlLT5jbGllbnQpOwoKICAgICAgY2xpZW50X2ZyZWUoY2xvc3VyZS0+Y2xpZW50KTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICAgIH0KICB9Cn0KCk1pbm5ldENsb3N1cmUqCmNsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldENsb3N1cmUpKSkpCiAgICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9kdXAoTWlubmV0Q2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CiovCnN0YXRpYyBKU1ZhbHVlCmNsb3NlX3N0YXR1cyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogaW4sIHNpemVfdCBsZW4pIHsKICBpZihsZW4gPj0gMikKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsICgodWludDhfdCopaW4pWzBdIDw8IDggfCAoKHVpbnQ4X3QqKWluKVsxXSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKY2xvc2VfcmVhc29uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBpbiwgc2l6ZV90IGxlbikgewogIGlmKGxlbiA+IDIpCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgJmluWzJdLCBsZW4gLSAyKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgdm9pZApjbGllbnRfY2VydGlmaWNhdGUoTWlubmV0Q29udGV4dCogY29udGV4dCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbyA9ICZjb250ZXh0LT5pbmZvOwogIEpTQ29udGV4dCogY3R4ID0gY29udGV4dC0+anM7CgogIGNvbnRleHQtPmNydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xDQSIpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jcnQpKQogICAgaW5mby0+Y2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5rZXkpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfa2V5X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5jbGllbnRfc3NsX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgZWxzZQogICAgaW5mby0+Y2xpZW50X3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7Cn0KCnZvaWQKY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50KiBjbGllbnQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNsaWVudC0+Y29udGV4dC5qczsKCiAgaWYoLS1jbGllbnQtPnJlZl9jb3VudCA9PSAwKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbGllbnQtPmhlYWRlcnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xpZW50LT5ib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsaWVudC0+bmV4dCk7CgogICAgaWYoY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKSB7CiAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0gMDsKICAgIH0KCiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZjbGllbnQtPmNvbnRleHQpOwogICAgc2Vzc2lvbl9jbGVhcigmY2xpZW50LT5zZXNzaW9uLCBjdHgpOwoKICAgIGpzX2ZyZWUoY3R4LCBjbGllbnQpOwogIH0KfQoKdm9pZApjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCkgewogIG1lbXNldChjbGllbnQsIDAsIHNpemVvZihNaW5uZXRDbGllbnQpKTsKICBjbGllbnQtPmhlYWRlcnMgPSBKU19OVUxMOwogIGNsaWVudC0+Ym9keSA9IEpTX05VTEw7CiAgY2xpZW50LT5uZXh0ID0gSlNfTlVMTDsKICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAganNfcHJvbWlzZV96ZXJvKCZjbGllbnQtPnByb21pc2UpOwogIGNhbGxiYWNrc196ZXJvKCZjbGllbnQtPm9uKTsKfQoKTWlubmV0Q2xpZW50KgpjbGllbnRfZHVwKE1pbm5ldENsaWVudCogY2xpZW50KSB7CiAgKytjbGllbnQtPnJlZl9jb3VudDsKICByZXR1cm4gY2xpZW50Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfY2xpZW50X2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CgogIC8qc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE9OX1JFU09MVkU6IHsKICAgICAgLy9wcmludGYoIiVzICVzICVkXG4iLCBfX2Z1bmNfXywgIk9OX1JFU09MVkUiLCAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnJlZl9jb3VudCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBPTl9SRUpFQ1Q6IHsKICAgICAgLy9wcmludGYoIiVzICVzXG4iLCBfX2Z1bmNfXywgIk9OX1JFSkVDVCIsICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+cmVmX2NvdW50KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBzdGF0dXMgPSAtMTsKICBKU1ZhbHVlIHZhbHVlLCByZXQgPSBKU19OVUxMOwogIE1pbm5ldENsaWVudCogY2xpZW50ID0gMDsKICBKU1ZhbHVlIG9wdGlvbnMgPSBhcmd2WzBdOwogIHN0cnVjdCBsd3MgLyoqd3NpID0gMCwgKi8qIHdzaTI7CgogIEJPT0wgYmxvY2sgPSBUUlVFLCBiaW5hcnkgPSBGQUxTRTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG87CgogIC8vIFNFVExPRyhMTExfSU5GTykKCiAgaWYoIShjbGllbnQgPSBqc19tYWxsb2MoY3R4LCBzaXplb2YoTWlubmV0Q2xpZW50KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgY2xpZW50X3plcm8oY2xpZW50KTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPmNsaWVudCA9IGNsaWVudDsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJmNsaWVudF9mcmVlOwogIH0KCiAgKmNsaWVudCA9IChNaW5uZXRDbGllbnQpey5jb250ZXh0ID0gKE1pbm5ldENvbnRleHQpey5yZWZfY291bnQgPSAxfSwgLmhlYWRlcnMgPSBKU19VTkRFRklORUQsIC5ib2R5ID0gSlNfVU5ERUZJTkVELCAubmV4dCA9IEpTX1VOREVGSU5FRH07CgogIHNlc3Npb25femVybygmY2xpZW50LT5zZXNzaW9uKTsKCiAgY2xpZW50LT5yZXF1ZXN0ID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIGlmKGFyZ2MgPj0gMikgewoKICAgIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgICBhcmdpbmQrKzsKICAgIC8qICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgICAgICAgIHRtcCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSk7CiAgICAgICAgICBhcmdpbmQrKzsKICAgICAgICB9IGVsc2UgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlthcmdpbmRdKSkpIHsKICAgICAgICAgIGNsaWVudC0+cmVxdWVzdCA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgICAgICAgICBjbGllbnQtPnVybCA9IHVybF9jbG9uZShyZXEtPnVybCwgY3R4KTsKICAgICAgICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlthcmdpbmRdLCAiaGVhZGVycyIpOwogICAgICAgICAgYXJnaW5kKys7CiAgICAgICAgfSovCiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICB7CiAgICBNaW5uZXRDb250ZXh0KiBjb250ZXh0ID0gJmNsaWVudC0+Y29udGV4dDsKCiAgICBjb250ZXh0LT5qcyA9IGN0eDsKICAgIGNvbnRleHQtPmVycm9yID0gSlNfTlVMTDsKCiAgICBtZW1zZXQoJmNvbnRleHQtPmluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbykpOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zID0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICBjb250ZXh0LT5pbmZvLnBvcnQgPSBDT05URVhUX1BPUlRfTk9fTElTVEVOOwogICAgY29udGV4dC0+aW5mby5wcm90b2NvbHMgPSBjbGllbnRfcHJvdG9jb2xzOwogICAgY29udGV4dC0+aW5mby51c2VyID0gY2xpZW50OwoKICAgIGlmKCFjb250ZXh0LT5sd3MpIHsKICAgICAgY2xpZW50X2NlcnRpZmljYXRlKCZjbGllbnQtPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgICAgaWYoIShjb250ZXh0LT5sd3MgPSBsd3NfY3JlYXRlX2NvbnRleHQoJmNvbnRleHQtPmluZm8pKSkgewogICAgICAgIGx3c2xfZXJyKCJtaW5uZXQtY2xpZW50OiBsaWJ3ZWJzb2NrZXRzIGluaXQgZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm1pbm5ldC1jbGllbnQ6IGxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKICAgICAgfQogICAgfQogIH0KCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvblBvbmciLCBjbGllbnQtPm9uLnBvbmcpCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvbkNsb3NlIiwgY2xpZW50LT5vbi5jbG9zZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uQ29ubmVjdCIsIGNsaWVudC0+b24uY29ubmVjdCkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uTWVzc2FnZSIsIGNsaWVudC0+b24ubWVzc2FnZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uRmQiLCBjbGllbnQtPm9uLmZkKQogIEdFVENCUFJPUChvcHRpb25zLCAib25IdHRwIiwgY2xpZW50LT5vbi5odHRwKQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJpbmFyeSIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICBiaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGJsb2NrID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoSlNfSXNPYmplY3QoY2xpZW50LT5oZWFkZXJzKSkgewogICAgaGVhZGVyc19mcm9tb2JqKCZjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMsIGNsaWVudC0+aGVhZGVycywgY3R4KTsKICB9CgogIGNsaWVudC0+cmVzcG9uc2UgPSByZXNwb25zZV9uZXcoY3R4KTsKICB1cmxfY29weSgmY2xpZW50LT5yZXNwb25zZS0+dXJsLCBjbGllbnQtPnJlcXVlc3QtPnVybCwgY3R4KTsKCiAgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wpOwoKICB1cmxfaW5mbyhjbGllbnQtPnJlcXVlc3QtPnVybCwgJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICBjbGllbnQtPmNvbm5lY3RfaW5mby5wd3NpID0gJmNsaWVudC0+d3NpOwogIGNsaWVudC0+Y29ubmVjdF9pbmZvLmNvbnRleHQgPSBjbGllbnQtPmNvbnRleHQubHdzOwoKICBzd2l0Y2gocHJvdG8pIHsKICAgIGNhc2UgUFJPVE9DT0xfUkFXOiB7CiAgICAgIGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCA9IGpzX3N0cmR1cChjdHgsICJSQVciKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiAgICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgICAgIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0ganNfc3RyZHVwKGN0eCwgSlNfSXNTdHJpbmcodmFsdWUpID8gc3RyIDogbWV0aG9kX3N0cmluZyhNRVRIT0RfR0VUKSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKI2lmZGVmIERFQlVHX09VVFBVVAogIGZwcmludGYoc3RkZXJyLCAiTUVUSE9EOiAlc1xuIiwgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICBmcHJpbnRmKHN0ZGVyciwgIlBST1RPQ09MOiAlc1xuIiwgY29ubi0+cHJvdG9jb2wpOwojZW5kaWYKCiAgaWYoIWJsb2NrKQogICAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgZXJybm8gPSAwOwoKI2lmZGVmIExXU19XSVRIX1VEUAogIGlmKHByb3RvID09IFBST1RPQ09MX1JBVyAmJiAhc3RyY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpIHsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwogICAgTWlubmV0VVJMKiB1cmwgPSAmY2xpZW50LT5yZXF1ZXN0LT51cmw7CgogICAgdmhvc3QgPSBsd3NfY3JlYXRlX3Zob3N0KGNsaWVudC0+Y29udGV4dC5sd3MsICZjbGllbnQtPmNvbnRleHQuaW5mbyk7CiAgICB3c2kyID0gbHdzX2NyZWF0ZV9hZG9wdF91ZHAodmhvc3QsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCAwLCAicmF3IiwgMCwgMCwgMCwgMCwgMCk7CiAgICAqY2xpZW50LT5jb25uZWN0X2luZm8ucHdzaSA9IHdzaTI7CiAgfSBlbHNlCiNlbmRpZgogIHsKICAgIHdzaTIgPSBsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICB9CiAgZnByaW50ZihzdGRlcnIsICJjbGllbnQtPndzaSA9ICVwLCB3c2kyID0gJXBcbiIsIGNsaWVudC0+d3NpLCB3c2kyKTsKCiAgaWYoIWNsaWVudC0+d3NpIC8qJiYgIXdzaTIqLykgewogICAgaWYoIWJsb2NrKSB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIlsyXSBDb25uZWN0aW9uIGZhaWxlZDogJXMiLCBzdHJlcnJvcihlcnJubykpOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGN0eCwgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBlcnIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiQ29ubmVjdGlvbiBmYWlsZWQ6ICVzIiwgc3RyZXJyb3IoZXJybm8pKTsKICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgLypvcGFxdWUgPSBsd3Nfb3BhcXVlKGNsaWVudC0+d3NpLCB1c2VyLCBjbGllbnQtPmNvbnRleHQuanMpOwogIG9wYXF1ZS0+YmluYXJ5ID0gYmluYXJ5OyovCgogIGlmKCFibG9jaykKICAgIHJldHVybiByZXQ7CgogIGZvcig7OykgewogICAgaWYoc3RhdHVzICE9IG9wYXF1ZS0+c3RhdHVzKQogICAgICBzdGF0dXMgPSBvcGFxdWUtPnN0YXR1czsKCiAgICBpZihzdGF0dXMgPT0gQ0xPU0VEKQogICAgICBicmVhazsKCiAgICBqc19zdGRfbG9vcChjdHgpOwoKICAgIGlmKGNsaWVudC0+Y29udGV4dC5leGNlcHRpb24pIHsKICAgICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGNsaWVudF9mcmVlKGNsaWVudCk7CgpmYWlsOgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKCEoY2xvc3VyZSA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDAsIGNsb3N1cmUpOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmV0KSkgewogICAgSlNWYWx1ZSBmdW5jWzJdLCB0bXA7CgogICAgZnVuY1swXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJm1pbm5ldF9jbGllbnRfaGFuZGxlciwgMSwgT05fUkVTT0xWRSwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CiAgICBmdW5jWzFdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X2NsaWVudF9oYW5kbGVyLCAxLCBPTl9SRUpFQ1QsIGNsb3N1cmVfZHVwKGNsb3N1cmUpLCBjbG9zdXJlX2ZyZWUpOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgInRoZW4iLCAxLCAmZnVuY1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgImNhdGNoIiwgMSwgJmZ1bmNbMV0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgIHJldCA9IHRtcDsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMV0pOwogIH0KCiAgY2xvc3VyZV9mcmVlKGNsb3N1cmUpOwoKICByZXR1cm4gcmV0Owp9Cgp1aW50OF90KgpzY2FuX2JhY2t3YXJkcyh1aW50OF90KiBwdHIsIHVpbnQ4X3QgY2gpIHsKICBpZihwdHJbLTFdID09ICdcbicpIHsKICAgIGRvIHsgLS1wdHI7IH0gd2hpbGUocHRyWy0xXSAhPSBjaCk7CiAgICByZXR1cm4gcHRyOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGludApjbGllbnRfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRDbGllbnQqIGNsaWVudCA9IGx3c19jbGllbnQod3NpKTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgaW50IHJldCA9IDA7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9jbGllbnRfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBpZihjbGllbnQtPmNvbnRleHQuanMpCiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgdXNlciwgY2xpZW50LT5jb250ZXh0LmpzKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0FQUEVORF9IQU5EU0hBS0VfSEVBREVSOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0w6IHsKICAgICAgc2Vzc2lvbl96ZXJvKCZjbGllbnQtPnNlc3Npb24pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1NLVF9EUk9QX1BST1RPQ09MOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0g6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT05ORUNUSU5HOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURToKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TRUQpIHsKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NFRDsKICAgICAgfQogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUjogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU0NvbnRleHQqIGN0eDsKICAgICAgICBpbnQzMl90IHJlc3VsdCA9IC0xOwogICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IgJiYgaW4pCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19OZXdTdHJpbmdMZW4oY2xpZW50LT5jb250ZXh0LmpzLCBpbiwgbGVuKTsKICAgICAgICBlbHNlCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKICAgICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5jbG9zZS5jdHgpKSB7CiAgICAgICAgICBKU1ZhbHVlIHJldDsKICAgICAgICAgIGludCBhcmdjLCBlcnIgPSBvcGFxdWUgPyBvcGFxdWUtPmVycm9yIDogMDsKICAgICAgICAgIEpTVmFsdWVDb25zdCBjYl9hcmd2WzRdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmp9OwoKICAgICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IpIHsKICAgICAgICAgICAgYXJnYyA9IDI7CiAgICAgICAgICAgIGNiX2FyZ3ZbMV0gPSBKU19EdXBWYWx1ZShjdHgsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhcmdjID0gNDsKICAgICAgICAgICAgY2JfYXJndlsxXSA9IGNsb3NlX3N0YXR1cyhjdHgsIGluLCBsZW4pOwogICAgICAgICAgICBjYl9hcmd2WzJdID0gY2xvc2VfcmVhc29uKGN0eCwgaW4sIGxlbik7CiAgICAgICAgICAgIGNiX2FyZ3ZbM10gPSBKU19OZXdJbnQzMihjdHgsIGVycik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uY2xvc2UsIGFyZ2MsIGNiX2FyZ3YpOwogICAgICAgICAgaWYoIWNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXQpKQogICAgICAgICAgICBpZihKU19Jc051bWJlcihyZXQpKQogICAgICAgICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsyXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzNdKTsKICAgICAgICB9CiAgICAgICAgcmV0ID0gcmVzdWx0OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQURPUFQ6IHsKICAgICAgLy8gbHdzbF91c2VyKCJBRE9QVCEgJXMiLCBjbGllbnQtPnJlcXVlc3QtPnVybC5wcm90b2NvbCk7CgogICAgICBpZihzdHJjYXNlY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgT1BFTikgewogICAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICAgIGludCBzdGF0dXM7CiAgICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwogICAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLmNvbm5lY3QuY3R4KSkgewoKICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsdXNlciwgd3NpKTsKCiAgICAgICAgICBpZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX1JBV19DT05ORUNURUQpIHsKICAgICAgICAgICAgY2xpZW50LT5zZXNzaW9uLnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGx3c2xfdXNlcigiY2xpZW50ICAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiIGZkPSVpLCBpbj0lLipzXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICAgICAgICAgIGlmKChjbGllbnQtPm9uLmNvbm5lY3QuY3R4ID0gY3R4KSkKICAgICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNvbm5lY3QsIDMsICZjbGllbnQtPnNlc3Npb24ud3Nfb2JqKSk7CiAgICAgICAgfQogICAgICAgIC8qaWYoIW1pbm5ldF9yZXNwb25zZV9kYXRhKHNlc3MtPnJlc3Bfb2JqKSkqLwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfV1JJVEVBQkxFOiB7CiAgICAgIE1pbm5ldEJ1ZmZlciogYnVmID0gJmNsaWVudC0+c2Vzc2lvbi5zZW5kX2J1ZjsKICAgICAgaW50IHJldCwgc2l6ZSA9IGJ1ZmZlcl9CWVRFUyhidWYpOwoKICAgICAgaWYoKHJldCA9IGx3c193cml0ZSh3c2ksIGJ1Zi0+cmVhZCwgc2l6ZSwgTFdTX1dSSVRFX1RFWFQpKSAhPSBzaXplKSB7CiAgICAgICAgbHdzbF9lcnIoInNlbmRpbmcgbWVzc2FnZSBmYWlsZWQ6ICVkIDwgJWRcbiIsIHJldCwgc2l6ZSk7CiAgICAgICAgcmV0ID0gLTE7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGJ1ZmZlcl9yZXNldChidWYpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkU6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6IHsKICAgICAgSlNDb250ZXh0KiBjdHg7CiAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLm1lc3NhZ2UuY3R4KSkgewogICAgICAgIC8vIE1pbm5ldFdlYnNvY2tldCogd3MgPSBtaW5uZXRfd3NfZGF0YShjbGllbnQtPnNlc3Npb24ud3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbXSA9IHtjbGllbnQtPnNlc3Npb24ud3Nfb2JqLCBtc2d9OwoKICAgICAgICBjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgbWlubmV0X2VtaXQoJmNsaWVudC0+b24ubWVzc2FnZSwgY291bnRvZihjYl9hcmd2KSwgY2JfYXJndikpOwoKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFX1BPTkc6IHsKICAgICAgSlNDb250ZXh0KiBjdHg7CiAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLnBvbmcuY3R4KSkgewogICAgICAgIEpTVmFsdWUgZGF0YSA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndltdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmosIGRhdGF9OwogICAgICAgIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICBCT09MIGlzX2Vycm9yID0gSlNfSXNVbmRlZmluZWQoY2xpZW50LT5jb250ZXh0LmVycm9yKTsKCiAgICAgIChpc19lcnJvciA/IGpzX3Byb21pc2VfcmVqZWN0IDoganNfcHJvbWlzZV9yZXNvbHZlKShjbGllbnQtPmNvbnRleHQuanMsICZjbGllbnQtPnByb21pc2UsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgIGNsaWVudC0+Y29udGV4dC5lcnJvciA9IEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldCA9IC0xOwoKICBsd3NsX3VzZXIobGVuID8gImNsaWVudCAgICAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGlzX3NzbD0laSBsZW49JXp1IGluPSclLipzJyByZXQ9JWRcbiIgOiAiY2xpZW50ICAgICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenVcbiIsCiAgICAgICAgICAgIDIyICsgKHJlYXNvbiAqIDIpLAogICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgIGx3c19pc19zc2wod3NpKSwKICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAoaW50KU1JTihsZW4sIDMyKSwKICAgICAgICAgICAgKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfUkFXX1JYIHx8IHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkUgfHwgcmVhc29uID09IExXU19DQUxMQkFDS19SRUNFSVZFKSA/IDAgOiAoY2hhciopaW4sCiAgICAgICAgICAgIHJldCk7CgogIHJldHVybiByZXQ7Cn0KAAAAAAAAAAAvQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfDUAAAAAAADBNQAAAAAAAAAAAAAAAPC/"
				],
				[
					197,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAvQQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LWNsaWVudC1odHRwLmgiCiNpbmNsdWRlICJtaW5uZXQtY2xpZW50LmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8ZXJybm8uaD4KCi8vIHN0YXRpYyBNaW5uZXRDYWxsYmFjayBjbGllbnRfY2JfbWVzc2FnZSwgY2xpZW50X2NiX2Nvbm5lY3QsIGNsaWVudF9jYl9jbG9zZSwgY2xpZW50X2NiX3BvbmcsIGNsaWVudF9jYl9mZDsKCnN0YXRpYyBpbnQgY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCi8vIFRIUkVBRF9MT0NBTCBNaW5uZXRDbGllbnQqIG1pbm5ldF9jbGllbnQgPSAwOwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzIGNsaWVudF9wcm90b2NvbHNbXSA9IHsKICAgIHsicmF3IiwgY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsid3MiLCBjbGllbnRfY2FsbGJhY2ssIDAsIDAsIDAsIDAsIDB9LAogICAgezB9LAp9OwoKLypzdGF0aWMgdm9pZApjbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgaWYoY2xvc3VyZS0+Y2xpZW50KSB7CiAgICAgIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y2xpZW50LT5jb250ZXh0LmpzOwoKICAgICAgLy8gcHJpbnRmKCIlcyBjbGllbnQ9JXBcbiIsIF9fZnVuY19fLCBjbG9zdXJlLT5jbGllbnQpOwoKICAgICAgY2xpZW50X2ZyZWUoY2xvc3VyZS0+Y2xpZW50KTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICAgIH0KICB9Cn0KCk1pbm5ldENsb3N1cmUqCmNsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldENsb3N1cmUpKSkpCiAgICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9kdXAoTWlubmV0Q2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CiovCnN0YXRpYyBKU1ZhbHVlCmNsb3NlX3N0YXR1cyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogaW4sIHNpemVfdCBsZW4pIHsKICBpZihsZW4gPj0gMikKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsICgodWludDhfdCopaW4pWzBdIDw8IDggfCAoKHVpbnQ4X3QqKWluKVsxXSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKY2xvc2VfcmVhc29uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBpbiwgc2l6ZV90IGxlbikgewogIGlmKGxlbiA+IDIpCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgJmluWzJdLCBsZW4gLSAyKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgdm9pZApjbGllbnRfY2VydGlmaWNhdGUoTWlubmV0Q29udGV4dCogY29udGV4dCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbyA9ICZjb250ZXh0LT5pbmZvOwogIEpTQ29udGV4dCogY3R4ID0gY29udGV4dC0+anM7CgogIGNvbnRleHQtPmNydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xDQSIpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jcnQpKQogICAgaW5mby0+Y2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5rZXkpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfa2V5X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5jbGllbnRfc3NsX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgZWxzZQogICAgaW5mby0+Y2xpZW50X3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7Cn0KCnZvaWQKY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50KiBjbGllbnQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNsaWVudC0+Y29udGV4dC5qczsKCiAgaWYoLS1jbGllbnQtPnJlZl9jb3VudCA9PSAwKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbGllbnQtPmhlYWRlcnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xpZW50LT5ib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsaWVudC0+bmV4dCk7CgogICAgaWYoY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKSB7CiAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0gMDsKICAgIH0KCiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZjbGllbnQtPmNvbnRleHQpOwogICAgc2Vzc2lvbl9jbGVhcigmY2xpZW50LT5zZXNzaW9uLCBjdHgpOwoKICAgIGpzX2ZyZWUoY3R4LCBjbGllbnQpOwogIH0KfQoKdm9pZApjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCkgewogIG1lbXNldChjbGllbnQsIDAsIHNpemVvZihNaW5uZXRDbGllbnQpKTsKICBjbGllbnQtPmhlYWRlcnMgPSBKU19OVUxMOwogIGNsaWVudC0+Ym9keSA9IEpTX05VTEw7CiAgY2xpZW50LT5uZXh0ID0gSlNfTlVMTDsKICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAganNfcHJvbWlzZV96ZXJvKCZjbGllbnQtPnByb21pc2UpOwogIGNhbGxiYWNrc196ZXJvKCZjbGllbnQtPm9uKTsKfQoKTWlubmV0Q2xpZW50KgpjbGllbnRfZHVwKE1pbm5ldENsaWVudCogY2xpZW50KSB7CiAgKytjbGllbnQtPnJlZl9jb3VudDsKICByZXR1cm4gY2xpZW50Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfY2xpZW50X2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CgogIC8qc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE9OX1JFU09MVkU6IHsKICAgICAgLy9wcmludGYoIiVzICVzICVkXG4iLCBfX2Z1bmNfXywgIk9OX1JFU09MVkUiLCAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnJlZl9jb3VudCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBPTl9SRUpFQ1Q6IHsKICAgICAgLy9wcmludGYoIiVzICVzXG4iLCBfX2Z1bmNfXywgIk9OX1JFSkVDVCIsICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+cmVmX2NvdW50KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBzdGF0dXMgPSAtMTsKICBKU1ZhbHVlIHZhbHVlLCByZXQgPSBKU19OVUxMOwogIE1pbm5ldENsaWVudCogY2xpZW50ID0gMDsKICBKU1ZhbHVlIG9wdGlvbnMgPSBhcmd2WzBdOwogIHN0cnVjdCBsd3MgLyoqd3NpID0gMCwgKi8qIHdzaTI7CgogIEJPT0wgYmxvY2sgPSBUUlVFLCBiaW5hcnkgPSBGQUxTRTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG87CgogIC8vIFNFVExPRyhMTExfSU5GTykKCiAgaWYoIShjbGllbnQgPSBqc19tYWxsb2MoY3R4LCBzaXplb2YoTWlubmV0Q2xpZW50KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgY2xpZW50X3plcm8oY2xpZW50KTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPmNsaWVudCA9IGNsaWVudDsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJmNsaWVudF9mcmVlOwogIH0KCiAgKmNsaWVudCA9IChNaW5uZXRDbGllbnQpey5jb250ZXh0ID0gKE1pbm5ldENvbnRleHQpey5yZWZfY291bnQgPSAxfSwgLmhlYWRlcnMgPSBKU19VTkRFRklORUQsIC5ib2R5ID0gSlNfVU5ERUZJTkVELCAubmV4dCA9IEpTX1VOREVGSU5FRH07CgogIHNlc3Npb25femVybygmY2xpZW50LT5zZXNzaW9uKTsKCiAgY2xpZW50LT5yZXF1ZXN0ID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIGlmKGFyZ2MgPj0gMikgewoKICAgIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgICBhcmdpbmQrKzsKICAgIC8qICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgICAgICAgIHRtcCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSk7CiAgICAgICAgICBhcmdpbmQrKzsKICAgICAgICB9IGVsc2UgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlthcmdpbmRdKSkpIHsKICAgICAgICAgIGNsaWVudC0+cmVxdWVzdCA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgICAgICAgICBjbGllbnQtPnVybCA9IHVybF9jbG9uZShyZXEtPnVybCwgY3R4KTsKICAgICAgICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlthcmdpbmRdLCAiaGVhZGVycyIpOwogICAgICAgICAgYXJnaW5kKys7CiAgICAgICAgfSovCiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICB7CiAgICBNaW5uZXRDb250ZXh0KiBjb250ZXh0ID0gJmNsaWVudC0+Y29udGV4dDsKCiAgICBjb250ZXh0LT5qcyA9IGN0eDsKICAgIGNvbnRleHQtPmVycm9yID0gSlNfTlVMTDsKCiAgICBtZW1zZXQoJmNvbnRleHQtPmluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbykpOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zID0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICBjb250ZXh0LT5pbmZvLnBvcnQgPSBDT05URVhUX1BPUlRfTk9fTElTVEVOOwogICAgY29udGV4dC0+aW5mby5wcm90b2NvbHMgPSBjbGllbnRfcHJvdG9jb2xzOwogICAgY29udGV4dC0+aW5mby51c2VyID0gY2xpZW50OwoKICAgIGlmKCFjb250ZXh0LT5sd3MpIHsKICAgICAgY2xpZW50X2NlcnRpZmljYXRlKCZjbGllbnQtPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgICAgaWYoIShjb250ZXh0LT5sd3MgPSBsd3NfY3JlYXRlX2NvbnRleHQoJmNvbnRleHQtPmluZm8pKSkgewogICAgICAgIGx3c2xfZXJyKCJtaW5uZXQtY2xpZW50OiBsaWJ3ZWJzb2NrZXRzIGluaXQgZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm1pbm5ldC1jbGllbnQ6IGxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKICAgICAgfQogICAgfQogIH0KCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvblBvbmciLCBjbGllbnQtPm9uLnBvbmcpCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvbkNsb3NlIiwgY2xpZW50LT5vbi5jbG9zZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uQ29ubmVjdCIsIGNsaWVudC0+b24uY29ubmVjdCkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uTWVzc2FnZSIsIGNsaWVudC0+b24ubWVzc2FnZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uRmQiLCBjbGllbnQtPm9uLmZkKQogIEdFVENCUFJPUChvcHRpb25zLCAib25IdHRwIiwgY2xpZW50LT5vbi5odHRwKQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJpbmFyeSIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICBiaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGJsb2NrID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoSlNfSXNPYmplY3QoY2xpZW50LT5oZWFkZXJzKSkgewogICAgaGVhZGVyc19mcm9tb2JqKCZjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMsIGNsaWVudC0+aGVhZGVycywgY3R4KTsKICB9CgogIGNsaWVudC0+cmVzcG9uc2UgPSByZXNwb25zZV9uZXcoY3R4KTsKICB1cmxfY29weSgmY2xpZW50LT5yZXNwb25zZS0+dXJsLCBjbGllbnQtPnJlcXVlc3QtPnVybCwgY3R4KTsKCiAgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wpOwoKICB1cmxfaW5mbyhjbGllbnQtPnJlcXVlc3QtPnVybCwgJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICBjbGllbnQtPmNvbm5lY3RfaW5mby5wd3NpID0gJmNsaWVudC0+d3NpOwogIGNsaWVudC0+Y29ubmVjdF9pbmZvLmNvbnRleHQgPSBjbGllbnQtPmNvbnRleHQubHdzOwoKICBzd2l0Y2gocHJvdG8pIHsKICAgIGNhc2UgUFJPVE9DT0xfUkFXOiB7CiAgICAgIGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCA9IGpzX3N0cmR1cChjdHgsICJSQVciKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiAgICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgICAgIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0ganNfc3RyZHVwKGN0eCwgSlNfSXNTdHJpbmcodmFsdWUpID8gc3RyIDogbWV0aG9kX3N0cmluZyhNRVRIT0RfR0VUKSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKI2lmZGVmIERFQlVHX09VVFBVVAogIGZwcmludGYoc3RkZXJyLCAiTUVUSE9EOiAlc1xuIiwgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICBmcHJpbnRmKHN0ZGVyciwgIlBST1RPQ09MOiAlc1xuIiwgY29ubi0+cHJvdG9jb2wpOwojZW5kaWYKCiAgaWYoIWJsb2NrKQogICAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgZXJybm8gPSAwOwoKI2lmZGVmIExXU19XSVRIX1VEUAogIGlmKHByb3RvID09IFBST1RPQ09MX1JBVyAmJiAhc3RyY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpIHsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwogICAgTWlubmV0VVJMKiB1cmwgPSAmY2xpZW50LT5yZXF1ZXN0LT51cmw7CgogICAgdmhvc3QgPSBsd3NfY3JlYXRlX3Zob3N0KGNsaWVudC0+Y29udGV4dC5sd3MsICZjbGllbnQtPmNvbnRleHQuaW5mbyk7CiAgICB3c2kyID0gbHdzX2NyZWF0ZV9hZG9wdF91ZHAodmhvc3QsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCAwLCAicmF3IiwgMCwgMCwgMCwgMCwgMCk7CiAgICAqY2xpZW50LT5jb25uZWN0X2luZm8ucHdzaSA9IHdzaTI7CiAgfSBlbHNlCiNlbmRpZgogIHsKICAgIHdzaTIgPSBsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICB9CiAgZnByaW50ZihzdGRlcnIsICJjbGllbnQtPndzaSA9ICVwLCB3c2kyID0gJXBcbiIsIGNsaWVudC0+d3NpLCB3c2kyKTsKCiAgaWYoIWNsaWVudC0+d3NpIC8qJiYgIXdzaTIqLykgewogICAgaWYoIWJsb2NrKSB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIlsyXSBDb25uZWN0aW9uIGZhaWxlZDogJXMiLCBzdHJlcnJvcihlcnJubykpOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGN0eCwgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBlcnIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiQ29ubmVjdGlvbiBmYWlsZWQ6ICVzIiwgc3RyZXJyb3IoZXJybm8pKTsKICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgLypvcGFxdWUgPSBsd3Nfb3BhcXVlKGNsaWVudC0+d3NpLCB1c2VyLCBjbGllbnQtPmNvbnRleHQuanMpOwogIG9wYXF1ZS0+YmluYXJ5ID0gYmluYXJ5OyovCgogIGlmKCFibG9jaykKICAgIHJldHVybiByZXQ7CgogIGZvcig7OykgewogICAgaWYoc3RhdHVzICE9IG9wYXF1ZS0+c3RhdHVzKQogICAgICBzdGF0dXMgPSBvcGFxdWUtPnN0YXR1czsKCiAgICBpZihzdGF0dXMgPT0gQ0xPU0VEKQogICAgICBicmVhazsKCiAgICBqc19zdGRfbG9vcChjdHgpOwoKICAgIGlmKGNsaWVudC0+Y29udGV4dC5leGNlcHRpb24pIHsKICAgICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGNsaWVudF9mcmVlKGNsaWVudCk7CgpmYWlsOgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKCEoY2xvc3VyZSA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDAsIGNsb3N1cmUpOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmV0KSkgewogICAgSlNWYWx1ZSBmdW5jWzJdLCB0bXA7CgogICAgZnVuY1swXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJm1pbm5ldF9jbGllbnRfaGFuZGxlciwgMSwgT05fUkVTT0xWRSwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CiAgICBmdW5jWzFdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X2NsaWVudF9oYW5kbGVyLCAxLCBPTl9SRUpFQ1QsIGNsb3N1cmVfZHVwKGNsb3N1cmUpLCBjbG9zdXJlX2ZyZWUpOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgInRoZW4iLCAxLCAmZnVuY1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgImNhdGNoIiwgMSwgJmZ1bmNbMV0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgIHJldCA9IHRtcDsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMV0pOwogIH0KCiAgY2xvc3VyZV9mcmVlKGNsb3N1cmUpOwoKICByZXR1cm4gcmV0Owp9Cgp1aW50OF90KgpzY2FuX2JhY2t3YXJkcyh1aW50OF90KiBwdHIsIHVpbnQ4X3QgY2gpIHsKICBpZihwdHJbLTFdID09ICdcbicpIHsKICAgIGRvIHsgLS1wdHI7IH0gd2hpbGUocHRyWy0xXSAhPSBjaCk7CiAgICByZXR1cm4gcHRyOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGludApjbGllbnRfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRDbGllbnQqIGNsaWVudCA9IGx3c19jbGllbnQod3NpKTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgaW50IHJldCA9IDA7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9jbGllbnRfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBpZihjbGllbnQtPmNvbnRleHQuanMpCiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgdXNlciwgY2xpZW50LT5jb250ZXh0LmpzKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0FQUEVORF9IQU5EU0hBS0VfSEVBREVSOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0w6IHsKICAgICAgc2Vzc2lvbl96ZXJvKCZjbGllbnQtPnNlc3Npb24pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1NLVF9EUk9QX1BST1RPQ09MOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0g6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT05ORUNUSU5HOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURToKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TRUQpIHsKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NFRDsKICAgICAgfQogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUjogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU0NvbnRleHQqIGN0eDsKICAgICAgICBpbnQzMl90IHJlc3VsdCA9IC0xOwogICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IgJiYgaW4pCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19OZXdTdHJpbmdMZW4oY2xpZW50LT5jb250ZXh0LmpzLCBpbiwgbGVuKTsKICAgICAgICBlbHNlCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKICAgICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5jbG9zZS5jdHgpKSB7CiAgICAgICAgICBKU1ZhbHVlIHJldDsKICAgICAgICAgIGludCBhcmdjLCBlcnIgPSBvcGFxdWUgPyBvcGFxdWUtPmVycm9yIDogMDsKICAgICAgICAgIEpTVmFsdWVDb25zdCBjYl9hcmd2WzRdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmp9OwoKICAgICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IpIHsKICAgICAgICAgICAgYXJnYyA9IDI7CiAgICAgICAgICAgIGNiX2FyZ3ZbMV0gPSBKU19EdXBWYWx1ZShjdHgsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhcmdjID0gNDsKICAgICAgICAgICAgY2JfYXJndlsxXSA9IGNsb3NlX3N0YXR1cyhjdHgsIGluLCBsZW4pOwogICAgICAgICAgICBjYl9hcmd2WzJdID0gY2xvc2VfcmVhc29uKGN0eCwgaW4sIGxlbik7CiAgICAgICAgICAgIGNiX2FyZ3ZbM10gPSBKU19OZXdJbnQzMihjdHgsIGVycik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uY2xvc2UsIGFyZ2MsIGNiX2FyZ3YpOwogICAgICAgICAgaWYoIWNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXQpKQogICAgICAgICAgICBpZihKU19Jc051bWJlcihyZXQpKQogICAgICAgICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsyXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzNdKTsKICAgICAgICB9CiAgICAgICAgcmV0ID0gcmVzdWx0OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQURPUFQ6IHsKICAgICAgLy8gbHdzbF91c2VyKCJBRE9QVCEgJXMiLCBjbGllbnQtPnJlcXVlc3QtPnVybC5wcm90b2NvbCk7CgogICAgICBpZihzdHJjYXNlY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgT1BFTikgewogICAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICAgIGludCBzdGF0dXM7CiAgICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwogICAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLmNvbm5lY3QuY3R4KSkgewoKICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHVzZXIsIHdzaSk7CgogICAgICAgICAgaWYocmVhc29uICE9IExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEKSB7CiAgICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIGNsaWVudC0+cmVxdWVzdCk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBsd3NsX3VzZXIoImNsaWVudCAgICIgRkdDKDE3MSwgIiUtMzhzIikgIiBmZD0laSwgaW49JS4qc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgICAgICAgICBpZigoY2xpZW50LT5vbi5jb25uZWN0LmN0eCA9IGN0eCkpCiAgICAgICAgICAgIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5jb25uZWN0LCAzLCAmY2xpZW50LT5zZXNzaW9uLndzX29iaikpOwogICAgICAgIH0KICAgICAgICAvKmlmKCFtaW5uZXRfcmVzcG9uc2VfZGF0YShzZXNzLT5yZXNwX29iaikpKi8KICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfV1JJVEVBQkxFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRTogewogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZjbGllbnQtPnNlc3Npb24uc2VuZF9idWY7CiAgICAgIGludCByZXQsIHNpemUgPSBidWZmZXJfQllURVMoYnVmKTsKCiAgICAgIGlmKChyZXQgPSBsd3Nfd3JpdGUod3NpLCBidWYtPnJlYWQsIHNpemUsIExXU19XUklURV9URVhUKSkgIT0gc2l6ZSkgewogICAgICAgIGx3c2xfZXJyKCJzZW5kaW5nIG1lc3NhZ2UgZmFpbGVkOiAlZCA8ICVkXG4iLCByZXQsIHNpemUpOwogICAgICAgIHJldCA9IC0xOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBidWZmZXJfcmVzZXQoYnVmKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1JYOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5tZXNzYWdlLmN0eCkpIHsKICAgICAgICAvLyBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEoY2xpZW50LT5zZXNzaW9uLndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2W10gPSB7Y2xpZW50LT5zZXNzaW9uLndzX29iaiwgbXNnfTsKCiAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLm1lc3NhZ2UsIGNvdW50b2YoY2JfYXJndiksIGNiX2FyZ3YpKTsKCiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRV9QT05HOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5wb25nLmN0eCkpIHsKICAgICAgICBKU1ZhbHVlIGRhdGEgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbXSA9IHtjbGllbnQtPnNlc3Npb24ud3Nfb2JqLCBkYXRhfTsKICAgICAgICBjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgbWlubmV0X2VtaXQoJmNsaWVudC0+b24ucG9uZywgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1k6IHsKICAgICAgQk9PTCBpc19lcnJvciA9IEpTX0lzVW5kZWZpbmVkKGNsaWVudC0+Y29udGV4dC5lcnJvcik7CgogICAgICAoaXNfZXJyb3IgPyBqc19wcm9taXNlX3JlamVjdCA6IGpzX3Byb21pc2VfcmVzb2x2ZSkoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWTogewogICAgICBicmVhazsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXQgPSAtMTsKCiAgbHdzbF91c2VyKGxlbiA/ICJjbGllbnQgICAgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBpc19zc2w9JWkgbGVuPSV6dSBpbj0nJS4qcycgcmV0PSVkXG4iIDogImNsaWVudCAgICAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGlzX3NzbD0laSBsZW49JXp1XG4iLAogICAgICAgICAgICAyMiArIChyZWFzb24gKiAyKSwKICAgICAgICAgICAgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLAogICAgICAgICAgICBsd3NfaXNfc3NsKHdzaSksCiAgICAgICAgICAgIGxlbiwKICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgIChyZWFzb24gPT0gTFdTX0NBTExCQUNLX1JBV19SWCB8fCByZWFzb24gPT0gTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFIHx8IHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRSkgPyAwIDogKGNoYXIqKWluLAogICAgICAgICAgICByZXQpOwoKICByZXR1cm4gcmV0Owp9CgAAAAAAAAAAL0EAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfDUAAAAAAADBNQAAAAAAAAAAAAAAAPC/"
				],
				[
					198,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAvQQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LWNsaWVudC1odHRwLmgiCiNpbmNsdWRlICJtaW5uZXQtY2xpZW50LmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8ZXJybm8uaD4KCi8vIHN0YXRpYyBNaW5uZXRDYWxsYmFjayBjbGllbnRfY2JfbWVzc2FnZSwgY2xpZW50X2NiX2Nvbm5lY3QsIGNsaWVudF9jYl9jbG9zZSwgY2xpZW50X2NiX3BvbmcsIGNsaWVudF9jYl9mZDsKCnN0YXRpYyBpbnQgY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCi8vIFRIUkVBRF9MT0NBTCBNaW5uZXRDbGllbnQqIG1pbm5ldF9jbGllbnQgPSAwOwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzIGNsaWVudF9wcm90b2NvbHNbXSA9IHsKICAgIHsicmF3IiwgY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsid3MiLCBjbGllbnRfY2FsbGJhY2ssIDAsIDAsIDAsIDAsIDB9LAogICAgezB9LAp9OwoKLypzdGF0aWMgdm9pZApjbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgaWYoY2xvc3VyZS0+Y2xpZW50KSB7CiAgICAgIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y2xpZW50LT5jb250ZXh0LmpzOwoKICAgICAgLy8gcHJpbnRmKCIlcyBjbGllbnQ9JXBcbiIsIF9fZnVuY19fLCBjbG9zdXJlLT5jbGllbnQpOwoKICAgICAgY2xpZW50X2ZyZWUoY2xvc3VyZS0+Y2xpZW50KTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICAgIH0KICB9Cn0KCk1pbm5ldENsb3N1cmUqCmNsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldENsb3N1cmUpKSkpCiAgICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9kdXAoTWlubmV0Q2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CiovCnN0YXRpYyBKU1ZhbHVlCmNsb3NlX3N0YXR1cyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogaW4sIHNpemVfdCBsZW4pIHsKICBpZihsZW4gPj0gMikKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsICgodWludDhfdCopaW4pWzBdIDw8IDggfCAoKHVpbnQ4X3QqKWluKVsxXSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKY2xvc2VfcmVhc29uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBpbiwgc2l6ZV90IGxlbikgewogIGlmKGxlbiA+IDIpCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgJmluWzJdLCBsZW4gLSAyKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgdm9pZApjbGllbnRfY2VydGlmaWNhdGUoTWlubmV0Q29udGV4dCogY29udGV4dCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbyA9ICZjb250ZXh0LT5pbmZvOwogIEpTQ29udGV4dCogY3R4ID0gY29udGV4dC0+anM7CgogIGNvbnRleHQtPmNydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xDQSIpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jcnQpKQogICAgaW5mby0+Y2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5rZXkpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfa2V5X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5jbGllbnRfc3NsX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgZWxzZQogICAgaW5mby0+Y2xpZW50X3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7Cn0KCnZvaWQKY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50KiBjbGllbnQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNsaWVudC0+Y29udGV4dC5qczsKCiAgaWYoLS1jbGllbnQtPnJlZl9jb3VudCA9PSAwKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbGllbnQtPmhlYWRlcnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xpZW50LT5ib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsaWVudC0+bmV4dCk7CgogICAgaWYoY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKSB7CiAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0gMDsKICAgIH0KCiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZjbGllbnQtPmNvbnRleHQpOwogICAgc2Vzc2lvbl9jbGVhcigmY2xpZW50LT5zZXNzaW9uLCBjdHgpOwoKICAgIGpzX2ZyZWUoY3R4LCBjbGllbnQpOwogIH0KfQoKdm9pZApjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCkgewogIG1lbXNldChjbGllbnQsIDAsIHNpemVvZihNaW5uZXRDbGllbnQpKTsKICBjbGllbnQtPmhlYWRlcnMgPSBKU19OVUxMOwogIGNsaWVudC0+Ym9keSA9IEpTX05VTEw7CiAgY2xpZW50LT5uZXh0ID0gSlNfTlVMTDsKICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAganNfcHJvbWlzZV96ZXJvKCZjbGllbnQtPnByb21pc2UpOwogIGNhbGxiYWNrc196ZXJvKCZjbGllbnQtPm9uKTsKfQoKTWlubmV0Q2xpZW50KgpjbGllbnRfZHVwKE1pbm5ldENsaWVudCogY2xpZW50KSB7CiAgKytjbGllbnQtPnJlZl9jb3VudDsKICByZXR1cm4gY2xpZW50Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfY2xpZW50X2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CgogIC8qc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE9OX1JFU09MVkU6IHsKICAgICAgLy9wcmludGYoIiVzICVzICVkXG4iLCBfX2Z1bmNfXywgIk9OX1JFU09MVkUiLCAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnJlZl9jb3VudCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBPTl9SRUpFQ1Q6IHsKICAgICAgLy9wcmludGYoIiVzICVzXG4iLCBfX2Z1bmNfXywgIk9OX1JFSkVDVCIsICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+cmVmX2NvdW50KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBzdGF0dXMgPSAtMTsKICBKU1ZhbHVlIHZhbHVlLCByZXQgPSBKU19OVUxMOwogIE1pbm5ldENsaWVudCogY2xpZW50ID0gMDsKICBKU1ZhbHVlIG9wdGlvbnMgPSBhcmd2WzBdOwogIHN0cnVjdCBsd3MgLyoqd3NpID0gMCwgKi8qIHdzaTI7CgogIEJPT0wgYmxvY2sgPSBUUlVFLCBiaW5hcnkgPSBGQUxTRTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG87CgogIC8vIFNFVExPRyhMTExfSU5GTykKCiAgaWYoIShjbGllbnQgPSBqc19tYWxsb2MoY3R4LCBzaXplb2YoTWlubmV0Q2xpZW50KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgY2xpZW50X3plcm8oY2xpZW50KTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPmNsaWVudCA9IGNsaWVudDsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJmNsaWVudF9mcmVlOwogIH0KCiAgKmNsaWVudCA9IChNaW5uZXRDbGllbnQpey5jb250ZXh0ID0gKE1pbm5ldENvbnRleHQpey5yZWZfY291bnQgPSAxfSwgLmhlYWRlcnMgPSBKU19VTkRFRklORUQsIC5ib2R5ID0gSlNfVU5ERUZJTkVELCAubmV4dCA9IEpTX1VOREVGSU5FRH07CgogIHNlc3Npb25femVybygmY2xpZW50LT5zZXNzaW9uKTsKCiAgY2xpZW50LT5yZXF1ZXN0ID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIGlmKGFyZ2MgPj0gMikgewoKICAgIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgICBhcmdpbmQrKzsKICAgIC8qICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgICAgICAgIHRtcCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSk7CiAgICAgICAgICBhcmdpbmQrKzsKICAgICAgICB9IGVsc2UgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlthcmdpbmRdKSkpIHsKICAgICAgICAgIGNsaWVudC0+cmVxdWVzdCA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgICAgICAgICBjbGllbnQtPnVybCA9IHVybF9jbG9uZShyZXEtPnVybCwgY3R4KTsKICAgICAgICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlthcmdpbmRdLCAiaGVhZGVycyIpOwogICAgICAgICAgYXJnaW5kKys7CiAgICAgICAgfSovCiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICB7CiAgICBNaW5uZXRDb250ZXh0KiBjb250ZXh0ID0gJmNsaWVudC0+Y29udGV4dDsKCiAgICBjb250ZXh0LT5qcyA9IGN0eDsKICAgIGNvbnRleHQtPmVycm9yID0gSlNfTlVMTDsKCiAgICBtZW1zZXQoJmNvbnRleHQtPmluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbykpOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zID0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICBjb250ZXh0LT5pbmZvLnBvcnQgPSBDT05URVhUX1BPUlRfTk9fTElTVEVOOwogICAgY29udGV4dC0+aW5mby5wcm90b2NvbHMgPSBjbGllbnRfcHJvdG9jb2xzOwogICAgY29udGV4dC0+aW5mby51c2VyID0gY2xpZW50OwoKICAgIGlmKCFjb250ZXh0LT5sd3MpIHsKICAgICAgY2xpZW50X2NlcnRpZmljYXRlKCZjbGllbnQtPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgICAgaWYoIShjb250ZXh0LT5sd3MgPSBsd3NfY3JlYXRlX2NvbnRleHQoJmNvbnRleHQtPmluZm8pKSkgewogICAgICAgIGx3c2xfZXJyKCJtaW5uZXQtY2xpZW50OiBsaWJ3ZWJzb2NrZXRzIGluaXQgZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm1pbm5ldC1jbGllbnQ6IGxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKICAgICAgfQogICAgfQogIH0KCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvblBvbmciLCBjbGllbnQtPm9uLnBvbmcpCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvbkNsb3NlIiwgY2xpZW50LT5vbi5jbG9zZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uQ29ubmVjdCIsIGNsaWVudC0+b24uY29ubmVjdCkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uTWVzc2FnZSIsIGNsaWVudC0+b24ubWVzc2FnZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uRmQiLCBjbGllbnQtPm9uLmZkKQogIEdFVENCUFJPUChvcHRpb25zLCAib25IdHRwIiwgY2xpZW50LT5vbi5odHRwKQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJpbmFyeSIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICBiaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGJsb2NrID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoSlNfSXNPYmplY3QoY2xpZW50LT5oZWFkZXJzKSkgewogICAgaGVhZGVyc19mcm9tb2JqKCZjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMsIGNsaWVudC0+aGVhZGVycywgY3R4KTsKICB9CgogIGNsaWVudC0+cmVzcG9uc2UgPSByZXNwb25zZV9uZXcoY3R4KTsKICB1cmxfY29weSgmY2xpZW50LT5yZXNwb25zZS0+dXJsLCBjbGllbnQtPnJlcXVlc3QtPnVybCwgY3R4KTsKCiAgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wpOwoKICB1cmxfaW5mbyhjbGllbnQtPnJlcXVlc3QtPnVybCwgJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICBjbGllbnQtPmNvbm5lY3RfaW5mby5wd3NpID0gJmNsaWVudC0+d3NpOwogIGNsaWVudC0+Y29ubmVjdF9pbmZvLmNvbnRleHQgPSBjbGllbnQtPmNvbnRleHQubHdzOwoKICBzd2l0Y2gocHJvdG8pIHsKICAgIGNhc2UgUFJPVE9DT0xfUkFXOiB7CiAgICAgIGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCA9IGpzX3N0cmR1cChjdHgsICJSQVciKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiAgICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgICAgIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0ganNfc3RyZHVwKGN0eCwgSlNfSXNTdHJpbmcodmFsdWUpID8gc3RyIDogbWV0aG9kX3N0cmluZyhNRVRIT0RfR0VUKSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKI2lmZGVmIERFQlVHX09VVFBVVAogIGZwcmludGYoc3RkZXJyLCAiTUVUSE9EOiAlc1xuIiwgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICBmcHJpbnRmKHN0ZGVyciwgIlBST1RPQ09MOiAlc1xuIiwgY29ubi0+cHJvdG9jb2wpOwojZW5kaWYKCiAgaWYoIWJsb2NrKQogICAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgZXJybm8gPSAwOwoKI2lmZGVmIExXU19XSVRIX1VEUAogIGlmKHByb3RvID09IFBST1RPQ09MX1JBVyAmJiAhc3RyY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpIHsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwogICAgTWlubmV0VVJMKiB1cmwgPSAmY2xpZW50LT5yZXF1ZXN0LT51cmw7CgogICAgdmhvc3QgPSBsd3NfY3JlYXRlX3Zob3N0KGNsaWVudC0+Y29udGV4dC5sd3MsICZjbGllbnQtPmNvbnRleHQuaW5mbyk7CiAgICB3c2kyID0gbHdzX2NyZWF0ZV9hZG9wdF91ZHAodmhvc3QsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCAwLCAicmF3IiwgMCwgMCwgMCwgMCwgMCk7CiAgICAqY2xpZW50LT5jb25uZWN0X2luZm8ucHdzaSA9IHdzaTI7CiAgfSBlbHNlCiNlbmRpZgogIHsKICAgIHdzaTIgPSBsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICB9CiAgZnByaW50ZihzdGRlcnIsICJjbGllbnQtPndzaSA9ICVwLCB3c2kyID0gJXBcbiIsIGNsaWVudC0+d3NpLCB3c2kyKTsKCiAgaWYoIWNsaWVudC0+d3NpIC8qJiYgIXdzaTIqLykgewogICAgaWYoIWJsb2NrKSB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIlsyXSBDb25uZWN0aW9uIGZhaWxlZDogJXMiLCBzdHJlcnJvcihlcnJubykpOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGN0eCwgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBlcnIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiQ29ubmVjdGlvbiBmYWlsZWQ6ICVzIiwgc3RyZXJyb3IoZXJybm8pKTsKICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgLypvcGFxdWUgPSBsd3Nfb3BhcXVlKGNsaWVudC0+d3NpLCB1c2VyLCBjbGllbnQtPmNvbnRleHQuanMpOwogIG9wYXF1ZS0+YmluYXJ5ID0gYmluYXJ5OyovCgogIGlmKCFibG9jaykKICAgIHJldHVybiByZXQ7CgogIGZvcig7OykgewogICAgaWYoc3RhdHVzICE9IG9wYXF1ZS0+c3RhdHVzKQogICAgICBzdGF0dXMgPSBvcGFxdWUtPnN0YXR1czsKCiAgICBpZihzdGF0dXMgPT0gQ0xPU0VEKQogICAgICBicmVhazsKCiAgICBqc19zdGRfbG9vcChjdHgpOwoKICAgIGlmKGNsaWVudC0+Y29udGV4dC5leGNlcHRpb24pIHsKICAgICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8vIGNsaWVudF9mcmVlKGNsaWVudCk7CgpmYWlsOgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldENsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKCEoY2xvc3VyZSA9IGNsb3N1cmVfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gbWlubmV0X2NsaWVudF9jbG9zdXJlKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDAsIGNsb3N1cmUpOwoKICBpZihqc19pc19wcm9taXNlKGN0eCwgcmV0KSkgewogICAgSlNWYWx1ZSBmdW5jWzJdLCB0bXA7CgogICAgZnVuY1swXSA9IEpTX05ld0NDbG9zdXJlKGN0eCwgJm1pbm5ldF9jbGllbnRfaGFuZGxlciwgMSwgT05fUkVTT0xWRSwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CiAgICBmdW5jWzFdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X2NsaWVudF9oYW5kbGVyLCAxLCBPTl9SRUpFQ1QsIGNsb3N1cmVfZHVwKGNsb3N1cmUpLCBjbG9zdXJlX2ZyZWUpOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgInRoZW4iLCAxLCAmZnVuY1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIHRtcCA9IGpzX2ludm9rZShjdHgsIHJldCwgImNhdGNoIiwgMSwgJmZ1bmNbMV0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgIHJldCA9IHRtcDsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMV0pOwogIH0KCiAgY2xvc3VyZV9mcmVlKGNsb3N1cmUpOwoKICByZXR1cm4gcmV0Owp9Cgp1aW50OF90KgpzY2FuX2JhY2t3YXJkcyh1aW50OF90KiBwdHIsIHVpbnQ4X3QgY2gpIHsKICBpZihwdHJbLTFdID09ICdcbicpIHsKICAgIGRvIHsgLS1wdHI7IH0gd2hpbGUocHRyWy0xXSAhPSBjaCk7CiAgICByZXR1cm4gcHRyOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGludApjbGllbnRfY2FsbGJhY2soc3RydWN0IGx3cyogd3NpLCBlbnVtIGx3c19jYWxsYmFja19yZWFzb25zIHJlYXNvbiwgdm9pZCogdXNlciwgdm9pZCogaW4sIHNpemVfdCBsZW4pIHsKICBNaW5uZXRDbGllbnQqIGNsaWVudCA9IGx3c19jbGllbnQod3NpKTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgaW50IHJldCA9IDA7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKGx3c19pc19odHRwX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gaHR0cF9jbGllbnRfY2FsbGJhY2sod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwoKICBpZihjbGllbnQtPmNvbnRleHQuanMpCiAgICBvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgdXNlciwgY2xpZW50LT5jb250ZXh0LmpzKTsKCiAgc3dpdGNoKHJlYXNvbikgewogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0FQUEVORF9IQU5EU0hBS0VfSEVBREVSOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfSU5JVDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX09QRU5TU0xfTE9BRF9FWFRSQV9DTElFTlRfVkVSSUZZX0NFUlRTOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0JJTkRfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfU0tUX0JJTkRfUFJPVE9DT0w6IHsKICAgICAgc2Vzc2lvbl96ZXJvKCZjbGllbnQtPnNlc3Npb24pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTX0NMSUVOVF9EUk9QX1BST1RPQ09MOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1NLVF9EUk9QX1BST1RPQ09MOiB7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRklMVEVSX1BSRV9FU1RBQkxJU0g6CiAgICBjYXNlIExXU19DQUxMQkFDS19DT05ORUNUSU5HOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0NSRUFURToKICAgIGNhc2UgTFdTX0NBTExCQUNLX1NFUlZFUl9ORVdfQ0xJRU5UX0lOU1RBTlRJQVRFRDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DTE9TRUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TRUQpIHsKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NFRDsKICAgICAgfQogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX0NMT1NFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfUEVFUl9JTklUSUFURURfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUjogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgICBKU0NvbnRleHQqIGN0eDsKICAgICAgICBpbnQzMl90IHJlc3VsdCA9IC0xOwogICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IgJiYgaW4pCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19OZXdTdHJpbmdMZW4oY2xpZW50LT5jb250ZXh0LmpzLCBpbiwgbGVuKTsKICAgICAgICBlbHNlCiAgICAgICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CgogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0lORzsKICAgICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5jbG9zZS5jdHgpKSB7CiAgICAgICAgICBKU1ZhbHVlIHJldDsKICAgICAgICAgIGludCBhcmdjLCBlcnIgPSBvcGFxdWUgPyBvcGFxdWUtPmVycm9yIDogMDsKICAgICAgICAgIEpTVmFsdWVDb25zdCBjYl9hcmd2WzRdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmp9OwoKICAgICAgICAgIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NPTk5FQ1RJT05fRVJST1IpIHsKICAgICAgICAgICAgYXJnYyA9IDI7CiAgICAgICAgICAgIGNiX2FyZ3ZbMV0gPSBKU19EdXBWYWx1ZShjdHgsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhcmdjID0gNDsKICAgICAgICAgICAgY2JfYXJndlsxXSA9IGNsb3NlX3N0YXR1cyhjdHgsIGluLCBsZW4pOwogICAgICAgICAgICBjYl9hcmd2WzJdID0gY2xvc2VfcmVhc29uKGN0eCwgaW4sIGxlbik7CiAgICAgICAgICAgIGNiX2FyZ3ZbM10gPSBKU19OZXdJbnQzMihjdHgsIGVycik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uY2xvc2UsIGFyZ2MsIGNiX2FyZ3YpOwogICAgICAgICAgaWYoIWNsaWVudF9leGNlcHRpb24oY2xpZW50LCByZXQpKQogICAgICAgICAgICBpZihKU19Jc051bWJlcihyZXQpKQogICAgICAgICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsyXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzNdKTsKICAgICAgICB9CiAgICAgICAgcmV0ID0gcmVzdWx0OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQURPUFQ6IHsKICAgICAgLy8gbHdzbF91c2VyKCJBRE9QVCEgJXMiLCBjbGllbnQtPnJlcXVlc3QtPnVybC5wcm90b2NvbCk7CgogICAgICBpZihzdHJjYXNlY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfRVNUQUJMSVNIRUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgT1BFTikgewogICAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICAgIGludCBzdGF0dXM7CiAgICAgICAgc3RhdHVzID0gbHdzX2h0dHBfY2xpZW50X2h0dHBfcmVzcG9uc2Uod3NpKTsKCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBPUEVOOwogICAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLmNvbm5lY3QuY3R4KSkgewoKICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi53c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHVzZXIsIHdzaSk7CgogICAgICAgICAgaWYocmVhc29uICE9IExXU19DQUxMQkFDS19SQVdfQ09OTkVDVEVEKSB7CiAgICAgICAgICAgIGNsaWVudC0+c2Vzc2lvbi5yZXFfb2JqID0gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIGNsaWVudC0+cmVxdWVzdCk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBsd3NsX3VzZXIoImNsaWVudCAgICIgRkdDKDE3MSwgIiUtMzhzIikgIiBmZD0laSwgaW49JS4qc1xuIiwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzaSkpLCAoaW50KWxlbiwgKGNoYXIqKWluKTsKCiAgICAgICAgICBpZigoY2xpZW50LT5vbi5jb25uZWN0LmN0eCA9IGN0eCkpCiAgICAgICAgICAgIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5jb25uZWN0LCAzLCAmY2xpZW50LT5zZXNzaW9uLndzX29iaikpOwogICAgICAgIH0KICAgICAgICAvKmlmKCFtaW5uZXRfcmVzcG9uc2VfZGF0YShzZXNzLT5yZXNwX29iaikpKi8KICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfV1JJVEVBQkxFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1dSSVRFQUJMRTogewogICAgICBNaW5uZXRCdWZmZXIqIGJ1ZiA9ICZjbGllbnQtPnNlc3Npb24uc2VuZF9idWY7CiAgICAgIGludCByZXQsIHNpemUgPSBidWZmZXJfQllURVMoYnVmKTsKCiAgICAgIGlmKChyZXQgPSBsd3Nfd3JpdGUod3NpLCBidWYtPnJlYWQsIHNpemUsIExXU19XUklURV9URVhUKSkgIT0gc2l6ZSkgewogICAgICAgIGx3c2xfZXJyKCJzZW5kaW5nIG1lc3NhZ2UgZmFpbGVkOiAlZCA8ICVkXG4iLCByZXQsIHNpemUpOwogICAgICAgIHJldCA9IC0xOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBidWZmZXJfcmVzZXQoYnVmKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUkFXX1JYOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5tZXNzYWdlLmN0eCkpIHsKICAgICAgICAvLyBNaW5uZXRXZWJzb2NrZXQqIHdzID0gbWlubmV0X3dzX2RhdGEoY2xpZW50LT5zZXNzaW9uLndzX29iaik7CiAgICAgICAgSlNWYWx1ZSBtc2cgPSBvcGFxdWUtPmJpbmFyeSA/IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pIDogSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4sIGxlbik7CiAgICAgICAgSlNWYWx1ZSBjYl9hcmd2W10gPSB7Y2xpZW50LT5zZXNzaW9uLndzX29iaiwgbXNnfTsKCiAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLm1lc3NhZ2UsIGNvdW50b2YoY2JfYXJndiksIGNiX2FyZ3YpKTsKCiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfUkVDRUlWRV9QT05HOiB7CiAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICBpZigoY3R4ID0gY2xpZW50LT5vbi5wb25nLmN0eCkpIHsKICAgICAgICBKU1ZhbHVlIGRhdGEgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbXSA9IHtjbGllbnQtPnNlc3Npb24ud3Nfb2JqLCBkYXRhfTsKICAgICAgICBjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgbWlubmV0X2VtaXQoJmNsaWVudC0+b24ucG9uZywgMiwgY2JfYXJndikpOwogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbMV0pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NJX0RFU1RST1k6IHsKICAgICAgQk9PTCBpc19lcnJvciA9IEpTX0lzVW5kZWZpbmVkKGNsaWVudC0+Y29udGV4dC5lcnJvcik7CgogICAgICAoaXNfZXJyb3IgPyBqc19wcm9taXNlX3JlamVjdCA6IGpzX3Byb21pc2VfcmVzb2x2ZSkoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBjbGllbnQtPmNvbnRleHQuZXJyb3IpOwogICAgICBjbGllbnQtPmNvbnRleHQuZXJyb3IgPSBKU19VTkRFRklORUQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfUFJPVE9DT0xfREVTVFJPWTogewogICAgICBicmVhazsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgbWlubmV0X2x3c191bmhhbmRsZWQoX19mdW5jX18sIHJlYXNvbik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaWYob3BhcXVlICYmIG9wYXF1ZS0+c3RhdHVzID49IENMT1NJTkcpCiAgICByZXQgPSAtMTsKCiAgbHdzbF91c2VyKGxlbiA/ICJjbGllbnQgICAgICAiIEZHKCIlZCIpICIlLTM4cyIgTkMgIiBpc19zc2w9JWkgbGVuPSV6dSBpbj0nJS4qcycgcmV0PSVkXG4iIDogImNsaWVudCAgICAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGlzX3NzbD0laSBsZW49JXp1XG4iLAogICAgICAgICAgICAyMiArIChyZWFzb24gKiAyKSwKICAgICAgICAgICAgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLAogICAgICAgICAgICBsd3NfaXNfc3NsKHdzaSksCiAgICAgICAgICAgIGxlbiwKICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgIChyZWFzb24gPT0gTFdTX0NBTExCQUNLX1JBV19SWCB8fCByZWFzb24gPT0gTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFIHx8IHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfUkVDRUlWRSkgPyAwIDogKGNoYXIqKWluLAogICAgICAgICAgICByZXQpOwoKICByZXR1cm4gcmV0Owp9CgAAAAAAAAAAGUEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfDUAAAAAAADBNQAAAAAAAAAAAAAAAPC/"
				],
				[
					199,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAZQQAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSAibWlubmV0LWNsaWVudC1odHRwLmgiCiNpbmNsdWRlICJtaW5uZXQtY2xpZW50LmgiCiNpbmNsdWRlICJtaW5uZXQtd2Vic29ja2V0LmgiCiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJlc3BvbnNlLmgiCiNpbmNsdWRlICJtaW5uZXQuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSA8c3RyaW5ncy5oPgojaW5jbHVkZSA8ZXJybm8uaD4KCi8vIHN0YXRpYyBNaW5uZXRDYWxsYmFjayBjbGllbnRfY2JfbWVzc2FnZSwgY2xpZW50X2NiX2Nvbm5lY3QsIGNsaWVudF9jYl9jbG9zZSwgY2xpZW50X2NiX3BvbmcsIGNsaWVudF9jYl9mZDsKCnN0YXRpYyBpbnQgY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKTsKCi8vIFRIUkVBRF9MT0NBTCBNaW5uZXRDbGllbnQqIG1pbm5ldF9jbGllbnQgPSAwOwoKc3RhdGljIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzIGNsaWVudF9wcm90b2NvbHNbXSA9IHsKICAgIHsicmF3IiwgY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsiaHR0cCIsIGh0dHBfY2xpZW50X2NhbGxiYWNrLCAwLCAwLCAwLCAwLCAwfSwKICAgIHsid3MiLCBjbGllbnRfY2FsbGJhY2ssIDAsIDAsIDAsIDAsIDB9LAogICAgezB9LAp9OwoKLypzdGF0aWMgdm9pZApjbG9zdXJlX2ZyZWUodm9pZCogcHRyKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgaWYoY2xvc3VyZS0+Y2xpZW50KSB7CiAgICAgIEpTQ29udGV4dCogY3R4ID0gY2xvc3VyZS0+Y2xpZW50LT5jb250ZXh0LmpzOwoKICAgICAgLy8gcHJpbnRmKCIlcyBjbGllbnQ9JXBcbiIsIF9fZnVuY19fLCBjbG9zdXJlLT5jbGllbnQpOwoKICAgICAgY2xpZW50X2ZyZWUoY2xvc3VyZS0+Y2xpZW50KTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBjbG9zdXJlKTsKICAgIH0KICB9Cn0KCk1pbm5ldENsb3N1cmUqCmNsb3N1cmVfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoKGNsb3N1cmUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldENsb3N1cmUpKSkpCiAgICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKTWlubmV0Q2xvc3VyZSoKY2xvc3VyZV9kdXAoTWlubmV0Q2xvc3VyZSogYykgewogICsrYy0+cmVmX2NvdW50OwogIHJldHVybiBjOwp9CiovCnN0YXRpYyBKU1ZhbHVlCmNsb3NlX3N0YXR1cyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogaW4sIHNpemVfdCBsZW4pIHsKICBpZihsZW4gPj0gMikKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsICgodWludDhfdCopaW4pWzBdIDw8IDggfCAoKHVpbnQ4X3QqKWluKVsxXSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKY2xvc2VfcmVhc29uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBpbiwgc2l6ZV90IGxlbikgewogIGlmKGxlbiA+IDIpCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgJmluWzJdLCBsZW4gLSAyKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgdm9pZApjbGllbnRfY2VydGlmaWNhdGUoTWlubmV0Q29udGV4dCogY29udGV4dCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbyogaW5mbyA9ICZjb250ZXh0LT5pbmZvOwogIEpTQ29udGV4dCogY3R4ID0gY29udGV4dC0+anM7CgogIGNvbnRleHQtPmNydCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInNzbENlcnQiKTsKICBjb250ZXh0LT5rZXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xQcml2YXRlS2V5Iik7CiAgY29udGV4dC0+Y2EgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJzc2xDQSIpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jcnQpKQogICAgaW5mby0+Y2xpZW50X3NzbF9jZXJ0X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jcnQpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfY2VydF9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jZXJ0X21lbV9sZW4sIGNvbnRleHQtPmNydCk7CgogIGlmKEpTX0lzU3RyaW5nKGNvbnRleHQtPmtleSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX3ByaXZhdGVfa2V5X2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5rZXkpOwogIGVsc2UKICAgIGluZm8tPmNsaWVudF9zc2xfa2V5X21lbSA9IGpzX3RvcHRyc2l6ZShjdHgsICZpbmZvLT5jbGllbnRfc3NsX2tleV9tZW1fbGVuLCBjb250ZXh0LT5rZXkpOwoKICBpZihKU19Jc1N0cmluZyhjb250ZXh0LT5jYSkpCiAgICBpbmZvLT5jbGllbnRfc3NsX2NhX2ZpbGVwYXRoID0ganNfdG9zdHJpbmcoY3R4LCBjb250ZXh0LT5jYSk7CiAgZWxzZQogICAgaW5mby0+Y2xpZW50X3NzbF9jYV9tZW0gPSBqc190b3B0cnNpemUoY3R4LCAmaW5mby0+Y2xpZW50X3NzbF9jYV9tZW1fbGVuLCBjb250ZXh0LT5jYSk7Cn0KCnZvaWQKY2xpZW50X2ZyZWUoTWlubmV0Q2xpZW50KiBjbGllbnQpIHsKICBKU0NvbnRleHQqIGN0eCA9IGNsaWVudC0+Y29udGV4dC5qczsKCiAgaWYoLS1jbGllbnQtPnJlZl9jb3VudCA9PSAwKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbGllbnQtPmhlYWRlcnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xpZW50LT5ib2R5KTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNsaWVudC0+bmV4dCk7CgogICAgaWYoY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKSB7CiAgICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0gMDsKICAgIH0KCiAgICBqc19wcm9taXNlX2ZyZWUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgICBjb250ZXh0X2NsZWFyKCZjbGllbnQtPmNvbnRleHQpOwogICAgc2Vzc2lvbl9jbGVhcigmY2xpZW50LT5zZXNzaW9uLCBjdHgpOwoKICAgIGpzX2ZyZWUoY3R4LCBjbGllbnQpOwogIH0KfQoKdm9pZApjbGllbnRfemVybyhNaW5uZXRDbGllbnQqIGNsaWVudCkgewogIG1lbXNldChjbGllbnQsIDAsIHNpemVvZihNaW5uZXRDbGllbnQpKTsKICBjbGllbnQtPmhlYWRlcnMgPSBKU19OVUxMOwogIGNsaWVudC0+Ym9keSA9IEpTX05VTEw7CiAgY2xpZW50LT5uZXh0ID0gSlNfTlVMTDsKICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAganNfcHJvbWlzZV96ZXJvKCZjbGllbnQtPnByb21pc2UpOwogIGNhbGxiYWNrc196ZXJvKCZjbGllbnQtPm9uKTsKfQoKTWlubmV0Q2xpZW50KgpjbGllbnRfZHVwKE1pbm5ldENsaWVudCogY2xpZW50KSB7CiAgKytjbGllbnQtPnJlZl9jb3VudDsKICByZXR1cm4gY2xpZW50Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfY2xpZW50X2hhbmRsZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgdm9pZCogcHRyKSB7CgogIC8qc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE9OX1JFU09MVkU6IHsKICAgICAgLy9wcmludGYoIiVzICVzICVkXG4iLCBfX2Z1bmNfXywgIk9OX1JFU09MVkUiLCAoKE1pbm5ldENsb3N1cmUqKXB0ciktPnJlZl9jb3VudCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBPTl9SRUpFQ1Q6IHsKICAgICAgLy9wcmludGYoIiVzICVzXG4iLCBfX2Z1bmNfXywgIk9OX1JFSkVDVCIsICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+cmVmX2NvdW50KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCkpTVmFsdWUKbWlubmV0X2NsaWVudF9jbG9zdXJlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIHZvaWQqIHB0cikgewogIGludCBhcmdpbmQgPSAwLCBzdGF0dXMgPSAtMTsKICBKU1ZhbHVlIHZhbHVlLCByZXQgPSBKU19OVUxMOwogIE1pbm5ldENsaWVudCogY2xpZW50ID0gMDsKICBKU1ZhbHVlIG9wdGlvbnMgPSBhcmd2WzBdOwogIHN0cnVjdCBsd3MgLyoqd3NpID0gMCwgKi8qIHdzaTI7CgogIEJPT0wgYmxvY2sgPSBUUlVFLCBiaW5hcnkgPSBGQUxTRTsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IDA7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG87CgogIC8vIFNFVExPRyhMTExfSU5GTykKCiAgaWYoIShjbGllbnQgPSBqc19tYWxsb2MoY3R4LCBzaXplb2YoTWlubmV0Q2xpZW50KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgY2xpZW50X3plcm8oY2xpZW50KTsKCiAgaWYocHRyKSB7CiAgICAoKE1pbm5ldENsb3N1cmUqKXB0ciktPmNsaWVudCA9IGNsaWVudDsKICAgICgoTWlubmV0Q2xvc3VyZSopcHRyKS0+ZnJlZV9mdW5jID0gJmNsaWVudF9mcmVlOwogIH0KCiAgKmNsaWVudCA9IChNaW5uZXRDbGllbnQpey5jb250ZXh0ID0gKE1pbm5ldENvbnRleHQpey5yZWZfY291bnQgPSAxfSwgLmhlYWRlcnMgPSBKU19VTkRFRklORUQsIC5ib2R5ID0gSlNfVU5ERUZJTkVELCAubmV4dCA9IEpTX1VOREVGSU5FRH07CgogIHNlc3Npb25femVybygmY2xpZW50LT5zZXNzaW9uKTsKCiAgY2xpZW50LT5yZXF1ZXN0ID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIGlmKGFyZ2MgPj0gMikgewoKICAgIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMV0pKQogICAgICBhcmdpbmQrKzsKICAgIC8qICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbYXJnaW5kXSkpIHsKICAgICAgICAgIHRtcCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbYXJnaW5kXSk7CiAgICAgICAgICBhcmdpbmQrKzsKICAgICAgICB9IGVsc2UgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlthcmdpbmRdKSkpIHsKICAgICAgICAgIGNsaWVudC0+cmVxdWVzdCA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgICAgICAgICBjbGllbnQtPnVybCA9IHVybF9jbG9uZShyZXEtPnVybCwgY3R4KTsKICAgICAgICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndlthcmdpbmRdLCAiaGVhZGVycyIpOwogICAgICAgICAgYXJnaW5kKys7CiAgICAgICAgfSovCiAgfQoKICBvcHRpb25zID0gYXJndlthcmdpbmRdOwoKICBpZighSlNfSXNPYmplY3Qob3B0aW9ucykpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgbXVzdCBiZSBvcHRpb25zIG9iamVjdCIsIGFyZ2luZCArIDEpOwoKICB7CiAgICBNaW5uZXRDb250ZXh0KiBjb250ZXh0ID0gJmNsaWVudC0+Y29udGV4dDsKCiAgICBjb250ZXh0LT5qcyA9IGN0eDsKICAgIGNvbnRleHQtPmVycm9yID0gSlNfTlVMTDsKCiAgICBtZW1zZXQoJmNvbnRleHQtPmluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NvbnRleHRfY3JlYXRpb25faW5mbykpOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zID0gTFdTX1NFUlZFUl9PUFRJT05fRE9fU1NMX0dMT0JBTF9JTklUOwogICAgY29udGV4dC0+aW5mby5vcHRpb25zIHw9IExXU19TRVJWRVJfT1BUSU9OX0gyX0pVU1RfRklYX1dJTkRPV19VUERBVEVfT1ZFUkZMT1c7CiAgICBjb250ZXh0LT5pbmZvLnBvcnQgPSBDT05URVhUX1BPUlRfTk9fTElTVEVOOwogICAgY29udGV4dC0+aW5mby5wcm90b2NvbHMgPSBjbGllbnRfcHJvdG9jb2xzOwogICAgY29udGV4dC0+aW5mby51c2VyID0gY2xpZW50OwoKICAgIGlmKCFjb250ZXh0LT5sd3MpIHsKICAgICAgY2xpZW50X2NlcnRpZmljYXRlKCZjbGllbnQtPmNvbnRleHQsIG9wdGlvbnMpOwoKICAgICAgaWYoIShjb250ZXh0LT5sd3MgPSBsd3NfY3JlYXRlX2NvbnRleHQoJmNvbnRleHQtPmluZm8pKSkgewogICAgICAgIGx3c2xfZXJyKCJtaW5uZXQtY2xpZW50OiBsaWJ3ZWJzb2NrZXRzIGluaXQgZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm1pbm5ldC1jbGllbnQ6IGxpYndlYnNvY2tldHMgaW5pdCBmYWlsZWQiKTsKICAgICAgfQogICAgfQogIH0KCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvblBvbmciLCBjbGllbnQtPm9uLnBvbmcpCiAgR0VUQ0JQUk9QKG9wdGlvbnMsICJvbkNsb3NlIiwgY2xpZW50LT5vbi5jbG9zZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uQ29ubmVjdCIsIGNsaWVudC0+b24uY29ubmVjdCkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uTWVzc2FnZSIsIGNsaWVudC0+b24ubWVzc2FnZSkKICBHRVRDQlBST1Aob3B0aW9ucywgIm9uRmQiLCBjbGllbnQtPm9uLmZkKQogIEdFVENCUFJPUChvcHRpb25zLCAib25IdHRwIiwgY2xpZW50LT5vbi5odHRwKQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJpbmFyeSIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICBiaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgImJsb2NrIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGJsb2NrID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIGNsaWVudC0+aGVhZGVycyA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgaWYoSlNfSXNPYmplY3QoY2xpZW50LT5oZWFkZXJzKSkgewogICAgaGVhZGVyc19mcm9tb2JqKCZjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMsIGNsaWVudC0+aGVhZGVycywgY3R4KTsKICB9CgogIGNsaWVudC0+cmVzcG9uc2UgPSByZXNwb25zZV9uZXcoY3R4KTsKICB1cmxfY29weSgmY2xpZW50LT5yZXNwb25zZS0+dXJsLCBjbGllbnQtPnJlcXVlc3QtPnVybCwgY3R4KTsKCiAgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wpOwoKICB1cmxfaW5mbyhjbGllbnQtPnJlcXVlc3QtPnVybCwgJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICBjbGllbnQtPmNvbm5lY3RfaW5mby5wd3NpID0gJmNsaWVudC0+d3NpOwogIGNsaWVudC0+Y29ubmVjdF9pbmZvLmNvbnRleHQgPSBjbGllbnQtPmNvbnRleHQubHdzOwoKICBzd2l0Y2gocHJvdG8pIHsKICAgIGNhc2UgUFJPVE9DT0xfUkFXOiB7CiAgICAgIGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCA9IGpzX3N0cmR1cChjdHgsICJSQVciKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiAgICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICAgIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgICAgIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kID0ganNfc3RyZHVwKGN0eCwgSlNfSXNTdHJpbmcodmFsdWUpID8gc3RyIDogbWV0aG9kX3N0cmluZyhNRVRIT0RfR0VUKSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKI2lmZGVmIERFQlVHX09VVFBVVAogIGZwcmludGYoc3RkZXJyLCAiTUVUSE9EOiAlc1xuIiwgY2xpZW50LT5jb25uZWN0X2luZm8ubWV0aG9kKTsKICBmcHJpbnRmKHN0ZGVyciwgIlBST1RPQ09MOiAlc1xuIiwgY29ubi0+cHJvdG9jb2wpOwojZW5kaWYKCiAgaWYoIWJsb2NrKQogICAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmY2xpZW50LT5wcm9taXNlKTsKCiAgZXJybm8gPSAwOwoKI2lmZGVmIExXU19XSVRIX1VEUAogIGlmKHByb3RvID09IFBST1RPQ09MX1JBVyAmJiAhc3RyY21wKGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sLCAidWRwIikpIHsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwogICAgTWlubmV0VVJMKiB1cmwgPSAmY2xpZW50LT5yZXF1ZXN0LT51cmw7CgogICAgdmhvc3QgPSBsd3NfY3JlYXRlX3Zob3N0KGNsaWVudC0+Y29udGV4dC5sd3MsICZjbGllbnQtPmNvbnRleHQuaW5mbyk7CiAgICB3c2kyID0gbHdzX2NyZWF0ZV9hZG9wdF91ZHAodmhvc3QsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCAwLCAicmF3IiwgMCwgMCwgMCwgMCwgMCk7CiAgICAqY2xpZW50LT5jb25uZWN0X2luZm8ucHdzaSA9IHdzaTI7CiAgfSBlbHNlCiNlbmRpZgogIHsKICAgIHdzaTIgPSBsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmNsaWVudC0+Y29ubmVjdF9pbmZvKTsKICB9CiAgZnByaW50ZihzdGRlcnIsICJjbGllbnQtPndzaSA9ICVwLCB3c2kyID0gJXBcbiIsIGNsaWVudC0+d3NpLCB3c2kyKTsKCiAgaWYoIWNsaWVudC0+d3NpIC8qJiYgIXdzaTIqLykgewogICAgaWYoIWJsb2NrKSB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGN0eCwgIlsyXSBDb25uZWN0aW9uIGZhaWxlZDogJXMiLCBzdHJlcnJvcihlcnJubykpOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGN0eCwgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBlcnIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiQ29ubmVjdGlvbiBmYWlsZWQ6ICVzIiwgc3RyZXJyb3IoZXJybm8pKTsKICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgb3BhcXVlID0gbHdzX29wYXF1ZShjbGllbnQtPndzaSwgY2xpZW50LT5jb250ZXh0LmpzKTsKICBvcGFxdWUtPmJpbmFyeSA9IGJpbmFyeTsKCiAgaWYoIWJsb2NrKQogICAgcmV0dXJuIHJldDsKCiAgZm9yKDs7KSB7CiAgICBpZihzdGF0dXMgIT0gb3BhcXVlLT5zdGF0dXMpCiAgICAgIHN0YXR1cyA9IG9wYXF1ZS0+c3RhdHVzOwoKICAgIGlmKHN0YXR1cyA9PSBDTE9TRUQpCiAgICAgIGJyZWFrOwoKICAgIGpzX3N0ZF9sb29wKGN0eCk7CgogICAgaWYoY2xpZW50LT5jb250ZXh0LmV4Y2VwdGlvbikgewogICAgICByZXQgPSBKU19FWENFUFRJT047CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgLy8gY2xpZW50X2ZyZWUoY2xpZW50KTsKCmZhaWw6CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfY2xpZW50KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0Q2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShjbG9zdXJlID0gY2xvc3VyZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXQgPSBtaW5uZXRfY2xpZW50X2Nsb3N1cmUoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMCwgY2xvc3VyZSk7CgogIGlmKGpzX2lzX3Byb21pc2UoY3R4LCByZXQpKSB7CiAgICBKU1ZhbHVlIGZ1bmNbMl0sIHRtcDsKCiAgICBmdW5jWzBdID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCAmbWlubmV0X2NsaWVudF9oYW5kbGVyLCAxLCBPTl9SRVNPTFZFLCBjbG9zdXJlX2R1cChjbG9zdXJlKSwgY2xvc3VyZV9mcmVlKTsKICAgIGZ1bmNbMV0gPSBKU19OZXdDQ2xvc3VyZShjdHgsICZtaW5uZXRfY2xpZW50X2hhbmRsZXIsIDEsIE9OX1JFSkVDVCwgY2xvc3VyZV9kdXAoY2xvc3VyZSksIGNsb3N1cmVfZnJlZSk7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAidGhlbiIsIDEsICZmdW5jWzBdKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICByZXQgPSB0bXA7CgogICAgdG1wID0ganNfaW52b2tlKGN0eCwgcmV0LCAiY2F0Y2giLCAxLCAmZnVuY1sxXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gdG1wOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNbMF0pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY1sxXSk7CiAgfQoKICBjbG9zdXJlX2ZyZWUoY2xvc3VyZSk7CgogIHJldHVybiByZXQ7Cn0KCnVpbnQ4X3QqCnNjYW5fYmFja3dhcmRzKHVpbnQ4X3QqIHB0ciwgdWludDhfdCBjaCkgewogIGlmKHB0clstMV0gPT0gJ1xuJykgewogICAgZG8geyAtLXB0cjsgfSB3aGlsZShwdHJbLTFdICE9IGNoKTsKICAgIHJldHVybiBwdHI7CiAgfQogIHJldHVybiAwOwp9CgpzdGF0aWMgaW50CmNsaWVudF9jYWxsYmFjayhzdHJ1Y3QgbHdzKiB3c2ksIGVudW0gbHdzX2NhbGxiYWNrX3JlYXNvbnMgcmVhc29uLCB2b2lkKiB1c2VyLCB2b2lkKiBpbiwgc2l6ZV90IGxlbikgewogIE1pbm5ldENsaWVudCogY2xpZW50ID0gbHdzX2NsaWVudCh3c2kpOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gMDsKICBpbnQgcmV0ID0gMDsKCiAgaWYobHdzX2lzX3BvbGxfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBmZF9jYWxsYmFjayh3c2ksIHJlYXNvbiwgJmNsaWVudC0+b24uZmQsIGluKTsKCiAgaWYobHdzX2lzX2h0dHBfY2FsbGJhY2socmVhc29uKSkKICAgIHJldHVybiBodHRwX2NsaWVudF9jYWxsYmFjayh3c2ksIHJlYXNvbiwgdXNlciwgaW4sIGxlbik7CgogIGlmKGNsaWVudC0+Y29udGV4dC5qcykKICAgIG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBjbGllbnQtPmNvbnRleHQuanMpOwoKICBzd2l0Y2gocmVhc29uKSB7CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfQVBQRU5EX0hBTkRTSEFLRV9IRUFERVI6CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9JTklUOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFM6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU19DTElFTlRfQklORF9QUk9UT0NPTDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19TS1RfQklORF9QUk9UT0NPTDogewogICAgICBzZXNzaW9uX3plcm8oJmNsaWVudC0+c2Vzc2lvbik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfV1NfQ0xJRU5UX0RST1BfUFJPVE9DT0w6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfU0tUX0RST1BfUFJPVE9DT0w6IHsKCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NPTk5FQ1RJTkc6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfU0VSVkVSX05FV19DTElFTlRfSU5TVEFOVElBVEVEOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0NMT1NFRDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICB9CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfQ0xPU0U6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU19QRUVSX0lOSVRJQVRFRF9DTE9TRToKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgQ0xPU0lORykgewogICAgICAgIEpTQ29udGV4dCogY3R4OwogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUiAmJiBpbikKICAgICAgICAgIGNsaWVudC0+Y29udGV4dC5lcnJvciA9IEpTX05ld1N0cmluZ0xlbihjbGllbnQtPmNvbnRleHQuanMsIGluLCBsZW4pOwogICAgICAgIGVsc2UKICAgICAgICAgIGNsaWVudC0+Y29udGV4dC5lcnJvciA9IEpTX1VOREVGSU5FRDsKCiAgICAgICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TSU5HOwogICAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLmNsb3NlLmN0eCkpIHsKICAgICAgICAgIEpTVmFsdWUgcmV0OwogICAgICAgICAgaW50IGFyZ2MsIGVyciA9IG9wYXF1ZSA/IG9wYXF1ZS0+ZXJyb3IgOiAwOwogICAgICAgICAgSlNWYWx1ZUNvbnN0IGNiX2FyZ3ZbNF0gPSB7Y2xpZW50LT5zZXNzaW9uLndzX29ian07CgogICAgICAgICAgaWYocmVhc29uID09IExXU19DQUxMQkFDS19DTElFTlRfQ09OTkVDVElPTl9FUlJPUikgewogICAgICAgICAgICBhcmdjID0gMjsKICAgICAgICAgICAgY2JfYXJndlsxXSA9IEpTX0R1cFZhbHVlKGN0eCwgY2xpZW50LT5jb250ZXh0LmVycm9yKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFyZ2MgPSA0OwogICAgICAgICAgICBjYl9hcmd2WzFdID0gY2xvc2Vfc3RhdHVzKGN0eCwgaW4sIGxlbik7CiAgICAgICAgICAgIGNiX2FyZ3ZbMl0gPSBjbG9zZV9yZWFzb24oY3R4LCBpbiwgbGVuKTsKICAgICAgICAgICAgY2JfYXJndlszXSA9IEpTX05ld0ludDMyKGN0eCwgZXJyKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXQgPSBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5jbG9zZSwgYXJnYywgY2JfYXJndik7CiAgICAgICAgICBpZighY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIHJldCkpCiAgICAgICAgICAgIGlmKEpTX0lzTnVtYmVyKHJldCkpCiAgICAgICAgICAgICAgSlNfVG9JbnQzMihjdHgsICZyZXN1bHQsIHJldCk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzJdKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGNiX2FyZ3ZbM10pOwogICAgICAgIH0KICAgICAgICByZXQgPSByZXN1bHQ7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19BRE9QVDogewogICAgICAvLyBsd3NsX3VzZXIoIkFET1BUISAlcyIsIGNsaWVudC0+cmVxdWVzdC0+dXJsLnByb3RvY29sKTsKCiAgICAgIGlmKHN0cmNhc2VjbXAoY2xpZW50LT5yZXF1ZXN0LT51cmwucHJvdG9jb2wsICJ1ZHAiKSkKICAgICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9FU1RBQkxJU0hFRDoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JBV19DT05ORUNURUQ6IHsKICAgICAgaWYob3BhcXVlLT5zdGF0dXMgPCBPUEVOKSB7CiAgICAgICAgSlNDb250ZXh0KiBjdHg7CiAgICAgICAgaW50IHN0YXR1czsKICAgICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwoKICAgICAgICBvcGFxdWUtPnN0YXR1cyA9IE9QRU47CiAgICAgICAgaWYoKGN0eCA9IGNsaWVudC0+b24uY29ubmVjdC5jdHgpKSB7CgogICAgICAgICAgY2xpZW50LT5zZXNzaW9uLndzX29iaiA9IG1pbm5ldF93c19mcm9td3NpKGN0eCwgd3NpKTsKCiAgICAgICAgICBpZihyZWFzb24gIT0gTFdTX0NBTExCQUNLX1JBV19DT05ORUNURUQpIHsKICAgICAgICAgICAgY2xpZW50LT5zZXNzaW9uLnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGx3c2xfdXNlcigiY2xpZW50ICAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiIGZkPSVpLCBpbj0lLipzXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwoKICAgICAgICAgIGlmKChjbGllbnQtPm9uLmNvbm5lY3QuY3R4ID0gY3R4KSkKICAgICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNvbm5lY3QsIDMsICZjbGllbnQtPnNlc3Npb24ud3Nfb2JqKSk7CiAgICAgICAgfQogICAgICAgIC8qaWYoIW1pbm5ldF9yZXNwb25zZV9kYXRhKHNlc3MtPnJlc3Bfb2JqKSkqLwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfV1JJVEVBQkxFOiB7CiAgICAgIE1pbm5ldEJ1ZmZlciogYnVmID0gJmNsaWVudC0+c2Vzc2lvbi5zZW5kX2J1ZjsKICAgICAgaW50IHJldCwgc2l6ZSA9IGJ1ZmZlcl9CWVRFUyhidWYpOwoKICAgICAgaWYoKHJldCA9IGx3c193cml0ZSh3c2ksIGJ1Zi0+cmVhZCwgc2l6ZSwgTFdTX1dSSVRFX1RFWFQpKSAhPSBzaXplKSB7CiAgICAgICAgbHdzbF9lcnIoInNlbmRpbmcgbWVzc2FnZSBmYWlsZWQ6ICVkIDwgJWRcbiIsIHJldCwgc2l6ZSk7CiAgICAgICAgcmV0ID0gLTE7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGJ1ZmZlcl9yZXNldChidWYpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkU6CiAgICBjYXNlIExXU19DQUxMQkFDS19SQVdfUlg6IHsKICAgICAgSlNDb250ZXh0KiBjdHg7CiAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLm1lc3NhZ2UuY3R4KSkgewogICAgICAgIC8vIE1pbm5ldFdlYnNvY2tldCogd3MgPSBtaW5uZXRfd3NfZGF0YShjbGllbnQtPnNlc3Npb24ud3Nfb2JqKTsKICAgICAgICBKU1ZhbHVlIG1zZyA9IG9wYXF1ZS0+YmluYXJ5ID8gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgaW4sIGxlbikgOiBKU19OZXdTdHJpbmdMZW4oY3R4LCBpbiwgbGVuKTsKICAgICAgICBKU1ZhbHVlIGNiX2FyZ3ZbXSA9IHtjbGllbnQtPnNlc3Npb24ud3Nfb2JqLCBtc2d9OwoKICAgICAgICBjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgbWlubmV0X2VtaXQoJmNsaWVudC0+b24ubWVzc2FnZSwgY291bnRvZihjYl9hcmd2KSwgY2JfYXJndikpOwoKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9SRUNFSVZFX1BPTkc6IHsKICAgICAgSlNDb250ZXh0KiBjdHg7CiAgICAgIGlmKChjdHggPSBjbGllbnQtPm9uLnBvbmcuY3R4KSkgewogICAgICAgIEpTVmFsdWUgZGF0YSA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGluLCBsZW4pOwogICAgICAgIEpTVmFsdWUgY2JfYXJndltdID0ge2NsaWVudC0+c2Vzc2lvbi53c19vYmosIGRhdGF9OwogICAgICAgIGNsaWVudF9leGNlcHRpb24oY2xpZW50LCBtaW5uZXRfZW1pdCgmY2xpZW50LT5vbi5wb25nLCAyLCBjYl9hcmd2KSk7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY2JfYXJndlsxXSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfREVTVFJPWTogewogICAgICBCT09MIGlzX2Vycm9yID0gSlNfSXNVbmRlZmluZWQoY2xpZW50LT5jb250ZXh0LmVycm9yKTsKCiAgICAgIChpc19lcnJvciA/IGpzX3Byb21pc2VfcmVqZWN0IDoganNfcHJvbWlzZV9yZXNvbHZlKShjbGllbnQtPmNvbnRleHQuanMsICZjbGllbnQtPnByb21pc2UsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+Y29udGV4dC5lcnJvcik7CiAgICAgIGNsaWVudC0+Y29udGV4dC5lcnJvciA9IEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19QUk9UT0NPTF9ERVNUUk9ZOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICBtaW5uZXRfbHdzX3VuaGFuZGxlZChfX2Z1bmNfXywgcmVhc29uKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBpZihvcGFxdWUgJiYgb3BhcXVlLT5zdGF0dXMgPj0gQ0xPU0lORykKICAgIHJldCA9IC0xOwoKICBsd3NsX3VzZXIobGVuID8gImNsaWVudCAgICAgICIgRkcoIiVkIikgIiUtMzhzIiBOQyAiIGlzX3NzbD0laSBsZW49JXp1IGluPSclLipzJyByZXQ9JWRcbiIgOiAiY2xpZW50ICAgICAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenVcbiIsCiAgICAgICAgICAgIDIyICsgKHJlYXNvbiAqIDIpLAogICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgIGx3c19pc19zc2wod3NpKSwKICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAoaW50KU1JTihsZW4sIDMyKSwKICAgICAgICAgICAgKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfUkFXX1JYIHx8IHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX1JFQ0VJVkUgfHwgcmVhc29uID09IExXU19DQUxMQkFDS19SRUNFSVZFKSA/IDAgOiAoY2hhciopaW4sCiAgICAgICAgICAgIHJldCk7CgogIHJldHVybiByZXQ7Cn0KAAAAAAAAAAA0QQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfDUAAAAAAADBNQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-request.h",
			"settings":
			{
				"buffer_size": 2859,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					14,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAArCwAAI2lmbmRlZiBNSU5ORVRfUkVRVUVTVF9ICiNkZWZpbmUgTUlOTkVUX1JFUVVFU1RfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3Qgc29ja2V0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCmNvbnN0IGNoYXIqIG1ldGhvZF9zdHJpbmcoZW51bSBodHRwX21ldGhvZCk7CmludCBtZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqKTsKCnR5cGVkZWYgc3RydWN0IGh0dHBfcmVxdWVzdCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZDsKICBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlcXVlc3Q7Cgp2b2lkIHJlcXVlc3RfZm9ybWF0KE1pbm5ldFJlcXVlc3QgY29uc3QqLCBjaGFyKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CmNoYXIqIHJlcXVlc3RfZHVtcChNaW5uZXRSZXF1ZXN0IGNvbnN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9pbml0KE1pbm5ldFJlcXVlc3QqLCBNaW5uZXRVUkwsIGVudW0gaHR0cF9tZXRob2QpOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpOwp2b2lkIHJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcihNaW5uZXRSZXF1ZXN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiwgSlNSdW50aW1lKik7CnZvaWQgcmVxdWVzdF9mcmVlKE1pbm5ldFJlcXVlc3QqLCBKU0NvbnRleHQqKTsKdm9pZCByZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCosIEpTUnVudGltZSopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBlbnVtIGh0dHBfbWV0aG9kKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlcXVlc3QqKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQ7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBNaW5uZXRSZXF1ZXN0KgptaW5uZXRfcmVxdWVzdF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlcXVlc3QqCm1pbm5ldF9yZXF1ZXN0X2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgptaW5uZXRfdXJpX2FuZF9tZXRob2Qoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgTWlubmV0SHR0cE1ldGhvZCogbWV0aG9kKSB7CiAgY2hhciogdXJsOwoKICBpZigodXJsID0gbHdzX2dldF91cmkod3NpLCBjdHgsIFdTSV9UT0tFTl9QT1NUX1VSSSkpKQogICAgaWYobWV0aG9kKQogICAgICAqbWV0aG9kID0gTUVUSE9EX1BPU1Q7CiAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0dFVF9VUkkpKSkKICAgICAgaWYobWV0aG9kKQogICAgICAgICptZXRob2QgPSBNRVRIT0RfR0VUOwogICAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0hFQURfVVJJKSkpCiAgICAgICAgaWYobWV0aG9kKQogICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9IRUFEOwogICAgICAgIGVsc2UgaWYoKHVybCA9IGx3c19nZXRfdXJpKHdzaSwgY3R4LCBXU0lfVE9LRU5fT1BUSU9OU19VUkkpKSkKICAgICAgICAgIGlmKG1ldGhvZCkKICAgICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9PUFRJT05TOwoKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCm1ldGhvZF9uYW1lKGludCBtKSB7CiAgaWYobSA8IDApCiAgICByZXR1cm4gIi0xIjsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsiR0VUIiwgIlBPU1QiLCAiT1BUSU9OUyIsICJQVVQiLCAiUEFUQ0giLCAiREVMRVRFIiwgIkNPTk5FQ1QiLCAiSEVBRCJ9KVttXTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9SRVFVRVNUX0ggKi8KAAAAAAAAAAArCwAAAAAAAAAAAAAAAAAAAAAAACsLAAAAAAAAAAAAAAAAAAAAAAAAKwsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALgCAAAAAAAAwwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArCwAAI2lmbmRlZiBNSU5ORVRfUkVRVUVTVF9ICiNkZWZpbmUgTUlOTkVUX1JFUVVFU1RfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3Qgc29ja2V0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCmNvbnN0IGNoYXIqIG1ldGhvZF9zdHJpbmcoZW51bSBodHRwX21ldGhvZCk7CmludCBtZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqKTsKCnR5cGVkZWYgc3RydWN0IGh0dHBfcmVxdWVzdCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZDsKICBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlcXVlc3Q7Cgp2b2lkIHJlcXVlc3RfZm9ybWF0KE1pbm5ldFJlcXVlc3QgY29uc3QqLCBjaGFyKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CmNoYXIqIHJlcXVlc3RfZHVtcChNaW5uZXRSZXF1ZXN0IGNvbnN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9pbml0KE1pbm5ldFJlcXVlc3QqLCBNaW5uZXRVUkwsIGVudW0gaHR0cF9tZXRob2QpOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpOwp2b2lkIHJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcihNaW5uZXRSZXF1ZXN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiwgSlNSdW50aW1lKik7CnZvaWQgcmVxdWVzdF9mcmVlKE1pbm5ldFJlcXVlc3QqLCBKU0NvbnRleHQqKTsKdm9pZCByZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCosIEpTUnVudGltZSopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBlbnVtIGh0dHBfbWV0aG9kKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlcXVlc3QqKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQ7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBNaW5uZXRSZXF1ZXN0KgptaW5uZXRfcmVxdWVzdF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlcXVlc3QqCm1pbm5ldF9yZXF1ZXN0X2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgptaW5uZXRfdXJpX2FuZF9tZXRob2Qoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgTWlubmV0SHR0cE1ldGhvZCogbWV0aG9kKSB7CiAgY2hhciogdXJsOwoKICBpZigodXJsID0gbHdzX2dldF91cmkod3NpLCBjdHgsIFdTSV9UT0tFTl9QT1NUX1VSSSkpKQogICAgaWYobWV0aG9kKQogICAgICAqbWV0aG9kID0gTUVUSE9EX1BPU1Q7CiAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0dFVF9VUkkpKSkKICAgICAgaWYobWV0aG9kKQogICAgICAgICptZXRob2QgPSBNRVRIT0RfR0VUOwogICAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0hFQURfVVJJKSkpCiAgICAgICAgaWYobWV0aG9kKQogICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9IRUFEOwogICAgICAgIGVsc2UgaWYoKHVybCA9IGx3c19nZXRfdXJpKHdzaSwgY3R4LCBXU0lfVE9LRU5fT1BUSU9OU19VUkkpKSkKICAgICAgICAgIGlmKG1ldGhvZCkKICAgICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9PUFRJT05TOwoKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCm1ldGhvZF9uYW1lKGludCBtKSB7CiAgaWYobSA8IDApCiAgICByZXR1cm4gIi0xIjsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsiR0VUIiwgIlBPU1QiLCAiT1BUSU9OUyIsICJQVVQiLCAiUEFUQ0giLCAiREVMRVRFIiwgIkNPTk5FQ1QiLCAiSEVBRCJ9KVttXTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9SRVFVRVNUX0ggKi8KAAAAAAAAAAArCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAIAAAAAAADDAgAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArCwAAI2lmbmRlZiBNSU5ORVRfUkVRVUVTVF9ICiNkZWZpbmUgTUlOTkVUX1JFUVVFU1RfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3Qgc29ja2V0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCmNvbnN0IGNoYXIqIG1ldGhvZF9zdHJpbmcoZW51bSBodHRwX21ldGhvZCk7CmludCBtZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqKTsKCnR5cGVkZWYgc3RydWN0IGh0dHBfcmVxdWVzdCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZDsKICBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlcXVlc3Q7Cgp2b2lkIHJlcXVlc3RfZm9ybWF0KE1pbm5ldFJlcXVlc3QgY29uc3QqLCBjaGFyKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CmNoYXIqIHJlcXVlc3RfZHVtcChNaW5uZXRSZXF1ZXN0IGNvbnN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9pbml0KE1pbm5ldFJlcXVlc3QqLCBNaW5uZXRVUkwsIGVudW0gaHR0cF9tZXRob2QpOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpOwp2b2lkIHJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcihNaW5uZXRSZXF1ZXN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiwgSlNSdW50aW1lKik7CnZvaWQgcmVxdWVzdF9mcmVlKE1pbm5ldFJlcXVlc3QqLCBKU0NvbnRleHQqKTsKdm9pZCByZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCosIEpTUnVudGltZSopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBlbnVtIGh0dHBfbWV0aG9kKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlcXVlc3QqKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQ7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBNaW5uZXRSZXF1ZXN0KgptaW5uZXRfcmVxdWVzdF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlcXVlc3QqCm1pbm5ldF9yZXF1ZXN0X2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgptaW5uZXRfdXJpX2FuZF9tZXRob2Qoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgTWlubmV0SHR0cE1ldGhvZCogbWV0aG9kKSB7CiAgY2hhciogdXJsOwoKICBpZigodXJsID0gbHdzX2dldF91cmkod3NpLCBjdHgsIFdTSV9UT0tFTl9QT1NUX1VSSSkpKQogICAgaWYobWV0aG9kKQogICAgICAqbWV0aG9kID0gTUVUSE9EX1BPU1Q7CiAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0dFVF9VUkkpKSkKICAgICAgaWYobWV0aG9kKQogICAgICAgICptZXRob2QgPSBNRVRIT0RfR0VUOwogICAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0hFQURfVVJJKSkpCiAgICAgICAgaWYobWV0aG9kKQogICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9IRUFEOwogICAgICAgIGVsc2UgaWYoKHVybCA9IGx3c19nZXRfdXJpKHdzaSwgY3R4LCBXU0lfVE9LRU5fT1BUSU9OU19VUkkpKSkKICAgICAgICAgIGlmKG1ldGhvZCkKICAgICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9PUFRJT05TOwoKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCm1ldGhvZF9uYW1lKGludCBtKSB7CiAgaWYobSA8IDApCiAgICByZXR1cm4gIi0xIjsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsiR0VUIiwgIlBPU1QiLCAiT1BUSU9OUyIsICJQVVQiLCAiUEFUQ0giLCAiREVMRVRFIiwgIkNPTk5FQ1QiLCAiSEVBRCJ9KVttXTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9SRVFVRVNUX0ggKi8KAAAAAAAAAAArCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAIAAAAAAADDAgAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArCwAAI2lmbmRlZiBNSU5ORVRfUkVRVUVTVF9ICiNkZWZpbmUgTUlOTkVUX1JFUVVFU1RfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3Qgc29ja2V0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCmNvbnN0IGNoYXIqIG1ldGhvZF9zdHJpbmcoZW51bSBodHRwX21ldGhvZCk7CmludCBtZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqKTsKCnR5cGVkZWYgc3RydWN0IGh0dHBfcmVxdWVzdCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZDsKICBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlcXVlc3Q7Cgp2b2lkIHJlcXVlc3RfZm9ybWF0KE1pbm5ldFJlcXVlc3QgY29uc3QqLCBjaGFyKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CmNoYXIqIHJlcXVlc3RfZHVtcChNaW5uZXRSZXF1ZXN0IGNvbnN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9pbml0KE1pbm5ldFJlcXVlc3QqLCBNaW5uZXRVUkwsIGVudW0gaHR0cF9tZXRob2QpOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpOwp2b2lkIHJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcihNaW5uZXRSZXF1ZXN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiwgSlNSdW50aW1lKik7CnZvaWQgcmVxdWVzdF9mcmVlKE1pbm5ldFJlcXVlc3QqLCBKU0NvbnRleHQqKTsKdm9pZCByZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCosIEpTUnVudGltZSopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBlbnVtIGh0dHBfbWV0aG9kKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlcXVlc3QqKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQ7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBNaW5uZXRSZXF1ZXN0KgptaW5uZXRfcmVxdWVzdF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlcXVlc3QqCm1pbm5ldF9yZXF1ZXN0X2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgptaW5uZXRfdXJpX2FuZF9tZXRob2Qoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgTWlubmV0SHR0cE1ldGhvZCogbWV0aG9kKSB7CiAgY2hhciogdXJsOwoKICBpZigodXJsID0gbHdzX2dldF91cmkod3NpLCBjdHgsIFdTSV9UT0tFTl9QT1NUX1VSSSkpKQogICAgaWYobWV0aG9kKQogICAgICAqbWV0aG9kID0gTUVUSE9EX1BPU1Q7CiAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0dFVF9VUkkpKSkKICAgICAgaWYobWV0aG9kKQogICAgICAgICptZXRob2QgPSBNRVRIT0RfR0VUOwogICAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0hFQURfVVJJKSkpCiAgICAgICAgaWYobWV0aG9kKQogICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9IRUFEOwogICAgICAgIGVsc2UgaWYoKHVybCA9IGx3c19nZXRfdXJpKHdzaSwgY3R4LCBXU0lfVE9LRU5fT1BUSU9OU19VUkkpKSkKICAgICAgICAgIGlmKG1ldGhvZCkKICAgICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9PUFRJT05TOwoKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCm1ldGhvZF9uYW1lKGludCBtKSB7CiAgaWYobSA8IDApCiAgICByZXR1cm4gIi0xIjsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsiR0VUIiwgIlBPU1QiLCAiT1BUSU9OUyIsICJQVVQiLCAiUEFUQ0giLCAiREVMRVRFIiwgIkNPTk5FQ1QiLCAiSEVBRCJ9KVttXTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9SRVFVRVNUX0ggKi8KAAAAAAAAAAArCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAIAAAAAAADDAgAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArCwAAI2lmbmRlZiBNSU5ORVRfUkVRVUVTVF9ICiNkZWZpbmUgTUlOTkVUX1JFUVVFU1RfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlICJtaW5uZXQtYnVmZmVyLmgiCgpzdHJ1Y3Qgc29ja2V0OwpzdHJ1Y3QgaHR0cF9yZXNwb25zZTsKCmNvbnN0IGNoYXIqIG1ldGhvZF9zdHJpbmcoZW51bSBodHRwX21ldGhvZCk7CmludCBtZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqKTsKCnR5cGVkZWYgc3RydWN0IGh0dHBfcmVxdWVzdCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIHJlYWRfb25seTsKICBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZDsKICBNaW5uZXRVUkwgdXJsOwogIE1pbm5ldEJ1ZmZlciBoZWFkZXJzLCBib2R5Owp9IE1pbm5ldFJlcXVlc3Q7Cgp2b2lkIHJlcXVlc3RfZm9ybWF0KE1pbm5ldFJlcXVlc3QgY29uc3QqLCBjaGFyKiwgc2l6ZV90LCBKU0NvbnRleHQqIGN0eCk7CmNoYXIqIHJlcXVlc3RfZHVtcChNaW5uZXRSZXF1ZXN0IGNvbnN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9pbml0KE1pbm5ldFJlcXVlc3QqLCBNaW5uZXRVUkwsIGVudW0gaHR0cF9tZXRob2QpOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9td3NpKEpTQ29udGV4dCosIHN0cnVjdCBsd3MqKTsKTWlubmV0UmVxdWVzdCogcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpOwp2b2lkIHJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcihNaW5uZXRSZXF1ZXN0KiwgSlNDb250ZXh0Kik7CnZvaWQgcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiwgSlNSdW50aW1lKik7CnZvaWQgcmVxdWVzdF9mcmVlKE1pbm5ldFJlcXVlc3QqLCBKU0NvbnRleHQqKTsKdm9pZCByZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCosIEpTUnVudGltZSopOwpNaW5uZXRSZXF1ZXN0KiByZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF9yZXF1ZXN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMLCBlbnVtIGh0dHBfbWV0aG9kKTsKSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFJlcXVlc3QqKTsKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKZXh0ZXJuIFRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQ7CmV4dGVybiBKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzOwpleHRlcm4gY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXTsKZXh0ZXJuIGNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplOwoKc3RhdGljIGlubGluZSBNaW5uZXRSZXF1ZXN0KgptaW5uZXRfcmVxdWVzdF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3JlcXVlc3RfY2xhc3NfaWQpOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFJlcXVlc3QqCm1pbm5ldF9yZXF1ZXN0X2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgptaW5uZXRfdXJpX2FuZF9tZXRob2Qoc3RydWN0IGx3cyogd3NpLCBKU0NvbnRleHQqIGN0eCwgTWlubmV0SHR0cE1ldGhvZCogbWV0aG9kKSB7CiAgY2hhciogdXJsOwoKICBpZigodXJsID0gbHdzX2dldF91cmkod3NpLCBjdHgsIFdTSV9UT0tFTl9QT1NUX1VSSSkpKQogICAgaWYobWV0aG9kKQogICAgICAqbWV0aG9kID0gTUVUSE9EX1BPU1Q7CiAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0dFVF9VUkkpKSkKICAgICAgaWYobWV0aG9kKQogICAgICAgICptZXRob2QgPSBNRVRIT0RfR0VUOwogICAgICBlbHNlIGlmKCh1cmwgPSBsd3NfZ2V0X3VyaSh3c2ksIGN0eCwgV1NJX1RPS0VOX0hFQURfVVJJKSkpCiAgICAgICAgaWYobWV0aG9kKQogICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9IRUFEOwogICAgICAgIGVsc2UgaWYoKHVybCA9IGx3c19nZXRfdXJpKHdzaSwgY3R4LCBXU0lfVE9LRU5fT1BUSU9OU19VUkkpKSkKICAgICAgICAgIGlmKG1ldGhvZCkKICAgICAgICAgICAgKm1ldGhvZCA9IE1FVEhPRF9PUFRJT05TOwoKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCm1ldGhvZF9uYW1lKGludCBtKSB7CiAgaWYobSA8IDApCiAgICByZXR1cm4gIi0xIjsKICByZXR1cm4gKChjb25zdCBjaGFyKiBjb25zdFtdKXsiR0VUIiwgIlBPU1QiLCAiT1BUSU9OUyIsICJQVVQiLCAiUEFUQ0giLCAiREVMRVRFIiwgIkNPTk5FQ1QiLCAiSEVBRCJ9KVttXTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9SRVFVRVNUX0ggKi8KAAAAAAAAAAArCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAIAAAAAAADDAgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-websocket.c",
			"settings":
			{
				"buffer_size": 21410,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2036,
					1,
					"insert",
					{
						"characters": " ws_new("
					},
					"CAAAAKkFAAAAAAAAqgUAAAAAAAAAAAAAqgUAAAAAAACrBQAAAAAAAAAAAACrBQAAAAAAAKwFAAAAAAAAAAAAAKwFAAAAAAAArQUAAAAAAAAAAAAArQUAAAAAAACuBQAAAAAAAAAAAACuBQAAAAAAAK8FAAAAAAAAAAAAAK8FAAAAAAAAsAUAAAAAAAAAAAAAsAUAAAAAAACxBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqQUAAAAAAACpBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2037,
					1,
					"insert",
					{
						"characters": "%p,"
					},
					"AwAAALEFAAAAAAAAsgUAAAAAAAAAAAAAsgUAAAAAAACzBQAAAAAAAAAAAACzBQAAAAAAALQFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQUAAAAAAACxBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2038,
					1,
					"insert",
					{
						"characters": " %p)"
					},
					"BAAAALQFAAAAAAAAtQUAAAAAAAAAAAAAtQUAAAAAAAC2BQAAAAAAAAAAAAC2BQAAAAAAALcFAAAAAAAAAAAAALcFAAAAAAAAuAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtAUAAAAAAAC0BQAAAAAAAAAAAAAAAPC/"
				],
				[
					2041,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAMkFAAAAAAAAygUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyQUAAAAAAADJBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2042,
					1,
					"insert",
					{
						"characters": " wsi,session"
					},
					"DAAAAMoFAAAAAAAAywUAAAAAAAAAAAAAywUAAAAAAADMBQAAAAAAAAAAAADMBQAAAAAAAM0FAAAAAAAAAAAAAM0FAAAAAAAAzgUAAAAAAAAAAAAAzgUAAAAAAADPBQAAAAAAAAAAAADPBQAAAAAAANAFAAAAAAAAAAAAANAFAAAAAAAA0QUAAAAAAAAAAAAA0QUAAAAAAADSBQAAAAAAAAAAAADSBQAAAAAAANMFAAAAAAAAAAAAANMFAAAAAAAA1AUAAAAAAAAAAAAA1AUAAAAAAADVBQAAAAAAAAAAAADVBQAAAAAAANYFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAygUAAAAAAADKBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2047,
					1,
					"cut",
					null,
					"AQAAAIQFAAAAAAAAhAUAAAAAAABVAAAAICBwcmludGYoIiVzOiBuZXcgTWlubmV0V2Vic29ja2V0OiAlcCB3c19uZXcoJXAsICVwKVxuIiwgX19mdW5jX18sIHdzLCB3c2ksc2Vzc2lvbik7Cg",
					"AQAAAAAAAAABAAAAhAUAAAAAAADZBQAAAAAAAAAAAAAAAAAA"
				],
				[
					2048,
					1,
					"paste",
					null,
					"AQAAAIQFAAAAAAAA2QUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhAUAAAAAAACEBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2063,
					1,
					"insert",
					{
						"characters": "\n\n\nif"
					},
					"CgAAAAMVAAAAAAAABBUAAAAAAAAAAAAABBUAAAAAAAAGFQAAAAAAAAAAAAAGFQAAAAAAAAcVAAAAAAAAAAAAAAcVAAAAAAAACRUAAAAAAAAAAAAABBUAAAAAAAAEFQAAAAAAAAIAAAAgIAcVAAAAAAAACBUAAAAAAAAAAAAACBUAAAAAAAAKFQAAAAAAAAAAAAAFFQAAAAAAAAUVAAAAAAAAAgAAACAgCBUAAAAAAAAJFQAAAAAAAAAAAAAJFQAAAAAAAAoVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAxUAAAAAAAADFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2064,
					2,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AgAAAAoVAAAAAAAADBUAAAAAAAAAAAAACxUAAAAAAAANFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAChUAAAAAAAAKFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2065,
					1,
					"insert",
					{
						"characters": "opaque=lws"
					},
					"CgAAAAwVAAAAAAAADRUAAAAAAAAAAAAADRUAAAAAAAAOFQAAAAAAAAAAAAAOFQAAAAAAAA8VAAAAAAAAAAAAAA8VAAAAAAAAEBUAAAAAAAAAAAAAEBUAAAAAAAARFQAAAAAAAAAAAAARFQAAAAAAABIVAAAAAAAAAAAAABIVAAAAAAAAExUAAAAAAAAAAAAAExUAAAAAAAAUFQAAAAAAAAAAAAAUFQAAAAAAABUVAAAAAAAAAAAAABUVAAAAAAAAFhUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADBUAAAAAAAAMFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2066,
					1,
					"insert",
					{
						"characters": "_get_opa"
					},
					"CAAAABYVAAAAAAAAFxUAAAAAAAAAAAAAFxUAAAAAAAAYFQAAAAAAAAAAAAAYFQAAAAAAABkVAAAAAAAAAAAAABkVAAAAAAAAGhUAAAAAAAAAAAAAGhUAAAAAAAAbFQAAAAAAAAAAAAAbFQAAAAAAABwVAAAAAAAAAAAAABwVAAAAAAAAHRUAAAAAAAAAAAAAHRUAAAAAAAAeFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFhUAAAAAAAAWFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2067,
					1,
					"insert_completion",
					{
						"completion": "lws_get_opaque_user_data",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "lws_get_opaque_user_data"
					},
					"AgAAABMVAAAAAAAAExUAAAAAAAALAAAAbHdzX2dldF9vcGETFQAAAAAAACsVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHhUAAAAAAAAeFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2068,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAACsVAAAAAAAALRUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKxUAAAAAAAArFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2069,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"AwAAACwVAAAAAAAALRUAAAAAAAAAAAAALRUAAAAAAAAuFQAAAAAAAAAAAAAuFQAAAAAAAC8VAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALBUAAAAAAAAsFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2071,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAADIVAAAAAAAAMxUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMhUAAAAAAAAyFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2072,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAADMVAAAAAAAANRUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMxUAAAAAAAAzFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2073,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAADQVAAAAAAAANRUAAAAAAAAAAAAANRUAAAAAAAA3FQAAAAAAAAAAAAA3FQAAAAAAADgVAAAAAAAAAAAAADgVAAAAAAAAOhUAAAAAAAAAAAAANRUAAAAAAAA1FQAAAAAAAAIAAAAgIDUVAAAAAAAAORUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANBUAAAAAAAA0FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2074,
					1,
					"insert",
					{
						"characters": "if"
					},
					"AgAAADkVAAAAAAAAOhUAAAAAAAAAAAAAOhUAAAAAAAA7FQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAORUAAAAAAAA5FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2075,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAADsVAAAAAAAAPRUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOxUAAAAAAAA7FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2076,
					1,
					"insert",
					{
						"characters": "ws"
					},
					"AgAAADwVAAAAAAAAPRUAAAAAAAAAAAAAPRUAAAAAAAA+FQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPBUAAAAAAAA8FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2077,
					2,
					"left_delete",
					null,
					"AgAAAD0VAAAAAAAAPRUAAAAAAAABAAAAczwVAAAAAAAAPBUAAAAAAAABAAAAdw",
					"AQAAAAAAAAABAAAAPhUAAAAAAAA+FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2078,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAADwVAAAAAAAAPhUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPBUAAAAAAAA8FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2079,
					1,
					"insert",
					{
						"characters": "ws"
					},
					"AgAAAD0VAAAAAAAAPhUAAAAAAAAAAAAAPhUAAAAAAAA/FQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPRUAAAAAAAA9FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2080,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAD8VAAAAAAAAQBUAAAAAAAAAAAAAQBUAAAAAAABBFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPxUAAAAAAAA/FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2081,
					1,
					"insert",
					{
						"characters": " opq"
					},
					"BAAAAEEVAAAAAAAAQhUAAAAAAAAAAAAAQhUAAAAAAABDFQAAAAAAAAAAAABDFQAAAAAAAEQVAAAAAAAAAAAAAEQVAAAAAAAARRUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQRUAAAAAAABBFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2082,
					1,
					"left_delete",
					null,
					"AQAAAEQVAAAAAAAARBUAAAAAAAABAAAAcQ",
					"AQAAAAAAAAABAAAARRUAAAAAAABFFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2083,
					1,
					"insert",
					{
						"characters": "aque->ws"
					},
					"CAAAAEQVAAAAAAAARRUAAAAAAAAAAAAARRUAAAAAAABGFQAAAAAAAAAAAABGFQAAAAAAAEcVAAAAAAAAAAAAAEcVAAAAAAAASBUAAAAAAAAAAAAASBUAAAAAAABJFQAAAAAAAAAAAABJFQAAAAAAAEoVAAAAAAAAAAAAAEoVAAAAAAAASxUAAAAAAAAAAAAASxUAAAAAAABMFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARBUAAAAAAABEFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2085,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CgAAAE4VAAAAAAAATxUAAAAAAAAAAAAATxUAAAAAAABTFQAAAAAAAAAAAABPFQAAAAAAAE8VAAAAAAAABAAAACAgICBPFQAAAAAAAFUVAAAAAAAAAAAAAFUVAAAAAAAAVhUAAAAAAAAAAAAAVhUAAAAAAABXFQAAAAAAAAAAAABXFQAAAAAAAFgVAAAAAAAAAAAAAFgVAAAAAAAAWRUAAAAAAAAAAAAAWRUAAAAAAABaFQAAAAAAAAAAAABaFQAAAAAAAFsVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAThUAAAAAAABOFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2086,
					1,
					"insert",
					{
						"characters": " minnet_ws_wrap"
					},
					"DwAAAFsVAAAAAAAAXBUAAAAAAAAAAAAAXBUAAAAAAABdFQAAAAAAAAAAAABdFQAAAAAAAF4VAAAAAAAAAAAAAF4VAAAAAAAAXxUAAAAAAAAAAAAAXxUAAAAAAABgFQAAAAAAAAAAAABgFQAAAAAAAGEVAAAAAAAAAAAAAGEVAAAAAAAAYhUAAAAAAAAAAAAAYhUAAAAAAABjFQAAAAAAAAAAAABjFQAAAAAAAGQVAAAAAAAAAAAAAGQVAAAAAAAAZRUAAAAAAAAAAAAAZRUAAAAAAABmFQAAAAAAAAAAAABmFQAAAAAAAGcVAAAAAAAAAAAAAGcVAAAAAAAAaBUAAAAAAAAAAAAAaBUAAAAAAABpFQAAAAAAAAAAAABpFQAAAAAAAGoVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWxUAAAAAAABbFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2087,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAGoVAAAAAAAAbBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAahUAAAAAAABqFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2088,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAGsVAAAAAAAAbBUAAAAAAAAAAAAAbBUAAAAAAABtFQAAAAAAAAAAAABtFQAAAAAAAG4VAAAAAAAAAAAAAG4VAAAAAAAAbxUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaxUAAAAAAABrFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2089,
					1,
					"insert",
					{
						"characters": " ws"
					},
					"AwAAAG8VAAAAAAAAcBUAAAAAAAAAAAAAcBUAAAAAAABxFQAAAAAAAAAAAABxFQAAAAAAAHIVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbxUAAAAAAABvFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2091,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAHMVAAAAAAAAdBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxUAAAAAAABzFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2097,
					1,
					"insert",
					{
						"characters": "sw"
					},
					"AgAAAHAVAAAAAAAAcRUAAAAAAAAAAAAAcRUAAAAAAAByFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcBUAAAAAAABwFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2098,
					2,
					"left_delete",
					null,
					"AgAAAHEVAAAAAAAAcRUAAAAAAAABAAAAd3AVAAAAAAAAcBUAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAchUAAAAAAAByFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2099,
					1,
					"insert",
					{
						"characters": "ws_dup("
					},
					"BwAAAHAVAAAAAAAAcRUAAAAAAAAAAAAAcRUAAAAAAAByFQAAAAAAAAAAAAByFQAAAAAAAHMVAAAAAAAAAAAAAHMVAAAAAAAAdBUAAAAAAAAAAAAAdBUAAAAAAAB1FQAAAAAAAAAAAAB1FQAAAAAAAHYVAAAAAAAAAAAAAHYVAAAAAAAAdxUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcBUAAAAAAABwFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2101,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAHoVAAAAAAAAexUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAehUAAAAAAAB6FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2110,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA6VgAAI2luY2x1ZGUgIm1pbm5ldC1idWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCmludDY0X3Qgd3Nfc2VyaWFsID0gMDsKClRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwoKZW51bSB7CiAgV0VCU09DS0VUX1BST1RPQ09MLAogIFdFQlNPQ0tFVF9GRCwKICBXRUJTT0NLRVRfQUREUkVTUywKICBXRUJTT0NLRVRfRkFNSUxZLAogIFdFQlNPQ0tFVF9QT1JULAogIFdFQlNPQ0tFVF9QRUVSLAogIFdFQlNPQ0tFVF9TU0wsCiAgV0VCU09DS0VUX0JJTkFSWSwKICBXRUJTT0NLRVRfUkVBRFlTVEFURSwKICBXRUJTT0NLRVRfQ09OVEVYVCwKICAvKiAgV0VCU09DS0VUX1JFU0VSVkVEX0JJVFMsCiAgICBXRUJTT0NLRVRfRklOQUxfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfRklSU1RfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfUEFSVElBTF9CVUZGRVJFRCwqLwp9OwoKZW51bSB7IFJFU1BPTlNFX0JPRFksIFJFU1BPTlNFX0hFQURFUiwgUkVTUE9OU0VfUkVESVJFQ1QgfTsKCi8qSlNWYWx1ZQptaW5uZXRfd3NfbmV3KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgd3Nfb2JqOwoKICBpZighKHdzID0gd3NfbmV3KHdzaSwgY3R4KSkpIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHdzX29iaik7CiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIH0KCiAgd3Nfb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24od3Nfb2JqKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZSh3c19vYmosIHdzKTsKCiAgcmV0dXJuIHdzX29iajsKfSovCgpNaW5uZXRXZWJzb2NrZXQqCndzX25ldyhzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoISh3cyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0V2Vic29ja2V0KSkpKQogICAgcmV0dXJuIDA7CgogIHByaW50ZigiJXM6IG5ldyBNaW5uZXRXZWJzb2NrZXQ6ICVwIHdzX25ldyglcCwgJXApXG4iLCBfX2Z1bmNfXywgd3MsIHdzaSxzZXNzaW9uKTsKCiAgd3MtPmx3c2kgPSB3c2k7CiAgd3MtPnJlZl9jb3VudCA9IDE7CgogIGlmKCEob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICBvcGFxdWUgPSBvcGFxdWVfbmV3KHNlc3Npb24sIGN0eCk7CiAgICBhc3NlcnQob3BhcXVlKTsKICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2ksIG9wYXF1ZSk7CgogICAgb3BhcXVlLT53cyA9IHdzX2R1cCh3cyk7CiAgICBvcGFxdWUtPnN0YXR1cyA9IDA7CiAgICBvcGFxdWUtPmhhbmRsZXIgPSBKU19OVUxMOwoKICAgIC8qb3BhcXVlLT5oYW5kbGVyc1swXSA9IEpTX05VTEw7CiAgICBvcGFxdWUtPmhhbmRsZXJzWzFdID0gSlNfTlVMTDsqLwogIH0KCiAgaWYob3BhcXVlLT5zZXNzKQogICAgb3BhcXVlLT5zZXNzLT53c19vYmogPSBtaW5uZXRfd3Nfd3JhcChjdHgsIHdzKTsKCiAgcmV0dXJuIHdzOwp9CgpzdGF0aWMgdm9pZCogcHJldl9wdHIgPSAwOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgpvcGFxdWVfbmV3KHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgaWYoKG9wYXF1ZSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2Yoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKSkpKSB7CiAgICBvcGFxdWUtPnNlcmlhbCA9ICsrd3Nfc2VyaWFsOwogICAgb3BhcXVlLT5zdGF0dXMgPSBDT05ORUNUSU5HOwogICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICAgIGxpc3RfYWRkKCZvcGFxdWUtPmxpbmssICZtaW5uZXRfc29ja2V0cyk7CiAgfQogIHJldHVybiBvcGFxdWU7Cn0KCnZvaWQKb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUsIEpTUnVudGltZSogcnQpIHsKICAvLyBwcmludGYoIiVzIG9wYXF1ZT0lcCBsaW5rPVslcCwgJXBdXG4iLCBfX2Z1bmNfXywgb3BhcXVlLCBvcGFxdWUtPmxpbmsubmV4dCwgb3BhcXVlLT5saW5rLnByZXYpOwogIHByZXZfcHRyID0gb3BhcXVlOwogIGlmKG9wYXF1ZS0+d3MpIHsKICAgIE1pbm5ldFdlYnNvY2tldCogd3MgPSBvcGFxdWUtPndzOwogICAgb3BhcXVlLT53cyA9IDA7CiAgICBpZih3cy0+bHdzaSkKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpLCAwKTsKICAgIHdzX2ZyZWVfcnQod3MsIHJ0KTsKICB9CiAgaWYob3BhcXVlLT5yZXEpIHsKICAgIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcSA9IG9wYXF1ZS0+cmVxOwogICAgb3BhcXVlLT5yZXEgPSAwOwogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwogIH0KICBpZihvcGFxdWUtPnJlc3ApIHsKICAgIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwID0gb3BhcXVlLT5yZXNwOwogICAgb3BhcXVlLT5yZXNwID0gMDsKICAgIHJlc3BvbnNlX2ZyZWVfcnQocmVzcCwgcnQpOwogIH0KICBhc3NlcnQob3BhcXVlLT5saW5rLm5leHQpOwogIGxpc3RfZGVsKCZvcGFxdWUtPmxpbmspOwogIGpzX2ZyZWVfcnQocnQsIG9wYXF1ZSk7Cn0KCnZvaWQKb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUsIEpTQ29udGV4dCogY3R4KSB7CiAgb3BhcXVlX2ZyZWVfcnQob3BhcXVlLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCndzX2NsZWFyX3J0KE1pbm5ldFdlYnNvY2tldCogd3MsIEpTUnVudGltZSogcnQpIHsKICBzdHJ1Y3QgbHdzKiB3c2kgPSB3cy0+bHdzaTsKICB3cy0+bHdzaSA9IDA7CiAgaWYod3NpKSB7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKICAgIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpIHsKICAgICAgaW50IHN0YXR1cyA9IG9wYXF1ZS0+c3RhdHVzOwogICAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCAwKTsKICAgICAgb3BhcXVlX2ZyZWVfcnQob3BhcXVlLCBydCk7CiAgICAgIC8qICBpZihzdGF0dXMgPCBDTE9TSU5HKQogICAgICAgICAgbHdzX2Nsb3NlX2ZyZWVfd3NpKHdzaSwgTFdTX0NMT1NFX1NUQVRVU19OT1NUQVRVUywgX19mdW5jX18pOyovCiAgICB9CiAgfQp9Cgp2b2lkCndzX2NsZWFyKE1pbm5ldFdlYnNvY2tldCogd3MsIEpTQ29udGV4dCogY3R4KSB7CiAgd3NfY2xlYXJfcnQod3MsIEpTX0dldFJ1bnRpbWUoY3R4KSk7Cn0KCnZvaWQKd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqIHdzLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS13cy0+cmVmX2NvdW50ID09IDApIHsKICAgIHdzX2NsZWFyX3J0KHdzLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCB3cyk7CiAgfQp9Cgp2b2lkCndzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiB3cywgSlNDb250ZXh0KiBjdHgpIHsKICBpZigtLXdzLT5yZWZfY291bnQgPT0gMCkgewogICAgd3NfY2xlYXIod3MsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgd3MpOwogIH0KfQoKTWlubmV0V2Vic29ja2V0Kgp3c19kdXAoTWlubmV0V2Vic29ja2V0KiB3cykgewogICsrd3MtPnJlZl9jb3VudDsKICByZXR1cm4gd3M7Cn0KCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlOwoKICBhc3NlcnQoY3R4KTsKCiAgb3BhcXVlID0gb3BhcXVlX25ldyhzZXNzaW9uLCBjdHgpOwoKICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCBvcGFxdWUpOwogIHJldHVybiBvcGFxdWU7Cn0KCi8qSlNWYWx1ZQptaW5uZXRfd3Nfb2JqZWN0KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgSlNWYWx1ZSB3c19vYmo7CiAgICBpZigvL29wYXF1ZS0+b2JqCiAgICAgb3BhcXVlLT53cykgewogICAgICB3c19vYmogPSBKU19EdXBWYWx1ZShjdHgsIEpTX01LUFRSKEpTX1RBR19PQkpFQ1QsIG9wYXF1ZS0+b2JqKSk7CiAgICAgICAgLy9pZighKG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB3c19vYmopKSkgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgICAgb3BhcXVlLT53cy0+cmVmX2NvdW50Kys7CiAgICB9IGVsc2UgewogICAgICB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHdzaSk7CiAgICAgIC8vb3BhcXVlLT5vYmogPSBKU19WQUxVRV9HRVRfT0JKKHdzX29iaik7CiAgICAgIG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YSh3c19vYmopOwogICAgfQogICAgcmV0dXJuIHdzX29iajsKICB9CgogIHJldHVybiBtaW5uZXRfd3NfbmV3KGN0eCwgd3NpKTsKfSovCgpKU1ZhbHVlCm1pbm5ldF93c193cmFwKEpTQ29udGV4dCogY3R4LCBNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgd3NfZHVwKHdzKSk7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzcykgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgSlNWYWx1ZSByZXQ7CgoKICBpZigob3BhcXVlPWx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgaWYoKHdzID0gb3BhcXVlLT53cykpCiAgICAgIHJldHVybiBtaW5uZXRfd3Nfd3JhcChjdHgsIHdzX2R1cCh3cykpOwogIH0KCiAgaWYoISh3cyA9IHdzX25ldyh3c2ksIHNlc3MsIGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZShyZXQsIHdzKTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBzZXNzLCBjdHgpKSkgewogICAgYXNzZXJ0KG9wYXF1ZS0+d3MgPT0gMCAvKiB8fCBvcGFxdWUtPndzID09IHdzKi8pOwoKICAgIG9wYXF1ZS0+d3MgPSB3czsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19zZW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBpbnQ2NF90IG0sIGxlbjsKICBNaW5uZXRTZXNzaW9uKiBzZXNzaW9uOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIE1pbm5ldEJ1ZmZlciBidWZmZXIgPSB7ezB9fTsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZighKG0gPSBidWZmZXJfZnJvbXZhbHVlKCZidWZmZXIsIGFyZ3ZbMF0sIGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgZXhwZWN0aW5nIFN0cmluZy9BcnJheUJ1ZmZlciIpOwoKICBpZihtIDwgMCkgewogICAgcmV0ID0gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogICAgZ290byBmYWlsOwogIH0KCiAgbGVuID0gYnVmZmVyX0JZVEVTKCZidWZmZXIpOwoKICBpZigoc2Vzc2lvbiA9IHdzX3Nlc3Npb24od3MpKSkgewoKICAgIGJ1ZmZlcl9hcHBlbmQoJnNlc3Npb24tPnNlbmRfYnVmLCBidWZmZXIucmVhZCwgbGVuLCBjdHgpOwogICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzLT5sd3NpKTsKCiAgfSBlbHNlIHsKCiAgICBtID0gbHdzX3dyaXRlKHdzLT5sd3NpLCBidWZmZXIucmVhZCwgYnVmZmVyX0JZVEVTKCZidWZmZXIpLCBKU19Jc1N0cmluZyhhcmd2WzBdKSA/IExXU19XUklURV9URVhUIDogTFdTX1dSSVRFX0JJTkFSWSk7CgogICAgaWYobSA8IGxlbikKICAgICAgcmV0ID0gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImx3cyB3cml0ZSBmYWlsZWQ6ICUiIFBSSWk2NCAiLyUiIFBSSWk2NCwgbSwgbGVuKTsKICAgIGVsc2UKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBtKTsKICB9CgpmYWlsOgogIGJ1ZmZlcl9mcmVlKCZidWZmZXIsIEpTX0dldFJ1bnRpbWUoY3R4KSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19yZXNwb25kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIE1pbm5ldEJ1ZmZlciBoZWFkZXIgPSBCVUZGRVJfMCgpOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfQk9EWTogewogICAgICBjb25zdCBjaGFyKiBtc2cgPSAwOwogICAgICB1aW50MzJfdCBzdGF0dXMgPSAwOwoKICAgICAgSlNfVG9VaW50MzIoY3R4LCAmc3RhdHVzLCBhcmd2WzBdKTsKICAgICAgaWYoYXJnYyA+PSAyKQogICAgICAgIG1zZyA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwogICAgICBsd3NfcmV0dXJuX2h0dHBfc3RhdHVzKHdzLT5sd3NpLCBzdGF0dXMsIG1zZyk7CiAgICAgIGlmKG1zZykKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1zZyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9SRURJUkVDVDogewogICAgICBjb25zdCBjaGFyKiBtc2cgPSAwOwogICAgICBzaXplX3QgbGVuID0gMDsKICAgICAgdWludDMyX3Qgc3RhdHVzID0gMDsKICAgICAgSlNfVG9VaW50MzIoY3R4LCAmc3RhdHVzLCBhcmd2WzBdKTsKCiAgICAgIGlmKGFyZ2MgPj0gMikKICAgICAgICBtc2cgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCBhcmd2WzFdKTsKICAgICAgaWYobHdzX2h0dHBfcmVkaXJlY3Qod3MtPmx3c2ksIHN0YXR1cywgKHVuc2lnbmVkIGNoYXIqKW1zZywgbGVuLCAmaGVhZGVyLndyaXRlLCBoZWFkZXIuZW5kKSA8IDApCiAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCAtMSk7CiAgICAgIGlmKG1zZykKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1zZyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9IRUFERVI6IHsKICAgICAgc2l6ZV90IG5hbWVsZW47CiAgICAgIGNvbnN0IGNoYXIqIG5hbWVzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbmFtZWxlbiwgYXJndlswXSk7CiAgICAgIGNoYXIqIG5hbWUgPSBqc19tYWxsb2MoY3R4LCBuYW1lbGVuICsgMik7CiAgICAgIHNpemVfdCBsZW47CiAgICAgIGNvbnN0IGNoYXIqIHZhbHVlID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgYXJndlsxXSk7CiAgICAgIG1lbWNweShuYW1lLCBuYW1lc3RyLCBuYW1lbGVuKTsKICAgICAgbmFtZVtuYW1lbGVuXSA9ICc6JzsKICAgICAgbmFtZVtuYW1lbGVuICsgMV0gPSAnXDAnOwoKICAgICAgaWYobHdzX2FkZF9odHRwX2hlYWRlcl9ieV9uYW1lKHdzLT5sd3NpLCAoY29uc3QgdWludDhfdCopbmFtZSwgKGNvbnN0IHVpbnQ4X3QqKXZhbHVlLCBsZW4sICZoZWFkZXIud3JpdGUsIGhlYWRlci5lbmQpIDwgMCkKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIC0xKTsKCiAgICAgIGpzX2ZyZWUoY3R4LCBuYW1lKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX3BpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGxlbjsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBkYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKTsKICBpZihkYXRhKSB7CiAgICB1aW50OF90IGJ1ZmZlcltsZW4gKyBMV1NfUFJFXTsKICAgIG1lbWNweSgmYnVmZmVyW0xXU19QUkVdLCBkYXRhLCBsZW4pOwoKICAgIGludCBtID0gbHdzX3dyaXRlKHdzLT5sd3NpLCAmYnVmZmVyW0xXU19QUkVdLCBsZW4sIExXU19XUklURV9QSU5HKTsKICAgIGlmKChzaXplX3QpbSA8IGxlbikgewogICAgICAvLyBTZW5kaW5nIHBpbmcgZmFpbGVkCiAgICAgIHJldHVybiBKU19FWENFUFRJT047CiAgICB9CiAgfSBlbHNlIHsKICAgIHVpbnQ4X3QgYnVmZmVyW0xXU19QUkVdOwogICAgbHdzX3dyaXRlKHdzLT5sd3NpLCAmYnVmZmVyW0xXU19QUkVdLCAwLCBMV1NfV1JJVEVfUElORyk7CiAgfQogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19wb25nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICB1aW50OF90KiBkYXRhOwogIHNpemVfdCBsZW47CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSk7CiAgaWYoZGF0YSkgewogICAgdWludDhfdCBidWZmZXJbbGVuICsgTFdTX1BSRV07CiAgICBtZW1jcHkoJmJ1ZmZlcltMV1NfUFJFXSwgZGF0YSwgbGVuKTsKCiAgICBpbnQgbSA9IGx3c193cml0ZSh3cy0+bHdzaSwgJmJ1ZmZlcltMV1NfUFJFXSwgbGVuLCBMV1NfV1JJVEVfUE9ORyk7CiAgICBpZigoc2l6ZV90KW0gPCBsZW4pIHsKICAgICAgLy8gU2VuZGluZyBwb25nIGZhaWxlZAogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgfQogIH0gZWxzZSB7CiAgICB1aW50OF90IGJ1ZmZlcltMV1NfUFJFXTsKICAgIGx3c193cml0ZSh3cy0+bHdzaSwgJmJ1ZmZlcltMV1NfUFJFXSwgMCwgTFdTX1dSSVRFX1BPTkcpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3NfY2xvc2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIGNvbnN0IGNoYXIqIHJlYXNvbiA9IDA7CiAgc2l6ZV90IHJsZW4gPSAwOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHdzLT5sd3NpKSB7CiAgICBpbnQgb3B0aW5kID0gMDsKICAgIGludDMyX3Qgc3RhdHVzID0gTFdTX0NMT1NFX1NUQVRVU19OT1JNQUw7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgICB3aGlsZShvcHRpbmQgPCBhcmdjKSB7CiAgICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3Zbb3B0aW5kXSkgfHwgb3B0aW5kICsgMSA8IGFyZ2MpIHsKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJnN0YXR1cywgYXJndltvcHRpbmRdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZWFzb24gPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmxlbiwgYXJndltvcHRpbmRdKTsKICAgICAgICBpZihybGVuID4gMTI0KQogICAgICAgICAgcmxlbiA9IDEyNDsKICAgICAgfQogICAgICBvcHRpbmQrKzsKICAgIH0KCiAgICBvcGFxdWUgPSB3c19vcGFxdWUod3MpOwogICAgYXNzZXJ0KG9wYXF1ZSk7CgogICAgLy8gcHJpbnRmKCJtaW5uZXRfd3NfY2xvc2UgZmQ9JWQgcmVhc29uPSVzXG4iLCBsd3NfZ2V0X3NvY2tldF9mZCh3cy0+bHdzaSksIHJlYXNvbik7CiAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NJTkcpIHsKICAgICAgY29uc3Qgc3RydWN0IGx3c19wcm90b2NvbHMqIHByb3RvY29sID0gbHdzX2dldF9wcm90b2NvbCh3cy0+bHdzaSk7CgogICAgICBpZighc3RybmNtcChwcm90b2NvbC0+bmFtZSwgIndzIiwgMikpCiAgICAgICAgbHdzX2Nsb3NlX3JlYXNvbih3cy0+bHdzaSwgc3RhdHVzLCAodWludDhfdCopcmVhc29uLCBybGVuKTsKICAgIH0KCiAgICBvcGFxdWUtPnN0YXR1cyA9IENMT1NFRDsKCiAgICBsd3NfY2xvc2VfZnJlZV93c2kod3MtPmx3c2ksIHN0YXR1cywgIm1pbm5ldF93c19jbG9zZSIpOwogICAgd3MtPmx3c2kgPSAwOwoKICAgIHJldHVybiBKU19UUlVFOwogIH0KCiAgcmV0dXJuIEpTX0ZBTFNFOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3NfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YSh0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKCiAgaWYoIXdzLT5sd3NpKQogICAgcmV0dXJuIEpTX05VTEw7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBXRUJTT0NLRVRfRkQ6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzLT5sd3NpKSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX0FERFJFU1M6IHsKICAgICAgc3RydWN0IHNvY2thZGRyX2luIGFkZHI7CiAgICAgIHNvY2tsZW5fdCBhZGRybGVuID0gc2l6ZW9mKGFkZHIpOwogICAgICBpbnQgZmQgPSBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzLT5sd3NpKSk7CgogICAgICBpZihnZXRwZWVybmFtZShmZCwgKHN0cnVjdCBzb2NrYWRkciopJmFkZHIsICZhZGRybGVuKSAhPSAtMSkgewogICAgICAgIGNoYXIgYWRkcmVzc1sxMDI0XTsKICAgICAgICBsd3NfZ2V0X3BlZXJfc2ltcGxlKHdzLT5sd3NpLCBhZGRyZXNzLCBzaXplb2YoYWRkcmVzcykpOwoKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBhZGRyZXNzKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX0ZBTUlMWToKICAgIGNhc2UgV0VCU09DS0VUX1BPUlQ6IHsKICAgICAgc3RydWN0IHNvY2thZGRyX2luIGFkZHI7CiAgICAgIHNvY2tsZW5fdCBhZGRybGVuID0gc2l6ZW9mKGFkZHIpOwogICAgICBpbnQgZmQgPSBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzLT5sd3NpKSk7CgogICAgICBpZihnZXRwZWVybmFtZShmZCwgKHN0cnVjdCBzb2NrYWRkciopJmFkZHIsICZhZGRybGVuKSAhPSAtMSkgewogICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbWFnaWMgPT0gMiA/IGFkZHIuc2luX2ZhbWlseSA6IG50b2hzKGFkZHIuc2luX3BvcnQpKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX1BFRVI6IHsKICAgICAgc3RydWN0IHNvY2thZGRyX2luIGFkZHI7CiAgICAgIHNvY2tsZW5fdCBhZGRybGVuID0gc2l6ZW9mKGFkZHIpOwogICAgICBpbnQgZmQgPSBsd3NfZ2V0X3NvY2tldF9mZChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzLT5sd3NpKSk7CgogICAgICBpZihnZXRwZWVybmFtZShmZCwgKHN0cnVjdCBzb2NrYWRkciopJmFkZHIsICZhZGRybGVuKSAhPSAtMSkgewogICAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIChjb25zdCB1aW50OF90KikmYWRkciwgYWRkcmxlbik7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9TU0w6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGx3c19pc19zc2wobHdzX2dldF9uZXR3b3JrX3dzaSh3cy0+bHdzaSkpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9CSU5BUlk6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHdzX29wYXF1ZSh3cyktPmJpbmFyeSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfUkVBRFlTVEFURTogewogICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCB3c19vcGFxdWUod3MpLT5zdGF0dXMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX1BST1RPQ09MOiB7CiAgICAgIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzKiBwcm90b2NvbDsKICAgICAgaWYoKHByb3RvY29sID0gbHdzX2dldF9wcm90b2NvbCh3cy0+bHdzaSkpKQogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHByb3RvY29sLT5uYW1lKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgICAvKiBjYXNlIFdFQlNPQ0tFVF9SRVNFUlZFRF9CSVRTOiB7CiAgICAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGx3c19nZXRfcmVzZXJ2ZWRfYml0cyh3cy0+bHdzaSkpOwogICAgICAgICBicmVhazsKICAgICAgIH0KICAgICAgIGNhc2UgV0VCU09DS0VUX0ZJTkFMX0ZSQUdNRU5UOiB7CiAgICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsd3NfaXNfZmluYWxfZnJhZ21lbnQod3MtPmx3c2kpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9CiAgICAgICBjYXNlIFdFQlNPQ0tFVF9GSVJTVF9GUkFHTUVOVDogewogICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgbHdzX2lzX2ZpcnN0X2ZyYWdtZW50KHdzLT5sd3NpKSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfQogICAgICAgY2FzZSBXRUJTT0NLRVRfUEFSVElBTF9CVUZGRVJFRDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGx3c19wYXJ0aWFsX2J1ZmZlcmVkKHdzLT5sd3NpKSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewoKICAgIGNhc2UgV0VCU09DS0VUX0JJTkFSWTogewogICAgICB3c19vcGFxdWUod3MpLT5iaW5hcnkgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF93c19jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgdWludDMyX3QgZmQ7CiAgc3RydWN0IGx3cyogd3NpID0gMDsKCiAgLyogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgSlNfVG9VaW50MzIoY3R4LCAmZmQsIGFyZ3ZbMF0pOwogICAgIHdzaSA9IGx3c19hZG9wdF9zb2NrZXQoc2VydmVyLT5jb250ZXh0Lmx3cywgZmQpOwogICB9IGVsc2UgewogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJhcmd1bWVudCAxIG11c3QgYmUgZmlsZSBkZXNjcmlwdG9yIik7CiAgIH0qLwoKICBpZighKHdzID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRXZWJzb2NrZXQpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIHByaW50ZigiJXM6IG5ldyBNaW5uZXRXZWJzb2NrZXQ6ICVwXG4iLCBfX2Z1bmNfXywgd3MpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfd3NfcHJvdG8pOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIG1pbm5ldF93c19jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHdzKTsKCiAgYXNzZXJ0KHdzaSk7CgogIGlmKCh3cy0+bHdzaSA9IHdzaSkpIHsKICAgIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlID0gb3BhcXVlX25ldygwLCBjdHgpOwogICAgLy8gb3BhcXVlLT5vYmogPSBKU19WQUxVRV9HRVRfT0JKKEpTX0R1cFZhbHVlKGN0eCwgb2JqKSk7CiAgICBvcGFxdWUtPmhhbmRsZXIgPSBKU19OVUxMOwogICAgLypvcGFxdWUtPmhhbmRsZXJzWzBdID0gSlNfTlVMTDsKICAgIG9wYXF1ZS0+aGFuZGxlcnNbMV0gPSBKU19OVUxMOyovCiAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3MtPmx3c2ksIG9wYXF1ZSk7CiAgfQoKICByZXR1cm4gb2JqOwoKZmFpbDoKICBqc19mcmVlKGN0eCwgd3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIHZvaWQKbWlubmV0X3dzX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgaWYoKHdzID0gbWlubmV0X3dzX2RhdGEodmFsKSkpIHsKICAgIHdzX2ZyZWVfcnQod3MsIHJ0KTsKICB9Cn0KCkpTQ2xhc3NEZWYgbWlubmV0X3dzX2NsYXNzID0gewogICAgIk1pbm5ldFdlYnNvY2tldCIsCiAgICAuZmluYWxpemVyID0gbWlubmV0X3dzX2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJzZW5kIiwgMSwgbWlubmV0X3dzX3NlbmQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZXNwb25kIiwgMSwgbWlubmV0X3dzX3Jlc3BvbmQsIFJFU1BPTlNFX0JPRFkpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZWRpcmVjdCIsIDIsIG1pbm5ldF93c19yZXNwb25kLCBSRVNQT05TRV9SRURJUkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImhlYWRlciIsIDIsIG1pbm5ldF93c19yZXNwb25kLCBSRVNQT05TRV9IRUFERVIpLAogICAgSlNfQ0ZVTkNfREVGKCJwaW5nIiwgMSwgbWlubmV0X3dzX3BpbmcpLAogICAgSlNfQ0ZVTkNfREVGKCJwb25nIiwgMSwgbWlubmV0X3dzX3BvbmcpLAogICAgSlNfQ0ZVTkNfREVGKCJjbG9zZSIsIDEsIG1pbm5ldF93c19jbG9zZSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicHJvdG9jb2wiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUFJPVE9DT0wsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImZkIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX0ZELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFkZHJlc3MiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfQUREUkVTUywgMCksCiAgICBKU19BTElBU19ERUYoInJlbW90ZUFkZHJlc3MiLCAiYWRkcmVzcyIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImZhbWlseSIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9GQU1JTFksIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBvcnQiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUE9SVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGVlciIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9QRUVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzc2wiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfU1NMLCAwKSwKICAgIEpTX0FMSUFTX0RFRigidGxzIiwgInNzbCIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJpbmFyeSIsIG1pbm5ldF93c19nZXQsIG1pbm5ldF93c19zZXQsIFdFQlNPQ0tFVF9CSU5BUlksIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInJlYWR5U3RhdGUiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUkVBRFlTVEFURSwgMCksCiAgICAvKkpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZXNlcnZlZEJpdHMiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUkVTRVJWRURfQklUUywgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZmlyc3RGcmFnbWVudCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9GSVJTVF9GUkFHTUVOVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZmluYWxGcmFnbWVudCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9GSU5BTF9GUkFHTUVOVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGFydGlhbEJ1ZmZlcmVkIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1BBUlRJQUxfQlVGRkVSRUQsIDApLCovCiAgICBKU19BTElBU19ERUYoInJlbW90ZSIsICJwZWVyIiksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFdlYnNvY2tldCIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT05ORUNUSU5HIiwgMCwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk9QRU4iLCAxLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0lORyIsIDIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRUQiLCAzLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzW10gPSB7CiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09OTkVDVElORyIsIDAsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiT1BFTiIsIDEsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0lORyIsIDIsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VEIiwgMywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19wcm90b19kZWZzW10gPSB7CiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX05PUk1BTCIsIExXU19DTE9TRV9TVEFUVVNfTk9STUFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfR09JTkdBV0FZIiwgTFdTX0NMT1NFX1NUQVRVU19HT0lOR0FXQVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19QUk9UT0NPTF9FUlIiLCBMV1NfQ0xPU0VfU1RBVFVTX1BST1RPQ09MX0VSUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1VOQUNDRVBUQUJMRV9PUENPREUiLCBMV1NfQ0xPU0VfU1RBVFVTX1VOQUNDRVBUQUJMRV9PUENPREUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19SRVNFUlZFRCIsIExXU19DTE9TRV9TVEFUVVNfUkVTRVJWRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19OT19TVEFUVVMiLCBMV1NfQ0xPU0VfU1RBVFVTX05PX1NUQVRVUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX0FCTk9STUFMX0NMT1NFIiwgTFdTX0NMT1NFX1NUQVRVU19BQk5PUk1BTF9DTE9TRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX0lOVkFMSURfUEFZTE9BRCIsIExXU19DTE9TRV9TVEFUVVNfSU5WQUxJRF9QQVlMT0FELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfUE9MSUNZX1ZJT0xBVElPTiIsIExXU19DTE9TRV9TVEFUVVNfUE9MSUNZX1ZJT0xBVElPTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX01FU1NBR0VfVE9PX0xBUkdFIiwgTFdTX0NMT1NFX1NUQVRVU19NRVNTQUdFX1RPT19MQVJHRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX0VYVEVOU0lPTl9SRVFVSVJFRCIsIExXU19DTE9TRV9TVEFUVVNfRVhURU5TSU9OX1JFUVVJUkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfVU5FWFBFQ1RFRF9DT05ESVRJT04iLCBMV1NfQ0xPU0VfU1RBVFVTX1VORVhQRUNURURfQ09ORElUSU9OLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfVExTX0ZBSUxVUkUiLCBMV1NfQ0xPU0VfU1RBVFVTX1RMU19GQUlMVVJFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19DT05USU5VRSIsIEhUVFBfU1RBVFVTX0NPTlRJTlVFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19PSyIsIEhUVFBfU1RBVFVTX09LLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19OT19DT05URU5UIiwgSFRUUF9TVEFUVVNfTk9fQ09OVEVOVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUEFSVElBTF9DT05URU5UIiwgSFRUUF9TVEFUVVNfUEFSVElBTF9DT05URU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19NT1ZFRF9QRVJNQU5FTlRMWSIsIEhUVFBfU1RBVFVTX01PVkVEX1BFUk1BTkVOVExZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19GT1VORCIsIEhUVFBfU1RBVFVTX0ZPVU5ELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19TRUVfT1RIRVIiLCBIVFRQX1NUQVRVU19TRUVfT1RIRVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX05PVF9NT0RJRklFRCIsIEhUVFBfU1RBVFVTX05PVF9NT0RJRklFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfQkFEX1JFUVVFU1QiLCBIVFRQX1NUQVRVU19CQURfUkVRVUVTVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfVU5BVVRIT1JJWkVEIiwgSFRUUF9TVEFUVVNfVU5BVVRIT1JJWkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19QQVlNRU5UX1JFUVVJUkVEIiwgSFRUUF9TVEFUVVNfUEFZTUVOVF9SRVFVSVJFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfRk9SQklEREVOIiwgSFRUUF9TVEFUVVNfRk9SQklEREVOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19OT1RfRk9VTkQiLCBIVFRQX1NUQVRVU19OT1RfRk9VTkQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX01FVEhPRF9OT1RfQUxMT1dFRCIsIEhUVFBfU1RBVFVTX01FVEhPRF9OT1RfQUxMT1dFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTk9UX0FDQ0VQVEFCTEUiLCBIVFRQX1NUQVRVU19OT1RfQUNDRVBUQUJMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUFJPWFlfQVVUSF9SRVFVSVJFRCIsIEhUVFBfU1RBVFVTX1BST1hZX0FVVEhfUkVRVUlSRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1JFUVVFU1RfVElNRU9VVCIsIEhUVFBfU1RBVFVTX1JFUVVFU1RfVElNRU9VVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfQ09ORkxJQ1QiLCBIVFRQX1NUQVRVU19DT05GTElDVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfR09ORSIsIEhUVFBfU1RBVFVTX0dPTkUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0xFTkdUSF9SRVFVSVJFRCIsIEhUVFBfU1RBVFVTX0xFTkdUSF9SRVFVSVJFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUFJFQ09ORElUSU9OX0ZBSUxFRCIsIEhUVFBfU1RBVFVTX1BSRUNPTkRJVElPTl9GQUlMRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1JFUV9FTlRJVFlfVE9PX0xBUkdFIiwgSFRUUF9TVEFUVVNfUkVRX0VOVElUWV9UT09fTEFSR0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1JFUV9VUklfVE9PX0xPTkciLCBIVFRQX1NUQVRVU19SRVFfVVJJX1RPT19MT05HLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19VTlNVUFBPUlRFRF9NRURJQV9UWVBFIiwgSFRUUF9TVEFUVVNfVU5TVVBQT1JURURfTUVESUFfVFlQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUkVRX1JBTkdFX05PVF9TQVRJU0ZJQUJMRSIsIEhUVFBfU1RBVFVTX1JFUV9SQU5HRV9OT1RfU0FUSVNGSUFCTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0VYUEVDVEFUSU9OX0ZBSUxFRCIsIEhUVFBfU1RBVFVTX0VYUEVDVEFUSU9OX0ZBSUxFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwgSFRUUF9TVEFUVVNfSU5URVJOQUxfU0VSVkVSX0VSUk9SLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19OT1RfSU1QTEVNRU5URUQiLCBIVFRQX1NUQVRVU19OT1RfSU1QTEVNRU5URUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0JBRF9HQVRFV0FZIiwgSFRUUF9TVEFUVVNfQkFEX0dBVEVXQVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1NFUlZJQ0VfVU5BVkFJTEFCTEUiLCBIVFRQX1NUQVRVU19TRVJWSUNFX1VOQVZBSUxBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19HQVRFV0FZX1RJTUVPVVQiLCBIVFRQX1NUQVRVU19HQVRFV0FZX1RJTUVPVVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0hUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEIiwgSFRUUF9TVEFUVVNfSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQsIDApLAp9OwoKY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfd3NfcHJvdG9fZnVuY3MpOwpjb25zdCBzaXplX3QgbWlubmV0X3dzX3N0YXRpY19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzKTsKY29uc3Qgc2l6ZV90IG1pbm5ldF93c19wcm90b19kZWZzX3NpemUgPSBjb3VudG9mKG1pbm5ldF93c19wcm90b19kZWZzKTsKAAAAAAAAAAA8VgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAexUAAAAAAAB7FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2133,
					1,
					"cut",
					null,
					"AQAAAL4IAAAAAAAAvggAAAAAAAAcAAAAICAgIG9wYXF1ZS0+c2VzcyA9IHNlc3Npb247Cg",
					"AQAAAAAAAAABAAAAvggAAAAAAADaCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2134,
					2,
					"paste",
					null,
					"AgAAAL4IAAAAAAAA2ggAAAAAAAAAAAAA2ggAAAAAAAD2CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvggAAAAAAAC+CAAAAAAAAAAAAAAAAPC/"
				],
				[
					2139,
					1,
					"insert",
					{
						"characters": "ws"
					},
					"AwAAAOYIAAAAAAAA5wgAAAAAAAAAAAAA5wgAAAAAAADnCAAAAAAAAAQAAABzZXNz5wgAAAAAAADoCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5ggAAAAAAADqCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2148,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AgAAAOsIAAAAAAAA7AgAAAAAAAAAAAAA7AgAAAAAAADsCAAAAAAAAAcAAABzZXNzaW9u",
					"AQAAAAAAAAABAAAA6wgAAAAAAADyCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2157,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAADIIAAAAAAAAMwgAAAAAAAAAAAAAMwgAAAAAAAA1CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMggAAAAAAAAyCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2192,
					1,
					"cut",
					null,
					"AQAAAJwGAAAAAAAAnAYAAAAAAABTAAAAICAgIG9wYXF1ZS0+d3MgPSB3c19kdXAod3MpOwogICAgb3BhcXVlLT5zdGF0dXMgPSAwOwogICAgb3BhcXVlLT5oYW5kbGVyID0gSlNfTlVMTDs",
					"AQAAAAAAAAABAAAAnAYAAAAAAADvBgAAAAAAAAAAAAAAAPC/"
				],
				[
					2195,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AwAAAOwGAAAAAAAA7QYAAAAAAAAAAAAA4QcAAAAAAADhBwAAAAAAAAIAAAAgIO0GAAAAAAAA7gYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7AYAAAAAAADsBgAAAAAAAAAAAAAAAPC/"
				],
				[
					2197,
					1,
					"paste",
					null,
					"AQAAAO0GAAAAAAAAQAcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7QYAAAAAAADtBgAAAAAAAAAAAAAAAAAA"
				],
				[
					2199,
					1,
					"insert",
					{
						"characters": "\n\nassert"
					},
					"CwAAAOsGAAAAAAAA7AYAAAAAAAAAAAAA7AYAAAAAAADuBgAAAAAAAAAAAADuBgAAAAAAAO8GAAAAAAAAAAAAAO8GAAAAAAAA8QYAAAAAAAAAAAAA7AYAAAAAAADsBgAAAAAAAAIAAAAgIO8GAAAAAAAA8AYAAAAAAAAAAAAA8AYAAAAAAADxBgAAAAAAAAAAAADxBgAAAAAAAPIGAAAAAAAAAAAAAPIGAAAAAAAA8wYAAAAAAAAAAAAA8wYAAAAAAAD0BgAAAAAAAAAAAAD0BgAAAAAAAPUGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6wYAAAAAAADrBgAAAAAAAAAAAAAAwHJA"
				],
				[
					2200,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAPUGAAAAAAAA9wYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9QYAAAAAAAD1BgAAAAAAAAAAAAAAAPC/"
				],
				[
					2201,
					1,
					"insert",
					{
						"characters": "!opaque_>ws"
					},
					"CwAAAPYGAAAAAAAA9wYAAAAAAAAAAAAA9wYAAAAAAAD4BgAAAAAAAAAAAAD4BgAAAAAAAPkGAAAAAAAAAAAAAPkGAAAAAAAA+gYAAAAAAAAAAAAA+gYAAAAAAAD7BgAAAAAAAAAAAAD7BgAAAAAAAPwGAAAAAAAAAAAAAPwGAAAAAAAA/QYAAAAAAAAAAAAA/QYAAAAAAAD+BgAAAAAAAAAAAAD+BgAAAAAAAP8GAAAAAAAAAAAAAP8GAAAAAAAAAAcAAAAAAAAAAAAAAAcAAAAAAAABBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gYAAAAAAAD2BgAAAAAAAAAAAAAAAPC/"
				],
				[
					2203,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAAIHAAAAAAAAAwcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAgcAAAAAAAACBwAAAAAAAAAAAAAAAPC/"
				],
				[
					2209,
					1,
					"left_delete",
					null,
					"AQAAAP0GAAAAAAAA/QYAAAAAAAABAAAAXw",
					"AQAAAAAAAAABAAAA/gYAAAAAAAD+BgAAAAAAAAAAAAAAAPC/"
				],
				[
					2210,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAP0GAAAAAAAA/gYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/QYAAAAAAAD9BgAAAAAAAAAAAAAAAPC/"
				],
				[
					2244,
					2,
					"right_delete",
					null,
					"AgAAAOEWAAAAAAAA4RYAAAAAAAABAAAAKuEWAAAAAAAA4RYAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAA4RYAAAAAAADhFgAAAAAAAAAAAAAAAPC/"
				],
				[
					2245,
					1,
					"left_delete",
					null,
					"AQAAAOAWAAAAAAAA4BYAAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAA4RYAAAAAAADhFgAAAAAAAAAAAAAAAPC/"
				],
				[
					2248,
					2,
					"left_delete",
					null,
					"AgAAAPQWAAAAAAAA9BYAAAAAAAABAAAAL/MWAAAAAAAA8xYAAAAAAAABAAAAKg",
					"AQAAAAAAAAABAAAA9RYAAAAAAAD1FgAAAAAAAAAAAAAAAPC/"
				],
				[
					2261,
					2,
					"right_delete",
					null,
					"AgAAAKEVAAAAAAAAoRUAAAAAAAAGAAAAd3NfZHVwoRUAAAAAAAChFQAAAAAAAAEAAAAo",
					"AQAAAAAAAAABAAAAoRUAAAAAAACnFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2264,
					1,
					"left_delete",
					null,
					"AQAAAKQVAAAAAAAApBUAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAApRUAAAAAAAClFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2283,
					1,
					"insert",
					{
						"characters": "\nif"
					},
					"BQAAAGUVAAAAAAAAZhUAAAAAAAAAAAAAZhUAAAAAAABoFQAAAAAAAAAAAABoFQAAAAAAAGoVAAAAAAAAAAAAAGoVAAAAAAAAaxUAAAAAAAAAAAAAaxUAAAAAAABsFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZRUAAAAAAABlFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2284,
					5,
					"left_delete",
					null,
					"BQAAAGsVAAAAAAAAaxUAAAAAAAABAAAAZmoVAAAAAAAAahUAAAAAAAABAAAAaWgVAAAAAAAAaBUAAAAAAAACAAAAICBmFQAAAAAAAGYVAAAAAAAAAgAAACAgZRUAAAAAAABlFQAAAAAAAAEAAAAK",
					"AQAAAAAAAAABAAAAbBUAAAAAAABsFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2290,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAKkVAAAAAAAAqxUAAAAAAAAAAAAANRUAAAAAAAA3FQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANRUAAAAAAACpFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2297,
					1,
					"insert",
					{
						"characters": "\nif"
					},
					"AwAAADQVAAAAAAAANRUAAAAAAAAAAAAANRUAAAAAAAA2FQAAAAAAAAAAAAA2FQAAAAAAADcVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANBUAAAAAAAA0FQAAAAAAAAAAAAAAAAAA"
				],
				[
					2298,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAADcVAAAAAAAAORUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANxUAAAAAAAA3FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2299,
					1,
					"insert",
					{
						"characters": "sess"
					},
					"BAAAADgVAAAAAAAAORUAAAAAAAAAAAAAORUAAAAAAAA6FQAAAAAAAAAAAAA6FQAAAAAAADsVAAAAAAAAAAAAADsVAAAAAAAAPBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOBUAAAAAAAA4FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2301,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAD0VAAAAAAAAPhUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPRUAAAAAAAA9FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2302,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAD4VAAAAAAAAQBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPhUAAAAAAAA+FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2303,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"AwAAAD8VAAAAAAAAQBUAAAAAAAAAAAAAQBUAAAAAAABBFQAAAAAAAAAAAABAFQAAAAAAAEIVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPxUAAAAAAAA/FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2304,
					1,
					"insert",
					{
						"characters": "if"
					},
					"AgAAAEIVAAAAAAAAQxUAAAAAAAAAAAAAQxUAAAAAAABEFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQhUAAAAAAABCFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2305,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAEQVAAAAAAAARhUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARBUAAAAAAABEFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2306,
					1,
					"insert",
					{
						"characters": "IsObject8"
					},
					"CQAAAEUVAAAAAAAARhUAAAAAAAAAAAAARhUAAAAAAABHFQAAAAAAAAAAAABHFQAAAAAAAEgVAAAAAAAAAAAAAEgVAAAAAAAASRUAAAAAAAAAAAAASRUAAAAAAABKFQAAAAAAAAAAAABKFQAAAAAAAEsVAAAAAAAAAAAAAEsVAAAAAAAATBUAAAAAAAAAAAAATBUAAAAAAABNFQAAAAAAAAAAAABNFQAAAAAAAE4VAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARRUAAAAAAABFFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2307,
					1,
					"left_delete",
					null,
					"AQAAAE0VAAAAAAAATRUAAAAAAAABAAAAOA",
					"AQAAAAAAAAABAAAAThUAAAAAAABOFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2308,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAE0VAAAAAAAATxUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATRUAAAAAAABNFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2309,
					1,
					"insert",
					{
						"characters": "sess->ws_obj"
					},
					"DAAAAE4VAAAAAAAATxUAAAAAAAAAAAAATxUAAAAAAABQFQAAAAAAAAAAAABQFQAAAAAAAFEVAAAAAAAAAAAAAFEVAAAAAAAAUhUAAAAAAAAAAAAAUhUAAAAAAABTFQAAAAAAAAAAAABTFQAAAAAAAFQVAAAAAAAAAAAAAFQVAAAAAAAAVRUAAAAAAAAAAAAAVRUAAAAAAABWFQAAAAAAAAAAAABWFQAAAAAAAFcVAAAAAAAAAAAAAFcVAAAAAAAAWBUAAAAAAAAAAAAAWBUAAAAAAABZFQAAAAAAAAAAAABZFQAAAAAAAFoVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAThUAAAAAAABOFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2311,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CgAAAFwVAAAAAAAAXRUAAAAAAAAAAAAAXRUAAAAAAABfFQAAAAAAAAAAAABdFQAAAAAAAF0VAAAAAAAAAgAAACAgXRUAAAAAAABhFQAAAAAAAAAAAABhFQAAAAAAAGIVAAAAAAAAAAAAAGIVAAAAAAAAYxUAAAAAAAAAAAAAYxUAAAAAAABkFQAAAAAAAAAAAABkFQAAAAAAAGUVAAAAAAAAAAAAAGUVAAAAAAAAZhUAAAAAAAAAAAAAZhUAAAAAAABnFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXBUAAAAAAABcFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2312,
					1,
					"insert",
					{
						"characters": " JS_DuPValu"
					},
					"CwAAAGcVAAAAAAAAaBUAAAAAAAAAAAAAaBUAAAAAAABpFQAAAAAAAAAAAABpFQAAAAAAAGoVAAAAAAAAAAAAAGoVAAAAAAAAaxUAAAAAAAAAAAAAaxUAAAAAAABsFQAAAAAAAAAAAABsFQAAAAAAAG0VAAAAAAAAAAAAAG0VAAAAAAAAbhUAAAAAAAAAAAAAbhUAAAAAAABvFQAAAAAAAAAAAABvFQAAAAAAAHAVAAAAAAAAAAAAAHAVAAAAAAAAcRUAAAAAAAAAAAAAcRUAAAAAAAByFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZxUAAAAAAABnFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2313,
					5,
					"left_delete",
					null,
					"BQAAAHEVAAAAAAAAcRUAAAAAAAABAAAAdXAVAAAAAAAAcBUAAAAAAAABAAAAbG8VAAAAAAAAbxUAAAAAAAABAAAAYW4VAAAAAAAAbhUAAAAAAAABAAAAVm0VAAAAAAAAbRUAAAAAAAABAAAAUA",
					"AQAAAAAAAAABAAAAchUAAAAAAAByFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2314,
					1,
					"insert",
					{
						"characters": "pValue"
					},
					"BgAAAG0VAAAAAAAAbhUAAAAAAAAAAAAAbhUAAAAAAABvFQAAAAAAAAAAAABvFQAAAAAAAHAVAAAAAAAAAAAAAHAVAAAAAAAAcRUAAAAAAAAAAAAAcRUAAAAAAAByFQAAAAAAAAAAAAByFQAAAAAAAHMVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbRUAAAAAAABtFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2315,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAHMVAAAAAAAAdRUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxUAAAAAAABzFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2316,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAHQVAAAAAAAAdRUAAAAAAAAAAAAAdRUAAAAAAAB2FQAAAAAAAAAAAAB2FQAAAAAAAHcVAAAAAAAAAAAAAHcVAAAAAAAAeBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdBUAAAAAAAB0FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2317,
					1,
					"insert",
					{
						"characters": " ses"
					},
					"BAAAAHgVAAAAAAAAeRUAAAAAAAAAAAAAeRUAAAAAAAB6FQAAAAAAAAAAAAB6FQAAAAAAAHsVAAAAAAAAAAAAAHsVAAAAAAAAfBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeBUAAAAAAAB4FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2318,
					3,
					"left_delete",
					null,
					"AwAAAHsVAAAAAAAAexUAAAAAAAABAAAAc3oVAAAAAAAAehUAAAAAAAABAAAAZXkVAAAAAAAAeRUAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAfBUAAAAAAAB8FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2319,
					1,
					"insert",
					{
						"characters": "sess->ws_obj"
					},
					"DAAAAHkVAAAAAAAAehUAAAAAAAAAAAAAehUAAAAAAAB7FQAAAAAAAAAAAAB7FQAAAAAAAHwVAAAAAAAAAAAAAHwVAAAAAAAAfRUAAAAAAAAAAAAAfRUAAAAAAAB+FQAAAAAAAAAAAAB+FQAAAAAAAH8VAAAAAAAAAAAAAH8VAAAAAAAAgBUAAAAAAAAAAAAAgBUAAAAAAACBFQAAAAAAAAAAAACBFQAAAAAAAIIVAAAAAAAAAAAAAIIVAAAAAAAAgxUAAAAAAAAAAAAAgxUAAAAAAACEFQAAAAAAAAAAAACEFQAAAAAAAIUVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeRUAAAAAAAB5FQAAAAAAAAAAAAAAAPC/"
				],
				[
					2321,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAIYVAAAAAAAAhxUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhhUAAAAAAACGFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2334,
					1,
					"insert",
					{
						"characters": "JS_"
					},
					"AwAAAEUVAAAAAAAARhUAAAAAAAAAAAAARhUAAAAAAABHFQAAAAAAAAAAAABHFQAAAAAAAEgVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARRUAAAAAAABFFQAAAAAAAAAAAAAAAPC/"
				],
				[
					2364,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC6VgAAI2luY2x1ZGUgIm1pbm5ldC1idWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCmludDY0X3Qgd3Nfc2VyaWFsID0gMDsKClRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwoKZW51bSB7CiAgV0VCU09DS0VUX1BST1RPQ09MLAogIFdFQlNPQ0tFVF9GRCwKICBXRUJTT0NLRVRfQUREUkVTUywKICBXRUJTT0NLRVRfRkFNSUxZLAogIFdFQlNPQ0tFVF9QT1JULAogIFdFQlNPQ0tFVF9QRUVSLAogIFdFQlNPQ0tFVF9TU0wsCiAgV0VCU09DS0VUX0JJTkFSWSwKICBXRUJTT0NLRVRfUkVBRFlTVEFURSwKICBXRUJTT0NLRVRfQ09OVEVYVCwKICAvKiAgV0VCU09DS0VUX1JFU0VSVkVEX0JJVFMsCiAgICBXRUJTT0NLRVRfRklOQUxfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfRklSU1RfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfUEFSVElBTF9CVUZGRVJFRCwqLwp9OwoKZW51bSB7IFJFU1BPTlNFX0JPRFksIFJFU1BPTlNFX0hFQURFUiwgUkVTUE9OU0VfUkVESVJFQ1QgfTsKCi8qSlNWYWx1ZQptaW5uZXRfd3NfbmV3KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgd3Nfb2JqOwoKICBpZighKHdzID0gd3NfbmV3KHdzaSwgY3R4KSkpIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHdzX29iaik7CiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIH0KCiAgd3Nfb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24od3Nfb2JqKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZSh3c19vYmosIHdzKTsKCiAgcmV0dXJuIHdzX29iajsKfSovCgpNaW5uZXRXZWJzb2NrZXQqCndzX25ldyhzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoISh3cyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0V2Vic29ja2V0KSkpKQogICAgcmV0dXJuIDA7CgogIHByaW50ZigiJXM6IG5ldyBNaW5uZXRXZWJzb2NrZXQ6ICVwIHdzX25ldyglcCwgJXApXG4iLCBfX2Z1bmNfXywgd3MsIHdzaSwgc2Vzc2lvbik7CgogIHdzLT5sd3NpID0gd3NpOwogIHdzLT5yZWZfY291bnQgPSAxOwoKICBpZighKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgb3BhcXVlID0gb3BhcXVlX25ldyhzZXNzaW9uLCBjdHgpOwogICAgYXNzZXJ0KG9wYXF1ZSk7CiAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCBvcGFxdWUpOwoKCgogICAgLypvcGFxdWUtPmhhbmRsZXJzWzBdID0gSlNfTlVMTDsKICAgIG9wYXF1ZS0+aGFuZGxlcnNbMV0gPSBKU19OVUxMOyovCiAgfQoKICBhc3NlcnQoIW9wYXF1ZS0+d3MpOwoKICAgIG9wYXF1ZS0+d3MgPSB3c19kdXAod3MpOwogICAgb3BhcXVlLT5zdGF0dXMgPSAwOwogICAgb3BhcXVlLT5oYW5kbGVyID0gSlNfTlVMTDsKCiAgaWYob3BhcXVlLT5zZXNzKQogICAgb3BhcXVlLT5zZXNzLT53c19vYmogPSBtaW5uZXRfd3Nfd3JhcChjdHgsIHdzKTsKCiAgcmV0dXJuIHdzOwp9CgpzdGF0aWMgdm9pZCogcHJldl9wdHIgPSAwOwoKc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKgpvcGFxdWVfbmV3KHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSkpKSkgewogICAgb3BhcXVlLT5zZXJpYWwgPSArK3dzX3NlcmlhbDsKICAgIG9wYXF1ZS0+c3RhdHVzID0gQ09OTkVDVElORzsKICAgIG9wYXF1ZS0+c2VzcyA9IHNlc3Npb247CiAgICBvcGFxdWUtPndzID0gMDsKICAgIGxpc3RfYWRkKCZvcGFxdWUtPmxpbmssICZtaW5uZXRfc29ja2V0cyk7CiAgfQogIHJldHVybiBvcGFxdWU7Cn0KCnZvaWQKb3BhcXVlX2ZyZWVfcnQoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUsIEpTUnVudGltZSogcnQpIHsKICAvLyBwcmludGYoIiVzIG9wYXF1ZT0lcCBsaW5rPVslcCwgJXBdXG4iLCBfX2Z1bmNfXywgb3BhcXVlLCBvcGFxdWUtPmxpbmsubmV4dCwgb3BhcXVlLT5saW5rLnByZXYpOwogIHByZXZfcHRyID0gb3BhcXVlOwogIGlmKG9wYXF1ZS0+d3MpIHsKICAgIE1pbm5ldFdlYnNvY2tldCogd3MgPSBvcGFxdWUtPndzOwogICAgb3BhcXVlLT53cyA9IDA7CiAgICBpZih3cy0+bHdzaSkKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpLCAwKTsKICAgIHdzX2ZyZWVfcnQod3MsIHJ0KTsKICB9CiAgaWYob3BhcXVlLT5yZXEpIHsKICAgIHN0cnVjdCBodHRwX3JlcXVlc3QqIHJlcSA9IG9wYXF1ZS0+cmVxOwogICAgb3BhcXVlLT5yZXEgPSAwOwogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwogIH0KICBpZihvcGFxdWUtPnJlc3ApIHsKICAgIHN0cnVjdCBodHRwX3Jlc3BvbnNlKiByZXNwID0gb3BhcXVlLT5yZXNwOwogICAgb3BhcXVlLT5yZXNwID0gMDsKICAgIHJlc3BvbnNlX2ZyZWVfcnQocmVzcCwgcnQpOwogIH0KICBhc3NlcnQob3BhcXVlLT5saW5rLm5leHQpOwogIGxpc3RfZGVsKCZvcGFxdWUtPmxpbmspOwogIGpzX2ZyZWVfcnQocnQsIG9wYXF1ZSk7Cn0KCnZvaWQKb3BhcXVlX2ZyZWUoc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUsIEpTQ29udGV4dCogY3R4KSB7CiAgb3BhcXVlX2ZyZWVfcnQob3BhcXVlLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCndzX2NsZWFyX3J0KE1pbm5ldFdlYnNvY2tldCogd3MsIEpTUnVudGltZSogcnQpIHsKICBzdHJ1Y3QgbHdzKiB3c2kgPSB3cy0+bHdzaTsKICB3cy0+bHdzaSA9IDA7CiAgaWYod3NpKSB7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKICAgIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpIHsKICAgICAgaW50IHN0YXR1cyA9IG9wYXF1ZS0+c3RhdHVzOwogICAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCAwKTsKICAgICAgb3BhcXVlX2ZyZWVfcnQob3BhcXVlLCBydCk7CiAgICAgIC8qICBpZihzdGF0dXMgPCBDTE9TSU5HKQogICAgICAgICAgbHdzX2Nsb3NlX2ZyZWVfd3NpKHdzaSwgTFdTX0NMT1NFX1NUQVRVU19OT1NUQVRVUywgX19mdW5jX18pOyovCiAgICB9CiAgfQp9Cgp2b2lkCndzX2NsZWFyKE1pbm5ldFdlYnNvY2tldCogd3MsIEpTQ29udGV4dCogY3R4KSB7CiAgd3NfY2xlYXJfcnQod3MsIEpTX0dldFJ1bnRpbWUoY3R4KSk7Cn0KCnZvaWQKd3NfZnJlZV9ydChNaW5uZXRXZWJzb2NrZXQqIHdzLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS13cy0+cmVmX2NvdW50ID09IDApIHsKICAgIHdzX2NsZWFyX3J0KHdzLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCB3cyk7CiAgfQp9Cgp2b2lkCndzX2ZyZWUoTWlubmV0V2Vic29ja2V0KiB3cywgSlNDb250ZXh0KiBjdHgpIHsKICBpZigtLXdzLT5yZWZfY291bnQgPT0gMCkgewogICAgd3NfY2xlYXIod3MsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgd3MpOwogIH0KfQoKTWlubmV0V2Vic29ja2V0Kgp3c19kdXAoTWlubmV0V2Vic29ja2V0KiB3cykgewogICsrd3MtPnJlZl9jb3VudDsKICByZXR1cm4gd3M7Cn0KCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKbHdzX29wYXF1ZShzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpCiAgICByZXR1cm4gb3BhcXVlOwoKICBhc3NlcnQoY3R4KTsKCiAgb3BhcXVlID0gb3BhcXVlX25ldyhzZXNzaW9uLCBjdHgpOwoKICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCBvcGFxdWUpOwogIHJldHVybiBvcGFxdWU7Cn0KCi8qSlNWYWx1ZQptaW5uZXRfd3Nfb2JqZWN0KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgSlNWYWx1ZSB3c19vYmo7CiAgICBpZigvL29wYXF1ZS0+b2JqCiAgICAgb3BhcXVlLT53cykgewogICAgICB3c19vYmogPSBKU19EdXBWYWx1ZShjdHgsIEpTX01LUFRSKEpTX1RBR19PQkpFQ1QsIG9wYXF1ZS0+b2JqKSk7CiAgICAgICAgLy9pZighKG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB3c19vYmopKSkgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgICAgb3BhcXVlLT53cy0+cmVmX2NvdW50Kys7CiAgICB9IGVsc2UgewogICAgICB3c19vYmogPSBtaW5uZXRfd3NfZnJvbXdzaShjdHgsIHdzaSk7CiAgICAgIC8vb3BhcXVlLT5vYmogPSBKU19WQUxVRV9HRVRfT0JKKHdzX29iaik7CiAgICAgIG9wYXF1ZS0+d3MgPSBtaW5uZXRfd3NfZGF0YSh3c19vYmopOwogICAgfQogICAgcmV0dXJuIHdzX29iajsKICB9CgogIHJldHVybiBtaW5uZXRfd3NfbmV3KGN0eCwgd3NpKTsKfSovCgpKU1ZhbHVlCm1pbm5ldF93c193cmFwKEpTQ29udGV4dCogY3R4LCBNaW5uZXRXZWJzb2NrZXQqIHdzKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3dzX3Byb3RvLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgd3NfZHVwKHdzKSk7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3dzX2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSwgc3RydWN0IHNlc3Npb25fZGF0YSogc2VzcykgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgSlNWYWx1ZSByZXQ7CgppZihzZXNzKSB7CiAgaWYoSlNfSXNPYmplY3Qoc2Vzcy0+d3Nfb2JqKSkKICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHNlc3MtPndzX29iaik7Cn0KLyogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpIHsKICAgIGlmKCh3cyA9IG9wYXF1ZS0+d3MpKQogICAgICByZXR1cm4gbWlubmV0X3dzX3dyYXAoY3R4LCB3cyk7CiAgfSovCgogIGlmKCEod3MgPSB3c19uZXcod3NpLCBzZXNzLCBjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfd3NfcHJvdG8sIG1pbm5ldF93c19jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCB3cyk7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2VzcywgY3R4KSkpIHsKICAgIGFzc2VydChvcGFxdWUtPndzID09IDAgfHwgb3BhcXVlLT53cyA9PSB3cyk7CgogICAgb3BhcXVlLT53cyA9IHdzOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX3NlbmQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIGludDY0X3QgbSwgbGVuOwogIE1pbm5ldFNlc3Npb24qIHNlc3Npb247CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgTWlubmV0QnVmZmVyIGJ1ZmZlciA9IHt7MH19OwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEobSA9IGJ1ZmZlcl9mcm9tdmFsdWUoJmJ1ZmZlciwgYXJndlswXSwgY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBleHBlY3RpbmcgU3RyaW5nL0FycmF5QnVmZmVyIik7CgogIGlmKG0gPCAwKSB7CiAgICByZXQgPSBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgICBnb3RvIGZhaWw7CiAgfQoKICBsZW4gPSBidWZmZXJfQllURVMoJmJ1ZmZlcik7CgogIGlmKChzZXNzaW9uID0gd3Nfc2Vzc2lvbih3cykpKSB7CgogICAgYnVmZmVyX2FwcGVuZCgmc2Vzc2lvbi0+c2VuZF9idWYsIGJ1ZmZlci5yZWFkLCBsZW4sIGN0eCk7CiAgICBsd3NfY2FsbGJhY2tfb25fd3JpdGFibGUod3MtPmx3c2kpOwoKICB9IGVsc2UgewoKICAgIG0gPSBsd3Nfd3JpdGUod3MtPmx3c2ksIGJ1ZmZlci5yZWFkLCBidWZmZXJfQllURVMoJmJ1ZmZlciksIEpTX0lzU3RyaW5nKGFyZ3ZbMF0pID8gTFdTX1dSSVRFX1RFWFQgOiBMV1NfV1JJVEVfQklOQVJZKTsKCiAgICBpZihtIDwgbGVuKQogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibHdzIHdyaXRlIGZhaWxlZDogJSIgUFJJaTY0ICIvJSIgUFJJaTY0LCBtLCBsZW4pOwogICAgZWxzZQogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIG0pOwogIH0KCmZhaWw6CiAgYnVmZmVyX2ZyZWUoJmJ1ZmZlciwgSlNfR2V0UnVudGltZShjdHgpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX3Jlc3BvbmQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgTWlubmV0QnVmZmVyIGhlYWRlciA9IEJVRkZFUl8wKCk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9CT0RZOiB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZyA9IDA7CiAgICAgIHVpbnQzMl90IHN0YXR1cyA9IDA7CgogICAgICBKU19Ub1VpbnQzMihjdHgsICZzdGF0dXMsIGFyZ3ZbMF0pOwogICAgICBpZihhcmdjID49IDIpCiAgICAgICAgbXNnID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICAgIGx3c19yZXR1cm5faHR0cF9zdGF0dXMod3MtPmx3c2ksIHN0YXR1cywgbXNnKTsKICAgICAgaWYobXNnKQogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbXNnKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1JFRElSRUNUOiB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZyA9IDA7CiAgICAgIHNpemVfdCBsZW4gPSAwOwogICAgICB1aW50MzJfdCBzdGF0dXMgPSAwOwogICAgICBKU19Ub1VpbnQzMihjdHgsICZzdGF0dXMsIGFyZ3ZbMF0pOwoKICAgICAgaWYoYXJnYyA+PSAyKQogICAgICAgIG1zZyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIGFyZ3ZbMV0pOwogICAgICBpZihsd3NfaHR0cF9yZWRpcmVjdCh3cy0+bHdzaSwgc3RhdHVzLCAodW5zaWduZWQgY2hhciopbXNnLCBsZW4sICZoZWFkZXIud3JpdGUsIGhlYWRlci5lbmQpIDwgMCkKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIC0xKTsKICAgICAgaWYobXNnKQogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbXNnKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUjogewogICAgICBzaXplX3QgbmFtZWxlbjsKICAgICAgY29uc3QgY2hhciogbmFtZXN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZuYW1lbGVuLCBhcmd2WzBdKTsKICAgICAgY2hhciogbmFtZSA9IGpzX21hbGxvYyhjdHgsIG5hbWVsZW4gKyAyKTsKICAgICAgc2l6ZV90IGxlbjsKICAgICAgY29uc3QgY2hhciogdmFsdWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCBhcmd2WzFdKTsKICAgICAgbWVtY3B5KG5hbWUsIG5hbWVzdHIsIG5hbWVsZW4pOwogICAgICBuYW1lW25hbWVsZW5dID0gJzonOwogICAgICBuYW1lW25hbWVsZW4gKyAxXSA9ICdcMCc7CgogICAgICBpZihsd3NfYWRkX2h0dHBfaGVhZGVyX2J5X25hbWUod3MtPmx3c2ksIChjb25zdCB1aW50OF90KiluYW1lLCAoY29uc3QgdWludDhfdCopdmFsdWUsIGxlbiwgJmhlYWRlci53cml0ZSwgaGVhZGVyLmVuZCkgPCAwKQogICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgLTEpOwoKICAgICAganNfZnJlZShjdHgsIG5hbWUpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWVzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3NfcGluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3QgbGVuOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pOwogIGlmKGRhdGEpIHsKICAgIHVpbnQ4X3QgYnVmZmVyW2xlbiArIExXU19QUkVdOwogICAgbWVtY3B5KCZidWZmZXJbTFdTX1BSRV0sIGRhdGEsIGxlbik7CgogICAgaW50IG0gPSBsd3Nfd3JpdGUod3MtPmx3c2ksICZidWZmZXJbTFdTX1BSRV0sIGxlbiwgTFdTX1dSSVRFX1BJTkcpOwogICAgaWYoKHNpemVfdCltIDwgbGVuKSB7CiAgICAgIC8vIFNlbmRpbmcgcGluZyBmYWlsZWQKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgIH0KICB9IGVsc2UgewogICAgdWludDhfdCBidWZmZXJbTFdTX1BSRV07CiAgICBsd3Nfd3JpdGUod3MtPmx3c2ksICZidWZmZXJbTFdTX1BSRV0sIDAsIExXU19XUklURV9QSU5HKTsKICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX3BvbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGxlbjsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBkYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKTsKICBpZihkYXRhKSB7CiAgICB1aW50OF90IGJ1ZmZlcltsZW4gKyBMV1NfUFJFXTsKICAgIG1lbWNweSgmYnVmZmVyW0xXU19QUkVdLCBkYXRhLCBsZW4pOwoKICAgIGludCBtID0gbHdzX3dyaXRlKHdzLT5sd3NpLCAmYnVmZmVyW0xXU19QUkVdLCBsZW4sIExXU19XUklURV9QT05HKTsKICAgIGlmKChzaXplX3QpbSA8IGxlbikgewogICAgICAvLyBTZW5kaW5nIHBvbmcgZmFpbGVkCiAgICAgIHJldHVybiBKU19FWENFUFRJT047CiAgICB9CiAgfSBlbHNlIHsKICAgIHVpbnQ4X3QgYnVmZmVyW0xXU19QUkVdOwogICAgbHdzX3dyaXRlKHdzLT5sd3NpLCAmYnVmZmVyW0xXU19QUkVdLCAwLCBMV1NfV1JJVEVfUE9ORyk7CiAgfQogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19jbG9zZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgY29uc3QgY2hhciogcmVhc29uID0gMDsKICBzaXplX3QgcmxlbiA9IDA7CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYod3MtPmx3c2kpIHsKICAgIGludCBvcHRpbmQgPSAwOwogICAgaW50MzJfdCBzdGF0dXMgPSBMV1NfQ0xPU0VfU1RBVFVTX05PUk1BTDsKICAgIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICAgIHdoaWxlKG9wdGluZCA8IGFyZ2MpIHsKICAgICAgaWYoSlNfSXNOdW1iZXIoYXJndltvcHRpbmRdKSB8fCBvcHRpbmQgKyAxIDwgYXJnYykgewogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmc3RhdHVzLCBhcmd2W29wdGluZF0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJlYXNvbiA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZybGVuLCBhcmd2W29wdGluZF0pOwogICAgICAgIGlmKHJsZW4gPiAxMjQpCiAgICAgICAgICBybGVuID0gMTI0OwogICAgICB9CiAgICAgIG9wdGluZCsrOwogICAgfQoKICAgIG9wYXF1ZSA9IHdzX29wYXF1ZSh3cyk7CiAgICBhc3NlcnQob3BhcXVlKTsKCiAgICAvLyBwcmludGYoIm1pbm5ldF93c19jbG9zZSBmZD0lZCByZWFzb249JXNcbiIsIGx3c19nZXRfc29ja2V0X2ZkKHdzLT5sd3NpKSwgcmVhc29uKTsKICAgIGlmKG9wYXF1ZS0+c3RhdHVzIDwgQ0xPU0lORykgewogICAgICBjb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29scyogcHJvdG9jb2wgPSBsd3NfZ2V0X3Byb3RvY29sKHdzLT5sd3NpKTsKCiAgICAgIGlmKCFzdHJuY21wKHByb3RvY29sLT5uYW1lLCAid3MiLCAyKSkKICAgICAgICBsd3NfY2xvc2VfcmVhc29uKHdzLT5sd3NpLCBzdGF0dXMsICh1aW50OF90KilyZWFzb24sIHJsZW4pOwogICAgfQoKICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwoKICAgIGx3c19jbG9zZV9mcmVlX3dzaSh3cy0+bHdzaSwgc3RhdHVzLCAibWlubmV0X3dzX2Nsb3NlIik7CiAgICB3cy0+bHdzaSA9IDA7CgogICAgcmV0dXJuIEpTX1RSVUU7CiAgfQoKICByZXR1cm4gSlNfRkFMU0U7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhKHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwoKICBpZighd3MtPmx3c2kpCiAgICByZXR1cm4gSlNfTlVMTDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFdFQlNPQ0tFVF9GRDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3MtPmx3c2kpKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfQUREUkVTUzogewogICAgICBzdHJ1Y3Qgc29ja2FkZHJfaW4gYWRkcjsKICAgICAgc29ja2xlbl90IGFkZHJsZW4gPSBzaXplb2YoYWRkcik7CiAgICAgIGludCBmZCA9IGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3MtPmx3c2kpKTsKCiAgICAgIGlmKGdldHBlZXJuYW1lKGZkLCAoc3RydWN0IHNvY2thZGRyKikmYWRkciwgJmFkZHJsZW4pICE9IC0xKSB7CiAgICAgICAgY2hhciBhZGRyZXNzWzEwMjRdOwogICAgICAgIGx3c19nZXRfcGVlcl9zaW1wbGUod3MtPmx3c2ksIGFkZHJlc3MsIHNpemVvZihhZGRyZXNzKSk7CgogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIGFkZHJlc3MpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfRkFNSUxZOgogICAgY2FzZSBXRUJTT0NLRVRfUE9SVDogewogICAgICBzdHJ1Y3Qgc29ja2FkZHJfaW4gYWRkcjsKICAgICAgc29ja2xlbl90IGFkZHJsZW4gPSBzaXplb2YoYWRkcik7CiAgICAgIGludCBmZCA9IGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3MtPmx3c2kpKTsKCiAgICAgIGlmKGdldHBlZXJuYW1lKGZkLCAoc3RydWN0IHNvY2thZGRyKikmYWRkciwgJmFkZHJsZW4pICE9IC0xKSB7CiAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBtYWdpYyA9PSAyID8gYWRkci5zaW5fZmFtaWx5IDogbnRvaHMoYWRkci5zaW5fcG9ydCkpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfUEVFUjogewogICAgICBzdHJ1Y3Qgc29ja2FkZHJfaW4gYWRkcjsKICAgICAgc29ja2xlbl90IGFkZHJsZW4gPSBzaXplb2YoYWRkcik7CiAgICAgIGludCBmZCA9IGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3MtPmx3c2kpKTsKCiAgICAgIGlmKGdldHBlZXJuYW1lKGZkLCAoc3RydWN0IHNvY2thZGRyKikmYWRkciwgJmFkZHJsZW4pICE9IC0xKSB7CiAgICAgICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgKGNvbnN0IHVpbnQ4X3QqKSZhZGRyLCBhZGRybGVuKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX1NTTDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgbHdzX2lzX3NzbChsd3NfZ2V0X25ldHdvcmtfd3NpKHdzLT5sd3NpKSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX0JJTkFSWTogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgd3Nfb3BhcXVlKHdzKS0+YmluYXJ5KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9SRUFEWVNUQVRFOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIHdzX29wYXF1ZSh3cyktPnN0YXR1cyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfUFJPVE9DT0w6IHsKICAgICAgY29uc3Qgc3RydWN0IGx3c19wcm90b2NvbHMqIHByb3RvY29sOwogICAgICBpZigocHJvdG9jb2wgPSBsd3NfZ2V0X3Byb3RvY29sKHdzLT5sd3NpKSkpCiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgcHJvdG9jb2wtPm5hbWUpOwogICAgICBicmVhazsKICAgIH0KCiAgICAgIC8qIGNhc2UgV0VCU09DS0VUX1JFU0VSVkVEX0JJVFM6IHsKICAgICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgbHdzX2dldF9yZXNlcnZlZF9iaXRzKHdzLT5sd3NpKSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfQogICAgICAgY2FzZSBXRUJTT0NLRVRfRklOQUxfRlJBR01FTlQ6IHsKICAgICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGx3c19pc19maW5hbF9mcmFnbWVudCh3cy0+bHdzaSkpOwogICAgICAgICBicmVhazsKICAgICAgIH0KICAgICAgIGNhc2UgV0VCU09DS0VUX0ZJUlNUX0ZSQUdNRU5UOiB7CiAgICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsd3NfaXNfZmlyc3RfZnJhZ21lbnQod3MtPmx3c2kpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9CiAgICAgICBjYXNlIFdFQlNPQ0tFVF9QQVJUSUFMX0JVRkZFUkVEOiB7CiAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbHdzX3BhcnRpYWxfYnVmZmVyZWQod3MtPmx3c2kpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CgogICAgY2FzZSBXRUJTT0NLRVRfQklOQVJZOiB7CiAgICAgIHdzX29wYXF1ZSh3cyktPmJpbmFyeSA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3dzX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICB1aW50MzJfdCBmZDsKICBzdHJ1Y3QgbHdzKiB3c2kgPSAwOwoKICAvKiAgaWYoYXJnYyA+IDAgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgICBKU19Ub1VpbnQzMihjdHgsICZmZCwgYXJndlswXSk7CiAgICAgd3NpID0gbHdzX2Fkb3B0X3NvY2tldChzZXJ2ZXItPmNvbnRleHQubHdzLCBmZCk7CiAgIH0gZWxzZSB7CiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImFyZ3VtZW50IDEgbXVzdCBiZSBmaWxlIGRlc2NyaXB0b3IiKTsKICAgfSovCgogIGlmKCEod3MgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFdlYnNvY2tldCkpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CiAgcHJpbnRmKCIlczogbmV3IE1pbm5ldFdlYnNvY2tldDogJXBcbiIsIF9fZnVuY19fLCB3cyk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF93c19wcm90byk7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgSlNfU2V0T3BhcXVlKG9iaiwgd3MpOwoKICBhc3NlcnQod3NpKTsKCiAgaWYoKHdzLT5sd3NpID0gd3NpKSkgewogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWUgPSBvcGFxdWVfbmV3KDAsIGN0eCk7CiAgICAvLyBvcGFxdWUtPm9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooSlNfRHVwVmFsdWUoY3R4LCBvYmopKTsKICAgIG9wYXF1ZS0+aGFuZGxlciA9IEpTX05VTEw7CiAgICAvKm9wYXF1ZS0+aGFuZGxlcnNbMF0gPSBKU19OVUxMOwogICAgb3BhcXVlLT5oYW5kbGVyc1sxXSA9IEpTX05VTEw7Ki8KICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSwgb3BhcXVlKTsKICB9CgogIHJldHVybiBvYmo7CgpmYWlsOgogIGpzX2ZyZWUoY3R4LCB3cyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZAptaW5uZXRfd3NfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBpZigod3MgPSBtaW5uZXRfd3NfZGF0YSh2YWwpKSkgewogICAgd3NfZnJlZV9ydCh3cywgcnQpOwogIH0KfQoKSlNDbGFzc0RlZiBtaW5uZXRfd3NfY2xhc3MgPSB7CiAgICAiTWlubmV0V2Vic29ja2V0IiwKICAgIC5maW5hbGl6ZXIgPSBtaW5uZXRfd3NfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoInNlbmQiLCAxLCBtaW5uZXRfd3Nfc2VuZCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJlc3BvbmQiLCAxLCBtaW5uZXRfd3NfcmVzcG9uZCwgUkVTUE9OU0VfQk9EWSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJlZGlyZWN0IiwgMiwgbWlubmV0X3dzX3Jlc3BvbmQsIFJFU1BPTlNFX1JFRElSRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaGVhZGVyIiwgMiwgbWlubmV0X3dzX3Jlc3BvbmQsIFJFU1BPTlNFX0hFQURFUiksCiAgICBKU19DRlVOQ19ERUYoInBpbmciLCAxLCBtaW5uZXRfd3NfcGluZyksCiAgICBKU19DRlVOQ19ERUYoInBvbmciLCAxLCBtaW5uZXRfd3NfcG9uZyksCiAgICBKU19DRlVOQ19ERUYoImNsb3NlIiwgMSwgbWlubmV0X3dzX2Nsb3NlKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwcm90b2NvbCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9QUk9UT0NPTCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZmQiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfRkQsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYWRkcmVzcyIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9BRERSRVNTLCAwKSwKICAgIEpTX0FMSUFTX0RFRigicmVtb3RlQWRkcmVzcyIsICJhZGRyZXNzIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZmFtaWx5IiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX0ZBTUlMWSwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicG9ydCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9QT1JULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwZWVyIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1BFRVIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInNzbCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9TU0wsIDApLAogICAgSlNfQUxJQVNfREVGKCJ0bHMiLCAic3NsIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYmluYXJ5IiwgbWlubmV0X3dzX2dldCwgbWlubmV0X3dzX3NldCwgV0VCU09DS0VUX0JJTkFSWSwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicmVhZHlTdGF0ZSIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9SRUFEWVNUQVRFLCAwKSwKICAgIC8qSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInJlc2VydmVkQml0cyIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9SRVNFUlZFRF9CSVRTLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJmaXJzdEZyYWdtZW50IiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX0ZJUlNUX0ZSQUdNRU5ULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJmaW5hbEZyYWdtZW50IiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX0ZJTkFMX0ZSQUdNRU5ULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwYXJ0aWFsQnVmZmVyZWQiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUEFSVElBTF9CVUZGRVJFRCwgMCksKi8KICAgIEpTX0FMSUFTX0RFRigicmVtb3RlIiwgInBlZXIiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiTWlubmV0V2Vic29ja2V0IiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTk5FQ1RJTkciLCAwLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiT1BFTiIsIDEsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TSU5HIiwgMiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFRCIsIDMsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF93c19zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT05ORUNUSU5HIiwgMCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJPUEVOIiwgMSwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TSU5HIiwgMiwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRUQiLCAzLCBKU19QUk9QX0VOVU1FUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3Byb3RvX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfTk9STUFMIiwgTFdTX0NMT1NFX1NUQVRVU19OT1JNQUwsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19HT0lOR0FXQVkiLCBMV1NfQ0xPU0VfU1RBVFVTX0dPSU5HQVdBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1BST1RPQ09MX0VSUiIsIExXU19DTE9TRV9TVEFUVVNfUFJPVE9DT0xfRVJSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfVU5BQ0NFUFRBQkxFX09QQ09ERSIsIExXU19DTE9TRV9TVEFUVVNfVU5BQ0NFUFRBQkxFX09QQ09ERSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1JFU0VSVkVEIiwgTFdTX0NMT1NFX1NUQVRVU19SRVNFUlZFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX05PX1NUQVRVUyIsIExXU19DTE9TRV9TVEFUVVNfTk9fU1RBVFVTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfQUJOT1JNQUxfQ0xPU0UiLCBMV1NfQ0xPU0VfU1RBVFVTX0FCTk9STUFMX0NMT1NFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfSU5WQUxJRF9QQVlMT0FEIiwgTFdTX0NMT1NFX1NUQVRVU19JTlZBTElEX1BBWUxPQUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19QT0xJQ1lfVklPTEFUSU9OIiwgTFdTX0NMT1NFX1NUQVRVU19QT0xJQ1lfVklPTEFUSU9OLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfTUVTU0FHRV9UT09fTEFSR0UiLCBMV1NfQ0xPU0VfU1RBVFVTX01FU1NBR0VfVE9PX0xBUkdFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfRVhURU5TSU9OX1JFUVVJUkVEIiwgTFdTX0NMT1NFX1NUQVRVU19FWFRFTlNJT05fUkVRVUlSRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19VTkVYUEVDVEVEX0NPTkRJVElPTiIsIExXU19DTE9TRV9TVEFUVVNfVU5FWFBFQ1RFRF9DT05ESVRJT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19UTFNfRkFJTFVSRSIsIExXU19DTE9TRV9TVEFUVVNfVExTX0ZBSUxVUkUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0NPTlRJTlVFIiwgSFRUUF9TVEFUVVNfQ09OVElOVUUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX09LIiwgSFRUUF9TVEFUVVNfT0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX05PX0NPTlRFTlQiLCBIVFRQX1NUQVRVU19OT19DT05URU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19QQVJUSUFMX0NPTlRFTlQiLCBIVFRQX1NUQVRVU19QQVJUSUFMX0NPTlRFTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX01PVkVEX1BFUk1BTkVOVExZIiwgSFRUUF9TVEFUVVNfTU9WRURfUEVSTUFORU5UTFksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0ZPVU5EIiwgSFRUUF9TVEFUVVNfRk9VTkQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1NFRV9PVEhFUiIsIEhUVFBfU1RBVFVTX1NFRV9PVEhFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTk9UX01PRElGSUVEIiwgSFRUUF9TVEFUVVNfTk9UX01PRElGSUVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19CQURfUkVRVUVTVCIsIEhUVFBfU1RBVFVTX0JBRF9SRVFVRVNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19VTkFVVEhPUklaRUQiLCBIVFRQX1NUQVRVU19VTkFVVEhPUklaRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1BBWU1FTlRfUkVRVUlSRUQiLCBIVFRQX1NUQVRVU19QQVlNRU5UX1JFUVVJUkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19GT1JCSURERU4iLCBIVFRQX1NUQVRVU19GT1JCSURERU4sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX05PVF9GT1VORCIsIEhUVFBfU1RBVFVTX05PVF9GT1VORCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTUVUSE9EX05PVF9BTExPV0VEIiwgSFRUUF9TVEFUVVNfTUVUSE9EX05PVF9BTExPV0VELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19OT1RfQUNDRVBUQUJMRSIsIEhUVFBfU1RBVFVTX05PVF9BQ0NFUFRBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19QUk9YWV9BVVRIX1JFUVVJUkVEIiwgSFRUUF9TVEFUVVNfUFJPWFlfQVVUSF9SRVFVSVJFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUkVRVUVTVF9USU1FT1VUIiwgSFRUUF9TVEFUVVNfUkVRVUVTVF9USU1FT1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19DT05GTElDVCIsIEhUVFBfU1RBVFVTX0NPTkZMSUNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19HT05FIiwgSFRUUF9TVEFUVVNfR09ORSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTEVOR1RIX1JFUVVJUkVEIiwgSFRUUF9TVEFUVVNfTEVOR1RIX1JFUVVJUkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19QUkVDT05ESVRJT05fRkFJTEVEIiwgSFRUUF9TVEFUVVNfUFJFQ09ORElUSU9OX0ZBSUxFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUkVRX0VOVElUWV9UT09fTEFSR0UiLCBIVFRQX1NUQVRVU19SRVFfRU5USVRZX1RPT19MQVJHRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUkVRX1VSSV9UT09fTE9ORyIsIEhUVFBfU1RBVFVTX1JFUV9VUklfVE9PX0xPTkcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1VOU1VQUE9SVEVEX01FRElBX1RZUEUiLCBIVFRQX1NUQVRVU19VTlNVUFBPUlRFRF9NRURJQV9UWVBFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19SRVFfUkFOR0VfTk9UX1NBVElTRklBQkxFIiwgSFRUUF9TVEFUVVNfUkVRX1JBTkdFX05PVF9TQVRJU0ZJQUJMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfRVhQRUNUQVRJT05fRkFJTEVEIiwgSFRUUF9TVEFUVVNfRVhQRUNUQVRJT05fRkFJTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19JTlRFUk5BTF9TRVJWRVJfRVJST1IiLCBIVFRQX1NUQVRVU19JTlRFUk5BTF9TRVJWRVJfRVJST1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX05PVF9JTVBMRU1FTlRFRCIsIEhUVFBfU1RBVFVTX05PVF9JTVBMRU1FTlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfQkFEX0dBVEVXQVkiLCBIVFRQX1NUQVRVU19CQURfR0FURVdBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfU0VSVklDRV9VTkFWQUlMQUJMRSIsIEhUVFBfU1RBVFVTX1NFUlZJQ0VfVU5BVkFJTEFCTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0dBVEVXQVlfVElNRU9VVCIsIEhUVFBfU1RBVFVTX0dBVEVXQVlfVElNRU9VVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQiLCBIVFRQX1NUQVRVU19IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRCwgMCksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKG1pbm5ldF93c19wcm90b19mdW5jcyk7CmNvbnN0IHNpemVfdCBtaW5uZXRfd3Nfc3RhdGljX2Z1bmNzX3NpemUgPSBjb3VudG9mKG1pbm5ldF93c19zdGF0aWNfZnVuY3MpOwpjb25zdCBzaXplX3QgbWlubmV0X3dzX3Byb3RvX2RlZnNfc2l6ZSA9IGNvdW50b2YobWlubmV0X3dzX3Byb3RvX2RlZnMpOwoAAAAAAAAAAMJWAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATQUAAAAAAABqBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2367,
					1,
					"insert",
					{
						"characters": "wsi="
					},
					"BAAAALEFAAAAAAAAsgUAAAAAAAAAAAAAsgUAAAAAAACzBQAAAAAAAAAAAACzBQAAAAAAALQFAAAAAAAAAAAAALQFAAAAAAAAtQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQUAAAAAAACxBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2369,
					1,
					"insert",
					{
						"characters": "session="
					},
					"CAAAALkFAAAAAAAAugUAAAAAAAAAAAAAugUAAAAAAAC7BQAAAAAAAAAAAAC7BQAAAAAAALwFAAAAAAAAAAAAALwFAAAAAAAAvQUAAAAAAAAAAAAAvQUAAAAAAAC+BQAAAAAAAAAAAAC+BQAAAAAAAL8FAAAAAAAAAAAAAL8FAAAAAAAAwAUAAAAAAAAAAAAAwAUAAAAAAADBBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQUAAAAAAAC5BQAAAAAAAAAAAAAAAPC/"
				],
				[
					2371,
					1,
					"insert",
					{
						"characters": "ws="
					},
					"AwAAAKcFAAAAAAAAqAUAAAAAAAAAAAAAqAUAAAAAAACpBQAAAAAAAAAAAACpBQAAAAAAAKoFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApwUAAAAAAACnBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2375,
					1,
					"insert",
					{
						"characters": " opaque=%p"
					},
					"CgAAAKwFAAAAAAAArQUAAAAAAAAAAAAArQUAAAAAAACuBQAAAAAAAAAAAACuBQAAAAAAAK8FAAAAAAAAAAAAAK8FAAAAAAAAsAUAAAAAAAAAAAAAsAUAAAAAAACxBQAAAAAAAAAAAACxBQAAAAAAALIFAAAAAAAAAAAAALIFAAAAAAAAswUAAAAAAAAAAAAAswUAAAAAAAC0BQAAAAAAAAAAAAC0BQAAAAAAALUFAAAAAAAAAAAAALUFAAAAAAAAtgUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArAUAAAAAAACsBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2379,
					1,
					"insert",
					{
						"characters": "opaque,"
					},
					"BwAAAOQFAAAAAAAA5QUAAAAAAAAAAAAA5QUAAAAAAADmBQAAAAAAAAAAAADmBQAAAAAAAOcFAAAAAAAAAAAAAOcFAAAAAAAA6AUAAAAAAAAAAAAA6AUAAAAAAADpBQAAAAAAAAAAAADpBQAAAAAAAOoFAAAAAAAAAAAAAOoFAAAAAAAA6wUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5AUAAAAAAADkBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2380,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOsFAAAAAAAA7AUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6wUAAAAAAADrBQAAAAAAAAAAAAAAAPC/"
				],
				[
					2384,
					1,
					"cut",
					null,
					"AQAAAIQFAAAAAAAAhAUAAAAAAAB4AAAAICBwcmludGYoIiVzOiBuZXcgTWlubmV0V2Vic29ja2V0OiB3cz0lcCBvcGFxdWU9JXAgd3NfbmV3KHdzaT0lcCwgc2Vzc2lvbj0lcClcbiIsIF9fZnVuY19fLCB3cywgb3BhcXVlLCB3c2ksIHNlc3Npb24pOwoK",
					"AQAAAAAAAAABAAAAhAUAAAAAAAD8BQAAAAAAAAAAAAAAAAAA"
				],
				[
					2387,
					1,
					"paste",
					null,
					"AQAAAJQGAAAAAAAADAcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlAYAAAAAAACUBgAAAAAAAAAAAAAAAAAA"
				],
				[
					2393,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADjVgAAI2luY2x1ZGUgIm1pbm5ldC1idWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXIuaCIKI2luY2x1ZGUgIm1pbm5ldC1zZXJ2ZXItaHR0cC5oIgojaW5jbHVkZSAibWlubmV0LXJlcXVlc3QuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LmgiCiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCmludDY0X3Qgd3Nfc2VyaWFsID0gMDsKClRIUkVBRF9MT0NBTCBKU1ZhbHVlIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3dzX2NsYXNzX2lkOwoKZW51bSB7CiAgV0VCU09DS0VUX1BST1RPQ09MLAogIFdFQlNPQ0tFVF9GRCwKICBXRUJTT0NLRVRfQUREUkVTUywKICBXRUJTT0NLRVRfRkFNSUxZLAogIFdFQlNPQ0tFVF9QT1JULAogIFdFQlNPQ0tFVF9QRUVSLAogIFdFQlNPQ0tFVF9TU0wsCiAgV0VCU09DS0VUX0JJTkFSWSwKICBXRUJTT0NLRVRfUkVBRFlTVEFURSwKICBXRUJTT0NLRVRfQ09OVEVYVCwKICAvKiAgV0VCU09DS0VUX1JFU0VSVkVEX0JJVFMsCiAgICBXRUJTT0NLRVRfRklOQUxfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfRklSU1RfRlJBR01FTlQsCiAgICBXRUJTT0NLRVRfUEFSVElBTF9CVUZGRVJFRCwqLwp9OwoKZW51bSB7IFJFU1BPTlNFX0JPRFksIFJFU1BPTlNFX0hFQURFUiwgUkVTUE9OU0VfUkVESVJFQ1QgfTsKCi8qSlNWYWx1ZQptaW5uZXRfd3NfbmV3KEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2kpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgd3Nfb2JqOwoKICBpZighKHdzID0gd3NfbmV3KHdzaSwgY3R4KSkpIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHdzX29iaik7CiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogIH0KCiAgd3Nfb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24od3Nfb2JqKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZSh3c19vYmosIHdzKTsKCiAgcmV0dXJuIHdzX29iajsKfSovCgpNaW5uZXRXZWJzb2NrZXQqCndzX25ldyhzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3Npb24sIEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZTsKCiAgaWYoISh3cyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0V2Vic29ja2V0KSkpKQogICAgcmV0dXJuIDA7CgogIHdzLT5sd3NpID0gd3NpOwogIHdzLT5yZWZfY291bnQgPSAxOwoKICBpZighKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgb3BhcXVlID0gb3BhcXVlX25ldyhzZXNzaW9uLCBjdHgpOwogICAgYXNzZXJ0KG9wYXF1ZSk7CiAgICBsd3Nfc2V0X29wYXF1ZV91c2VyX2RhdGEod3NpLCBvcGFxdWUpOwoKICAgIC8qb3BhcXVlLT5oYW5kbGVyc1swXSA9IEpTX05VTEw7CiAgICBvcGFxdWUtPmhhbmRsZXJzWzFdID0gSlNfTlVMTDsqLwogIH0KCiAgcHJpbnRmKCIlczogbmV3IE1pbm5ldFdlYnNvY2tldDogd3M9JXAgb3BhcXVlPSVwIHdzX25ldyh3c2k9JXAsIHNlc3Npb249JXApXG4iLCBfX2Z1bmNfXywgd3MsIG9wYXF1ZSwgd3NpLCBzZXNzaW9uKTsKCiAgYXNzZXJ0KCFvcGFxdWUtPndzKTsKCiAgb3BhcXVlLT53cyA9IHdzX2R1cCh3cyk7CiAgb3BhcXVlLT5zdGF0dXMgPSAwOwogIG9wYXF1ZS0+aGFuZGxlciA9IEpTX05VTEw7CgogIGlmKG9wYXF1ZS0+c2VzcykKICAgIG9wYXF1ZS0+c2Vzcy0+d3Nfb2JqID0gbWlubmV0X3dzX3dyYXAoY3R4LCB3cyk7CgogIHJldHVybiB3czsKfQoKc3RhdGljIHZvaWQqIHByZXZfcHRyID0gMDsKCnN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSoKb3BhcXVlX25ldyhzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzaW9uLCBKU0NvbnRleHQqIGN0eCkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEpKSkpIHsKICAgIG9wYXF1ZS0+c2VyaWFsID0gKyt3c19zZXJpYWw7CiAgICBvcGFxdWUtPnN0YXR1cyA9IENPTk5FQ1RJTkc7CiAgICBvcGFxdWUtPnNlc3MgPSBzZXNzaW9uOwogICAgb3BhcXVlLT53cyA9IDA7CiAgICBsaXN0X2FkZCgmb3BhcXVlLT5saW5rLCAmbWlubmV0X3NvY2tldHMpOwogIH0KICByZXR1cm4gb3BhcXVlOwp9Cgp2b2lkCm9wYXF1ZV9mcmVlX3J0KHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlLCBKU1J1bnRpbWUqIHJ0KSB7CiAgLy8gcHJpbnRmKCIlcyBvcGFxdWU9JXAgbGluaz1bJXAsICVwXVxuIiwgX19mdW5jX18sIG9wYXF1ZSwgb3BhcXVlLT5saW5rLm5leHQsIG9wYXF1ZS0+bGluay5wcmV2KTsKICBwcmV2X3B0ciA9IG9wYXF1ZTsKICBpZihvcGFxdWUtPndzKSB7CiAgICBNaW5uZXRXZWJzb2NrZXQqIHdzID0gb3BhcXVlLT53czsKICAgIG9wYXF1ZS0+d3MgPSAwOwogICAgaWYod3MtPmx3c2kpCiAgICAgIGx3c19zZXRfb3BhcXVlX3VzZXJfZGF0YSh3cy0+bHdzaSwgMCk7CiAgICB3c19mcmVlX3J0KHdzLCBydCk7CiAgfQogIGlmKG9wYXF1ZS0+cmVxKSB7CiAgICBzdHJ1Y3QgaHR0cF9yZXF1ZXN0KiByZXEgPSBvcGFxdWUtPnJlcTsKICAgIG9wYXF1ZS0+cmVxID0gMDsKICAgIHJlcXVlc3RfZnJlZV9ydChyZXEsIHJ0KTsKICB9CiAgaWYob3BhcXVlLT5yZXNwKSB7CiAgICBzdHJ1Y3QgaHR0cF9yZXNwb25zZSogcmVzcCA9IG9wYXF1ZS0+cmVzcDsKICAgIG9wYXF1ZS0+cmVzcCA9IDA7CiAgICByZXNwb25zZV9mcmVlX3J0KHJlc3AsIHJ0KTsKICB9CiAgYXNzZXJ0KG9wYXF1ZS0+bGluay5uZXh0KTsKICBsaXN0X2RlbCgmb3BhcXVlLT5saW5rKTsKICBqc19mcmVlX3J0KHJ0LCBvcGFxdWUpOwp9Cgp2b2lkCm9wYXF1ZV9mcmVlKHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlLCBKU0NvbnRleHQqIGN0eCkgewogIG9wYXF1ZV9mcmVlX3J0KG9wYXF1ZSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZAp3c19jbGVhcl9ydChNaW5uZXRXZWJzb2NrZXQqIHdzLCBKU1J1bnRpbWUqIHJ0KSB7CiAgc3RydWN0IGx3cyogd3NpID0gd3MtPmx3c2k7CiAgd3MtPmx3c2kgPSAwOwogIGlmKHdzaSkgewogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CiAgICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKSB7CiAgICAgIGludCBzdGF0dXMgPSBvcGFxdWUtPnN0YXR1czsKICAgICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgMCk7CiAgICAgIG9wYXF1ZV9mcmVlX3J0KG9wYXF1ZSwgcnQpOwogICAgICAvKiAgaWYoc3RhdHVzIDwgQ0xPU0lORykKICAgICAgICAgIGx3c19jbG9zZV9mcmVlX3dzaSh3c2ksIExXU19DTE9TRV9TVEFUVVNfTk9TVEFUVVMsIF9fZnVuY19fKTsqLwogICAgfQogIH0KfQoKdm9pZAp3c19jbGVhcihNaW5uZXRXZWJzb2NrZXQqIHdzLCBKU0NvbnRleHQqIGN0eCkgewogIHdzX2NsZWFyX3J0KHdzLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCndzX2ZyZWVfcnQoTWlubmV0V2Vic29ja2V0KiB3cywgSlNSdW50aW1lKiBydCkgewogIGlmKC0td3MtPnJlZl9jb3VudCA9PSAwKSB7CiAgICB3c19jbGVhcl9ydCh3cywgcnQpOwogICAganNfZnJlZV9ydChydCwgd3MpOwogIH0KfQoKdm9pZAp3c19mcmVlKE1pbm5ldFdlYnNvY2tldCogd3MsIEpTQ29udGV4dCogY3R4KSB7CiAgaWYoLS13cy0+cmVmX2NvdW50ID09IDApIHsKICAgIHdzX2NsZWFyKHdzLCBjdHgpOwogICAganNfZnJlZShjdHgsIHdzKTsKICB9Cn0KCk1pbm5ldFdlYnNvY2tldCoKd3NfZHVwKE1pbm5ldFdlYnNvY2tldCogd3MpIHsKICArK3dzLT5yZWZfY291bnQ7CiAgcmV0dXJuIHdzOwp9CgpzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqCmx3c19vcGFxdWUoc3RydWN0IGx3cyogd3NpLCBzdHJ1Y3Qgc2Vzc2lvbl9kYXRhKiBzZXNzaW9uLCBKU0NvbnRleHQqIGN0eCkgewogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwoKICBpZigob3BhcXVlID0gbHdzX2dldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSkpKQogICAgcmV0dXJuIG9wYXF1ZTsKCiAgYXNzZXJ0KGN0eCk7CgogIG9wYXF1ZSA9IG9wYXF1ZV9uZXcoc2Vzc2lvbiwgY3R4KTsKCiAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzaSwgb3BhcXVlKTsKICByZXR1cm4gb3BhcXVlOwp9CgovKkpTVmFsdWUKbWlubmV0X3dzX29iamVjdChKU0NvbnRleHQqIGN0eCwgc3RydWN0IGx3cyogd3NpKSB7CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKChvcGFxdWUgPSBsd3NfZ2V0X29wYXF1ZV91c2VyX2RhdGEod3NpKSkpIHsKICAgIEpTVmFsdWUgd3Nfb2JqOwogICAgaWYoLy9vcGFxdWUtPm9iagogICAgIG9wYXF1ZS0+d3MpIHsKICAgICAgd3Nfb2JqID0gSlNfRHVwVmFsdWUoY3R4LCBKU19NS1BUUihKU19UQUdfT0JKRUNULCBvcGFxdWUtPm9iaikpOwogICAgICAgIC8vaWYoIShvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgd3Nfb2JqKSkpIHJldHVybiBKU19FWENFUFRJT047CiAgICAgIG9wYXF1ZS0+d3MtPnJlZl9jb3VudCsrOwogICAgfSBlbHNlIHsKICAgICAgd3Nfb2JqID0gbWlubmV0X3dzX2Zyb213c2koY3R4LCB3c2kpOwogICAgICAvL29wYXF1ZS0+b2JqID0gSlNfVkFMVUVfR0VUX09CSih3c19vYmopOwogICAgICBvcGFxdWUtPndzID0gbWlubmV0X3dzX2RhdGEod3Nfb2JqKTsKICAgIH0KICAgIHJldHVybiB3c19vYmo7CiAgfQoKICByZXR1cm4gbWlubmV0X3dzX25ldyhjdHgsIHdzaSk7Cn0qLwoKSlNWYWx1ZQptaW5uZXRfd3Nfd3JhcChKU0NvbnRleHQqIGN0eCwgTWlubmV0V2Vic29ja2V0KiB3cykgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZShyZXQsIHdzX2R1cCh3cykpOwoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF93c19mcm9td3NpKEpTQ29udGV4dCogY3R4LCBzdHJ1Y3QgbHdzKiB3c2ksIHN0cnVjdCBzZXNzaW9uX2RhdGEqIHNlc3MpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIHN0cnVjdCB3c2lfb3BhcXVlX3VzZXJfZGF0YSogb3BhcXVlOwogIEpTVmFsdWUgcmV0OwoKICBpZihzZXNzKSB7CiAgICBpZihKU19Jc09iamVjdChzZXNzLT53c19vYmopKQogICAgICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBzZXNzLT53c19vYmopOwogIH0KICAvKiAgaWYoKG9wYXF1ZSA9IGx3c19nZXRfb3BhcXVlX3VzZXJfZGF0YSh3c2kpKSkgewogICAgICBpZigod3MgPSBvcGFxdWUtPndzKSkKICAgICAgICByZXR1cm4gbWlubmV0X3dzX3dyYXAoY3R4LCB3cyk7CiAgICB9Ki8KCiAgaWYoISh3cyA9IHdzX25ldyh3c2ksIHNlc3MsIGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF93c19wcm90bywgbWlubmV0X3dzX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZShyZXQsIHdzKTsKCiAgaWYoKG9wYXF1ZSA9IGx3c19vcGFxdWUod3NpLCBzZXNzLCBjdHgpKSkgewogICAgYXNzZXJ0KG9wYXF1ZS0+d3MgPT0gMCB8fCBvcGFxdWUtPndzID09IHdzKTsKCiAgICBvcGFxdWUtPndzID0gd3M7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3Nfc2VuZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgaW50NjRfdCBtLCBsZW47CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBNaW5uZXRCdWZmZXIgYnVmZmVyID0ge3swfX07CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShtID0gYnVmZmVyX2Zyb212YWx1ZSgmYnVmZmVyLCBhcmd2WzBdLCBjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIGV4cGVjdGluZyBTdHJpbmcvQXJyYXlCdWZmZXIiKTsKCiAgaWYobSA8IDApIHsKICAgIHJldCA9IEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICAgIGdvdG8gZmFpbDsKICB9CgogIGxlbiA9IGJ1ZmZlcl9CWVRFUygmYnVmZmVyKTsKCiAgaWYoKHNlc3Npb24gPSB3c19zZXNzaW9uKHdzKSkpIHsKCiAgICBidWZmZXJfYXBwZW5kKCZzZXNzaW9uLT5zZW5kX2J1ZiwgYnVmZmVyLnJlYWQsIGxlbiwgY3R4KTsKICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3cy0+bHdzaSk7CgogIH0gZWxzZSB7CgogICAgbSA9IGx3c193cml0ZSh3cy0+bHdzaSwgYnVmZmVyLnJlYWQsIGJ1ZmZlcl9CWVRFUygmYnVmZmVyKSwgSlNfSXNTdHJpbmcoYXJndlswXSkgPyBMV1NfV1JJVEVfVEVYVCA6IExXU19XUklURV9CSU5BUlkpOwoKICAgIGlmKG0gPCBsZW4pCiAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJsd3Mgd3JpdGUgZmFpbGVkOiAlIiBQUklpNjQgIi8lIiBQUklpNjQsIG0sIGxlbik7CiAgICBlbHNlCiAgICAgIHJldCA9IEpTX05ld0ludDY0KGN0eCwgbSk7CiAgfQoKZmFpbDoKICBidWZmZXJfZnJlZSgmYnVmZmVyLCBKU19HZXRSdW50aW1lKGN0eCkpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3NfcmVzcG9uZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBNaW5uZXRCdWZmZXIgaGVhZGVyID0gQlVGRkVSXzAoKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0JPRFk6IHsKICAgICAgY29uc3QgY2hhciogbXNnID0gMDsKICAgICAgdWludDMyX3Qgc3RhdHVzID0gMDsKCiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnN0YXR1cywgYXJndlswXSk7CiAgICAgIGlmKGFyZ2MgPj0gMikKICAgICAgICBtc2cgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKICAgICAgbHdzX3JldHVybl9odHRwX3N0YXR1cyh3cy0+bHdzaSwgc3RhdHVzLCBtc2cpOwogICAgICBpZihtc2cpCiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtc2cpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfUkVESVJFQ1Q6IHsKICAgICAgY29uc3QgY2hhciogbXNnID0gMDsKICAgICAgc2l6ZV90IGxlbiA9IDA7CiAgICAgIHVpbnQzMl90IHN0YXR1cyA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnN0YXR1cywgYXJndlswXSk7CgogICAgICBpZihhcmdjID49IDIpCiAgICAgICAgbXNnID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgYXJndlsxXSk7CiAgICAgIGlmKGx3c19odHRwX3JlZGlyZWN0KHdzLT5sd3NpLCBzdGF0dXMsICh1bnNpZ25lZCBjaGFyKiltc2csIGxlbiwgJmhlYWRlci53cml0ZSwgaGVhZGVyLmVuZCkgPCAwKQogICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgLTEpOwogICAgICBpZihtc2cpCiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtc2cpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSEVBREVSOiB7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBjb25zdCBjaGFyKiBuYW1lc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJm5hbWVsZW4sIGFyZ3ZbMF0pOwogICAgICBjaGFyKiBuYW1lID0ganNfbWFsbG9jKGN0eCwgbmFtZWxlbiArIDIpOwogICAgICBzaXplX3QgbGVuOwogICAgICBjb25zdCBjaGFyKiB2YWx1ZSA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIGFyZ3ZbMV0pOwogICAgICBtZW1jcHkobmFtZSwgbmFtZXN0ciwgbmFtZWxlbik7CiAgICAgIG5hbWVbbmFtZWxlbl0gPSAnOic7CiAgICAgIG5hbWVbbmFtZWxlbiArIDFdID0gJ1wwJzsKCiAgICAgIGlmKGx3c19hZGRfaHR0cF9oZWFkZXJfYnlfbmFtZSh3cy0+bHdzaSwgKGNvbnN0IHVpbnQ4X3QqKW5hbWUsIChjb25zdCB1aW50OF90Kil2YWx1ZSwgbGVuLCAmaGVhZGVyLndyaXRlLCBoZWFkZXIuZW5kKSA8IDApCiAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCAtMSk7CgogICAgICBqc19mcmVlKGN0eCwgbmFtZSk7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZXN0cik7CiAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF93c19waW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICB1aW50OF90KiBkYXRhOwogIHNpemVfdCBsZW47CgogIGlmKCEod3MgPSBtaW5uZXRfd3NfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSk7CiAgaWYoZGF0YSkgewogICAgdWludDhfdCBidWZmZXJbbGVuICsgTFdTX1BSRV07CiAgICBtZW1jcHkoJmJ1ZmZlcltMV1NfUFJFXSwgZGF0YSwgbGVuKTsKCiAgICBpbnQgbSA9IGx3c193cml0ZSh3cy0+bHdzaSwgJmJ1ZmZlcltMV1NfUFJFXSwgbGVuLCBMV1NfV1JJVEVfUElORyk7CiAgICBpZigoc2l6ZV90KW0gPCBsZW4pIHsKICAgICAgLy8gU2VuZGluZyBwaW5nIGZhaWxlZAogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgfQogIH0gZWxzZSB7CiAgICB1aW50OF90IGJ1ZmZlcltMV1NfUFJFXTsKICAgIGx3c193cml0ZSh3cy0+bHdzaSwgJmJ1ZmZlcltMV1NfUFJFXSwgMCwgTFdTX1dSSVRFX1BJTkcpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3NfcG9uZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFdlYnNvY2tldCogd3M7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3QgbGVuOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pOwogIGlmKGRhdGEpIHsKICAgIHVpbnQ4X3QgYnVmZmVyW2xlbiArIExXU19QUkVdOwogICAgbWVtY3B5KCZidWZmZXJbTFdTX1BSRV0sIGRhdGEsIGxlbik7CgogICAgaW50IG0gPSBsd3Nfd3JpdGUod3MtPmx3c2ksICZidWZmZXJbTFdTX1BSRV0sIGxlbiwgTFdTX1dSSVRFX1BPTkcpOwogICAgaWYoKHNpemVfdCltIDwgbGVuKSB7CiAgICAgIC8vIFNlbmRpbmcgcG9uZyBmYWlsZWQKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgIH0KICB9IGVsc2UgewogICAgdWludDhfdCBidWZmZXJbTFdTX1BSRV07CiAgICBsd3Nfd3JpdGUod3MtPmx3c2ksICZidWZmZXJbTFdTX1BSRV0sIDAsIExXU19XUklURV9QT05HKTsKICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX2Nsb3NlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBjb25zdCBjaGFyKiByZWFzb24gPSAwOwogIHNpemVfdCBybGVuID0gMDsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZih3cy0+bHdzaSkgewogICAgaW50IG9wdGluZCA9IDA7CiAgICBpbnQzMl90IHN0YXR1cyA9IExXU19DTE9TRV9TVEFUVVNfTk9STUFMOwogICAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogICAgd2hpbGUob3B0aW5kIDwgYXJnYykgewogICAgICBpZihKU19Jc051bWJlcihhcmd2W29wdGluZF0pIHx8IG9wdGluZCArIDEgPCBhcmdjKSB7CiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZzdGF0dXMsIGFyZ3Zbb3B0aW5kXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVhc29uID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnJsZW4sIGFyZ3Zbb3B0aW5kXSk7CiAgICAgICAgaWYocmxlbiA+IDEyNCkKICAgICAgICAgIHJsZW4gPSAxMjQ7CiAgICAgIH0KICAgICAgb3B0aW5kKys7CiAgICB9CgogICAgb3BhcXVlID0gd3Nfb3BhcXVlKHdzKTsKICAgIGFzc2VydChvcGFxdWUpOwoKICAgIC8vIHByaW50ZigibWlubmV0X3dzX2Nsb3NlIGZkPSVkIHJlYXNvbj0lc1xuIiwgbHdzX2dldF9zb2NrZXRfZmQod3MtPmx3c2kpLCByZWFzb24pOwogICAgaWYob3BhcXVlLT5zdGF0dXMgPCBDTE9TSU5HKSB7CiAgICAgIGNvbnN0IHN0cnVjdCBsd3NfcHJvdG9jb2xzKiBwcm90b2NvbCA9IGx3c19nZXRfcHJvdG9jb2wod3MtPmx3c2kpOwoKICAgICAgaWYoIXN0cm5jbXAocHJvdG9jb2wtPm5hbWUsICJ3cyIsIDIpKQogICAgICAgIGx3c19jbG9zZV9yZWFzb24od3MtPmx3c2ksIHN0YXR1cywgKHVpbnQ4X3QqKXJlYXNvbiwgcmxlbik7CiAgICB9CgogICAgb3BhcXVlLT5zdGF0dXMgPSBDTE9TRUQ7CgogICAgbHdzX2Nsb3NlX2ZyZWVfd3NpKHdzLT5sd3NpLCBzdGF0dXMsICJtaW5uZXRfd3NfY2xvc2UiKTsKICAgIHdzLT5sd3NpID0gMDsKCiAgICByZXR1cm4gSlNfVFJVRTsKICB9CgogIHJldHVybiBKU19GQUxTRTsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3dzX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHdzID0gbWlubmV0X3dzX2RhdGEodGhpc192YWwpKSkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIGlmKCF3cy0+bHdzaSkKICAgIHJldHVybiBKU19OVUxMOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgV0VCU09DS0VUX0ZEOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3cy0+bHdzaSkpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9BRERSRVNTOiB7CiAgICAgIHN0cnVjdCBzb2NrYWRkcl9pbiBhZGRyOwogICAgICBzb2NrbGVuX3QgYWRkcmxlbiA9IHNpemVvZihhZGRyKTsKICAgICAgaW50IGZkID0gbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3cy0+bHdzaSkpOwoKICAgICAgaWYoZ2V0cGVlcm5hbWUoZmQsIChzdHJ1Y3Qgc29ja2FkZHIqKSZhZGRyLCAmYWRkcmxlbikgIT0gLTEpIHsKICAgICAgICBjaGFyIGFkZHJlc3NbMTAyNF07CiAgICAgICAgbHdzX2dldF9wZWVyX3NpbXBsZSh3cy0+bHdzaSwgYWRkcmVzcywgc2l6ZW9mKGFkZHJlc3MpKTsKCiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgYWRkcmVzcyk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9GQU1JTFk6CiAgICBjYXNlIFdFQlNPQ0tFVF9QT1JUOiB7CiAgICAgIHN0cnVjdCBzb2NrYWRkcl9pbiBhZGRyOwogICAgICBzb2NrbGVuX3QgYWRkcmxlbiA9IHNpemVvZihhZGRyKTsKICAgICAgaW50IGZkID0gbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3cy0+bHdzaSkpOwoKICAgICAgaWYoZ2V0cGVlcm5hbWUoZmQsIChzdHJ1Y3Qgc29ja2FkZHIqKSZhZGRyLCAmYWRkcmxlbikgIT0gLTEpIHsKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIG1hZ2ljID09IDIgPyBhZGRyLnNpbl9mYW1pbHkgOiBudG9ocyhhZGRyLnNpbl9wb3J0KSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9QRUVSOiB7CiAgICAgIHN0cnVjdCBzb2NrYWRkcl9pbiBhZGRyOwogICAgICBzb2NrbGVuX3QgYWRkcmxlbiA9IHNpemVvZihhZGRyKTsKICAgICAgaW50IGZkID0gbHdzX2dldF9zb2NrZXRfZmQobHdzX2dldF9uZXR3b3JrX3dzaSh3cy0+bHdzaSkpOwoKICAgICAgaWYoZ2V0cGVlcm5hbWUoZmQsIChzdHJ1Y3Qgc29ja2FkZHIqKSZhZGRyLCAmYWRkcmxlbikgIT0gLTEpIHsKICAgICAgICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCAoY29uc3QgdWludDhfdCopJmFkZHIsIGFkZHJsZW4pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfU1NMOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsd3NfaXNfc3NsKGx3c19nZXRfbmV0d29ya193c2kod3MtPmx3c2kpKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBXRUJTT0NLRVRfQklOQVJZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCB3c19vcGFxdWUod3MpLT5iaW5hcnkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgV0VCU09DS0VUX1JFQURZU1RBVEU6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgd3Nfb3BhcXVlKHdzKS0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFdFQlNPQ0tFVF9QUk9UT0NPTDogewogICAgICBjb25zdCBzdHJ1Y3QgbHdzX3Byb3RvY29scyogcHJvdG9jb2w7CiAgICAgIGlmKChwcm90b2NvbCA9IGx3c19nZXRfcHJvdG9jb2wod3MtPmx3c2kpKSkKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBwcm90b2NvbC0+bmFtZSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgICAgLyogY2FzZSBXRUJTT0NLRVRfUkVTRVJWRURfQklUUzogewogICAgICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBsd3NfZ2V0X3Jlc2VydmVkX2JpdHMod3MtPmx3c2kpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9CiAgICAgICBjYXNlIFdFQlNPQ0tFVF9GSU5BTF9GUkFHTUVOVDogewogICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgbHdzX2lzX2ZpbmFsX2ZyYWdtZW50KHdzLT5sd3NpKSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfQogICAgICAgY2FzZSBXRUJTT0NLRVRfRklSU1RfRlJBR01FTlQ6IHsKICAgICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGx3c19pc19maXJzdF9mcmFnbWVudCh3cy0+bHdzaSkpOwogICAgICAgICBicmVhazsKICAgICAgIH0KICAgICAgIGNhc2UgV0VCU09DS0VUX1BBUlRJQUxfQlVGRkVSRUQ6IHsKICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsd3NfcGFydGlhbF9idWZmZXJlZCh3cy0+bHdzaSkpOwogICAgICAgICBicmVhazsKICAgICAgIH0qLwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfd3Nfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0V2Vic29ja2V0KiB3czsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh3cyA9IG1pbm5ldF93c19kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKCiAgICBjYXNlIFdFQlNPQ0tFVF9CSU5BUlk6IHsKICAgICAgd3Nfb3BhcXVlKHdzKS0+YmluYXJ5ID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfd3NfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIHVpbnQzMl90IGZkOwogIHN0cnVjdCBsd3MqIHdzaSA9IDA7CgogIC8qICBpZihhcmdjID4gMCAmJiBKU19Jc051bWJlcihhcmd2WzBdKSkgewogICAgIEpTX1RvVWludDMyKGN0eCwgJmZkLCBhcmd2WzBdKTsKICAgICB3c2kgPSBsd3NfYWRvcHRfc29ja2V0KHNlcnZlci0+Y29udGV4dC5sd3MsIGZkKTsKICAgfSBlbHNlIHsKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIGZpbGUgZGVzY3JpcHRvciIpOwogICB9Ki8KCiAgaWYoISh3cyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0V2Vic29ja2V0KSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICBwcmludGYoIiVzOiBuZXcgTWlubmV0V2Vic29ja2V0OiAlcFxuIiwgX19mdW5jX18sIHdzKTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3dzX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfd3NfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCB3cyk7CgogIGFzc2VydCh3c2kpOwoKICBpZigod3MtPmx3c2kgPSB3c2kpKSB7CiAgICBzdHJ1Y3Qgd3NpX29wYXF1ZV91c2VyX2RhdGEqIG9wYXF1ZSA9IG9wYXF1ZV9uZXcoMCwgY3R4KTsKICAgIC8vIG9wYXF1ZS0+b2JqID0gSlNfVkFMVUVfR0VUX09CSihKU19EdXBWYWx1ZShjdHgsIG9iaikpOwogICAgb3BhcXVlLT5oYW5kbGVyID0gSlNfTlVMTDsKICAgIC8qb3BhcXVlLT5oYW5kbGVyc1swXSA9IEpTX05VTEw7CiAgICBvcGFxdWUtPmhhbmRsZXJzWzFdID0gSlNfTlVMTDsqLwogICAgbHdzX3NldF9vcGFxdWVfdXNlcl9kYXRhKHdzLT5sd3NpLCBvcGFxdWUpOwogIH0KCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHdzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyB2b2lkCm1pbm5ldF93c19maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRXZWJzb2NrZXQqIHdzOwogIGlmKCh3cyA9IG1pbm5ldF93c19kYXRhKHZhbCkpKSB7CiAgICB3c19mcmVlX3J0KHdzLCBydCk7CiAgfQp9CgpKU0NsYXNzRGVmIG1pbm5ldF93c19jbGFzcyA9IHsKICAgICJNaW5uZXRXZWJzb2NrZXQiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF93c19maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigic2VuZCIsIDEsIG1pbm5ldF93c19zZW5kKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmVzcG9uZCIsIDEsIG1pbm5ldF93c19yZXNwb25kLCBSRVNQT05TRV9CT0RZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmVkaXJlY3QiLCAyLCBtaW5uZXRfd3NfcmVzcG9uZCwgUkVTUE9OU0VfUkVESVJFQ1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJoZWFkZXIiLCAyLCBtaW5uZXRfd3NfcmVzcG9uZCwgUkVTUE9OU0VfSEVBREVSKSwKICAgIEpTX0NGVU5DX0RFRigicGluZyIsIDEsIG1pbm5ldF93c19waW5nKSwKICAgIEpTX0NGVU5DX0RFRigicG9uZyIsIDEsIG1pbm5ldF93c19wb25nKSwKICAgIEpTX0NGVU5DX0RFRigiY2xvc2UiLCAxLCBtaW5uZXRfd3NfY2xvc2UpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInByb3RvY29sIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1BST1RPQ09MLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJmZCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9GRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJhZGRyZXNzIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX0FERFJFU1MsIDApLAogICAgSlNfQUxJQVNfREVGKCJyZW1vdGVBZGRyZXNzIiwgImFkZHJlc3MiKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJmYW1pbHkiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfRkFNSUxZLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwb3J0IiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1BPUlQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBlZXIiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfUEVFUiwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigic3NsIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1NTTCwgMCksCiAgICBKU19BTElBU19ERUYoInRscyIsICJzc2wiKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJiaW5hcnkiLCBtaW5uZXRfd3NfZ2V0LCBtaW5uZXRfd3Nfc2V0LCBXRUJTT0NLRVRfQklOQVJZLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWFkeVN0YXRlIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1JFQURZU1RBVEUsIDApLAogICAgLypKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicmVzZXJ2ZWRCaXRzIiwgbWlubmV0X3dzX2dldCwgMCwgV0VCU09DS0VUX1JFU0VSVkVEX0JJVFMsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImZpcnN0RnJhZ21lbnQiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfRklSU1RfRlJBR01FTlQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImZpbmFsRnJhZ21lbnQiLCBtaW5uZXRfd3NfZ2V0LCAwLCBXRUJTT0NLRVRfRklOQUxfRlJBR01FTlQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBhcnRpYWxCdWZmZXJlZCIsIG1pbm5ldF93c19nZXQsIDAsIFdFQlNPQ0tFVF9QQVJUSUFMX0JVRkZFUkVELCAwKSwqLwogICAgSlNfQUxJQVNfREVGKCJyZW1vdGUiLCAicGVlciIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRXZWJzb2NrZXQiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09OTkVDVElORyIsIDAsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJPUEVOIiwgMSwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NJTkciLCAyLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VEIiwgMywgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3dzX3N0YXRpY19mdW5jc1tdID0gewogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTk5FQ1RJTkciLCAwLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk9QRU4iLCAxLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NJTkciLCAyLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFRCIsIDMsIEpTX1BST1BfRU5VTUVSQUJMRSksCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfd3NfcHJvdG9fZGVmc1tdID0gewogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19OT1JNQUwiLCBMV1NfQ0xPU0VfU1RBVFVTX05PUk1BTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX0dPSU5HQVdBWSIsIExXU19DTE9TRV9TVEFUVVNfR09JTkdBV0FZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfUFJPVE9DT0xfRVJSIiwgTFdTX0NMT1NFX1NUQVRVU19QUk9UT0NPTF9FUlIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19VTkFDQ0VQVEFCTEVfT1BDT0RFIiwgTFdTX0NMT1NFX1NUQVRVU19VTkFDQ0VQVEFCTEVfT1BDT0RFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfUkVTRVJWRUQiLCBMV1NfQ0xPU0VfU1RBVFVTX1JFU0VSVkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDTE9TRV9TVEFUVVNfTk9fU1RBVFVTIiwgTFdTX0NMT1NFX1NUQVRVU19OT19TVEFUVVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19BQk5PUk1BTF9DTE9TRSIsIExXU19DTE9TRV9TVEFUVVNfQUJOT1JNQUxfQ0xPU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19JTlZBTElEX1BBWUxPQUQiLCBMV1NfQ0xPU0VfU1RBVFVTX0lOVkFMSURfUEFZTE9BRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1BPTElDWV9WSU9MQVRJT04iLCBMV1NfQ0xPU0VfU1RBVFVTX1BPTElDWV9WSU9MQVRJT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19NRVNTQUdFX1RPT19MQVJHRSIsIExXU19DTE9TRV9TVEFUVVNfTUVTU0FHRV9UT09fTEFSR0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNMT1NFX1NUQVRVU19FWFRFTlNJT05fUkVRVUlSRUQiLCBMV1NfQ0xPU0VfU1RBVFVTX0VYVEVOU0lPTl9SRVFVSVJFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1VORVhQRUNURURfQ09ORElUSU9OIiwgTFdTX0NMT1NFX1NUQVRVU19VTkVYUEVDVEVEX0NPTkRJVElPTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0xPU0VfU1RBVFVTX1RMU19GQUlMVVJFIiwgTFdTX0NMT1NFX1NUQVRVU19UTFNfRkFJTFVSRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfQ09OVElOVUUiLCBIVFRQX1NUQVRVU19DT05USU5VRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfT0siLCBIVFRQX1NUQVRVU19PSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTk9fQ09OVEVOVCIsIEhUVFBfU1RBVFVTX05PX0NPTlRFTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1BBUlRJQUxfQ09OVEVOVCIsIEhUVFBfU1RBVFVTX1BBUlRJQUxfQ09OVEVOVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTU9WRURfUEVSTUFORU5UTFkiLCBIVFRQX1NUQVRVU19NT1ZFRF9QRVJNQU5FTlRMWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfRk9VTkQiLCBIVFRQX1NUQVRVU19GT1VORCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfU0VFX09USEVSIiwgSFRUUF9TVEFUVVNfU0VFX09USEVSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19OT1RfTU9ESUZJRUQiLCBIVFRQX1NUQVRVU19OT1RfTU9ESUZJRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0JBRF9SRVFVRVNUIiwgSFRUUF9TVEFUVVNfQkFEX1JFUVVFU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1VOQVVUSE9SSVpFRCIsIEhUVFBfU1RBVFVTX1VOQVVUSE9SSVpFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfUEFZTUVOVF9SRVFVSVJFRCIsIEhUVFBfU1RBVFVTX1BBWU1FTlRfUkVRVUlSRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0ZPUkJJRERFTiIsIEhUVFBfU1RBVFVTX0ZPUkJJRERFTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTk9UX0ZPVU5EIiwgSFRUUF9TVEFUVVNfTk9UX0ZPVU5ELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19NRVRIT0RfTk9UX0FMTE9XRUQiLCBIVFRQX1NUQVRVU19NRVRIT0RfTk9UX0FMTE9XRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX05PVF9BQ0NFUFRBQkxFIiwgSFRUUF9TVEFUVVNfTk9UX0FDQ0VQVEFCTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1BST1hZX0FVVEhfUkVRVUlSRUQiLCBIVFRQX1NUQVRVU19QUk9YWV9BVVRIX1JFUVVJUkVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19SRVFVRVNUX1RJTUVPVVQiLCBIVFRQX1NUQVRVU19SRVFVRVNUX1RJTUVPVVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0NPTkZMSUNUIiwgSFRUUF9TVEFUVVNfQ09ORkxJQ1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0dPTkUiLCBIVFRQX1NUQVRVU19HT05FLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19MRU5HVEhfUkVRVUlSRUQiLCBIVFRQX1NUQVRVU19MRU5HVEhfUkVRVUlSRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1BSRUNPTkRJVElPTl9GQUlMRUQiLCBIVFRQX1NUQVRVU19QUkVDT05ESVRJT05fRkFJTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19SRVFfRU5USVRZX1RPT19MQVJHRSIsIEhUVFBfU1RBVFVTX1JFUV9FTlRJVFlfVE9PX0xBUkdFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19SRVFfVVJJX1RPT19MT05HIiwgSFRUUF9TVEFUVVNfUkVRX1VSSV9UT09fTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfVU5TVVBQT1JURURfTUVESUFfVFlQRSIsIEhUVFBfU1RBVFVTX1VOU1VQUE9SVEVEX01FRElBX1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX1JFUV9SQU5HRV9OT1RfU0FUSVNGSUFCTEUiLCBIVFRQX1NUQVRVU19SRVFfUkFOR0VfTk9UX1NBVElTRklBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19FWFBFQ1RBVElPTl9GQUlMRUQiLCBIVFRQX1NUQVRVU19FWFBFQ1RBVElPTl9GQUlMRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhUVFBfU1RBVFVTX0lOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIEhUVFBfU1RBVFVTX0lOVEVSTkFMX1NFUlZFUl9FUlJPUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfTk9UX0lNUExFTUVOVEVEIiwgSFRUUF9TVEFUVVNfTk9UX0lNUExFTUVOVEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19CQURfR0FURVdBWSIsIEhUVFBfU1RBVFVTX0JBRF9HQVRFV0FZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19TRVJWSUNFX1VOQVZBSUxBQkxFIiwgSFRUUF9TVEFUVVNfU0VSVklDRV9VTkFWQUlMQUJMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSFRUUF9TVEFUVVNfR0FURVdBWV9USU1FT1VUIiwgSFRUUF9TVEFUVVNfR0FURVdBWV9USU1FT1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIVFRQX1NUQVRVU19IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRCIsIEhUVFBfU1RBVFVTX0hUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVELCAwKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3dzX3Byb3RvX2Z1bmNzKTsKY29uc3Qgc2l6ZV90IG1pbm5ldF93c19zdGF0aWNfZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3dzX3N0YXRpY19mdW5jcyk7CmNvbnN0IHNpemVfdCBtaW5uZXRfd3NfcHJvdG9fZGVmc19zaXplID0gY291bnRvZihtaW5uZXRfd3NfcHJvdG9fZGVmcyk7CgAAAAAAAAAAolMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACwcAAAAAAAALBwAAAAAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "wscli.js",
			"settings":
			{
				"buffer_size": 9685,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "minnet-client-http.c",
			"settings":
			{
				"buffer_size": 7522,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA+HQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAPh0AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					9,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAA+HQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARB0AAAAAAAAAAAAAAAAAAAAAAABEHQAAAAAAAAAAAAAAAAAAAAAAAEQdAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABEHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvL3ByaW50ZigiXHgxYlsyS1xyeWllbGRlZCAlcCAlenVcbiIsIGIuZGF0YSwgYi5zaXplKTsKICAgICAgICAgIGJ1ZmZlcl9hcHBlbmQoJmJ1ZiwgYi5kYXRhLCBiLnNpemUsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgICAgICAvL3ByaW50ZigiXHgxYlsyS1xyYnVmZmVyZWQgJXp1LyV6dSBieXRlc1xuIiwgYnVmZmVyX0JZVEVTKCZidWYpLCBidWZmZXJfSEVBRCgmYnVmKSk7CiAgICAgICAgICBqc19idWZmZXJfZnJlZSgmYiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbiA9IGRvbmUgPyBMV1NfV1JJVEVfSFRUUF9GSU5BTCA6IExXU19XUklURV9IVFRQOwogICAgICBzaXplID0gYnVmLndyaXRlIC0gYnVmLnN0YXJ0OwogICAgICBpZigociA9IGx3c193cml0ZSh3c2ksIGJ1Zi5zdGFydCwgc2l6ZSwgKGVudW0gbHdzX3dyaXRlX3Byb3RvY29sKW4pKSAhPSBzaXplKQogICAgICAgIHJldHVybiAxOwogICAgICAvL3ByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABHHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABHHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABHHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABHHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADAIAAAAAAAAMAgAAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					1,
					"insert",
					{
						"characters": "session,"
					},
					"CAAAACsCAAAAAAAALAIAAAAAAAAAAAAALAIAAAAAAAAtAgAAAAAAAAAAAAAtAgAAAAAAAC4CAAAAAAAAAAAAAC4CAAAAAAAALwIAAAAAAAAAAAAALwIAAAAAAAAwAgAAAAAAAAAAAAAwAgAAAAAAADECAAAAAAAAAAAAADECAAAAAAAAMgIAAAAAAAAAAAAAMgIAAAAAAAAzAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKwIAAAAAAAArAgAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAADMCAAAAAAAANAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMwIAAAAAAAAzAgAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAUB0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMgIAAAAAAAAyAgAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgc2Vzc2lvbiwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAARx0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMgIAAAAAAAAyAgAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABHHQAAI2luY2x1ZGUgIm1pbm5ldC1jbGllbnQuaCIKI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAianN1dGlscy5oIgoKaW50Cmh0dHBfY2xpZW50X2NhbGxiYWNrKHN0cnVjdCBsd3MqIHdzaSwgZW51bSBsd3NfY2FsbGJhY2tfcmVhc29ucyByZWFzb24sIHZvaWQqIHVzZXIsIHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CgogIGlmKHJlYXNvbiA9PSBMV1NfQ0FMTEJBQ0tfT1BFTlNTTF9MT0FEX0VYVFJBX0NMSUVOVF9WRVJJRllfQ0VSVFMpCiAgICByZXR1cm4gMDsKCiAgTWlubmV0Q2xpZW50KiBjbGllbnQgPSBsd3NfY2xpZW50KHdzaSk7CiAgTWlubmV0U2Vzc2lvbiogc2Vzc2lvbiA9ICZjbGllbnQtPnNlc3Npb247CiAgc3RydWN0IHdzaV9vcGFxdWVfdXNlcl9kYXRhKiBvcGFxdWU7CgogIGlmKGx3c19pc19wb2xsX2NhbGxiYWNrKHJlYXNvbikpCiAgICByZXR1cm4gZmRfY2FsbGJhY2sod3NpLCByZWFzb24sICZjbGllbnQtPm9uLmZkLCBpbik7CgogIGlmKChvcGFxdWUgPSBsd3Nfb3BhcXVlKHdzaSwgY2xpZW50LT5jb250ZXh0LmpzKSkpIHsKICAgIGlmKCFvcGFxdWUtPnNlc3MgJiYgc2Vzc2lvbikKICAgICAgb3BhcXVlLT5zZXNzID0gc2Vzc2lvbjsKICB9CgogIGx3c2xfdXNlcigiY2xpZW50LWh0dHAgIiBGRygiJWQiKSAiJS0zOHMiIE5DICIgaXNfc3NsPSVpIGxlbj0lenUgaW49JyUuKnMnXG4iLCAyMiArIChyZWFzb24gKiAyKSwgbHdzX2NhbGxiYWNrX25hbWUocmVhc29uKSArIDEzLCBsd3NfaXNfc3NsKHdzaSksIGxlbiwgKGludClNSU4obGVuLCAzMiksIChjaGFyKilpbik7CgogIHN3aXRjaChyZWFzb24pIHsKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9GSUxURVJfUFJFX0VTVEFCTElTSDogewogICAgICBpZihqc19pc19udWxsaXNoKHNlc3Npb24tPnJlcV9vYmopKQogICAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBtaW5uZXRfcmVxdWVzdF93cmFwKGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5yZXF1ZXN0KTsKICAgICAgaWYoanNfaXNfbnVsbGlzaChzZXNzaW9uLT5yZXNwX29iaikpCiAgICAgICAgc2Vzc2lvbi0+cmVzcF9vYmogPSBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjbGllbnQtPmNvbnRleHQuanMsIGNsaWVudC0+cmVzcG9uc2UpOwoKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19TRVJWRVJfTkVXX0NMSUVOVF9JTlNUQU5USUFURUQ6CiAgICBjYXNlIExXU19DQUxMQkFDS19XU0lfQ1JFQVRFOgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09OTkVDVElORzogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0lOSVQ6IHsKICAgICAgc2Vzc2lvbl96ZXJvKHNlc3Npb24pOwogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9DT05ORUNUSU9OX0VSUk9SOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkgewogICAgICAgIEpTVmFsdWUgZXJyID0ganNfZXJyb3JfbmV3KGNsaWVudC0+Y29udGV4dC5qcywgIiVzIiwgaW4pOwogICAgICAgIGpzX3Byb21pc2VfcmVqZWN0KGNsaWVudC0+Y29udGV4dC5qcywgJmNsaWVudC0+cHJvbWlzZSwgZXJyKTsKICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5jb250ZXh0LmpzLCBlcnIpOwogICAgICB9CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9CSU5EX1BST1RPQ09MOiB7CiAgICAgIHNlc3Npb24tPnJlcV9vYmogPSBKU19OVUxMOwogICAgICBzZXNzaW9uLT5yZXNwX29iaiA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ0xJRU5UX0hUVFBfRFJPUF9QUk9UT0NPTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMSUVOVF9BUFBFTkRfSEFORFNIQUtFX0hFQURFUjogewogICAgICBNaW5uZXRCdWZmZXIgYnVmID0gQlVGRkVSX04oKih1aW50OF90KiopaW4sIGxlbik7CiAgICAgIC8vIGJ1Zi5zdGFydCA9IHNjYW5fYmFja3dhcmRzKGJ1Zi5zdGFydCwgJ1wwJyk7CiAgICAgIGlmKEpTX0lzT2JqZWN0KGNsaWVudC0+aGVhZGVycykpIHsKICAgICAgICAvLyBjbGllbnQtPnJlcXVlc3QtPmhlYWRlcnMuc3RhcnQgPSBidWYuc3RhcnQ7CiAgICAgICAgaWYoaGVhZGVyc19hZGQoJmJ1Ziwgd3NpLCBjbGllbnQtPmhlYWRlcnMsIGNsaWVudC0+Y29udGV4dC5qcykpCiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgLy8gY2xpZW50LT5yZXF1ZXN0LT5oZWFkZXJzLmVuZCA9IGJ1Zi5lbmQ7CiAgICAgICAgKih1aW50OF90KiopaW4gPSBidWYud3JpdGU7CiAgICAgICAgbGVuID0gYnVmLmVuZCAtIGJ1Zi53cml0ZTsKICAgICAgfQogICAgICAvKiBpZighbHdzX2h0dHBfaXNfcmVkaXJlY3RlZF90b19nZXQod3NpKSkgewogICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICAgfSovCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1dTSV9ERVNUUk9ZOiB7CiAgICAgIGlmKGpzX3Byb21pc2VfcGVuZGluZygmY2xpZW50LT5wcm9taXNlKSkKICAgICAgICBqc19wcm9taXNlX3Jlc29sdmUoY2xpZW50LT5jb250ZXh0LmpzLCAmY2xpZW50LT5wcm9taXNlLCBKU19VTkRFRklORUQpOwogICAgICByZXR1cm4gLTE7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX0NMT1NFRF9DTElFTlRfSFRUUDogewogICAgICBpZihvcGFxdWUtPnN0YXR1cyA8IENMT1NFRCkgewogICAgICAgIG9wYXF1ZS0+c3RhdHVzID0gQ0xPU0VEOwogICAgICAgIGlmKGNsaWVudC0+b24uY2xvc2UuY3R4KSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgY2JfYXJndltdID0ge0pTX0R1cFZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBzZXNzaW9uLT53c19vYmopLCBKU19OZXdJbnQzMihjbGllbnQtPm9uLmNsb3NlLmN0eCwgb3BhcXVlLT5lcnJvcil9OwogICAgICAgICAgY2xpZW50X2V4Y2VwdGlvbihjbGllbnQsIG1pbm5ldF9lbWl0KCZjbGllbnQtPm9uLmNsb3NlLCBjb3VudG9mKGNiX2FyZ3YpLCBjYl9hcmd2KSk7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY2xpZW50LT5vbi5jbG9zZS5jdHgsIGNiX2FyZ3ZbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGNsaWVudC0+b24uY2xvc2UuY3R4LCBjYl9hcmd2WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbHdzX2NhbmNlbF9zZXJ2aWNlKGx3c19nZXRfY29udGV4dCh3c2kpKTsgLyogYWJvcnQgcG9sbCB3YWl0ICovCiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19FU1RBQkxJU0hFRF9DTElFTlRfSFRUUDogewogICAgICBpbnQgc3RhdHVzOwogICAgICBzdGF0dXMgPSBsd3NfaHR0cF9jbGllbnRfaHR0cF9yZXNwb25zZSh3c2kpOwogICAgICBsd3NsX3VzZXIoImh0dHAtZXN0YWJsaXNoZWQgIzEgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICBzZXJ2ZXIgcmVzcG9uc2U6ICVkXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIHN0YXR1cyk7CiAgICAgIHsKICAgICAgICBzaXplX3QgaSwgaGRybGVuID0gbHdzX2hkcl90b3RhbF9sZW5ndGgod3NpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgY2hhciBidWZbKCgoaGRybGVuICsgMSkgKyA3KSA+PiAzKSA8PCAzXTsKICAgICAgICBsd3NfaGRyX2NvcHkod3NpLCBidWYsIHNpemVvZihidWYpLCBXU0lfVE9LRU5fSFRUUCk7CiAgICAgICAgYnVmW2hkcmxlbl0gPSAnXDAnOwogICAgICAgIGlmKGJ1ZlsoaSA9IGJ5dGVfY2hyKGJ1ZiwgaGRybGVuLCAnICcpKV0pCiAgICAgICAgICBpICs9IDE7CiAgICAgICAgY2xpZW50LT5yZXNwb25zZS0+c3RhdHVzX3RleHQgPSBqc19zdHJkdXAoY2xpZW50LT5jb250ZXh0LmpzLCAmYnVmW2ldKTsKICAgICAgfQogICAgICBpZihtZXRob2RfbnVtYmVyKGNsaWVudC0+Y29ubmVjdF9pbmZvLm1ldGhvZCkgPT0gTUVUSE9EX1BPU1QpIHsKICAgICAgICBsd3NfY2xpZW50X2h0dHBfYm9keV9wZW5kaW5nKHdzaSwgMSk7CiAgICAgICAgbHdzX2NhbGxiYWNrX29uX3dyaXRhYmxlKHdzaSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIExXU19DQUxMQkFDS19DTElFTlRfSFRUUF9XUklURUFCTEU6CiAgICBjYXNlIExXU19DQUxMQkFDS19IVFRQX1dSSVRFQUJMRTogewogICAgICBKU1ZhbHVlIHZhbHVlLCBuZXh0ID0gSlNfTlVMTDsKICAgICAgQk9PTCBkb25lID0gRkFMU0U7CiAgICAgIGludCBuOwogICAgICBzc2l6ZV90IHNpemUsIHI7CiAgICAgIC8vIE1pbm5ldFJlcXVlc3QqIHJlcSA9IGNsaWVudC0+cmVxdWVzdDsKICAgICAgTWlubmV0QnVmZmVyIGJ1ZjsKICAgICAgYnVmZmVyX2FsbG9jKCZidWYsIDEwMjQsIGNsaWVudC0+Y29udGV4dC5qcyk7CiAgICAgIGlmKGx3c19odHRwX2lzX3JlZGlyZWN0ZWRfdG9fZ2V0KHdzaSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgdmFsdWUgPSBqc19pdGVyYXRvcl9uZXh0KGNsaWVudC0+Y29udGV4dC5qcywgY2xpZW50LT5ib2R5LCAmbmV4dCwgJmRvbmUsIDAsIDApOwogICAgICAgIGlmKCFqc19pc19udWxsaXNoKHZhbHVlKSkgewogICAgICAgICAgSlNCdWZmZXIgYiA9IGpzX2J1ZmZlcl9uZXcoY2xpZW50LT5jb250ZXh0LmpzLCB2YWx1ZSk7CiAgICAgICAgICAvLyBwcmludGYoIlx4MWJbMktccnlpZWxkZWQgJXAgJXp1XG4iLCBiLmRhdGEsIGIuc2l6ZSk7CiAgICAgICAgICBidWZmZXJfYXBwZW5kKCZidWYsIGIuZGF0YSwgYi5zaXplLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgICAgLy8gcHJpbnRmKCJceDFiWzJLXHJidWZmZXJlZCAlenUvJXp1IGJ5dGVzXG4iLCBidWZmZXJfQllURVMoJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpKTsKICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKCZiLCBjbGllbnQtPmNvbnRleHQuanMpOwogICAgICAgIH0KICAgICAgfQogICAgICBuID0gZG9uZSA/IExXU19XUklURV9IVFRQX0ZJTkFMIDogTFdTX1dSSVRFX0hUVFA7CiAgICAgIHNpemUgPSBidWYud3JpdGUgLSBidWYuc3RhcnQ7CiAgICAgIGlmKChyID0gbHdzX3dyaXRlKHdzaSwgYnVmLnN0YXJ0LCBzaXplLCAoZW51bSBsd3Nfd3JpdGVfcHJvdG9jb2wpbikpICE9IHNpemUpCiAgICAgICAgcmV0dXJuIDE7CiAgICAgIC8vIHByaW50ZigiXHgxYlsyS1xyd3JvdGUgJXpkJXNcbiIsIHIsIG4gPT0gTFdTX1dSSVRFX0hUVFBfRklOQUwgPyAiIChmaW5hbCkiIDogIiIpOwogICAgICBpZihuICE9IExXU19XUklURV9IVFRQX0ZJTkFMKQogICAgICAgIGx3c19jYWxsYmFja19vbl93cml0YWJsZSh3c2kpOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlIExXU19DQUxMQkFDS19SRUNFSVZFX0NMSUVOVF9IVFRQOiB7CiAgICAgIGludCByZXQ7CiAgICAgIHN0YXRpYyB1aW50OF90IGJ1ZmZlclsxMDI0ICsgTFdTX1BSRV07CiAgICAgIE1pbm5ldEJ1ZmZlciBidWYgPSBCVUZGRVIoYnVmZmVyKTsKICAgICAgaW50IGxlbiA9IGJ1ZmZlcl9BVkFJTCgmYnVmKTsKICAgICAgbHdzbF91c2VyKCJodHRwICMxICAiIEZHQygxNzEsICIlLTM4cyIpICIgZmQ9JWQgYnVmPSVwIHdyaXRlPSV6dSBsZW49JWRcbiIsIGx3c19jYWxsYmFja19uYW1lKHJlYXNvbikgKyAxMywgbHdzX2dldF9zb2NrZXRfZmQod3NpKSwgYmxvY2tfQkVHSU4oJmJ1ZiksIGJ1ZmZlcl9IRUFEKCZidWYpLCBsZW4pOwogICAgICByZXQgPSBsd3NfaHR0cF9jbGllbnRfcmVhZCh3c2ksIChjaGFyKiopJmJ1Zi53cml0ZSwgJmxlbik7CiAgICAgIGlmKHJldCkKICAgICAgICByZXR1cm4gLTE7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGNhc2UgTFdTX0NBTExCQUNLX1JFQ0VJVkVfQ0xJRU5UX0hUVFBfUkVBRDogewogICAgICBsd3NsX3VzZXIoImh0dHAtcmVhZCAjMSAgIiBGR0MoMTcxLCAiJS0zOHMiKSAiICIgRkdDKDIyNiwgImZkPSVkIikgIiAiIEZHQyg4NywgImxlbj0lenUiKSAiICIgRkdDKDEyNSwgImluPSclLipzJyIpICJcbiIsCiAgICAgICAgICAgICAgICBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsCiAgICAgICAgICAgICAgICBsd3NfZ2V0X3NvY2tldF9mZCh3c2kpLAogICAgICAgICAgICAgICAgbGVuLAogICAgICAgICAgICAgICAgKGludClNSU4obGVuLCAzMiksCiAgICAgICAgICAgICAgICAoY2hhciopaW4pOwogICAgICBNaW5uZXRSZXNwb25zZSogcmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjbGllbnQtPmNvbnRleHQuanMsIHNlc3Npb24tPnJlc3Bfb2JqKTsKICAgICAgYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgaW4sIGxlbiwgY2xpZW50LT5jb250ZXh0LmpzKTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgY2FzZSBMV1NfQ0FMTEJBQ0tfQ09NUExFVEVEX0NMSUVOVF9IVFRQOiB7CiAgICAgIE1pbm5ldFJlc3BvbnNlKiByZXNwID0gY2xpZW50LT5yZXNwb25zZTsKICAgICAgaGVhZGVyc19nZXQoY2xpZW50LT5jb250ZXh0LmpzLCAmcmVzcC0+aGVhZGVycywgd3NpKTsKICAgICAgaWYoY2xpZW50LT5vbi5odHRwLmN0eCkgewogICAgICAgIGludDMyX3QgcmVzdWx0ID0gLTE7CiAgICAgICAgSlNWYWx1ZSByZXQ7CiAgICAgICAgcmV0ID0gbWlubmV0X2VtaXQoJmNsaWVudC0+b24uaHR0cCwgMiwgJnNlc3Npb24tPnJlcV9vYmopOwogICAgICAgIGlmKCFjbGllbnRfZXhjZXB0aW9uKGNsaWVudCwgcmV0KSkgewogICAgICAgICAgaWYoSlNfSXNOdW1iZXIocmV0KSkKICAgICAgICAgICAgSlNfVG9JbnQzMihjbGllbnQtPm9uLmh0dHAuY3R4LCAmcmVzdWx0LCByZXQpOwogICAgICAgIH0KICAgICAgICBsd3NfY2FuY2VsX3NlcnZpY2UobHdzX2dldF9jb250ZXh0KHdzaSkpOyAvKiBhYm9ydCBwb2xsIHdhaXQgKi8KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTFdTX0NBTExCQUNLX1BST1RPQ09MX0RFU1RST1k6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIG1pbm5ldF9sd3NfdW5oYW5kbGVkKF9fZnVuY19fLCByZWFzb24pOwogICAgICBicmVhazsKICAgIH0KICB9CgogIC8qIGlmKHJlYXNvbiA8IExXU19DQUxMQkFDS19BRERfUE9MTF9GRCB8fCByZWFzb24gPiBMV1NfQ0FMTEJBQ0tfVU5MT0NLX1BPTEwpCiAgICAgbHdzbF9ub3RpY2UoImNsaWVudC1odHRwICAlLTM4cyBmZD0laSwgaW49JyUuKnMnXG4iLCBsd3NfY2FsbGJhY2tfbmFtZShyZWFzb24pICsgMTMsIGx3c19nZXRfc29ja2V0X2ZkKGx3c19nZXRfbmV0d29ya193c2kod3NpKSksIChpbnQpbGVuLCAoY2hhciopaW4pOwogKi8KICByZXR1cm4gbHdzX2NhbGxiYWNrX2h0dHBfZHVtbXkod3NpLCByZWFzb24sIHVzZXIsIGluLCBsZW4pOwp9CgAAAAAAAAAAYh0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMgIAAAAAAAAyAgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-url.c",
			"settings":
			{
				"buffer_size": 18850,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAzRwAAI2luY2x1ZGUgIm1pbm5ldC5oIgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxsaW1pdHMuaD4KCiNpZm5kZWYgSEFWRV9TVFJMQ1BZCnNpemVfdApzdHJsY3B5KGNoYXIqIGRzdCwgY29uc3QgY2hhciogc3JjLCBzaXplX3Qgc2l6KSB7CiAgcmVnaXN0ZXIgY2hhciogZCA9IGRzdDsKICByZWdpc3RlciBjb25zdCBjaGFyKiBzID0gc3JjOwogIHJlZ2lzdGVyIHNpemVfdCBuID0gc2l6OwoKICBpZihuICE9IDAgJiYgLS1uICE9IDApIHsKICAgIGRvIHsKICAgICAgaWYoKCpkKysgPSAqcysrKSA9PSAwKQogICAgICAgIGJyZWFrOwogICAgfSB3aGlsZSgtLW4gIT0gMCk7CiAgfQoKICBpZihuID09IDApIHsKICAgIGlmKHNpeiAhPSAwKQogICAgICAqZCA9ICdcMCc7CiAgICB3aGlsZSgqcysrKQogICAgICA7CiAgfQoKICByZXR1cm4gKHMgLSBzcmMgLSAxKTsKfQojZW5kaWYKCnN0YXRpYyBjaGFyIGNvbnN0KiBjb25zdCBwcm90b2NvbF9uYW1lc1tdID0gewogICAgIndzIiwKICAgICJ3c3MiLAogICAgImh0dHAiLAogICAgImh0dHBzIiwKICAgICJyYXciLAogICAgInRscyIsCn07CgpNaW5uZXRQcm90b2NvbApwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciogcHJvdG9jb2wpIHsKICBpbnQgaTsKCiAgZm9yKGkgPSBjb3VudG9mKHByb3RvY29sX25hbWVzKSAtIDE7IGkgPj0gMDsgLS1pKQogICAgaWYoIXN0cmNhc2VjbXAocHJvdG9jb2wsIHByb3RvY29sX25hbWVzW2ldKSkKICAgICAgcmV0dXJuIGk7CgogIHJldHVybiBQUk9UT0NPTF9SQVc7Cn0KCmNvbnN0IGNoYXIqCnByb3RvY29sX3N0cmluZyhNaW5uZXRQcm90b2NvbCBwKSB7CiAgaW50IGkgPSAodW5zaWduZWQgaW50KXA7CiAgYXNzZXJ0KGkgPj0gMCk7CiAgYXNzZXJ0KGkgPCBjb3VudG9mKHByb3RvY29sX25hbWVzKSk7CiAgcmV0dXJuIHByb3RvY29sX25hbWVzW2ldOwp9Cgp1aW50MTZfdApwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wgcCkgewogIHN3aXRjaChwKSB7CiAgICBjYXNlIFBST1RPQ09MX1dTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQOiB7CiAgICAgIHJldHVybiA4MDsKICAgIH0KICAgIGNhc2UgUFJPVE9DT0xfV1NTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQUzogewogICAgICByZXR1cm4gNDQzOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXR1cm4gMDsKICAgIH0KICB9Cn0KCkJPT0wKcHJvdG9jb2xfaXNfdGxzKE1pbm5ldFByb3RvY29sIHApIHsKICBzd2l0Y2gocCkgewogICAgY2FzZSBQUk9UT0NPTF9XU1M6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOgogICAgY2FzZSBQUk9UT0NPTF9UTFM6IHsKICAgICAgcmV0dXJuIFRSVUU7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiBGQUxTRTsKICAgIH0KICB9Cn0KCnZvaWQKdXJsX2luaXQoTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvY29sLCBjb25zdCBjaGFyKiBob3N0LCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IHByb3RvY29sX251bWJlcihwcm90b2NvbCk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocHJvdG8pOwogIHVybC0+aG9zdCA9IGpzX3N0cmR1cChjdHgsIGhvc3QgJiYgKmhvc3QgPyBob3N0IDogIjAuMC4wLjAiKTsKICB1cmwtPnBvcnQgPSBwb3J0ID49IDAgJiYgcG9ydCA8PSA2NTUzNSA/IHBvcnQgOiBwcm90b2NvbF9kZWZhdWx0X3BvcnQocHJvdG8pOwogIHVybC0+cGF0aCA9IGpzX3N0cmR1cChjdHgsIHBhdGggPyBwYXRoIDogIiIpOwp9Cgp2b2lkCnVybF9wYXJzZShNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogdSwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IFBST1RPQ09MX1dTOwogIGNvbnN0IGNoYXIgKnMsICp0OwoKICBpZigocyA9IHN0cnN0cih1LCAiOi8vIikpKSB7CiAgICB1cmwtPnByb3RvY29sID0ganNfc3RybmR1cChjdHgsIHUsIHMgLSB1KTsKICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgdSA9IHMgKyAzOwogIH0gZWxzZSB7CiAgICB1cmwtPnByb3RvY29sID0gMDsKICB9CgogIGZvcihzID0gdTsgKnM7ICsrcykKICAgIGlmKCpzID09ICc6JyB8fCAqcyA9PSAnLycpCiAgICAgIGJyZWFrOwoKICB1cmwtPmhvc3QgPSBzID4gdSA/IGpzX3N0cm5kdXAoY3R4LCB1LCBzIC0gdSkgOiAwOwoKICBpZigqcyA9PSAnOicpIHsKICAgIHVuc2lnbmVkIGxvbmcgbiA9IHN0cnRvdWwoKytzLCAoY2hhcioqKSZ0LCAxMCk7CgogICAgdXJsLT5wb3J0ID0gbiAhPSBVTE9OR19NQVggPyBuIDogMDsKICAgIGlmKHMgPCB0KQogICAgICBzID0gdDsKICB9IGVsc2UgaWYodXJsLT5wcm90b2NvbCkgewogICAgdXJsLT5wb3J0ID0gcHJvdG9jb2xfZGVmYXVsdF9wb3J0KHByb3RvKTsKICB9IGVsc2UgewogICAgdXJsLT5wb3J0ID0gMDsKICB9CgogIC8vIGlmKCF1cmwtPnBhdGgpCiAgaWYocyAmJiAqcykKICAgIHVybC0+cGF0aCA9IHMgJiYgKnMgPyBqc19zdHJkdXAoY3R4LCBzKSA6IDA7Cn0KCk1pbm5ldFVSTAp1cmxfY3JlYXRlKGNvbnN0IGNoYXIqIHN0ciwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRVUkwgcmV0ID0gezEsIDAsIDAsIDAsIDB9OwogIHVybF9wYXJzZSgmcmV0LCBzdHIsIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc2l6ZV90CnVybF9wcmludChjaGFyKiBidWYsIHNpemVfdCBzaXplLCBjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgc2l6ZV90IHBvcyA9IDA7CgogIGlmKHVybC5wcm90b2NvbCAmJiAqdXJsLnByb3RvY29sKSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoYnVmLCB1cmwucHJvdG9jb2wsIHNpemUgLSBwb3MpIDogc3RybGVuKHVybC5wcm90b2NvbCkpICsgMyA+IHNpemUpCiAgICAgIHJldHVybiBwb3M7CgogICAgaWYoKHBvcyArPSBidWYgPyBzdHJsY3B5KCZidWZbcG9zXSwgIjovLyIsIHNpemUgLSBwb3MpIDogMykgPj0gc2l6ZSkKICAgICAgcmV0dXJuIHBvczsKICB9CgogIGlmKHVybC5ob3N0KSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoJmJ1Zltwb3NdLCB1cmwuaG9zdCwgc2l6ZSAtIHBvcykgOiBzdHJsZW4odXJsLmhvc3QpKSA+PSBzaXplKQogICAgICByZXR1cm4gcG9zOwogIH0KCiAgaWYodXJsLnBvcnQpIHsKICAgIGlmKHNpemUgLSBwb3MgPCA3KQogICAgICByZXR1cm4gcG9zOwogICAgaWYoIWJ1ZikgewogICAgICBwb3MgKz0gMSArICh1cmwucG9ydCA+IDk5OTkgPyA1IDogdXJsLnBvcnQgPiA5OTkgPyA0IDogdXJsLnBvcnQgPiA5OSA/IDMgOiB1cmwucG9ydCA+IDkgPyAyIDogMSk7CiAgICB9IGVsc2UgewogICAgICBzcHJpbnRmKCZidWZbcG9zXSwgIjoldSIsIHVybC5wb3J0KTsKICAgICAgcG9zICs9IHN0cmxlbigmYnVmW3Bvc10pOwogICAgfQogIH0KCiAgaWYodXJsLnBhdGgpIHsKICAgIGlmKChwb3MgKz0gYnVmID8gc3RybGNweSgmYnVmW3Bvc10sIHVybC5wYXRoLCBzaXplIC0gcG9zKSA6IHN0cmxlbih1cmwucGF0aCkpID49IHNpemUpCiAgICAgIHJldHVybiBwb3M7CiAgfQoKICByZXR1cm4gcG9zOwp9CgpjaGFyKgp1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCB1cmwsIEpTQ29udGV4dCogY3R4KSB7CiAgc2l6ZV90IGxlbiA9ICh1cmwucHJvdG9jb2wgPyBzdHJsZW4odXJsLnByb3RvY29sKSArIDMgOiAwKSArICh1cmwuaG9zdCA/IHN0cmxlbih1cmwuaG9zdCkgKyAxICsgNSA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsKICBjaGFyKiBzdHI7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSAtMTsKCiAgaWYoKHN0ciA9IGpzX21hbGxvYyhjdHgsIGxlbikpKSB7CiAgICBjb25zdCBjaGFyKiBob3N0ID0gdXJsLmhvc3QgPyB1cmwuaG9zdCA6ICIwLjAuMC4wIjsKICAgIHNpemVfdCBwb3MgPSAwOwogICAgc3RyW3Bvc10gPSAnXDAnOwogICAgaWYodXJsLnByb3RvY29sKSB7CiAgICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7CiAgICAgIHN0cmNweShzdHIsIHVybC5wcm90b2NvbCk7CiAgICAgIHBvcyArPSBzdHJsZW4oc3RyKTsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgIjovLyIpOwogICAgICBwb3MgKz0gMzsKICAgIH0KICAgIGlmKHByb3RvICE9IC0xICYmIHVybC5wb3J0ID09IHByb3RvY29sX2RlZmF1bHRfcG9ydChwcm90bykpIHsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgaG9zdCk7CiAgICAgIHBvcyArPSBzdHJsZW4oJnN0cltwb3NdKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyArPSBzcHJpbnRmKCZzdHJbcG9zXSwgIiVzOiV1IiwgaG9zdCwgdXJsLnBvcnQpOwogICAgfQogICAgaWYodXJsLnBhdGgpCiAgICAgIHN0cmNweSgmc3RyW3Bvc10sIHVybC5wYXRoKTsKICB9CiAgcmV0dXJuIHN0cjsKfQoKc2l6ZV90CnVybF9sZW5ndGgoY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiB1cmxfcHJpbnQoMCwgODE5MiwgdXJsKTsKICAvKnNpemVfdCBwb3J0bGVuID0gdXJsLnBvcnQgPj0gMTAwMDAgPyA2IDogdXJsLnBvcnQgPj0gMTAwMCA/IDUgOiB1cmwucG9ydCA+PSAxMDAgPyA0IDogdXJsLnBvcnQgPj0gMTAgPyAzIDogdXJsLnBvcnQgPj0gMSA/IDIgOiAwOwogIHJldHVybiAodXJsLnByb3RvY29sID8gc3RybGVuKHVybC5wcm90b2NvbCkgKyAzIDogMCkgKyAodXJsLmhvc3QgPyBzdHJsZW4odXJsLmhvc3QpICsgcG9ydGxlbiA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsqLwp9Cgp2b2lkCnVybF9mcmVlKE1pbm5ldFVSTCogdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPmhvc3QpOwogIGlmKHVybC0+cGF0aCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogIG1lbXNldCh1cmwsIDAsIHNpemVvZihNaW5uZXRVUkwpKTsKfQoKdm9pZAp1cmxfZnJlZV9ydChNaW5uZXRVUkwqIHVybCwgSlNSdW50aW1lKiBydCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWVfcnQocnQsIHVybC0+aG9zdCk7CiAgaWYodXJsLT5wYXRoKQogICAganNfZnJlZV9ydChydCwgdXJsLT5wYXRoKTsKICBtZW1zZXQodXJsLCAwLCBzaXplb2YoTWlubmV0VVJMKSk7Cn0KCk1pbm5ldFByb3RvY29sCnVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvKSB7CiAgTWlubmV0UHJvdG9jb2wgcCA9IHByb3RvY29sX251bWJlcihwcm90byk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocCk7CiAgcmV0dXJuIHA7Cn0KCnZvaWQKdXJsX2luZm8oY29uc3QgTWlubmV0VVJMIHVybCwgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvKiBpbmZvKSB7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSB1cmwucHJvdG9jb2wgPyBwcm90b2NvbF9udW1iZXIodXJsLnByb3RvY29sKSA6IFBST1RPQ09MX1JBVzsKCiAgbWVtc2V0KGluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8pKTsKCiAgc3dpdGNoKHByb3RvKSB7CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiNpZiBkZWZpbmVkKExXU19ST0xFX0gyKSAmJiBkZWZpbmVkKExXU19ST0xFX0gxKQogICAgICBpbmZvLT5hbHBuID0gImgyLGh0dHAvMS4xIjsKI2VsaWYgZGVmaW5lZChMV1NfUk9MRV9IMikKICAgICAgaW5mby0+YWxwbiA9ICJoMiI7CiNlbGlmIGRlZmluZWQoTFdTX1JPTEVfSDEpCiAgICAgIGluZm8tPmFscG4gPSAiaHR0cC8xLjEiOwojZW5kaWYKICAgICAgaW5mby0+cHJvdG9jb2wgPSAiaHR0cCI7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9UT0NPTF9XUzoKICAgIGNhc2UgUFJPVE9DT0xfV1NTOiB7CiAgICAgIGluZm8tPnByb3RvY29sID0gIndzIjsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIGluZm8tPm1ldGhvZCA9ICJSQVciOwogICAgICBpbmZvLT5sb2NhbF9wcm90b2NvbF9uYW1lID0gInJhdyI7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPmFkZHJlc3MgPSB1cmwuaG9zdDsKCiAgaWYocHJvdG9jb2xfaXNfdGxzKHByb3RvKSkgewogICAgaW5mby0+c3NsX2Nvbm5lY3Rpb24gPSBMQ0NTQ0ZfVVNFX1NTTCB8IExDQ1NDRl9IMl9RVUlSS19PVkVSRkxPV1NfVFhDUiB8IExDQ1NDRl9IMl9RVUlSS19OR0hUVFAyX0VORF9TVFJFQU07CiAgICBpbmZvLT5zc2xfY29ubmVjdGlvbiB8PSBMQ0NTQ0ZfQUxMT1dfU0VMRlNJR05FRDsKICAgIGluZm8tPnNzbF9jb25uZWN0aW9uIHw9IExDQ1NDRl9BTExPV19JTlNFQ1VSRTsKICB9CgogIGluZm8tPnBhdGggPSB1cmwucGF0aCA/IHVybC5wYXRoIDogIi8iOwogIGluZm8tPmhvc3QgPSBpbmZvLT5hZGRyZXNzOwogIGluZm8tPm9yaWdpbiA9IGluZm8tPmFkZHJlc3M7Cn0KCi8qaW50CnVybF9jb25uZWN0KE1pbm5ldFVSTCogdXJsLCBzdHJ1Y3QgbHdzX2NvbnRleHQqIGNvbnRleHQsIHN0cnVjdCBsd3MqKiBwX3dzaSkgewogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpOwoKICB1cmxfaW5mbyh1cmwsICZpKTsKCiAgaS5jb250ZXh0ID0gY29udGV4dDsKICBpLnB3c2kgPSBwX3dzaTsKCiAgcmV0dXJuICFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmkpOwp9Ki8KCmNoYXIqCnVybF9sb2NhdGlvbihjb25zdCBNaW5uZXRVUkwgdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHF1ZXJ5OwogIGlmKChxdWVyeSA9IHVybF9xdWVyeSh1cmwpKSkKICAgIHJldHVybiBqc19zdHJuZHVwKGN0eCwgdXJsLnBhdGgsIHF1ZXJ5IC0gdXJsLnBhdGgpOwogIHJldHVybiBqc19zdHJkdXAoY3R4LCB1cmwucGF0aCk7Cn0KCmNvbnN0IGNoYXIqCnVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHVybC5wYXRoOyAqcDsgcCsrKSB7CiAgICBpZigqcCA9PSAnXFwnKSB7CiAgICAgICsrcDsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZigqcCA9PSAnPycpIHsKICAgICAgKytwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuICpwID8gcCA6IDA7Cn0KCnZvaWQKdXJsX2Zyb21vYmooTWlubmV0VVJMKiB1cmwsIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyICpwcm90b2NvbCwgKmhvc3QsICpwYXRoOwogIGludDMyX3QgcG9ydCA9IC0xOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAicHJvdG9jb2wiKTsKICBwcm90b2NvbCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJob3N0Iik7CiAgaG9zdCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwb3J0Iik7CiAgSlNfVG9JbnQzMihjdHgsICZwb3J0LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwYXRoIik7CiAgcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHVybF9pbml0KHVybCwgcHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIGN0eCk7CgogIGlmKHByb3RvY29sKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgaWYoaG9zdCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgaG9zdCk7CiAgaWYocGF0aCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7Cn0KCkJPT0wKdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqIHVybCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFVSTCogb3RoZXI7CgogIGlmKChvdGhlciA9IG1pbm5ldF91cmxfZGF0YSh2YWx1ZSkpKSB7CiAgICB1cmxfY29weSh1cmwsICpvdGhlciwgY3R4KTsKICB9IGVsc2UgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICB1cmxfZnJvbW9iaih1cmwsIHZhbHVlLCBjdHgpOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHVybF9wYXJzZSh1cmwsIHN0ciwgY3R4KTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKdXJsX2R1bXAoY29uc3QgY2hhciogbiwgTWlubmV0VVJMIGNvbnN0KiB1cmwpIHsKICBmcHJpbnRmKHN0ZGVyciwgIiVzeyBwcm90b2NvbCA9ICVzLCBob3N0ID0gJXMsIHBvcnQgPSAldSwgcGF0aCA9ICVzIH1cbiIsIG4sIHVybC0+cHJvdG9jb2wsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCB1cmwtPnBhdGgpOwogIGZmbHVzaChzdGRlcnIpOwp9CgpKU1ZhbHVlCnF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiBxLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHA7CiAgc2l6ZV90IGksIG4gPSBzdHJsZW4ocSk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgZm9yKGkgPSAwLCBwID0gcTsgaSA8PSBuOyBpKyssIHErKykgewogICAgaWYoKnEgPT0gJ1xcJykgewogICAgICArK3E7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgaWYoKnAgPT0gJyYnIHx8ICpwID09ICdcMCcpIHsKICAgICAgc2l6ZV90IG5hbWVsZW4sIGxlbjsKICAgICAgY2hhciAqdmFsdWUsICpkZWNvZGVkOwogICAgICBKU0F0b20gYXRvbTsKICAgICAgaWYoKHZhbHVlID0gc3RyY2hyKHEsICc9JykpKSB7CiAgICAgICAgbmFtZWxlbiA9IChjb25zdCBjaGFyKil2YWx1ZSAtIHE7CiAgICAgICAgKyt2YWx1ZTsKICAgICAgICBhdG9tID0gSlNfTmV3QXRvbUxlbihjdHgsIHEsIG5hbWVsZW4pOwogICAgICAgIGxlbiA9IHAgLSAoY29uc3QgY2hhciopdmFsdWU7CiAgICAgICAgZGVjb2RlZCA9IGpzX3N0cm5kdXAoY3R4LCB2YWx1ZSwgbGVuKTsKICAgICAgICBsd3NfdXJsZGVjb2RlKGRlY29kZWQsIGRlY29kZWQsIGxlbiArIDEpOwogICAgICAgIEpTX1NldFByb3BlcnR5KGN0eCwgcmV0LCBhdG9tLCBKU19OZXdTdHJpbmcoY3R4LCBkZWNvZGVkKSk7CiAgICAgICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpxdWVyeV9mcm9tKEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwogIER5bkJ1ZiBvdXQ7CiAgZGJ1Zl9pbml0Migmb3V0LCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IGxlbjsKICAgIGNvbnN0IGNoYXIgKnByb3AsICpzdHI7CgogICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CgogICAgZGJ1Zl9wdXRzdHIoJm91dCwgcHJvcCk7CiAgICBkYnVmX3B1dGMoJm91dCwgJz0nKTsKICAgIGRidWZfcmVhbGxvYygmb3V0LCBvdXQuc2l6ZSArIChsZW4gKiAzKSArIDEpOwoKICAgIGx3c191cmxlbmNvZGUoKGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSwgc3RyLCBvdXQuYWxsb2NhdGVkX3NpemUgLSBvdXQuc2l6ZSk7CiAgICBvdXQuc2l6ZSArPSBzdHJsZW4oKGNvbnN0IGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSk7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gKGNoYXIqKW91dC5idWY7Cn0KCnN0YXRpYyBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3VybF9jbGFzc19pZDsKCmVudW0geyBVUkxfUFJPVE9DT0wsIFVSTF9IT1NULCBVUkxfUE9SVCwgVVJMX1BBVEgsIFVSTF9UTFMgfTsKCkpTVmFsdWUKbWlubmV0X3VybF93cmFwKEpTQ29udGV4dCogY3R4LCBNaW5uZXRVUkwqIHVybCkgewogIEpTVmFsdWUgdXJsX29iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24odXJsX29iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIC8qCiAgICBpZighKHVybCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0VVJMKSkpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHVybF9vYmopOwogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgfQoKICAgICp1cmwgPSB1OwogICovCiAgSlNfU2V0T3BhcXVlKHVybF9vYmosIHVybCk7CgogIHJldHVybiB1cmxfb2JqOwp9CgpNaW5uZXRVUkwqCnVybF9uZXcoSlNDb250ZXh0KiBjdHgpIHsKCiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gdXJsOwoKICB1cmwtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHVybDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHUpIHsKICBNaW5uZXRVUkwqIHVybDsKCiAgaWYoISh1cmwgPSB1cmxfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgdXJsX2NvcHkodXJsLCB1LCBjdHgpOwogIHJldHVybiBtaW5uZXRfdXJsX3dyYXAoY3R4LCB1cmwpOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfdXJsX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEodGhpc192YWwpKSkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgcmV0ID0gdXJsLT5wcm90b2NvbCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cHJvdG9jb2wpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIHJldCA9IHVybC0+aG9zdCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+aG9zdCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgdXJsLT5wb3J0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9QQVRIOiB7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cGF0aCA/IHVybC0+cGF0aCA6ICIiKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9UTFM6IHsKICAgICAgaWYodXJsLT5wcm90b2NvbCkgewogICAgICAgIE1pbm5ldFByb3RvY29sIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBwcm90b2NvbF9pc190bHMocHJvdG8pKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3VybF9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIHN0cjsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICB1cmwtPnByb3RvY29sID0gMDsKICAgICAgfSBlbHNlIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgICAgdXJsLT5wcm90b2NvbCA9IHByb3RvY29sX3N0cmluZyhwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIC8qaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSAwOwogICAgICB9IGVsc2UgKi8KICAgICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgdWludDMyX3QgcG9ydCA9IDA7CiAgICAgIGlmKCFKU19Ub1VpbnQzMihjdHgsICZwb3J0LCB2YWx1ZSkpCiAgICAgICAgaWYocG9ydCA8PSA2NTUzNSkKICAgICAgICAgIHVybC0+cG9ydCA9IHBvcnQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfUEFUSDogewogICAgICAvKiBpZihKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgICAgICBpZih1cmwtPnBhdGgpCiAgICAgICAgICAganNfZnJlZShjdHgsIHVybC0+cGF0aCk7CiAgICAgICAgIHVybC0+cGF0aCA9IDA7CiAgICAgICB9IGVsc2UqLwogICAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpKSkgewogICAgICAgIGlmKHVybC0+cGF0aCkKICAgICAgICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogICAgICAgIHVybC0+cGF0aCA9IGpzX3N0cm5kdXAoY3R4LCBzdHIsIGxlbik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7IFVSTF9UT19TVFJJTkcgfTsKCkpTVmFsdWUKbWlubmV0X3VybF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFVSTF9UT19TVFJJTkc6IHsKICAgICAgY2hhciogc3RyOwoKICAgICAgaWYoKHN0ciA9IHVybF9mb3JtYXQoKnVybCwgY3R4KSkpIHsKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFVSTCogdXJsOwoKICBpZighKHVybCA9IHVybF9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICB1cmxfZnJvbXZhbHVlKHVybCwgYXJndlswXSwgY3R4KTsKCiAgaWYoIXVybF92YWxpZCgqdXJsKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJOb3QgYSB2YWxpZCBVUkwiKTsKCiAgcmV0dXJuIG1pbm5ldF91cmxfd3JhcChjdHgsIHVybCk7Cn0KCkpTVmFsdWUKbWlubmV0X3VybF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgRHluQnVmIGRidWY7CiAgY2hhciogc3RyOwogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0LCBvcHRpb25zID0gYXJnYyA+PSAyICYmIEpTX0lzT2JqZWN0KGFyZ3ZbMV0pID8gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSA6IGFyZ2MgPj0gMSAmJiBKU19Jc09iamVjdChhcmd2WzBdKSA/IEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkgOiBKU19OZXdPYmplY3QoY3R4KTsKICBKU1ZhbHVlIG9wdF9jb2xvcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJjb2xvcnMiKTsKICBCT09MIGNvbG9ycyA9IEpTX0lzVW5kZWZpbmVkKG9wdF9jb2xvcnMpID8gVFJVRSA6IEpTX1RvQm9vbChjdHgsIG9wdF9jb2xvcnMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9jb2xvcnMpOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZGJ1Zl9pbml0MigmZGJ1ZiwgY3R4LCAoRHluQnVmUmVhbGxvY0Z1bmMqKWpzX3JlYWxsb2MpOwoKICBkYnVmX3B1dHN0cigmZGJ1ZiwgY29sb3JzID8gIlx4MWJbMTszMW1NaW5uZXRVUkxceDFiWzBtIiA6ICJNaW5uZXRVUkwiKTsKICBpZigoc3RyID0gdXJsX2Zvcm1hdCgqdXJsLCBjdHgpKSkgewogICAgZGJ1Zl9wcmludGYoJmRidWYsIGNvbG9ycyA/ICIgXHgxYlsxOzMzbSVzXHgxYlswbSIgOiAiICVzIiwgc3RyKTsKICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogIH0KICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICBkYnVmX2ZyZWUoJmRidWYpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRpb25zKTsKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSkpKQogICAgICB1cmxfcGFyc2UodXJsLCBzdHIsIGN0eCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCB1cmwpOwogIHJldHVybiBvYmo7CgpmYWlsOgogIGpzX2ZyZWUoY3R4LCB1cmwpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIHZvaWQKbWlubmV0X3VybF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRVUkwqIHVybCA9IEpTX0dldE9wYXF1ZSh2YWwsIG1pbm5ldF91cmxfY2xhc3NfaWQpOwogIGlmKHVybCkgewogICAgdXJsX2ZyZWVfcnQodXJsLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCB1cmwpOwogIH0KfQoKc3RhdGljIEpTQ2xhc3NEZWYgbWlubmV0X3VybF9jbGFzcyA9IHsKICAgICJNaW5uZXRVUkwiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF91cmxfZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF91cmxfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwcm90b2NvbCIsIG1pbm5ldF91cmxfZ2V0LCBtaW5uZXRfdXJsX3NldCwgVVJMX1BST1RPQ09MLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhvc3QiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9IT1NULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBvcnQiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QT1JULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBhdGgiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QQVRILCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInRscyIsIG1pbm5ldF91cmxfZ2V0LCAwLCBVUkxfVExTLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBtaW5uZXRfdXJsX21ldGhvZCwgVVJMX1RPX1NUUklORyksCiAgICBKU19DRlVOQ19ERUYoImluc3BlY3QiLCAwLCBtaW5uZXRfdXJsX2luc3BlY3QpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRVUkwiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3VybF9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigiZnJvbSIsIDEsIG1pbm5ldF91cmxfZnJvbSksCn07CgppbnQKbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTQXRvbSBpbnNwZWN0X2F0b207CgogIC8vIEFkZCBjbGFzcyBVUkwKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF91cmxfY2xhc3NfaWQsICZtaW5uZXRfdXJsX2NsYXNzKTsKICBtaW5uZXRfdXJsX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX3Byb3RvX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfcHJvdG9fZnVuY3MpKTsKCiAgbWlubmV0X3VybF9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF91cmxfY29uc3RydWN0b3IsICJNaW5uZXRVUkwiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX2N0b3IsIG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzKSk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3VybF9jdG9yLCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgaWYoKGluc3BlY3RfYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpbnNwZWN0IikpID49IDApIHsKICAgIEpTX1NldFByb3BlcnR5KGN0eCwgbWlubmV0X3VybF9wcm90bywgaW5zcGVjdF9hdG9tLCBKU19OZXdDRnVuY3Rpb24oY3R4LCBtaW5uZXRfdXJsX2luc3BlY3QsICJpbnNwZWN0IiwgMCkpOwogICAgSlNfRnJlZUF0b20oY3R4LCBpbnNwZWN0X2F0b20pOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJVUkwiLCBtaW5uZXRfdXJsX2N0b3IpOwoKICByZXR1cm4gMDsKfQoAAAAAAAAAADNHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABQIAAAAAAAAJAgAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAzRwAAI2luY2x1ZGUgIm1pbm5ldC5oIgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxsaW1pdHMuaD4KCiNpZm5kZWYgSEFWRV9TVFJMQ1BZCnNpemVfdApzdHJsY3B5KGNoYXIqIGRzdCwgY29uc3QgY2hhciogc3JjLCBzaXplX3Qgc2l6KSB7CiAgcmVnaXN0ZXIgY2hhciogZCA9IGRzdDsKICByZWdpc3RlciBjb25zdCBjaGFyKiBzID0gc3JjOwogIHJlZ2lzdGVyIHNpemVfdCBuID0gc2l6OwoKICBpZihuICE9IDAgJiYgLS1uICE9IDApIHsKICAgIGRvIHsKICAgICAgaWYoKCpkKysgPSAqcysrKSA9PSAwKQogICAgICAgIGJyZWFrOwogICAgfSB3aGlsZSgtLW4gIT0gMCk7CiAgfQoKICBpZihuID09IDApIHsKICAgIGlmKHNpeiAhPSAwKQogICAgICAqZCA9ICdcMCc7CiAgICB3aGlsZSgqcysrKQogICAgICA7CiAgfQoKICByZXR1cm4gKHMgLSBzcmMgLSAxKTsKfQojZW5kaWYKCnN0YXRpYyBjaGFyIGNvbnN0KiBjb25zdCBwcm90b2NvbF9uYW1lc1tdID0gewogICAgIndzIiwKICAgICJ3c3MiLAogICAgImh0dHAiLAogICAgImh0dHBzIiwKICAgICJyYXciLAogICAgInRscyIsCn07CgpNaW5uZXRQcm90b2NvbApwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciogcHJvdG9jb2wpIHsKICBpbnQgaTsKCiAgZm9yKGkgPSBjb3VudG9mKHByb3RvY29sX25hbWVzKSAtIDE7IGkgPj0gMDsgLS1pKQogICAgaWYoIXN0cmNhc2VjbXAocHJvdG9jb2wsIHByb3RvY29sX25hbWVzW2ldKSkKICAgICAgcmV0dXJuIGk7CgogIHJldHVybiBQUk9UT0NPTF9SQVc7Cn0KCmNvbnN0IGNoYXIqCnByb3RvY29sX3N0cmluZyhNaW5uZXRQcm90b2NvbCBwKSB7CiAgaW50IGkgPSAodW5zaWduZWQgaW50KXA7CiAgYXNzZXJ0KGkgPj0gMCk7CiAgYXNzZXJ0KGkgPCBjb3VudG9mKHByb3RvY29sX25hbWVzKSk7CiAgcmV0dXJuIHByb3RvY29sX25hbWVzW2ldOwp9Cgp1aW50MTZfdApwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wgcCkgewogIHN3aXRjaChwKSB7CiAgICBjYXNlIFBST1RPQ09MX1dTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQOiB7CiAgICAgIHJldHVybiA4MDsKICAgIH0KICAgIGNhc2UgUFJPVE9DT0xfV1NTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQUzogewogICAgICByZXR1cm4gNDQzOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXR1cm4gMDsKICAgIH0KICB9Cn0KCkJPT0wKcHJvdG9jb2xfaXNfdGxzKE1pbm5ldFByb3RvY29sIHApIHsKICBzd2l0Y2gocCkgewogICAgY2FzZSBQUk9UT0NPTF9XU1M6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOgogICAgY2FzZSBQUk9UT0NPTF9UTFM6IHsKICAgICAgcmV0dXJuIFRSVUU7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiBGQUxTRTsKICAgIH0KICB9Cn0KCnZvaWQKdXJsX2luaXQoTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvY29sLCBjb25zdCBjaGFyKiBob3N0LCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IHByb3RvY29sX251bWJlcihwcm90b2NvbCk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocHJvdG8pOwogIHVybC0+aG9zdCA9IGpzX3N0cmR1cChjdHgsIGhvc3QgJiYgKmhvc3QgPyBob3N0IDogIjAuMC4wLjAiKTsKICB1cmwtPnBvcnQgPSBwb3J0ID49IDAgJiYgcG9ydCA8PSA2NTUzNSA/IHBvcnQgOiBwcm90b2NvbF9kZWZhdWx0X3BvcnQocHJvdG8pOwogIHVybC0+cGF0aCA9IGpzX3N0cmR1cChjdHgsIHBhdGggPyBwYXRoIDogIiIpOwp9Cgp2b2lkCnVybF9wYXJzZShNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogdSwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IFBST1RPQ09MX1dTOwogIGNvbnN0IGNoYXIgKnMsICp0OwoKICBpZigocyA9IHN0cnN0cih1LCAiOi8vIikpKSB7CiAgICB1cmwtPnByb3RvY29sID0ganNfc3RybmR1cChjdHgsIHUsIHMgLSB1KTsKICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgdSA9IHMgKyAzOwogIH0gZWxzZSB7CiAgICB1cmwtPnByb3RvY29sID0gMDsKICB9CgogIGZvcihzID0gdTsgKnM7ICsrcykKICAgIGlmKCpzID09ICc6JyB8fCAqcyA9PSAnLycpCiAgICAgIGJyZWFrOwoKICB1cmwtPmhvc3QgPSBzID4gdSA/IGpzX3N0cm5kdXAoY3R4LCB1LCBzIC0gdSkgOiAwOwoKICBpZigqcyA9PSAnOicpIHsKICAgIHVuc2lnbmVkIGxvbmcgbiA9IHN0cnRvdWwoKytzLCAoY2hhcioqKSZ0LCAxMCk7CgogICAgdXJsLT5wb3J0ID0gbiAhPSBVTE9OR19NQVggPyBuIDogMDsKICAgIGlmKHMgPCB0KQogICAgICBzID0gdDsKICB9IGVsc2UgaWYodXJsLT5wcm90b2NvbCkgewogICAgdXJsLT5wb3J0ID0gcHJvdG9jb2xfZGVmYXVsdF9wb3J0KHByb3RvKTsKICB9IGVsc2UgewogICAgdXJsLT5wb3J0ID0gMDsKICB9CgogIC8vIGlmKCF1cmwtPnBhdGgpCiAgaWYocyAmJiAqcykKICAgIHVybC0+cGF0aCA9IHMgJiYgKnMgPyBqc19zdHJkdXAoY3R4LCBzKSA6IDA7Cn0KCk1pbm5ldFVSTAp1cmxfY3JlYXRlKGNvbnN0IGNoYXIqIHN0ciwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRVUkwgcmV0ID0gezEsIDAsIDAsIDAsIDB9OwogIHVybF9wYXJzZSgmcmV0LCBzdHIsIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc2l6ZV90CnVybF9wcmludChjaGFyKiBidWYsIHNpemVfdCBzaXplLCBjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgc2l6ZV90IHBvcyA9IDA7CgogIGlmKHVybC5wcm90b2NvbCAmJiAqdXJsLnByb3RvY29sKSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoYnVmLCB1cmwucHJvdG9jb2wsIHNpemUgLSBwb3MpIDogc3RybGVuKHVybC5wcm90b2NvbCkpICsgMyA+IHNpemUpCiAgICAgIHJldHVybiBwb3M7CgogICAgaWYoKHBvcyArPSBidWYgPyBzdHJsY3B5KCZidWZbcG9zXSwgIjovLyIsIHNpemUgLSBwb3MpIDogMykgPj0gc2l6ZSkKICAgICAgcmV0dXJuIHBvczsKICB9CgogIGlmKHVybC5ob3N0KSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoJmJ1Zltwb3NdLCB1cmwuaG9zdCwgc2l6ZSAtIHBvcykgOiBzdHJsZW4odXJsLmhvc3QpKSA+PSBzaXplKQogICAgICByZXR1cm4gcG9zOwogIH0KCiAgaWYodXJsLnBvcnQpIHsKICAgIGlmKHNpemUgLSBwb3MgPCA3KQogICAgICByZXR1cm4gcG9zOwogICAgaWYoIWJ1ZikgewogICAgICBwb3MgKz0gMSArICh1cmwucG9ydCA+IDk5OTkgPyA1IDogdXJsLnBvcnQgPiA5OTkgPyA0IDogdXJsLnBvcnQgPiA5OSA/IDMgOiB1cmwucG9ydCA+IDkgPyAyIDogMSk7CiAgICB9IGVsc2UgewogICAgICBzcHJpbnRmKCZidWZbcG9zXSwgIjoldSIsIHVybC5wb3J0KTsKICAgICAgcG9zICs9IHN0cmxlbigmYnVmW3Bvc10pOwogICAgfQogIH0KCiAgaWYodXJsLnBhdGgpIHsKICAgIGlmKChwb3MgKz0gYnVmID8gc3RybGNweSgmYnVmW3Bvc10sIHVybC5wYXRoLCBzaXplIC0gcG9zKSA6IHN0cmxlbih1cmwucGF0aCkpID49IHNpemUpCiAgICAgIHJldHVybiBwb3M7CiAgfQoKICByZXR1cm4gcG9zOwp9CgpjaGFyKgp1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCB1cmwsIEpTQ29udGV4dCogY3R4KSB7CiAgc2l6ZV90IGxlbiA9ICh1cmwucHJvdG9jb2wgPyBzdHJsZW4odXJsLnByb3RvY29sKSArIDMgOiAwKSArICh1cmwuaG9zdCA/IHN0cmxlbih1cmwuaG9zdCkgKyAxICsgNSA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsKICBjaGFyKiBzdHI7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSAtMTsKCiAgaWYoKHN0ciA9IGpzX21hbGxvYyhjdHgsIGxlbikpKSB7CiAgICBjb25zdCBjaGFyKiBob3N0ID0gdXJsLmhvc3QgPyB1cmwuaG9zdCA6ICIwLjAuMC4wIjsKICAgIHNpemVfdCBwb3MgPSAwOwogICAgc3RyW3Bvc10gPSAnXDAnOwogICAgaWYodXJsLnByb3RvY29sKSB7CiAgICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7CiAgICAgIHN0cmNweShzdHIsIHVybC5wcm90b2NvbCk7CiAgICAgIHBvcyArPSBzdHJsZW4oc3RyKTsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgIjovLyIpOwogICAgICBwb3MgKz0gMzsKICAgIH0KICAgIGlmKHByb3RvICE9IC0xICYmIHVybC5wb3J0ID09IHByb3RvY29sX2RlZmF1bHRfcG9ydChwcm90bykpIHsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgaG9zdCk7CiAgICAgIHBvcyArPSBzdHJsZW4oJnN0cltwb3NdKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyArPSBzcHJpbnRmKCZzdHJbcG9zXSwgIiVzOiV1IiwgaG9zdCwgdXJsLnBvcnQpOwogICAgfQogICAgaWYodXJsLnBhdGgpCiAgICAgIHN0cmNweSgmc3RyW3Bvc10sIHVybC5wYXRoKTsKICB9CiAgcmV0dXJuIHN0cjsKfQoKc2l6ZV90CnVybF9sZW5ndGgoY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiB1cmxfcHJpbnQoMCwgODE5MiwgdXJsKTsKICAvKnNpemVfdCBwb3J0bGVuID0gdXJsLnBvcnQgPj0gMTAwMDAgPyA2IDogdXJsLnBvcnQgPj0gMTAwMCA/IDUgOiB1cmwucG9ydCA+PSAxMDAgPyA0IDogdXJsLnBvcnQgPj0gMTAgPyAzIDogdXJsLnBvcnQgPj0gMSA/IDIgOiAwOwogIHJldHVybiAodXJsLnByb3RvY29sID8gc3RybGVuKHVybC5wcm90b2NvbCkgKyAzIDogMCkgKyAodXJsLmhvc3QgPyBzdHJsZW4odXJsLmhvc3QpICsgcG9ydGxlbiA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsqLwp9Cgp2b2lkCnVybF9mcmVlKE1pbm5ldFVSTCogdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPmhvc3QpOwogIGlmKHVybC0+cGF0aCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogIG1lbXNldCh1cmwsIDAsIHNpemVvZihNaW5uZXRVUkwpKTsKfQoKdm9pZAp1cmxfZnJlZV9ydChNaW5uZXRVUkwqIHVybCwgSlNSdW50aW1lKiBydCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWVfcnQocnQsIHVybC0+aG9zdCk7CiAgaWYodXJsLT5wYXRoKQogICAganNfZnJlZV9ydChydCwgdXJsLT5wYXRoKTsKICBtZW1zZXQodXJsLCAwLCBzaXplb2YoTWlubmV0VVJMKSk7Cn0KCk1pbm5ldFByb3RvY29sCnVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvKSB7CiAgTWlubmV0UHJvdG9jb2wgcCA9IHByb3RvY29sX251bWJlcihwcm90byk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocCk7CiAgcmV0dXJuIHA7Cn0KCnZvaWQKdXJsX2luZm8oY29uc3QgTWlubmV0VVJMIHVybCwgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvKiBpbmZvKSB7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSB1cmwucHJvdG9jb2wgPyBwcm90b2NvbF9udW1iZXIodXJsLnByb3RvY29sKSA6IFBST1RPQ09MX1JBVzsKCiAgbWVtc2V0KGluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8pKTsKCiAgc3dpdGNoKHByb3RvKSB7CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiNpZiBkZWZpbmVkKExXU19ST0xFX0gyKSAmJiBkZWZpbmVkKExXU19ST0xFX0gxKQogICAgICBpbmZvLT5hbHBuID0gImgyLGh0dHAvMS4xIjsKI2VsaWYgZGVmaW5lZChMV1NfUk9MRV9IMikKICAgICAgaW5mby0+YWxwbiA9ICJoMiI7CiNlbGlmIGRlZmluZWQoTFdTX1JPTEVfSDEpCiAgICAgIGluZm8tPmFscG4gPSAiaHR0cC8xLjEiOwojZW5kaWYKICAgICAgaW5mby0+cHJvdG9jb2wgPSAiaHR0cCI7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9UT0NPTF9XUzoKICAgIGNhc2UgUFJPVE9DT0xfV1NTOiB7CiAgICAgIGluZm8tPnByb3RvY29sID0gIndzIjsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIGluZm8tPm1ldGhvZCA9ICJSQVciOwogICAgICBpbmZvLT5sb2NhbF9wcm90b2NvbF9uYW1lID0gInJhdyI7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPmFkZHJlc3MgPSB1cmwuaG9zdDsKCiAgaWYocHJvdG9jb2xfaXNfdGxzKHByb3RvKSkgewogICAgaW5mby0+c3NsX2Nvbm5lY3Rpb24gPSBMQ0NTQ0ZfVVNFX1NTTCB8IExDQ1NDRl9IMl9RVUlSS19PVkVSRkxPV1NfVFhDUiB8IExDQ1NDRl9IMl9RVUlSS19OR0hUVFAyX0VORF9TVFJFQU07CiAgICBpbmZvLT5zc2xfY29ubmVjdGlvbiB8PSBMQ0NTQ0ZfQUxMT1dfU0VMRlNJR05FRDsKICAgIGluZm8tPnNzbF9jb25uZWN0aW9uIHw9IExDQ1NDRl9BTExPV19JTlNFQ1VSRTsKICB9CgogIGluZm8tPnBhdGggPSB1cmwucGF0aCA/IHVybC5wYXRoIDogIi8iOwogIGluZm8tPmhvc3QgPSBpbmZvLT5hZGRyZXNzOwogIGluZm8tPm9yaWdpbiA9IGluZm8tPmFkZHJlc3M7Cn0KCi8qaW50CnVybF9jb25uZWN0KE1pbm5ldFVSTCogdXJsLCBzdHJ1Y3QgbHdzX2NvbnRleHQqIGNvbnRleHQsIHN0cnVjdCBsd3MqKiBwX3dzaSkgewogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpOwoKICB1cmxfaW5mbyh1cmwsICZpKTsKCiAgaS5jb250ZXh0ID0gY29udGV4dDsKICBpLnB3c2kgPSBwX3dzaTsKCiAgcmV0dXJuICFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmkpOwp9Ki8KCmNoYXIqCnVybF9sb2NhdGlvbihjb25zdCBNaW5uZXRVUkwgdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHF1ZXJ5OwogIGlmKChxdWVyeSA9IHVybF9xdWVyeSh1cmwpKSkKICAgIHJldHVybiBqc19zdHJuZHVwKGN0eCwgdXJsLnBhdGgsIHF1ZXJ5IC0gdXJsLnBhdGgpOwogIHJldHVybiBqc19zdHJkdXAoY3R4LCB1cmwucGF0aCk7Cn0KCmNvbnN0IGNoYXIqCnVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHVybC5wYXRoOyAqcDsgcCsrKSB7CiAgICBpZigqcCA9PSAnXFwnKSB7CiAgICAgICsrcDsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZigqcCA9PSAnPycpIHsKICAgICAgKytwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuICpwID8gcCA6IDA7Cn0KCnZvaWQKdXJsX2Zyb21vYmooTWlubmV0VVJMKiB1cmwsIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyICpwcm90b2NvbCwgKmhvc3QsICpwYXRoOwogIGludDMyX3QgcG9ydCA9IC0xOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAicHJvdG9jb2wiKTsKICBwcm90b2NvbCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJob3N0Iik7CiAgaG9zdCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwb3J0Iik7CiAgSlNfVG9JbnQzMihjdHgsICZwb3J0LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwYXRoIik7CiAgcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHVybF9pbml0KHVybCwgcHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIGN0eCk7CgogIGlmKHByb3RvY29sKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgaWYoaG9zdCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgaG9zdCk7CiAgaWYocGF0aCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7Cn0KCkJPT0wKdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqIHVybCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFVSTCogb3RoZXI7CgogIGlmKChvdGhlciA9IG1pbm5ldF91cmxfZGF0YSh2YWx1ZSkpKSB7CiAgICB1cmxfY29weSh1cmwsICpvdGhlciwgY3R4KTsKICB9IGVsc2UgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICB1cmxfZnJvbW9iaih1cmwsIHZhbHVlLCBjdHgpOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHVybF9wYXJzZSh1cmwsIHN0ciwgY3R4KTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKdXJsX2R1bXAoY29uc3QgY2hhciogbiwgTWlubmV0VVJMIGNvbnN0KiB1cmwpIHsKICBmcHJpbnRmKHN0ZGVyciwgIiVzeyBwcm90b2NvbCA9ICVzLCBob3N0ID0gJXMsIHBvcnQgPSAldSwgcGF0aCA9ICVzIH1cbiIsIG4sIHVybC0+cHJvdG9jb2wsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCB1cmwtPnBhdGgpOwogIGZmbHVzaChzdGRlcnIpOwp9CgpKU1ZhbHVlCnF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiBxLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHA7CiAgc2l6ZV90IGksIG4gPSBzdHJsZW4ocSk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgZm9yKGkgPSAwLCBwID0gcTsgaSA8PSBuOyBpKyssIHErKykgewogICAgaWYoKnEgPT0gJ1xcJykgewogICAgICArK3E7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgaWYoKnAgPT0gJyYnIHx8ICpwID09ICdcMCcpIHsKICAgICAgc2l6ZV90IG5hbWVsZW4sIGxlbjsKICAgICAgY2hhciAqdmFsdWUsICpkZWNvZGVkOwogICAgICBKU0F0b20gYXRvbTsKICAgICAgaWYoKHZhbHVlID0gc3RyY2hyKHEsICc9JykpKSB7CiAgICAgICAgbmFtZWxlbiA9IChjb25zdCBjaGFyKil2YWx1ZSAtIHE7CiAgICAgICAgKyt2YWx1ZTsKICAgICAgICBhdG9tID0gSlNfTmV3QXRvbUxlbihjdHgsIHEsIG5hbWVsZW4pOwogICAgICAgIGxlbiA9IHAgLSAoY29uc3QgY2hhciopdmFsdWU7CiAgICAgICAgZGVjb2RlZCA9IGpzX3N0cm5kdXAoY3R4LCB2YWx1ZSwgbGVuKTsKICAgICAgICBsd3NfdXJsZGVjb2RlKGRlY29kZWQsIGRlY29kZWQsIGxlbiArIDEpOwogICAgICAgIEpTX1NldFByb3BlcnR5KGN0eCwgcmV0LCBhdG9tLCBKU19OZXdTdHJpbmcoY3R4LCBkZWNvZGVkKSk7CiAgICAgICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpxdWVyeV9mcm9tKEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwogIER5bkJ1ZiBvdXQ7CiAgZGJ1Zl9pbml0Migmb3V0LCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IGxlbjsKICAgIGNvbnN0IGNoYXIgKnByb3AsICpzdHI7CgogICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CgogICAgZGJ1Zl9wdXRzdHIoJm91dCwgcHJvcCk7CiAgICBkYnVmX3B1dGMoJm91dCwgJz0nKTsKICAgIGRidWZfcmVhbGxvYygmb3V0LCBvdXQuc2l6ZSArIChsZW4gKiAzKSArIDEpOwoKICAgIGx3c191cmxlbmNvZGUoKGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSwgc3RyLCBvdXQuYWxsb2NhdGVkX3NpemUgLSBvdXQuc2l6ZSk7CiAgICBvdXQuc2l6ZSArPSBzdHJsZW4oKGNvbnN0IGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSk7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gKGNoYXIqKW91dC5idWY7Cn0KCnN0YXRpYyBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3VybF9jbGFzc19pZDsKCmVudW0geyBVUkxfUFJPVE9DT0wsIFVSTF9IT1NULCBVUkxfUE9SVCwgVVJMX1BBVEgsIFVSTF9UTFMgfTsKCkpTVmFsdWUKbWlubmV0X3VybF93cmFwKEpTQ29udGV4dCogY3R4LCBNaW5uZXRVUkwqIHVybCkgewogIEpTVmFsdWUgdXJsX29iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24odXJsX29iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIC8qCiAgICBpZighKHVybCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0VVJMKSkpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHVybF9vYmopOwogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgfQoKICAgICp1cmwgPSB1OwogICovCiAgSlNfU2V0T3BhcXVlKHVybF9vYmosIHVybCk7CgogIHJldHVybiB1cmxfb2JqOwp9CgpNaW5uZXRVUkwqCnVybF9uZXcoSlNDb250ZXh0KiBjdHgpIHsKCiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gdXJsOwoKICB1cmwtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHVybDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHUpIHsKICBNaW5uZXRVUkwqIHVybDsKCiAgaWYoISh1cmwgPSB1cmxfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgdXJsX2NvcHkodXJsLCB1LCBjdHgpOwogIHJldHVybiBtaW5uZXRfdXJsX3dyYXAoY3R4LCB1cmwpOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfdXJsX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEodGhpc192YWwpKSkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgcmV0ID0gdXJsLT5wcm90b2NvbCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cHJvdG9jb2wpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIHJldCA9IHVybC0+aG9zdCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+aG9zdCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgdXJsLT5wb3J0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9QQVRIOiB7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cGF0aCA/IHVybC0+cGF0aCA6ICIiKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9UTFM6IHsKICAgICAgaWYodXJsLT5wcm90b2NvbCkgewogICAgICAgIE1pbm5ldFByb3RvY29sIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBwcm90b2NvbF9pc190bHMocHJvdG8pKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3VybF9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIHN0cjsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICB1cmwtPnByb3RvY29sID0gMDsKICAgICAgfSBlbHNlIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgICAgdXJsLT5wcm90b2NvbCA9IHByb3RvY29sX3N0cmluZyhwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIC8qaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSAwOwogICAgICB9IGVsc2UgKi8KICAgICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgdWludDMyX3QgcG9ydCA9IDA7CiAgICAgIGlmKCFKU19Ub1VpbnQzMihjdHgsICZwb3J0LCB2YWx1ZSkpCiAgICAgICAgaWYocG9ydCA8PSA2NTUzNSkKICAgICAgICAgIHVybC0+cG9ydCA9IHBvcnQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfUEFUSDogewogICAgICAvKiBpZihKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgICAgICBpZih1cmwtPnBhdGgpCiAgICAgICAgICAganNfZnJlZShjdHgsIHVybC0+cGF0aCk7CiAgICAgICAgIHVybC0+cGF0aCA9IDA7CiAgICAgICB9IGVsc2UqLwogICAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpKSkgewogICAgICAgIGlmKHVybC0+cGF0aCkKICAgICAgICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogICAgICAgIHVybC0+cGF0aCA9IGpzX3N0cm5kdXAoY3R4LCBzdHIsIGxlbik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7IFVSTF9UT19TVFJJTkcgfTsKCkpTVmFsdWUKbWlubmV0X3VybF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFVSTF9UT19TVFJJTkc6IHsKICAgICAgY2hhciogc3RyOwoKICAgICAgaWYoKHN0ciA9IHVybF9mb3JtYXQoKnVybCwgY3R4KSkpIHsKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFVSTCogdXJsOwoKICBpZighKHVybCA9IHVybF9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICB1cmxfZnJvbXZhbHVlKHVybCwgYXJndlswXSwgY3R4KTsKCiAgaWYoIXVybF92YWxpZCgqdXJsKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJOb3QgYSB2YWxpZCBVUkwiKTsKCiAgcmV0dXJuIG1pbm5ldF91cmxfd3JhcChjdHgsIHVybCk7Cn0KCkpTVmFsdWUKbWlubmV0X3VybF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgRHluQnVmIGRidWY7CiAgY2hhciogc3RyOwogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0LCBvcHRpb25zID0gYXJnYyA+PSAyICYmIEpTX0lzT2JqZWN0KGFyZ3ZbMV0pID8gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSA6IGFyZ2MgPj0gMSAmJiBKU19Jc09iamVjdChhcmd2WzBdKSA/IEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkgOiBKU19OZXdPYmplY3QoY3R4KTsKICBKU1ZhbHVlIG9wdF9jb2xvcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJjb2xvcnMiKTsKICBCT09MIGNvbG9ycyA9IEpTX0lzVW5kZWZpbmVkKG9wdF9jb2xvcnMpID8gVFJVRSA6IEpTX1RvQm9vbChjdHgsIG9wdF9jb2xvcnMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9jb2xvcnMpOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZGJ1Zl9pbml0MigmZGJ1ZiwgY3R4LCAoRHluQnVmUmVhbGxvY0Z1bmMqKWpzX3JlYWxsb2MpOwoKICBkYnVmX3B1dHN0cigmZGJ1ZiwgY29sb3JzID8gIlx4MWJbMTszMW1NaW5uZXRVUkxceDFiWzBtIiA6ICJNaW5uZXRVUkwiKTsKICBpZigoc3RyID0gdXJsX2Zvcm1hdCgqdXJsLCBjdHgpKSkgewogICAgZGJ1Zl9wcmludGYoJmRidWYsIGNvbG9ycyA/ICIgXHgxYlsxOzMzbSVzXHgxYlswbSIgOiAiICVzIiwgc3RyKTsKICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogIH0KICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICBkYnVmX2ZyZWUoJmRidWYpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRpb25zKTsKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSkpKQogICAgICB1cmxfcGFyc2UodXJsLCBzdHIsIGN0eCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCB1cmwpOwogIHJldHVybiBvYmo7CgpmYWlsOgogIGpzX2ZyZWUoY3R4LCB1cmwpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIHZvaWQKbWlubmV0X3VybF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRVUkwqIHVybCA9IEpTX0dldE9wYXF1ZSh2YWwsIG1pbm5ldF91cmxfY2xhc3NfaWQpOwogIGlmKHVybCkgewogICAgdXJsX2ZyZWVfcnQodXJsLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCB1cmwpOwogIH0KfQoKc3RhdGljIEpTQ2xhc3NEZWYgbWlubmV0X3VybF9jbGFzcyA9IHsKICAgICJNaW5uZXRVUkwiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF91cmxfZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF91cmxfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwcm90b2NvbCIsIG1pbm5ldF91cmxfZ2V0LCBtaW5uZXRfdXJsX3NldCwgVVJMX1BST1RPQ09MLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhvc3QiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9IT1NULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBvcnQiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QT1JULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBhdGgiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QQVRILCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInRscyIsIG1pbm5ldF91cmxfZ2V0LCAwLCBVUkxfVExTLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBtaW5uZXRfdXJsX21ldGhvZCwgVVJMX1RPX1NUUklORyksCiAgICBKU19DRlVOQ19ERUYoImluc3BlY3QiLCAwLCBtaW5uZXRfdXJsX2luc3BlY3QpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRVUkwiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3VybF9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigiZnJvbSIsIDEsIG1pbm5ldF91cmxfZnJvbSksCn07CgppbnQKbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTQXRvbSBpbnNwZWN0X2F0b207CgogIC8vIEFkZCBjbGFzcyBVUkwKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF91cmxfY2xhc3NfaWQsICZtaW5uZXRfdXJsX2NsYXNzKTsKICBtaW5uZXRfdXJsX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX3Byb3RvX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfcHJvdG9fZnVuY3MpKTsKCiAgbWlubmV0X3VybF9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF91cmxfY29uc3RydWN0b3IsICJNaW5uZXRVUkwiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX2N0b3IsIG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzKSk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3VybF9jdG9yLCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgaWYoKGluc3BlY3RfYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpbnNwZWN0IikpID49IDApIHsKICAgIEpTX1NldFByb3BlcnR5KGN0eCwgbWlubmV0X3VybF9wcm90bywgaW5zcGVjdF9hdG9tLCBKU19OZXdDRnVuY3Rpb24oY3R4LCBtaW5uZXRfdXJsX2luc3BlY3QsICJpbnNwZWN0IiwgMCkpOwogICAgSlNfRnJlZUF0b20oY3R4LCBpbnNwZWN0X2F0b20pOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJVUkwiLCBtaW5uZXRfdXJsX2N0b3IpOwoKICByZXR1cm4gMDsKfQoAAAAAAAAAADNHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABQIAAAAAAAAJAgAAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAzRwAAI2luY2x1ZGUgIm1pbm5ldC5oIgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxsaW1pdHMuaD4KCiNpZm5kZWYgSEFWRV9TVFJMQ1BZCnNpemVfdApzdHJsY3B5KGNoYXIqIGRzdCwgY29uc3QgY2hhciogc3JjLCBzaXplX3Qgc2l6KSB7CiAgcmVnaXN0ZXIgY2hhciogZCA9IGRzdDsKICByZWdpc3RlciBjb25zdCBjaGFyKiBzID0gc3JjOwogIHJlZ2lzdGVyIHNpemVfdCBuID0gc2l6OwoKICBpZihuICE9IDAgJiYgLS1uICE9IDApIHsKICAgIGRvIHsKICAgICAgaWYoKCpkKysgPSAqcysrKSA9PSAwKQogICAgICAgIGJyZWFrOwogICAgfSB3aGlsZSgtLW4gIT0gMCk7CiAgfQoKICBpZihuID09IDApIHsKICAgIGlmKHNpeiAhPSAwKQogICAgICAqZCA9ICdcMCc7CiAgICB3aGlsZSgqcysrKQogICAgICA7CiAgfQoKICByZXR1cm4gKHMgLSBzcmMgLSAxKTsKfQojZW5kaWYKCnN0YXRpYyBjaGFyIGNvbnN0KiBjb25zdCBwcm90b2NvbF9uYW1lc1tdID0gewogICAgIndzIiwKICAgICJ3c3MiLAogICAgImh0dHAiLAogICAgImh0dHBzIiwKICAgICJyYXciLAogICAgInRscyIsCn07CgpNaW5uZXRQcm90b2NvbApwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciogcHJvdG9jb2wpIHsKICBpbnQgaTsKCiAgZm9yKGkgPSBjb3VudG9mKHByb3RvY29sX25hbWVzKSAtIDE7IGkgPj0gMDsgLS1pKQogICAgaWYoIXN0cmNhc2VjbXAocHJvdG9jb2wsIHByb3RvY29sX25hbWVzW2ldKSkKICAgICAgcmV0dXJuIGk7CgogIHJldHVybiBQUk9UT0NPTF9SQVc7Cn0KCmNvbnN0IGNoYXIqCnByb3RvY29sX3N0cmluZyhNaW5uZXRQcm90b2NvbCBwKSB7CiAgaW50IGkgPSAodW5zaWduZWQgaW50KXA7CiAgYXNzZXJ0KGkgPj0gMCk7CiAgYXNzZXJ0KGkgPCBjb3VudG9mKHByb3RvY29sX25hbWVzKSk7CiAgcmV0dXJuIHByb3RvY29sX25hbWVzW2ldOwp9Cgp1aW50MTZfdApwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wgcCkgewogIHN3aXRjaChwKSB7CiAgICBjYXNlIFBST1RPQ09MX1dTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQOiB7CiAgICAgIHJldHVybiA4MDsKICAgIH0KICAgIGNhc2UgUFJPVE9DT0xfV1NTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQUzogewogICAgICByZXR1cm4gNDQzOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXR1cm4gMDsKICAgIH0KICB9Cn0KCkJPT0wKcHJvdG9jb2xfaXNfdGxzKE1pbm5ldFByb3RvY29sIHApIHsKICBzd2l0Y2gocCkgewogICAgY2FzZSBQUk9UT0NPTF9XU1M6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOgogICAgY2FzZSBQUk9UT0NPTF9UTFM6IHsKICAgICAgcmV0dXJuIFRSVUU7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiBGQUxTRTsKICAgIH0KICB9Cn0KCnZvaWQKdXJsX2luaXQoTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvY29sLCBjb25zdCBjaGFyKiBob3N0LCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IHByb3RvY29sX251bWJlcihwcm90b2NvbCk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocHJvdG8pOwogIHVybC0+aG9zdCA9IGpzX3N0cmR1cChjdHgsIGhvc3QgJiYgKmhvc3QgPyBob3N0IDogIjAuMC4wLjAiKTsKICB1cmwtPnBvcnQgPSBwb3J0ID49IDAgJiYgcG9ydCA8PSA2NTUzNSA/IHBvcnQgOiBwcm90b2NvbF9kZWZhdWx0X3BvcnQocHJvdG8pOwogIHVybC0+cGF0aCA9IGpzX3N0cmR1cChjdHgsIHBhdGggPyBwYXRoIDogIiIpOwp9Cgp2b2lkCnVybF9wYXJzZShNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogdSwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IFBST1RPQ09MX1dTOwogIGNvbnN0IGNoYXIgKnMsICp0OwoKICBpZigocyA9IHN0cnN0cih1LCAiOi8vIikpKSB7CiAgICB1cmwtPnByb3RvY29sID0ganNfc3RybmR1cChjdHgsIHUsIHMgLSB1KTsKICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgdSA9IHMgKyAzOwogIH0gZWxzZSB7CiAgICB1cmwtPnByb3RvY29sID0gMDsKICB9CgogIGZvcihzID0gdTsgKnM7ICsrcykKICAgIGlmKCpzID09ICc6JyB8fCAqcyA9PSAnLycpCiAgICAgIGJyZWFrOwoKICB1cmwtPmhvc3QgPSBzID4gdSA/IGpzX3N0cm5kdXAoY3R4LCB1LCBzIC0gdSkgOiAwOwoKICBpZigqcyA9PSAnOicpIHsKICAgIHVuc2lnbmVkIGxvbmcgbiA9IHN0cnRvdWwoKytzLCAoY2hhcioqKSZ0LCAxMCk7CgogICAgdXJsLT5wb3J0ID0gbiAhPSBVTE9OR19NQVggPyBuIDogMDsKICAgIGlmKHMgPCB0KQogICAgICBzID0gdDsKICB9IGVsc2UgaWYodXJsLT5wcm90b2NvbCkgewogICAgdXJsLT5wb3J0ID0gcHJvdG9jb2xfZGVmYXVsdF9wb3J0KHByb3RvKTsKICB9IGVsc2UgewogICAgdXJsLT5wb3J0ID0gMDsKICB9CgogIC8vIGlmKCF1cmwtPnBhdGgpCiAgaWYocyAmJiAqcykKICAgIHVybC0+cGF0aCA9IHMgJiYgKnMgPyBqc19zdHJkdXAoY3R4LCBzKSA6IDA7Cn0KCk1pbm5ldFVSTAp1cmxfY3JlYXRlKGNvbnN0IGNoYXIqIHN0ciwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRVUkwgcmV0ID0gezEsIDAsIDAsIDAsIDB9OwogIHVybF9wYXJzZSgmcmV0LCBzdHIsIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc2l6ZV90CnVybF9wcmludChjaGFyKiBidWYsIHNpemVfdCBzaXplLCBjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgc2l6ZV90IHBvcyA9IDA7CgogIGlmKHVybC5wcm90b2NvbCAmJiAqdXJsLnByb3RvY29sKSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoYnVmLCB1cmwucHJvdG9jb2wsIHNpemUgLSBwb3MpIDogc3RybGVuKHVybC5wcm90b2NvbCkpICsgMyA+IHNpemUpCiAgICAgIHJldHVybiBwb3M7CgogICAgaWYoKHBvcyArPSBidWYgPyBzdHJsY3B5KCZidWZbcG9zXSwgIjovLyIsIHNpemUgLSBwb3MpIDogMykgPj0gc2l6ZSkKICAgICAgcmV0dXJuIHBvczsKICB9CgogIGlmKHVybC5ob3N0KSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoJmJ1Zltwb3NdLCB1cmwuaG9zdCwgc2l6ZSAtIHBvcykgOiBzdHJsZW4odXJsLmhvc3QpKSA+PSBzaXplKQogICAgICByZXR1cm4gcG9zOwogIH0KCiAgaWYodXJsLnBvcnQpIHsKICAgIGlmKHNpemUgLSBwb3MgPCA3KQogICAgICByZXR1cm4gcG9zOwogICAgaWYoIWJ1ZikgewogICAgICBwb3MgKz0gMSArICh1cmwucG9ydCA+IDk5OTkgPyA1IDogdXJsLnBvcnQgPiA5OTkgPyA0IDogdXJsLnBvcnQgPiA5OSA/IDMgOiB1cmwucG9ydCA+IDkgPyAyIDogMSk7CiAgICB9IGVsc2UgewogICAgICBzcHJpbnRmKCZidWZbcG9zXSwgIjoldSIsIHVybC5wb3J0KTsKICAgICAgcG9zICs9IHN0cmxlbigmYnVmW3Bvc10pOwogICAgfQogIH0KCiAgaWYodXJsLnBhdGgpIHsKICAgIGlmKChwb3MgKz0gYnVmID8gc3RybGNweSgmYnVmW3Bvc10sIHVybC5wYXRoLCBzaXplIC0gcG9zKSA6IHN0cmxlbih1cmwucGF0aCkpID49IHNpemUpCiAgICAgIHJldHVybiBwb3M7CiAgfQoKICByZXR1cm4gcG9zOwp9CgpjaGFyKgp1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCB1cmwsIEpTQ29udGV4dCogY3R4KSB7CiAgc2l6ZV90IGxlbiA9ICh1cmwucHJvdG9jb2wgPyBzdHJsZW4odXJsLnByb3RvY29sKSArIDMgOiAwKSArICh1cmwuaG9zdCA/IHN0cmxlbih1cmwuaG9zdCkgKyAxICsgNSA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsKICBjaGFyKiBzdHI7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSAtMTsKCiAgaWYoKHN0ciA9IGpzX21hbGxvYyhjdHgsIGxlbikpKSB7CiAgICBjb25zdCBjaGFyKiBob3N0ID0gdXJsLmhvc3QgPyB1cmwuaG9zdCA6ICIwLjAuMC4wIjsKICAgIHNpemVfdCBwb3MgPSAwOwogICAgc3RyW3Bvc10gPSAnXDAnOwogICAgaWYodXJsLnByb3RvY29sKSB7CiAgICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7CiAgICAgIHN0cmNweShzdHIsIHVybC5wcm90b2NvbCk7CiAgICAgIHBvcyArPSBzdHJsZW4oc3RyKTsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgIjovLyIpOwogICAgICBwb3MgKz0gMzsKICAgIH0KICAgIGlmKHByb3RvICE9IC0xICYmIHVybC5wb3J0ID09IHByb3RvY29sX2RlZmF1bHRfcG9ydChwcm90bykpIHsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgaG9zdCk7CiAgICAgIHBvcyArPSBzdHJsZW4oJnN0cltwb3NdKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyArPSBzcHJpbnRmKCZzdHJbcG9zXSwgIiVzOiV1IiwgaG9zdCwgdXJsLnBvcnQpOwogICAgfQogICAgaWYodXJsLnBhdGgpCiAgICAgIHN0cmNweSgmc3RyW3Bvc10sIHVybC5wYXRoKTsKICB9CiAgcmV0dXJuIHN0cjsKfQoKc2l6ZV90CnVybF9sZW5ndGgoY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiB1cmxfcHJpbnQoMCwgODE5MiwgdXJsKTsKICAvKnNpemVfdCBwb3J0bGVuID0gdXJsLnBvcnQgPj0gMTAwMDAgPyA2IDogdXJsLnBvcnQgPj0gMTAwMCA/IDUgOiB1cmwucG9ydCA+PSAxMDAgPyA0IDogdXJsLnBvcnQgPj0gMTAgPyAzIDogdXJsLnBvcnQgPj0gMSA/IDIgOiAwOwogIHJldHVybiAodXJsLnByb3RvY29sID8gc3RybGVuKHVybC5wcm90b2NvbCkgKyAzIDogMCkgKyAodXJsLmhvc3QgPyBzdHJsZW4odXJsLmhvc3QpICsgcG9ydGxlbiA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsqLwp9Cgp2b2lkCnVybF9mcmVlKE1pbm5ldFVSTCogdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPmhvc3QpOwogIGlmKHVybC0+cGF0aCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogIG1lbXNldCh1cmwsIDAsIHNpemVvZihNaW5uZXRVUkwpKTsKfQoKdm9pZAp1cmxfZnJlZV9ydChNaW5uZXRVUkwqIHVybCwgSlNSdW50aW1lKiBydCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWVfcnQocnQsIHVybC0+aG9zdCk7CiAgaWYodXJsLT5wYXRoKQogICAganNfZnJlZV9ydChydCwgdXJsLT5wYXRoKTsKICBtZW1zZXQodXJsLCAwLCBzaXplb2YoTWlubmV0VVJMKSk7Cn0KCk1pbm5ldFByb3RvY29sCnVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvKSB7CiAgTWlubmV0UHJvdG9jb2wgcCA9IHByb3RvY29sX251bWJlcihwcm90byk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocCk7CiAgcmV0dXJuIHA7Cn0KCnZvaWQKdXJsX2luZm8oY29uc3QgTWlubmV0VVJMIHVybCwgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvKiBpbmZvKSB7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSB1cmwucHJvdG9jb2wgPyBwcm90b2NvbF9udW1iZXIodXJsLnByb3RvY29sKSA6IFBST1RPQ09MX1JBVzsKCiAgbWVtc2V0KGluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8pKTsKCiAgc3dpdGNoKHByb3RvKSB7CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiNpZiBkZWZpbmVkKExXU19ST0xFX0gyKSAmJiBkZWZpbmVkKExXU19ST0xFX0gxKQogICAgICBpbmZvLT5hbHBuID0gImgyLGh0dHAvMS4xIjsKI2VsaWYgZGVmaW5lZChMV1NfUk9MRV9IMikKICAgICAgaW5mby0+YWxwbiA9ICJoMiI7CiNlbGlmIGRlZmluZWQoTFdTX1JPTEVfSDEpCiAgICAgIGluZm8tPmFscG4gPSAiaHR0cC8xLjEiOwojZW5kaWYKICAgICAgaW5mby0+cHJvdG9jb2wgPSAiaHR0cCI7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9UT0NPTF9XUzoKICAgIGNhc2UgUFJPVE9DT0xfV1NTOiB7CiAgICAgIGluZm8tPnByb3RvY29sID0gIndzIjsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIGluZm8tPm1ldGhvZCA9ICJSQVciOwogICAgICBpbmZvLT5sb2NhbF9wcm90b2NvbF9uYW1lID0gInJhdyI7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPmFkZHJlc3MgPSB1cmwuaG9zdDsKCiAgaWYocHJvdG9jb2xfaXNfdGxzKHByb3RvKSkgewogICAgaW5mby0+c3NsX2Nvbm5lY3Rpb24gPSBMQ0NTQ0ZfVVNFX1NTTCB8IExDQ1NDRl9IMl9RVUlSS19PVkVSRkxPV1NfVFhDUiB8IExDQ1NDRl9IMl9RVUlSS19OR0hUVFAyX0VORF9TVFJFQU07CiAgICBpbmZvLT5zc2xfY29ubmVjdGlvbiB8PSBMQ0NTQ0ZfQUxMT1dfU0VMRlNJR05FRDsKICAgIGluZm8tPnNzbF9jb25uZWN0aW9uIHw9IExDQ1NDRl9BTExPV19JTlNFQ1VSRTsKICB9CgogIGluZm8tPnBhdGggPSB1cmwucGF0aCA/IHVybC5wYXRoIDogIi8iOwogIGluZm8tPmhvc3QgPSBpbmZvLT5hZGRyZXNzOwogIGluZm8tPm9yaWdpbiA9IGluZm8tPmFkZHJlc3M7Cn0KCi8qaW50CnVybF9jb25uZWN0KE1pbm5ldFVSTCogdXJsLCBzdHJ1Y3QgbHdzX2NvbnRleHQqIGNvbnRleHQsIHN0cnVjdCBsd3MqKiBwX3dzaSkgewogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpOwoKICB1cmxfaW5mbyh1cmwsICZpKTsKCiAgaS5jb250ZXh0ID0gY29udGV4dDsKICBpLnB3c2kgPSBwX3dzaTsKCiAgcmV0dXJuICFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmkpOwp9Ki8KCmNoYXIqCnVybF9sb2NhdGlvbihjb25zdCBNaW5uZXRVUkwgdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHF1ZXJ5OwogIGlmKChxdWVyeSA9IHVybF9xdWVyeSh1cmwpKSkKICAgIHJldHVybiBqc19zdHJuZHVwKGN0eCwgdXJsLnBhdGgsIHF1ZXJ5IC0gdXJsLnBhdGgpOwogIHJldHVybiBqc19zdHJkdXAoY3R4LCB1cmwucGF0aCk7Cn0KCmNvbnN0IGNoYXIqCnVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHVybC5wYXRoOyAqcDsgcCsrKSB7CiAgICBpZigqcCA9PSAnXFwnKSB7CiAgICAgICsrcDsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZigqcCA9PSAnPycpIHsKICAgICAgKytwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuICpwID8gcCA6IDA7Cn0KCnZvaWQKdXJsX2Zyb21vYmooTWlubmV0VVJMKiB1cmwsIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyICpwcm90b2NvbCwgKmhvc3QsICpwYXRoOwogIGludDMyX3QgcG9ydCA9IC0xOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAicHJvdG9jb2wiKTsKICBwcm90b2NvbCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJob3N0Iik7CiAgaG9zdCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwb3J0Iik7CiAgSlNfVG9JbnQzMihjdHgsICZwb3J0LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwYXRoIik7CiAgcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHVybF9pbml0KHVybCwgcHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIGN0eCk7CgogIGlmKHByb3RvY29sKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgaWYoaG9zdCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgaG9zdCk7CiAgaWYocGF0aCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7Cn0KCkJPT0wKdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqIHVybCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFVSTCogb3RoZXI7CgogIGlmKChvdGhlciA9IG1pbm5ldF91cmxfZGF0YSh2YWx1ZSkpKSB7CiAgICB1cmxfY29weSh1cmwsICpvdGhlciwgY3R4KTsKICB9IGVsc2UgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICB1cmxfZnJvbW9iaih1cmwsIHZhbHVlLCBjdHgpOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHVybF9wYXJzZSh1cmwsIHN0ciwgY3R4KTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKdXJsX2R1bXAoY29uc3QgY2hhciogbiwgTWlubmV0VVJMIGNvbnN0KiB1cmwpIHsKICBmcHJpbnRmKHN0ZGVyciwgIiVzeyBwcm90b2NvbCA9ICVzLCBob3N0ID0gJXMsIHBvcnQgPSAldSwgcGF0aCA9ICVzIH1cbiIsIG4sIHVybC0+cHJvdG9jb2wsIHVybC0+aG9zdCwgdXJsLT5wb3J0LCB1cmwtPnBhdGgpOwogIGZmbHVzaChzdGRlcnIpOwp9CgpKU1ZhbHVlCnF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiBxLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHA7CiAgc2l6ZV90IGksIG4gPSBzdHJsZW4ocSk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgZm9yKGkgPSAwLCBwID0gcTsgaSA8PSBuOyBpKyssIHErKykgewogICAgaWYoKnEgPT0gJ1xcJykgewogICAgICArK3E7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgaWYoKnAgPT0gJyYnIHx8ICpwID09ICdcMCcpIHsKICAgICAgc2l6ZV90IG5hbWVsZW4sIGxlbjsKICAgICAgY2hhciAqdmFsdWUsICpkZWNvZGVkOwogICAgICBKU0F0b20gYXRvbTsKICAgICAgaWYoKHZhbHVlID0gc3RyY2hyKHEsICc9JykpKSB7CiAgICAgICAgbmFtZWxlbiA9IChjb25zdCBjaGFyKil2YWx1ZSAtIHE7CiAgICAgICAgKyt2YWx1ZTsKICAgICAgICBhdG9tID0gSlNfTmV3QXRvbUxlbihjdHgsIHEsIG5hbWVsZW4pOwogICAgICAgIGxlbiA9IHAgLSAoY29uc3QgY2hhciopdmFsdWU7CiAgICAgICAgZGVjb2RlZCA9IGpzX3N0cm5kdXAoY3R4LCB2YWx1ZSwgbGVuKTsKICAgICAgICBsd3NfdXJsZGVjb2RlKGRlY29kZWQsIGRlY29kZWQsIGxlbiArIDEpOwogICAgICAgIEpTX1NldFByb3BlcnR5KGN0eCwgcmV0LCBhdG9tLCBKU19OZXdTdHJpbmcoY3R4LCBkZWNvZGVkKSk7CiAgICAgICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpxdWVyeV9mcm9tKEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwogIER5bkJ1ZiBvdXQ7CiAgZGJ1Zl9pbml0Migmb3V0LCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmdGFiLCAmdGFiX2xlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZIHwgSlNfR1BOX1NUUklOR19NQVNLKSkKICAgIHJldHVybiAwOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgdGFiW2ldLmF0b20pOwogICAgc2l6ZV90IGxlbjsKICAgIGNvbnN0IGNoYXIgKnByb3AsICpzdHI7CgogICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgcHJvcCA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCB0YWJbaV0uYXRvbSk7CgogICAgZGJ1Zl9wdXRzdHIoJm91dCwgcHJvcCk7CiAgICBkYnVmX3B1dGMoJm91dCwgJz0nKTsKICAgIGRidWZfcmVhbGxvYygmb3V0LCBvdXQuc2l6ZSArIChsZW4gKiAzKSArIDEpOwoKICAgIGx3c191cmxlbmNvZGUoKGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSwgc3RyLCBvdXQuYWxsb2NhdGVkX3NpemUgLSBvdXQuc2l6ZSk7CiAgICBvdXQuc2l6ZSArPSBzdHJsZW4oKGNvbnN0IGNoYXIqKSZvdXQuYnVmW291dC5zaXplXSk7CgogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm9wKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICBqc19mcmVlKGN0eCwgdGFiKTsKICByZXR1cm4gKGNoYXIqKW91dC5idWY7Cn0KCnN0YXRpYyBUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2N0b3I7ClRIUkVBRF9MT0NBTCBKU0NsYXNzSUQgbWlubmV0X3VybF9jbGFzc19pZDsKCmVudW0geyBVUkxfUFJPVE9DT0wsIFVSTF9IT1NULCBVUkxfUE9SVCwgVVJMX1BBVEgsIFVSTF9UTFMgfTsKCkpTVmFsdWUKbWlubmV0X3VybF93cmFwKEpTQ29udGV4dCogY3R4LCBNaW5uZXRVUkwqIHVybCkgewogIEpTVmFsdWUgdXJsX29iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24odXJsX29iaikpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIC8qCiAgICBpZighKHVybCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0VVJMKSkpKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHVybF9vYmopOwogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgfQoKICAgICp1cmwgPSB1OwogICovCiAgSlNfU2V0T3BhcXVlKHVybF9vYmosIHVybCk7CgogIHJldHVybiB1cmxfb2JqOwp9CgpNaW5uZXRVUkwqCnVybF9uZXcoSlNDb250ZXh0KiBjdHgpIHsKCiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gdXJsOwoKICB1cmwtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHVybDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHUpIHsKICBNaW5uZXRVUkwqIHVybDsKCiAgaWYoISh1cmwgPSB1cmxfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgdXJsX2NvcHkodXJsLCB1LCBjdHgpOwogIHJldHVybiBtaW5uZXRfdXJsX3dyYXAoY3R4LCB1cmwpOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfdXJsX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEodGhpc192YWwpKSkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgcmV0ID0gdXJsLT5wcm90b2NvbCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cHJvdG9jb2wpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIHJldCA9IHVybC0+aG9zdCA/IEpTX05ld1N0cmluZyhjdHgsIHVybC0+aG9zdCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgdXJsLT5wb3J0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9QQVRIOiB7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHVybC0+cGF0aCA/IHVybC0+cGF0aCA6ICIiKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9UTFM6IHsKICAgICAgaWYodXJsLT5wcm90b2NvbCkgewogICAgICAgIE1pbm5ldFByb3RvY29sIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBwcm90b2NvbF9pc190bHMocHJvdG8pKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3VybF9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIHN0cjsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfUFJPVE9DT0w6IHsKICAgICAgaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICB1cmwtPnByb3RvY29sID0gMDsKICAgICAgfSBlbHNlIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSBwcm90b2NvbF9udW1iZXIoc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgICAgdXJsLT5wcm90b2NvbCA9IHByb3RvY29sX3N0cmluZyhwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9IT1NUOiB7CiAgICAgIC8qaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSAwOwogICAgICB9IGVsc2UgKi8KICAgICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICAgICBpZih1cmwtPmhvc3QpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5ob3N0KTsKICAgICAgICB1cmwtPmhvc3QgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BPUlQ6IHsKICAgICAgdWludDMyX3QgcG9ydCA9IDA7CiAgICAgIGlmKCFKU19Ub1VpbnQzMihjdHgsICZwb3J0LCB2YWx1ZSkpCiAgICAgICAgaWYocG9ydCA8PSA2NTUzNSkKICAgICAgICAgIHVybC0+cG9ydCA9IHBvcnQ7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfUEFUSDogewogICAgICAvKiBpZihKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgICAgICBpZih1cmwtPnBhdGgpCiAgICAgICAgICAganNfZnJlZShjdHgsIHVybC0+cGF0aCk7CiAgICAgICAgIHVybC0+cGF0aCA9IDA7CiAgICAgICB9IGVsc2UqLwogICAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpKSkgewogICAgICAgIGlmKHVybC0+cGF0aCkKICAgICAgICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogICAgICAgIHVybC0+cGF0aCA9IGpzX3N0cm5kdXAoY3R4LCBzdHIsIGxlbik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7IFVSTF9UT19TVFJJTkcgfTsKCkpTVmFsdWUKbWlubmV0X3VybF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFVSTF9UT19TVFJJTkc6IHsKICAgICAgY2hhciogc3RyOwoKICAgICAgaWYoKHN0ciA9IHVybF9mb3JtYXQoKnVybCwgY3R4KSkpIHsKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFVSTCogdXJsOwoKICBpZighKHVybCA9IHVybF9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICB1cmxfZnJvbXZhbHVlKHVybCwgYXJndlswXSwgY3R4KTsKCiAgaWYoIXVybF92YWxpZCgqdXJsKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJOb3QgYSB2YWxpZCBVUkwiKTsKCiAgcmV0dXJuIG1pbm5ldF91cmxfd3JhcChjdHgsIHVybCk7Cn0KCkpTVmFsdWUKbWlubmV0X3VybF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgRHluQnVmIGRidWY7CiAgY2hhciogc3RyOwogIE1pbm5ldFVSTCogdXJsOwogIEpTVmFsdWUgcmV0LCBvcHRpb25zID0gYXJnYyA+PSAyICYmIEpTX0lzT2JqZWN0KGFyZ3ZbMV0pID8gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSA6IGFyZ2MgPj0gMSAmJiBKU19Jc09iamVjdChhcmd2WzBdKSA/IEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkgOiBKU19OZXdPYmplY3QoY3R4KTsKICBKU1ZhbHVlIG9wdF9jb2xvcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJjb2xvcnMiKTsKICBCT09MIGNvbG9ycyA9IEpTX0lzVW5kZWZpbmVkKG9wdF9jb2xvcnMpID8gVFJVRSA6IEpTX1RvQm9vbChjdHgsIG9wdF9jb2xvcnMpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9wdF9jb2xvcnMpOwoKICBpZighKHVybCA9IG1pbm5ldF91cmxfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZGJ1Zl9pbml0MigmZGJ1ZiwgY3R4LCAoRHluQnVmUmVhbGxvY0Z1bmMqKWpzX3JlYWxsb2MpOwoKICBkYnVmX3B1dHN0cigmZGJ1ZiwgY29sb3JzID8gIlx4MWJbMTszMW1NaW5uZXRVUkxceDFiWzBtIiA6ICJNaW5uZXRVUkwiKTsKICBpZigoc3RyID0gdXJsX2Zvcm1hdCgqdXJsLCBjdHgpKSkgewogICAgZGJ1Zl9wcmludGYoJmRidWYsIGNvbG9ycyA/ICIgXHgxYlsxOzMzbSVzXHgxYlswbSIgOiAiICVzIiwgc3RyKTsKICAgIGpzX2ZyZWUoY3R4LCBzdHIpOwogIH0KICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICBkYnVmX2ZyZWUoJmRidWYpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRpb25zKTsKCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRVUkwpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0cjsKCiAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSkpKQogICAgICB1cmxfcGFyc2UodXJsLCBzdHIsIGN0eCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCB1cmwpOwogIHJldHVybiBvYmo7CgpmYWlsOgogIGpzX2ZyZWUoY3R4LCB1cmwpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIHZvaWQKbWlubmV0X3VybF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRVUkwqIHVybCA9IEpTX0dldE9wYXF1ZSh2YWwsIG1pbm5ldF91cmxfY2xhc3NfaWQpOwogIGlmKHVybCkgewogICAgdXJsX2ZyZWVfcnQodXJsLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCB1cmwpOwogIH0KfQoKc3RhdGljIEpTQ2xhc3NEZWYgbWlubmV0X3VybF9jbGFzcyA9IHsKICAgICJNaW5uZXRVUkwiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF91cmxfZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF91cmxfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwcm90b2NvbCIsIG1pbm5ldF91cmxfZ2V0LCBtaW5uZXRfdXJsX3NldCwgVVJMX1BST1RPQ09MLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhvc3QiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9IT1NULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBvcnQiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QT1JULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInBhdGgiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QQVRILCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInRscyIsIG1pbm5ldF91cmxfZ2V0LCAwLCBVUkxfVExTLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBtaW5uZXRfdXJsX21ldGhvZCwgVVJMX1RPX1NUUklORyksCiAgICBKU19DRlVOQ19ERUYoImluc3BlY3QiLCAwLCBtaW5uZXRfdXJsX2luc3BlY3QpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRVUkwiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3VybF9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigiZnJvbSIsIDEsIG1pbm5ldF91cmxfZnJvbSksCn07CgppbnQKbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTQXRvbSBpbnNwZWN0X2F0b207CgogIC8vIEFkZCBjbGFzcyBVUkwKICBKU19OZXdDbGFzc0lEKCZtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIG1pbm5ldF91cmxfY2xhc3NfaWQsICZtaW5uZXRfdXJsX2NsYXNzKTsKICBtaW5uZXRfdXJsX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX3Byb3RvLCBtaW5uZXRfdXJsX3Byb3RvX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfcHJvdG9fZnVuY3MpKTsKCiAgbWlubmV0X3VybF9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIG1pbm5ldF91cmxfY29uc3RydWN0b3IsICJNaW5uZXRVUkwiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtaW5uZXRfdXJsX2N0b3IsIG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzLCBjb3VudG9mKG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzKSk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgbWlubmV0X3VybF9jdG9yLCBtaW5uZXRfdXJsX3Byb3RvKTsKCiAgaWYoKGluc3BlY3RfYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpbnNwZWN0IikpID49IDApIHsKICAgIEpTX1NldFByb3BlcnR5KGN0eCwgbWlubmV0X3VybF9wcm90bywgaW5zcGVjdF9hdG9tLCBKU19OZXdDRnVuY3Rpb24oY3R4LCBtaW5uZXRfdXJsX2luc3BlY3QsICJpbnNwZWN0IiwgMCkpOwogICAgSlNfRnJlZUF0b20oY3R4LCBpbnNwZWN0X2F0b20pOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJVUkwiLCBtaW5uZXRfdXJsX2N0b3IpOwoKICByZXR1cm4gMDsKfQoAAAAAAAAAAE5HAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMQIAAAAAAAAxAgAAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"paste",
					null,
					"AQAAAIsgAAAAAAAAwiAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiyAAAAAAAACLIAAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"paste",
					null,
					"AQAAAMIgAAAAAAAACyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwiAAAAAAAADCIAAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"paste",
					null,
					"AgAAAOYgAAAAAAAA8SAAAAAAAAAAAAAA8SAAAAAAAADxIAAAAAAAAAwAAABKU1ZhbHVlQ29uc3Q",
					"AQAAAAAAAAABAAAA5iAAAAAAAADyIAAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"AwAAAPEgAAAAAAAA8iAAAAAAAAAAAAAA8iAAAAAAAADzIAAAAAAAAAAAAADzIAAAAAAAAPQgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8SAAAAAAAADxIAAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					6,
					"right_delete",
					null,
					"BgAAAPQgAAAAAAAA9CAAAAAAAAABAAAAIPQgAAAAAAAA9CAAAAAAAAABAAAAdvQgAAAAAAAA9CAAAAAAAAABAAAAYfQgAAAAAAAA9CAAAAAAAAABAAAAbPQgAAAAAAAA9CAAAAAAAAABAAAAdfQgAAAAAAAA9CAAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAA9CAAAAAAAAD0IAAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAAchAAAAAAAACCEAAAAAAAAAAAAACCEAAAAAAAAKIQAAAAAAAAAAAAAKIQAAAAAAAAshAAAAAAAAAAAAAAghAAAAAAAACCEAAAAAAAACAAAAICAIIQAAAAAAAAghAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAByEAAAAAAAAHIQAAAAAAAP///////+9/"
				],
				[
					29,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAAkhAAAAAAAACiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACSEAAAAAAAAJIQAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"left_delete",
					null,
					"AQAAAIsgAAAAAAAAiyAAAAAAAAA3AAAAQk9PTCB1cmxfZnJvbXdzaShNaW5uZXRVUkwqLCBzdHJ1Y3QgbHdzKiwgSlNDb250ZXh0Kik7Cg",
					"AQAAAAAAAAABAAAAiyAAAAAAAADCIAAAAAAAAAAAAAAAAAAA"
				],
				[
					37,
					4,
					"right_delete",
					null,
					"BAAAAJkgAAAAAAAAmSAAAAAAAAABAAAAdpkgAAAAAAAAmSAAAAAAAAABAAAAYZkgAAAAAAAAmSAAAAAAAAABAAAAbJkgAAAAAAAAmSAAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAAmSAAAAAAAACZIAAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"AwAAAJkgAAAAAAAAmiAAAAAAAAAAAAAAmiAAAAAAAACbIAAAAAAAAAAAAACbIAAAAAAAAJwgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmSAAAAAAAACZIAAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"right_delete",
					null,
					"AQAAAJwgAAAAAAAAnCAAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAnCAAAAAAAACcIAAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAM4gAAAAAAAAzyAAAAAAAAAAAAAAzyAAAAAAAADRIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAziAAAAAAAADOIAAAAAAAAP///////+9/"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAANEgAAAAAAAA0yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0SAAAAAAAADRIAAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"left_delete",
					null,
					"AQAAANEgAAAAAAAA0SAAAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAA0yAAAAAAAADTIAAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "url->"
					},
					"BQAAANEgAAAAAAAA0iAAAAAAAAAAAAAA0iAAAAAAAADTIAAAAAAAAAAAAADTIAAAAAAAANQgAAAAAAAAAAAAANQgAAAAAAAA1SAAAAAAAAAAAAAA1SAAAAAAAADWIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0SAAAAAAAADRIAAAAAAAAAAAAAAAAPC/"
				],
				[
					49,
					1,
					"insert",
					{
						"characters": "host"
					},
					"BAAAANYgAAAAAAAA1yAAAAAAAAAAAAAA1yAAAAAAAADYIAAAAAAAAAAAAADYIAAAAAAAANkgAAAAAAAAAAAAANkgAAAAAAAA2iAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1iAAAAAAAADWIAAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAANogAAAAAAAA2yAAAAAAAAAAAAAA2yAAAAAAAADcIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2iAAAAAAAADaIAAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANwgAAAAAAAA3SAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3CAAAAAAAADcIAAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "ks"
					},
					"AgAAAN0gAAAAAAAA3iAAAAAAAAAAAAAA3iAAAAAAAADfIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3SAAAAAAAADdIAAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					2,
					"left_delete",
					null,
					"AgAAAN4gAAAAAAAA3iAAAAAAAAABAAAAc90gAAAAAAAA3SAAAAAAAAABAAAAaw",
					"AQAAAAAAAAABAAAA3yAAAAAAAADfIAAAAAAAAAAAAAAAAPC/"
				],
				[
					61,
					1,
					"insert",
					{
						"characters": "js_malloc"
					},
					"CQAAAN0gAAAAAAAA3iAAAAAAAAAAAAAA3iAAAAAAAADfIAAAAAAAAAAAAADfIAAAAAAAAOAgAAAAAAAAAAAAAOAgAAAAAAAA4SAAAAAAAAAAAAAA4SAAAAAAAADiIAAAAAAAAAAAAADiIAAAAAAAAOMgAAAAAAAAAAAAAOMgAAAAAAAA5CAAAAAAAAAAAAAA5CAAAAAAAADlIAAAAAAAAAAAAADlIAAAAAAAAOYgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3SAAAAAAAADdIAAAAAAAAAAAAAAAAPC/"
				],
				[
					62,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAOYgAAAAAAAA6CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5iAAAAAAAADmIAAAAAAAAAAAAAAAAPC/"
				],
				[
					63,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAOcgAAAAAAAA6CAAAAAAAAAAAAAA6CAAAAAAAADpIAAAAAAAAAAAAADpIAAAAAAAAOogAAAAAAAAAAAAAOogAAAAAAAA6yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5yAAAAAAAADnIAAAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOsgAAAAAAAA7CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6yAAAAAAAADrIAAAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"paste",
					null,
					"AQAAAOwgAAAAAAAAACEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7CAAAAAAAADsIAAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAAAhAAAAAAAAAiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAACEAAAAAAAAAIQAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": "\nszie_t"
					},
					"CAAAAM4gAAAAAAAAzyAAAAAAAAAAAAAAzyAAAAAAAADRIAAAAAAAAAAAAADRIAAAAAAAANIgAAAAAAAAAAAAANIgAAAAAAAA0yAAAAAAAAAAAAAA0yAAAAAAAADUIAAAAAAAAAAAAADUIAAAAAAAANUgAAAAAAAAAAAAANUgAAAAAAAA1iAAAAAAAAAAAAAA1iAAAAAAAADXIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAziAAAAAAAADOIAAAAAAAAP///////+9/"
				],
				[
					71,
					1,
					"insert",
					{
						"characters": "int"
					},
					"BAAAANEgAAAAAAAA0iAAAAAAAAAAAAAA0iAAAAAAAADSIAAAAAAAAAYAAABzemllX3TSIAAAAAAAANMgAAAAAAAAAAAAANMgAAAAAAAA1CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1yAAAAAAAADRIAAAAAAAAAAAAAAAADRA"
				],
				[
					72,
					1,
					"insert",
					{
						"characters": " len"
					},
					"BAAAANQgAAAAAAAA1SAAAAAAAAAAAAAA1SAAAAAAAADWIAAAAAAAAAAAAADWIAAAAAAAANcgAAAAAAAAAAAAANcgAAAAAAAA2CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1CAAAAAAAADUIAAAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANggAAAAAAAA2SAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2CAAAAAAAADYIAAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					1,
					"left_delete",
					null,
					"AQAAANggAAAAAAAA2CAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAA2SAAAAAAAADZIAAAAAAAAAAAAAAAAPC/"
				],
				[
					75,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAANggAAAAAAAA2SAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2CAAAAAAAADYIAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert",
					{
						"characters": "len"
					},
					"AwAAAPcgAAAAAAAA+CAAAAAAAAAAAAAA+CAAAAAAAAD5IAAAAAAAAAAAAAD5IAAAAAAAAPogAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9yAAAAAAAAD3IAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAPogAAAAAAAA+yAAAAAAAAAAAAAA+yAAAAAAAAD8IAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+iAAAAAAAAD6IAAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					2,
					"left_delete",
					null,
					"AgAAABIhAAAAAAAAEiEAAAAAAAABAAAAKREhAAAAAAAAESEAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAEyEAAAAAAAATIQAAAAAAAP///////+9/"
				],
				[
					82,
					1,
					"insert",
					{
						"characters": "wsi,"
					},
					"BAAAABEhAAAAAAAAEiEAAAAAAAAAAAAAEiEAAAAAAAATIQAAAAAAAAAAAAATIQAAAAAAABQhAAAAAAAAAAAAABQhAAAAAAAAFSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAESEAAAAAAAARIQAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"insert",
					{
						"characters": " WSI_TOKEN"
					},
					"CgAAABUhAAAAAAAAFiEAAAAAAAAAAAAAFiEAAAAAAAAXIQAAAAAAAAAAAAAXIQAAAAAAABghAAAAAAAAAAAAABghAAAAAAAAGSEAAAAAAAAAAAAAGSEAAAAAAAAaIQAAAAAAAAAAAAAaIQAAAAAAABshAAAAAAAAAAAAABshAAAAAAAAHCEAAAAAAAAAAAAAHCEAAAAAAAAdIQAAAAAAAAAAAAAdIQAAAAAAAB4hAAAAAAAAAAAAAB4hAAAAAAAAHyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFSEAAAAAAAAVIQAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"insert",
					{
						"characters": "_HOST);"
					},
					"BwAAAB8hAAAAAAAAICEAAAAAAAAAAAAAICEAAAAAAAAhIQAAAAAAAAAAAAAhIQAAAAAAACIhAAAAAAAAAAAAACIhAAAAAAAAIyEAAAAAAAAAAAAAIyEAAAAAAAAkIQAAAAAAAAAAAAAkIQAAAAAAACUhAAAAAAAAAAAAACUhAAAAAAAAJiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHyEAAAAAAAAfIQAAAAAAAAAAAAAAAPC/"
				],
				[
					89,
					1,
					"cut",
					null,
					"AQAAAPcgAAAAAAAA9yAAAAAAAAAvAAAAbGVuID1sd3NfaGRyX3RvdGFsX2xlbmd0aCh3c2ksIFdTSV9UT0tFTl9IT1NUKTs",
					"AQAAAAAAAAABAAAA9yAAAAAAAAAmIQAAAAAAAP///////+9/"
				],
				[
					91,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAANkgAAAAAAAA2iAAAAAAAAAAAAAA2iAAAAAAAADcIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2SAAAAAAAADZIAAAAAAAAAAAAAAAIHJA"
				],
				[
					92,
					1,
					"paste",
					null,
					"AQAAANwgAAAAAAAACyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3CAAAAAAAADcIAAAAAAAAAAAAAAAAPC/"
				],
				[
					94,
					1,
					"insert",
					{
						"characters": "len+1);"
					},
					"BwAAACkhAAAAAAAAKiEAAAAAAAAAAAAAKiEAAAAAAAArIQAAAAAAAAAAAAArIQAAAAAAACwhAAAAAAAAAAAAACwhAAAAAAAALSEAAAAAAAAAAAAALSEAAAAAAAAuIQAAAAAAAAAAAAAuIQAAAAAAAC8hAAAAAAAAAAAAAC8hAAAAAAAAMCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKSEAAAAAAAApIQAAAAAAAAAAAAAAoH5A"
				],
				[
					95,
					1,
					"insert",
					{
						"characters": "\nlws_hdr"
					},
					"CQAAADAhAAAAAAAAMSEAAAAAAAAAAAAAMSEAAAAAAAAzIQAAAAAAAAAAAAAzIQAAAAAAADQhAAAAAAAAAAAAADQhAAAAAAAANSEAAAAAAAAAAAAANSEAAAAAAAA2IQAAAAAAAAAAAAA2IQAAAAAAADchAAAAAAAAAAAAADchAAAAAAAAOCEAAAAAAAAAAAAAOCEAAAAAAAA5IQAAAAAAAAAAAAA5IQAAAAAAADohAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMCEAAAAAAAAwIQAAAAAAAAAAAAAAAPC/"
				],
				[
					100,
					1,
					"paste",
					null,
					"AgAAADMhAAAAAAAAQCEAAAAAAAAAAAAAQCEAAAAAAABAIQAAAAAAAAcAAABsd3NfaGRy",
					"AQAAAAAAAAABAAAAMyEAAAAAAAA6IQAAAAAAAAAAAAAAAPC/"
				],
				[
					101,
					1,
					"left_delete",
					null,
					"AQAAAD8hAAAAAAAAPyEAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAQCEAAAAAAABAIQAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"insert",
					{
						"characters": "8ws"
					},
					"AwAAAD8hAAAAAAAAQCEAAAAAAAAAAAAAQCEAAAAAAABBIQAAAAAAAAAAAABBIQAAAAAAAEIhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPyEAAAAAAAA/IQAAAAAAAAAAAAAAAPC/"
				],
				[
					103,
					3,
					"left_delete",
					null,
					"AwAAAEEhAAAAAAAAQSEAAAAAAAABAAAAc0AhAAAAAAAAQCEAAAAAAAABAAAAdz8hAAAAAAAAPyEAAAAAAAABAAAAOA",
					"AQAAAAAAAAABAAAAQiEAAAAAAABCIQAAAAAAAAAAAAAAAPC/"
				],
				[
					104,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAD8hAAAAAAAAQSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPyEAAAAAAAA/IQAAAAAAAAAAAAAAAPC/"
				],
				[
					105,
					1,
					"insert",
					{
						"characters": "ws9"
					},
					"AwAAAEAhAAAAAAAAQSEAAAAAAAAAAAAAQSEAAAAAAABCIQAAAAAAAAAAAABCIQAAAAAAAEMhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQCEAAAAAAABAIQAAAAAAAAAAAAAAAPC/"
				],
				[
					106,
					1,
					"left_delete",
					null,
					"AQAAAEIhAAAAAAAAQiEAAAAAAAABAAAAOQ",
					"AQAAAAAAAAABAAAAQyEAAAAAAABDIQAAAAAAAAAAAAAAAPC/"
				],
				[
					107,
					1,
					"insert",
					{
						"characters": "i,"
					},
					"AgAAAEIhAAAAAAAAQyEAAAAAAAAAAAAAQyEAAAAAAABEIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQiEAAAAAAABCIQAAAAAAAAAAAAAAAPC/"
				],
				[
					108,
					1,
					"insert",
					{
						"characters": " url"
					},
					"BAAAAEQhAAAAAAAARSEAAAAAAAAAAAAARSEAAAAAAABGIQAAAAAAAAAAAABGIQAAAAAAAEchAAAAAAAAAAAAAEchAAAAAAAASCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARCEAAAAAAABEIQAAAAAAAAAAAAAAAPC/"
				],
				[
					109,
					1,
					"insert",
					{
						"characters": "->host,"
					},
					"BwAAAEghAAAAAAAASSEAAAAAAAAAAAAASSEAAAAAAABKIQAAAAAAAAAAAABKIQAAAAAAAEshAAAAAAAAAAAAAEshAAAAAAAATCEAAAAAAAAAAAAATCEAAAAAAABNIQAAAAAAAAAAAABNIQAAAAAAAE4hAAAAAAAAAAAAAE4hAAAAAAAATyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASCEAAAAAAABIIQAAAAAAAAAAAAAAAPC/"
				],
				[
					110,
					1,
					"insert",
					{
						"characters": " len+1"
					},
					"BgAAAE8hAAAAAAAAUCEAAAAAAAAAAAAAUCEAAAAAAABRIQAAAAAAAAAAAABRIQAAAAAAAFIhAAAAAAAAAAAAAFIhAAAAAAAAUyEAAAAAAAAAAAAAUyEAAAAAAABUIQAAAAAAAAAAAABUIQAAAAAAAFUhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATyEAAAAAAABPIQAAAAAAAAAAAAAAAPC/"
				],
				[
					111,
					1,
					"insert",
					{
						"characters": ",m"
					},
					"AgAAAFUhAAAAAAAAViEAAAAAAAAAAAAAViEAAAAAAABXIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVSEAAAAAAABVIQAAAAAAAAAAAAAAAPC/"
				],
				[
					112,
					1,
					"left_delete",
					null,
					"AQAAAFYhAAAAAAAAViEAAAAAAAABAAAAbQ",
					"AQAAAAAAAAABAAAAVyEAAAAAAABXIQAAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFYhAAAAAAAAVyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAViEAAAAAAABWIQAAAAAAAAAAAAAAAPC/"
				],
				[
					114,
					1,
					"insert",
					{
						"characters": "WSI_TOKEN_HOST"
					},
					"DgAAAFchAAAAAAAAWCEAAAAAAAAAAAAAWCEAAAAAAABZIQAAAAAAAAAAAABZIQAAAAAAAFohAAAAAAAAAAAAAFohAAAAAAAAWyEAAAAAAAAAAAAAWyEAAAAAAABcIQAAAAAAAAAAAABcIQAAAAAAAF0hAAAAAAAAAAAAAF0hAAAAAAAAXiEAAAAAAAAAAAAAXiEAAAAAAABfIQAAAAAAAAAAAABfIQAAAAAAAGAhAAAAAAAAAAAAAGAhAAAAAAAAYSEAAAAAAAAAAAAAYSEAAAAAAABiIQAAAAAAAAAAAABiIQAAAAAAAGMhAAAAAAAAAAAAAGMhAAAAAAAAZCEAAAAAAAAAAAAAZCEAAAAAAABlIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVyEAAAAAAABXIQAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					2,
					"left_delete",
					null,
					"AgAAAC0hAAAAAAAALSEAAAAAAAABAAAAMSwhAAAAAAAALCEAAAAAAAABAAAAKw",
					"AQAAAAAAAAABAAAALiEAAAAAAAAuIQAAAAAAAAAAAAAAAPC/"
				],
				[
					120,
					2,
					"right_delete",
					null,
					"AgAAAFEhAAAAAAAAUSEAAAAAAAABAAAAK1EhAAAAAAAAUSEAAAAAAAABAAAAMQ",
					"AQAAAAAAAAABAAAAUSEAAAAAAABRIQAAAAAAAAAAAAAAAPC/"
				],
				[
					124,
					1,
					"insert",
					{
						"characters": "+1"
					},
					"AgAAAAohAAAAAAAACyEAAAAAAAAAAAAACyEAAAAAAAAMIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACiEAAAAAAAAKIQAAAAAAAAAAAAAAAPC/"
				],
				[
					128,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAGQhAAAAAAAAZSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZCEAAAAAAABkIQAAAAAAAAAAAAAA4H9A"
				],
				[
					129,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAGUhAAAAAAAAZiEAAAAAAAAAAAAAZiEAAAAAAABoIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZSEAAAAAAABlIQAAAAAAAAAAAAAAAPC/"
				],
				[
					132,
					1,
					"cut",
					null,
					"AQAAANwgAAAAAAAA3CAAAAAAAACMAAAAbGVuID1sd3NfaGRyX3RvdGFsX2xlbmd0aCh3c2ksIFdTSV9UT0tFTl9IT1NUKSsxOwogIHVybC0+aG9zdCA9IGpzX21hbGxvYyhjdHgsIGxlbik7CiAgbHdzX2hkcl9jb3B5KHdzaSwgdXJsLT5ob3N0LCBsZW4sIFdTSV9UT0tFTl9IT1NUKTsKICA",
					"AQAAAAAAAAABAAAA3CAAAAAAAABoIQAAAAAAAAAAAAAAADRA"
				],
				[
					133,
					2,
					"paste",
					null,
					"AgAAANwgAAAAAAAAaCEAAAAAAAAAAAAAaCEAAAAAAAD0IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3CAAAAAAAADcIAAAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAGghAAAAAAAAaSEAAAAAAAAAAAAAaSEAAAAAAABrIQAAAAAAAAAAAAD1IQAAAAAAAPUhAAAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAaCEAAAAAAABoIQAAAAAAAAAAAAAAADRA"
				],
				[
					138,
					4,
					"left_delete",
					null,
					"BAAAAJchAAAAAAAAlyEAAAAAAAABAAAAVJYhAAAAAAAAliEAAAAAAAABAAAAU5UhAAAAAAAAlSEAAAAAAAABAAAAT5QhAAAAAAAAlCEAAAAAAAABAAAASA",
					"AQAAAAAAAAABAAAAmCEAAAAAAACYIQAAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"insert",
					{
						"characters": "GET_URI"
					},
					"BwAAAJQhAAAAAAAAlSEAAAAAAAAAAAAAlSEAAAAAAACWIQAAAAAAAAAAAACWIQAAAAAAAJchAAAAAAAAAAAAAJchAAAAAAAAmCEAAAAAAAAAAAAAmCEAAAAAAACZIQAAAAAAAAAAAACZIQAAAAAAAJohAAAAAAAAAAAAAJohAAAAAAAAmyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlCEAAAAAAACUIQAAAAAAAAAAAAAAAPC/"
				],
				[
					144,
					4,
					"right_delete",
					null,
					"BAAAAKchAAAAAAAApyEAAAAAAAABAAAAaKchAAAAAAAApyEAAAAAAAABAAAAb6chAAAAAAAApyEAAAAAAAABAAAAc6chAAAAAAAApyEAAAAAAAABAAAAdA",
					"AQAAAAAAAAABAAAApyEAAAAAAACnIQAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "path"
					},
					"BAAAAKchAAAAAAAAqCEAAAAAAAAAAAAAqCEAAAAAAACpIQAAAAAAAAAAAACpIQAAAAAAAKohAAAAAAAAAAAAAKohAAAAAAAAqyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApyEAAAAAAACnIQAAAAAAAAAAAAAAAPC/"
				],
				[
					149,
					5,
					"left_delete",
					null,
					"BQAAAPQhAAAAAAAA9CEAAAAAAAABAAAAVPMhAAAAAAAA8yEAAAAAAAABAAAAU/IhAAAAAAAA8iEAAAAAAAABAAAAT/EhAAAAAAAA8SEAAAAAAAABAAAASPAhAAAAAAAA8CEAAAAAAAABAAAAXw",
					"AQAAAAAAAAABAAAA9SEAAAAAAAD1IQAAAAAAAAAAAAAAAPC/"
				],
				[
					150,
					1,
					"insert",
					{
						"characters": "_GET_URI"
					},
					"CAAAAPAhAAAAAAAA8SEAAAAAAAAAAAAA8SEAAAAAAADyIQAAAAAAAAAAAADyIQAAAAAAAPMhAAAAAAAAAAAAAPMhAAAAAAAA9CEAAAAAAAAAAAAA9CEAAAAAAAD1IQAAAAAAAAAAAAD1IQAAAAAAAPYhAAAAAAAAAAAAAPYhAAAAAAAA9yEAAAAAAAAAAAAA9yEAAAAAAAD4IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8CEAAAAAAADwIQAAAAAAAAAAAAAAAPC/"
				],
				[
					164,
					1,
					"cut",
					null,
					"AQAAAJwhAAAAAAAAnCEAAAAAAAACAAAAKzE",
					"AQAAAAAAAAABAAAAniEAAAAAAACcIQAAAAAAAAAAAAAAAPC/"
				],
				[
					167,
					1,
					"paste",
					null,
					"AQAAAL4hAAAAAAAAwCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAviEAAAAAAAC+IQAAAAAAAAAAAAAAAPC/"
				],
				[
					172,
					1,
					"insert",
					{
						"characters": "if(("
					},
					"BAAAAGshAAAAAAAAbCEAAAAAAAAAAAAAbCEAAAAAAABtIQAAAAAAAAAAAABtIQAAAAAAAG4hAAAAAAAAAAAAAG4hAAAAAAAAbyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAayEAAAAAAABrIQAAAAAAAAAAAAAAADRA"
				],
				[
					174,
					1,
					"left_delete",
					null,
					"AQAAAKAhAAAAAAAAoCEAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAAoSEAAAAAAAChIQAAAAAAAP///////+9/"
				],
				[
					175,
					1,
					"insert",
					{
						"characters": "))"
					},
					"AgAAAKAhAAAAAAAAoSEAAAAAAAAAAAAAoSEAAAAAAACiIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoCEAAAAAAACgIQAAAAAAAAAAAAAAAPC/"
				],
				[
					176,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKIhAAAAAAAAoyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoiEAAAAAAACiIQAAAAAAAAAAAAAAAPC/"
				],
				[
					177,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAKMhAAAAAAAApSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoyEAAAAAAACjIQAAAAAAAAAAAAAAAPC/"
				],
				[
					178,
					1,
					"right_delete",
					null,
					"AQAAAKQhAAAAAAAApCEAAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAApCEAAAAAAACkIQAAAAAAAAAAAAAAAPC/"
				],
				[
					183,
					1,
					"insert",
					{
						"characters": "+1"
					},
					"AgAAAOwhAAAAAAAA7SEAAAAAAAAAAAAA7SEAAAAAAADuIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7CEAAAAAAADsIQAAAAAAAAAAAAAAAPC/"
				],
				[
					185,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAAMiAAAAAAAABCIAAAAAAAAAAAAABCIAAAAAAAAGIgAAAAAAAAAAAAAGIgAAAAAAAAciAAAAAAAAAAAAAAQiAAAAAAAABCIAAAAAAAACAAAAICAEIgAAAAAAAAQiAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAyIAAAAAAAADIgAAAAAAAP///////+9/"
				],
				[
					188,
					1,
					"insert",
					{
						"characters": "\nif(("
					},
					"BgAAANwgAAAAAAAA3SAAAAAAAAAAAAAA3SAAAAAAAADfIAAAAAAAAAAAAADfIAAAAAAAAOAgAAAAAAAAAAAAAOAgAAAAAAAA4SAAAAAAAAAAAAAA4SAAAAAAAADiIAAAAAAAAAAAAADiIAAAAAAAAOMgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3CAAAAAAAADcIAAAAAAAAAAAAAAAAPC/"
				],
				[
					190,
					3,
					"left_delete",
					null,
					"AwAAABMhAAAAAAAAEyEAAAAAAAABAAAAOxIhAAAAAAAAEiEAAAAAAAABAAAAMREhAAAAAAAAESEAAAAAAAABAAAAKw",
					"AQAAAAAAAAABAAAAFCEAAAAAAAAUIQAAAAAAAP///////+9/"
				],
				[
					191,
					1,
					"insert",
					{
						"characters": "))"
					},
					"AgAAABEhAAAAAAAAEiEAAAAAAAAAAAAAEiEAAAAAAAATIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAESEAAAAAAAARIQAAAAAAAAAAAAAAAPC/"
				],
				[
					192,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABMhAAAAAAAAFCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEyEAAAAAAAATIQAAAAAAAAAAAAAAAPC/"
				],
				[
					193,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAABQhAAAAAAAAFiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFCEAAAAAAAAUIQAAAAAAAAAAAAAAAPC/"
				],
				[
					194,
					1,
					"right_delete",
					null,
					"AQAAABUhAAAAAAAAFSEAAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAAFSEAAAAAAAAVIQAAAAAAAAAAAAAAAPC/"
				],
				[
					197,
					1,
					"insert",
					{
						"characters": "+1"
					},
					"AgAAADYhAAAAAAAANyEAAAAAAAAAAAAANyEAAAAAAAA4IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANiEAAAAAAAA2IQAAAAAAAAAAAAAAAPC/"
				],
				[
					199,
					1,
					"insert",
					{
						"characters": "+1"
					},
					"AgAAAF0hAAAAAAAAXiEAAAAAAAAAAAAAXiEAAAAAAABfIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXSEAAAAAAABdIQAAAAAAAAAAAAAAQHVA"
				],
				[
					201,
					1,
					"run_macro_file",
					{
						"event":
						{
							"modifier_keys":
							{
							}
						},
						"file": "res://Packages/Default/Add Line.sublime-macro"
					},
					"AgAAAHEhAAAAAAAAciEAAAAAAAAAAAAAciEAAAAAAAB0IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcSEAAAAAAABxIQAAAAAAAP///////+9/"
				],
				[
					202,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AwAAAHQhAAAAAAAAdSEAAAAAAAAAAAAAciEAAAAAAAByIQAAAAAAAAIAAAAgIHIhAAAAAAAAciEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdCEAAAAAAAB0IQAAAAAAAAAAAAAAAPC/"
				],
				[
					213,
					1,
					"insert",
					{
						"characters": "void"
					},
					"BQAAAIwgAAAAAAAAjSAAAAAAAAAAAAAAjSAAAAAAAACNIAAAAAAAAAQAAABCT09MjSAAAAAAAACOIAAAAAAAAAAAAACOIAAAAAAAAI8gAAAAAAAAAAAAAI8gAAAAAAAAkCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkCAAAAAAAACMIAAAAAAAAAAAAAAAAAAA"
				],
				[
					251,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAAHEhAAAAAAAAciEAAAAAAAAAAAAAciEAAAAAAAB0IQAAAAAAAAAAAAB0IQAAAAAAAHUhAAAAAAAAAAAAAHUhAAAAAAAAdyEAAAAAAAAAAAAAciEAAAAAAAByIQAAAAAAAAIAAAAgIA",
					"AQAAAAAAAAABAAAAcSEAAAAAAABxIQAAAAAAAAAAAAAAAPC/"
				],
				[
					252,
					1,
					"insert",
					{
						"characters": "if"
					},
					"AgAAAHUhAAAAAAAAdiEAAAAAAAAAAAAAdiEAAAAAAAB3IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdSEAAAAAAAB1IQAAAAAAAAAAAAAAAPC/"
				],
				[
					253,
					2,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AgAAAHchAAAAAAAAeSEAAAAAAAAAAAAAeCEAAAAAAAB6IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdyEAAAAAAAB3IQAAAAAAAAAAAAAAAPC/"
				],
				[
					254,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAAHghAAAAAAAAeCEAAAAAAAABAAAAKHghAAAAAAAAeCEAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAeSEAAAAAAAB5IQAAAAAAAAAAAAAAAPC/"
				],
				[
					259,
					1,
					"insert",
					{
						"characters": "\nchar*p;"
					},
					"CQAAANkgAAAAAAAA2iAAAAAAAAAAAAAA2iAAAAAAAADcIAAAAAAAAAAAAADcIAAAAAAAAN0gAAAAAAAAAAAAAN0gAAAAAAAA3iAAAAAAAAAAAAAA3iAAAAAAAADfIAAAAAAAAAAAAADfIAAAAAAAAOAgAAAAAAAAAAAAAOAgAAAAAAAA4SAAAAAAAAAAAAAA4SAAAAAAAADiIAAAAAAAAAAAAADiIAAAAAAAAOMgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2SAAAAAAAADZIAAAAAAAAP///////+9/"
				],
				[
					261,
					1,
					"left_delete",
					null,
					"AQAAAIIhAAAAAAAAgiEAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAgyEAAAAAAACDIQAAAAAAAAAAAAAAgFZA"
				],
				[
					262,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIIhAAAAAAAAhCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgiEAAAAAAACCIQAAAAAAAAAAAAAAAPC/"
				],
				[
					263,
					1,
					"insert",
					{
						"characters": "p"
					},
					"AQAAAIMhAAAAAAAAhCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgyEAAAAAAACDIQAAAAAAAAAAAAAAAPC/"
				],
				[
					264,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAIQhAAAAAAAAhSEAAAAAAAAAAAAAhSEAAAAAAACGIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhCEAAAAAAACEIQAAAAAAAAAAAAAAAPC/"
				],
				[
					265,
					1,
					"insert",
					{
						"characters": " strchr"
					},
					"BwAAAIYhAAAAAAAAhyEAAAAAAAAAAAAAhyEAAAAAAACIIQAAAAAAAAAAAACIIQAAAAAAAIkhAAAAAAAAAAAAAIkhAAAAAAAAiiEAAAAAAAAAAAAAiiEAAAAAAACLIQAAAAAAAAAAAACLIQAAAAAAAIwhAAAAAAAAAAAAAIwhAAAAAAAAjSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhiEAAAAAAACGIQAAAAAAAAAAAAAAAPC/"
				],
				[
					266,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAI0hAAAAAAAAjyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjSEAAAAAAACNIQAAAAAAAAAAAAAAAPC/"
				],
				[
					270,
					1,
					"insert",
					{
						"characters": "while"
					},
					"BgAAAH8hAAAAAAAAgCEAAAAAAAAAAAAAgCEAAAAAAACAIQAAAAAAABEAAABpZigocCA9IHN0cmNocigpKYAhAAAAAAAAgSEAAAAAAAAAAAAAgSEAAAAAAACCIQAAAAAAAAAAAACCIQAAAAAAAIMhAAAAAAAAAAAAAIMhAAAAAAAAhCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfyEAAAAAAACQIQAAAAAAAP///////+9/"
				],
				[
					271,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIQhAAAAAAAAhiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhCEAAAAAAACEIQAAAAAAAAAAAAAAAPC/"
				],
				[
					272,
					1,
					"insert",
					{
						"characters": "len"
					},
					"AwAAAIUhAAAAAAAAhiEAAAAAAAAAAAAAhiEAAAAAAACHIQAAAAAAAAAAAACHIQAAAAAAAIghAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSEAAAAAAACFIQAAAAAAAAAAAAAAAPC/"
				],
				[
					273,
					1,
					"insert",
					{
						"characters": " >"
					},
					"AgAAAIghAAAAAAAAiSEAAAAAAAAAAAAAiSEAAAAAAACKIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiCEAAAAAAACIIQAAAAAAAAAAAAAAAPC/"
				],
				[
					274,
					1,
					"insert",
					{
						"characters": " 0"
					},
					"AgAAAIohAAAAAAAAiyEAAAAAAAAAAAAAiyEAAAAAAACMIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiiEAAAAAAACKIQAAAAAAAAAAAAAAAPC/"
				],
				[
					275,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAAIwhAAAAAAAAjSEAAAAAAAAAAAAAjSEAAAAAAACOIQAAAAAAAAAAAACOIQAAAAAAAI8hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjCEAAAAAAACMIQAAAAAAAAAAAAAAAPC/"
				],
				[
					276,
					1,
					"insert",
					{
						"characters": " url->host"
					},
					"CgAAAI8hAAAAAAAAkCEAAAAAAAAAAAAAkCEAAAAAAACRIQAAAAAAAAAAAACRIQAAAAAAAJIhAAAAAAAAAAAAAJIhAAAAAAAAkyEAAAAAAAAAAAAAkyEAAAAAAACUIQAAAAAAAAAAAACUIQAAAAAAAJUhAAAAAAAAAAAAAJUhAAAAAAAAliEAAAAAAAAAAAAAliEAAAAAAACXIQAAAAAAAAAAAACXIQAAAAAAAJghAAAAAAAAAAAAAJghAAAAAAAAmSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjyEAAAAAAACPIQAAAAAAAAAAAAAAAPC/"
				],
				[
					277,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAJkhAAAAAAAAmyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmSEAAAAAAACZIQAAAAAAAAAAAAAAAPC/"
				],
				[
					278,
					1,
					"insert",
					{
						"characters": "len-1"
					},
					"BQAAAJohAAAAAAAAmyEAAAAAAAAAAAAAmyEAAAAAAACcIQAAAAAAAAAAAACcIQAAAAAAAJ0hAAAAAAAAAAAAAJ0hAAAAAAAAniEAAAAAAAAAAAAAniEAAAAAAACfIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmiEAAAAAAACaIQAAAAAAAAAAAAAAAPC/"
				],
				[
					285,
					1,
					"insert",
					{
						"characters": "--"
					},
					"AgAAAIUhAAAAAAAAhiEAAAAAAAAAAAAAhiEAAAAAAACHIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSEAAAAAAACFIQAAAAAAAAAAAAAAAPC/"
				],
				[
					288,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAIwhAAAAAAAAjSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjCEAAAAAAACMIQAAAAAAAAAAAAAAAPC/"
				],
				[
					291,
					1,
					"insert",
					{
						"characters": "isdigit("
					},
					"CAAAAJMhAAAAAAAAlCEAAAAAAAAAAAAAlCEAAAAAAACVIQAAAAAAAAAAAACVIQAAAAAAAJYhAAAAAAAAAAAAAJYhAAAAAAAAlyEAAAAAAAAAAAAAlyEAAAAAAACYIQAAAAAAAAAAAACYIQAAAAAAAJkhAAAAAAAAAAAAAJkhAAAAAAAAmiEAAAAAAAAAAAAAmiEAAAAAAACbIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkyEAAAAAAACTIQAAAAAAAAAAAAAAAPC/"
				],
				[
					294,
					2,
					"left_delete",
					null,
					"AgAAAKkhAAAAAAAAqSEAAAAAAAABAAAAMaghAAAAAAAAqCEAAAAAAAABAAAALQ",
					"AQAAAAAAAAABAAAAqiEAAAAAAACqIQAAAAAAAAAAAAAAAPC/"
				],
				[
					296,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAKohAAAAAAAAqyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqiEAAAAAAACqIQAAAAAAAAAAAAAAAPC/"
				],
				[
					300,
					1,
					"insert",
					{
						"characters": "\n;"
					},
					"BQAAAKshAAAAAAAArCEAAAAAAAAAAAAArCEAAAAAAACuIQAAAAAAAAAAAACsIQAAAAAAAKwhAAAAAAAAAgAAACAgrCEAAAAAAACwIQAAAAAAAAAAAACwIQAAAAAAALEhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqyEAAAAAAACrIQAAAAAAAP///////+9/"
				],
				[
					301,
					1,
					"left_delete",
					null,
					"AQAAALAhAAAAAAAAsCEAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAAsSEAAAAAAACxIQAAAAAAAAAAAAAAAPC/"
				],
				[
					302,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAALAhAAAAAAAAsSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsCEAAAAAAACwIQAAAAAAAAAAAAAAAPC/"
				],
				[
					303,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BwAAALEhAAAAAAAAsiEAAAAAAAAAAAAAsiEAAAAAAAC2IQAAAAAAAAAAAACyIQAAAAAAALIhAAAAAAAABAAAACAgICCyIQAAAAAAALQhAAAAAAAAAAAAALQhAAAAAAAAtSEAAAAAAAAAAAAAtSEAAAAAAAC3IQAAAAAAAAAAAACyIQAAAAAAALIhAAAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAsSEAAAAAAACxIQAAAAAAAAAAAAAAAPC/"
				],
				[
					308,
					1,
					"insert",
					{
						"characters": "if"
					},
					"AgAAALUhAAAAAAAAtiEAAAAAAAAAAAAAtiEAAAAAAAC3IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtSEAAAAAAAC1IQAAAAAAAAAAAAAAAPC/"
				],
				[
					309,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALchAAAAAAAAuSEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtyEAAAAAAAC3IQAAAAAAAAAAAAAAAPC/"
				],
				[
					310,
					1,
					"insert",
					{
						"characters": "url->host"
					},
					"CQAAALghAAAAAAAAuSEAAAAAAAAAAAAAuSEAAAAAAAC6IQAAAAAAAAAAAAC6IQAAAAAAALshAAAAAAAAAAAAALshAAAAAAAAvCEAAAAAAAAAAAAAvCEAAAAAAAC9IQAAAAAAAAAAAAC9IQAAAAAAAL4hAAAAAAAAAAAAAL4hAAAAAAAAvyEAAAAAAAAAAAAAvyEAAAAAAADAIQAAAAAAAAAAAADAIQAAAAAAAMEhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuCEAAAAAAAC4IQAAAAAAAAAAAAAAAPC/"
				],
				[
					311,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAMEhAAAAAAAAwyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwSEAAAAAAADBIQAAAAAAAAAAAAAAAPC/"
				],
				[
					312,
					1,
					"insert",
					{
						"characters": "len"
					},
					"AwAAAMIhAAAAAAAAwyEAAAAAAAAAAAAAwyEAAAAAAADEIQAAAAAAAAAAAADEIQAAAAAAAMUhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwiEAAAAAAADCIQAAAAAAAAAAAAAAAPC/"
				],
				[
					314,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAAMYhAAAAAAAAxyEAAAAAAAAAAAAAxyEAAAAAAADIIQAAAAAAAAAAAADIIQAAAAAAAMkhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxiEAAAAAAADGIQAAAAAAAAAAAAAAAPC/"
				],
				[
					315,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMkhAAAAAAAAyiEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAySEAAAAAAADJIQAAAAAAAAAAAAAAAPC/"
				],
				[
					316,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAAMohAAAAAAAAzCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyiEAAAAAAADKIQAAAAAAAAAAAAAAAPC/"
				],
				[
					317,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAMshAAAAAAAAzCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyyEAAAAAAADLIQAAAAAAAAAAAAAAAPC/"
				],
				[
					319,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAM4hAAAAAAAA0CEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAziEAAAAAAADOIQAAAAAAAAAAAAAAAPC/"
				],
				[
					320,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAAM8hAAAAAAAA0CEAAAAAAAAAAAAA0CEAAAAAAADSIQAAAAAAAAAAAADSIQAAAAAAANMhAAAAAAAAAAAAANMhAAAAAAAA1SEAAAAAAAAAAAAA0CEAAAAAAADQIQAAAAAAAAIAAAAgINAhAAAAAAAA1CEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzyEAAAAAAADPIQAAAAAAAAAAAAAAAPC/"
				],
				[
					325,
					1,
					"insert",
					{
						"characters": "url->port"
					},
					"CQAAANQhAAAAAAAA1SEAAAAAAAAAAAAA1SEAAAAAAADWIQAAAAAAAAAAAADWIQAAAAAAANchAAAAAAAAAAAAANchAAAAAAAA2CEAAAAAAAAAAAAA2CEAAAAAAADZIQAAAAAAAAAAAADZIQAAAAAAANohAAAAAAAAAAAAANohAAAAAAAA2yEAAAAAAAAAAAAA2yEAAAAAAADcIQAAAAAAAAAAAADcIQAAAAAAAN0hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1CEAAAAAAADUIQAAAAAAAAAAAAAAAPC/"
				],
				[
					326,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAN0hAAAAAAAA3iEAAAAAAAAAAAAA3iEAAAAAAADfIQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3SEAAAAAAADdIQAAAAAAAAAAAAAAAPC/"
				],
				[
					327,
					1,
					"insert",
					{
						"characters": " atoi/"
					},
					"BgAAAN8hAAAAAAAA4CEAAAAAAAAAAAAA4CEAAAAAAADhIQAAAAAAAAAAAADhIQAAAAAAAOIhAAAAAAAAAAAAAOIhAAAAAAAA4yEAAAAAAAAAAAAA4yEAAAAAAADkIQAAAAAAAAAAAADkIQAAAAAAAOUhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3yEAAAAAAADfIQAAAAAAAAAAAAAAAPC/"
				],
				[
					328,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAOUhAAAAAAAA5yEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5SEAAAAAAADlIQAAAAAAAAAAAAAAAPC/"
				],
				[
					329,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAAOUhAAAAAAAA5SEAAAAAAAABAAAAKOUhAAAAAAAA5SEAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAA5iEAAAAAAADmIQAAAAAAAAAAAAAAAPC/"
				],
				[
					330,
					1,
					"left_delete",
					null,
					"AQAAAOQhAAAAAAAA5CEAAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAA5SEAAAAAAADlIQAAAAAAAAAAAAAAAPC/"
				],
				[
					331,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAOQhAAAAAAAA5iEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5CEAAAAAAADkIQAAAAAAAAAAAAAAAPC/"
				],
				[
					332,
					1,
					"insert",
					{
						"characters": "&url->host"
					},
					"CgAAAOUhAAAAAAAA5iEAAAAAAAAAAAAA5iEAAAAAAADnIQAAAAAAAAAAAADnIQAAAAAAAOghAAAAAAAAAAAAAOghAAAAAAAA6SEAAAAAAAAAAAAA6SEAAAAAAADqIQAAAAAAAAAAAADqIQAAAAAAAOshAAAAAAAAAAAAAOshAAAAAAAA7CEAAAAAAAAAAAAA7CEAAAAAAADtIQAAAAAAAAAAAADtIQAAAAAAAO4hAAAAAAAAAAAAAO4hAAAAAAAA7yEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5SEAAAAAAADlIQAAAAAAAAAAAAAAAPC/"
				],
				[
					333,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAO8hAAAAAAAA8SEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7yEAAAAAAADvIQAAAAAAAAAAAAAAAPC/"
				],
				[
					334,
					1,
					"insert",
					{
						"characters": "len+1"
					},
					"BQAAAPAhAAAAAAAA8SEAAAAAAAAAAAAA8SEAAAAAAADyIQAAAAAAAAAAAADyIQAAAAAAAPMhAAAAAAAAAAAAAPMhAAAAAAAA9CEAAAAAAAAAAAAA9CEAAAAAAAD1IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8CEAAAAAAADwIQAAAAAAAAAAAAAAAPC/"
				],
				[
					336,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAPchAAAAAAAA+CEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9yEAAAAAAAD3IQAAAAAAAAAAAAAAAPC/"
				],
				[
					337,
					1,
					"insert",
					{
						"characters": "\nurl->host"
					},
					"CwAAAPghAAAAAAAA+SEAAAAAAAAAAAAA+SEAAAAAAAD9IQAAAAAAAAAAAAD9IQAAAAAAAP4hAAAAAAAAAAAAAP4hAAAAAAAA/yEAAAAAAAAAAAAA/yEAAAAAAAAAIgAAAAAAAAAAAAAAIgAAAAAAAAEiAAAAAAAAAAAAAAEiAAAAAAAAAiIAAAAAAAAAAAAAAiIAAAAAAAADIgAAAAAAAAAAAAADIgAAAAAAAAQiAAAAAAAAAAAAAAQiAAAAAAAABSIAAAAAAAAAAAAABSIAAAAAAAAGIgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+CEAAAAAAAD4IQAAAAAAAAAAAAAAAPC/"
				],
				[
					338,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAAYiAAAAAAAACCIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABiIAAAAAAAAGIgAAAAAAAAAAAAAAAPC/"
				],
				[
					339,
					1,
					"insert",
					{
						"characters": "len"
					},
					"AwAAAAciAAAAAAAACCIAAAAAAAAAAAAACCIAAAAAAAAJIgAAAAAAAAAAAAAJIgAAAAAAAAoiAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAByIAAAAAAAAHIgAAAAAAAAAAAAAAAPC/"
				],
				[
					340,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAoiAAAAAAAACyIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACiIAAAAAAAAKIgAAAAAAAAAAAAAAAPC/"
				],
				[
					341,
					1,
					"left_delete",
					null,
					"AQAAAAoiAAAAAAAACiIAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAACyIAAAAAAAALIgAAAAAAAAAAAAAAAPC/"
				],
				[
					343,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAAsiAAAAAAAADCIAAAAAAAAAAAAADCIAAAAAAAANIgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACyIAAAAAAAALIgAAAAAAAAAAAAAAAPC/"
				],
				[
					344,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAA0iAAAAAAAADiIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADSIAAAAAAAANIgAAAAAAAAAAAAAAAPC/"
				],
				[
					345,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAAA4iAAAAAAAAECIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADiIAAAAAAAAOIgAAAAAAAAAAAAAAAPC/"
				],
				[
					346,
					1,
					"insert",
					{
						"characters": "\\0"
					},
					"AgAAAA8iAAAAAAAAECIAAAAAAAAAAAAAECIAAAAAAAARIgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADyIAAAAAAAAPIgAAAAAAAAAAAAAAAPC/"
				],
				[
					348,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAABIiAAAAAAAAEyIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEiIAAAAAAAASIgAAAAAAAAAAAAAAAPC/"
				],
				[
					355,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACASQAAI2luY2x1ZGUgIm1pbm5ldC5oIgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxsaW1pdHMuaD4KI2luY2x1ZGUgPGxpYndlYnNvY2tldHMuaD4KCiNpZm5kZWYgSEFWRV9TVFJMQ1BZCnNpemVfdApzdHJsY3B5KGNoYXIqIGRzdCwgY29uc3QgY2hhciogc3JjLCBzaXplX3Qgc2l6KSB7CiAgcmVnaXN0ZXIgY2hhciogZCA9IGRzdDsKICByZWdpc3RlciBjb25zdCBjaGFyKiBzID0gc3JjOwogIHJlZ2lzdGVyIHNpemVfdCBuID0gc2l6OwoKICBpZihuICE9IDAgJiYgLS1uICE9IDApIHsKICAgIGRvIHsKICAgICAgaWYoKCpkKysgPSAqcysrKSA9PSAwKQogICAgICAgIGJyZWFrOwogICAgfSB3aGlsZSgtLW4gIT0gMCk7CiAgfQoKICBpZihuID09IDApIHsKICAgIGlmKHNpeiAhPSAwKQogICAgICAqZCA9ICdcMCc7CiAgICB3aGlsZSgqcysrKQogICAgICA7CiAgfQoKICByZXR1cm4gKHMgLSBzcmMgLSAxKTsKfQojZW5kaWYKCnN0YXRpYyBjaGFyIGNvbnN0KiBjb25zdCBwcm90b2NvbF9uYW1lc1tdID0gewogICAgIndzIiwKICAgICJ3c3MiLAogICAgImh0dHAiLAogICAgImh0dHBzIiwKICAgICJyYXciLAogICAgInRscyIsCn07CgpNaW5uZXRQcm90b2NvbApwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciogcHJvdG9jb2wpIHsKICBpbnQgaTsKCiAgZm9yKGkgPSBjb3VudG9mKHByb3RvY29sX25hbWVzKSAtIDE7IGkgPj0gMDsgLS1pKQogICAgaWYoIXN0cmNhc2VjbXAocHJvdG9jb2wsIHByb3RvY29sX25hbWVzW2ldKSkKICAgICAgcmV0dXJuIGk7CgogIHJldHVybiBQUk9UT0NPTF9SQVc7Cn0KCmNvbnN0IGNoYXIqCnByb3RvY29sX3N0cmluZyhNaW5uZXRQcm90b2NvbCBwKSB7CiAgaW50IGkgPSAodW5zaWduZWQgaW50KXA7CiAgYXNzZXJ0KGkgPj0gMCk7CiAgYXNzZXJ0KGkgPCBjb3VudG9mKHByb3RvY29sX25hbWVzKSk7CiAgcmV0dXJuIHByb3RvY29sX25hbWVzW2ldOwp9Cgp1aW50MTZfdApwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wgcCkgewogIHN3aXRjaChwKSB7CiAgICBjYXNlIFBST1RPQ09MX1dTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQOiB7CiAgICAgIHJldHVybiA4MDsKICAgIH0KICAgIGNhc2UgUFJPVE9DT0xfV1NTOgogICAgY2FzZSBQUk9UT0NPTF9IVFRQUzogewogICAgICByZXR1cm4gNDQzOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXR1cm4gMDsKICAgIH0KICB9Cn0KCkJPT0wKcHJvdG9jb2xfaXNfdGxzKE1pbm5ldFByb3RvY29sIHApIHsKICBzd2l0Y2gocCkgewogICAgY2FzZSBQUk9UT0NPTF9XU1M6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOgogICAgY2FzZSBQUk9UT0NPTF9UTFM6IHsKICAgICAgcmV0dXJuIFRSVUU7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIHJldHVybiBGQUxTRTsKICAgIH0KICB9Cn0KCnZvaWQKdXJsX2luaXQoTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvY29sLCBjb25zdCBjaGFyKiBob3N0LCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IHByb3RvY29sX251bWJlcihwcm90b2NvbCk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocHJvdG8pOwogIHVybC0+aG9zdCA9IGpzX3N0cmR1cChjdHgsIGhvc3QgJiYgKmhvc3QgPyBob3N0IDogIjAuMC4wLjAiKTsKICB1cmwtPnBvcnQgPSBwb3J0ID49IDAgJiYgcG9ydCA8PSA2NTUzNSA/IHBvcnQgOiBwcm90b2NvbF9kZWZhdWx0X3BvcnQocHJvdG8pOwogIHVybC0+cGF0aCA9IGpzX3N0cmR1cChjdHgsIHBhdGggPyBwYXRoIDogIiIpOwp9Cgp2b2lkCnVybF9wYXJzZShNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogdSwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRQcm90b2NvbCBwcm90byA9IFBST1RPQ09MX1dTOwogIGNvbnN0IGNoYXIgKnMsICp0OwoKICBpZigocyA9IHN0cnN0cih1LCAiOi8vIikpKSB7CiAgICB1cmwtPnByb3RvY29sID0ganNfc3RybmR1cChjdHgsIHUsIHMgLSB1KTsKICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC0+cHJvdG9jb2wpOwogICAgdSA9IHMgKyAzOwogIH0gZWxzZSB7CiAgICB1cmwtPnByb3RvY29sID0gMDsKICB9CgogIGZvcihzID0gdTsgKnM7ICsrcykKICAgIGlmKCpzID09ICc6JyB8fCAqcyA9PSAnLycpCiAgICAgIGJyZWFrOwoKICB1cmwtPmhvc3QgPSBzID4gdSA/IGpzX3N0cm5kdXAoY3R4LCB1LCBzIC0gdSkgOiAwOwoKICBpZigqcyA9PSAnOicpIHsKICAgIHVuc2lnbmVkIGxvbmcgbiA9IHN0cnRvdWwoKytzLCAoY2hhcioqKSZ0LCAxMCk7CgogICAgdXJsLT5wb3J0ID0gbiAhPSBVTE9OR19NQVggPyBuIDogMDsKICAgIGlmKHMgPCB0KQogICAgICBzID0gdDsKICB9IGVsc2UgaWYodXJsLT5wcm90b2NvbCkgewogICAgdXJsLT5wb3J0ID0gcHJvdG9jb2xfZGVmYXVsdF9wb3J0KHByb3RvKTsKICB9IGVsc2UgewogICAgdXJsLT5wb3J0ID0gMDsKICB9CgogIC8vIGlmKCF1cmwtPnBhdGgpCiAgaWYocyAmJiAqcykKICAgIHVybC0+cGF0aCA9IHMgJiYgKnMgPyBqc19zdHJkdXAoY3R4LCBzKSA6IDA7Cn0KCk1pbm5ldFVSTAp1cmxfY3JlYXRlKGNvbnN0IGNoYXIqIHN0ciwgSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRVUkwgcmV0ID0gezEsIDAsIDAsIDAsIDB9OwogIHVybF9wYXJzZSgmcmV0LCBzdHIsIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc2l6ZV90CnVybF9wcmludChjaGFyKiBidWYsIHNpemVfdCBzaXplLCBjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgc2l6ZV90IHBvcyA9IDA7CgogIGlmKHVybC5wcm90b2NvbCAmJiAqdXJsLnByb3RvY29sKSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoYnVmLCB1cmwucHJvdG9jb2wsIHNpemUgLSBwb3MpIDogc3RybGVuKHVybC5wcm90b2NvbCkpICsgMyA+IHNpemUpCiAgICAgIHJldHVybiBwb3M7CgogICAgaWYoKHBvcyArPSBidWYgPyBzdHJsY3B5KCZidWZbcG9zXSwgIjovLyIsIHNpemUgLSBwb3MpIDogMykgPj0gc2l6ZSkKICAgICAgcmV0dXJuIHBvczsKICB9CgogIGlmKHVybC5ob3N0KSB7CiAgICBpZigocG9zICs9IGJ1ZiA/IHN0cmxjcHkoJmJ1Zltwb3NdLCB1cmwuaG9zdCwgc2l6ZSAtIHBvcykgOiBzdHJsZW4odXJsLmhvc3QpKSA+PSBzaXplKQogICAgICByZXR1cm4gcG9zOwogIH0KCiAgaWYodXJsLnBvcnQpIHsKICAgIGlmKHNpemUgLSBwb3MgPCA3KQogICAgICByZXR1cm4gcG9zOwogICAgaWYoIWJ1ZikgewogICAgICBwb3MgKz0gMSArICh1cmwucG9ydCA+IDk5OTkgPyA1IDogdXJsLnBvcnQgPiA5OTkgPyA0IDogdXJsLnBvcnQgPiA5OSA/IDMgOiB1cmwucG9ydCA+IDkgPyAyIDogMSk7CiAgICB9IGVsc2UgewogICAgICBzcHJpbnRmKCZidWZbcG9zXSwgIjoldSIsIHVybC5wb3J0KTsKICAgICAgcG9zICs9IHN0cmxlbigmYnVmW3Bvc10pOwogICAgfQogIH0KCiAgaWYodXJsLnBhdGgpIHsKICAgIGlmKChwb3MgKz0gYnVmID8gc3RybGNweSgmYnVmW3Bvc10sIHVybC5wYXRoLCBzaXplIC0gcG9zKSA6IHN0cmxlbih1cmwucGF0aCkpID49IHNpemUpCiAgICAgIHJldHVybiBwb3M7CiAgfQoKICByZXR1cm4gcG9zOwp9CgpjaGFyKgp1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCB1cmwsIEpTQ29udGV4dCogY3R4KSB7CiAgc2l6ZV90IGxlbiA9ICh1cmwucHJvdG9jb2wgPyBzdHJsZW4odXJsLnByb3RvY29sKSArIDMgOiAwKSArICh1cmwuaG9zdCA/IHN0cmxlbih1cmwuaG9zdCkgKyAxICsgNSA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsKICBjaGFyKiBzdHI7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSAtMTsKCiAgaWYoKHN0ciA9IGpzX21hbGxvYyhjdHgsIGxlbikpKSB7CiAgICBjb25zdCBjaGFyKiBob3N0ID0gdXJsLmhvc3QgPyB1cmwuaG9zdCA6ICIwLjAuMC4wIjsKICAgIHNpemVfdCBwb3MgPSAwOwogICAgc3RyW3Bvc10gPSAnXDAnOwogICAgaWYodXJsLnByb3RvY29sKSB7CiAgICAgIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7CiAgICAgIHN0cmNweShzdHIsIHVybC5wcm90b2NvbCk7CiAgICAgIHBvcyArPSBzdHJsZW4oc3RyKTsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgIjovLyIpOwogICAgICBwb3MgKz0gMzsKICAgIH0KICAgIGlmKHByb3RvICE9IC0xICYmIHVybC5wb3J0ID09IHByb3RvY29sX2RlZmF1bHRfcG9ydChwcm90bykpIHsKICAgICAgc3RyY3B5KCZzdHJbcG9zXSwgaG9zdCk7CiAgICAgIHBvcyArPSBzdHJsZW4oJnN0cltwb3NdKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyArPSBzcHJpbnRmKCZzdHJbcG9zXSwgIiVzOiV1IiwgaG9zdCwgdXJsLnBvcnQpOwogICAgfQogICAgaWYodXJsLnBhdGgpCiAgICAgIHN0cmNweSgmc3RyW3Bvc10sIHVybC5wYXRoKTsKICB9CiAgcmV0dXJuIHN0cjsKfQoKc2l6ZV90CnVybF9sZW5ndGgoY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiB1cmxfcHJpbnQoMCwgODE5MiwgdXJsKTsKICAvKnNpemVfdCBwb3J0bGVuID0gdXJsLnBvcnQgPj0gMTAwMDAgPyA2IDogdXJsLnBvcnQgPj0gMTAwMCA/IDUgOiB1cmwucG9ydCA+PSAxMDAgPyA0IDogdXJsLnBvcnQgPj0gMTAgPyAzIDogdXJsLnBvcnQgPj0gMSA/IDIgOiAwOwogIHJldHVybiAodXJsLnByb3RvY29sID8gc3RybGVuKHVybC5wcm90b2NvbCkgKyAzIDogMCkgKyAodXJsLmhvc3QgPyBzdHJsZW4odXJsLmhvc3QpICsgcG9ydGxlbiA6IDApICsgKHVybC5wYXRoID8gc3RybGVuKHVybC5wYXRoKSA6IDApICsgMTsqLwp9Cgp2b2lkCnVybF9mcmVlKE1pbm5ldFVSTCogdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPmhvc3QpOwogIGlmKHVybC0+cGF0aCkKICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogIG1lbXNldCh1cmwsIDAsIHNpemVvZihNaW5uZXRVUkwpKTsKfQoKdm9pZAp1cmxfZnJlZV9ydChNaW5uZXRVUkwqIHVybCwgSlNSdW50aW1lKiBydCkgewogIGlmKHVybC0+aG9zdCkKICAgIGpzX2ZyZWVfcnQocnQsIHVybC0+aG9zdCk7CiAgaWYodXJsLT5wYXRoKQogICAganNfZnJlZV9ydChydCwgdXJsLT5wYXRoKTsKICBtZW1zZXQodXJsLCAwLCBzaXplb2YoTWlubmV0VVJMKSk7Cn0KCk1pbm5ldFByb3RvY29sCnVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvKSB7CiAgTWlubmV0UHJvdG9jb2wgcCA9IHByb3RvY29sX251bWJlcihwcm90byk7CgogIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocCk7CiAgcmV0dXJuIHA7Cn0KCnZvaWQKdXJsX2luZm8oY29uc3QgTWlubmV0VVJMIHVybCwgc3RydWN0IGx3c19jbGllbnRfY29ubmVjdF9pbmZvKiBpbmZvKSB7CiAgTWlubmV0UHJvdG9jb2wgcHJvdG8gPSB1cmwucHJvdG9jb2wgPyBwcm90b2NvbF9udW1iZXIodXJsLnByb3RvY29sKSA6IFBST1RPQ09MX1JBVzsKCiAgbWVtc2V0KGluZm8sIDAsIHNpemVvZihzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8pKTsKCiAgc3dpdGNoKHByb3RvKSB7CiAgICBjYXNlIFBST1RPQ09MX0hUVFA6CiAgICBjYXNlIFBST1RPQ09MX0hUVFBTOiB7CiNpZiBkZWZpbmVkKExXU19ST0xFX0gyKSAmJiBkZWZpbmVkKExXU19ST0xFX0gxKQogICAgICBpbmZvLT5hbHBuID0gImgyLGh0dHAvMS4xIjsKI2VsaWYgZGVmaW5lZChMV1NfUk9MRV9IMikKICAgICAgaW5mby0+YWxwbiA9ICJoMiI7CiNlbGlmIGRlZmluZWQoTFdTX1JPTEVfSDEpCiAgICAgIGluZm8tPmFscG4gPSAiaHR0cC8xLjEiOwojZW5kaWYKICAgICAgaW5mby0+cHJvdG9jb2wgPSAiaHR0cCI7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9UT0NPTF9XUzoKICAgIGNhc2UgUFJPVE9DT0xfV1NTOiB7CiAgICAgIGluZm8tPnByb3RvY29sID0gIndzIjsKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiB7CiAgICAgIGluZm8tPm1ldGhvZCA9ICJSQVciOwogICAgICBpbmZvLT5sb2NhbF9wcm90b2NvbF9uYW1lID0gInJhdyI7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgaW5mby0+cG9ydCA9IHVybC5wb3J0OwogIGluZm8tPmFkZHJlc3MgPSB1cmwuaG9zdDsKCiAgaWYocHJvdG9jb2xfaXNfdGxzKHByb3RvKSkgewogICAgaW5mby0+c3NsX2Nvbm5lY3Rpb24gPSBMQ0NTQ0ZfVVNFX1NTTCB8IExDQ1NDRl9IMl9RVUlSS19PVkVSRkxPV1NfVFhDUiB8IExDQ1NDRl9IMl9RVUlSS19OR0hUVFAyX0VORF9TVFJFQU07CiAgICBpbmZvLT5zc2xfY29ubmVjdGlvbiB8PSBMQ0NTQ0ZfQUxMT1dfU0VMRlNJR05FRDsKICAgIGluZm8tPnNzbF9jb25uZWN0aW9uIHw9IExDQ1NDRl9BTExPV19JTlNFQ1VSRTsKICB9CgogIGluZm8tPnBhdGggPSB1cmwucGF0aCA/IHVybC5wYXRoIDogIi8iOwogIGluZm8tPmhvc3QgPSBpbmZvLT5hZGRyZXNzOwogIGluZm8tPm9yaWdpbiA9IGluZm8tPmFkZHJlc3M7Cn0KCi8qaW50CnVybF9jb25uZWN0KE1pbm5ldFVSTCogdXJsLCBzdHJ1Y3QgbHdzX2NvbnRleHQqIGNvbnRleHQsIHN0cnVjdCBsd3MqKiBwX3dzaSkgewogIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyBpOwoKICB1cmxfaW5mbyh1cmwsICZpKTsKCiAgaS5jb250ZXh0ID0gY29udGV4dDsKICBpLnB3c2kgPSBwX3dzaTsKCiAgcmV0dXJuICFsd3NfY2xpZW50X2Nvbm5lY3RfdmlhX2luZm8oJmkpOwp9Ki8KCmNoYXIqCnVybF9sb2NhdGlvbihjb25zdCBNaW5uZXRVUkwgdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIGNvbnN0IGNoYXIqIHF1ZXJ5OwogIGlmKChxdWVyeSA9IHVybF9xdWVyeSh1cmwpKSkKICAgIHJldHVybiBqc19zdHJuZHVwKGN0eCwgdXJsLnBhdGgsIHF1ZXJ5IC0gdXJsLnBhdGgpOwogIHJldHVybiBqc19zdHJkdXAoY3R4LCB1cmwucGF0aCk7Cn0KCmNvbnN0IGNoYXIqCnVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHVybC5wYXRoOyAqcDsgcCsrKSB7CiAgICBpZigqcCA9PSAnXFwnKSB7CiAgICAgICsrcDsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZigqcCA9PSAnPycpIHsKICAgICAgKytwOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuICpwID8gcCA6IDA7Cn0KCnZvaWQKdXJsX2Zyb21vYmooTWlubmV0VVJMKiB1cmwsIEpTVmFsdWVDb25zdCBvYmosIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyICpwcm90b2NvbCwgKmhvc3QsICpwYXRoOwogIGludDMyX3QgcG9ydCA9IC0xOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAicHJvdG9jb2wiKTsKICBwcm90b2NvbCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJob3N0Iik7CiAgaG9zdCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwb3J0Iik7CiAgSlNfVG9JbnQzMihjdHgsICZwb3J0LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJwYXRoIik7CiAgcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHVybF9pbml0KHVybCwgcHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIGN0eCk7CgogIGlmKHByb3RvY29sKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwcm90b2NvbCk7CiAgaWYoaG9zdCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgaG9zdCk7CiAgaWYocGF0aCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7Cn0KCkJPT0wKdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqIHVybCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0NvbnRleHQqIGN0eCkgewogIE1pbm5ldFVSTCogb3RoZXI7CgogIGlmKChvdGhlciA9IG1pbm5ldF91cmxfZGF0YSh2YWx1ZSkpKSB7CiAgICB1cmxfY29weSh1cmwsICpvdGhlciwgY3R4KTsKICB9IGVsc2UgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICB1cmxfZnJvbW9iaih1cmwsIHZhbHVlLCBjdHgpOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIHVybF9wYXJzZSh1cmwsIHN0ciwgY3R4KTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEZBTFNFOwogIH0KCiAgcmV0dXJuIFRSVUU7Cn0KCnZvaWQKdXJsX2Zyb213c2koTWlubmV0VVJMKiB1cmwsIHN0cnVjdCBsd3Mqd3NpLCBKU0NvbnRleHQqIGN0eCkgewogIGludCBsZW47CiAgY2hhcipwOwogIAogIGlmKChsZW4gPWx3c19oZHJfdG90YWxfbGVuZ3RoKHdzaSwgV1NJX1RPS0VOX0hPU1QpKSkgewogIHVybC0+aG9zdCA9IGpzX21hbGxvYyhjdHgsIGxlbisxKTsKICBsd3NfaGRyX2NvcHkod3NpLCB1cmwtPmhvc3QsIGxlbisxLCBXU0lfVE9LRU5fSE9TVCk7CgogIHdoaWxlKC0tbGVuID49IDAgJiYgaXNkaWdpdCh1cmwtPmhvc3RbbGVuXSkpCiAgICA7CgogIGlmKHVybC0+aG9zdFtsZW5dID09ICc6Jyl7CiAgICB1cmwtPnBvcnQgPSBhdG9pKCZ1cmwtPmhvc3RbbGVuKzFdKTsKICAgIHVybC0+aG9zdFtsZW5dID0gJ1wwJzsKICB9Cn0KICAKICBpZigobGVuID1sd3NfaGRyX3RvdGFsX2xlbmd0aCh3c2ksIFdTSV9UT0tFTl9HRVRfVVJJKSkpIHsKICB1cmwtPnBhdGggPSBqc19tYWxsb2MoY3R4LCBsZW4rMSk7CiAgbHdzX2hkcl9jb3B5KHdzaSwgdXJsLT5ob3N0LCBsZW4rMSwgV1NJX1RPS0VOX0dFVF9VUkkpOwp9Cgp9Cgp2b2lkCnVybF9kdW1wKGNvbnN0IGNoYXIqIG4sIE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgZnByaW50ZihzdGRlcnIsICIlc3sgcHJvdG9jb2wgPSAlcywgaG9zdCA9ICVzLCBwb3J0ID0gJXUsIHBhdGggPSAlcyB9XG4iLCBuLCB1cmwtPnByb3RvY29sLCB1cmwtPmhvc3QsIHVybC0+cG9ydCwgdXJsLT5wYXRoKTsKICBmZmx1c2goc3RkZXJyKTsKfQoKSlNWYWx1ZQpxdWVyeV9vYmplY3QoY29uc3QgY2hhciogcSwgSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBwOwogIHNpemVfdCBpLCBuID0gc3RybGVuKHEpOwogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogIGZvcihpID0gMCwgcCA9IHE7IGkgPD0gbjsgaSsrLCBxKyspIHsKICAgIGlmKCpxID09ICdcXCcpIHsKICAgICAgKytxOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIGlmKCpwID09ICcmJyB8fCAqcCA9PSAnXDAnKSB7CiAgICAgIHNpemVfdCBuYW1lbGVuLCBsZW47CiAgICAgIGNoYXIgKnZhbHVlLCAqZGVjb2RlZDsKICAgICAgSlNBdG9tIGF0b207CiAgICAgIGlmKCh2YWx1ZSA9IHN0cmNocihxLCAnPScpKSkgewogICAgICAgIG5hbWVsZW4gPSAoY29uc3QgY2hhciopdmFsdWUgLSBxOwogICAgICAgICsrdmFsdWU7CiAgICAgICAgYXRvbSA9IEpTX05ld0F0b21MZW4oY3R4LCBxLCBuYW1lbGVuKTsKICAgICAgICBsZW4gPSBwIC0gKGNvbnN0IGNoYXIqKXZhbHVlOwogICAgICAgIGRlY29kZWQgPSBqc19zdHJuZHVwKGN0eCwgdmFsdWUsIGxlbik7CiAgICAgICAgbHdzX3VybGRlY29kZShkZWNvZGVkLCBkZWNvZGVkLCBsZW4gKyAxKTsKICAgICAgICBKU19TZXRQcm9wZXJ0eShjdHgsIHJldCwgYXRvbSwgSlNfTmV3U3RyaW5nKGN0eCwgZGVjb2RlZCkpOwogICAgICAgIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKcXVlcnlfZnJvbShKU1ZhbHVlQ29uc3Qgb2JqLCBKU0NvbnRleHQqIGN0eCkgewogIEpTUHJvcGVydHlFbnVtKiB0YWI7CiAgdWludDMyX3QgdGFiX2xlbiwgaTsKICBEeW5CdWYgb3V0OwogIGRidWZfaW5pdDIoJm91dCwgY3R4LCAoRHluQnVmUmVhbGxvY0Z1bmMqKWpzX3JlYWxsb2MpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIG9iaiwgSlNfR1BOX0VOVU1fT05MWSB8IEpTX0dQTl9TVFJJTkdfTUFTSykpCiAgICByZXR1cm4gMDsKCiAgZm9yKGkgPSAwOyBpIDwgdGFiX2xlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIHRhYltpXS5hdG9tKTsKICAgIHNpemVfdCBsZW47CiAgICBjb25zdCBjaGFyICpwcm9wLCAqc3RyOwoKICAgIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKICAgIHByb3AgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgdGFiW2ldLmF0b20pOwoKICAgIGRidWZfcHV0c3RyKCZvdXQsIHByb3ApOwogICAgZGJ1Zl9wdXRjKCZvdXQsICc9Jyk7CiAgICBkYnVmX3JlYWxsb2MoJm91dCwgb3V0LnNpemUgKyAobGVuICogMykgKyAxKTsKCiAgICBsd3NfdXJsZW5jb2RlKChjaGFyKikmb3V0LmJ1ZltvdXQuc2l6ZV0sIHN0ciwgb3V0LmFsbG9jYXRlZF9zaXplIC0gb3V0LnNpemUpOwogICAgb3V0LnNpemUgKz0gc3RybGVuKChjb25zdCBjaGFyKikmb3V0LmJ1ZltvdXQuc2l6ZV0pOwoKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcHJvcCk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAganNfZnJlZShjdHgsIHRhYik7CiAgcmV0dXJuIChjaGFyKilvdXQuYnVmOwp9CgpzdGF0aWMgVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3VybF9wcm90bywgbWlubmV0X3VybF9jdG9yOwpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF91cmxfY2xhc3NfaWQ7CgplbnVtIHsgVVJMX1BST1RPQ09MLCBVUkxfSE9TVCwgVVJMX1BPUlQsIFVSTF9QQVRILCBVUkxfVExTIH07CgpKU1ZhbHVlCm1pbm5ldF91cmxfd3JhcChKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMKiB1cmwpIHsKICBKU1ZhbHVlIHVybF9vYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3VybF9wcm90bywgbWlubmV0X3VybF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHVybF9vYmopKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAvKgogICAgaWYoISh1cmwgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFVSTCkpKSkgewogICAgICBKU19GcmVlVmFsdWUoY3R4LCB1cmxfb2JqKTsKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgIH0KCiAgICAqdXJsID0gdTsKICAqLwogIEpTX1NldE9wYXF1ZSh1cmxfb2JqLCB1cmwpOwoKICByZXR1cm4gdXJsX29iajsKfQoKTWlubmV0VVJMKgp1cmxfbmV3KEpTQ29udGV4dCogY3R4KSB7CgogIE1pbm5ldFVSTCogdXJsOwoKICBpZighKHVybCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0VVJMKSkpKQogICAgcmV0dXJuIHVybDsKCiAgdXJsLT5yZWZfY291bnQgPSAxOwogIHJldHVybiB1cmw7Cn0KCkpTVmFsdWUKbWlubmV0X3VybF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1KSB7CiAgTWlubmV0VVJMKiB1cmw7CgogIGlmKCEodXJsID0gdXJsX25ldyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHVybF9jb3B5KHVybCwgdSwgY3R4KTsKICByZXR1cm4gbWlubmV0X3VybF93cmFwKGN0eCwgdXJsKTsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3VybF9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0VVJMKiB1cmw7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEodXJsID0gbWlubmV0X3VybF9kYXRhKHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVVJMX1BST1RPQ09MOiB7CiAgICAgIHJldCA9IHVybC0+cHJvdG9jb2wgPyBKU19OZXdTdHJpbmcoY3R4LCB1cmwtPnByb3RvY29sKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfSE9TVDogewogICAgICByZXQgPSB1cmwtPmhvc3QgPyBKU19OZXdTdHJpbmcoY3R4LCB1cmwtPmhvc3QpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9QT1JUOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIHVybC0+cG9ydCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfUEFUSDogewogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCB1cmwtPnBhdGggPyB1cmwtPnBhdGggOiAiIik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfVExTOiB7CiAgICAgIGlmKHVybC0+cHJvdG9jb2wpIHsKICAgICAgICBNaW5uZXRQcm90b2NvbCBwcm90byA9IHByb3RvY29sX251bWJlcih1cmwtPnByb3RvY29sKTsKICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgcHJvdG9jb2xfaXNfdGxzKHByb3RvKSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF91cmxfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0VVJMKiB1cmw7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgc2l6ZV90IGxlbjsKICBjb25zdCBjaGFyKiBzdHI7CgogIGlmKCEodXJsID0gbWlubmV0X3VybF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVVJMX1BST1RPQ09MOiB7CiAgICAgIGlmKEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgICAgdXJsLT5wcm90b2NvbCA9IDA7CiAgICAgIH0gZWxzZSBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgICAgIE1pbm5ldFByb3RvY29sIHByb3RvID0gcHJvdG9jb2xfbnVtYmVyKHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIHVybC0+cHJvdG9jb2wgPSBwcm90b2NvbF9zdHJpbmcocHJvdG8pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBVUkxfSE9TVDogewogICAgICAvKmlmKEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgICAgaWYodXJsLT5ob3N0KQogICAgICAgICAganNfZnJlZShjdHgsIHVybC0+aG9zdCk7CiAgICAgICAgdXJsLT5ob3N0ID0gMDsKICAgICAgfSBlbHNlICovCiAgICAgIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgaWYodXJsLT5ob3N0KQogICAgICAgICAganNfZnJlZShjdHgsIHVybC0+aG9zdCk7CiAgICAgICAgdXJsLT5ob3N0ID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFVSTF9QT1JUOiB7CiAgICAgIHVpbnQzMl90IHBvcnQgPSAwOwogICAgICBpZighSlNfVG9VaW50MzIoY3R4LCAmcG9ydCwgdmFsdWUpKQogICAgICAgIGlmKHBvcnQgPD0gNjU1MzUpCiAgICAgICAgICB1cmwtPnBvcnQgPSBwb3J0OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVVJMX1BBVEg6IHsKICAgICAgLyogaWYoSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgICAgICAgaWYodXJsLT5wYXRoKQogICAgICAgICAgIGpzX2ZyZWUoY3R4LCB1cmwtPnBhdGgpOwogICAgICAgICB1cmwtPnBhdGggPSAwOwogICAgICAgfSBlbHNlKi8KICAgICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgICAgICBpZih1cmwtPnBhdGgpCiAgICAgICAgICBqc19mcmVlKGN0eCwgdXJsLT5wYXRoKTsKICAgICAgICB1cmwtPnBhdGggPSBqc19zdHJuZHVwKGN0eCwgc3RyLCBsZW4pOwogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCmVudW0geyBVUkxfVE9fU1RSSU5HIH07CgpKU1ZhbHVlCm1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBVUkxfVE9fU1RSSU5HOiB7CiAgICAgIGNoYXIqIHN0cjsKCiAgICAgIGlmKChzdHIgPSB1cmxfZm9ybWF0KCp1cmwsIGN0eCkpKSB7CiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgc3RyKTsKICAgICAgICBqc19mcmVlKGN0eCwgc3RyKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQptaW5uZXRfdXJsX2Zyb20oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRVUkwqIHVybDsKCiAgaWYoISh1cmwgPSB1cmxfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgdXJsX2Zyb212YWx1ZSh1cmwsIGFyZ3ZbMF0sIGN0eCk7CgogIGlmKCF1cmxfdmFsaWQoKnVybCkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiTm90IGEgdmFsaWQgVVJMIik7CgogIHJldHVybiBtaW5uZXRfdXJsX3dyYXAoY3R4LCB1cmwpOwp9CgpKU1ZhbHVlCm1pbm5ldF91cmxfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIER5bkJ1ZiBkYnVmOwogIGNoYXIqIHN0cjsKICBNaW5uZXRVUkwqIHVybDsKICBKU1ZhbHVlIHJldCwgb3B0aW9ucyA9IGFyZ2MgPj0gMiAmJiBKU19Jc09iamVjdChhcmd2WzFdKSA/IEpTX0R1cFZhbHVlKGN0eCwgYXJndlsxXSkgOiBhcmdjID49IDEgJiYgSlNfSXNPYmplY3QoYXJndlswXSkgPyBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pIDogSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNWYWx1ZSBvcHRfY29sb3JzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiY29sb3JzIik7CiAgQk9PTCBjb2xvcnMgPSBKU19Jc1VuZGVmaW5lZChvcHRfY29sb3JzKSA/IFRSVUUgOiBKU19Ub0Jvb2woY3R4LCBvcHRfY29sb3JzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcHRfY29sb3JzKTsKCiAgaWYoISh1cmwgPSBtaW5uZXRfdXJsX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGRidWZfaW5pdDIoJmRidWYsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKCiAgZGJ1Zl9wdXRzdHIoJmRidWYsIGNvbG9ycyA/ICJceDFiWzE7MzFtTWlubmV0VVJMXHgxYlswbSIgOiAiTWlubmV0VVJMIik7CiAgaWYoKHN0ciA9IHVybF9mb3JtYXQoKnVybCwgY3R4KSkpIHsKICAgIGRidWZfcHJpbnRmKCZkYnVmLCBjb2xvcnMgPyAiIFx4MWJbMTszM20lc1x4MWJbMG0iIDogIiAlcyIsIHN0cik7CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgZGJ1Zi5idWYsIGRidWYuc2l6ZSk7CiAgZGJ1Zl9mcmVlKCZkYnVmKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgb3B0aW9ucyk7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3VybF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFVSTCogdXJsOwoKICBpZighKHVybCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0VVJMKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3VybF9wcm90byk7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywgbWlubmV0X3VybF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHI7CgogICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pKSkKICAgICAgdXJsX3BhcnNlKHVybCwgc3RyLCBjdHgpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIH0KCiAgSlNfU2V0T3BhcXVlKG9iaiwgdXJsKTsKICByZXR1cm4gb2JqOwoKZmFpbDoKICBqc19mcmVlKGN0eCwgdXJsKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyB2b2lkCm1pbm5ldF91cmxfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0VVJMKiB1cmwgPSBKU19HZXRPcGFxdWUodmFsLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKICBpZih1cmwpIHsKICAgIHVybF9mcmVlX3J0KHVybCwgcnQpOwogICAganNfZnJlZV9ydChydCwgdXJsKTsKICB9Cn0KCnN0YXRpYyBKU0NsYXNzRGVmIG1pbm5ldF91cmxfY2xhc3MgPSB7CiAgICAiTWlubmV0VVJMIiwKICAgIC5maW5hbGl6ZXIgPSBtaW5uZXRfdXJsX2ZpbmFsaXplciwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfdXJsX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicHJvdG9jb2wiLCBtaW5uZXRfdXJsX2dldCwgbWlubmV0X3VybF9zZXQsIFVSTF9QUk9UT0NPTCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJob3N0IiwgbWlubmV0X3VybF9nZXQsIG1pbm5ldF91cmxfc2V0LCBVUkxfSE9TVCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwb3J0IiwgbWlubmV0X3VybF9nZXQsIG1pbm5ldF91cmxfc2V0LCBVUkxfUE9SVCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwYXRoIiwgbWlubmV0X3VybF9nZXQsIG1pbm5ldF91cmxfc2V0LCBVUkxfUEFUSCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0bHMiLCBtaW5uZXRfdXJsX2dldCwgMCwgVVJMX1RMUywgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvU3RyaW5nIiwgMCwgbWlubmV0X3VybF9tZXRob2QsIFVSTF9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfREVGKCJpbnNwZWN0IiwgMCwgbWlubmV0X3VybF9pbnNwZWN0KSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiTWlubmV0VVJMIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF91cmxfc3RhdGljX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoImZyb20iLCAxLCBtaW5uZXRfdXJsX2Zyb20pLAp9OwoKaW50Cm1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU0F0b20gaW5zcGVjdF9hdG9tOwoKICAvLyBBZGQgY2xhc3MgVVJMCiAgSlNfTmV3Q2xhc3NJRCgmbWlubmV0X3VybF9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBtaW5uZXRfdXJsX2NsYXNzX2lkLCAmbWlubmV0X3VybF9jbGFzcyk7CiAgbWlubmV0X3VybF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3VybF9wcm90bywgbWlubmV0X3VybF9wcm90b19mdW5jcywgY291bnRvZihtaW5uZXRfdXJsX3Byb3RvX2Z1bmNzKSk7CgogIG1pbm5ldF91cmxfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yLCAiTWlubmV0VVJMIiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWlubmV0X3VybF9jdG9yLCBtaW5uZXRfdXJsX3N0YXRpY19mdW5jcywgY291bnRvZihtaW5uZXRfdXJsX3N0YXRpY19mdW5jcykpOwoKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIG1pbm5ldF91cmxfY3RvciwgbWlubmV0X3VybF9wcm90byk7CgogIGlmKChpbnNwZWN0X2F0b20gPSBqc19zeW1ib2xfc3RhdGljX2F0b20oY3R4LCAiaW5zcGVjdCIpKSA+PSAwKSB7CiAgICBKU19TZXRQcm9wZXJ0eShjdHgsIG1pbm5ldF91cmxfcHJvdG8sIGluc3BlY3RfYXRvbSwgSlNfTmV3Q0Z1bmN0aW9uKGN0eCwgbWlubmV0X3VybF9pbnNwZWN0LCAiaW5zcGVjdCIsIDApKTsKICAgIEpTX0ZyZWVBdG9tKGN0eCwgaW5zcGVjdF9hdG9tKTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVVJMIiwgbWlubmV0X3VybF9jdG9yKTsKCiAgcmV0dXJuIDA7Cn0KAAAAAAAAAACiSQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuyIAAAAAAAC7IgAAAAAAAAAAAAAAAAAA"
				],
				[
					379,
					1,
					"insert",
					{
						"characters": "path"
					},
					"BQAAALYiAAAAAAAAtyIAAAAAAAAAAAAAtyIAAAAAAAC3IgAAAAAAAAQAAABob3N0tyIAAAAAAAC4IgAAAAAAAAAAAAC4IgAAAAAAALkiAAAAAAAAAAAAALkiAAAAAAAAuiIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtiIAAAAAAAC6IgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "/home/roman/Projects/plot-cv/quickjs/quickjs.h",
			"settings":
			{
				"buffer_size": 40236,
				"line_ending": "Unix"
			}
		},
		{
			"file": "jsutils.h",
			"settings":
			{
				"buffer_size": 5133,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"paste",
					null,
					"AQAAAGQKAAAAAAAAqAoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGQKAAAAAAAAZAoAAAAAAAAAAAAAAADwvw"
				],
				[
					13,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADSEAAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmNoYXIqIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfaW52b2tlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciosIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKik7CkJPT0wganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCBqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwp2b2lkIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWUpOwpCT09MICAgICBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqLCBKU1ZhbHVlLCBjb25zdCBjaGFyKik7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfY2xlYXIoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqKiBwdHIpIHsKICBpZigqcHRyKQogICAganNfZnJlZShjdHgsICpwdHIpOwogICpwdHIgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfZHVtcF9zdHJpbmcoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBzaXplX3QgbWF4bGVuKSB7CiAgc2l6ZV90IGksIG4gPSAyOwogIHB1dGNoYXIoJ1wnJyk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmKHN0cltpXSA9PSAnXG4nKSB7CiAgICAgIHB1dGNoYXIoJ1xcJyk7CiAgICAgIHB1dGNoYXIoJ24nKTsKICAgICAgbiArPSAyOwogICAgfSBlbHNlIHsKICAgICAgcHV0Y2hhcihzdHJbaV0pOwogICAgICBuKys7CiAgICB9CiAgICBpZihtYXhsZW4gPiAwICYmIG4gKyAxID49IG1heGxlbikgewogICAgICBmcHV0cygiJy4uLiIsIHN0ZG91dCk7CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAgcHV0Y2hhcignXCcnKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGNvbnN0IGNoYXIqIHM7CiAgY2hhciogcmV0ID0gMDsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfcmVwbGFjZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY2hhcioqIHNwdHIpIHsKICBjb25zdCBjaGFyKiBzOwoKICBpZigqc3B0cikKICAgIGpzX2ZyZWUoY3R4LCAqc3B0cik7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgKnNwdHIgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiAqc3B0cjsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfYnVmZmVyX2ZyZWVfZGVmYXVsdChKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTQnVmZmVyKiBidWYgPSBvcGFxdWU7CgogIGlmKEpTX0lzU3RyaW5nKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwogIGVsc2UgaWYoIUpTX0lzVW5kZWZpbmVkKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9iZWdpbihjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGE7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2VuZChjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGEgKyBpbi0+c2l6ZTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9KU19VVElMU19IICovCgAAAAAAAAAAzhAAAAAAAAAAAAAAAAAAAAAAAADOEAAAAAAAAAAAAAAAAAAAAAAAAM4QAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG0KAAAAAAAAhAoAAAAAAAAAAAAAAADwvw"
				],
				[
					3,
					1,
					"paste",
					null,
					"AQAAAKQKAAAAAAAA3QoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApAoAAAAAAACkCgAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAHEQAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmNoYXIqIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfaW52b2tlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciosIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKik7CkJPT0wganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCBqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwp2b2lkIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWUpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWUsIGNvbnN0IGNoYXIqKTsKSlNWYWx1ZSAganNfbW9kdWxlX2ltcG9ydF9tZXRhKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jbGVhcihKU0NvbnRleHQqIGN0eCwgY29uc3Qgdm9pZCoqIHB0cikgewogIGlmKCpwdHIpCiAgICBqc19mcmVlKGN0eCwgKnB0cik7CiAgKnB0ciA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kdW1wX3N0cmluZyhjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4sIHNpemVfdCBtYXhsZW4pIHsKICBzaXplX3QgaSwgbiA9IDI7CiAgcHV0Y2hhcignXCcnKTsKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgaWYoc3RyW2ldID09ICdcbicpIHsKICAgICAgcHV0Y2hhcignXFwnKTsKICAgICAgcHV0Y2hhcignbicpOwogICAgICBuICs9IDI7CiAgICB9IGVsc2UgewogICAgICBwdXRjaGFyKHN0cltpXSk7CiAgICAgIG4rKzsKICAgIH0KICAgIGlmKG1heGxlbiA+IDAgJiYgbiArIDEgPj0gbWF4bGVuKSB7CiAgICAgIGZwdXRzKCInLi4uIiwgc3Rkb3V0KTsKICAgICAgcmV0dXJuOwogICAgfQogIH0KICBwdXRjaGFyKCdcJycpOwp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogczsKICBjaGFyKiByZXQgPSAwOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc19yZXBsYWNlX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBjaGFyKiogc3B0cikgewogIGNvbnN0IGNoYXIqIHM7CgogIGlmKCpzcHRyKQogICAganNfZnJlZShjdHgsICpzcHRyKTsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAqc3B0ciA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuICpzcHRyOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbGlzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19idWZmZXJfZnJlZV9kZWZhdWx0KEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNCdWZmZXIqIGJ1ZiA9IG9wYXF1ZTsKCiAgaWYoSlNfSXNTdHJpbmcoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7CiAgZWxzZSBpZighSlNfSXNVbmRlZmluZWQoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2JlZ2luKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfZW5kKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YSArIGluLT5zaXplOwp9CgojZW5kaWYgLyogTUlOTkVUX0pTX1VUSUxTX0ggKi8KAAAAAAAAAAAGEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKAsAAAAAAAAoCwAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"paste",
					null,
					"AQAAANwKAAAAAAAAEQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3AoAAAAAAADcCgAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA7EQAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmNoYXIqIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfaW52b2tlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciosIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKik7CkJPT0wganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCBqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwp2b2lkIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWUpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWUsIGNvbnN0IGNoYXIqKTsKSlNWYWx1ZSBqc19tb2R1bGVfaW1wb3J0X21ldGEoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19jb250ZXh0X21vZHVsZWxpc3QoSlNDb250ZXh0Kik7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfY2xlYXIoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqKiBwdHIpIHsKICBpZigqcHRyKQogICAganNfZnJlZShjdHgsICpwdHIpOwogICpwdHIgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfZHVtcF9zdHJpbmcoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBzaXplX3QgbWF4bGVuKSB7CiAgc2l6ZV90IGksIG4gPSAyOwogIHB1dGNoYXIoJ1wnJyk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmKHN0cltpXSA9PSAnXG4nKSB7CiAgICAgIHB1dGNoYXIoJ1xcJyk7CiAgICAgIHB1dGNoYXIoJ24nKTsKICAgICAgbiArPSAyOwogICAgfSBlbHNlIHsKICAgICAgcHV0Y2hhcihzdHJbaV0pOwogICAgICBuKys7CiAgICB9CiAgICBpZihtYXhsZW4gPiAwICYmIG4gKyAxID49IG1heGxlbikgewogICAgICBmcHV0cygiJy4uLiIsIHN0ZG91dCk7CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAgcHV0Y2hhcignXCcnKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGNvbnN0IGNoYXIqIHM7CiAgY2hhciogcmV0ID0gMDsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfcmVwbGFjZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY2hhcioqIHNwdHIpIHsKICBjb25zdCBjaGFyKiBzOwoKICBpZigqc3B0cikKICAgIGpzX2ZyZWUoY3R4LCAqc3B0cik7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgKnNwdHIgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiAqc3B0cjsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfYnVmZmVyX2ZyZWVfZGVmYXVsdChKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTQnVmZmVyKiBidWYgPSBvcGFxdWU7CgogIGlmKEpTX0lzU3RyaW5nKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwogIGVsc2UgaWYoIUpTX0lzVW5kZWZpbmVkKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9iZWdpbihjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGE7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2VuZChjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGEgKyBpbi0+c2l6ZTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9KU19VVElMU19IICovCgAAAAAAAAAANBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOhEAAAAAAAA6EQAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"paste",
					null,
					"AQAAAAoLAAAAAAAAOwsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACgsAAAAAAAAKCwAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABlEQAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmNoYXIqIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfaW52b2tlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciosIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKik7CkJPT0wganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCBqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwp2b2lkIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWUpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWUsIGNvbnN0IGNoYXIqKTsKSlNWYWx1ZSBqc19tb2R1bGVfaW1wb3J0X21ldGEoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqKTsKSlNNb2R1bGVEZWYqICAgICAganNfbW9kdWxlX2F0KEpTQ29udGV4dCosIGludCk7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfY2xlYXIoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqKiBwdHIpIHsKICBpZigqcHRyKQogICAganNfZnJlZShjdHgsICpwdHIpOwogICpwdHIgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfZHVtcF9zdHJpbmcoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBzaXplX3QgbWF4bGVuKSB7CiAgc2l6ZV90IGksIG4gPSAyOwogIHB1dGNoYXIoJ1wnJyk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmKHN0cltpXSA9PSAnXG4nKSB7CiAgICAgIHB1dGNoYXIoJ1xcJyk7CiAgICAgIHB1dGNoYXIoJ24nKTsKICAgICAgbiArPSAyOwogICAgfSBlbHNlIHsKICAgICAgcHV0Y2hhcihzdHJbaV0pOwogICAgICBuKys7CiAgICB9CiAgICBpZihtYXhsZW4gPiAwICYmIG4gKyAxID49IG1heGxlbikgewogICAgICBmcHV0cygiJy4uLiIsIHN0ZG91dCk7CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAgcHV0Y2hhcignXCcnKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGNvbnN0IGNoYXIqIHM7CiAgY2hhciogcmV0ID0gMDsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfcmVwbGFjZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY2hhcioqIHNwdHIpIHsKICBjb25zdCBjaGFyKiBzOwoKICBpZigqc3B0cikKICAgIGpzX2ZyZWUoY3R4LCAqc3B0cik7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgKnNwdHIgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiAqc3B0cjsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfYnVmZmVyX2ZyZWVfZGVmYXVsdChKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTQnVmZmVyKiBidWYgPSBvcGFxdWU7CgogIGlmKEpTX0lzU3RyaW5nKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwogIGVsc2UgaWYoIUpTX0lzVW5kZWZpbmVkKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9iZWdpbihjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGE7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2VuZChjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGEgKyBpbi0+c2l6ZTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9KU19VVElMU19IICovCgAAAAAAAAAAYBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOwsAAAAAAAA7CwAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"paste",
					null,
					"AgAAAKQKAAAAAAAAdgsAAAAAAAAAAAAAdgsAAAAAAAB2CwAAAAAAAJEAAABKU1ZhbHVlIGpzX21vZHVsZV9pbXBvcnRfbWV0YShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CnN0cnVjdCBsaXN0X2hlYWQqIGpzX21vZHVsZV9saXN0KEpTQ29udGV4dCopOwpKU01vZHVsZURlZioganNfbW9kdWxlX2F0KEpTQ29udGV4dCosIGludCk7",
					"AQAAAAAAAAABAAAANQsAAAAAAACkCgAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"left_delete",
					null,
					"AQAAAHULAAAAAAAAdQsAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAdgsAAAAAAAB2CwAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACgEQAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmNoYXIqIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfaW52b2tlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciosIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKik7CkJPT0wganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCBqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwp2b2lkIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWUpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWUsIGNvbnN0IGNoYXIqKTsKc3RydWN0IGxpc3RfaGVhZCoganNfbW9kdWxlX2xpc3QoSlNDb250ZXh0Kik7CkpTTW9kdWxlRGVmKiAgICAgIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZiogICAgICBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBKU0F0b20pOwpKU01vZHVsZURlZiogICAgICBqc19tb2R1bGVfZmluZF9zKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jbGVhcihKU0NvbnRleHQqIGN0eCwgY29uc3Qgdm9pZCoqIHB0cikgewogIGlmKCpwdHIpCiAgICBqc19mcmVlKGN0eCwgKnB0cik7CiAgKnB0ciA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kdW1wX3N0cmluZyhjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4sIHNpemVfdCBtYXhsZW4pIHsKICBzaXplX3QgaSwgbiA9IDI7CiAgcHV0Y2hhcignXCcnKTsKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgaWYoc3RyW2ldID09ICdcbicpIHsKICAgICAgcHV0Y2hhcignXFwnKTsKICAgICAgcHV0Y2hhcignbicpOwogICAgICBuICs9IDI7CiAgICB9IGVsc2UgewogICAgICBwdXRjaGFyKHN0cltpXSk7CiAgICAgIG4rKzsKICAgIH0KICAgIGlmKG1heGxlbiA+IDAgJiYgbiArIDEgPj0gbWF4bGVuKSB7CiAgICAgIGZwdXRzKCInLi4uIiwgc3Rkb3V0KTsKICAgICAgcmV0dXJuOwogICAgfQogIH0KICBwdXRjaGFyKCdcJycpOwp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogczsKICBjaGFyKiByZXQgPSAwOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc19yZXBsYWNlX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBjaGFyKiogc3B0cikgewogIGNvbnN0IGNoYXIqIHM7CgogIGlmKCpzcHRyKQogICAganNfZnJlZShjdHgsICpzcHRyKTsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAqc3B0ciA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuICpzcHRyOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbGlzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19idWZmZXJfZnJlZV9kZWZhdWx0KEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNCdWZmZXIqIGJ1ZiA9IG9wYXF1ZTsKCiAgaWYoSlNfSXNTdHJpbmcoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7CiAgZWxzZSBpZighSlNfSXNVbmRlZmluZWQoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2JlZ2luKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfZW5kKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YSArIGluLT5zaXplOwp9CgojZW5kaWYgLyogTUlOTkVUX0pTX1VUSUxTX0ggKi8KAAAAAAAAAACREQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQsAAAAAAAB1CwAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"paste",
					null,
					"AQAAAE4HAAAAAAAAsAcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATgcAAAAAAABOBwAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADzEQAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUgICAgICAgICAgIGpzX2dsb2JhbF9vcyhKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgICAganNfb3NfZ2V0KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKY2hhcioganNfdG9zdHJpbmdsZW4oSlNDb250ZXh0Kiwgc2l6ZV90KiwgSlNWYWx1ZUNvbnN0KTsKY2hhcioganNfdG9zdHJpbmcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBjb25zdCBjaGFyKiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIGpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqKTsKQk9PTCBqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwpCT09MIGpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CnZvaWQganNfcHJvbWlzZV9mcmVlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKQk9PTCBqc19pc19wcm9taXNlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfZXJyb3JfbmV3KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCAuLi4pOwp1aW50OF90KiBqc190b3B0cnNpemUoSlNDb250ZXh0KiwgdW5zaWduZWQgaW50KiwgSlNWYWx1ZSk7CkJPT0wganNfZ2V0X3Byb3BlcnR5c3RyX2Jvb2woSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZioganNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiwgSlNBdG9tKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwoKc3RhdGljIGlubGluZSB2b2lkCmpzX2NsZWFyKEpTQ29udGV4dCogY3R4LCBjb25zdCB2b2lkKiogcHRyKSB7CiAgaWYoKnB0cikKICAgIGpzX2ZyZWUoY3R4LCAqcHRyKTsKICAqcHRyID0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2R1bXBfc3RyaW5nKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IG1heGxlbikgewogIHNpemVfdCBpLCBuID0gMjsKICBwdXRjaGFyKCdcJycpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihzdHJbaV0gPT0gJ1xuJykgewogICAgICBwdXRjaGFyKCdcXCcpOwogICAgICBwdXRjaGFyKCduJyk7CiAgICAgIG4gKz0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHB1dGNoYXIoc3RyW2ldKTsKICAgICAgbisrOwogICAgfQogICAgaWYobWF4bGVuID4gMCAmJiBuICsgMSA+PSBtYXhsZW4pIHsKICAgICAgZnB1dHMoIicuLi4iLCBzdGRvdXQpOwogICAgICByZXR1cm47CiAgICB9CiAgfQogIHB1dGNoYXIoJ1wnJyk7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBjb25zdCBjaGFyKiBzOwogIGNoYXIqIHJldCA9IDA7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgcmV0ID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3JlcGxhY2Vfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGNoYXIqKiBzcHRyKSB7CiAgY29uc3QgY2hhciogczsKCiAgaWYoKnNwdHIpCiAgICBqc19mcmVlKGN0eCwgKnNwdHIpOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICpzcHRyID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gKnNwdHI7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19udWxsaXNoKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU0J1ZmZlciogYnVmID0gb3BhcXVlOwoKICBpZihKU19Jc1N0cmluZyhidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKICBlbHNlIGlmKCFKU19Jc1VuZGVmaW5lZChidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfYmVnaW4oY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9lbmQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnNpemU7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfSlNfVVRJTFNfSCAqLwoAAAAAAAAAAN8RAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAcAAAAAAACwBwAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"paste",
					null,
					"AQAAAJwHAAAAAAAA2gcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnAcAAAAAAACcBwAAAAAAAAAAAAAAAPC/"
				],
				[
					63,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAdEgAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlKTsKSlNCdWZmZXIganNfYnVmZmVyX25ldyhKU0NvbnRleHQqLCBKU1ZhbHVlKTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfZ2xvYmFsX29zKEpTQ29udGV4dCopOwpKU1ZhbHVlIGpzX29zX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUgICAgICAgICAgIGpzX29zX3RpbWVyKEpTQ29udGV4dCosIEpTVmFsdWUsIHVpbnQzMl90KTsKY2hhcioganNfdG9zdHJpbmdsZW4oSlNDb250ZXh0Kiwgc2l6ZV90KiwgSlNWYWx1ZUNvbnN0KTsKY2hhcioganNfdG9zdHJpbmcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBjb25zdCBjaGFyKiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIGpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqKTsKQk9PTCBqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwpCT09MIGpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CnZvaWQganNfcHJvbWlzZV9mcmVlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKQk9PTCBqc19pc19wcm9taXNlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfZXJyb3JfbmV3KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCAuLi4pOwp1aW50OF90KiBqc190b3B0cnNpemUoSlNDb250ZXh0KiwgdW5zaWduZWQgaW50KiwgSlNWYWx1ZSk7CkJPT0wganNfZ2V0X3Byb3BlcnR5c3RyX2Jvb2woSlNDb250ZXh0KiwgSlNWYWx1ZSwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZioganNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiwgSlNBdG9tKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwoKc3RhdGljIGlubGluZSB2b2lkCmpzX2NsZWFyKEpTQ29udGV4dCogY3R4LCBjb25zdCB2b2lkKiogcHRyKSB7CiAgaWYoKnB0cikKICAgIGpzX2ZyZWUoY3R4LCAqcHRyKTsKICAqcHRyID0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2R1bXBfc3RyaW5nKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IG1heGxlbikgewogIHNpemVfdCBpLCBuID0gMjsKICBwdXRjaGFyKCdcJycpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihzdHJbaV0gPT0gJ1xuJykgewogICAgICBwdXRjaGFyKCdcXCcpOwogICAgICBwdXRjaGFyKCduJyk7CiAgICAgIG4gKz0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHB1dGNoYXIoc3RyW2ldKTsKICAgICAgbisrOwogICAgfQogICAgaWYobWF4bGVuID4gMCAmJiBuICsgMSA+PSBtYXhsZW4pIHsKICAgICAgZnB1dHMoIicuLi4iLCBzdGRvdXQpOwogICAgICByZXR1cm47CiAgICB9CiAgfQogIHB1dGNoYXIoJ1wnJyk7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBjb25zdCBjaGFyKiBzOwogIGNoYXIqIHJldCA9IDA7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgcmV0ID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3JlcGxhY2Vfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGNoYXIqKiBzcHRyKSB7CiAgY29uc3QgY2hhciogczsKCiAgaWYoKnNwdHIpCiAgICBqc19mcmVlKGN0eCwgKnNwdHIpOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICpzcHRyID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gKnNwdHI7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19udWxsaXNoKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU0J1ZmZlciogYnVmID0gb3BhcXVlOwoKICBpZihKU19Jc1N0cmluZyhidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKICBlbHNlIGlmKCFKU19Jc1VuZGVmaW5lZChidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfYmVnaW4oY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9lbmQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnNpemU7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfSlNfVVRJTFNfSCAqLwoAAAAAAAAAABMSAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArgcAAAAAAAC5BwAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": "Const"
					},
					"BQAAAMMHAAAAAAAAxAcAAAAAAAAAAAAAxAcAAAAAAADFBwAAAAAAAAAAAADFBwAAAAAAAMYHAAAAAAAAAAAAAMYHAAAAAAAAxwcAAAAAAAAAAAAAxwcAAAAAAADIBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwwcAAAAAAADDBwAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					1,
					"paste",
					null,
					"AQAAAP4EAAAAAAAAAwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/gQAAAAAAAD+BAAAAAAAAAAAAAAAAPC/"
				],
				[
					77,
					1,
					"paste",
					null,
					"AQAAANEEAAAAAAAA1gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0QQAAAAAAADRBAAAAAAAAAAAAAAAAPC/"
				],
				[
					86,
					1,
					"paste",
					null,
					"AQAAACULAAAAAAAAKgsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJQsAAAAAAAAlCwAAAAAAAAAAAAAAAPC/"
				],
				[
					89,
					1,
					"paste",
					null,
					"AQAAAPIKAAAAAAAA9woAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8goAAAAAAADyCgAAAAAAAAAAAAAAAPC/"
				],
				[
					104,
					1,
					"paste",
					null,
					"AQAAAGgCAAAAAAAAxwIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaAIAAAAAAABoAgAAAAAAAAAAAAAAAPC/"
				],
				[
					115,
					1,
					"paste",
					null,
					"AgAAAAUIAAAAAAAAHwkAAAAAAAAAAAAAHwkAAAAAAAAfCQAAAAAAADkAAABKU1ZhbHVlIGpzX29zX3RpbWVyKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgdWludDMyX3QpOwo",
					"AQAAAAAAAAABAAAABQgAAAAAAAA+CAAAAAAAAAAAAAAAAPC/"
				],
				[
					141,
					1,
					"paste",
					null,
					"AgAAAKQIAAAAAAAAsAgAAAAAAAAAAAAAsAgAAAAAAACwCAAAAAAAAAcAAABKU1ZhbHVl",
					"AQAAAAAAAAABAAAApAgAAAAAAACrCAAAAAAAAAAAAAAAAPC/"
				],
				[
					148,
					1,
					"paste",
					null,
					"AgAAABAJAAAAAAAAHAkAAAAAAAAAAAAAHAkAAAAAAAAcCQAAAAAAAAcAAABKU1ZhbHVl",
					"AQAAAAAAAAABAAAAEAkAAAAAAAAXCQAAAAAAAAAAAAAAAPC/"
				],
				[
					153,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB2EwAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpzdHJ1Y3QgVGltZXJDbG9zdXJlIHsKICB1aW50MzJfdCBpZCxpbnRlcnZhbDsKICBKU0NvbnRleHQqY3R4OwogIEpTVmFsdWVDb25zdCBmbixjYWxsYmFjazsKfTsKCkpTVmFsdWUgdmVjdG9yMmFycmF5KEpTQ29udGV4dCosIGludCwgSlNWYWx1ZUNvbnN0W10pOwp2b2lkIGpzX2NvbnNvbGVfbG9nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCosIEpTVmFsdWVDb25zdCopOwpKU1ZhbHVlIGpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWVDb25zdCogZnVuY19kYXRhKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2l0ZXJhdG9yX25leHQoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QqLCBCT09MKiBkb25lX3AsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKaW50IGpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIEpTVmFsdWVDb25zdCwgaW50IGZsYWdzKTsKdm9pZCBqc19idWZmZXJfZnJvbShKU0NvbnRleHQqLCBKU0J1ZmZlciosIEpTVmFsdWVDb25zdCk7CkpTQnVmZmVyIGpzX2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfZ2xvYmFsX29zKEpTQ29udGV4dCopOwpKU1ZhbHVlIGpzX29zX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX29zX3RpbWVyKEpTQ29udGV4dCosIEpTVmFsdWUsIHVpbnQzMl90KTsKdm9pZCAgICAgICAgICAgICAgICAganNfdGltZXJfZnJlZSh2b2lkKik7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX3RpbWVyX2NhbGxiYWNrKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlKiBhcmd2LCBpbnQgbWFnaWMsIHZvaWQqIG9wYXF1ZSk7CnN0cnVjdCBUaW1lckNsb3N1cmUqIGpzX29zX2ludGVydmFsKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgdWludDMyX3QpOwpjaGFyKiBqc190b3N0cmluZ2xlbihKU0NvbnRleHQqLCBzaXplX3QqLCBKU1ZhbHVlQ29uc3QpOwpjaGFyKiBqc190b3N0cmluZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2ludm9rZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGNvbnN0IGNoYXIqLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfcHJvbWlzZV9jcmVhdGUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyopOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVzb2x2ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCBqc19wcm9taXNlX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyopOwpCT09MIGpzX3Byb21pc2VfcGVuZGluZyhSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CkJPT0wganNfcHJvbWlzZV9kb25lKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKdm9pZCBqc19wcm9taXNlX2ZyZWUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyopOwpKU1ZhbHVlIGpzX2dsb2JhbF9nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpCT09MIGpzX2lzX3Byb21pc2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19lcnJvcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIC4uLik7CnVpbnQ4X3QqIGpzX3RvcHRyc2l6ZShKU0NvbnRleHQqLCB1bnNpZ25lZCBpbnQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZioganNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiwgSlNBdG9tKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwoKc3RhdGljIGlubGluZSB2b2lkCmpzX2NsZWFyKEpTQ29udGV4dCogY3R4LCBjb25zdCB2b2lkKiogcHRyKSB7CiAgaWYoKnB0cikKICAgIGpzX2ZyZWUoY3R4LCAqcHRyKTsKICAqcHRyID0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2R1bXBfc3RyaW5nKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IG1heGxlbikgewogIHNpemVfdCBpLCBuID0gMjsKICBwdXRjaGFyKCdcJycpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihzdHJbaV0gPT0gJ1xuJykgewogICAgICBwdXRjaGFyKCdcXCcpOwogICAgICBwdXRjaGFyKCduJyk7CiAgICAgIG4gKz0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHB1dGNoYXIoc3RyW2ldKTsKICAgICAgbisrOwogICAgfQogICAgaWYobWF4bGVuID4gMCAmJiBuICsgMSA+PSBtYXhsZW4pIHsKICAgICAgZnB1dHMoIicuLi4iLCBzdGRvdXQpOwogICAgICByZXR1cm47CiAgICB9CiAgfQogIHB1dGNoYXIoJ1wnJyk7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBjb25zdCBjaGFyKiBzOwogIGNoYXIqIHJldCA9IDA7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgcmV0ID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3JlcGxhY2Vfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGNoYXIqKiBzcHRyKSB7CiAgY29uc3QgY2hhciogczsKCiAgaWYoKnNwdHIpCiAgICBqc19mcmVlKGN0eCwgKnNwdHIpOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICpzcHRyID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gKnNwdHI7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19udWxsaXNoKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU0J1ZmZlciogYnVmID0gb3BhcXVlOwoKICBpZihKU19Jc1N0cmluZyhidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKICBlbHNlIGlmKCFKU19Jc1VuZGVmaW5lZChidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfYmVnaW4oY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9lbmQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnNpemU7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfSlNfVVRJTFNfSCAqLwoAAAAAAAAAAE8TAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHAkAAAAAAAAcCQAAAAAAAAAAAAAAAPC/"
				],
				[
					160,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABPEwAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpzdHJ1Y3QgVGltZXJDbG9zdXJlIHsKICB1aW50MzJfdCBpZCwgaW50ZXJ2YWw7CiAgSlNDb250ZXh0KiBjdHg7CiAgSlNWYWx1ZUNvbnN0IGZuLCBjYWxsYmFjazsKfTsKCkpTVmFsdWUgdmVjdG9yMmFycmF5KEpTQ29udGV4dCosIGludCwgSlNWYWx1ZUNvbnN0W10pOwp2b2lkIGpzX2NvbnNvbGVfbG9nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCosIEpTVmFsdWVDb25zdCopOwpKU1ZhbHVlIGpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWVDb25zdCogZnVuY19kYXRhKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2l0ZXJhdG9yX25leHQoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QqLCBCT09MKiBkb25lX3AsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKaW50IGpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIEpTVmFsdWVDb25zdCwgaW50IGZsYWdzKTsKdm9pZCBqc19idWZmZXJfZnJvbShKU0NvbnRleHQqLCBKU0J1ZmZlciosIEpTVmFsdWVDb25zdCk7CkpTQnVmZmVyIGpzX2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCBqc19idWZmZXJfdG8oSlNCdWZmZXIsIHZvaWQqKiwgc2l6ZV90Kik7CnZvaWQganNfYnVmZmVyX3RvMyhKU0J1ZmZlciwgY29uc3QgY2hhcioqLCB2b2lkKiosIHVuc2lnbmVkKiBwbGVuKTsKQk9PTCBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQganNfYnVmZmVyX2R1bXAoY29uc3QgSlNCdWZmZXIqLCBEeW5CdWYqKTsKdm9pZCBqc19idWZmZXJfZnJlZShKU0J1ZmZlciosIEpTQ29udGV4dCopOwpCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNBdG9tIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX3N0YXRpY192YWx1ZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfc3ltYm9sX2N0b3IoSlNDb250ZXh0Kik7CkpTVmFsdWUganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfZ2xvYmFsX29zKEpTQ29udGV4dCopOwpKU1ZhbHVlIGpzX29zX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfb3NfdGltZXIoSlNDb250ZXh0KiwgSlNWYWx1ZSwgdWludDMyX3QpOwp2b2lkIGpzX3RpbWVyX2ZyZWUodm9pZCopOwpKU1ZhbHVlIGpzX3RpbWVyX2NhbGxiYWNrKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlKiBhcmd2LCBpbnQgbWFnaWMsIHZvaWQqIG9wYXF1ZSk7CnN0cnVjdCBUaW1lckNsb3N1cmUqIGpzX29zX2ludGVydmFsKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgdWludDMyX3QpOwpjaGFyKiBqc190b3N0cmluZ2xlbihKU0NvbnRleHQqLCBzaXplX3QqLCBKU1ZhbHVlQ29uc3QpOwpjaGFyKiBqc190b3N0cmluZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2ludm9rZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGNvbnN0IGNoYXIqLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfcHJvbWlzZV9jcmVhdGUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyopOwpKU1ZhbHVlIGpzX3Byb21pc2VfcmVzb2x2ZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCBqc19wcm9taXNlX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyopOwpCT09MIGpzX3Byb21pc2VfcGVuZGluZyhSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CkJPT0wganNfcHJvbWlzZV9kb25lKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKdm9pZCBqc19wcm9taXNlX2ZyZWUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyopOwpKU1ZhbHVlIGpzX2dsb2JhbF9nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpCT09MIGpzX2lzX3Byb21pc2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19lcnJvcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIC4uLik7CnVpbnQ4X3QqIGpzX3RvcHRyc2l6ZShKU0NvbnRleHQqLCB1bnNpZ25lZCBpbnQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgY29uc3QgY2hhciopOwpzdHJ1Y3QgbGlzdF9oZWFkKiBqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZioganNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiwgSlNBdG9tKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwoKc3RhdGljIGlubGluZSB2b2lkCmpzX2NsZWFyKEpTQ29udGV4dCogY3R4LCBjb25zdCB2b2lkKiogcHRyKSB7CiAgaWYoKnB0cikKICAgIGpzX2ZyZWUoY3R4LCAqcHRyKTsKICAqcHRyID0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2R1bXBfc3RyaW5nKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IG1heGxlbikgewogIHNpemVfdCBpLCBuID0gMjsKICBwdXRjaGFyKCdcJycpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihzdHJbaV0gPT0gJ1xuJykgewogICAgICBwdXRjaGFyKCdcXCcpOwogICAgICBwdXRjaGFyKCduJyk7CiAgICAgIG4gKz0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHB1dGNoYXIoc3RyW2ldKTsKICAgICAgbisrOwogICAgfQogICAgaWYobWF4bGVuID4gMCAmJiBuICsgMSA+PSBtYXhsZW4pIHsKICAgICAgZnB1dHMoIicuLi4iLCBzdGRvdXQpOwogICAgICByZXR1cm47CiAgICB9CiAgfQogIHB1dGNoYXIoJ1wnJyk7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBjb25zdCBjaGFyKiBzOwogIGNoYXIqIHJldCA9IDA7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgcmV0ID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3JlcGxhY2Vfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGNoYXIqKiBzcHRyKSB7CiAgY29uc3QgY2hhciogczsKCiAgaWYoKnNwdHIpCiAgICBqc19mcmVlKGN0eCwgKnNwdHIpOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgICpzcHRyID0ganNfc3RyZHVwKGN0eCwgcyk7CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KICByZXR1cm4gKnNwdHI7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19udWxsaXNoKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc051bGwodmFsdWUpIHx8IEpTX0lzVW5kZWZpbmVkKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU0J1ZmZlciogYnVmID0gb3BhcXVlOwoKICBpZihKU19Jc1N0cmluZyhidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKICBlbHNlIGlmKCFKU19Jc1VuZGVmaW5lZChidWYtPnZhbHVlKSkKICAgIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBidWYtPnZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfYmVnaW4oY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9lbmQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnNpemU7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfSlNfVVRJTFNfSCAqLwoAAAAAAAAAAFITAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZwkAAAAAAABnCQAAAAAAAAAAAAAAAPC/"
				],
				[
					171,
					3,
					"right_delete",
					null,
					"AwAAAIoCAAAAAAAAigIAAAAAAAACAAAAaWSKAgAAAAAAAIoCAAAAAAAAAQAAACyKAgAAAAAAAIoCAAAAAAAAAQAAACA",
					"AQAAAAAAAAABAAAAigIAAAAAAACMAgAAAAAAAAAAAAAAAPC/"
				],
				[
					174,
					1,
					"insert",
					{
						"characters": "id,"
					},
					"AwAAALUCAAAAAAAAtgIAAAAAAAAAAAAAtgIAAAAAAAC3AgAAAAAAAAAAAAC3AgAAAAAAALgCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQIAAAAAAAC1AgAAAAAAAAAAAAAAAPC/"
				],
				[
					175,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALgCAAAAAAAAuQIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAIAAAAAAAC4AgAAAAAAAAAAAAAAAPC/"
				],
				[
					180,
					1,
					"right_delete",
					null,
					"AQAAALkCAAAAAAAAuQIAAAAAAAABAAAAZg",
					"AQAAAAAAAAABAAAAuQIAAAAAAAC5AgAAAAAAAAAAAAAAAPC/"
				],
				[
					181,
					1,
					"right_delete",
					null,
					"AQAAALkCAAAAAAAAuQIAAAAAAAABAAAAbg",
					"AQAAAAAAAAABAAAAuQIAAAAAAAC5AgAAAAAAAAAAAAAAAPC/"
				],
				[
					182,
					1,
					"insert",
					{
						"characters": "handler"
					},
					"BwAAALkCAAAAAAAAugIAAAAAAAAAAAAAugIAAAAAAAC7AgAAAAAAAAAAAAC7AgAAAAAAALwCAAAAAAAAAAAAALwCAAAAAAAAvQIAAAAAAAAAAAAAvQIAAAAAAAC+AgAAAAAAAAAAAAC+AgAAAAAAAL8CAAAAAAAAAAAAAL8CAAAAAAAAwAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQIAAAAAAAC5AgAAAAAAAAAAAAAAAPC/"
				],
				[
					195,
					1,
					"paste",
					null,
					"AgAAANACAAAAAAAAZRAAAAAAAAAAAAAAZRAAAAAAAABlEAAAAAAAAFwKAABKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlQ29uc3QpOwpKU0J1ZmZlciBqc19idWZmZXJfbmV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfYnVmZmVyX3RvKEpTQnVmZmVyLCB2b2lkKiosIHNpemVfdCopOwp2b2lkIGpzX2J1ZmZlcl90bzMoSlNCdWZmZXIsIGNvbnN0IGNoYXIqKiwgdm9pZCoqLCB1bnNpZ25lZCogcGxlbik7CkJPT0wganNfYnVmZmVyX3ZhbGlkKGNvbnN0IEpTQnVmZmVyKik7CkpTQnVmZmVyIGpzX2J1ZmZlcl9jbG9uZShjb25zdCBKU0J1ZmZlciosIEpTQ29udGV4dCopOwp2b2lkIGpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiwgRHluQnVmKik7CnZvaWQganNfYnVmZmVyX2ZyZWUoSlNCdWZmZXIqLCBKU0NvbnRleHQqKTsKQk9PTCBqc19pc19pdGVyYWJsZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX2l0ZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTQXRvbSBqc19zeW1ib2xfc3RhdGljX2F0b20oSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCopOwpKU1ZhbHVlIGpzX2dsb2JhbF9nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX2dsb2JhbF9vcyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBqc19vc19nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3RpbWVyX3N0YXJ0KEpTQ29udGV4dCosIEpTVmFsdWUsIHVpbnQzMl90KTsKdm9pZCBqc190aW1lcl9mcmVlKHZvaWQqKTsKSlNWYWx1ZSBqc190aW1lcl9jYWxsYmFjayhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZSogYXJndiwgaW50IG1hZ2ljLCB2b2lkKiBvcGFxdWUpOwpzdHJ1Y3QgVGltZXJDbG9zdXJlKiBqc19vc19pbnRlcnZhbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIHVpbnQzMl90KTsKY2hhcioganNfdG9zdHJpbmdsZW4oSlNDb250ZXh0Kiwgc2l6ZV90KiwgSlNWYWx1ZUNvbnN0KTsKY2hhcioganNfdG9zdHJpbmcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBjb25zdCBjaGFyKiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIGpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqKTsKQk9PTCBqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwpCT09MIGpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CnZvaWQganNfcHJvbWlzZV9mcmVlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKQk9PTCBqc19pc19wcm9taXNlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfZXJyb3JfbmV3KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCAuLi4pOwp1aW50OF90KiBqc190b3B0cnNpemUoSlNDb250ZXh0KiwgdW5zaWduZWQgaW50KiwgSlNWYWx1ZUNvbnN0KTsKQk9PTCBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGNvbnN0IGNoYXIqKTsKc3RydWN0IGxpc3RfaGVhZCoganNfbW9kdWxlX2xpc3QoSlNDb250ZXh0Kik7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfYXQoSlNDb250ZXh0KiwgaW50KTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9maW5kKEpTQ29udGV4dCosIEpTQXRvbSk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZmluZF9zKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTs",
					"AQAAAAAAAAABAAAA0AIAAAAAAAAsDQAAAAAAAAAAAAAAAPC/"
				],
				[
					198,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACQFgAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpzdHJ1Y3QgVGltZXJDbG9zdXJlIHsKICB1aW50MzJfdCBpbnRlcnZhbDsKICBKU0NvbnRleHQqIGN0eDsKICBKU1ZhbHVlQ29uc3QgaWQsIGhhbmRsZXIsIGNhbGxiYWNrOwp9OwoKSlNWYWx1ZSAgICAgICAgICAgICAgdmVjdG9yMmFycmF5KEpTQ29udGV4dCosIGludCwgSlNWYWx1ZUNvbnN0KTsKdm9pZCAgICAgICAgICAgICAgICAganNfY29uc29sZV9sb2coSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KiwgSlNWYWx1ZUNvbnN0Kik7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWVDb25zdCogZnVuY19kYXRhKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX2Z1bmN0aW9uX2JpbmRfMShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX2l0ZXJhdG9yX25leHQoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QqLCBCT09MKiBkb25lX3AsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKaW50ICAgICAgICAgICAgICAgICAganNfY29weV9wcm9wZXJ0aWVzKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0LCBpbnQgZmxhZ3MpOwp2b2lkICAgICAgICAgICAgICAgICBqc19idWZmZXJfZnJvbShKU0NvbnRleHQqLCBKU0J1ZmZlciosIEpTVmFsdWVDb25zdCk7CkpTQnVmZmVyICAgICAgICAgICAgIGpzX2J1ZmZlcl9uZXcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCAgICAgICAgICAgICAgICAganNfYnVmZmVyX3RvKEpTQnVmZmVyLCB2b2lkKiosIHNpemVfdCopOwp2b2lkICAgICAgICAgICAgICAgICBqc19idWZmZXJfdG8zKEpTQnVmZmVyLCBjb25zdCBjaGFyKiosIHZvaWQqKiwgdW5zaWduZWQqIHBsZW4pOwpCT09MICAgICAgICAgICAgICAgICBqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqKTsKSlNCdWZmZXIgICAgICAgICAgICAganNfYnVmZmVyX2Nsb25lKGNvbnN0IEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CnZvaWQgICAgICAgICAgICAgICAgIGpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiwgRHluQnVmKik7CnZvaWQgICAgICAgICAgICAgICAgIGpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiwgSlNDb250ZXh0Kik7CkJPT0wgICAgICAgICAgICAgICAgIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wgICAgICAgICAgICAgICAgIGpzX2lzX2l0ZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTQXRvbSAgICAgICAgICAgICAgIGpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlICAgICAgICAgICAgICBqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfZ2xvYmFsX2dldChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX2dsb2JhbF9vcyhKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfb3NfZ2V0KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfdGltZXJfc3RhcnQoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCB1aW50MzJfdCk7CnZvaWQgICAgICAgICAgICAgICAgIGpzX3RpbWVyX2NhbmNlbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkICAgICAgICAgICAgICAgICBqc190aW1lcl9mcmVlKHZvaWQqKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfdGltZXJfY2FsbGJhY2soSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljLCB2b2lkKiBvcGFxdWUpOwpzdHJ1Y3QgVGltZXJDbG9zdXJlKiBqc190aW1lcl9pbnRlcnZhbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIHVpbnQzMl90KTsKdm9pZCAgICAgICAgICAgICAgICAganNfdGltZXJfcmVzdGFydChzdHJ1Y3QgVGltZXJDbG9zdXJlKik7CnZvaWQgICAgICAgICAgICAgICAgIGpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKik7CmNoYXIqICAgICAgICAgICAgICAgIGpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCosIHNpemVfdCosIEpTVmFsdWVDb25zdCk7CmNoYXIqICAgICAgICAgICAgICAgIGpzX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX2ludm9rZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGNvbnN0IGNoYXIqLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUgICAgICAgICAgICAgIGpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlICAgICAgICAgICAgICBqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqLCBSZXNvbHZlRnVuY3Rpb25zKiwgSlNWYWx1ZUNvbnN0KTsKdm9pZCAgICAgICAgICAgICAgICAganNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqKTsKQk9PTCAgICAgICAgICAgICAgICAganNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCAgICAgICAgICAgICAgICAganNfcHJvbWlzZV9kb25lKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqKTsKQk9PTCAgICAgICAgICAgICAgICAganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlICAgICAgICAgICAgICBqc19lcnJvcl9uZXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIC4uLik7CnVpbnQ4X3QqICAgICAgICAgICAgIGpzX3RvcHRyc2l6ZShKU0NvbnRleHQqLCB1bnNpZ25lZCBpbnQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MICAgICAgICAgICAgICAgICBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGNvbnN0IGNoYXIqKTsKc3RydWN0IGxpc3RfaGVhZCogICAganNfbW9kdWxlX2xpc3QoSlNDb250ZXh0Kik7CkpTTW9kdWxlRGVmKiAgICAgICAgIGpzX21vZHVsZV9hdChKU0NvbnRleHQqLCBpbnQpOwpKU01vZHVsZURlZiogICAgICAgICBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBKU0F0b20pOwpKU01vZHVsZURlZiogICAgICAgICBqc19tb2R1bGVfZmluZF9zKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKdm9pZCogICAgICAgICAgICAgICAganNfbW9kdWxlX2V4cG9ydF9maW5kKEpTTW9kdWxlRGVmKiwgSlNBdG9tKTsKSlNWYWx1ZSAgICAgICAgICAgICAganNfbW9kdWxlX2ltcG9ydF9tZXRhKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCgpzdGF0aWMgaW5saW5lIHZvaWQKanNfY2xlYXIoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqKiBwdHIpIHsKICBpZigqcHRyKQogICAganNfZnJlZShjdHgsICpwdHIpOwogICpwdHIgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfZHVtcF9zdHJpbmcoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBzaXplX3QgbWF4bGVuKSB7CiAgc2l6ZV90IGksIG4gPSAyOwogIHB1dGNoYXIoJ1wnJyk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmKHN0cltpXSA9PSAnXG4nKSB7CiAgICAgIHB1dGNoYXIoJ1xcJyk7CiAgICAgIHB1dGNoYXIoJ24nKTsKICAgICAgbiArPSAyOwogICAgfSBlbHNlIHsKICAgICAgcHV0Y2hhcihzdHJbaV0pOwogICAgICBuKys7CiAgICB9CiAgICBpZihtYXhsZW4gPiAwICYmIG4gKyAxID49IG1heGxlbikgewogICAgICBmcHV0cygiJy4uLiIsIHN0ZG91dCk7CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAgcHV0Y2hhcignXCcnKTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGNvbnN0IGNoYXIqIHM7CiAgY2hhciogcmV0ID0gMDsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgY2hhcioKanNfcmVwbGFjZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY2hhcioqIHNwdHIpIHsKICBjb25zdCBjaGFyKiBzOwoKICBpZigqc3B0cikKICAgIGpzX2ZyZWUoY3R4LCAqc3B0cik7CgogIGlmKChzID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgKnNwdHIgPSBqc19zdHJkdXAoY3R4LCBzKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcyk7CiAgfQogIHJldHVybiAqc3B0cjsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzTnVsbCh2YWx1ZSkgfHwgSlNfSXNVbmRlZmluZWQodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfYnVmZmVyX2ZyZWVfZGVmYXVsdChKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTQnVmZmVyKiBidWYgPSBvcGFxdWU7CgogIGlmKEpTX0lzU3RyaW5nKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwogIGVsc2UgaWYoIUpTX0lzVW5kZWZpbmVkKGJ1Zi0+dmFsdWUpKQogICAgSlNfRnJlZVZhbHVlUlQocnQsIGJ1Zi0+dmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IHVpbnQ4X3QqCmpzX2J1ZmZlcl9iZWdpbihjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGE7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2VuZChjb25zdCBKU0J1ZmZlciogaW4pIHsKICByZXR1cm4gaW4tPmRhdGEgKyBpbi0+c2l6ZTsKfQoKI2VuZGlmIC8qIE1JTk5FVF9KU19VVElMU19IICovCgAAAAAAAAAA+hMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZRAAAAAAAABlEAAAAAAAAAAAAAAAAPC/"
				],
				[
					212,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAIDAAAAAAAAAwMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAgMAAAAAAAACAwAAAAAAAAAAAAAAAPC/"
				],
				[
					213,
					1,
					"left_delete",
					null,
					"AQAAAAIDAAAAAAAAAgMAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAAwMAAAAAAAADAwAAAAAAAAAAAAAAAPC/"
				],
				[
					214,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAAIDAAAAAAAABAMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAgMAAAAAAAACAwAAAAAAAAAAAAAAAPC/"
				],
				[
					219,
					1,
					"insert",
					{
						"characters": "\nint"
					},
					"BQAAAH4CAAAAAAAAfwIAAAAAAAAAAAAAfwIAAAAAAACBAgAAAAAAAAAAAACBAgAAAAAAAIICAAAAAAAAAAAAAIICAAAAAAAAgwIAAAAAAAAAAAAAgwIAAAAAAACEAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfgIAAAAAAAB+AgAAAAAAAAAAAAAAAPC/"
				],
				[
					220,
					1,
					"insert",
					{
						"characters": " ref_count;"
					},
					"CwAAAIQCAAAAAAAAhQIAAAAAAAAAAAAAhQIAAAAAAACGAgAAAAAAAAAAAACGAgAAAAAAAIcCAAAAAAAAAAAAAIcCAAAAAAAAiAIAAAAAAAAAAAAAiAIAAAAAAACJAgAAAAAAAAAAAACJAgAAAAAAAIoCAAAAAAAAAAAAAIoCAAAAAAAAiwIAAAAAAAAAAAAAiwIAAAAAAACMAgAAAAAAAAAAAACMAgAAAAAAAI0CAAAAAAAAAAAAAI0CAAAAAAAAjgIAAAAAAAAAAAAAjgIAAAAAAACPAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhAIAAAAAAACEAgAAAAAAAAAAAAAAAPC/"
				],
				[
					230,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAANFAAAI2lmbmRlZiBNSU5ORVRfSlNVVElMU19ICiNkZWZpbmUgTUlOTkVUX0pTVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlzdC5oPgoKdHlwZWRlZiBzdHJ1Y3QgSlNUaHJlYWRTdGF0ZSB7CiAgc3RydWN0IGxpc3RfaGVhZCBvc19yd19oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3NpZ25hbF9oYW5kbGVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsKICBzdHJ1Y3QgbGlzdF9oZWFkIHBvcnRfbGlzdDsKICBpbnQgZXZhbF9zY3JpcHRfcmVjdXJzZTsKICB2b2lkICpyZWN2X3BpcGUsICpzZW5kX3BpcGU7Cn0gSlNUaHJlYWRTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IGlucHV0X2J1ZmZlciB7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3Qgc2l6ZTsKICB2b2lkICgqZnJlZSkoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwogIEpTVmFsdWUgdmFsdWU7Cn0gSlNCdWZmZXI7Cgp0eXBlZGVmIHVuaW9uIHJlc29sdmVfZnVuY3Rpb25zIHsKICBKU1ZhbHVlIGFycmF5WzJdOwogIHN0cnVjdCB7CiAgICBKU1ZhbHVlIHJlc29sdmUsIHJlamVjdDsKICB9Owp9IFJlc29sdmVGdW5jdGlvbnM7CgpzdHJ1Y3QgVGltZXJDbG9zdXJlIHsKICBpbnQgcmVmX2NvdW50OwogIHVpbnQzMl90IGludGVydmFsOwogIEpTQ29udGV4dCogY3R4OwogIEpTVmFsdWVDb25zdCBpZCwgaGFuZGxlciwgY2FsbGJhY2s7Cn07CgpKU1ZhbHVlIHZlY3RvcjJhcnJheShKU0NvbnRleHQqLCBpbnQsIEpTVmFsdWVDb25zdFtdKTsKdm9pZCBqc19jb25zb2xlX2xvZyhKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QqLCBKU1ZhbHVlQ29uc3QqKTsKSlNWYWx1ZSBqc19mdW5jdGlvbl9ib3VuZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QqIGZ1bmNfZGF0YSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CkpTVmFsdWUganNfZnVuY3Rpb25fYmluZF8xKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgSlNWYWx1ZUNvbnN0KiwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCBqc19jb3B5X3Byb3BlcnRpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBKU1ZhbHVlQ29uc3QsIGludCBmbGFncyk7CnZvaWQganNfYnVmZmVyX2Zyb20oSlNDb250ZXh0KiwgSlNCdWZmZXIqLCBKU1ZhbHVlQ29uc3QpOwpKU0J1ZmZlciBqc19idWZmZXJfbmV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfYnVmZmVyX3RvKEpTQnVmZmVyLCB2b2lkKiosIHNpemVfdCopOwp2b2lkIGpzX2J1ZmZlcl90bzMoSlNCdWZmZXIsIGNvbnN0IGNoYXIqKiwgdm9pZCoqLCB1bnNpZ25lZCogcGxlbik7CkJPT0wganNfYnVmZmVyX3ZhbGlkKGNvbnN0IEpTQnVmZmVyKik7CkpTQnVmZmVyIGpzX2J1ZmZlcl9jbG9uZShjb25zdCBKU0J1ZmZlciosIEpTQ29udGV4dCopOwp2b2lkIGpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiwgRHluQnVmKik7CnZvaWQganNfYnVmZmVyX2ZyZWUoSlNCdWZmZXIqLCBKU0NvbnRleHQqKTsKQk9PTCBqc19pc19pdGVyYWJsZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX2l0ZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTQXRvbSBqc19zeW1ib2xfc3RhdGljX2F0b20oSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCopOwpKU1ZhbHVlIGpzX2dsb2JhbF9nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX2dsb2JhbF9vcyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBqc19vc19nZXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU1ZhbHVlIGpzX3RpbWVyX3N0YXJ0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgdWludDMyX3QpOwp2b2lkIGpzX3RpbWVyX2NhbmNlbChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwp2b2lkIGpzX3RpbWVyX2ZyZWUodm9pZCopOwpKU1ZhbHVlIGpzX3RpbWVyX2NhbGxiYWNrKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYywgdm9pZCogb3BhcXVlKTsKc3RydWN0IFRpbWVyQ2xvc3VyZSoganNfdGltZXJfaW50ZXJ2YWwoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCB1aW50MzJfdCk7CnZvaWQganNfdGltZXJfcmVzdGFydChzdHJ1Y3QgVGltZXJDbG9zdXJlKik7CnZvaWQganNfcHJvbWlzZV9mcmVlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKY2hhcioganNfdG9zdHJpbmdsZW4oSlNDb250ZXh0Kiwgc2l6ZV90KiwgSlNWYWx1ZUNvbnN0KTsKY2hhcioganNfdG9zdHJpbmcoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0KTsKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBjb25zdCBjaGFyKiwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIGpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCosIFJlc29sdmVGdW5jdGlvbnMqKTsKSlNWYWx1ZSBqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CkpTVmFsdWUganNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiwgUmVzb2x2ZUZ1bmN0aW9ucyosIEpTVmFsdWVDb25zdCk7CnZvaWQganNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqKTsKQk9PTCBqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCopOwpCT09MIGpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0Kik7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpKU1ZhbHVlIGpzX2Vycm9yX25ldyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgLi4uKTsKdWludDhfdCoganNfdG9wdHJzaXplKEpTQ29udGV4dCosIHVuc2lnbmVkIGludCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfZ2V0X3Byb3BlcnR5c3RyX2Jvb2woSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBjb25zdCBjaGFyKik7CnN0cnVjdCBsaXN0X2hlYWQqIGpzX21vZHVsZV9saXN0KEpTQ29udGV4dCopOwpKU01vZHVsZURlZioganNfbW9kdWxlX2F0KEpTQ29udGV4dCosIGludCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBKU0F0b20pOwpKU01vZHVsZURlZioganNfbW9kdWxlX2ZpbmRfcyhKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CnZvaWQqIGpzX21vZHVsZV9leHBvcnRfZmluZChKU01vZHVsZURlZiosIEpTQXRvbSk7CkpTVmFsdWUganNfbW9kdWxlX2ltcG9ydF9tZXRhKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jbGVhcihKU0NvbnRleHQqIGN0eCwgY29uc3Qgdm9pZCoqIHB0cikgewogIGlmKCpwdHIpCiAgICBqc19mcmVlKGN0eCwgKnB0cik7CiAgKnB0ciA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kdW1wX3N0cmluZyhjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4sIHNpemVfdCBtYXhsZW4pIHsKICBzaXplX3QgaSwgbiA9IDI7CiAgcHV0Y2hhcignXCcnKTsKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgaWYoc3RyW2ldID09ICdcbicpIHsKICAgICAgcHV0Y2hhcignXFwnKTsKICAgICAgcHV0Y2hhcignbicpOwogICAgICBuICs9IDI7CiAgICB9IGVsc2UgewogICAgICBwdXRjaGFyKHN0cltpXSk7CiAgICAgIG4rKzsKICAgIH0KICAgIGlmKG1heGxlbiA+IDAgJiYgbiArIDEgPj0gbWF4bGVuKSB7CiAgICAgIGZwdXRzKCInLi4uIiwgc3Rkb3V0KTsKICAgICAgcmV0dXJuOwogICAgfQogIH0KICBwdXRjaGFyKCdcJycpOwp9CgpzdGF0aWMgaW5saW5lIGNoYXIqCmpzX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogczsKICBjaGFyKiByZXQgPSAwOwoKICBpZigocyA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc19yZXBsYWNlX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBjaGFyKiogc3B0cikgewogIGNvbnN0IGNoYXIqIHM7CgogIGlmKCpzcHRyKQogICAganNfZnJlZShjdHgsICpzcHRyKTsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSkpKSB7CiAgICAqc3B0ciA9IGpzX3N0cmR1cChjdHgsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgcmV0dXJuICpzcHRyOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbGlzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNOdWxsKHZhbHVlKSB8fCBKU19Jc1VuZGVmaW5lZCh2YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19idWZmZXJfZnJlZV9kZWZhdWx0KEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNCdWZmZXIqIGJ1ZiA9IG9wYXF1ZTsKCiAgaWYoSlNfSXNTdHJpbmcoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7CiAgZWxzZSBpZighSlNfSXNVbmRlZmluZWQoYnVmLT52YWx1ZSkpCiAgICBKU19GcmVlVmFsdWVSVChydCwgYnVmLT52YWx1ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgdWludDhfdCoKanNfYnVmZmVyX2JlZ2luKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YTsKfQoKc3RhdGljIGlubGluZSBjb25zdCB1aW50OF90Kgpqc19idWZmZXJfZW5kKGNvbnN0IEpTQnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+ZGF0YSArIGluLT5zaXplOwp9CgojZW5kaWYgLyogTUlOTkVUX0pTX1VUSUxTX0ggKi8KAAAAAAAAAAANFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIQkAAAAAAAAhCQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "cmake/functions.cmake",
			"settings":
			{
				"buffer_size": 4621,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet-request.c",
			"settings":
			{
				"buffer_size": 11384,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABoLAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXEpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVFVRVNUX01FVEhPRDogewogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBtZXRob2RfbmFtZShyZXEtPm1ldGhvZCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9UWVBFOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVxLT5tZXRob2QpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9VUkk6IHsKICAgICAgcmV0ID0gbWlubmV0X3VybF9uZXcoY3R4LCByZXEtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1BBVEg6IHsKICAgICAgcmV0ID0gcmVxLT51cmwucGF0aCA/IEpTX05ld1N0cmluZyhjdHgsIHJlcS0+dXJsLnBhdGgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfSEVBREVSUzogewogICAgICByZXQgPSBoZWFkZXJzX29iamVjdChjdHgsICZyZXEtPmhlYWRlcnMuc3RhcnQsICZyZXEtPmhlYWRlcnMud3JpdGUpOwogICAgICAvLyByZXQgPSBidWZmZXJfdG9zdHJpbmcoJnJlcS0+aGVhZGVycywgY3R4KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfQVJSQVlCVUZGRVI6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9hcnJheWJ1ZmZlcigmcmVxLT5ib2R5LCBjdHgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVEVYVDogewogICAgICByZXQgPSBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSA/IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfQk9EWTogewogICAgICBpZihidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSkgewogICAgICAgIHNpemVfdCB0eXBlbGVuOwogICAgICAgIGNvbnN0IGNoYXIqIHR5cGUgPSBoZWFkZXJfZ2V0KGN0eCwgJnR5cGVsZW4sICZyZXEtPmhlYWRlcnMsICJjb250ZW50LXR5cGUiKTsKCiAgICAgICAgcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmJvZHksIGN0eCk7CiAgICAgICAgLy8gIHJldCA9IG1pbm5ldF9yaW5nYnVmZmVyX25ldyhjdHgsIHR5cGUsIHR5cGVsZW4sIGJsb2NrX0JFR0lOKCZyZXEtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0ID0gSlNfTlVMTDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3Rfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKCEocmVxID0gbWlubmV0X3JlcXVlc3RfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVxLT5yZWFkX29ubHkpCiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJSZXF1ZXN0IG9iamVjdCBpcyByZWFkLW9ubHkiKTsKCiAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICBpbnQzMl90IG0gPSAtMTsKICAgICAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmbSwgdmFsdWUpOwogICAgICBlbHNlCiAgICAgICAgbSA9IG1ldGhvZF9udW1iZXIoc3RyKTsKICAgICAgaWYobSA+PSAwICYmIG1ldGhvZF9zdHJpbmcobSkpCiAgICAgICAgcmVxLT5tZXRob2QgPSBtOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9VUkk6IHsKICAgICAgdXJsX2ZyZWUoJnJlcS0+dXJsLCBjdHgpOwogICAgICB1cmxfcGFyc2UoJnJlcS0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1BBVEg6IHsKICAgICAgaWYocmVxLT51cmwucGF0aCkgewogICAgICAgIGpzX2ZyZWUoY3R4LCByZXEtPnVybC5wYXRoKTsKICAgICAgICByZXEtPnVybC5wYXRoID0gMDsKICAgICAgfQogICAgICByZXEtPnVybC5wYXRoID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfSEVBREVSUzogewoKICAgICAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIHZhbHVlLCBjdHgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgICByZXQgPSBKU19UaHJvd1JlZmVyZW5jZUVycm9yKGN0eCwgIkNhbm5vdCBzZXQgaGVhZGVycyB0byAnJXMnIiwgc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyB2b2lkCm1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEodmFsKSkpCiAgICByZXF1ZXN0X2ZyZWVfcnQocmVxLCBydCk7Cn0KCkpTQ2xhc3NEZWYgbWlubmV0X3JlcXVlc3RfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVxdWVzdCIsCiAgICAuZmluYWxpemVyID0gbWlubmV0X3JlcXVlc3RfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0eXBlIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfVFlQRSwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigibWV0aG9kIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfTUVUSE9ELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInVybCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1VSSSwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwYXRoIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfUEFUSCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiaGVhZGVycyIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX0hFQURFUlMsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYXJyYXlCdWZmZXIiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInRleHQiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgMCwgUkVRVUVTVF9CT0RZLCAwKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiTWlubmV0UmVxdWVzdCIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jcyk7CgAAAAAAAAAAaCwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEYbAAAAAAAARBwAAAAAAAAAAAAAAADwvw"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "requiest"
					},
					"CAAAAC4cAAAAAAAALxwAAAAAAAAAAAAALxwAAAAAAAAwHAAAAAAAAAAAAAAwHAAAAAAAADEcAAAAAAAAAAAAADEcAAAAAAAAMhwAAAAAAAAAAAAAMhwAAAAAAAAzHAAAAAAAAAAAAAAzHAAAAAAAADQcAAAAAAAAAAAAADQcAAAAAAAANRwAAAAAAAAAAAAANRwAAAAAAAA2HAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAC4cAAAAAAAALhwAAAAAAAAAAAAAAADwvw"
				],
				[
					23,
					4,
					"left_delete",
					null,
					"BAAAADUcAAAAAAAANRwAAAAAAAABAAAAdDQcAAAAAAAANBwAAAAAAAABAAAAczMcAAAAAAAAMxwAAAAAAAABAAAAZTIcAAAAAAAAMhwAAAAAAAABAAAAaQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADYcAAAAAAAANhwAAAAAAAAAAAAAAADwvw"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "est_dup("
					},
					"CAAAADIcAAAAAAAAMxwAAAAAAAAAAAAAMxwAAAAAAAA0HAAAAAAAAAAAAAA0HAAAAAAAADUcAAAAAAAAAAAAADUcAAAAAAAANhwAAAAAAAAAAAAANhwAAAAAAAA3HAAAAAAAAAAAAAA3HAAAAAAAADgcAAAAAAAAAAAAADgcAAAAAAAAORwAAAAAAAAAAAAAORwAAAAAAAA6HAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADIcAAAAAAAAMhwAAAAAAAAAAAAAAADwvw"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAD4cAAAAAAAAPxwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAD4cAAAAAAAAPhwAAAAAAAAAAAAAAADwvw"
				],
				[
					39,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB1LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHUsAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPwTAAAAAAAABRQAAAAAAAAAAAAAAADwvw"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAPgFAAAAAAAA+QUAAAAAAAAAAAAA+QUAAAAAAAD6BQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPgFAAAAAAAA+AUAAAAAAAAAAAAAAADwvw"
				],
				[
					62,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAACIMAAAAAAAAIwwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACIMAAAAAAAAIgwAAAAAAAAAAAAAAADwvw"
				],
				[
					63,
					1,
					"left_delete",
					null,
					"AQAAACIMAAAAAAAAIgwAAAAAAAABAAAAcw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACMMAAAAAAAAIwwAAAAAAAAAAAAAAADwvw"
				],
				[
					68,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB3LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vbWVtc2V0KHJlcSwgMCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKCiAgcmVxLT51cmwgPSB1cmw7CiAgcmVxLT5tZXRob2QgPSBtZXRob2Q7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfYWxsb2MoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXQ7CgogIHJldCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJldC0+cmVmX2NvdW50ID0gMTsKICByZXR1cm4gcmV0Owp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSByZXF1ZXN0X2FsbG9jKGN0eCkpKQogICAgcmVxdWVzdF9pbml0KHJlcSwgdXJsLCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2R1cChNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICArK3JlcS0+cmVmX2NvdW50OwogIHJldHVybiByZXE7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbW9iaihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9wdGlvbnMpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyICp1cmwsICpwYXRoLCAqbWV0aG9kOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInVybCIpOwogIHVybCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAicGF0aCIpOwogIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJtZXRob2QiKTsKICBtZXRob2QgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJoZWFkZXJzIik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgcmVxdWVzdF9pbml0KHJlcSwgLypwYXRoLCovIHVybF9jcmVhdGUodXJsLCBjdHgpLCBtZXRob2RfbnVtYmVyKG1ldGhvZCkpOwoKICBKU19GcmVlQ1N0cmluZyhjdHgsIHVybCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXRoKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIG1ldGhvZCk7CgogIHJldHVybiByZXE7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXdzaShKU0NvbnRleHQqIGN0eCwgc3RydWN0IGx3cyogd3NpKSB7CiAgY29uc3QgY2hhciogdXJpOwogIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kID0gLTE7CgogIGlmKCh1cmkgPSBtaW5uZXRfdXJpX2FuZF9tZXRob2Qod3NpLCBjdHgsICZtZXRob2QpKSkgewogICAgTWlubmV0VVJMIHVybCA9IHVybF9jcmVhdGUodXJpLCBjdHgpOwogICAgc3RydWN0IGx3c192aG9zdCogdmhvc3Q7CgogICAgaWYoKHZob3N0ID0gbHdzX2dldF92aG9zdCh3c2kpKSkgewogICAgICBjb25zdCBjaGFyKiBuYW1lOwoKICAgICAgaWYoKG5hbWUgPSBsd3NfZ2V0X3Zob3N0X25hbWUodmhvc3QpKSkKICAgICAgICB1cmxfcGFyc2UoJnVybCwgbmFtZSwgY3R4KTsKICAgIH0KCiAgICByZXR1cm4gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCk7CiAgfQoKICByZXR1cm4gMDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9mcm9tdXJsKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB1cmkpIHsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IE1FVEhPRF9HRVQ7CiAgTWlubmV0VVJMIHVybCA9IHVybF9jcmVhdGUodXJpLCBjdHgpOwoKICByZXR1cm4gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCk7Cn0KCnZvaWQKcmVxdWVzdF96ZXJvKE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CiAgcmVxLT5oZWFkZXJzID0gQlVGRkVSXzAoKTsKICByZXEtPmJvZHkgPSBCVUZGRVJfMCgpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXIoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICBidWZmZXJfZnJlZSgmcmVxLT5oZWFkZXJzLCBKU19HZXRSdW50aW1lKGN0eCkpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIEpTX0dldFJ1bnRpbWUoY3R4KSk7Cn0KCnZvaWQKcmVxdWVzdF9jbGVhcl9ydChNaW5uZXRSZXF1ZXN0KiByZXEsIEpTUnVudGltZSogcnQpIHsKICB1cmxfZnJlZV9ydCgmcmVxLT51cmwsIHJ0KTsKICBidWZmZXJfZnJlZSgmcmVxLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+Ym9keSwgcnQpOwp9Cgp2b2lkCnJlcXVlc3RfZnJlZShNaW5uZXRSZXF1ZXN0KiByZXEsIEpTQ29udGV4dCogY3R4KSB7CiAgaWYoLS1yZXEtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXF1ZXN0X2NsZWFyKHJlcSwgY3R4KTsKICAgIGpzX2ZyZWUoY3R4LCByZXEpOwogIH0KfQoKdm9pZApyZXF1ZXN0X2ZyZWVfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXEtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXF1ZXN0X2NsZWFyX3J0KHJlcSwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVxKTsKICB9Cn0KCnN0YXRpYyBjb25zdCBjaGFyKgpoZWFkZXJfZ2V0KEpTQ29udGV4dCogY3R4LCBzaXplX3QqIGxlbnAsIE1pbm5ldEJ1ZmZlciogYnVmLCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgc2l6ZV90IGxlbiwgbmFtZWxlbiA9IHN0cmxlbihuYW1lKTsKICB1aW50OF90ICp4LCAqZW5kOwoKICBmb3IoeCA9IGJ1Zi0+c3RhcnQsIGVuZCA9IGJ1Zi0+d3JpdGU7IHggPCBlbmQ7IHggKz0gbGVuICsgMSkgewogICAgbGVuID0gYnl0ZV9jaHIoeCwgZW5kIC0geCwgJ1xuJyk7CgogICAgLyogICBpZihuYW1lbGVuID49IGxlbikKICAgICAgICAgY29udGludWU7Ki8KICAgIGlmKGJ5dGVfY2hyKHgsIGxlbiwgJzonKSAhPSBuYW1lbGVuIHx8IHN0cm5jYXNlY21wKG5hbWUsIChjb25zdCBjaGFyKil4LCBuYW1lbGVuKSkKICAgICAgY29udGludWU7CgogICAgaWYoeFtuYW1lbGVuXSA9PSAnOicpCiAgICAgIG5hbWVsZW4rKzsKICAgIGlmKGlzc3BhY2UoeFtuYW1lbGVuXSkpCiAgICAgIG5hbWVsZW4rKzsKCiAgICBpZihsZW5wKQogICAgICAqbGVucCA9IGxlbiAtIG5hbWVsZW47CiAgICByZXR1cm4gKGNvbnN0IGNoYXIqKXggKyBuYW1lbGVuOwogIH0KICByZXR1cm4gMDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcSA9IDA7CiAgTWlubmV0VVJMIHVybCA9IHswLCAwLCAwLCAwfTsKCiAgaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKSB7CiAgICByZXEgPSByZXF1ZXN0X2R1cChyZXEpOwogIH0gZWxzZSB7CiAgICB1cmxfZnJvbXZhbHVlKCZ1cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgaWYodXJsX3ZhbGlkKHVybCkpCiAgICAgIHJlcSA9IHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBNRVRIT0RfR0VUKTsKICB9CgogIGlmKHJlcSkKICAgIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc09iamVjdChhcmd2WzFdKSkgewogICAgICBKU1ZhbHVlIGhlYWRlcnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbMV0sICJoZWFkZXJzIik7CiAgICAgIGlmKCFKU19Jc1VuZGVmaW5lZChoZWFkZXJzKSkKICAgICAgICBoZWFkZXJzX2Zyb21vYmooJnJlcS0+aGVhZGVycywgaGVhZGVycywgY3R4KTsKCiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGhlYWRlcnMpOwogICAgfQoKICByZXR1cm4gcmVxOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X2Zyb20oSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICAvKiBpZihKU19Jc09iamVjdChhcmd2WzBdKSAmJiAocmVxID0gbWlubmV0X3JlcXVlc3RfZGF0YShhcmd2WzBdKSkpCiAgICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICAgZWxzZSovCiAgcmVxID0gcmVxdWVzdF9mcm9tKGN0eCwgYXJnYywgYXJndik7CgogIHJldHVybiBtaW5uZXRfcmVxdWVzdF93cmFwKGN0eCwgcmVxKTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBCT09MIGdvdF91cmwgPSBGQUxTRTsKCiAgaWYoIShyZXEgPSByZXF1ZXN0X2FsbG9jKGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3JlcXVlc3RfcHJvdG8pOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgSlNfU2V0T3BhcXVlKG9iaiwgcmVxKTsKCiAgd2hpbGUoYXJnYyA+IDApIHsKCiAgICBpZighZ290X3VybCkgewogICAgICAvKmdvdF91cmwgPSAqLyB1cmxfZnJvbXZhbHVlKCZyZXEtPnVybCwgYXJndlswXSwgY3R4KTsKCiAgICB9IGVsc2UgaWYoSlNfSXNPYmplY3QoYXJndlswXSkpIHsKICAgICAganNfY29weV9wcm9wZXJ0aWVzKGN0eCwgb2JqLCBhcmd2WzBdLCBKU19HUE5fU1RSSU5HX01BU0spOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIHJlcS0+cmVhZF9vbmx5ID0gVFJVRTsKICByZXR1cm4gb2JqOwoKZmFpbDoKICBqc19mcmVlKGN0eCwgcmVxKTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfbmV3KEpTQ29udGV4dCogY3R4LCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgaWYoIShyZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgbWV0aG9kKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3Rfd3JhcChKU0NvbnRleHQqIGN0eCwgTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3JlcXVlc3RfcHJvdG8sIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1NldE9wYXF1ZShyZXQsIHJlcXVlc3RfZHVwKHJlcSkpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVFVRVNUX01FVEhPRDogewogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBtZXRob2RfbmFtZShyZXEtPm1ldGhvZCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9UWVBFOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVxLT5tZXRob2QpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9VUkk6IHsKICAgICAgcmV0ID0gbWlubmV0X3VybF9uZXcoY3R4LCByZXEtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1BBVEg6IHsKICAgICAgcmV0ID0gcmVxLT51cmwucGF0aCA/IEpTX05ld1N0cmluZyhjdHgsIHJlcS0+dXJsLnBhdGgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfSEVBREVSUzogewogICAgICByZXQgPSBoZWFkZXJzX29iamVjdChjdHgsICZyZXEtPmhlYWRlcnMuc3RhcnQsICZyZXEtPmhlYWRlcnMud3JpdGUpOwogICAgICAvLyByZXQgPSBidWZmZXJfdG9zdHJpbmcoJnJlcS0+aGVhZGVycywgY3R4KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfQVJSQVlCVUZGRVI6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9hcnJheWJ1ZmZlcigmcmVxLT5ib2R5LCBjdHgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVEVYVDogewogICAgICByZXQgPSBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSA/IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfQk9EWTogewogICAgICBpZihidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSkgewogICAgICAgIHNpemVfdCB0eXBlbGVuOwogICAgICAgIGNvbnN0IGNoYXIqIHR5cGUgPSBoZWFkZXJfZ2V0KGN0eCwgJnR5cGVsZW4sICZyZXEtPmhlYWRlcnMsICJjb250ZW50LXR5cGUiKTsKCiAgICAgICAgcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmJvZHksIGN0eCk7CiAgICAgICAgLy8gIHJldCA9IG1pbm5ldF9yaW5nYnVmZmVyX25ldyhjdHgsIHR5cGUsIHR5cGVsZW4sIGJsb2NrX0JFR0lOKCZyZXEtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVxLT5ib2R5KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0ID0gSlNfTlVMTDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3Rfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKCEocmVxID0gbWlubmV0X3JlcXVlc3RfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVxLT5yZWFkX29ubHkpCiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJSZXF1ZXN0IG9iamVjdCBpcyByZWFkLW9ubHkiKTsKCiAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICBpbnQzMl90IG0gPSAtMTsKICAgICAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmbSwgdmFsdWUpOwogICAgICBlbHNlCiAgICAgICAgbSA9IG1ldGhvZF9udW1iZXIoc3RyKTsKICAgICAgaWYobSA+PSAwICYmIG1ldGhvZF9zdHJpbmcobSkpCiAgICAgICAgcmVxLT5tZXRob2QgPSBtOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9VUkk6IHsKICAgICAgdXJsX2ZyZWUoJnJlcS0+dXJsLCBjdHgpOwogICAgICB1cmxfcGFyc2UoJnJlcS0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1BBVEg6IHsKICAgICAgaWYocmVxLT51cmwucGF0aCkgewogICAgICAgIGpzX2ZyZWUoY3R4LCByZXEtPnVybC5wYXRoKTsKICAgICAgICByZXEtPnVybC5wYXRoID0gMDsKICAgICAgfQogICAgICByZXEtPnVybC5wYXRoID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfSEVBREVSUzogewoKICAgICAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIHZhbHVlLCBjdHgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgICByZXQgPSBKU19UaHJvd1JlZmVyZW5jZUVycm9yKGN0eCwgIkNhbm5vdCBzZXQgaGVhZGVycyB0byAnJXMnIiwgc3RyKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyB2b2lkCm1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgaWYoKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEodmFsKSkpCiAgICByZXF1ZXN0X2ZyZWVfcnQocmVxLCBydCk7Cn0KCkpTQ2xhc3NEZWYgbWlubmV0X3JlcXVlc3RfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVxdWVzdCIsCiAgICAuZmluYWxpemVyID0gbWlubmV0X3JlcXVlc3RfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0eXBlIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfVFlQRSwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigibWV0aG9kIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfTUVUSE9ELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInVybCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1VSSSwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJwYXRoIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCBtaW5uZXRfcmVxdWVzdF9zZXQsIFJFUVVFU1RfUEFUSCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiaGVhZGVycyIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX0hFQURFUlMsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYXJyYXlCdWZmZXIiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInRleHQiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgMCwgUkVRVUVTVF9CT0RZLCAwKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiTWlubmV0UmVxdWVzdCIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfcmVxdWVzdF9wcm90b19mdW5jcyk7CgAAAAAAAAAAeCwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACIMAAAAAAAAIgwAAAAAAAAAAAAAAADwvw"
				],
				[
					71,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAB4LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHgsAAAAAAAAAAAAAAAAAAAAAAAAeCwAAAAAAAAAAAAAAAAAAAAAAAB4LAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHUNAAAAAAAAdQ0AAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHgsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQ0AAAAAAAB1DQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHgsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQ0AAAAAAAB1DQAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHgsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQ0AAAAAAAB1DQAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4LAAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlICJtaW5uZXQtcmVxdWVzdC5oIgojaW5jbHVkZSAibWlubmV0LXJpbmdidWZmZXIuaCIKI2luY2x1ZGUgImpzdXRpbHMuaCIKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdHJpbmdzLmg+CiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXF1ZXN0X2NsYXNzX2lkOwpUSFJFQURfTE9DQUwgSlNWYWx1ZSBtaW5uZXRfcmVxdWVzdF9wcm90bywgbWlubmV0X3JlcXVlc3RfY3RvcjsKCmVudW0geyBSRVFVRVNUX1RZUEUsIFJFUVVFU1RfTUVUSE9ELCBSRVFVRVNUX1VSSSwgUkVRVUVTVF9QQVRILCBSRVFVRVNUX0hFQURFUlMsIFJFUVVFU1RfQVJSQVlCVUZGRVIsIFJFUVVFU1RfVEVYVCwgUkVRVUVTVF9CT0RZIH07CgpzdGF0aWMgY29uc3QgY2hhciogY29uc3QgbWV0aG9kX25hbWVzW10gPSB7CiAgICAiR0VUIiwKICAgICJQT1NUIiwKICAgICJPUFRJT05TIiwKICAgICJQVVQiLAogICAgIlBBVENIIiwKICAgICJERUxFVEUiLAogICAgIkNPTk5FQ1QiLAogICAgIkhFQUQiLAp9OwoKY29uc3QgY2hhcioKbWV0aG9kX3N0cmluZyhlbnVtIGh0dHBfbWV0aG9kIG0pIHsKICBpZihtID49IDAgJiYgbSA8IGNvdW50b2YobWV0aG9kX25hbWVzKSkKICAgIHJldHVybiBtZXRob2RfbmFtZXNbbV07CiAgcmV0dXJuIDA7Cn0KCmludAptZXRob2RfbnVtYmVyKGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpbnQgaSA9IDA7CiAgaWYobmFtZSkKICAgIGZvcihpID0gY291bnRvZihtZXRob2RfbmFtZXMpIC0gMTsgaSA+PSAwOyAtLWkpCiAgICAgIGlmKCFzdHJjYXNlY21wKG5hbWUsIG1ldGhvZF9uYW1lc1tpXSkpCiAgICAgICAgYnJlYWs7CiAgcmV0dXJuIGk7Cn0KCnZvaWQKcmVxdWVzdF9mb3JtYXQoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBjaGFyKiBidWYsIHNpemVfdCBsZW4sIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciogaGVhZGVycyA9IGJ1ZmZlcl9lc2NhcGVkKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgY2hhciogdXJsID0gdXJsX2Zvcm1hdChyZXEtPnVybCwgY3R4KTsKICBzbnByaW50ZihidWYsIGxlbiwgRkdDKDE5NiwgIk1pbm5ldFJlcXVlc3QiKSAiIHsgbWV0aG9kOiAnJXMnLCB1cmw6ICclcycsIGhlYWRlcnM6ICclcycgfSIsIG1ldGhvZF9uYW1lKHJlcS0+bWV0aG9kKSwgdXJsLCBoZWFkZXJzKTsKCiAganNfZnJlZShjdHgsIGhlYWRlcnMpOwogIGpzX2ZyZWUoY3R4LCB1cmwpOwp9CgpjaGFyKgpyZXF1ZXN0X2R1bXAoTWlubmV0UmVxdWVzdCBjb25zdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIHN0YXRpYyBjaGFyIGJ1ZlsyMDQ4XTsKICByZXF1ZXN0X2Zvcm1hdChyZXEsIGJ1Ziwgc2l6ZW9mKGJ1ZiksIGN0eCk7CiAgcmV0dXJuIGJ1ZjsKfQoKdm9pZApyZXF1ZXN0X2luaXQoTWlubmV0UmVxdWVzdCogcmVxLCBNaW5uZXRVUkwgdXJsLCBlbnVtIGh0dHBfbWV0aG9kIG1ldGhvZCkgewogIC8vIG1lbXNldChyZXEsIDAsIHNpemVvZihNaW5uZXRSZXF1ZXN0KSk7CgogIHJlcS0+dXJsID0gdXJsOwogIHJlcS0+bWV0aG9kID0gbWV0aG9kOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2FsbG9jKEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVxdWVzdCogcmV0OwoKICByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlcXVlc3QpKTsKICByZXQtPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHJldDsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIE1pbm5ldEh0dHBNZXRob2QgbWV0aG9kKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwoKICBpZigocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJlcXVlc3RfaW5pdChyZXEsIHVybCwgbWV0aG9kKTsKCiAgcmV0dXJuIHJlcTsKfQoKTWlubmV0UmVxdWVzdCoKcmVxdWVzdF9kdXAoTWlubmV0UmVxdWVzdCogcmVxKSB7CiAgKytyZXEtPnJlZl9jb3VudDsKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb21vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvcHRpb25zKSB7CiAgTWlubmV0UmVxdWVzdCogcmVxOwogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciAqdXJsLCAqcGF0aCwgKm1ldGhvZDsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wdGlvbnMsICJ1cmwiKTsKICB1cmwgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb3B0aW9ucywgInBhdGgiKTsKICBwYXRoID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAibWV0aG9kIik7CiAgbWV0aG9kID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcHRpb25zLCAiaGVhZGVycyIpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogIHJlcXVlc3RfaW5pdChyZXEsIC8qcGF0aCwqLyB1cmxfY3JlYXRlKHVybCwgY3R4KSwgbWV0aG9kX251bWJlcihtZXRob2QpKTsKCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCB1cmwpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgcGF0aCk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBtZXRob2QpOwoKICByZXR1cm4gcmVxOwp9CgpNaW5uZXRSZXF1ZXN0KgpyZXF1ZXN0X2Zyb213c2koSlNDb250ZXh0KiBjdHgsIHN0cnVjdCBsd3MqIHdzaSkgewogIGNvbnN0IGNoYXIqIHVyaTsKICBNaW5uZXRIdHRwTWV0aG9kIG1ldGhvZCA9IC0xOwoKICBpZigodXJpID0gbWlubmV0X3VyaV9hbmRfbWV0aG9kKHdzaSwgY3R4LCAmbWV0aG9kKSkpIHsKICAgIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKICAgIHN0cnVjdCBsd3Nfdmhvc3QqIHZob3N0OwoKICAgIGlmKCh2aG9zdCA9IGx3c19nZXRfdmhvc3Qod3NpKSkpIHsKICAgICAgY29uc3QgY2hhciogbmFtZTsKCiAgICAgIGlmKChuYW1lID0gbHdzX2dldF92aG9zdF9uYW1lKHZob3N0KSkpCiAgICAgICAgdXJsX3BhcnNlKCZ1cmwsIG5hbWUsIGN0eCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbXVybChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdXJpKSB7CiAgTWlubmV0SHR0cE1ldGhvZCBtZXRob2QgPSBNRVRIT0RfR0VUOwogIE1pbm5ldFVSTCB1cmwgPSB1cmxfY3JlYXRlKHVyaSwgY3R4KTsKCiAgcmV0dXJuIHJlcXVlc3RfbmV3KGN0eCwgdXJsLCBtZXRob2QpOwp9Cgp2b2lkCnJlcXVlc3RfemVybyhNaW5uZXRSZXF1ZXN0KiByZXEpIHsKICBtZW1zZXQocmVxLCAwLCBzaXplb2YoTWlubmV0UmVxdWVzdCkpOwogIHJlcS0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVxLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKdm9pZApyZXF1ZXN0X2NsZWFyKE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVxLT51cmwsIGN0eCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVxLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlcXVlc3RfY2xlYXJfcnQoTWlubmV0UmVxdWVzdCogcmVxLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlcS0+dXJsLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlcS0+aGVhZGVycywgcnQpOwogIGJ1ZmZlcl9mcmVlKCZyZXEtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXF1ZXN0X2ZyZWUoTWlubmV0UmVxdWVzdCogcmVxLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcihyZXEsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVxKTsKICB9Cn0KCnZvaWQKcmVxdWVzdF9mcmVlX3J0KE1pbm5ldFJlcXVlc3QqIHJlcSwgSlNSdW50aW1lKiBydCkgewogIGlmKC0tcmVxLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVxdWVzdF9jbGVhcl9ydChyZXEsIHJ0KTsKICAgIGpzX2ZyZWVfcnQocnQsIHJlcSk7CiAgfQp9CgpzdGF0aWMgY29uc3QgY2hhcioKaGVhZGVyX2dldChKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBNaW5uZXRCdWZmZXIqIGJ1ZiwgY29uc3QgY2hhciogbmFtZSkgewogIHNpemVfdCBsZW4sIG5hbWVsZW4gPSBzdHJsZW4obmFtZSk7CiAgdWludDhfdCAqeCwgKmVuZDsKCiAgZm9yKHggPSBidWYtPnN0YXJ0LCBlbmQgPSBidWYtPndyaXRlOyB4IDwgZW5kOyB4ICs9IGxlbiArIDEpIHsKICAgIGxlbiA9IGJ5dGVfY2hyKHgsIGVuZCAtIHgsICdcbicpOwoKICAgIC8qICAgaWYobmFtZWxlbiA+PSBsZW4pCiAgICAgICAgIGNvbnRpbnVlOyovCiAgICBpZihieXRlX2Nocih4LCBsZW4sICc6JykgIT0gbmFtZWxlbiB8fCBzdHJuY2FzZWNtcChuYW1lLCAoY29uc3QgY2hhciopeCwgbmFtZWxlbikpCiAgICAgIGNvbnRpbnVlOwoKICAgIGlmKHhbbmFtZWxlbl0gPT0gJzonKQogICAgICBuYW1lbGVuKys7CiAgICBpZihpc3NwYWNlKHhbbmFtZWxlbl0pKQogICAgICBuYW1lbGVuKys7CgogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW4gLSBuYW1lbGVuOwogICAgcmV0dXJuIChjb25zdCBjaGFyKil4ICsgbmFtZWxlbjsKICB9CiAgcmV0dXJuIDA7Cn0KCk1pbm5ldFJlcXVlc3QqCnJlcXVlc3RfZnJvbShKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXF1ZXN0KiByZXEgPSAwOwogIE1pbm5ldFVSTCB1cmwgPSB7MCwgMCwgMCwgMH07CgogIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pICYmIChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKGFyZ3ZbMF0pKSkgewogICAgcmVxID0gcmVxdWVzdF9kdXAocmVxKTsKICB9IGVsc2UgewogICAgdXJsX2Zyb212YWx1ZSgmdXJsLCBhcmd2WzBdLCBjdHgpOwoKICAgIGlmKHVybF92YWxpZCh1cmwpKQogICAgICByZXEgPSByZXF1ZXN0X25ldyhjdHgsIHVybCwgTUVUSE9EX0dFVCk7CiAgfQoKICBpZihyZXEpCiAgICBpZihhcmdjID49IDIgJiYgSlNfSXNPYmplY3QoYXJndlsxXSkpIHsKICAgICAgSlNWYWx1ZSBoZWFkZXJzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcmd2WzFdLCAiaGVhZGVycyIpOwogICAgICBpZighSlNfSXNVbmRlZmluZWQoaGVhZGVycykpCiAgICAgICAgaGVhZGVyc19mcm9tb2JqKCZyZXEtPmhlYWRlcnMsIGhlYWRlcnMsIGN0eCk7CgogICAgICBKU19GcmVlVmFsdWUoY3R4LCBoZWFkZXJzKTsKICAgIH0KCiAgcmV0dXJuIHJlcTsKfQoKSlNWYWx1ZQptaW5uZXRfcmVxdWVzdF9mcm9tKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKCiAgLyogaWYoSlNfSXNPYmplY3QoYXJndlswXSkgJiYgKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEoYXJndlswXSkpKQogICAgIHJlcSA9IHJlcXVlc3RfZHVwKHJlcSk7CiAgIGVsc2UqLwogIHJlcSA9IHJlcXVlc3RfZnJvbShjdHgsIGFyZ2MsIGFyZ3YpOwoKICByZXR1cm4gbWlubmV0X3JlcXVlc3Rfd3JhcChjdHgsIHJlcSk7Cn0KCkpTVmFsdWUKbWlubmV0X3JlcXVlc3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIG9iajsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CiAgQk9PTCBnb3RfdXJsID0gRkFMU0U7CgogIGlmKCEocmVxID0gcmVxdWVzdF9hbGxvYyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgcHJvdG8gPSBKU19EdXBWYWx1ZShjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIEpTX1NldE9wYXF1ZShvYmosIHJlcSk7CgogIHdoaWxlKGFyZ2MgPiAwKSB7CgogICAgaWYoIWdvdF91cmwpIHsKICAgICAgLypnb3RfdXJsID0gKi8gdXJsX2Zyb212YWx1ZSgmcmVxLT51cmwsIGFyZ3ZbMF0sIGN0eCk7CgogICAgfSBlbHNlIGlmKEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndlswXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgIH0KCiAgICBhcmdjLS07CiAgICBhcmd2Kys7CiAgfQoKICByZXEtPnJlYWRfb25seSA9IFRSVUU7CiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlcSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgZW51bSBodHRwX21ldGhvZCBtZXRob2QpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKCEocmVxID0gcmVxdWVzdF9uZXcoY3R4LCB1cmwsIG1ldGhvZCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXF1ZXN0X3dyYXAoY3R4LCByZXEpOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlcXVlc3QqIHJlcSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1pbm5ldF9yZXF1ZXN0X3Byb3RvLCBtaW5uZXRfcmVxdWVzdF9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXF1ZXN0X2R1cChyZXEpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3JlcXVlc3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVRVUVTVF9NRVRIT0Q6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbWV0aG9kX25hbWUocmVxLT5tZXRob2QpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVFlQRTogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHJlcS0+bWV0aG9kKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVxLT51cmwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIHJldCA9IHJlcS0+dXJsLnBhdGggPyBKU19OZXdTdHJpbmcoY3R4LCByZXEtPnVybC5wYXRoKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVxLT5oZWFkZXJzLnN0YXJ0LCAmcmVxLT5oZWFkZXJzLndyaXRlKTsKICAgICAgLy8gcmV0ID0gYnVmZmVyX3Rvc3RyaW5nKCZyZXEtPmhlYWRlcnMsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJldCA9IGJ1ZmZlcl9IRUFEKCZyZXEtPmJvZHkpID8gYnVmZmVyX3RvYXJyYXlidWZmZXIoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX1RFWFQ6IHsKICAgICAgcmV0ID0gYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkgPyBidWZmZXJfdG9zdHJpbmcoJnJlcS0+Ym9keSwgY3R4KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0JPRFk6IHsKICAgICAgaWYoYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpIHsKICAgICAgICBzaXplX3QgdHlwZWxlbjsKICAgICAgICBjb25zdCBjaGFyKiB0eXBlID0gaGVhZGVyX2dldChjdHgsICZ0eXBlbGVuLCAmcmVxLT5oZWFkZXJzLCAiY29udGVudC10eXBlIik7CgogICAgICAgIHJldCA9IGJ1ZmZlcl90b3N0cmluZygmcmVxLT5ib2R5LCBjdHgpOwogICAgICAgIC8vICByZXQgPSBtaW5uZXRfcmluZ2J1ZmZlcl9uZXcoY3R4LCB0eXBlLCB0eXBlbGVuLCBibG9ja19CRUdJTigmcmVxLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlcS0+Ym9keSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXF1ZXN0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlcXVlc3QqIHJlcTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlcSA9IG1pbm5ldF9yZXF1ZXN0X2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKHJlcS0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVxdWVzdCBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFUVVFU1RfTUVUSE9EOgogICAgY2FzZSBSRVFVRVNUX1RZUEU6IHsKICAgICAgaW50MzJfdCBtID0gLTE7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm0sIHZhbHVlKTsKICAgICAgZWxzZQogICAgICAgIG0gPSBtZXRob2RfbnVtYmVyKHN0cik7CiAgICAgIGlmKG0gPj0gMCAmJiBtZXRob2Rfc3RyaW5nKG0pKQogICAgICAgIHJlcS0+bWV0aG9kID0gbTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFUVVFU1RfVVJJOiB7CiAgICAgIHVybF9mcmVlKCZyZXEtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXEtPnVybCwgc3RyLCBjdHgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVRVUVTVF9QQVRIOiB7CiAgICAgIGlmKHJlcS0+dXJsLnBhdGgpIHsKICAgICAgICBqc19mcmVlKGN0eCwgcmVxLT51cmwucGF0aCk7CiAgICAgICAgcmVxLT51cmwucGF0aCA9IDA7CiAgICAgIH0KICAgICAgcmVxLT51cmwucGF0aCA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVFVRVNUX0hFQURFUlM6IHsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIGhlYWRlcnNfZnJvbW9iaigmcmVxLT5oZWFkZXJzLCB2YWx1ZSwgY3R4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJDYW5ub3Qgc2V0IGhlYWRlcnMgdG8gJyVzJyIsIHN0cik7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZAptaW5uZXRfcmVxdWVzdF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXF1ZXN0KiByZXE7CgogIGlmKChyZXEgPSBtaW5uZXRfcmVxdWVzdF9kYXRhKHZhbCkpKQogICAgcmVxdWVzdF9mcmVlX3J0KHJlcSwgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXF1ZXN0X2NsYXNzID0gewogICAgIk1pbm5ldFJlcXVlc3QiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXF1ZXN0X2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXF1ZXN0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1RZUEUsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm1ldGhvZCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX01FVEhPRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9VUkksIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigicGF0aCIsIG1pbm5ldF9yZXF1ZXN0X2dldCwgbWlubmV0X3JlcXVlc3Rfc2V0LCBSRVFVRVNUX1BBVEgsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIG1pbm5ldF9yZXF1ZXN0X3NldCwgUkVRVUVTVF9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImFycmF5QnVmZmVyIiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX0FSUkFZQlVGRkVSLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ0ZXh0IiwgbWlubmV0X3JlcXVlc3RfZ2V0LCAwLCBSRVFVRVNUX1RFWFQsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImJvZHkiLCBtaW5uZXRfcmVxdWVzdF9nZXQsIDAsIFJFUVVFU1RfQk9EWSwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlcXVlc3QiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBzaXplX3QgbWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3JlcXVlc3RfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAHgsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQ0AAAAAAAB1DQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "jsutils.c",
			"settings":
			{
				"buffer_size": 14108,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3114,
					1,
					"cut",
					null,
					"AQAAAGEeAAAAAAAAYR4AAAAAAAD9AQAACnN0cnVjdCBUaW1lckNsb3N1cmUqCmpzX3RpbWVyX2ludGVydmFsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZm4sIHVpbnQzMl90IG1zKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIGNhbGxiYWNrLCBpZF92YWx1ZTsKCiAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKHN0cnVjdCBUaW1lckNsb3N1cmUpKSkpCiAgICByZXR1cm4gMDsKCiAgY2xvc3VyZS0+Y3R4ID0gY3R4OwogIGNsb3N1cmUtPmludGVydmFsID0gbXM7CiAgY2xvc3VyZS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgZm4pOwoKICBjYWxsYmFjayA9IEpTX05ld0NDbG9zdXJlKGN0eCwganNfdGltZXJfY2FsbGJhY2ssIDAsIDAsIGNsb3N1cmUsIGpzX3RpbWVyX2ZyZWUpOwoKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGN0eCwgY2FsbGJhY2ssIG1zKTsKICBjbG9zdXJlLT5jYWxsYmFjayA9IGNhbGxiYWNrOwoKICByZXR1cm4gY2xvc3VyZTsKfQo",
					"AQAAAAAAAAABAAAAYR4AAAAAAABeIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3115,
					2,
					"paste",
					null,
					"AgAAAGEeAAAAAAAAXiAAAAAAAAAAAAAAXiAAAAAAAABbIgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYR4AAAAAAABhHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3118,
					1,
					"insert",
					{
						"characters": "resarte"
					},
					"CAAAAH0gAAAAAAAAfiAAAAAAAAAAAAAAfiAAAAAAAAB+IAAAAAAAAAgAAABpbnRlcnZhbH4gAAAAAAAAfyAAAAAAAAAAAAAAfyAAAAAAAACAIAAAAAAAAAAAAACAIAAAAAAAAIEgAAAAAAAAAAAAAIEgAAAAAAAAgiAAAAAAAAAAAAAAgiAAAAAAAACDIAAAAAAAAAAAAACDIAAAAAAAAIQgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfSAAAAAAAACFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3119,
					4,
					"left_delete",
					null,
					"BAAAAIMgAAAAAAAAgyAAAAAAAAABAAAAZYIgAAAAAAAAgiAAAAAAAAABAAAAdIEgAAAAAAAAgSAAAAAAAAABAAAAcoAgAAAAAAAAgCAAAAAAAAABAAAAYQ",
					"AQAAAAAAAAABAAAAhCAAAAAAAACEIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3120,
					1,
					"insert",
					{
						"characters": "tart"
					},
					"BAAAAIAgAAAAAAAAgSAAAAAAAAAAAAAAgSAAAAAAAACCIAAAAAAAAAAAAACCIAAAAAAAAIMgAAAAAAAAAAAAAIMgAAAAAAAAhCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgCAAAAAAAACAIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3123,
					1,
					"insert",
					{
						"characters": "J"
					},
					"AQAAAIUgAAAAAAAAhiAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSAAAAAAAACFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3124,
					1,
					"left_delete",
					null,
					"AQAAAIUgAAAAAAAAhSAAAAAAAAABAAAASg",
					"AQAAAAAAAAABAAAAhiAAAAAAAACGIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3125,
					1,
					"insert",
					{
						"characters": "struct"
					},
					"BgAAAIUgAAAAAAAAhiAAAAAAAAAAAAAAhiAAAAAAAACHIAAAAAAAAAAAAACHIAAAAAAAAIggAAAAAAAAAAAAAIggAAAAAAAAiSAAAAAAAAAAAAAAiSAAAAAAAACKIAAAAAAAAAAAAACKIAAAAAAAAIsgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSAAAAAAAACFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3126,
					1,
					"insert",
					{
						"characters": " TimerClosure*"
					},
					"DgAAAIsgAAAAAAAAjCAAAAAAAAAAAAAAjCAAAAAAAACNIAAAAAAAAAAAAACNIAAAAAAAAI4gAAAAAAAAAAAAAI4gAAAAAAAAjyAAAAAAAAAAAAAAjyAAAAAAAACQIAAAAAAAAAAAAACQIAAAAAAAAJEgAAAAAAAAAAAAAJEgAAAAAAAAkiAAAAAAAAAAAAAAkiAAAAAAAACTIAAAAAAAAAAAAACTIAAAAAAAAJQgAAAAAAAAAAAAAJQgAAAAAAAAlSAAAAAAAAAAAAAAlSAAAAAAAACWIAAAAAAAAAAAAACWIAAAAAAAAJcgAAAAAAAAAAAAAJcgAAAAAAAAmCAAAAAAAAAAAAAAmCAAAAAAAACZIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiyAAAAAAAACLIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3129,
					1,
					"insert",
					{
						"characters": " closure"
					},
					"CQAAAJkgAAAAAAAAmiAAAAAAAAAAAAAAmiAAAAAAAACaIAAAAAAAACwAAABKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtc5ogAAAAAAAAmyAAAAAAAAAAAAAAmyAAAAAAAACcIAAAAAAAAAAAAACcIAAAAAAAAJ0gAAAAAAAAAAAAAJ0gAAAAAAAAniAAAAAAAAAAAAAAniAAAAAAAACfIAAAAAAAAAAAAACfIAAAAAAAAKAgAAAAAAAAAAAAAKAgAAAAAAAAoSAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmSAAAAAAAADFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3133,
					1,
					"left_delete",
					null,
					"AQAAAF8gAAAAAAAAXyAAAAAAAAAVAAAAc3RydWN0IFRpbWVyQ2xvc3VyZSoK",
					"AQAAAAAAAAABAAAAXyAAAAAAAAB0IAAAAAAAAAAAAAAAAAAA"
				],
				[
					3135,
					1,
					"insert",
					{
						"characters": "\nvoid"
					},
					"BQAAAF4gAAAAAAAAXyAAAAAAAAAAAAAAXyAAAAAAAABgIAAAAAAAAAAAAABgIAAAAAAAAGEgAAAAAAAAAAAAAGEgAAAAAAAAYiAAAAAAAAAAAAAAYiAAAAAAAABjIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXiAAAAAAAABeIAAAAAAAAAAAAAAAAAAA"
				],
				[
					3142,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJQgAAAAAAAAlSAAAAAAAAAAAAAAlSAAAAAAAACXIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlCAAAAAAAACUIAAAAAAAAP///////+9/"
				],
				[
					3143,
					1,
					"insert",
					{
						"characters": "js_timer_cancel"
					},
					"DwAAAJcgAAAAAAAAmCAAAAAAAAAAAAAAmCAAAAAAAACZIAAAAAAAAAAAAACZIAAAAAAAAJogAAAAAAAAAAAAAJogAAAAAAAAmyAAAAAAAAAAAAAAmyAAAAAAAACcIAAAAAAAAAAAAACcIAAAAAAAAJ0gAAAAAAAAAAAAAJ0gAAAAAAAAniAAAAAAAAAAAAAAniAAAAAAAACfIAAAAAAAAAAAAACfIAAAAAAAAKAgAAAAAAAAAAAAAKAgAAAAAAAAoSAAAAAAAAAAAAAAoSAAAAAAAACiIAAAAAAAAAAAAACiIAAAAAAAAKMgAAAAAAAAAAAAAKMgAAAAAAAApCAAAAAAAAAAAAAApCAAAAAAAAClIAAAAAAAAAAAAAClIAAAAAAAAKYgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlyAAAAAAAACXIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3144,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAKYgAAAAAAAAqCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApiAAAAAAAACmIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3145,
					1,
					"insert",
					{
						"characters": "closure->ctx,"
					},
					"DQAAAKcgAAAAAAAAqCAAAAAAAAAAAAAAqCAAAAAAAACpIAAAAAAAAAAAAACpIAAAAAAAAKogAAAAAAAAAAAAAKogAAAAAAAAqyAAAAAAAAAAAAAAqyAAAAAAAACsIAAAAAAAAAAAAACsIAAAAAAAAK0gAAAAAAAAAAAAAK0gAAAAAAAAriAAAAAAAAAAAAAAriAAAAAAAACvIAAAAAAAAAAAAACvIAAAAAAAALAgAAAAAAAAAAAAALAgAAAAAAAAsSAAAAAAAAAAAAAAsSAAAAAAAACyIAAAAAAAAAAAAACyIAAAAAAAALMgAAAAAAAAAAAAALMgAAAAAAAAtCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApyAAAAAAAACnIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3146,
					1,
					"insert",
					{
						"characters": " closure->id"
					},
					"DAAAALQgAAAAAAAAtSAAAAAAAAAAAAAAtSAAAAAAAAC2IAAAAAAAAAAAAAC2IAAAAAAAALcgAAAAAAAAAAAAALcgAAAAAAAAuCAAAAAAAAAAAAAAuCAAAAAAAAC5IAAAAAAAAAAAAAC5IAAAAAAAALogAAAAAAAAAAAAALogAAAAAAAAuyAAAAAAAAAAAAAAuyAAAAAAAAC8IAAAAAAAAAAAAAC8IAAAAAAAAL0gAAAAAAAAAAAAAL0gAAAAAAAAviAAAAAAAAAAAAAAviAAAAAAAAC/IAAAAAAAAAAAAAC/IAAAAAAAAMAgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtCAAAAAAAAC0IAAAAAAAAAAAAAAAAPC/"
				],
				[
					3148,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAMEgAAAAAAAAwiAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwSAAAAAAAADBIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3149,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAMIgAAAAAAAAwyAAAAAAAAAAAAAAwyAAAAAAAADFIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwiAAAAAAAADCIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3152,
					1,
					"insert",
					{
						"characters": "closure"
					},
					"BwAAAMUgAAAAAAAAxiAAAAAAAAAAAAAAxiAAAAAAAADHIAAAAAAAAAAAAADHIAAAAAAAAMggAAAAAAAAAAAAAMggAAAAAAAAySAAAAAAAAAAAAAAySAAAAAAAADKIAAAAAAAAAAAAADKIAAAAAAAAMsgAAAAAAAAAAAAAMsgAAAAAAAAzCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxSAAAAAAAADFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3153,
					7,
					"left_delete",
					null,
					"BwAAAMsgAAAAAAAAyyAAAAAAAAABAAAAZcogAAAAAAAAyiAAAAAAAAABAAAAcskgAAAAAAAAySAAAAAAAAABAAAAdcggAAAAAAAAyCAAAAAAAAABAAAAc8cgAAAAAAAAxyAAAAAAAAABAAAAb8YgAAAAAAAAxiAAAAAAAAABAAAAbMUgAAAAAAAAxSAAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAAzCAAAAAAAADMIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3154,
					1,
					"insert",
					{
						"characters": "JS_FreeValue"
					},
					"DAAAAMUgAAAAAAAAxiAAAAAAAAAAAAAAxiAAAAAAAADHIAAAAAAAAAAAAADHIAAAAAAAAMggAAAAAAAAAAAAAMggAAAAAAAAySAAAAAAAAAAAAAAySAAAAAAAADKIAAAAAAAAAAAAADKIAAAAAAAAMsgAAAAAAAAAAAAAMsgAAAAAAAAzCAAAAAAAAAAAAAAzCAAAAAAAADNIAAAAAAAAAAAAADNIAAAAAAAAM4gAAAAAAAAAAAAAM4gAAAAAAAAzyAAAAAAAAAAAAAAzyAAAAAAAADQIAAAAAAAAAAAAADQIAAAAAAAANEgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxSAAAAAAAADFIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3155,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAANEgAAAAAAAA0yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0SAAAAAAAADRIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3156,
					1,
					"insert",
					{
						"characters": "ctx"
					},
					"AwAAANIgAAAAAAAA0yAAAAAAAAAAAAAA0yAAAAAAAADUIAAAAAAAAAAAAADUIAAAAAAAANUgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0iAAAAAAAADSIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3157,
					3,
					"left_delete",
					null,
					"AwAAANQgAAAAAAAA1CAAAAAAAAABAAAAeNMgAAAAAAAA0yAAAAAAAAABAAAAdNIgAAAAAAAA0iAAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAA1SAAAAAAAADVIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3158,
					1,
					"insert",
					{
						"characters": "closure->ctx,"
					},
					"DQAAANIgAAAAAAAA0yAAAAAAAAAAAAAA0yAAAAAAAADUIAAAAAAAAAAAAADUIAAAAAAAANUgAAAAAAAAAAAAANUgAAAAAAAA1iAAAAAAAAAAAAAA1iAAAAAAAADXIAAAAAAAAAAAAADXIAAAAAAAANggAAAAAAAAAAAAANggAAAAAAAA2SAAAAAAAAAAAAAA2SAAAAAAAADaIAAAAAAAAAAAAADaIAAAAAAAANsgAAAAAAAAAAAAANsgAAAAAAAA3CAAAAAAAAAAAAAA3CAAAAAAAADdIAAAAAAAAAAAAADdIAAAAAAAAN4gAAAAAAAAAAAAAN4gAAAAAAAA3yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0iAAAAAAAADSIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3159,
					1,
					"insert",
					{
						"characters": " closure->id"
					},
					"DAAAAN8gAAAAAAAA4CAAAAAAAAAAAAAA4CAAAAAAAADhIAAAAAAAAAAAAADhIAAAAAAAAOIgAAAAAAAAAAAAAOIgAAAAAAAA4yAAAAAAAAAAAAAA4yAAAAAAAADkIAAAAAAAAAAAAADkIAAAAAAAAOUgAAAAAAAAAAAAAOUgAAAAAAAA5iAAAAAAAAAAAAAA5iAAAAAAAADnIAAAAAAAAAAAAADnIAAAAAAAAOggAAAAAAAAAAAAAOggAAAAAAAA6SAAAAAAAAAAAAAA6SAAAAAAAADqIAAAAAAAAAAAAADqIAAAAAAAAOsgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3yAAAAAAAADfIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3161,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAOwgAAAAAAAA7SAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7CAAAAAAAADsIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3162,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAO0gAAAAAAAA7iAAAAAAAAAAAAAA7iAAAAAAAADwIAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7SAAAAAAAADtIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3172,
					1,
					"paste",
					null,
					"AQAAAPAgAAAAAAAAIyEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8CAAAAAAAADwIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3181,
					1,
					"insert",
					{
						"characters": "closure->"
					},
					"CQAAABQhAAAAAAAAFSEAAAAAAAAAAAAAFSEAAAAAAAAWIQAAAAAAAAAAAAAWIQAAAAAAABchAAAAAAAAAAAAABchAAAAAAAAGCEAAAAAAAAAAAAAGCEAAAAAAAAZIQAAAAAAAAAAAAAZIQAAAAAAABohAAAAAAAAAAAAABohAAAAAAAAGyEAAAAAAAAAAAAAGyEAAAAAAAAcIQAAAAAAAAAAAAAcIQAAAAAAAB0hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFCEAAAAAAAAUIQAAAAAAAAAAAAAAAPC/"
				],
				[
					3184,
					1,
					"insert",
					{
						"characters": "closure->"
					},
					"CQAAACchAAAAAAAAKCEAAAAAAAAAAAAAKCEAAAAAAAApIQAAAAAAAAAAAAApIQAAAAAAACohAAAAAAAAAAAAACohAAAAAAAAKyEAAAAAAAAAAAAAKyEAAAAAAAAsIQAAAAAAAAAAAAAsIQAAAAAAAC0hAAAAAAAAAAAAAC0hAAAAAAAALiEAAAAAAAAAAAAALiEAAAAAAAAvIQAAAAAAAAAAAAAvIQAAAAAAADAhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJyEAAAAAAAAnIQAAAAAAAAAAAAAAAPC/"
				],
				[
					3189,
					1,
					"insert",
					{
						"characters": "closure->"
					},
					"CQAAAA8hAAAAAAAAECEAAAAAAAAAAAAAECEAAAAAAAARIQAAAAAAAAAAAAARIQAAAAAAABIhAAAAAAAAAAAAABIhAAAAAAAAEyEAAAAAAAAAAAAAEyEAAAAAAAAUIQAAAAAAAAAAAAAUIQAAAAAAABUhAAAAAAAAAAAAABUhAAAAAAAAFiEAAAAAAAAAAAAAFiEAAAAAAAAXIQAAAAAAAAAAAAAXIQAAAAAAABghAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADyEAAAAAAAAPIQAAAAAAAAAAAAAAAPC/"
				],
				[
					3195,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAD0hAAAAAAAAPiEAAAAAAAAAAAAAPiEAAAAAAABCIQAAAAAAAAAAAABCIQAAAAAAAEMhAAAAAAAAAAAAAD4hAAAAAAAAPiEAAAAAAAAEAAAAICAgID4hAAAAAAAAQCEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPSEAAAAAAAA9IQAAAAAAAAAAAAAAAPC/"
				],
				[
					3199,
					1,
					"left_delete",
					null,
					"AQAAAEIhAAAAAAAAQiEAAAAAAACmAQAACiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZTsKICBKU1ZhbHVlIGNhbGxiYWNrLCBpZF92YWx1ZTsKCiAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKHN0cnVjdCBUaW1lckNsb3N1cmUpKSkpCiAgICByZXR1cm4gMDsKCiAgY2xvc3VyZS0+Y3R4ID0gY3R4OwogIGNsb3N1cmUtPmludGVydmFsID0gbXM7CiAgY2xvc3VyZS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgZm4pOwoKICBjYWxsYmFjayA9IEpTX05ld0NDbG9zdXJlKGN0eCwganNfdGltZXJfY2FsbGJhY2ssIDAsIDAsIGNsb3N1cmUsIGpzX3RpbWVyX2ZyZWUpOwoKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGN0eCwgY2FsbGJhY2ssIG1zKTsKICBjbG9zdXJlLT5jYWxsYmFjayA9IGNhbGxiYWNrOwoKICByZXR1cm4gY2xvc3VyZTsKfQo",
					"AQAAAAAAAAABAAAAQiEAAAAAAADoIgAAAAAAAAAAAAAAAAAA"
				],
				[
					3202,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABLNgAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgojaW5jbHVkZSAianN1dGlscy5oIgoKSlNWYWx1ZQp2ZWN0b3IyYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGFyZ3ZbaV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfY29uc29sZV9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIGNvbnNvbGUsIEpTVmFsdWUqIGNvbnNvbGVfbG9nKSB7CiAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAqY29uc29sZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiY29uc29sZSIpOwogICpjb25zb2xlX2xvZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgKmNvbnNvbGUsICJsb2ciKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUqIGZ1bmNfZGF0YSkgewogIEpTVmFsdWUgYXJnc1thcmdjICsgbWFnaWNdOwogIGludCBpLCBqOwogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIHRoaXNfdmFsLCBpLCBhcmdzKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCAxLCAmYXJnKTsKfQoKLypKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBEeW5CdWYgYjsKICBKU1ZhbHVlQ29uc3QgYXJnOwogIGRidWZfaW5pdDIoJmIsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKICB2YV9zdGFydChhcmdzLCBmdW5jKTsKICB3aGlsZSgoYXJnID0gdmFfYXJnKGFyZ3MsIEpTVmFsdWVDb25zdCkpKSB7IGRidWZfcHV0KCZiLCAmYXJnLCBzaXplb2YoSlNWYWx1ZUNvbnN0KSk7IH0KICB2YV9lbmQoYXJncyk7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCBiLnNpemUgLyBzaXplb2YoSlNWYWx1ZUNvbnN0KSwgKEpTVmFsdWVDb25zdCopYi5idWYpOwp9Ki8KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSogbmV4dCwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CgogIGlmKCFKU19Jc09iamVjdChvYmopKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QgKCVkKSBcIiVzXCIiLCBKU19WQUxVRV9HRVRfVEFHKG9iaiksIEpTX1RvQ1N0cmluZyhjdHgsIG9iaikpOwoKICBpZihKU19Jc09iamVjdCgqbmV4dCkgJiYgSlNfSXNGdW5jdGlvbihjdHgsICpuZXh0KSkgewogICAgZm4gPSAqbmV4dDsKICB9IGVsc2UgewogICAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc1VuZGVmaW5lZChmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QgZG9lcyBub3QgaGF2ZSAnbmV4dCcgbWV0aG9kIik7CgogICAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QubmV4dCBpcyBub3QgYSBmdW5jdGlvbiIpOwoKICAgICpuZXh0ID0gZm47CiAgfQoKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXN1bHQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKaW50CmpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGRzdCwgSlNWYWx1ZUNvbnN0IHNyYywgaW50IGZsYWdzKSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIHNyYywgZmxhZ3MpKQogICAgcmV0dXJuIC0xOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHNyYywgdGFiW2ldLmF0b20pOwogICAgSlNfU2V0UHJvcGVydHkoY3R4LCBkc3QsIHRhYltpXS5hdG9tLCB2YWx1ZSk7CiAgfQogIHJldHVybiBpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LCBKU0J1ZmZlciogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBidWYtPmRhdGEgPSAwOwogIGJ1Zi0+c2l6ZSA9IDA7CiAgYnVmLT5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgYnVmLT52YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBidWYtPmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmJ1Zi0+c2l6ZSwgdmFsdWUpOwogICAgYnVmLT52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigoYnVmLT5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmYnVmLT5zaXplLCB2YWx1ZSkpKSB7CiAgICBidWYtPnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQp9CgpKU0J1ZmZlcgpqc19idWZmZXJfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgcmV0LmZyZWUgPSAmanNfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigocmV0LmRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZyZXQuc2l6ZSwgdmFsdWUpKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl90byhKU0J1ZmZlciBidWYsIHZvaWQqKiBwcHRyLCBzaXplX3QqIHBsZW4pIHsKICBpZihwcHRyKQogICAgKnBwdHIgPSBidWYuZGF0YTsKICBpZihwbGVuKQogICAgKnBsZW4gPSBidWYuc2l6ZTsKfQoKdm9pZApqc19idWZmZXJfdG8zKEpTQnVmZmVyIGJ1ZiwgY29uc3QgY2hhcioqIHBzdHIsIHZvaWQqKiBwcHRyLCB1bnNpZ25lZCogcGxlbikgewogIGlmKCFKU19Jc1N0cmluZyhidWYudmFsdWUpKSB7CiAgICBzaXplX3QgbGVuID0gMDsKICAgIGpzX2J1ZmZlcl90byhidWYsIHBwdHIsICZsZW4pOwogICAgaWYocGxlbikKICAgICAgKnBsZW4gPSBsZW47CiAgfSBlbHNlCiAgICAqcHN0ciA9IChjb25zdCBjaGFyKilidWYuZGF0YTsKfQoKQk9PTApqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpKU0J1ZmZlcgpqc19idWZmZXJfY2xvbmUoY29uc3QgSlNCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIEpTQnVmZmVyIHJldDsKCiAganNfYnVmZmVyX2Zyb20oY3R4LCAmcmV0LCBpbi0+dmFsdWUpOwoKICAvKiAgcmV0LnNpemUgPSBpbi0+c2l6ZTsKICAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsqLwoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiBpbiwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiKEpTQnVmZmVyKXsgLmRhdGEgPSAlcCwgLnNpemUgPSAlenUsIC5mcmVlID0gJXAgfSIsIGluLT5kYXRhLCBpbi0+c2l6ZSwgaW4tPmZyZWUpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiBpbiwgSlNDb250ZXh0KiBjdHgpIHsKICBpZihpbi0+ZGF0YSkgewogICAgaW4tPmZyZWUoSlNfR2V0UnVudGltZShjdHgpLCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAiU3ltYm9sIik7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX29zKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKfQoKSlNWYWx1ZQpqc19vc19nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIG9zX29iaiA9IGpzX2dsb2JhbF9vcyhjdHgpOwogIEpTVmFsdWUgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvc19vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9zX29iaik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190aW1lcl9zdGFydChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIEpTVmFsdWUgc2V0X3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAic2V0VGltZW91dCIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge2ZuLCBKU19NS1ZBTChKU19UQUdfSU5ULCBtcyl9OwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF90aW1lb3V0LCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIEpTRnJlZVZhbHVlKGN0eCwgc2V0X3RpbWVvdXQpOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfdGltZXJfY2FuY2VsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGltZXIpIHsKICBKU1ZhbHVlIGNsZWFyX3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAiY2xlYXJUaW1lb3V0Iik7CiAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKGN0eCwgY2xlYXJfdGltZW91dCwgSlNfVU5ERUZJTkVELCAxLCAmdGltZXIpOwogIEpTRnJlZVZhbHVlKGN0eCwgY2xlYXJfdGltZW91dCk7CiAgSlNGcmVlVmFsdWUoY3R4LCByZXQpOwp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eDsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmhhbmRsZXIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmNhbGxiYWNrKTsKCiAganNfZnJlZShjdHgsIGNsb3N1cmUpOwp9CgpKU1ZhbHVlCmpzX3RpbWVyX2NhbGxiYWNrKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IG9wYXF1ZTsKICBKU1ZhbHVlIHJldDsKICByZXQgPSBKU19DYWxsKGN0eCwgY2xvc3VyZS0+aGFuZGxlciwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwogIAogIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmlkKTsKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGN0eCwgY2xvc3VyZS0+Y2FsbGJhY2ssIGNsb3N1cmUtPmludGVydmFsKTsKICAKICByZXR1cm4gcmV0Owp9CgpzdHJ1Y3QgVGltZXJDbG9zdXJlKgpqc190aW1lcl9pbnRlcnZhbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmU7CiAgSlNWYWx1ZSBjYWxsYmFjaywgaWRfdmFsdWU7CgogIGlmKCEoY2xvc3VyZSA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihzdHJ1Y3QgVGltZXJDbG9zdXJlKSkpKQogICAgcmV0dXJuIDA7CgogIGNsb3N1cmUtPmN0eCA9IGN0eDsKICBjbG9zdXJlLT5pbnRlcnZhbCA9IG1zOwogIGNsb3N1cmUtPmhhbmRsZXIgPSBKU19EdXBWYWx1ZShjdHgsIGZuKTsKCiAgY2FsbGJhY2sgPSBKU19OZXdDQ2xvc3VyZShjdHgsIGpzX3RpbWVyX2NhbGxiYWNrLCAwLCAwLCBjbG9zdXJlLCBqc190aW1lcl9mcmVlKTsKCiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNhbGxiYWNrLCBtcyk7CiAgY2xvc3VyZS0+Y2FsbGJhY2sgPSBjYWxsYmFjazsKCiAgcmV0dXJuIGNsb3N1cmU7Cn0KCnZvaWQKanNfdGltZXJfcmVzdGFydChzdHJ1Y3QgVGltZXJDbG9zdXJlKiBjbG9zdXJlKSB7CiAganNfdGltZXJfY2FuY2VsKGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+aWQpOwogIEpTX0ZyZWVWYWx1ZShjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmlkKTsKICAgIGNsb3N1cmUtPmlkID0ganNfdGltZXJfc3RhcnQoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5jYWxsYmFjaywgY2xvc3VyZS0+bXMpOwogIH0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgZnVuY3MtPmFycmF5WzBdID0gSlNfTlVMTDsKICBmdW5jcy0+YXJyYXlbMV0gPSBKU19OVUxMOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiBKU19Jc051bGwoZnVuY3MtPmFycmF5WzBdKSAmJiBKU19Jc051bGwoZnVuY3MtPmFycmF5WzFdKTsKfQoKdm9pZApqc19wcm9taXNlX2ZyZWUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY3MtPmFycmF5WzBdKTsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jcy0+YXJyYXlbMV0pOwogIGpzX3Jlc29sdmVfZnVuY3Rpb25zX3plcm8oZnVuY3MpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIGludCBpbmRleCwgSlNWYWx1ZUNvbnN0IGFyZykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGFzc2VydCghSlNfSXNOdWxsKGZ1bmNzLT5hcnJheVtpbmRleF0pKTsKICByZXQgPSBKU19DYWxsKGN0eCwgZnVuY3MtPmFycmF5W2luZGV4XSwgSlNfVU5ERUZJTkVELCAxLCAmYXJnKTsKICBqc19wcm9taXNlX2ZyZWUoY3R4LCBmdW5jcyk7CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfdG9zdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIHNpemVfdCogbGVucCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc2l6ZV90IGxlbjsKICBjb25zdCBjaGFyKiBjc3RyOwogIGNoYXIqIHJldCA9IDA7CiAgaWYoKGNzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJuZHVwKGN0eCwgY3N0ciwgbGVuKTsKICAgIGlmKGxlbnApCiAgICAgICpsZW5wID0gbGVuOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc190b3N0cmluZ2xlbihjdHgsIDAsIHZhbHVlKTsKfQoKSlNWYWx1ZQpqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTQXRvbSBhdG9tID0gSlNfTmV3QXRvbShjdHgsIG1ldGhvZCk7CiAgSlNWYWx1ZSByZXQgPSBKU19JbnZva2UoY3R4LCB0aGlzX29iaiwgYXRvbSwgYXJnYywgYXJndik7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcykgewogIEpTVmFsdWUgcmV0OwoKICByZXQgPSBKU19OZXdQcm9taXNlQ2FwYWJpbGl0eShjdHgsIGZ1bmNzLT5hcnJheSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChjdHgsIGZ1bmNzLCAwLCB2YWx1ZSk7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChjdHgsIGZ1bmNzLCAxLCB2YWx1ZSk7Cn0KCnZvaWQKanNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCkJPT0wKanNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqIGZ1bmNzKSB7CiAgcmV0dXJuICFqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKGZ1bmNzKTsKfQoKQk9PTApqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChmdW5jcyk7Cn0KCkJPT0wKanNfaXNfcHJvbWlzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBjdG9yOwogIEJPT0wgcmV0OwoKICBjdG9yID0ganNfZ2xvYmFsX2dldChjdHgsICJQcm9taXNlIik7CiAgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2Vycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogZm10LCAuLi4pIHsKICB2YV9saXN0IGFyZ3M7CiAgSlNWYWx1ZSBlcnIgPSBKU19OZXdFcnJvcihjdHgpOwogIGNoYXIgYnVmWzEwMjRdOwoKICB2YV9zdGFydChhcmdzLCBmbXQpOwogIHZzbnByaW50ZihidWYsIHNpemVvZihidWYpLCBmbXQsIGFyZ3MpOwogIHZhX2VuZChhcmdzKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfTmV3U3RyaW5nKGN0eCwgYnVmKSk7CiAgcmV0dXJuIGVycjsKfQoKdWludDhfdCoKanNfdG9wdHJzaXplKEpTQ29udGV4dCogY3R4LCB1bnNpZ25lZCBpbnQqIHBsZW4sIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHNpemVfdCBuID0gMDsKICB2b2lkICpyZXQgPSAwLCAqcHRyOwogIGlmKChwdHIgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZuLCB2YWx1ZSkpKSB7CiAgICBpZigocmV0ID0ganNfbWFsbG9jKGN0eCwgbikpKQogICAgICBtZW1jcHkocmV0LCBwdHIsIG4pOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBzdHIpIHsKICBCT09MIHJldCA9IEZBTFNFOwogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgc3RyKTsKICBpZighSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0ID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RydWN0IGxpc3RfaGVhZCoKanNfbW9kdWxlX2xpc3QoSlNDb250ZXh0KiBjdHgpIHsKICB2b2lkKiB0bXBfb3BhcXVlOwogIHB0cmRpZmZfdCBuZWVkbGU7CiAgdm9pZCoqIHB0cjsKICB0bXBfb3BhcXVlID0gSlNfR2V0Q29udGV4dE9wYXF1ZShjdHgpOwogIG1lbXNldCgmbmVlZGxlLCAweGE1LCBzaXplb2YobmVlZGxlKSk7CiAgSlNfU2V0Q29udGV4dE9wYXF1ZShjdHgsIG5lZWRsZSk7CgogIHB0ciA9IG1lbW1lbShjdHgsIDEwMjQsICZuZWVkbGUsIHNpemVvZihuZWVkbGUpKTsKICBwcmludGYoImN0eCA9ICVwXG4iLCBjdHgpOwogIHByaW50ZigiJm5lZWRsZSA9ICVwXG4iLCAmbmVlZGxlKTsKICBwcmludGYoInB0ciA9ICVwXG4iLCBwdHIpOwogIHByaW50ZigiY3R4LnVzZXJfb3BhcXVlID0gJTAxNnp4XG4iLCAoY2hhciopcHRyIC0gKGNoYXIqKWN0eCk7CiAgSlNfU2V0Q29udGV4dE9wYXF1ZShjdHgsIHRtcF9vcGFxdWUpOwoKICByZXR1cm4gKChzdHJ1Y3QgbGlzdF9oZWFkKikocHRyIC0gMikpIC0gMTsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9hdChKU0NvbnRleHQqIGN0eCwgaW50IGkpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkICplbCwgKmxpc3QgPSBqc19tb2R1bGVfbGlzdChjdHgpOwoKICBsaXN0X2Zvcl9lYWNoKGxpc3QsIGVsKSB7CiAgICBKU01vZHVsZURlZiogbW9kdWxlID0gKGNoYXIqKWVsIC0gc2l6ZW9mKEpTQXRvbSkgKiAyOwoKICAgIGlmKGktLSA9PSAwKQogICAgICByZXR1cm4gbW9kdWxlOwogIH0KICByZXR1cm4gMDsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9maW5kKEpTQ29udGV4dCogY3R4LCBKU0F0b20gbmFtZSkgewogIHN0cnVjdCBsaXN0X2hlYWQgKmVsLCAqbGlzdCA9IGpzX21vZHVsZV9saXN0KGN0eCk7CgogIGxpc3RfZm9yX2VhY2goZWwsIGxpc3QpIHsKICAgIEpTTW9kdWxlRGVmKiBtb2R1bGUgPSAoY2hhciopZWwgLSBzaXplb2YoSlNBdG9tKSAqIDI7CgogICAgaWYoKChKU0F0b20qKW1vZHVsZSlbMV0gPT0gbmFtZSkKICAgICAgcmV0dXJuIG1vZHVsZTsKICB9CiAgcmV0dXJuIDA7Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfZmluZF9zKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNBdG9tIGF0b207CiAgSlNNb2R1bGVEZWYqIG1vZHVsZTsKICBhdG9tID0gSlNfTmV3QXRvbShjdHgsIG5hbWUpOwogIG1vZHVsZSA9IGpzX21vZHVsZV9maW5kKGN0eCwgYXRvbSk7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gbW9kdWxlOwp9Cgp2b2lkKgpqc19tb2R1bGVfZXhwb3J0X2ZpbmQoSlNNb2R1bGVEZWYqIG1vZHVsZSwgSlNBdG9tIG5hbWUpIHsKICB2b2lkKiBleHBvcnRfZW50cmllcyA9ICoodm9pZCoqKSgoY2hhciopbW9kdWxlICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHN0cnVjdCBsaXN0X2hlYWQpICsgc2l6ZW9mKHZvaWQqKSArIHNpemVvZihpbnQpICogMik7CiAgaW50IGV4cG9ydF9lbnRyaWVzX2NvdW50ID0gKihpbnQqKSgoY2hhciopbW9kdWxlICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHN0cnVjdCBsaXN0X2hlYWQpICsgc2l6ZW9mKHZvaWQqKSArIHNpemVvZihpbnQpICogMiArIHNpemVvZih2b2lkKikpOwogIHN0YXRpYyBjb25zdCBzaXplX3QgZXhwb3J0X2VudHJ5X3NpemUgPSBzaXplb2Yodm9pZCopICogMiArIHNpemVvZihpbnQpICogMjsKICBzaXplX3QgaTsKCiAgZm9yKGkgPSAwOyBpIDwgZXhwb3J0X2VudHJpZXNfY291bnQ7IGkrKykgewogICAgdm9pZCogZW50cnkgPSAoY2hhciopZXhwb3J0X2VudHJpZXMgKyBleHBvcnRfZW50cnlfc2l6ZSAqIGk7CgogICAgSlNBdG9tKiBleHBvcnRfbmFtZSA9IChjaGFyKillbnRyeSArIHNpemVvZih2b2lkKikgKiAyICsgc2l6ZW9mKGludCkgKiAyOwoKICAgIGlmKCpleHBvcnRfbmFtZSA9PSBuYW1lKQogICAgICByZXR1cm4gZW50cnk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQpqc19tb2R1bGVfaW1wb3J0X21ldGEoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKG0gPSBqc19tb2R1bGVfbG9hZGVyKGN0eCwgbmFtZSwgMCkpKSB7CiAgICByZXQgPSBKU19HZXRJbXBvcnRNZXRhKGN0eCwgbSk7CiAgfQogIHJldHVybiByZXQ7Cn0KAAAAAAAAAABDNgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQiEAAAAAAABCIQAAAAAAAAAAAAAAAPC/"
				],
				[
					3217,
					2,
					"left_delete",
					null,
					"AgAAADQhAAAAAAAANCEAAAAAAAABAAAAczMhAAAAAAAAMyEAAAAAAAABAAAAbQ",
					"AQAAAAAAAAABAAAANSEAAAAAAAA1IQAAAAAAAAAAAAAAAPC/"
				],
				[
					3218,
					1,
					"insert",
					{
						"characters": "interval"
					},
					"CAAAADMhAAAAAAAANCEAAAAAAAAAAAAANCEAAAAAAAA1IQAAAAAAAAAAAAA1IQAAAAAAADYhAAAAAAAAAAAAADYhAAAAAAAANyEAAAAAAAAAAAAANyEAAAAAAAA4IQAAAAAAAAAAAAA4IQAAAAAAADkhAAAAAAAAAAAAADkhAAAAAAAAOiEAAAAAAAAAAAAAOiEAAAAAAAA7IQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMyEAAAAAAAAzIQAAAAAAAAAAAAAAAPC/"
				],
				[
					3240,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAANUeAAAAAAAA1h4AAAAAAAAAAAAA1h4AAAAAAADWHgAAAAAAAB4AAAAgIEpTVmFsdWUgY2FsbGJhY2ssIGlkX3ZhbHVlOwo",
					"AQAAAAAAAAABAAAA1R4AAAAAAADzHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3264,
					1,
					"paste",
					null,
					"AQAAAIIfAAAAAAAAix8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgh8AAAAAAACCHwAAAAAAAAAAAAAAAPC/"
				],
				[
					3271,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAABEgAAAAAAAAEiAAAAAAAAAAAAAAEiAAAAAAAAASIAAAAAAAACAAAAAgIGNsb3N1cmUtPmNhbGxiYWNrID0gY2FsbGJhY2s7Cg",
					"AQAAAAAAAAABAAAAESAAAAAAAAAxIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3276,
					1,
					"delete_blank_lines",
					{
						"surplus": false
					},
					"AQAAAIAfAAAAAAAA2x8AAAAAAABdAAAACiBjbG9zdXJlLT4gY2FsbGJhY2sgPSBKU19OZXdDQ2xvc3VyZShjdHgsIGpzX3RpbWVyX2NhbGxiYWNrLCAwLCAwLCBjbG9zdXJlLCBqc190aW1lcl9mcmVlKTsK",
					"AQAAAAAAAAABAAAAgB8AAAAAAADdHwAAAAAAAAAAAAAAAPC/"
				],
				[
					3285,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAUNgAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgojaW5jbHVkZSAianN1dGlscy5oIgoKSlNWYWx1ZQp2ZWN0b3IyYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGFyZ3ZbaV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfY29uc29sZV9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIGNvbnNvbGUsIEpTVmFsdWUqIGNvbnNvbGVfbG9nKSB7CiAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAqY29uc29sZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiY29uc29sZSIpOwogICpjb25zb2xlX2xvZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgKmNvbnNvbGUsICJsb2ciKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUqIGZ1bmNfZGF0YSkgewogIEpTVmFsdWUgYXJnc1thcmdjICsgbWFnaWNdOwogIGludCBpLCBqOwogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIHRoaXNfdmFsLCBpLCBhcmdzKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCAxLCAmYXJnKTsKfQoKLypKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBEeW5CdWYgYjsKICBKU1ZhbHVlQ29uc3QgYXJnOwogIGRidWZfaW5pdDIoJmIsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKICB2YV9zdGFydChhcmdzLCBmdW5jKTsKICB3aGlsZSgoYXJnID0gdmFfYXJnKGFyZ3MsIEpTVmFsdWVDb25zdCkpKSB7IGRidWZfcHV0KCZiLCAmYXJnLCBzaXplb2YoSlNWYWx1ZUNvbnN0KSk7IH0KICB2YV9lbmQoYXJncyk7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCBiLnNpemUgLyBzaXplb2YoSlNWYWx1ZUNvbnN0KSwgKEpTVmFsdWVDb25zdCopYi5idWYpOwp9Ki8KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSogbmV4dCwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CgogIGlmKCFKU19Jc09iamVjdChvYmopKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QgKCVkKSBcIiVzXCIiLCBKU19WQUxVRV9HRVRfVEFHKG9iaiksIEpTX1RvQ1N0cmluZyhjdHgsIG9iaikpOwoKICBpZihKU19Jc09iamVjdCgqbmV4dCkgJiYgSlNfSXNGdW5jdGlvbihjdHgsICpuZXh0KSkgewogICAgZm4gPSAqbmV4dDsKICB9IGVsc2UgewogICAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc1VuZGVmaW5lZChmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QgZG9lcyBub3QgaGF2ZSAnbmV4dCcgbWV0aG9kIik7CgogICAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QubmV4dCBpcyBub3QgYSBmdW5jdGlvbiIpOwoKICAgICpuZXh0ID0gZm47CiAgfQoKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXN1bHQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKaW50CmpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGRzdCwgSlNWYWx1ZUNvbnN0IHNyYywgaW50IGZsYWdzKSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIHNyYywgZmxhZ3MpKQogICAgcmV0dXJuIC0xOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHNyYywgdGFiW2ldLmF0b20pOwogICAgSlNfU2V0UHJvcGVydHkoY3R4LCBkc3QsIHRhYltpXS5hdG9tLCB2YWx1ZSk7CiAgfQogIHJldHVybiBpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LCBKU0J1ZmZlciogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBidWYtPmRhdGEgPSAwOwogIGJ1Zi0+c2l6ZSA9IDA7CiAgYnVmLT5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgYnVmLT52YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBidWYtPmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmJ1Zi0+c2l6ZSwgdmFsdWUpOwogICAgYnVmLT52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigoYnVmLT5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmYnVmLT5zaXplLCB2YWx1ZSkpKSB7CiAgICBidWYtPnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQp9CgpKU0J1ZmZlcgpqc19idWZmZXJfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgcmV0LmZyZWUgPSAmanNfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigocmV0LmRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZyZXQuc2l6ZSwgdmFsdWUpKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl90byhKU0J1ZmZlciBidWYsIHZvaWQqKiBwcHRyLCBzaXplX3QqIHBsZW4pIHsKICBpZihwcHRyKQogICAgKnBwdHIgPSBidWYuZGF0YTsKICBpZihwbGVuKQogICAgKnBsZW4gPSBidWYuc2l6ZTsKfQoKdm9pZApqc19idWZmZXJfdG8zKEpTQnVmZmVyIGJ1ZiwgY29uc3QgY2hhcioqIHBzdHIsIHZvaWQqKiBwcHRyLCB1bnNpZ25lZCogcGxlbikgewogIGlmKCFKU19Jc1N0cmluZyhidWYudmFsdWUpKSB7CiAgICBzaXplX3QgbGVuID0gMDsKICAgIGpzX2J1ZmZlcl90byhidWYsIHBwdHIsICZsZW4pOwogICAgaWYocGxlbikKICAgICAgKnBsZW4gPSBsZW47CiAgfSBlbHNlCiAgICAqcHN0ciA9IChjb25zdCBjaGFyKilidWYuZGF0YTsKfQoKQk9PTApqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpKU0J1ZmZlcgpqc19idWZmZXJfY2xvbmUoY29uc3QgSlNCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIEpTQnVmZmVyIHJldDsKCiAganNfYnVmZmVyX2Zyb20oY3R4LCAmcmV0LCBpbi0+dmFsdWUpOwoKICAvKiAgcmV0LnNpemUgPSBpbi0+c2l6ZTsKICAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsqLwoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiBpbiwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiKEpTQnVmZmVyKXsgLmRhdGEgPSAlcCwgLnNpemUgPSAlenUsIC5mcmVlID0gJXAgfSIsIGluLT5kYXRhLCBpbi0+c2l6ZSwgaW4tPmZyZWUpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiBpbiwgSlNDb250ZXh0KiBjdHgpIHsKICBpZihpbi0+ZGF0YSkgewogICAgaW4tPmZyZWUoSlNfR2V0UnVudGltZShjdHgpLCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAiU3ltYm9sIik7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX29zKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKfQoKSlNWYWx1ZQpqc19vc19nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIG9zX29iaiA9IGpzX2dsb2JhbF9vcyhjdHgpOwogIEpTVmFsdWUgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvc19vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9zX29iaik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190aW1lcl9zdGFydChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIEpTVmFsdWUgc2V0X3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAic2V0VGltZW91dCIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge2ZuLCBKU19NS1ZBTChKU19UQUdfSU5ULCBtcyl9OwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF90aW1lb3V0LCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIEpTRnJlZVZhbHVlKGN0eCwgc2V0X3RpbWVvdXQpOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfdGltZXJfY2FuY2VsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGltZXIpIHsKICBKU1ZhbHVlIGNsZWFyX3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAiY2xlYXJUaW1lb3V0Iik7CiAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKGN0eCwgY2xlYXJfdGltZW91dCwgSlNfVU5ERUZJTkVELCAxLCAmdGltZXIpOwogIEpTRnJlZVZhbHVlKGN0eCwgY2xlYXJfdGltZW91dCk7CiAgSlNGcmVlVmFsdWUoY3R4LCByZXQpOwp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eDsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmhhbmRsZXIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGNsb3N1cmUtPmNhbGxiYWNrKTsKCiAganNfZnJlZShjdHgsIGNsb3N1cmUpOwp9CgpKU1ZhbHVlCmpzX3RpbWVyX2NhbGxiYWNrKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYywgdm9pZCogb3BhcXVlKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IG9wYXF1ZTsKICBKU1ZhbHVlIHJldDsKICByZXQgPSBKU19DYWxsKGN0eCwgY2xvc3VyZS0+aGFuZGxlciwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5pZCk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBjbG9zdXJlLT5pbnRlcnZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBUaW1lckNsb3N1cmUqCmpzX3RpbWVyX2ludGVydmFsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZm4sIHVpbnQzMl90IG1zKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZTsKIAogIGlmKCEoY2xvc3VyZSA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihzdHJ1Y3QgVGltZXJDbG9zdXJlKSkpKQogICAgcmV0dXJuIDA7CgogIGNsb3N1cmUtPmN0eCA9IGN0eDsKICBjbG9zdXJlLT5pbnRlcnZhbCA9IG1zOwogIGNsb3N1cmUtPmhhbmRsZXIgPSBKU19EdXBWYWx1ZShjdHgsIGZuKTsKIGNsb3N1cmUtPiBjYWxsYmFjayA9IEpTX05ld0NDbG9zdXJlKGN0eCwganNfdGltZXJfY2FsbGJhY2ssIDAsIDAsIGNsb3N1cmUsIGpzX3RpbWVyX2ZyZWUpOwogIGNsb3N1cmUtPmlkID0ganNfdGltZXJfc3RhcnQoY3R4LCBjYWxsYmFjaywgbXMpOwogCiAgcmV0dXJuIGNsb3N1cmU7Cn0KCnZvaWQKanNfdGltZXJfcmVzdGFydChzdHJ1Y3QgVGltZXJDbG9zdXJlKiBjbG9zdXJlKSB7CiAganNfdGltZXJfY2FuY2VsKGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+aWQpOwogIEpTX0ZyZWVWYWx1ZShjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmlkKTsKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+Y2FsbGJhY2ssIGNsb3N1cmUtPmludGVydmFsKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3Jlc29sdmVfZnVuY3Rpb25zX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBmdW5jcy0+YXJyYXlbMF0gPSBKU19OVUxMOwogIGZ1bmNzLT5hcnJheVsxXSA9IEpTX05VTEw7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqIGZ1bmNzKSB7CiAgcmV0dXJuIEpTX0lzTnVsbChmdW5jcy0+YXJyYXlbMF0pICYmIEpTX0lzTnVsbChmdW5jcy0+YXJyYXlbMV0pOwp9Cgp2b2lkCmpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jcy0+YXJyYXlbMF0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNzLT5hcnJheVsxXSk7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcywgaW50IGluZGV4LCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYXNzZXJ0KCFKU19Jc051bGwoZnVuY3MtPmFycmF5W2luZGV4XSkpOwogIHJldCA9IEpTX0NhbGwoY3R4LCBmdW5jcy0+YXJyYXlbaW5kZXhdLCBKU19VTkRFRklORUQsIDEsICZhcmcpOwogIGpzX3Byb21pc2VfZnJlZShjdHgsIGZ1bmNzKTsKICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGNzdHIpOwogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpKU1ZhbHVlCmpzX2ludm9rZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLCBjb25zdCBjaGFyKiBtZXRob2QsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNBdG9tIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbWV0aG9kKTsKICBKU1ZhbHVlIHJldCA9IEpTX0ludm9rZShjdHgsIHRoaXNfb2JqLCBhdG9tLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9jcmVhdGUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNWYWx1ZSByZXQ7CgogIHJldCA9IEpTX05ld1Byb21pc2VDYXBhYmlsaXR5KGN0eCwgZnVuY3MtPmFycmF5KTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfcmVzb2x2ZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDAsIHZhbHVlKTsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDEsIHZhbHVlKTsKfQoKdm9pZApqc19wcm9taXNlX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKGZ1bmNzKTsKfQoKQk9PTApqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4gIWpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwoZnVuY3MpOwp9CgpCT09MCmpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKGZ1bmNzKTsKfQoKQk9PTApqc19pc19wcm9taXNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3I7CiAgQk9PTCByZXQ7CgogIGN0b3IgPSBqc19nbG9iYWxfZ2V0KGN0eCwgIlByb21pc2UiKTsKICByZXQgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCB2YWx1ZSwgY3Rvcik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZXJyb3JfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBmbXQsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBKU1ZhbHVlIGVyciA9IEpTX05ld0Vycm9yKGN0eCk7CiAgY2hhciBidWZbMTAyNF07CgogIHZhX3N0YXJ0KGFyZ3MsIGZtdCk7CiAgdnNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksIGZtdCwgYXJncyk7CiAgdmFfZW5kKGFyZ3MpOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVyciwgIm1lc3NhZ2UiLCBKU19OZXdTdHJpbmcoY3R4LCBidWYpKTsKICByZXR1cm4gZXJyOwp9Cgp1aW50OF90Kgpqc190b3B0cnNpemUoSlNDb250ZXh0KiBjdHgsIHVuc2lnbmVkIGludCogcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc2l6ZV90IG4gPSAwOwogIHZvaWQgKnJldCA9IDAsICpwdHI7CiAgaWYoKHB0ciA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJm4sIHZhbHVlKSkpIHsKICAgIGlmKChyZXQgPSBqc19tYWxsb2MoY3R4LCBuKSkpCiAgICAgIG1lbWNweShyZXQsIHB0ciwgbik7CiAgfQogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfZ2V0X3Byb3BlcnR5c3RyX2Jvb2woSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHN0cikgewogIEJPT0wgcmV0ID0gRkFMU0U7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBzdHIpOwogIGlmKCFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXQgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpzdHJ1Y3QgbGlzdF9oZWFkKgpqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqIGN0eCkgewogIHZvaWQqIHRtcF9vcGFxdWU7CiAgcHRyZGlmZl90IG5lZWRsZTsKICB2b2lkKiogcHRyOwogIHRtcF9vcGFxdWUgPSBKU19HZXRDb250ZXh0T3BhcXVlKGN0eCk7CiAgbWVtc2V0KCZuZWVkbGUsIDB4YTUsIHNpemVvZihuZWVkbGUpKTsKICBKU19TZXRDb250ZXh0T3BhcXVlKGN0eCwgbmVlZGxlKTsKCiAgcHRyID0gbWVtbWVtKGN0eCwgMTAyNCwgJm5lZWRsZSwgc2l6ZW9mKG5lZWRsZSkpOwogIHByaW50ZigiY3R4ID0gJXBcbiIsIGN0eCk7CiAgcHJpbnRmKCImbmVlZGxlID0gJXBcbiIsICZuZWVkbGUpOwogIHByaW50ZigicHRyID0gJXBcbiIsIHB0cik7CiAgcHJpbnRmKCJjdHgudXNlcl9vcGFxdWUgPSAlMDE2enhcbiIsIChjaGFyKilwdHIgLSAoY2hhciopY3R4KTsKICBKU19TZXRDb250ZXh0T3BhcXVlKGN0eCwgdG1wX29wYXF1ZSk7CgogIHJldHVybiAoKHN0cnVjdCBsaXN0X2hlYWQqKShwdHIgLSAyKSkgLSAxOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2F0KEpTQ29udGV4dCogY3R4LCBpbnQgaSkgewogIHN0cnVjdCBsaXN0X2hlYWQgKmVsLCAqbGlzdCA9IGpzX21vZHVsZV9saXN0KGN0eCk7CgogIGxpc3RfZm9yX2VhY2gobGlzdCwgZWwpIHsKICAgIEpTTW9kdWxlRGVmKiBtb2R1bGUgPSAoY2hhciopZWwgLSBzaXplb2YoSlNBdG9tKSAqIDI7CgogICAgaWYoaS0tID09IDApCiAgICAgIHJldHVybiBtb2R1bGU7CiAgfQogIHJldHVybiAwOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBuYW1lKSB7CiAgc3RydWN0IGxpc3RfaGVhZCAqZWwsICpsaXN0ID0ganNfbW9kdWxlX2xpc3QoY3R4KTsKCiAgbGlzdF9mb3JfZWFjaChlbCwgbGlzdCkgewogICAgSlNNb2R1bGVEZWYqIG1vZHVsZSA9IChjaGFyKillbCAtIHNpemVvZihKU0F0b20pICogMjsKCiAgICBpZigoKEpTQXRvbSopbW9kdWxlKVsxXSA9PSBuYW1lKQogICAgICByZXR1cm4gbW9kdWxlOwogIH0KICByZXR1cm4gMDsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU0F0b20gYXRvbTsKICBKU01vZHVsZURlZiogbW9kdWxlOwogIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbmFtZSk7CiAgbW9kdWxlID0ganNfbW9kdWxlX2ZpbmQoY3R4LCBhdG9tKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiBtb2R1bGU7Cn0KCnZvaWQqCmpzX21vZHVsZV9leHBvcnRfZmluZChKU01vZHVsZURlZiogbW9kdWxlLCBKU0F0b20gbmFtZSkgewogIHZvaWQqIGV4cG9ydF9lbnRyaWVzID0gKih2b2lkKiopKChjaGFyKiltb2R1bGUgKyBzaXplb2YoaW50KSAqIDIgKyBzaXplb2Yoc3RydWN0IGxpc3RfaGVhZCkgKyBzaXplb2Yodm9pZCopICsgc2l6ZW9mKGludCkgKiAyKTsKICBpbnQgZXhwb3J0X2VudHJpZXNfY291bnQgPSAqKGludCopKChjaGFyKiltb2R1bGUgKyBzaXplb2YoaW50KSAqIDIgKyBzaXplb2Yoc3RydWN0IGxpc3RfaGVhZCkgKyBzaXplb2Yodm9pZCopICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHZvaWQqKSk7CiAgc3RhdGljIGNvbnN0IHNpemVfdCBleHBvcnRfZW50cnlfc2l6ZSA9IHNpemVvZih2b2lkKikgKiAyICsgc2l6ZW9mKGludCkgKiAyOwogIHNpemVfdCBpOwoKICBmb3IoaSA9IDA7IGkgPCBleHBvcnRfZW50cmllc19jb3VudDsgaSsrKSB7CiAgICB2b2lkKiBlbnRyeSA9IChjaGFyKilleHBvcnRfZW50cmllcyArIGV4cG9ydF9lbnRyeV9zaXplICogaTsKCiAgICBKU0F0b20qIGV4cG9ydF9uYW1lID0gKGNoYXIqKWVudHJ5ICsgc2l6ZW9mKHZvaWQqKSAqIDIgKyBzaXplb2YoaW50KSAqIDI7CgogICAgaWYoKmV4cG9ydF9uYW1lID09IG5hbWUpCiAgICAgIHJldHVybiBlbnRyeTsKICB9CgogIHJldHVybiAwOwp9CgpKU1ZhbHVlCmpzX21vZHVsZV9pbXBvcnRfbWV0YShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZigobSA9IGpzX21vZHVsZV9sb2FkZXIoY3R4LCBuYW1lLCAwKSkpIHsKICAgIHJldCA9IEpTX0dldEltcG9ydE1ldGEoY3R4LCBtKTsKICB9CiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAABI2AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAECAAAAAAAAAQIAAAAAAAAAAAAAAAAPC/"
				],
				[
					3291,
					1,
					"paste",
					null,
					"AQAAAP8fAAAAAAAACCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/x8AAAAAAAD/HwAAAAAAAAAAAAAAAPC/"
				],
				[
					3304,
					1,
					"cut",
					null,
					"AQAAACQfAAAAAAAAJB8AAAAAAAAWAAAAICBjbG9zdXJlLT5jdHggPSBjdHg7Cg",
					"AQAAAAAAAAABAAAAJB8AAAAAAAA6HwAAAAAAAAAAAAAAAPC/"
				],
				[
					3305,
					2,
					"paste",
					null,
					"AgAAACQfAAAAAAAAOh8AAAAAAAAAAAAAOh8AAAAAAABQHwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJB8AAAAAAAAkHwAAAAAAAAAAAAAAAPC/"
				],
				[
					3310,
					1,
					"insert",
					{
						"characters": "ref_count"
					},
					"CgAAAC8fAAAAAAAAMB8AAAAAAAAAAAAAMB8AAAAAAAAwHwAAAAAAAAMAAABjdHgwHwAAAAAAADEfAAAAAAAAAAAAADEfAAAAAAAAMh8AAAAAAAAAAAAAMh8AAAAAAAAzHwAAAAAAAAAAAAAzHwAAAAAAADQfAAAAAAAAAAAAADQfAAAAAAAANR8AAAAAAAAAAAAANR8AAAAAAAA2HwAAAAAAAAAAAAA2HwAAAAAAADcfAAAAAAAAAAAAADcfAAAAAAAAOB8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALx8AAAAAAAAyHwAAAAAAAAAAAAAAAPC/"
				],
				[
					3312,
					3,
					"right_delete",
					null,
					"AwAAADsfAAAAAAAAOx8AAAAAAAABAAAAYzsfAAAAAAAAOx8AAAAAAAABAAAAdDsfAAAAAAAAOx8AAAAAAAABAAAAeA",
					"AQAAAAAAAAABAAAAOx8AAAAAAAA7HwAAAAAAAAAAAAAAAPC/"
				],
				[
					3313,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAADsfAAAAAAAAPB8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOx8AAAAAAAA7HwAAAAAAAAAAAAAAAPC/"
				],
				[
					3337,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAF8cAAAAAAAAYBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXxwAAAAAAABfHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3338,
					1,
					"left_delete",
					null,
					"AQAAAF8cAAAAAAAAXxwAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAYBwAAAAAAABgHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3340,
					1,
					"insert",
					{
						"characters": "\n\nif"
					},
					"BwAAAF4cAAAAAAAAXxwAAAAAAAAAAAAAXxwAAAAAAABhHAAAAAAAAAAAAABhHAAAAAAAAGIcAAAAAAAAAAAAAGIcAAAAAAAAZBwAAAAAAAAAAAAAXxwAAAAAAABfHAAAAAAAAAIAAAAgIGIcAAAAAAAAYxwAAAAAAAAAAAAAYxwAAAAAAABkHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXhwAAAAAAABeHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3341,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAGQcAAAAAAAAZhwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZBwAAAAAAABkHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3342,
					1,
					"insert",
					{
						"characters": "--closure->ref"
					},
					"DgAAAGUcAAAAAAAAZhwAAAAAAAAAAAAAZhwAAAAAAABnHAAAAAAAAAAAAABnHAAAAAAAAGgcAAAAAAAAAAAAAGgcAAAAAAAAaRwAAAAAAAAAAAAAaRwAAAAAAABqHAAAAAAAAAAAAABqHAAAAAAAAGscAAAAAAAAAAAAAGscAAAAAAAAbBwAAAAAAAAAAAAAbBwAAAAAAABtHAAAAAAAAAAAAABtHAAAAAAAAG4cAAAAAAAAAAAAAG4cAAAAAAAAbxwAAAAAAAAAAAAAbxwAAAAAAABwHAAAAAAAAAAAAABwHAAAAAAAAHEcAAAAAAAAAAAAAHEcAAAAAAAAchwAAAAAAAAAAAAAchwAAAAAAABzHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZRwAAAAAAABlHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3343,
					1,
					"insert",
					{
						"characters": "_count"
					},
					"BgAAAHMcAAAAAAAAdBwAAAAAAAAAAAAAdBwAAAAAAAB1HAAAAAAAAAAAAAB1HAAAAAAAAHYcAAAAAAAAAAAAAHYcAAAAAAAAdxwAAAAAAAAAAAAAdxwAAAAAAAB4HAAAAAAAAAAAAAB4HAAAAAAAAHkcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxwAAAAAAABzHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3344,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAAHkcAAAAAAAAehwAAAAAAAAAAAAAehwAAAAAAAB7HAAAAAAAAAAAAAB7HAAAAAAAAHwcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeRwAAAAAAAB5HAAAAAAAAAAAAAAAAPC/"
				],
				[
					3345,
					1,
					"insert",
					{
						"characters": " 0"
					},
					"AgAAAHwcAAAAAAAAfRwAAAAAAAAAAAAAfRwAAAAAAAB+HAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfBwAAAAAAAB8HAAAAAAAAAAAAAAAAPC/"
				],
				[
					3347,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAH8cAAAAAAAAgBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfxwAAAAAAAB/HAAAAAAAAAAAAAAAAPC/"
				],
				[
					3348,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAIAcAAAAAAAAghwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgBwAAAAAAACAHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3349,
					1,
					"right_delete",
					null,
					"AQAAAIEcAAAAAAAAgRwAAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAAgRwAAAAAAACBHAAAAAAAAAAAAAAAAPC/"
				],
				[
					3351,
					1,
					"left_delete",
					null,
					"AQAAAIEcAAAAAAAAgRwAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAghwAAAAAAACCHAAAAAAAAAAAAAAAoHRA"
				],
				[
					3354,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAAwdAAAAAAAADR0AAAAAAAAAAAAADR0AAAAAAAAPHQAAAAAAAAAAAAAPHQAAAAAAABAdAAAAAAAAAAAAAA0dAAAAAAAADR0AAAAAAAACAAAAICANHQAAAAAAAA0dAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADB0AAAAAAAAMHQAAAAAAAAAAAAAAoHRA"
				],
				[
					3356,
					1,
					"indent",
					null,
					"BQAAAIIcAAAAAAAAhBwAAAAAAAAAAAAAphwAAAAAAACoHAAAAAAAAAAAAADPHAAAAAAAANEcAAAAAAAAAAAAAPocAAAAAAAA/BwAAAAAAAAAAAAAFR0AAAAAAAAXHQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADh0AAAAAAACDHAAAAAAAAAAAAAAAACRA"
				],
				[
					3383,
					1,
					"",
					null,
					"AwAAAO0bAAAAAAAA+RsAAAAAAAALAAAASlNGcmVlVmFsdWXKGwAAAAAAANYbAAAAAAAACwAAAEpTRnJlZVZhbHVl3RoAAAAAAADpGgAAAAAAAAsAAABKU0ZyZWVWYWx1ZQ",
					"AQAAAAAAAAABAAAA3RoAAAAAAADoGgAAAAAAAAAAAAAAAPC/"
				],
				[
					3413,
					1,
					"insert",
					{
						"characters": "\nJSValueConst"
					},
					"DgAAANAdAAAAAAAA0R0AAAAAAAAAAAAA0R0AAAAAAADTHQAAAAAAAAAAAADTHQAAAAAAANQdAAAAAAAAAAAAANQdAAAAAAAA1R0AAAAAAAAAAAAA1R0AAAAAAADWHQAAAAAAAAAAAADWHQAAAAAAANcdAAAAAAAAAAAAANcdAAAAAAAA2B0AAAAAAAAAAAAA2B0AAAAAAADZHQAAAAAAAAAAAADZHQAAAAAAANodAAAAAAAAAAAAANodAAAAAAAA2x0AAAAAAAAAAAAA2x0AAAAAAADcHQAAAAAAAAAAAADcHQAAAAAAAN0dAAAAAAAAAAAAAN0dAAAAAAAA3h0AAAAAAAAAAAAA3h0AAAAAAADfHQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0B0AAAAAAADQHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3414,
					1,
					"insert",
					{
						"characters": " ars"
					},
					"BAAAAN8dAAAAAAAA4B0AAAAAAAAAAAAA4B0AAAAAAADhHQAAAAAAAAAAAADhHQAAAAAAAOIdAAAAAAAAAAAAAOIdAAAAAAAA4x0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3x0AAAAAAADfHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3415,
					1,
					"left_delete",
					null,
					"AQAAAOIdAAAAAAAA4h0AAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAA4x0AAAAAAADjHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3416,
					1,
					"insert",
					{
						"characters": "gs="
					},
					"AwAAAOIdAAAAAAAA4x0AAAAAAAAAAAAA4x0AAAAAAADkHQAAAAAAAAAAAADkHQAAAAAAAOUdAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4h0AAAAAAADiHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3417,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAOUdAAAAAAAA5x0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5R0AAAAAAADlHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3418,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAAOUdAAAAAAAA5R0AAAAAAAABAAAAW+UdAAAAAAAA5R0AAAAAAAABAAAAXQ",
					"AQAAAAAAAAABAAAA5h0AAAAAAADmHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3419,
					1,
					"left_delete",
					null,
					"AQAAAOQdAAAAAAAA5B0AAAAAAAABAAAAPQ",
					"AQAAAAAAAAABAAAA5R0AAAAAAADlHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3420,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAOQdAAAAAAAA5h0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5B0AAAAAAADkHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3422,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAOYdAAAAAAAA5x0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5h0AAAAAAADmHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3423,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAOcdAAAAAAAA6R0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5x0AAAAAAADnHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3424,
					1,
					"insert",
					{
						"characters": "closure->id,"
					},
					"DAAAAOgdAAAAAAAA6R0AAAAAAAAAAAAA6R0AAAAAAADqHQAAAAAAAAAAAADqHQAAAAAAAOsdAAAAAAAAAAAAAOsdAAAAAAAA7B0AAAAAAAAAAAAA7B0AAAAAAADtHQAAAAAAAAAAAADtHQAAAAAAAO4dAAAAAAAAAAAAAO4dAAAAAAAA7x0AAAAAAAAAAAAA7x0AAAAAAADwHQAAAAAAAAAAAADwHQAAAAAAAPEdAAAAAAAAAAAAAPEdAAAAAAAA8h0AAAAAAAAAAAAA8h0AAAAAAADzHQAAAAAAAAAAAADzHQAAAAAAAPQdAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6B0AAAAAAADoHQAAAAAAAAAAAAAAAPC/"
				],
				[
					3425,
					1,
					"insert",
					{
						"characters": "closure->handler"
					},
					"EAAAAPQdAAAAAAAA9R0AAAAAAAAAAAAA9R0AAAAAAAD2HQAAAAAAAAAAAAD2HQAAAAAAAPcdAAAAAAAAAAAAAPcdAAAAAAAA+B0AAAAAAAAAAAAA+B0AAAAAAAD5HQAAAAAAAAAAAAD5HQAAAAAAAPodAAAAAAAAAAAAAPodAAAAAAAA+x0AAAAAAAAAAAAA+x0AAAAAAAD8HQAAAAAAAAAAAAD8HQAAAAAAAP0dAAAAAAAAAAAAAP0dAAAAAAAA/h0AAAAAAAAAAAAA/h0AAAAAAAD/HQAAAAAAAAAAAAD/HQAAAAAAAAAeAAAAAAAAAAAAAAAeAAAAAAAAAR4AAAAAAAAAAAAAAR4AAAAAAAACHgAAAAAAAAAAAAACHgAAAAAAAAMeAAAAAAAAAAAAAAMeAAAAAAAABB4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9B0AAAAAAAD0HQAAAAAAAAAAAAAAAPC/"
				],
				[
					3426,
					1,
					"insert",
					{
						"characters": ",closure-ö"
					},
					"CgAAAAQeAAAAAAAABR4AAAAAAAAAAAAABR4AAAAAAAAGHgAAAAAAAAAAAAAGHgAAAAAAAAceAAAAAAAAAAAAAAceAAAAAAAACB4AAAAAAAAAAAAACB4AAAAAAAAJHgAAAAAAAAAAAAAJHgAAAAAAAAoeAAAAAAAAAAAAAAoeAAAAAAAACx4AAAAAAAAAAAAACx4AAAAAAAAMHgAAAAAAAAAAAAAMHgAAAAAAAA0eAAAAAAAAAAAAAA0eAAAAAAAADh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABB4AAAAAAAAEHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3427,
					1,
					"left_delete",
					null,
					"AQAAAA0eAAAAAAAADR4AAAAAAAACAAAAw7Y",
					"AQAAAAAAAAABAAAADh4AAAAAAAAOHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3428,
					1,
					"insert",
					{
						"characters": ">callback"
					},
					"CQAAAA0eAAAAAAAADh4AAAAAAAAAAAAADh4AAAAAAAAPHgAAAAAAAAAAAAAPHgAAAAAAABAeAAAAAAAAAAAAABAeAAAAAAAAER4AAAAAAAAAAAAAER4AAAAAAAASHgAAAAAAAAAAAAASHgAAAAAAABMeAAAAAAAAAAAAABMeAAAAAAAAFB4AAAAAAAAAAAAAFB4AAAAAAAAVHgAAAAAAAAAAAAAVHgAAAAAAABYeAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADR4AAAAAAAANHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3430,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAABceAAAAAAAAGB4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFx4AAAAAAAAXHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3431,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAABgeAAAAAAAAGR4AAAAAAAAAAAAAGR4AAAAAAAAbHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGB4AAAAAAAAYHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3459,
					1,
					"insert",
					{
						"characters": ","
					},
					"AgAAABYeAAAAAAAAFx4AAAAAAAAAAAAAGh4AAAAAAAAaHgAAAAAAAAIAAAAgIA",
					"AQAAAAAAAAABAAAAFh4AAAAAAAAWHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3460,
					1,
					"insert",
					{
						"characters": " S"
					},
					"AgAAABceAAAAAAAAGB4AAAAAAAAAAAAAGB4AAAAAAAAZHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFx4AAAAAAAAXHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3461,
					1,
					"left_delete",
					null,
					"AQAAABgeAAAAAAAAGB4AAAAAAAABAAAAUw",
					"AQAAAAAAAAABAAAAGR4AAAAAAAAZHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3462,
					1,
					"insert",
					{
						"characters": "KS"
					},
					"AgAAABgeAAAAAAAAGR4AAAAAAAAAAAAAGR4AAAAAAAAaHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGB4AAAAAAAAYHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3463,
					2,
					"left_delete",
					null,
					"AgAAABkeAAAAAAAAGR4AAAAAAAABAAAAUxgeAAAAAAAAGB4AAAAAAAABAAAASw",
					"AQAAAAAAAAABAAAAGh4AAAAAAAAaHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3464,
					1,
					"insert",
					{
						"characters": "JS_NewI"
					},
					"BwAAABgeAAAAAAAAGR4AAAAAAAAAAAAAGR4AAAAAAAAaHgAAAAAAAAAAAAAaHgAAAAAAABseAAAAAAAAAAAAABseAAAAAAAAHB4AAAAAAAAAAAAAHB4AAAAAAAAdHgAAAAAAAAAAAAAdHgAAAAAAAB4eAAAAAAAAAAAAAB4eAAAAAAAAHx4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGB4AAAAAAAAYHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3465,
					1,
					"left_delete",
					null,
					"AQAAAB4eAAAAAAAAHh4AAAAAAAABAAAASQ",
					"AQAAAAAAAAABAAAAHx4AAAAAAAAfHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3466,
					1,
					"insert",
					{
						"characters": "Uint32"
					},
					"BgAAAB4eAAAAAAAAHx4AAAAAAAAAAAAAHx4AAAAAAAAgHgAAAAAAAAAAAAAgHgAAAAAAACEeAAAAAAAAAAAAACEeAAAAAAAAIh4AAAAAAAAAAAAAIh4AAAAAAAAjHgAAAAAAAAAAAAAjHgAAAAAAACQeAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHh4AAAAAAAAeHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3467,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAACQeAAAAAAAAJh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJB4AAAAAAAAkHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3468,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAACUeAAAAAAAAJh4AAAAAAAAAAAAAJh4AAAAAAAAnHgAAAAAAAAAAAAAnHgAAAAAAACgeAAAAAAAAAAAAACgeAAAAAAAAKR4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJR4AAAAAAAAlHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3469,
					1,
					"insert",
					{
						"characters": " closur"
					},
					"BwAAACkeAAAAAAAAKh4AAAAAAAAAAAAAKh4AAAAAAAArHgAAAAAAAAAAAAArHgAAAAAAACweAAAAAAAAAAAAACweAAAAAAAALR4AAAAAAAAAAAAALR4AAAAAAAAuHgAAAAAAAAAAAAAuHgAAAAAAAC8eAAAAAAAAAAAAAC8eAAAAAAAAMB4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKR4AAAAAAAApHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3470,
					1,
					"insert",
					{
						"characters": "e->interva"
					},
					"CgAAADAeAAAAAAAAMR4AAAAAAAAAAAAAMR4AAAAAAAAyHgAAAAAAAAAAAAAyHgAAAAAAADMeAAAAAAAAAAAAADMeAAAAAAAANB4AAAAAAAAAAAAANB4AAAAAAAA1HgAAAAAAAAAAAAA1HgAAAAAAADYeAAAAAAAAAAAAADYeAAAAAAAANx4AAAAAAAAAAAAANx4AAAAAAAA4HgAAAAAAAAAAAAA4HgAAAAAAADkeAAAAAAAAAAAAADkeAAAAAAAAOh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMB4AAAAAAAAwHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3471,
					1,
					"insert",
					{
						"characters": "l"
					},
					"AQAAADoeAAAAAAAAOx4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOh4AAAAAAAA6HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3479,
					1,
					"insert",
					{
						"characters": "4,"
					},
					"AgAAAHEeAAAAAAAAch4AAAAAAAAAAAAAch4AAAAAAABzHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcR4AAAAAAABxHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3480,
					1,
					"insert",
					{
						"characters": " args)"
					},
					"BgAAAHMeAAAAAAAAdB4AAAAAAAAAAAAAdB4AAAAAAAB1HgAAAAAAAAAAAAB1HgAAAAAAAHYeAAAAAAAAAAAAAHYeAAAAAAAAdx4AAAAAAAAAAAAAdx4AAAAAAAB4HgAAAAAAAAAAAAB4HgAAAAAAAHkeAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcx4AAAAAAABzHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3484,
					1,
					"left_delete",
					null,
					"AQAAAHkeAAAAAAAAeR4AAAAAAAALAAAAYXJnYywgYXJndik",
					"AQAAAAAAAAABAAAAeR4AAAAAAACEHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3486,
					1,
					"insert",
					{
						"characters": "counf"
					},
					"BQAAAHEeAAAAAAAAch4AAAAAAAAAAAAAch4AAAAAAABzHgAAAAAAAAAAAABzHgAAAAAAAHQeAAAAAAAAAAAAAHQeAAAAAAAAdR4AAAAAAAAAAAAAdR4AAAAAAAB2HgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcR4AAAAAAABxHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3487,
					1,
					"left_delete",
					null,
					"AQAAAHUeAAAAAAAAdR4AAAAAAAABAAAAZg",
					"AQAAAAAAAAABAAAAdh4AAAAAAAB2HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3488,
					1,
					"insert",
					{
						"characters": "tof(args)"
					},
					"CQAAAHUeAAAAAAAAdh4AAAAAAAAAAAAAdh4AAAAAAAB3HgAAAAAAAAAAAAB3HgAAAAAAAHgeAAAAAAAAAAAAAHgeAAAAAAAAeR4AAAAAAAAAAAAAeR4AAAAAAAB6HgAAAAAAAAAAAAB6HgAAAAAAAHseAAAAAAAAAAAAAHseAAAAAAAAfB4AAAAAAAAAAAAAfB4AAAAAAAB9HgAAAAAAAAAAAAB9HgAAAAAAAH4eAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdR4AAAAAAAB1HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3489,
					1,
					"right_delete",
					null,
					"AQAAAH4eAAAAAAAAfh4AAAAAAAABAAAANA",
					"AQAAAAAAAAABAAAAfh4AAAAAAAB+HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3492,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADeNgAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgojaW5jbHVkZSAianN1dGlscy5oIgoKSlNWYWx1ZQp2ZWN0b3IyYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGFyZ3ZbaV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfY29uc29sZV9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIGNvbnNvbGUsIEpTVmFsdWUqIGNvbnNvbGVfbG9nKSB7CiAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAqY29uc29sZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiY29uc29sZSIpOwogICpjb25zb2xlX2xvZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgKmNvbnNvbGUsICJsb2ciKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUqIGZ1bmNfZGF0YSkgewogIEpTVmFsdWUgYXJnc1thcmdjICsgbWFnaWNdOwogIGludCBpLCBqOwogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIHRoaXNfdmFsLCBpLCBhcmdzKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCAxLCAmYXJnKTsKfQoKLypKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBEeW5CdWYgYjsKICBKU1ZhbHVlQ29uc3QgYXJnOwogIGRidWZfaW5pdDIoJmIsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKICB2YV9zdGFydChhcmdzLCBmdW5jKTsKICB3aGlsZSgoYXJnID0gdmFfYXJnKGFyZ3MsIEpTVmFsdWVDb25zdCkpKSB7IGRidWZfcHV0KCZiLCAmYXJnLCBzaXplb2YoSlNWYWx1ZUNvbnN0KSk7IH0KICB2YV9lbmQoYXJncyk7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCBiLnNpemUgLyBzaXplb2YoSlNWYWx1ZUNvbnN0KSwgKEpTVmFsdWVDb25zdCopYi5idWYpOwp9Ki8KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSogbmV4dCwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CgogIGlmKCFKU19Jc09iamVjdChvYmopKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QgKCVkKSBcIiVzXCIiLCBKU19WQUxVRV9HRVRfVEFHKG9iaiksIEpTX1RvQ1N0cmluZyhjdHgsIG9iaikpOwoKICBpZihKU19Jc09iamVjdCgqbmV4dCkgJiYgSlNfSXNGdW5jdGlvbihjdHgsICpuZXh0KSkgewogICAgZm4gPSAqbmV4dDsKICB9IGVsc2UgewogICAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc1VuZGVmaW5lZChmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QgZG9lcyBub3QgaGF2ZSAnbmV4dCcgbWV0aG9kIik7CgogICAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QubmV4dCBpcyBub3QgYSBmdW5jdGlvbiIpOwoKICAgICpuZXh0ID0gZm47CiAgfQoKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXN1bHQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKaW50CmpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGRzdCwgSlNWYWx1ZUNvbnN0IHNyYywgaW50IGZsYWdzKSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIHNyYywgZmxhZ3MpKQogICAgcmV0dXJuIC0xOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHNyYywgdGFiW2ldLmF0b20pOwogICAgSlNfU2V0UHJvcGVydHkoY3R4LCBkc3QsIHRhYltpXS5hdG9tLCB2YWx1ZSk7CiAgfQogIHJldHVybiBpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LCBKU0J1ZmZlciogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBidWYtPmRhdGEgPSAwOwogIGJ1Zi0+c2l6ZSA9IDA7CiAgYnVmLT5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgYnVmLT52YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBidWYtPmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmJ1Zi0+c2l6ZSwgdmFsdWUpOwogICAgYnVmLT52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigoYnVmLT5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmYnVmLT5zaXplLCB2YWx1ZSkpKSB7CiAgICBidWYtPnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQp9CgpKU0J1ZmZlcgpqc19idWZmZXJfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgcmV0LmZyZWUgPSAmanNfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigocmV0LmRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZyZXQuc2l6ZSwgdmFsdWUpKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl90byhKU0J1ZmZlciBidWYsIHZvaWQqKiBwcHRyLCBzaXplX3QqIHBsZW4pIHsKICBpZihwcHRyKQogICAgKnBwdHIgPSBidWYuZGF0YTsKICBpZihwbGVuKQogICAgKnBsZW4gPSBidWYuc2l6ZTsKfQoKdm9pZApqc19idWZmZXJfdG8zKEpTQnVmZmVyIGJ1ZiwgY29uc3QgY2hhcioqIHBzdHIsIHZvaWQqKiBwcHRyLCB1bnNpZ25lZCogcGxlbikgewogIGlmKCFKU19Jc1N0cmluZyhidWYudmFsdWUpKSB7CiAgICBzaXplX3QgbGVuID0gMDsKICAgIGpzX2J1ZmZlcl90byhidWYsIHBwdHIsICZsZW4pOwogICAgaWYocGxlbikKICAgICAgKnBsZW4gPSBsZW47CiAgfSBlbHNlCiAgICAqcHN0ciA9IChjb25zdCBjaGFyKilidWYuZGF0YTsKfQoKQk9PTApqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpKU0J1ZmZlcgpqc19idWZmZXJfY2xvbmUoY29uc3QgSlNCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIEpTQnVmZmVyIHJldDsKCiAganNfYnVmZmVyX2Zyb20oY3R4LCAmcmV0LCBpbi0+dmFsdWUpOwoKICAvKiAgcmV0LnNpemUgPSBpbi0+c2l6ZTsKICAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsqLwoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiBpbiwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiKEpTQnVmZmVyKXsgLmRhdGEgPSAlcCwgLnNpemUgPSAlenUsIC5mcmVlID0gJXAgfSIsIGluLT5kYXRhLCBpbi0+c2l6ZSwgaW4tPmZyZWUpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiBpbiwgSlNDb250ZXh0KiBjdHgpIHsKICBpZihpbi0+ZGF0YSkgewogICAgaW4tPmZyZWUoSlNfR2V0UnVudGltZShjdHgpLCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAiU3ltYm9sIik7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX29zKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKfQoKSlNWYWx1ZQpqc19vc19nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIG9zX29iaiA9IGpzX2dsb2JhbF9vcyhjdHgpOwogIEpTVmFsdWUgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvc19vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9zX29iaik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190aW1lcl9zdGFydChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIEpTVmFsdWUgc2V0X3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAic2V0VGltZW91dCIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge2ZuLCBKU19NS1ZBTChKU19UQUdfSU5ULCBtcyl9OwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF90aW1lb3V0LCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNldF90aW1lb3V0KTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3RpbWVyX2NhbmNlbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRpbWVyKSB7CiAgSlNWYWx1ZSBjbGVhcl90aW1lb3V0ID0ganNfb3NfZ2V0KGN0eCwgImNsZWFyVGltZW91dCIpOwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIGNsZWFyX3RpbWVvdXQsIEpTX1VOREVGSU5FRCwgMSwgJnRpbWVyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjbGVhcl90aW1lb3V0KTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eDsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aGFuZGxlcik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5jYWxsYmFjayk7CgogICAganNfZnJlZShjdHgsIGNsb3N1cmUpOwogIH0KfQoKSlNWYWx1ZQpqc190aW1lcl9jYWxsYmFjayhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMsIHZvaWQqIG9wYXF1ZSkgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbXT17Y2xvc3VyZS0+aWQsY2xvc3VyZS0+aGFuZGxlcixjbG9zdXJlLT5jYWxsYmFjaywgSlNfTmV3VWludDMyKGN0eCwgY2xvc3VyZS0+aW50ZXJ2YWwpfTsKCiAgcmV0ID0gSlNfQ2FsbChjdHgsIGNsb3N1cmUtPmhhbmRsZXIsIHRoaXNfdmFsLCBjb3VudG9mKGFyZ3MpLCBhcmdzKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogIGNsb3N1cmUtPmlkID0ganNfdGltZXJfc3RhcnQoY3R4LCBjbG9zdXJlLT5jYWxsYmFjaywgY2xvc3VyZS0+aW50ZXJ2YWwpOwoKICByZXR1cm4gcmV0Owp9CgpzdHJ1Y3QgVGltZXJDbG9zdXJlKgpqc190aW1lcl9pbnRlcnZhbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmU7CgogIGlmKCEoY2xvc3VyZSA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihzdHJ1Y3QgVGltZXJDbG9zdXJlKSkpKQogICAgcmV0dXJuIDA7CgogIGNsb3N1cmUtPnJlZl9jb3VudCA9IDE7CiAgY2xvc3VyZS0+Y3R4ID0gY3R4OwogIGNsb3N1cmUtPmludGVydmFsID0gbXM7CiAgY2xvc3VyZS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgZm4pOwogIGNsb3N1cmUtPmNhbGxiYWNrID0gSlNfTmV3Q0Nsb3N1cmUoY3R4LCBqc190aW1lcl9jYWxsYmFjaywgMCwgMCwgY2xvc3VyZSwganNfdGltZXJfZnJlZSk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBtcyk7CgogIHJldHVybiBjbG9zdXJlOwp9Cgp2b2lkCmpzX3RpbWVyX3Jlc3RhcnQoc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSkgewogIGpzX3RpbWVyX2NhbmNlbChjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmlkKTsKICBKU19GcmVlVmFsdWUoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5pZCk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBjbG9zdXJlLT5pbnRlcnZhbCk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgZnVuY3MtPmFycmF5WzBdID0gSlNfTlVMTDsKICBmdW5jcy0+YXJyYXlbMV0gPSBKU19OVUxMOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiBKU19Jc051bGwoZnVuY3MtPmFycmF5WzBdKSAmJiBKU19Jc051bGwoZnVuY3MtPmFycmF5WzFdKTsKfQoKdm9pZApqc19wcm9taXNlX2ZyZWUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY3MtPmFycmF5WzBdKTsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jcy0+YXJyYXlbMV0pOwogIGpzX3Jlc29sdmVfZnVuY3Rpb25zX3plcm8oZnVuY3MpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIGludCBpbmRleCwgSlNWYWx1ZUNvbnN0IGFyZykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGFzc2VydCghSlNfSXNOdWxsKGZ1bmNzLT5hcnJheVtpbmRleF0pKTsKICByZXQgPSBKU19DYWxsKGN0eCwgZnVuY3MtPmFycmF5W2luZGV4XSwgSlNfVU5ERUZJTkVELCAxLCAmYXJnKTsKICBqc19wcm9taXNlX2ZyZWUoY3R4LCBmdW5jcyk7CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfdG9zdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIHNpemVfdCogbGVucCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc2l6ZV90IGxlbjsKICBjb25zdCBjaGFyKiBjc3RyOwogIGNoYXIqIHJldCA9IDA7CiAgaWYoKGNzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSkpKSB7CiAgICByZXQgPSBqc19zdHJuZHVwKGN0eCwgY3N0ciwgbGVuKTsKICAgIGlmKGxlbnApCiAgICAgICpsZW5wID0gbGVuOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc190b3N0cmluZ2xlbihjdHgsIDAsIHZhbHVlKTsKfQoKSlNWYWx1ZQpqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTQXRvbSBhdG9tID0gSlNfTmV3QXRvbShjdHgsIG1ldGhvZCk7CiAgSlNWYWx1ZSByZXQgPSBKU19JbnZva2UoY3R4LCB0aGlzX29iaiwgYXRvbSwgYXJnYywgYXJndik7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcykgewogIEpTVmFsdWUgcmV0OwoKICByZXQgPSBKU19OZXdQcm9taXNlQ2FwYWJpbGl0eShjdHgsIGZ1bmNzLT5hcnJheSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChjdHgsIGZ1bmNzLCAwLCB2YWx1ZSk7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9yZWplY3QoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfY2FsbChjdHgsIGZ1bmNzLCAxLCB2YWx1ZSk7Cn0KCnZvaWQKanNfcHJvbWlzZV96ZXJvKFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCkJPT0wKanNfcHJvbWlzZV9wZW5kaW5nKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqIGZ1bmNzKSB7CiAgcmV0dXJuICFqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKGZ1bmNzKTsKfQoKQk9PTApqc19wcm9taXNlX2RvbmUoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4ganNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChmdW5jcyk7Cn0KCkJPT0wKanNfaXNfcHJvbWlzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBjdG9yOwogIEJPT0wgcmV0OwoKICBjdG9yID0ganNfZ2xvYmFsX2dldChjdHgsICJQcm9taXNlIik7CiAgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2Vycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogZm10LCAuLi4pIHsKICB2YV9saXN0IGFyZ3M7CiAgSlNWYWx1ZSBlcnIgPSBKU19OZXdFcnJvcihjdHgpOwogIGNoYXIgYnVmWzEwMjRdOwoKICB2YV9zdGFydChhcmdzLCBmbXQpOwogIHZzbnByaW50ZihidWYsIHNpemVvZihidWYpLCBmbXQsIGFyZ3MpOwogIHZhX2VuZChhcmdzKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJtZXNzYWdlIiwgSlNfTmV3U3RyaW5nKGN0eCwgYnVmKSk7CiAgcmV0dXJuIGVycjsKfQoKdWludDhfdCoKanNfdG9wdHJzaXplKEpTQ29udGV4dCogY3R4LCB1bnNpZ25lZCBpbnQqIHBsZW4sIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHNpemVfdCBuID0gMDsKICB2b2lkICpyZXQgPSAwLCAqcHRyOwogIGlmKChwdHIgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZuLCB2YWx1ZSkpKSB7CiAgICBpZigocmV0ID0ganNfbWFsbG9jKGN0eCwgbikpKQogICAgICBtZW1jcHkocmV0LCBwdHIsIG4pOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBzdHIpIHsKICBCT09MIHJldCA9IEZBTFNFOwogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgc3RyKTsKICBpZighSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0ID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RydWN0IGxpc3RfaGVhZCoKanNfbW9kdWxlX2xpc3QoSlNDb250ZXh0KiBjdHgpIHsKICB2b2lkKiB0bXBfb3BhcXVlOwogIHB0cmRpZmZfdCBuZWVkbGU7CiAgdm9pZCoqIHB0cjsKICB0bXBfb3BhcXVlID0gSlNfR2V0Q29udGV4dE9wYXF1ZShjdHgpOwogIG1lbXNldCgmbmVlZGxlLCAweGE1LCBzaXplb2YobmVlZGxlKSk7CiAgSlNfU2V0Q29udGV4dE9wYXF1ZShjdHgsIG5lZWRsZSk7CgogIHB0ciA9IG1lbW1lbShjdHgsIDEwMjQsICZuZWVkbGUsIHNpemVvZihuZWVkbGUpKTsKICBwcmludGYoImN0eCA9ICVwXG4iLCBjdHgpOwogIHByaW50ZigiJm5lZWRsZSA9ICVwXG4iLCAmbmVlZGxlKTsKICBwcmludGYoInB0ciA9ICVwXG4iLCBwdHIpOwogIHByaW50ZigiY3R4LnVzZXJfb3BhcXVlID0gJTAxNnp4XG4iLCAoY2hhciopcHRyIC0gKGNoYXIqKWN0eCk7CiAgSlNfU2V0Q29udGV4dE9wYXF1ZShjdHgsIHRtcF9vcGFxdWUpOwoKICByZXR1cm4gKChzdHJ1Y3QgbGlzdF9oZWFkKikocHRyIC0gMikpIC0gMTsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9hdChKU0NvbnRleHQqIGN0eCwgaW50IGkpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkICplbCwgKmxpc3QgPSBqc19tb2R1bGVfbGlzdChjdHgpOwoKICBsaXN0X2Zvcl9lYWNoKGxpc3QsIGVsKSB7CiAgICBKU01vZHVsZURlZiogbW9kdWxlID0gKGNoYXIqKWVsIC0gc2l6ZW9mKEpTQXRvbSkgKiAyOwoKICAgIGlmKGktLSA9PSAwKQogICAgICByZXR1cm4gbW9kdWxlOwogIH0KICByZXR1cm4gMDsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9maW5kKEpTQ29udGV4dCogY3R4LCBKU0F0b20gbmFtZSkgewogIHN0cnVjdCBsaXN0X2hlYWQgKmVsLCAqbGlzdCA9IGpzX21vZHVsZV9saXN0KGN0eCk7CgogIGxpc3RfZm9yX2VhY2goZWwsIGxpc3QpIHsKICAgIEpTTW9kdWxlRGVmKiBtb2R1bGUgPSAoY2hhciopZWwgLSBzaXplb2YoSlNBdG9tKSAqIDI7CgogICAgaWYoKChKU0F0b20qKW1vZHVsZSlbMV0gPT0gbmFtZSkKICAgICAgcmV0dXJuIG1vZHVsZTsKICB9CiAgcmV0dXJuIDA7Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfZmluZF9zKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNBdG9tIGF0b207CiAgSlNNb2R1bGVEZWYqIG1vZHVsZTsKICBhdG9tID0gSlNfTmV3QXRvbShjdHgsIG5hbWUpOwogIG1vZHVsZSA9IGpzX21vZHVsZV9maW5kKGN0eCwgYXRvbSk7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gbW9kdWxlOwp9Cgp2b2lkKgpqc19tb2R1bGVfZXhwb3J0X2ZpbmQoSlNNb2R1bGVEZWYqIG1vZHVsZSwgSlNBdG9tIG5hbWUpIHsKICB2b2lkKiBleHBvcnRfZW50cmllcyA9ICoodm9pZCoqKSgoY2hhciopbW9kdWxlICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHN0cnVjdCBsaXN0X2hlYWQpICsgc2l6ZW9mKHZvaWQqKSArIHNpemVvZihpbnQpICogMik7CiAgaW50IGV4cG9ydF9lbnRyaWVzX2NvdW50ID0gKihpbnQqKSgoY2hhciopbW9kdWxlICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHN0cnVjdCBsaXN0X2hlYWQpICsgc2l6ZW9mKHZvaWQqKSArIHNpemVvZihpbnQpICogMiArIHNpemVvZih2b2lkKikpOwogIHN0YXRpYyBjb25zdCBzaXplX3QgZXhwb3J0X2VudHJ5X3NpemUgPSBzaXplb2Yodm9pZCopICogMiArIHNpemVvZihpbnQpICogMjsKICBzaXplX3QgaTsKCiAgZm9yKGkgPSAwOyBpIDwgZXhwb3J0X2VudHJpZXNfY291bnQ7IGkrKykgewogICAgdm9pZCogZW50cnkgPSAoY2hhciopZXhwb3J0X2VudHJpZXMgKyBleHBvcnRfZW50cnlfc2l6ZSAqIGk7CgogICAgSlNBdG9tKiBleHBvcnRfbmFtZSA9IChjaGFyKillbnRyeSArIHNpemVvZih2b2lkKikgKiAyICsgc2l6ZW9mKGludCkgKiAyOwoKICAgIGlmKCpleHBvcnRfbmFtZSA9PSBuYW1lKQogICAgICByZXR1cm4gZW50cnk7CiAgfQoKICByZXR1cm4gMDsKfQoKSlNWYWx1ZQpqc19tb2R1bGVfaW1wb3J0X21ldGEoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKG0gPSBqc19tb2R1bGVfbG9hZGVyKGN0eCwgbmFtZSwgMCkpKSB7CiAgICByZXQgPSBKU19HZXRJbXBvcnRNZXRhKGN0eCwgbSk7CiAgfQogIHJldHVybiByZXQ7Cn0KAAAAAAAAAADiNgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfh4AAAAAAAB+HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3532,
					1,
					"insert",
					{
						"characters": "\n\nif"
					},
					"BwAAAIoeAAAAAAAAix4AAAAAAAAAAAAAix4AAAAAAACNHgAAAAAAAAAAAACNHgAAAAAAAI4eAAAAAAAAAAAAAI4eAAAAAAAAkB4AAAAAAAAAAAAAix4AAAAAAACLHgAAAAAAAAIAAAAgII4eAAAAAAAAjx4AAAAAAAAAAAAAjx4AAAAAAACQHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAih4AAAAAAACKHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3533,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJAeAAAAAAAAkh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkB4AAAAAAACQHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3534,
					1,
					"insert",
					{
						"characters": "JS_ToBool"
					},
					"CQAAAJEeAAAAAAAAkh4AAAAAAAAAAAAAkh4AAAAAAACTHgAAAAAAAAAAAACTHgAAAAAAAJQeAAAAAAAAAAAAAJQeAAAAAAAAlR4AAAAAAAAAAAAAlR4AAAAAAACWHgAAAAAAAAAAAACWHgAAAAAAAJceAAAAAAAAAAAAAJceAAAAAAAAmB4AAAAAAAAAAAAAmB4AAAAAAACZHgAAAAAAAAAAAACZHgAAAAAAAJoeAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkR4AAAAAAACRHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3535,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJoeAAAAAAAAnB4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmh4AAAAAAACaHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3536,
					1,
					"insert",
					{
						"characters": "ret"
					},
					"AwAAAJseAAAAAAAAnB4AAAAAAAAAAAAAnB4AAAAAAACdHgAAAAAAAAAAAACdHgAAAAAAAJ4eAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmx4AAAAAAACbHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3540,
					1,
					"insert",
					{
						"characters": "ctx,"
					},
					"BAAAAJseAAAAAAAAnB4AAAAAAAAAAAAAnB4AAAAAAACdHgAAAAAAAAAAAACdHgAAAAAAAJ4eAAAAAAAAAAAAAJ4eAAAAAAAAnx4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmx4AAAAAAACbHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3542,
					1,
					"insert",
					{
						"characters": "!"
					},
					"AQAAAJEeAAAAAAAAkh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkR4AAAAAAACRHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3545,
					1,
					"left_delete",
					null,
					"AQAAAJEeAAAAAAAAkR4AAAAAAAABAAAAIQ",
					"AQAAAAAAAAABAAAAkh4AAAAAAACSHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3546,
					1,
					"insert",
					{
						"characters": "JS_IsBool(r"
					},
					"CwAAAJEeAAAAAAAAkh4AAAAAAAAAAAAAkh4AAAAAAACTHgAAAAAAAAAAAACTHgAAAAAAAJQeAAAAAAAAAAAAAJQeAAAAAAAAlR4AAAAAAAAAAAAAlR4AAAAAAACWHgAAAAAAAAAAAACWHgAAAAAAAJceAAAAAAAAAAAAAJceAAAAAAAAmB4AAAAAAAAAAAAAmB4AAAAAAACZHgAAAAAAAAAAAACZHgAAAAAAAJoeAAAAAAAAAAAAAJoeAAAAAAAAmx4AAAAAAAAAAAAAmx4AAAAAAACcHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkR4AAAAAAACRHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3547,
					1,
					"insert",
					{
						"characters": "et)"
					},
					"AwAAAJweAAAAAAAAnR4AAAAAAAAAAAAAnR4AAAAAAACeHgAAAAAAAAAAAACeHgAAAAAAAJ8eAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnB4AAAAAAACcHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3548,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAAJ8eAAAAAAAAoB4AAAAAAAAAAAAAoB4AAAAAAAChHgAAAAAAAAAAAAChHgAAAAAAAKIeAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnx4AAAAAAACfHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3549,
					1,
					"insert",
					{
						"characters": " !"
					},
					"AgAAAKIeAAAAAAAAox4AAAAAAAAAAAAAox4AAAAAAACkHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoh4AAAAAAACiHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3551,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAALceAAAAAAAAuR4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtx4AAAAAAAC3HgAAAAAAAP///////+9/"
				],
				[
					3554,
					1,
					"insert",
					{
						"characters": "!("
					},
					"AgAAAJEeAAAAAAAAkh4AAAAAAAAAAAAAkh4AAAAAAACTHgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkR4AAAAAAACRHgAAAAAAAAAAAAAAAPC/"
				],
				[
					3557,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAALkeAAAAAAAAuh4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuR4AAAAAAAC5HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3558,
					2,
					"left_delete",
					null,
					"AgAAALkeAAAAAAAAuR4AAAAAAAABAAAAKbgeAAAAAAAAuB4AAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAuh4AAAAAAAC6HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3559,
					1,
					"insert",
					{
						"characters": "))"
					},
					"AgAAALgeAAAAAAAAuR4AAAAAAAAAAAAAuR4AAAAAAAC6HgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuB4AAAAAAAC4HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3560,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALoeAAAAAAAAux4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuh4AAAAAAAC6HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3562,
					1,
					"right_delete",
					null,
					"AQAAALweAAAAAAAAvB4AAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAAvB4AAAAAAAC8HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3564,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AQAAACsfAAAAAAAALB8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKx8AAAAAAAArHwAAAAAAAAAAAAAAAH5A"
				],
				[
					3565,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAACwfAAAAAAAALR8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALB8AAAAAAAAsHwAAAAAAAAAAAAAAAPC/"
				],
				[
					3567,
					1,
					"left_delete",
					null,
					"AQAAALweAAAAAAAAvB4AAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAvR4AAAAAAAC9HgAAAAAAAAAAAAAAAAAA"
				],
				[
					3572,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAVNwAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgojaW5jbHVkZSAianN1dGlscy5oIgoKSlNWYWx1ZQp2ZWN0b3IyYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGFyZ3ZbaV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfY29uc29sZV9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIGNvbnNvbGUsIEpTVmFsdWUqIGNvbnNvbGVfbG9nKSB7CiAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAqY29uc29sZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiY29uc29sZSIpOwogICpjb25zb2xlX2xvZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgKmNvbnNvbGUsICJsb2ciKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUqIGZ1bmNfZGF0YSkgewogIEpTVmFsdWUgYXJnc1thcmdjICsgbWFnaWNdOwogIGludCBpLCBqOwogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIHRoaXNfdmFsLCBpLCBhcmdzKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCAxLCAmYXJnKTsKfQoKLypKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBEeW5CdWYgYjsKICBKU1ZhbHVlQ29uc3QgYXJnOwogIGRidWZfaW5pdDIoJmIsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKICB2YV9zdGFydChhcmdzLCBmdW5jKTsKICB3aGlsZSgoYXJnID0gdmFfYXJnKGFyZ3MsIEpTVmFsdWVDb25zdCkpKSB7IGRidWZfcHV0KCZiLCAmYXJnLCBzaXplb2YoSlNWYWx1ZUNvbnN0KSk7IH0KICB2YV9lbmQoYXJncyk7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCBiLnNpemUgLyBzaXplb2YoSlNWYWx1ZUNvbnN0KSwgKEpTVmFsdWVDb25zdCopYi5idWYpOwp9Ki8KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSogbmV4dCwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CgogIGlmKCFKU19Jc09iamVjdChvYmopKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QgKCVkKSBcIiVzXCIiLCBKU19WQUxVRV9HRVRfVEFHKG9iaiksIEpTX1RvQ1N0cmluZyhjdHgsIG9iaikpOwoKICBpZihKU19Jc09iamVjdCgqbmV4dCkgJiYgSlNfSXNGdW5jdGlvbihjdHgsICpuZXh0KSkgewogICAgZm4gPSAqbmV4dDsKICB9IGVsc2UgewogICAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc1VuZGVmaW5lZChmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QgZG9lcyBub3QgaGF2ZSAnbmV4dCcgbWV0aG9kIik7CgogICAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QubmV4dCBpcyBub3QgYSBmdW5jdGlvbiIpOwoKICAgICpuZXh0ID0gZm47CiAgfQoKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXN1bHQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKaW50CmpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGRzdCwgSlNWYWx1ZUNvbnN0IHNyYywgaW50IGZsYWdzKSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIHNyYywgZmxhZ3MpKQogICAgcmV0dXJuIC0xOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHNyYywgdGFiW2ldLmF0b20pOwogICAgSlNfU2V0UHJvcGVydHkoY3R4LCBkc3QsIHRhYltpXS5hdG9tLCB2YWx1ZSk7CiAgfQogIHJldHVybiBpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LCBKU0J1ZmZlciogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBidWYtPmRhdGEgPSAwOwogIGJ1Zi0+c2l6ZSA9IDA7CiAgYnVmLT5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgYnVmLT52YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBidWYtPmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmJ1Zi0+c2l6ZSwgdmFsdWUpOwogICAgYnVmLT52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigoYnVmLT5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmYnVmLT5zaXplLCB2YWx1ZSkpKSB7CiAgICBidWYtPnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQp9CgpKU0J1ZmZlcgpqc19idWZmZXJfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgcmV0LmZyZWUgPSAmanNfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigocmV0LmRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZyZXQuc2l6ZSwgdmFsdWUpKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl90byhKU0J1ZmZlciBidWYsIHZvaWQqKiBwcHRyLCBzaXplX3QqIHBsZW4pIHsKICBpZihwcHRyKQogICAgKnBwdHIgPSBidWYuZGF0YTsKICBpZihwbGVuKQogICAgKnBsZW4gPSBidWYuc2l6ZTsKfQoKdm9pZApqc19idWZmZXJfdG8zKEpTQnVmZmVyIGJ1ZiwgY29uc3QgY2hhcioqIHBzdHIsIHZvaWQqKiBwcHRyLCB1bnNpZ25lZCogcGxlbikgewogIGlmKCFKU19Jc1N0cmluZyhidWYudmFsdWUpKSB7CiAgICBzaXplX3QgbGVuID0gMDsKICAgIGpzX2J1ZmZlcl90byhidWYsIHBwdHIsICZsZW4pOwogICAgaWYocGxlbikKICAgICAgKnBsZW4gPSBsZW47CiAgfSBlbHNlCiAgICAqcHN0ciA9IChjb25zdCBjaGFyKilidWYuZGF0YTsKfQoKQk9PTApqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpKU0J1ZmZlcgpqc19idWZmZXJfY2xvbmUoY29uc3QgSlNCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIEpTQnVmZmVyIHJldDsKCiAganNfYnVmZmVyX2Zyb20oY3R4LCAmcmV0LCBpbi0+dmFsdWUpOwoKICAvKiAgcmV0LnNpemUgPSBpbi0+c2l6ZTsKICAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsqLwoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiBpbiwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiKEpTQnVmZmVyKXsgLmRhdGEgPSAlcCwgLnNpemUgPSAlenUsIC5mcmVlID0gJXAgfSIsIGluLT5kYXRhLCBpbi0+c2l6ZSwgaW4tPmZyZWUpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiBpbiwgSlNDb250ZXh0KiBjdHgpIHsKICBpZihpbi0+ZGF0YSkgewogICAgaW4tPmZyZWUoSlNfR2V0UnVudGltZShjdHgpLCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAiU3ltYm9sIik7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX29zKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKfQoKSlNWYWx1ZQpqc19vc19nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIG9zX29iaiA9IGpzX2dsb2JhbF9vcyhjdHgpOwogIEpTVmFsdWUgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvc19vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9zX29iaik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190aW1lcl9zdGFydChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIEpTVmFsdWUgc2V0X3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAic2V0VGltZW91dCIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge2ZuLCBKU19NS1ZBTChKU19UQUdfSU5ULCBtcyl9OwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF90aW1lb3V0LCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNldF90aW1lb3V0KTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3RpbWVyX2NhbmNlbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRpbWVyKSB7CiAgSlNWYWx1ZSBjbGVhcl90aW1lb3V0ID0ganNfb3NfZ2V0KGN0eCwgImNsZWFyVGltZW91dCIpOwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIGNsZWFyX3RpbWVvdXQsIEpTX1VOREVGSU5FRCwgMSwgJnRpbWVyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjbGVhcl90aW1lb3V0KTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eDsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aGFuZGxlcik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5jYWxsYmFjayk7CgogICAganNfZnJlZShjdHgsIGNsb3N1cmUpOwogIH0KfQoKSlNWYWx1ZQpqc190aW1lcl9jYWxsYmFjayhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMsIHZvaWQqIG9wYXF1ZSkgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbXSA9IHtjbG9zdXJlLT5pZCwgY2xvc3VyZS0+aGFuZGxlciwgY2xvc3VyZS0+Y2FsbGJhY2ssIEpTX05ld1VpbnQzMihjdHgsIGNsb3N1cmUtPmludGVydmFsKX07CgogIHJldCA9IEpTX0NhbGwoY3R4LCBjbG9zdXJlLT5oYW5kbGVyLCB0aGlzX3ZhbCwgY291bnRvZihhcmdzKSwgYXJncyk7CgogIGlmKCEoSlNfSXNCb29sKHJldCkgJiYgIUpTX1RvQm9vbChjdHgscmV0KSkpIHsKICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5pZCk7CiAgY2xvc3VyZS0+aWQgPSBqc190aW1lcl9zdGFydChjdHgsIGNsb3N1cmUtPmNhbGxiYWNrLCBjbG9zdXJlLT5pbnRlcnZhbCk7Cn0KCiAgcmV0dXJuIHJldDsKfQoKc3RydWN0IFRpbWVyQ2xvc3VyZSoKanNfdGltZXJfaW50ZXJ2YWwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmbiwgdWludDMyX3QgbXMpIHsKICBzdHJ1Y3QgVGltZXJDbG9zdXJlKiBjbG9zdXJlOwoKICBpZighKGNsb3N1cmUgPSBqc19tYWxsb2MoY3R4LCBzaXplb2Yoc3RydWN0IFRpbWVyQ2xvc3VyZSkpKSkKICAgIHJldHVybiAwOwoKICBjbG9zdXJlLT5yZWZfY291bnQgPSAxOwogIGNsb3N1cmUtPmN0eCA9IGN0eDsKICBjbG9zdXJlLT5pbnRlcnZhbCA9IG1zOwogIGNsb3N1cmUtPmhhbmRsZXIgPSBKU19EdXBWYWx1ZShjdHgsIGZuKTsKICBjbG9zdXJlLT5jYWxsYmFjayA9IEpTX05ld0NDbG9zdXJlKGN0eCwganNfdGltZXJfY2FsbGJhY2ssIDAsIDAsIGNsb3N1cmUsIGpzX3RpbWVyX2ZyZWUpOwogIGNsb3N1cmUtPmlkID0ganNfdGltZXJfc3RhcnQoY3R4LCBjbG9zdXJlLT5jYWxsYmFjaywgbXMpOwoKICByZXR1cm4gY2xvc3VyZTsKfQoKdm9pZApqc190aW1lcl9yZXN0YXJ0KHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmUpIHsKICBqc190aW1lcl9jYW5jZWwoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5pZCk7CiAgSlNfRnJlZVZhbHVlKGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+aWQpOwogIGNsb3N1cmUtPmlkID0ganNfdGltZXJfc3RhcnQoY2xvc3VyZS0+Y3R4LCBjbG9zdXJlLT5jYWxsYmFjaywgY2xvc3VyZS0+aW50ZXJ2YWwpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcykgewogIGZ1bmNzLT5hcnJheVswXSA9IEpTX05VTEw7CiAgZnVuY3MtPmFycmF5WzFdID0gSlNfTlVMTDsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4gSlNfSXNOdWxsKGZ1bmNzLT5hcnJheVswXSkgJiYgSlNfSXNOdWxsKGZ1bmNzLT5hcnJheVsxXSk7Cn0KCnZvaWQKanNfcHJvbWlzZV9mcmVlKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcykgewogIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNzLT5hcnJheVswXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZnVuY3MtPmFycmF5WzFdKTsKICBqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKGZ1bmNzKTsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3Jlc29sdmVfZnVuY3Rpb25zX2NhbGwoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzLCBpbnQgaW5kZXgsIEpTVmFsdWVDb25zdCBhcmcpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBhc3NlcnQoIUpTX0lzTnVsbChmdW5jcy0+YXJyYXlbaW5kZXhdKSk7CiAgcmV0ID0gSlNfQ2FsbChjdHgsIGZ1bmNzLT5hcnJheVtpbmRleF0sIEpTX1VOREVGSU5FRCwgMSwgJmFyZyk7CiAganNfcHJvbWlzZV9mcmVlKGN0eCwgZnVuY3MpOwogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmpzX3Rvc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIGxlbnAsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHNpemVfdCBsZW47CiAgY29uc3QgY2hhciogY3N0cjsKICBjaGFyKiByZXQgPSAwOwogIGlmKChjc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpKSkgewogICAgcmV0ID0ganNfc3RybmR1cChjdHgsIGNzdHIsIGxlbik7CiAgICBpZihsZW5wKQogICAgICAqbGVucCA9IGxlbjsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgY3N0cik7CiAgfQogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmpzX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfdG9zdHJpbmdsZW4oY3R4LCAwLCB2YWx1ZSk7Cn0KCkpTVmFsdWUKanNfaW52b2tlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc19vYmosIGNvbnN0IGNoYXIqIG1ldGhvZCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU0F0b20gYXRvbSA9IEpTX05ld0F0b20oY3R4LCBtZXRob2QpOwogIEpTVmFsdWUgcmV0ID0gSlNfSW52b2tlKGN0eCwgdGhpc19vYmosIGF0b20sIGFyZ2MsIGFyZ3YpOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX2NyZWF0ZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBKU1ZhbHVlIHJldDsKCiAgcmV0ID0gSlNfTmV3UHJvbWlzZUNhcGFiaWxpdHkoY3R4LCBmdW5jcy0+YXJyYXkpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9yZXNvbHZlKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcywgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Jlc29sdmVfZnVuY3Rpb25zX2NhbGwoY3R4LCBmdW5jcywgMCwgdmFsdWUpOwp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfcmVqZWN0KEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcywgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Jlc29sdmVfZnVuY3Rpb25zX2NhbGwoY3R4LCBmdW5jcywgMSwgdmFsdWUpOwp9Cgp2b2lkCmpzX3Byb21pc2VfemVybyhSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcykgewogIGpzX3Jlc29sdmVfZnVuY3Rpb25zX3plcm8oZnVuY3MpOwp9CgpCT09MCmpzX3Byb21pc2VfcGVuZGluZyhSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiAhanNfcmVzb2x2ZV9mdW5jdGlvbnNfaXNfbnVsbChmdW5jcyk7Cn0KCkJPT0wKanNfcHJvbWlzZV9kb25lKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqIGZ1bmNzKSB7CiAgcmV0dXJuIGpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwoZnVuY3MpOwp9CgpCT09MCmpzX2lzX3Byb21pc2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTVmFsdWUgY3RvcjsKICBCT09MIHJldDsKCiAgY3RvciA9IGpzX2dsb2JhbF9nZXQoY3R4LCAiUHJvbWlzZSIpOwogIHJldCA9IEpTX0lzSW5zdGFuY2VPZihjdHgsIHZhbHVlLCBjdG9yKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19lcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGZtdCwgLi4uKSB7CiAgdmFfbGlzdCBhcmdzOwogIEpTVmFsdWUgZXJyID0gSlNfTmV3RXJyb3IoY3R4KTsKICBjaGFyIGJ1ZlsxMDI0XTsKCiAgdmFfc3RhcnQoYXJncywgZm10KTsKICB2c25wcmludGYoYnVmLCBzaXplb2YoYnVmKSwgZm10LCBhcmdzKTsKICB2YV9lbmQoYXJncyk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZXJyLCAibWVzc2FnZSIsIEpTX05ld1N0cmluZyhjdHgsIGJ1ZikpOwogIHJldHVybiBlcnI7Cn0KCnVpbnQ4X3QqCmpzX3RvcHRyc2l6ZShKU0NvbnRleHQqIGN0eCwgdW5zaWduZWQgaW50KiBwbGVuLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbiA9IDA7CiAgdm9pZCAqcmV0ID0gMCwgKnB0cjsKICBpZigocHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbiwgdmFsdWUpKSkgewogICAgaWYoKHJldCA9IGpzX21hbGxvYyhjdHgsIG4pKSkKICAgICAgbWVtY3B5KHJldCwgcHRyLCBuKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKSB7CiAgQk9PTCByZXQgPSBGQUxTRTsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHN0cik7CiAgaWYoIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldCA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBsaXN0X2hlYWQqCmpzX21vZHVsZV9saXN0KEpTQ29udGV4dCogY3R4KSB7CiAgdm9pZCogdG1wX29wYXF1ZTsKICBwdHJkaWZmX3QgbmVlZGxlOwogIHZvaWQqKiBwdHI7CiAgdG1wX29wYXF1ZSA9IEpTX0dldENvbnRleHRPcGFxdWUoY3R4KTsKICBtZW1zZXQoJm5lZWRsZSwgMHhhNSwgc2l6ZW9mKG5lZWRsZSkpOwogIEpTX1NldENvbnRleHRPcGFxdWUoY3R4LCBuZWVkbGUpOwoKICBwdHIgPSBtZW1tZW0oY3R4LCAxMDI0LCAmbmVlZGxlLCBzaXplb2YobmVlZGxlKSk7CiAgcHJpbnRmKCJjdHggPSAlcFxuIiwgY3R4KTsKICBwcmludGYoIiZuZWVkbGUgPSAlcFxuIiwgJm5lZWRsZSk7CiAgcHJpbnRmKCJwdHIgPSAlcFxuIiwgcHRyKTsKICBwcmludGYoImN0eC51c2VyX29wYXF1ZSA9ICUwMTZ6eFxuIiwgKGNoYXIqKXB0ciAtIChjaGFyKiljdHgpOwogIEpTX1NldENvbnRleHRPcGFxdWUoY3R4LCB0bXBfb3BhcXVlKTsKCiAgcmV0dXJuICgoc3RydWN0IGxpc3RfaGVhZCopKHB0ciAtIDIpKSAtIDE7Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfYXQoSlNDb250ZXh0KiBjdHgsIGludCBpKSB7CiAgc3RydWN0IGxpc3RfaGVhZCAqZWwsICpsaXN0ID0ganNfbW9kdWxlX2xpc3QoY3R4KTsKCiAgbGlzdF9mb3JfZWFjaChsaXN0LCBlbCkgewogICAgSlNNb2R1bGVEZWYqIG1vZHVsZSA9IChjaGFyKillbCAtIHNpemVvZihKU0F0b20pICogMjsKCiAgICBpZihpLS0gPT0gMCkKICAgICAgcmV0dXJuIG1vZHVsZTsKICB9CiAgcmV0dXJuIDA7Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfZmluZChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIG5hbWUpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkICplbCwgKmxpc3QgPSBqc19tb2R1bGVfbGlzdChjdHgpOwoKICBsaXN0X2Zvcl9lYWNoKGVsLCBsaXN0KSB7CiAgICBKU01vZHVsZURlZiogbW9kdWxlID0gKGNoYXIqKWVsIC0gc2l6ZW9mKEpTQXRvbSkgKiAyOwoKICAgIGlmKCgoSlNBdG9tKiltb2R1bGUpWzFdID09IG5hbWUpCiAgICAgIHJldHVybiBtb2R1bGU7CiAgfQogIHJldHVybiAwOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2ZpbmRfcyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTQXRvbSBhdG9tOwogIEpTTW9kdWxlRGVmKiBtb2R1bGU7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCBuYW1lKTsKICBtb2R1bGUgPSBqc19tb2R1bGVfZmluZChjdHgsIGF0b20pOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgcmV0dXJuIG1vZHVsZTsKfQoKdm9pZCoKanNfbW9kdWxlX2V4cG9ydF9maW5kKEpTTW9kdWxlRGVmKiBtb2R1bGUsIEpTQXRvbSBuYW1lKSB7CiAgdm9pZCogZXhwb3J0X2VudHJpZXMgPSAqKHZvaWQqKikoKGNoYXIqKW1vZHVsZSArIHNpemVvZihpbnQpICogMiArIHNpemVvZihzdHJ1Y3QgbGlzdF9oZWFkKSArIHNpemVvZih2b2lkKikgKyBzaXplb2YoaW50KSAqIDIpOwogIGludCBleHBvcnRfZW50cmllc19jb3VudCA9ICooaW50KikoKGNoYXIqKW1vZHVsZSArIHNpemVvZihpbnQpICogMiArIHNpemVvZihzdHJ1Y3QgbGlzdF9oZWFkKSArIHNpemVvZih2b2lkKikgKyBzaXplb2YoaW50KSAqIDIgKyBzaXplb2Yodm9pZCopKTsKICBzdGF0aWMgY29uc3Qgc2l6ZV90IGV4cG9ydF9lbnRyeV9zaXplID0gc2l6ZW9mKHZvaWQqKSAqIDIgKyBzaXplb2YoaW50KSAqIDI7CiAgc2l6ZV90IGk7CgogIGZvcihpID0gMDsgaSA8IGV4cG9ydF9lbnRyaWVzX2NvdW50OyBpKyspIHsKICAgIHZvaWQqIGVudHJ5ID0gKGNoYXIqKWV4cG9ydF9lbnRyaWVzICsgZXhwb3J0X2VudHJ5X3NpemUgKiBpOwoKICAgIEpTQXRvbSogZXhwb3J0X25hbWUgPSAoY2hhciopZW50cnkgKyBzaXplb2Yodm9pZCopICogMiArIHNpemVvZihpbnQpICogMjsKCiAgICBpZigqZXhwb3J0X25hbWUgPT0gbmFtZSkKICAgICAgcmV0dXJuIGVudHJ5OwogIH0KCiAgcmV0dXJuIDA7Cn0KCkpTVmFsdWUKanNfbW9kdWxlX2ltcG9ydF9tZXRhKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKChtID0ganNfbW9kdWxlX2xvYWRlcihjdHgsIG5hbWUsIDApKSkgewogICAgcmV0ID0gSlNfR2V0SW1wb3J0TWV0YShjdHgsIG0pOwogIH0KICByZXR1cm4gcmV0Owp9CgAAAAAAAAAAHDcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvB4AAAAAAAC8HgAAAAAAAAAAAAAAAPC/"
				],
				[
					3577,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAcNwAAI2RlZmluZSBfR05VX1NPVVJDRQojaW5jbHVkZSA8c3RkYXJnLmg+CiNpbmNsdWRlIDxzdGRkZWYuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgojaW5jbHVkZSAianN1dGlscy5oIgoKSlNWYWx1ZQp2ZWN0b3IyYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGFyZ3ZbaV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfY29uc29sZV9sb2coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIGNvbnNvbGUsIEpTVmFsdWUqIGNvbnNvbGVfbG9nKSB7CiAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAqY29uc29sZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiY29uc29sZSIpOwogICpjb25zb2xlX2xvZyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgKmNvbnNvbGUsICJsb2ciKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUqIGZ1bmNfZGF0YSkgewogIEpTVmFsdWUgYXJnc1thcmdjICsgbWFnaWNdOwogIGludCBpLCBqOwogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIHRoaXNfdmFsLCBpLCBhcmdzKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kXzEoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCAxLCAmYXJnKTsKfQoKLypKU1ZhbHVlCmpzX2Z1bmN0aW9uX2JpbmRfdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBEeW5CdWYgYjsKICBKU1ZhbHVlQ29uc3QgYXJnOwogIGRidWZfaW5pdDIoJmIsIGN0eCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jKTsKICB2YV9zdGFydChhcmdzLCBmdW5jKTsKICB3aGlsZSgoYXJnID0gdmFfYXJnKGFyZ3MsIEpTVmFsdWVDb25zdCkpKSB7IGRidWZfcHV0KCZiLCAmYXJnLCBzaXplb2YoSlNWYWx1ZUNvbnN0KSk7IH0KICB2YV9lbmQoYXJncyk7CiAgcmV0dXJuIGpzX2Z1bmN0aW9uX2JpbmQoY3R4LCBmdW5jLCBiLnNpemUgLyBzaXplb2YoSlNWYWx1ZUNvbnN0KSwgKEpTVmFsdWVDb25zdCopYi5idWYpOwp9Ki8KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSogbmV4dCwgQk9PTCogZG9uZV9wLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CgogIGlmKCFKU19Jc09iamVjdChvYmopKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3QgKCVkKSBcIiVzXCIiLCBKU19WQUxVRV9HRVRfVEFHKG9iaiksIEpTX1RvQ1N0cmluZyhjdHgsIG9iaikpOwoKICBpZihKU19Jc09iamVjdCgqbmV4dCkgJiYgSlNfSXNGdW5jdGlvbihjdHgsICpuZXh0KSkgewogICAgZm4gPSAqbmV4dDsKICB9IGVsc2UgewogICAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgICBpZihKU19Jc1VuZGVmaW5lZChmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QgZG9lcyBub3QgaGF2ZSAnbmV4dCcgbWV0aG9kIik7CgogICAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBmbikpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJvYmplY3QubmV4dCBpcyBub3QgYSBmdW5jdGlvbiIpOwoKICAgICpuZXh0ID0gZm47CiAgfQoKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXN1bHQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKaW50CmpzX2NvcHlfcHJvcGVydGllcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGRzdCwgSlNWYWx1ZUNvbnN0IHNyYywgaW50IGZsYWdzKSB7CiAgSlNQcm9wZXJ0eUVudW0qIHRhYjsKICB1aW50MzJfdCB0YWJfbGVuLCBpOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJnRhYiwgJnRhYl9sZW4sIHNyYywgZmxhZ3MpKQogICAgcmV0dXJuIC0xOwoKICBmb3IoaSA9IDA7IGkgPCB0YWJfbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eShjdHgsIHNyYywgdGFiW2ldLmF0b20pOwogICAgSlNfU2V0UHJvcGVydHkoY3R4LCBkc3QsIHRhYltpXS5hdG9tLCB2YWx1ZSk7CiAgfQogIHJldHVybiBpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LCBKU0J1ZmZlciogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBidWYtPmRhdGEgPSAwOwogIGJ1Zi0+c2l6ZSA9IDA7CiAgYnVmLT5mcmVlID0gJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQ7CiAgYnVmLT52YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICBidWYtPmRhdGEgPSAodWludDhfdCopSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmJ1Zi0+c2l6ZSwgdmFsdWUpOwogICAgYnVmLT52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigoYnVmLT5kYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmYnVmLT5zaXplLCB2YWx1ZSkpKSB7CiAgICBidWYtPnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQp9CgpKU0J1ZmZlcgpqc19idWZmZXJfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU0J1ZmZlciByZXQgPSB7MCwgMCwgJmpzX2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgcmV0LmZyZWUgPSAmanNfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IHZhbHVlOwogIH0gZWxzZSBpZigocmV0LmRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZyZXQuc2l6ZSwgdmFsdWUpKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl90byhKU0J1ZmZlciBidWYsIHZvaWQqKiBwcHRyLCBzaXplX3QqIHBsZW4pIHsKICBpZihwcHRyKQogICAgKnBwdHIgPSBidWYuZGF0YTsKICBpZihwbGVuKQogICAgKnBsZW4gPSBidWYuc2l6ZTsKfQoKdm9pZApqc19idWZmZXJfdG8zKEpTQnVmZmVyIGJ1ZiwgY29uc3QgY2hhcioqIHBzdHIsIHZvaWQqKiBwcHRyLCB1bnNpZ25lZCogcGxlbikgewogIGlmKCFKU19Jc1N0cmluZyhidWYudmFsdWUpKSB7CiAgICBzaXplX3QgbGVuID0gMDsKICAgIGpzX2J1ZmZlcl90byhidWYsIHBwdHIsICZsZW4pOwogICAgaWYocGxlbikKICAgICAgKnBsZW4gPSBsZW47CiAgfSBlbHNlCiAgICAqcHN0ciA9IChjb25zdCBjaGFyKilidWYuZGF0YTsKfQoKQk9PTApqc19idWZmZXJfdmFsaWQoY29uc3QgSlNCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpKU0J1ZmZlcgpqc19idWZmZXJfY2xvbmUoY29uc3QgSlNCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIEpTQnVmZmVyIHJldDsKCiAganNfYnVmZmVyX2Zyb20oY3R4LCAmcmV0LCBpbi0+dmFsdWUpOwoKICAvKiAgcmV0LnNpemUgPSBpbi0+c2l6ZTsKICAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsqLwoKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX2J1ZmZlcl9kdW1wKGNvbnN0IEpTQnVmZmVyKiBpbiwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiKEpTQnVmZmVyKXsgLmRhdGEgPSAlcCwgLnNpemUgPSAlenUsIC5mcmVlID0gJXAgfSIsIGluLT5kYXRhLCBpbi0+c2l6ZSwgaW4tPmZyZWUpOwp9Cgp2b2lkCmpzX2J1ZmZlcl9mcmVlKEpTQnVmZmVyKiBpbiwgSlNDb250ZXh0KiBjdHgpIHsKICBpZihpbi0+ZGF0YSkgewogICAgaW4tPmZyZWUoSlNfR2V0UnVudGltZShjdHgpLCBpbiwgaW4tPmRhdGEpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnZhbHVlID0gSlNfVU5ERUZJTkVEOwogIH0KfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19Jc1VuZGVmaW5lZChzeW0pID8gLTEgOiBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAiU3ltYm9sIik7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX29zKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXQoY3R4LCAib3MiKTsKfQoKSlNWYWx1ZQpqc19vc19nZXQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIG9zX29iaiA9IGpzX2dsb2JhbF9vcyhjdHgpOwogIEpTVmFsdWUgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvc19vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9zX29iaik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190aW1lcl9zdGFydChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZuLCB1aW50MzJfdCBtcykgewogIEpTVmFsdWUgc2V0X3RpbWVvdXQgPSBqc19vc19nZXQoY3R4LCAic2V0VGltZW91dCIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge2ZuLCBKU19NS1ZBTChKU19UQUdfSU5ULCBtcyl9OwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF90aW1lb3V0LCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNldF90aW1lb3V0KTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3RpbWVyX2NhbmNlbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRpbWVyKSB7CiAgSlNWYWx1ZSBjbGVhcl90aW1lb3V0ID0ganNfb3NfZ2V0KGN0eCwgImNsZWFyVGltZW91dCIpOwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbChjdHgsIGNsZWFyX3RpbWVvdXQsIEpTX1VOREVGSU5FRCwgMSwgJnRpbWVyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjbGVhcl90aW1lb3V0KTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUodm9pZCogcHRyKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZSA9IHB0cjsKICBKU0NvbnRleHQqIGN0eDsKCiAgaWYoLS1jbG9zdXJlLT5yZWZfY291bnQgPT0gMCkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aWQpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgY2xvc3VyZS0+aGFuZGxlcik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5jYWxsYmFjayk7CgogICAganNfZnJlZShjdHgsIGNsb3N1cmUpOwogIH0KfQoKSlNWYWx1ZQpqc190aW1lcl9jYWxsYmFjayhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMsIHZvaWQqIG9wYXF1ZSkgewogIHN0cnVjdCBUaW1lckNsb3N1cmUqIGNsb3N1cmUgPSBvcGFxdWU7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbXSA9IHtjbG9zdXJlLT5pZCwgY2xvc3VyZS0+aGFuZGxlciwgY2xvc3VyZS0+Y2FsbGJhY2ssIEpTX05ld1VpbnQzMihjdHgsIGNsb3N1cmUtPmludGVydmFsKX07CgogIHJldCA9IEpTX0NhbGwoY3R4LCBjbG9zdXJlLT5oYW5kbGVyLCB0aGlzX3ZhbCwgY291bnRvZihhcmdzKSwgYXJncyk7CgogIGlmKCEoSlNfSXNCb29sKHJldCkgJiYgIUpTX1RvQm9vbChjdHgsIHJldCkpKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBjbG9zdXJlLT5pZCk7CiAgICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGN0eCwgY2xvc3VyZS0+Y2FsbGJhY2ssIGNsb3N1cmUtPmludGVydmFsKTsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0cnVjdCBUaW1lckNsb3N1cmUqCmpzX3RpbWVyX2ludGVydmFsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZm4sIHVpbnQzMl90IG1zKSB7CiAgc3RydWN0IFRpbWVyQ2xvc3VyZSogY2xvc3VyZTsKCiAgaWYoIShjbG9zdXJlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKHN0cnVjdCBUaW1lckNsb3N1cmUpKSkpCiAgICByZXR1cm4gMDsKCiAgY2xvc3VyZS0+cmVmX2NvdW50ID0gMTsKICBjbG9zdXJlLT5jdHggPSBjdHg7CiAgY2xvc3VyZS0+aW50ZXJ2YWwgPSBtczsKICBjbG9zdXJlLT5oYW5kbGVyID0gSlNfRHVwVmFsdWUoY3R4LCBmbik7CiAgY2xvc3VyZS0+Y2FsbGJhY2sgPSBKU19OZXdDQ2xvc3VyZShjdHgsIGpzX3RpbWVyX2NhbGxiYWNrLCAwLCAwLCBjbG9zdXJlLCBqc190aW1lcl9mcmVlKTsKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGN0eCwgY2xvc3VyZS0+Y2FsbGJhY2ssIG1zKTsKCiAgcmV0dXJuIGNsb3N1cmU7Cn0KCnZvaWQKanNfdGltZXJfcmVzdGFydChzdHJ1Y3QgVGltZXJDbG9zdXJlKiBjbG9zdXJlKSB7CiAganNfdGltZXJfY2FuY2VsKGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+aWQpOwogIEpTX0ZyZWVWYWx1ZShjbG9zdXJlLT5jdHgsIGNsb3N1cmUtPmlkKTsKICBjbG9zdXJlLT5pZCA9IGpzX3RpbWVyX3N0YXJ0KGNsb3N1cmUtPmN0eCwgY2xvc3VyZS0+Y2FsbGJhY2ssIGNsb3N1cmUtPmludGVydmFsKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3Jlc29sdmVfZnVuY3Rpb25zX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBmdW5jcy0+YXJyYXlbMF0gPSBKU19OVUxMOwogIGZ1bmNzLT5hcnJheVsxXSA9IEpTX05VTEw7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKFJlc29sdmVGdW5jdGlvbnMgY29uc3QqIGZ1bmNzKSB7CiAgcmV0dXJuIEpTX0lzTnVsbChmdW5jcy0+YXJyYXlbMF0pICYmIEpTX0lzTnVsbChmdW5jcy0+YXJyYXlbMV0pOwp9Cgp2b2lkCmpzX3Byb21pc2VfZnJlZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jcy0+YXJyYXlbMF0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmNzLT5hcnJheVsxXSk7CiAganNfcmVzb2x2ZV9mdW5jdGlvbnNfemVybyhmdW5jcyk7Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKEpTQ29udGV4dCogY3R4LCBSZXNvbHZlRnVuY3Rpb25zKiBmdW5jcywgaW50IGluZGV4LCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYXNzZXJ0KCFKU19Jc051bGwoZnVuY3MtPmFycmF5W2luZGV4XSkpOwogIHJldCA9IEpTX0NhbGwoY3R4LCBmdW5jcy0+YXJyYXlbaW5kZXhdLCBKU19VTkRFRklORUQsIDEsICZhcmcpOwogIGpzX3Byb21pc2VfZnJlZShjdHgsIGZ1bmNzKTsKICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGNzdHIpOwogIH0KICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpKU1ZhbHVlCmpzX2ludm9rZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLCBjb25zdCBjaGFyKiBtZXRob2QsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNBdG9tIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbWV0aG9kKTsKICBKU1ZhbHVlIHJldCA9IEpTX0ludm9rZShjdHgsIHRoaXNfb2JqLCBhdG9tLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9jcmVhdGUoSlNDb250ZXh0KiBjdHgsIFJlc29sdmVGdW5jdGlvbnMqIGZ1bmNzKSB7CiAgSlNWYWx1ZSByZXQ7CgogIHJldCA9IEpTX05ld1Byb21pc2VDYXBhYmlsaXR5KGN0eCwgZnVuY3MtPmFycmF5KTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3Byb21pc2VfcmVzb2x2ZShKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDAsIHZhbHVlKTsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3JlamVjdChKU0NvbnRleHQqIGN0eCwgUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19jYWxsKGN0eCwgZnVuY3MsIDEsIHZhbHVlKTsKfQoKdm9pZApqc19wcm9taXNlX3plcm8oUmVzb2x2ZUZ1bmN0aW9ucyogZnVuY3MpIHsKICBqc19yZXNvbHZlX2Z1bmN0aW9uc196ZXJvKGZ1bmNzKTsKfQoKQk9PTApqc19wcm9taXNlX3BlbmRpbmcoUmVzb2x2ZUZ1bmN0aW9ucyBjb25zdCogZnVuY3MpIHsKICByZXR1cm4gIWpzX3Jlc29sdmVfZnVuY3Rpb25zX2lzX251bGwoZnVuY3MpOwp9CgpCT09MCmpzX3Byb21pc2VfZG9uZShSZXNvbHZlRnVuY3Rpb25zIGNvbnN0KiBmdW5jcykgewogIHJldHVybiBqc19yZXNvbHZlX2Z1bmN0aW9uc19pc19udWxsKGZ1bmNzKTsKfQoKQk9PTApqc19pc19wcm9taXNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3I7CiAgQk9PTCByZXQ7CgogIGN0b3IgPSBqc19nbG9iYWxfZ2V0KGN0eCwgIlByb21pc2UiKTsKICByZXQgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCB2YWx1ZSwgY3Rvcik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZXJyb3JfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBmbXQsIC4uLikgewogIHZhX2xpc3QgYXJnczsKICBKU1ZhbHVlIGVyciA9IEpTX05ld0Vycm9yKGN0eCk7CiAgY2hhciBidWZbMTAyNF07CgogIHZhX3N0YXJ0KGFyZ3MsIGZtdCk7CiAgdnNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksIGZtdCwgYXJncyk7CiAgdmFfZW5kKGFyZ3MpOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVyciwgIm1lc3NhZ2UiLCBKU19OZXdTdHJpbmcoY3R4LCBidWYpKTsKICByZXR1cm4gZXJyOwp9Cgp1aW50OF90Kgpqc190b3B0cnNpemUoSlNDb250ZXh0KiBjdHgsIHVuc2lnbmVkIGludCogcGxlbiwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc2l6ZV90IG4gPSAwOwogIHZvaWQgKnJldCA9IDAsICpwdHI7CiAgaWYoKHB0ciA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJm4sIHZhbHVlKSkpIHsKICAgIGlmKChyZXQgPSBqc19tYWxsb2MoY3R4LCBuKSkpCiAgICAgIG1lbWNweShyZXQsIHB0ciwgbik7CiAgfQogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfZ2V0X3Byb3BlcnR5c3RyX2Jvb2woSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHN0cikgewogIEJPT0wgcmV0ID0gRkFMU0U7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBzdHIpOwogIGlmKCFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXQgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpzdHJ1Y3QgbGlzdF9oZWFkKgpqc19tb2R1bGVfbGlzdChKU0NvbnRleHQqIGN0eCkgewogIHZvaWQqIHRtcF9vcGFxdWU7CiAgcHRyZGlmZl90IG5lZWRsZTsKICB2b2lkKiogcHRyOwogIHRtcF9vcGFxdWUgPSBKU19HZXRDb250ZXh0T3BhcXVlKGN0eCk7CiAgbWVtc2V0KCZuZWVkbGUsIDB4YTUsIHNpemVvZihuZWVkbGUpKTsKICBKU19TZXRDb250ZXh0T3BhcXVlKGN0eCwgbmVlZGxlKTsKCiAgcHRyID0gbWVtbWVtKGN0eCwgMTAyNCwgJm5lZWRsZSwgc2l6ZW9mKG5lZWRsZSkpOwogIHByaW50ZigiY3R4ID0gJXBcbiIsIGN0eCk7CiAgcHJpbnRmKCImbmVlZGxlID0gJXBcbiIsICZuZWVkbGUpOwogIHByaW50ZigicHRyID0gJXBcbiIsIHB0cik7CiAgcHJpbnRmKCJjdHgudXNlcl9vcGFxdWUgPSAlMDE2enhcbiIsIChjaGFyKilwdHIgLSAoY2hhciopY3R4KTsKICBKU19TZXRDb250ZXh0T3BhcXVlKGN0eCwgdG1wX29wYXF1ZSk7CgogIHJldHVybiAoKHN0cnVjdCBsaXN0X2hlYWQqKShwdHIgLSAyKSkgLSAxOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2F0KEpTQ29udGV4dCogY3R4LCBpbnQgaSkgewogIHN0cnVjdCBsaXN0X2hlYWQgKmVsLCAqbGlzdCA9IGpzX21vZHVsZV9saXN0KGN0eCk7CgogIGxpc3RfZm9yX2VhY2gobGlzdCwgZWwpIHsKICAgIEpTTW9kdWxlRGVmKiBtb2R1bGUgPSAoY2hhciopZWwgLSBzaXplb2YoSlNBdG9tKSAqIDI7CgogICAgaWYoaS0tID09IDApCiAgICAgIHJldHVybiBtb2R1bGU7CiAgfQogIHJldHVybiAwOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2ZpbmQoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBuYW1lKSB7CiAgc3RydWN0IGxpc3RfaGVhZCAqZWwsICpsaXN0ID0ganNfbW9kdWxlX2xpc3QoY3R4KTsKCiAgbGlzdF9mb3JfZWFjaChlbCwgbGlzdCkgewogICAgSlNNb2R1bGVEZWYqIG1vZHVsZSA9IChjaGFyKillbCAtIHNpemVvZihKU0F0b20pICogMjsKCiAgICBpZigoKEpTQXRvbSopbW9kdWxlKVsxXSA9PSBuYW1lKQogICAgICByZXR1cm4gbW9kdWxlOwogIH0KICByZXR1cm4gMDsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9maW5kX3MoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU0F0b20gYXRvbTsKICBKU01vZHVsZURlZiogbW9kdWxlOwogIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbmFtZSk7CiAgbW9kdWxlID0ganNfbW9kdWxlX2ZpbmQoY3R4LCBhdG9tKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiBtb2R1bGU7Cn0KCnZvaWQqCmpzX21vZHVsZV9leHBvcnRfZmluZChKU01vZHVsZURlZiogbW9kdWxlLCBKU0F0b20gbmFtZSkgewogIHZvaWQqIGV4cG9ydF9lbnRyaWVzID0gKih2b2lkKiopKChjaGFyKiltb2R1bGUgKyBzaXplb2YoaW50KSAqIDIgKyBzaXplb2Yoc3RydWN0IGxpc3RfaGVhZCkgKyBzaXplb2Yodm9pZCopICsgc2l6ZW9mKGludCkgKiAyKTsKICBpbnQgZXhwb3J0X2VudHJpZXNfY291bnQgPSAqKGludCopKChjaGFyKiltb2R1bGUgKyBzaXplb2YoaW50KSAqIDIgKyBzaXplb2Yoc3RydWN0IGxpc3RfaGVhZCkgKyBzaXplb2Yodm9pZCopICsgc2l6ZW9mKGludCkgKiAyICsgc2l6ZW9mKHZvaWQqKSk7CiAgc3RhdGljIGNvbnN0IHNpemVfdCBleHBvcnRfZW50cnlfc2l6ZSA9IHNpemVvZih2b2lkKikgKiAyICsgc2l6ZW9mKGludCkgKiAyOwogIHNpemVfdCBpOwoKICBmb3IoaSA9IDA7IGkgPCBleHBvcnRfZW50cmllc19jb3VudDsgaSsrKSB7CiAgICB2b2lkKiBlbnRyeSA9IChjaGFyKilleHBvcnRfZW50cmllcyArIGV4cG9ydF9lbnRyeV9zaXplICogaTsKCiAgICBKU0F0b20qIGV4cG9ydF9uYW1lID0gKGNoYXIqKWVudHJ5ICsgc2l6ZW9mKHZvaWQqKSAqIDIgKyBzaXplb2YoaW50KSAqIDI7CgogICAgaWYoKmV4cG9ydF9uYW1lID09IG5hbWUpCiAgICAgIHJldHVybiBlbnRyeTsKICB9CgogIHJldHVybiAwOwp9CgpKU1ZhbHVlCmpzX21vZHVsZV9pbXBvcnRfbWV0YShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZigobSA9IGpzX21vZHVsZV9sb2FkZXIoY3R4LCBuYW1lLCAwKSkpIHsKICAgIHJldCA9IEpTX0dldEltcG9ydE1ldGEoY3R4LCBtKTsKICB9CiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAABw3AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMyEAAAAAAABDIQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-custom/minimal-http-server.c",
			"settings":
			{
				"buffer_size": 11288,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "cmake/BuildLibwebsockets.cmake",
			"settings":
			{
				"buffer_size": 14137,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					26,
					1,
					"right_delete",
					null,
					"AQAAAO4PAAAAAAAA7g8AAAAAAAA4AAAALURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0",
					"AQAAAAAAAAABAAAA7g8AAAAAAAAmEAAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"cut",
					null,
					"AQAAALkPAAAAAAAAuQ8AAAAAAAA0AAAAIC1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfQ",
					"AQAAAAAAAAABAAAAuQ8AAAAAAADtDwAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					2,
					"paste",
					null,
					"AgAAALkPAAAAAAAA7Q8AAAAAAAAAAAAA7Q8AAAAAAAAhEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQ8AAAAAAAC5DwAAAAAAAAAAAAAAAPC/"
				],
				[
					43,
					1,
					"paste",
					null,
					"AgAAAPAPAAAAAAAAARAAAAAAAAAAAAAAARAAAAAAAAABEAAAAAAAABUAAABMV1NfT1BFTlNTTF9MSUJSQVJJRVM",
					"AQAAAAAAAAABAAAA8A8AAAAAAAAFEAAAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAMRAAAAAAAABBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAxEAAAAAAAADEQAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"paste",
					null,
					"AQAAAAQRAAAAAAAAbhEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABBEAAAAAAAAEEQAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAACMRAAAAAAAAJBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIxEAAAAAAAAjEQAAAAAAAAAAAAAAAPC/"
				],
				[
					75,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAADoRAAAAAAAAOxEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOhEAAAAAAAA6EQAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAHARAAAAAAAAchEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcBEAAAAAAABwEQAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"right_delete",
					null,
					"AQAAAHERAAAAAAAAcREAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAcREAAAAAAABxEQAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAFoRAAAAAAAAWxEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWhEAAAAAAABaEQAAAAAAAAAAAAAAAPC/"
				],
				[
					92,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAALoPAAAAAAAAuw8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAug8AAAAAAAC6DwAAAAAAAAAAAAAAAPC/"
				],
				[
					95,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAO4PAAAAAAAA7w8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7g8AAAAAAADuDwAAAAAAAAAAAAAAAPC/"
				],
				[
					98,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAPAPAAAAAAAA8Q8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8A8AAAAAAADwDwAAAAAAAAAAAAAAAPC/"
				],
				[
					101,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAACAQAAAAAAAAIRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIBAAAAAAAAAgEAAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"right_delete",
					null,
					"AQAAACEQAAAAAAAAIRAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAIRAAAAAAAAAhEAAAAAAAAAAAAAAAAPC/"
				],
				[
					108,
					1,
					"cut",
					null,
					"AQAAAF0RAAAAAAAAXREAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAXhEAAAAAAABdEQAAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"paste",
					null,
					"AQAAAD8RAAAAAAAAQBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPxEAAAAAAAA/EQAAAAAAAAAAAAAAAPC/"
				],
				[
					116,
					1,
					"cut",
					null,
					"AQAAACYRAAAAAAAAJhEAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAJhEAAAAAAAAnEQAAAAAAAAAAAAAAAPC/"
				],
				[
					120,
					1,
					"paste",
					null,
					"AQAAAAgRAAAAAAAACREAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACBEAAAAAAAAIEQAAAAAAAAAAAAAAAPC/"
				],
				[
					122,
					1,
					"paste",
					null,
					"AQAAAAYRAAAAAAAABxEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABhEAAAAAAAAGEQAAAAAAAAAAAAAAAPC/"
				],
				[
					128,
					1,
					"paste",
					null,
					"AQAAAM4QAAAAAAAAzxAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzhAAAAAAAADOEAAAAAAAAAAAAAAAAPC/"
				],
				[
					131,
					1,
					"paste",
					null,
					"AQAAAM0QAAAAAAAAzhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzRAAAAAAAADNEAAAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					1,
					"paste",
					null,
					"AQAAAJUQAAAAAAAAlhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlRAAAAAAAACVEAAAAAAAAAAAAAAAAPC/"
				],
				[
					138,
					1,
					"paste",
					null,
					"AQAAAPARAAAAAAAA8REAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8BEAAAAAAADwEQAAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAACoSAAAAAAAAKxIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKhIAAAAAAAAqEgAAAAAAAAAAAAAAAPC/"
				],
				[
					150,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAACwSAAAAAAAALRIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALBIAAAAAAAAsEgAAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAGUSAAAAAAAAZhIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZRIAAAAAAABlEgAAAAAAAAAAAAAAAPC/"
				],
				[
					174,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGYSAAAAAAAAZxIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZhIAAAAAAABmEgAAAAAAAAAAAAAAAPC/"
				],
				[
					175,
					1,
					"paste",
					null,
					"AQAAAGcSAAAAAAAA1hIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZxIAAAAAAABnEgAAAAAAAAAAAAAAAPC/"
				],
				[
					189,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA2NAAAbWFjcm8oYnVpbGRfbGlid2Vic29ja2V0cykKICBtZXNzYWdlKCItLSBCdWlsZGluZyBMSUJXRUJTT0NLRVRTIGZyb20gc291cmNlIikKCiAgaWYoTk9UIERFRklORUQgTElCV0VCU09DS0VUU19DX0ZMQUdTKQogICAgbWVzc2FnZShGQVRBTF9FUlJPUiAiUGxlYXNlIHNldCBMSUJXRUJTT0NLRVRTX0NfRkxBR1MgYmVmb3JlIGluY2x1ZGluZyB0aGlzIGZpbGUuIikKICBlbmRpZigpCgogIHNldChMV1NfV0lUSE9VVF9URVNUQVBQUyBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1NFUlZFUiBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1BJTkcgVFJVRSkKICBzZXQoTFdTX1dJVEhPVVRfVEVTVF9DTElFTlQgVFJVRSkKICBzZXQoTFdTX0xJTktfVEVTVEFQUFNfRFlOQU1JQyBPRkYgQ0FDSEUgQk9PTCAibGluayB0ZXN0IGFwcHMgZHluYW1pYyIpCiAgc2V0KExXU19XSVRIX1NUQVRJQyBPTiBDQUNIRSBCT09MICJidWlsZCBsaWJ3ZWJzb2NrZXRzIHN0YXRpYyBsaWJyYXJ5IikKICBzZXQoTFdTX0hBVkVfTElCQ0FQIEZBTFNFIENBQ0hFIEJPT0wgImhhdmUgbGliY2FwIikKCiAgIyBpbmNsdWRlOiBsaWJ3ZWJzb2NrZXRzIGZpbmRfcGFja2FnZShsaWJ3ZWJzb2NrZXRzKQogIHVuc2V0KExJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVIpCiAgdW5zZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiBDQUNIRSkKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vbGlid2Vic29ja2V0cy9pbmNsdWRlICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2luY2x1ZGUpCiAgc2V0KExJQldFQlNPQ0tFVFNfRk9VTkQgT04gQ0FDSEUgQk9PTCAiZm91bmQgbGlid2Vic29ja2V0cyIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSSUVTICJicm90bGllbmM7YnJvdGxpZGVjO2NhcCIpCiAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIiR7T1BFTlNTTF9MSUJSQVJJRVN9OyR7TElCV0VCU09DS0VUU19MSUJSQVJJRVN9IikKICBlbHNlKE9QRU5TU0xfTElCUkFSSUVTKQogICAgaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtNQkVEVExTX0xJQlJBUklFU307JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICAgZW5kaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCgogICNpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliL2xpYndlYnNvY2tldHMuYTske0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSIpCiAgI2Vsc2UoRVhJU1RTICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cy9saWIvbGlid2Vic29ja2V0cy5hIikKICAjICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIndlYnNvY2tldHM7JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICNlbmRpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iIENBQ0hFIFNUUklORyAibGlid2Vic29ja2V0cyBsaWJyYXJpZXMiKQoKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAiJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSIgQ0FDSEUgUEFUSCAibGlid2Vic29ja2V0cyBpbmNsdWRlIGRpcmVjdG9yeSIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVIgJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIENBQ0hFIFBBVEggImxpYndlYnNvY2tldHMgbGlicmFyeSBkaXJlY3RvcnkiKQogICMgYWRkX3N1YmRpcmVjdG9yeShsaWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzKQogIGluY2x1ZGUoRXh0ZXJuYWxQcm9qZWN0KQoKICBpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9OIC1ETFdTX0hBVkVfRVZQX1BLRVlfbmV3X3Jhd19wcml2YXRlX2tleTpCT09MPU9OIC1ETFdTX1dJVEhfTkVUV09SSzpCT09MPU9GRiAtRExXU19XSVRIX0RJUjpCT09MPU9GRiAtRExXU19XSVRIX1JBTkdFUzpCT09MPU9GRgogICAgICAgICAgICAgICAgICAgICAgICAgICAtRExXU19XSVRIX0pPU0U6Qk9PTD1PRkYgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T0ZGIC1ETFdTX1dJVEhfU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgIGZpbmRfcGFja2FnZShXT0xGU1NMIE5BTUVTIHdvbGZzc2wgUEFUSFMgIiR7V09MRlNTTF9ESVJ9IiBSRVFVSVJFRCkKCiAgICBpZihXT0xGU1NMX0ZPVU5EKQoKICAgICAgbWVzc2FnZSgiV09MRlNTTF9DT05GSUc6ICR7V09MRlNTTF9DT05GSUd9IikKICAgICAgaW5jbHVkZSgke1dPTEZTU0xfQ09ORklHfSkKCiAgICAgIGRpcm5hbWUoV09MRlNTTF9ESVIgIiR7V09MRlNTTF9DT05GSUd9IikKICAgICAgbWVzc2FnZSgiV09MRlNTTF9ESVI6ICR7V09MRlNTTF9ESVJ9IikKCiAgICAgIGluY2x1ZGUoJHtXT0xGU1NMX0RJUn0vd29sZnNzbC1jb25maWcuY21ha2UpCgogICAgICBnZXRfdGFyZ2V0X3Byb3BlcnR5KHBrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsIHdvbGZzc2wgSU1QT1JURURfTE9DQVRJT05fUkVMV0lUSERFQklORk8pCgogICAgICBkaXJuYW1lKFdPTEZTU0xfTElCUkFSSUVTX0RJUiAke3BrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsfSkKICAgICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi9saWIuKiIgIi9pbmNsdWRlIiBXT0xGU1NMX0lOQ0xVREVfRElSICIke1dPTEZTU0xfTElCUkFSSUVTX0RJUn0iKQoKICAgICAgc2V0KFdPTEZTU0xfTElCUkFSSUVTICR7V09MRlNTTF9MSUJSQVJJRVN9ICR7cGtnY2ZnX2xpYl9XT0xGU1NMX3dvbGZzc2x9KQogICAgICAjbGlzdChGSUxURVIgV09MRlNTTF9MSUJSQVJJRVMgRVhDTFVERSBSRUdFWCB3b2xmc3NsX3NoYXJlZCkKICAgICAgbWVzc2FnZSgiV09MRlNTTF9JTkNMVURFX0RJUjogJHtXT0xGU1NMX0lOQ0xVREVfRElSfSIpCiAgICAgIG1lc3NhZ2UoIldPTEZTU0xfTElCUkFSSUVTX0RJUjogJHtXT0xGU1NMX0xJQlJBUklFU19ESVJ9IikKCiAgICAgIGR1bXAoV09MRlNTTF9GT1VORCBXT0xGU1NMX0xJQlJBUklFUyBXT0xGU1NMX0xJQlJBUklFU19ESVIgV09MRlNTTF9JTkNMVURFX0RJUikKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfV09MRlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7V09MRlNTTF9MSUJSQVJJRVN9IC1ETFdTX1dPTEZTU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke1dPTEZTU0xfSU5DTFVERV9ESVJ9KQoKICAgIGVuZGlmKFdPTEZTU0xfRk9VTkQpCgogIGVsc2VpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19ST0xFX0gyOkJPT0w9T04gLURMV1NfV0lUSF9SQU5HRVM6Qk9PTD1PTikKICAgIGlmKFdJVEhfU1NMKQogICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfU1NMOkJPT0w9T04gLURMV1NfSEFWRV9ITUFDX0NUWF9uZXc6U1RSSU5HPTEgLURMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWU6U1RSSU5HPTEgLURMV1NfV0lUSF9XT0xGU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgICAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSIgIi1ET1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJJRVN9IikKICAgICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IiAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iICAiLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIgIi1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQogICAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSKQogICAgICBpZihPUEVOU1NMX0lOQ0xVREVfRElSUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUlN9IiAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iICAiLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30iICItRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IikKICAgICAgZW5kaWYoT1BFTlNTTF9JTkNMVURFX0RJUlMpCiAgICBlbHNlaWYoV0lUSF9TU0wpCiAgICAgIGlmKFdJVEhfTUJFRFRMUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9OIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9GRiAtRExXU19XSVRIX1NTTDpCT09MPU9GRikKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19NQkVEVExTX0xJQlJBUklFUzpTVFJJTkc9JHtNQkVEVExTX0xJQlJBUklFU30gLURMV1NfTUJFRFRMU19JTkNMVURFX0RJUlM6U1RSSU5HPSR7TUJFRFRMU19JTkNMVURFX0RJUn0pCiAgICAgIGVuZGlmKCkKICAgIGVuZGlmKCkKICBlbmRpZigpCgogIGlmKFpMSUJfTElCUkFSWV9SRUxFQVNFKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX1pMSUJfTElCUkFSSUVTOlBBVEg9JHtaTElCX0xJQlJBUllfUkVMRUFTRX0iKQogIGVuZGlmKFpMSUJfTElCUkFSWV9SRUxFQVNFKQoKICBpZihaTElCX0lOQ0xVREVfRElSKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX1pMSUJfSU5DTFVERV9ESVJTOlBBVEg9JHtaTElCX0lOQ0xVREVfRElSfSIpCiAgZW5kaWYoWkxJQl9JTkNMVURFX0RJUikKCiAgI2lmKCIke0xXU19IQVZFX0hNQUNfQ1RYX25ld30iIFNUUkVRVUFMICIiKQogICNzZXQoTFdTX0hBVkVfSE1BQ19DVFhfbmV3IDEgQ0FDSEUgU1RSSU5HICJIYXZlIEhNQUNfQ1RYX25ldyIpCiAgI2VuZGlmKCIke0xXU19IQVZFX0hNQUNfQ1RYX25ld30iIFNUUkVRVUFMICIiKQogICMKICAjaWYoIiR7TFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlfSIgU1RSRVFVQUwgIiIpCiAgI3NldChMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWUgMSBDQUNIRSBTVFJJTkcgIkhhdmUgRVZQX01EX0NUWF9mcmVlIikKICAjZW5kaWYoIiR7TFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlfSIgU1RSRVFVQUwgIiIpCiAgIwogIGlmKCIke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iIFNUUkVRVUFMICIiKQogICAgc2V0KExXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdCAxIENBQ0hFIFNUUklORyAiSGF2ZSBYNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3QiKQogIGVuZGlmKCIke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iIFNUUkVRVUFMICIiKQoKICBzdHJpbmcoUkVQTEFDRSAiICIgIlxuXHQiIEFSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSIpCiAgbWVzc2FnZSgibGlid2Vic29ja2V0cyBjb25maWd1cmF0aW9uIGFyZ3VtZW50czpcblx0JHtBUkdTfSIpCgogIEV4dGVybmFsUHJvamVjdF9BZGQoCiAgICBsaWJ3ZWJzb2NrZXRzCiAgICBTT1VSQ0VfRElSICR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9saWJ3ZWJzb2NrZXRzCiAgICBCSU5BUllfRElSICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzCiAgICBQUkVGSVggbGlid2Vic29ja2V0cwogICAgQ01BS0VfQVJHUyAiLURDTUFLRV9DX0NPTVBJTEVSOkZJTEVQQVRIPSR7Q01BS0VfQ19DT01QSUxFUn0iCiAgICAgICAgICAgICAgICItRENNQUtFX0NfRkxBR1M6U1RSSU5HPSR7TElCV0VCU09DS0VUU19DX0ZMQUdTfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfVkVSQk9TRV9NQUtFRklMRTpCT09MPSR7Q01BS0VfVkVSQk9TRV9NQUtFRklMRX0iCiAgICAgICAgICAgICAgICItRENNQUtFX0lOU1RBTExfUlBBVEg6U1RSSU5HPSR7TUJFRFRMU19MSUJSQVJZX0RJUn0iCiAgICAgICAgICAgICAgICItRENNQUtFX0JVSUxEX1RZUEU6U1RSSU5HPSR7Q01BS0VfQlVJTERfVFlQRX0iCiAgICAgICAgICAgICAgICItRENNQUtFX0xJQlJBUllfUEFUSDpQQVRIPSR7Q01BS0VfTElCUkFSWV9QQVRIfTske0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbWJlZHRsczske0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vYnJvdGxpIgogICAgICAgICAgICAgICAiLURMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3Q6U1RSSU5HPSR7TFdTX0hBVkVfWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0fSIKICAgICAgICAgICAgICAgLURCVUlMRF9URVNUSU5HOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1EQ01BS0VfQ09MT1JfTUFLRUZJTEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRENPTVBJTEVSX0lTX0NMQU5HOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ERElTQUJMRV9XRVJST1I6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19BVk9JRF9TSUdQSVBFX0lHTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19DTElFTlRfSFRUUF9QUk9YWUlORzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0NURVNUX0lOVEVSTkVUX0FWQUlMQUJMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0ZBTExCQUNLX0dFVEhPU1RCWU5BTUU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19GT1JfR0lUT0hBU0hJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX0hUVFBfSEVBREVSU19BTEw6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfSVBWNjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19MSU5LX1RFU1RBUFBTX0RZTkFNSUM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfTE9HU19USU1FU1RBTVA6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19MT0dfVEFHX0xJRkVDWUNMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1BMQVRfQU5EUk9JRDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19QTEFUX0ZSRUVSVE9TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1BMQVRfT1BURUU6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfUkVQUk9EVUNJQkxFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUk9MRV9EQlVTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfTVFUVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19ST0xFX1JBV19GSUxFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUk9MRV9SQVdfUFJPWFk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19ST0xFX1dTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfU1NMX0NMSUVOVF9VU0VfT1NfQ0FfQ0VSVFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19TU0xfU0VSVkVSX1dJVEhfRUNESF9DRVJUOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1NUQVRJQ19QSUM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19TVVBQUkVTU19ERVBSRUNBVEVEX0FQSV9XQVJOSU5HUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19UTFNfTE9HX1BMQUlOVEVYVF9SWDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19UTFNfTE9HX1BMQUlOVEVYVF9UWDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19VTklYX1NPQ0s6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0JVSUxUSU5fR0VUSUZBRERSUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0JVSUxUSU5fU0hBMTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0NMSUVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0RBRU1PTklaRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfRVZFTlRGRDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0VYVEVOU0lPTlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9TRVJWRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9URVNUQVBQUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfVEVTVF9DTElFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9URVNUX1BJTkc6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9URVNUX1NFUlZFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX1RFU1RfU0VSVkVSX0VYVFBPTEw6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BQ01FOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BTFNBOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQVNBTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0JPUklOR1NTTDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0JVTkRMRURfWkxJQjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NHSTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NPTk1PTjpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQ1VTVE9NX0hFQURFUlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NZQVNTTDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0RFUFJFQ0FURURfVEhJTkdTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRElTS0NBQ0hFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9ESVNUUk9fUkVDT01NRU5ERUQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9EUklWRVJTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVNQMzI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9FVkxJQl9QTFVHSU5TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVhQT1JUX0xXU1RBUkdFVFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0VYVEVSTkFMX1BPTEw6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZBTkFMWVpFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZJTEVfT1BTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GU01PVU5UOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GVFM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9HQ09WOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR0VOQ1JZUFRPOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR0xJQjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0dUSzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFAyOkJPT0w9JHtXSVRIX0hUVFAyfQogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfQkFTSUNfQVVUSDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9CUk9UTEk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfUFJPWFk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfU1RSRUFNX0NPTVBSRVNTSU9OOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX1VOQ09NTU9OX0hFQURFUlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hVQkJVQjpCT09MPU9GRgogICAgICAgICAgICAgICAjLURMV1NfV0lUSF9MRUpQOkJPT0w9T04KICAgICAgICAgICAgICAgIy1ETFdTX1dJVEhfTEVKUF9DT05GOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTElCRVY6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MSUJFVkVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xJQlVWOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTFdTQUM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xXU1dTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTFdTX0RTSDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX01JTklNQUxfRVhBTVBMRVM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9NSU5JWjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX05FVExJTks6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX05PX0xPR1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QRUVSX0xJTUlUUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlNfQVBJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0RFVkVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfQVVUSF9TSUdWNDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX0NQUDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1BST1hZX0FQSTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1NUQVRJQ19QT0xJQ1lfT05MWTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1NZU19BVVRIX0FQSV9BTUFaT05fQ09NOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VMRlRFU1RTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRVFVRU5DRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TSEFSRUQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TT0NLUzU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NQQVdOOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1FMSVRFMzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1RBVElDOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TVFJVQ1RfSlNPTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NUUlVDVF9TUUxJVEUzOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1VMX0RFQlVHR0lORzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19BU1lOQ19ETlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfREhDUF9DTElFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfRkFVTFRfSU5KRUNUSU9OOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX01FVFJJQ1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfTlRQQ0xJRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX1NNRDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX1NUQVRFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9USFJFQURQT09MOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9UTFNfU0VTU0lPTlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1VEUDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVUxPT1A6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9VTklYX1NPQ0s6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1pJUF9GT1BTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9aTElCOkJPT0w9T04KICAgIENNQUtFX0NBQ0hFX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX0hBVkVfTElCQ0FQOkJPT0w9RkFMU0UgLURMV1NfV0lUSF9QTFVHSU5TX0FQSTpCT09MPSR7TFdTX1dJVEhfUExVR0lOU19BUEl9IC1ETFdTX1dJVEhfUExVR0lOUzpCT09MPSR7TFdTX1dJVEhfUExVR0lOU30KICAgICAgICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QTFVHSU5TX0JVSUxUSU46Qk9PTD0ke0xXU19XSVRIX1BMVUdJTlNfQlVJTFRJTn0KICAgIElOU1RBTExfQ09NTUFORCAiIgogICAgI0xPR19ET1dOTE9BRCBPTgogICAgVVNFU19URVJNSU5BTF9ET1dOTE9BRCBPTgogICAgI0xPR19DT05GSUdVUkUgT04KICAgIFVTRVNfVEVSTUlOQUxfQ09ORklHVVJFIE9OCiAgICAjTE9HX0JVSUxEIE9OCiAgICBVU0VTX1RFUk1JTkFMX0JVSUxEIE9OCiAgICAjTE9HX09VVFBVVF9PTl9GQUlMVVJFIE9OCiAgKQogICMgRXh0ZXJuYWxQcm9qZWN0X0dldF9Qcm9wZXJ0eShsaWJ3ZWJzb2NrZXRzIENNQUtFX0NBQ0hFX0RFRkFVTFRfQVJHUykKICAjbWVzc2FnZSgiQ01BS0VfQ0FDSEVfREVGQVVMVF9BUkdTIG9mIGxpYndlYnNvY2tldHMgPSAke0NNQUtFX0NBQ0hFX0RFRkFVTFRfQVJHU30iKQoKICAjbGlua19kaXJlY3RvcmllcygiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIikKCiAgaWYoQVJHTikKICAgIEV4dGVybmFsUHJvamVjdF9BZGRfU3RlcERlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGJ1aWxkICR7QVJHTn0pCiAgZW5kaWYoQVJHTikKCmVuZG1hY3JvKGJ1aWxkX2xpYndlYnNvY2tldHMpCgAAAAAAAAAAcjQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+xQAAAAAAAD7FAAAAAAAAAAAAAAAwHJA"
				],
				[
					201,
					1,
					"paste",
					null,
					"AQAAAHkYAAAAAAAATxkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeRgAAAAAAAB5GAAAAAAAAAAAAAAAAPC/"
				],
				[
					208,
					1,
					"cut",
					null,
					"AQAAAHoYAAAAAAAAehgAAAAAAADVAAAAICBpZihPUEVOU1NMX0xJQlJBUklFUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURMV1NfT1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJJRVN9IiAiLURPUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30iKQogICAgICBlbmRpZihPUEVOU1NMX0xJQlJBUklFUykK",
					"AQAAAAAAAAABAAAAehgAAAAAAABPGQAAAAAAAAAAAAAAAPC/"
				],
				[
					211,
					1,
					"paste",
					null,
					"AQAAAP8XAAAAAAAA1BgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/xcAAAAAAAD/FwAAAAAAAAAAAAAAAPC/"
				],
				[
					216,
					1,
					"insert",
					{
						"characters": "CMAKE_PREFIX_PATH"
					},
					"EgAAAAQYAAAAAAAABRgAAAAAAAAAAAAABRgAAAAAAAAFGAAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFUwUYAAAAAAAABhgAAAAAAAAAAAAABhgAAAAAAAAHGAAAAAAAAAAAAAAHGAAAAAAAAAgYAAAAAAAAAAAAAAgYAAAAAAAACRgAAAAAAAAAAAAACRgAAAAAAAAKGAAAAAAAAAAAAAAKGAAAAAAAAAsYAAAAAAAAAAAAAAsYAAAAAAAADBgAAAAAAAAAAAAADBgAAAAAAAANGAAAAAAAAAAAAAANGAAAAAAAAA4YAAAAAAAAAAAAAA4YAAAAAAAADxgAAAAAAAAAAAAADxgAAAAAAAAQGAAAAAAAAAAAAAAQGAAAAAAAABEYAAAAAAAAAAAAABEYAAAAAAAAEhgAAAAAAAAAAAAAEhgAAAAAAAATGAAAAAAAAAAAAAATGAAAAAAAABQYAAAAAAAAAAAAABQYAAAAAAAAFRgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABBgAAAAAAAAVGAAAAAAAAAAAAAAAAPC/"
				],
				[
					226,
					1,
					"paste",
					null,
					"AgAAAMEYAAAAAAAA0hgAAAAAAAAAAAAA0hgAAAAAAADSGAAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFUw",
					"AQAAAAAAAAABAAAAwRgAAAAAAADSGAAAAAAAAAAAAAAAAPC/"
				],
				[
					234,
					1,
					"paste",
					null,
					"AgAAAE8YAAAAAAAAYBgAAAAAAAAAAAAAYBgAAAAAAABgGAAAAAAAABUAAABMV1NfT1BFTlNTTF9MSUJSQVJJRVM",
					"AQAAAAAAAAABAAAATxgAAAAAAABkGAAAAAAAAAAAAAAAAPC/"
				],
				[
					239,
					1,
					"paste",
					null,
					"AgAAAGoYAAAAAAAAexgAAAAAAAAAAAAAexgAAAAAAAB7GAAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFUw",
					"AQAAAAAAAAABAAAAahgAAAAAAAB7GAAAAAAAAAAAAAAAAPC/"
				],
				[
					243,
					1,
					"right_delete",
					null,
					"AQAAAH0YAAAAAAAAfRgAAAAAAAAyAAAAICItRE9QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSI",
					"AQAAAAAAAAABAAAAfRgAAAAAAACvGAAAAAAAAAAAAAAAAPC/"
				],
				[
					252,
					2,
					"unindent",
					null,
					"AgAAABcYAAAAAAAAFxgAAAAAAAACAAAAICAXGAAAAAAAABcYAAAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAFxgAAAAAAAAXGAAAAAAAAAAAAAAAAAAA"
				],
				[
					254,
					2,
					"unindent",
					null,
					"AgAAAHsYAAAAAAAAexgAAAAAAAACAAAAICB7GAAAAAAAAHsYAAAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAexgAAAAAAAB7GAAAAAAAAAAAAAAAAAAA"
				],
				[
					257,
					1,
					"cut",
					null,
					"AQAAAP8XAAAAAAAA/xcAAAAAAACXAAAAICBpZihDTUFLRV9QUkVGSVhfUEFUSCkKICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRENNQUtFX1BSRUZJWF9QQVRIOlNUUklORz0ke0NNQUtFX1BSRUZJWF9QQVRIfSIpCiAgZW5kaWYoQ01BS0VfUFJFRklYX1BBVEgpCg",
					"AQAAAAAAAAABAAAA/xcAAAAAAACWGAAAAAAAAAAAAAAAAAAA"
				],
				[
					258,
					2,
					"paste",
					null,
					"AgAAAP8XAAAAAAAAlhgAAAAAAAAAAAAAlhgAAAAAAAAtGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/xcAAAAAAAD/FwAAAAAAAAAAAAAAAPC/"
				],
				[
					261,
					1,
					"insert",
					{
						"characters": "LIBRARY"
					},
					"CAAAAKEYAAAAAAAAohgAAAAAAAAAAAAAohgAAAAAAACiGAAAAAAAAAYAAABQUkVGSViiGAAAAAAAAKMYAAAAAAAAAAAAAKMYAAAAAAAApBgAAAAAAAAAAAAApBgAAAAAAAClGAAAAAAAAAAAAAClGAAAAAAAAKYYAAAAAAAAAAAAAKYYAAAAAAAApxgAAAAAAAAAAAAApxgAAAAAAACoGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoRgAAAAAAACnGAAAAAAAAAAAAAAAAPC/"
				],
				[
					271,
					1,
					"paste",
					null,
					"AgAAABsZAAAAAAAALRkAAAAAAAAAAAAALRkAAAAAAAAtGQAAAAAAABEAAABDTUFLRV9QUkVGSVhfUEFUSA",
					"AQAAAAAAAAABAAAAGxkAAAAAAAAsGQAAAAAAAAAAAAAAAPC/"
				],
				[
					274,
					1,
					"paste",
					null,
					"AgAAAOMYAAAAAAAA9RgAAAAAAAAAAAAA9RgAAAAAAAD1GAAAAAAAABEAAABDTUFLRV9QUkVGSVhfUEFUSA",
					"AQAAAAAAAAABAAAA4xgAAAAAAAD0GAAAAAAAAAAAAAAAAPC/"
				],
				[
					279,
					1,
					"paste",
					null,
					"AgAAAP8YAAAAAAAAERkAAAAAAAAAAAAAERkAAAAAAAARGQAAAAAAABEAAABDTUFLRV9QUkVGSVhfUEFUSA",
					"AQAAAAAAAAABAAAA/xgAAAAAAAAQGQAAAAAAAAAAAAAAAPC/"
				],
				[
					282,
					1,
					"cut",
					null,
					"AQAAAJYYAAAAAAAAlhgAAAAAAACbAAAAICBpZihDTUFLRV9MSUJSQVJZX1BBVEgpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURDTUFLRV9MSUJSQVJZX1BBVEg6U1RSSU5HPSR7Q01BS0VfTElCUkFSWV9QQVRIfSIpCiAgZW5kaWYoQ01BS0VfTElCUkFSWV9QQVRIKQo",
					"AQAAAAAAAAABAAAAlhgAAAAAAAAxGQAAAAAAAAAAAAAAAPC/"
				],
				[
					283,
					2,
					"paste",
					null,
					"AgAAAJYYAAAAAAAAMRkAAAAAAAAAAAAAMRkAAAAAAADMGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlhgAAAAAAACWGAAAAAAAAAAAAAAAAPC/"
				],
				[
					286,
					1,
					"insert",
					{
						"characters": "INCLUDE"
					},
					"CAAAADwZAAAAAAAAPRkAAAAAAAAAAAAAPRkAAAAAAAA9GQAAAAAAAAcAAABMSUJSQVJZPRkAAAAAAAA+GQAAAAAAAAAAAAA+GQAAAAAAAD8ZAAAAAAAAAAAAAD8ZAAAAAAAAQBkAAAAAAAAAAAAAQBkAAAAAAABBGQAAAAAAAAAAAABBGQAAAAAAAEIZAAAAAAAAAAAAAEIZAAAAAAAAQxkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPBkAAAAAAABDGQAAAAAAAAAAAAAAAPC/"
				],
				[
					296,
					1,
					"paste",
					null,
					"AgAAAH4ZAAAAAAAAkBkAAAAAAAAAAAAAkBkAAAAAAACQGQAAAAAAABIAAABDTUFLRV9MSUJSQVJZX1BBVEg",
					"AQAAAAAAAAABAAAAfhkAAAAAAACQGQAAAAAAAAAAAAAAAPC/"
				],
				[
					301,
					1,
					"paste",
					null,
					"AgAAAJoZAAAAAAAArBkAAAAAAAAAAAAArBkAAAAAAACsGQAAAAAAABIAAABDTUFLRV9MSUJSQVJZX1BBVEg",
					"AQAAAAAAAAABAAAAmhkAAAAAAACsGQAAAAAAAAAAAAAAAPC/"
				],
				[
					310,
					1,
					"paste",
					null,
					"AgAAALgZAAAAAAAAyhkAAAAAAAAAAAAAyhkAAAAAAADKGQAAAAAAABIAAABDTUFLRV9MSUJSQVJZX1BBVEg",
					"AQAAAAAAAAABAAAAuBkAAAAAAADKGQAAAAAAAAAAAAAAAPC/"
				],
				[
					337,
					1,
					"right_delete",
					null,
					"AQAAAL0fAAAAAAAAvR8AAAAAAACAAAAAICAgICAgICAgICAgICAgLURMV1NfUExBVF9BTkRST0lEOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1BMQVRfRlJFRVJUT1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfUExBVF9PUFRFRTpCT09MPU9GRgo",
					"AQAAAAAAAAABAAAAvR8AAAAAAAA9IAAAAAAAAAAAAAAAAAAA"
				],
				[
					354,
					1,
					"left_delete",
					null,
					"AQAAAC4fAAAAAAAALh8AAAAAAAA0AAAAICAgICAgICAgICAgICAgLURMV1NfTElOS19URVNUQVBQU19EWU5BTUlDOkJPT0w9T0ZGCg",
					"AQAAAAAAAAABAAAALh8AAAAAAABiHwAAAAAAAAAAAAAAAPC/"
				],
				[
					355,
					1,
					"insert",
					{
						"characters": "WUI"
					},
					"AwAAAC4fAAAAAAAALx8AAAAAAAAAAAAALx8AAAAAAAAwHwAAAAAAAAAAAAAwHwAAAAAAADEfAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALh8AAAAAAAAuHwAAAAAAAAAAAAAAAPC/"
				],
				[
					356,
					2,
					"left_delete",
					null,
					"AgAAADAfAAAAAAAAMB8AAAAAAAABAAAASS8fAAAAAAAALx8AAAAAAAABAAAAVQ",
					"AQAAAAAAAAABAAAAMR8AAAAAAAAxHwAAAAAAAAAAAAAAAPC/"
				],
				[
					357,
					1,
					"delete_word",
					{
						"forward": false
					},
					"AQAAAC4fAAAAAAAALh8AAAAAAAABAAAAVw",
					"AQAAAAAAAAABAAAALx8AAAAAAAAvHwAAAAAAAAAAAAAAAPC/"
				],
				[
					380,
					1,
					"cut",
					null,
					"AQAAAHIjAAAAAAAAciMAAAAAAABYAAAAICAtRExXU19XSVRIT1VUX1RFU1RfQ0xJRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfVEVTVF9QSU5HOkJPT0w9T0ZGCiAgIA",
					"AQAAAAAAAAABAAAAciMAAAAAAADKIwAAAAAAAAAAAAAAAD5A"
				],
				[
					383,
					1,
					"right_delete",
					null,
					"AQAAAK4jAAAAAAAAriMAAAAAAAA6AAAAICAtRExXU19XSVRIT1VUX1RFU1RfU0VSVkVSX0VYVFBPTEw6Qk9PTD1PRkYKICAgICAgICAgICAgIA",
					"AQAAAAAAAAABAAAAriMAAAAAAADoIwAAAAAAAAAAAAAAQGBA"
				],
				[
					408,
					1,
					"left_delete",
					null,
					"AQAAAE0lAAAAAAAATSUAAAAAAAA1AAAAICAgICAgICAgICAgICAgLURMV1NfV0lUSF9ERVBSRUNBVEVEX1RISU5HUzpCT09MPU9GRgo",
					"AQAAAAAAAAABAAAATSUAAAAAAACCJQAAAAAAAAAAAAAAAPC/"
				],
				[
					410,
					1,
					"left_delete",
					null,
					"AQAAACMlAAAAAAAAIyUAAAAAAAAqAAAAICAgICAgICAgICAgICAgLURMV1NfV0lUSF9DWUFTU0w6Qk9PTD1PRkYK",
					"AQAAAAAAAAABAAAATSUAAAAAAAAjJQAAAAAAAAAAAAAAAAAA"
				],
				[
					417,
					5,
					"unindent",
					null,
					"BQAAAGUjAAAAAAAAZSMAAAAAAAACAAAAICBlIwAAAAAAAGUjAAAAAAAAAgAAACAgZSMAAAAAAABlIwAAAAAAAAIAAAAgIGUjAAAAAAAAZSMAAAAAAAACAAAAICBlIwAAAAAAAGUjAAAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAZSMAAAAAAABlIwAAAAAAAAAAAAAAAAAA"
				],
				[
					439,
					1,
					"left_delete",
					null,
					"AQAAAEYeAAAAAAAARh4AAAAAAAA2AAAAICAgICAgICAgICAgICAgLURMV1NfQ1RFU1RfSU5URVJORVRfQVZBSUxBQkxFOkJPT0w9T04K",
					"AQAAAAAAAAABAAAARh4AAAAAAAB8HgAAAAAAAAAAAAAAAPC/"
				],
				[
					452,
					1,
					"delete_word",
					{
						"forward": false
					},
					"AQAAAK0hAAAAAAAArSEAAAAAAAA5AAAAICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9CVUlMVElOX0dFVElGQUREUlM6Qk9PTD1PRkYK",
					"AQAAAAAAAAABAAAArSEAAAAAAADmIQAAAAAAAAAAAAAAAPC/"
				],
				[
					489,
					1,
					"cut",
					null,
					"AQAAALwRAAAAAAAAvBEAAAAAAAB8AQAAICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVJTKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRExXU19PUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30iICItRExXU19PUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICItRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJTfSIgIi1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQogICAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSUykKICA",
					"AQAAAAAAAAABAAAAvBEAAAAAAAA4EwAAAAAAAAAAAAAAAPC/"
				],
				[
					490,
					2,
					"paste",
					null,
					"AgAAALwRAAAAAAAAOBMAAAAAAAAAAAAAOBMAAAAAAAC0FAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvBEAAAAAAAC8EQAAAAAAAAAAAAAAAPC/"
				],
				[
					493,
					1,
					"insert",
					{
						"characters": "EXECUTABLE"
					},
					"CwAAAEcTAAAAAAAASBMAAAAAAAAAAAAASBMAAAAAAABIEwAAAAAAAAwAAABJTkNMVURFX0RJUlNIEwAAAAAAAEkTAAAAAAAAAAAAAEkTAAAAAAAAShMAAAAAAAAAAAAAShMAAAAAAABLEwAAAAAAAAAAAABLEwAAAAAAAEwTAAAAAAAAAAAAAEwTAAAAAAAATRMAAAAAAAAAAAAATRMAAAAAAABOEwAAAAAAAAAAAABOEwAAAAAAAE8TAAAAAAAAAAAAAE8TAAAAAAAAUBMAAAAAAAAAAAAAUBMAAAAAAABREwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARxMAAAAAAABTEwAAAAAAAAAAAAAAAPC/"
				],
				[
					505,
					1,
					"paste",
					null,
					"AgAAAJoUAAAAAAAArBQAAAAAAAAAAAAArBQAAAAAAACsFAAAAAAAABQAAABPUEVOU1NMX0lOQ0xVREVfRElSUw",
					"AQAAAAAAAAABAAAAmhQAAAAAAACuFAAAAAAAAAAAAAAAAPC/"
				],
				[
					508,
					1,
					"paste",
					null,
					"AgAAAIsTAAAAAAAAnRMAAAAAAAAAAAAAnRMAAAAAAACdEwAAAAAAABgAAABMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM",
					"AQAAAAAAAAABAAAAixMAAAAAAACjEwAAAAAAAAAAAAAAAPC/"
				],
				[
					513,
					1,
					"insert",
					{
						"characters": "PATH"
					},
					"BQAAAJ4TAAAAAAAAnxMAAAAAAAAAAAAAnxMAAAAAAACfEwAAAAAAAAYAAABTVFJJTkefEwAAAAAAAKATAAAAAAAAAAAAAKATAAAAAAAAoRMAAAAAAAAAAAAAoRMAAAAAAACiEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnhMAAAAAAACkEwAAAAAAAAAAAAAAAPC/"
				],
				[
					514,
					4,
					"left_delete",
					null,
					"BAAAAKETAAAAAAAAoRMAAAAAAAABAAAASKATAAAAAAAAoBMAAAAAAAABAAAAVJ8TAAAAAAAAnxMAAAAAAAABAAAAQZ4TAAAAAAAAnhMAAAAAAAABAAAAUA",
					"AQAAAAAAAAABAAAAohMAAAAAAACiEwAAAAAAAAAAAAAAAPC/"
				],
				[
					515,
					1,
					"insert",
					{
						"characters": "FILEPATH"
					},
					"CAAAAJ4TAAAAAAAAnxMAAAAAAAAAAAAAnxMAAAAAAACgEwAAAAAAAAAAAACgEwAAAAAAAKETAAAAAAAAAAAAAKETAAAAAAAAohMAAAAAAAAAAAAAohMAAAAAAACjEwAAAAAAAAAAAACjEwAAAAAAAKQTAAAAAAAAAAAAAKQTAAAAAAAApRMAAAAAAAAAAAAApRMAAAAAAACmEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnhMAAAAAAACeEwAAAAAAAAAAAAAAAPC/"
				],
				[
					517,
					1,
					"paste",
					null,
					"AQAAAKkTAAAAAAAAuxMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqRMAAAAAAACpEwAAAAAAAAAAAAAAAPC/"
				],
				[
					519,
					1,
					"insert",
					{
						"characters": "}\");"
					},
					"BQAAALsTAAAAAAAAvBMAAAAAAAAAAAAAvBMAAAAAAAC8EwAAAAAAAFEAAABPUEVOU1NMX0lOQ0xVREVfRElSU30iICItRExXU19PUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSK8EwAAAAAAAL0TAAAAAAAAAAAAAL0TAAAAAAAAvhMAAAAAAAAAAAAAvhMAAAAAAAC/EwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuxMAAAAAAAAMFAAAAAAAAP///////+9/"
				],
				[
					522,
					3,
					"left_delete",
					null,
					"AwAAAMATAAAAAAAAwBMAAAAAAACPAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICItRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJTfSIgIi1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQq/EwAAAAAAAL8TAAAAAAAAAQAAAAq+EwAAAAAAAL4TAAAAAAAAAQAAADs",
					"AQAAAAAAAAABAAAAwBMAAAAAAABPFAAAAAAAAAAAAAAAAAAA"
				],
				[
					525,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAL4TAAAAAAAAvxMAAAAAAAAAAAAAvxMAAAAAAADHEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvhMAAAAAAAC+EwAAAAAAAAAAAAAAAPC/"
				],
				[
					526,
					4,
					"unindent",
					null,
					"BAAAAL8TAAAAAAAAvxMAAAAAAAACAAAAICC/EwAAAAAAAL8TAAAAAAAAAgAAACAgvxMAAAAAAAC/EwAAAAAAAAIAAAAgIL8TAAAAAAAAvxMAAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAAxxMAAAAAAADHEwAAAAAAAAAAAAAAAPC/"
				],
				[
					583,
					1,
					"insert",
					{
						"characters": "TRZUE"
					},
					"BQAAAK0OAAAAAAAArg4AAAAAAAAAAAAArg4AAAAAAACvDgAAAAAAAAAAAACvDgAAAAAAALAOAAAAAAAAAAAAALAOAAAAAAAAsQ4AAAAAAAAAAAAAsQ4AAAAAAACyDgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArQ4AAAAAAACtDgAAAAAAAAAAAAAAAPC/"
				],
				[
					584,
					3,
					"left_delete",
					null,
					"AwAAALEOAAAAAAAAsQ4AAAAAAAABAAAARbAOAAAAAAAAsA4AAAAAAAABAAAAVa8OAAAAAAAArw4AAAAAAAABAAAAWg",
					"AQAAAAAAAAABAAAAsg4AAAAAAACyDgAAAAAAAAAAAAAAAPC/"
				],
				[
					585,
					1,
					"insert",
					{
						"characters": "UE"
					},
					"AgAAAK8OAAAAAAAAsA4AAAAAAAAAAAAAsA4AAAAAAACxDgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArw4AAAAAAACvDgAAAAAAAAAAAAAAAPC/"
				],
				[
					586,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALEOAAAAAAAAsg4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQ4AAAAAAACxDgAAAAAAAAAAAAAAAPC/"
				],
				[
					589,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAALoOAAAAAAAAvA4AAAAAAAAAAAAAsg4AAAAAAAC0DgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsg4AAAAAAAC6DgAAAAAAAAAAAAAAAPC/"
				],
				[
					616,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADUNAAAbWFjcm8oYnVpbGRfbGlid2Vic29ja2V0cykKICBtZXNzYWdlKCItLSBCdWlsZGluZyBMSUJXRUJTT0NLRVRTIGZyb20gc291cmNlIikKCiAgaWYoTk9UIERFRklORUQgTElCV0VCU09DS0VUU19DX0ZMQUdTKQogICAgbWVzc2FnZShGQVRBTF9FUlJPUiAiUGxlYXNlIHNldCBMSUJXRUJTT0NLRVRTX0NfRkxBR1MgYmVmb3JlIGluY2x1ZGluZyB0aGlzIGZpbGUuIikKICBlbmRpZigpCgogIHNldChMV1NfV0lUSE9VVF9URVNUQVBQUyBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1NFUlZFUiBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1BJTkcgVFJVRSkKICBzZXQoTFdTX1dJVEhPVVRfVEVTVF9DTElFTlQgVFJVRSkKICBzZXQoTFdTX0xJTktfVEVTVEFQUFNfRFlOQU1JQyBPRkYgQ0FDSEUgQk9PTCAibGluayB0ZXN0IGFwcHMgZHluYW1pYyIpCiAgc2V0KExXU19XSVRIX1NUQVRJQyBPTiBDQUNIRSBCT09MICJidWlsZCBsaWJ3ZWJzb2NrZXRzIHN0YXRpYyBsaWJyYXJ5IikKICBzZXQoTFdTX0hBVkVfTElCQ0FQIEZBTFNFIENBQ0hFIEJPT0wgImhhdmUgbGliY2FwIikKCiAgIyBpbmNsdWRlOiBsaWJ3ZWJzb2NrZXRzIGZpbmRfcGFja2FnZShsaWJ3ZWJzb2NrZXRzKQogIHVuc2V0KExJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVIpCiAgdW5zZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiBDQUNIRSkKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vbGlid2Vic29ja2V0cy9pbmNsdWRlICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2luY2x1ZGUpCiAgc2V0KExJQldFQlNPQ0tFVFNfRk9VTkQgT04gQ0FDSEUgQk9PTCAiZm91bmQgbGlid2Vic29ja2V0cyIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSSUVTICJicm90bGllbmM7YnJvdGxpZGVjO2NhcCIpCiAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIiR7T1BFTlNTTF9MSUJSQVJJRVN9OyR7TElCV0VCU09DS0VUU19MSUJSQVJJRVN9IikKICBlbHNlKE9QRU5TU0xfTElCUkFSSUVTKQogICAgaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtNQkVEVExTX0xJQlJBUklFU307JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICAgZW5kaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCgogICNpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliL2xpYndlYnNvY2tldHMuYTske0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSIpCiAgI2Vsc2UoRVhJU1RTICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cy9saWIvbGlid2Vic29ja2V0cy5hIikKICAjICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIndlYnNvY2tldHM7JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICNlbmRpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iIENBQ0hFIFNUUklORyAibGlid2Vic29ja2V0cyBsaWJyYXJpZXMiKQoKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAiJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSIgQ0FDSEUgUEFUSCAibGlid2Vic29ja2V0cyBpbmNsdWRlIGRpcmVjdG9yeSIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVIgJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIENBQ0hFIFBBVEggImxpYndlYnNvY2tldHMgbGlicmFyeSBkaXJlY3RvcnkiKQogICMgYWRkX3N1YmRpcmVjdG9yeShsaWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzKQogIGluY2x1ZGUoRXh0ZXJuYWxQcm9qZWN0KQoKICBpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9OIC1ETFdTX0hBVkVfRVZQX1BLRVlfbmV3X3Jhd19wcml2YXRlX2tleTpCT09MPU9OIC1ETFdTX1dJVEhfTkVUV09SSzpCT09MPU9GRiAtRExXU19XSVRIX0RJUjpCT09MPU9GRiAtRExXU19XSVRIX1JBTkdFUzpCT09MPU9GRgogICAgICAgICAgICAgICAgICAgICAgICAgICAtRExXU19XSVRIX0pPU0U6Qk9PTD1PRkYgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T0ZGIC1ETFdTX1dJVEhfU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgIGZpbmRfcGFja2FnZShXT0xGU1NMIE5BTUVTIHdvbGZzc2wgUEFUSFMgIiR7V09MRlNTTF9ESVJ9IiBSRVFVSVJFRCkKCiAgICBpZihXT0xGU1NMX0ZPVU5EKQoKICAgICAgbWVzc2FnZSgiV09MRlNTTF9DT05GSUc6ICR7V09MRlNTTF9DT05GSUd9IikKICAgICAgaW5jbHVkZSgke1dPTEZTU0xfQ09ORklHfSkKCiAgICAgIGRpcm5hbWUoV09MRlNTTF9ESVIgIiR7V09MRlNTTF9DT05GSUd9IikKICAgICAgbWVzc2FnZSgiV09MRlNTTF9ESVI6ICR7V09MRlNTTF9ESVJ9IikKCiAgICAgIGluY2x1ZGUoJHtXT0xGU1NMX0RJUn0vd29sZnNzbC1jb25maWcuY21ha2UpCgogICAgICBnZXRfdGFyZ2V0X3Byb3BlcnR5KHBrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsIHdvbGZzc2wgSU1QT1JURURfTE9DQVRJT05fUkVMV0lUSERFQklORk8pCgogICAgICBkaXJuYW1lKFdPTEZTU0xfTElCUkFSSUVTX0RJUiAke3BrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsfSkKICAgICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi9saWIuKiIgIi9pbmNsdWRlIiBXT0xGU1NMX0lOQ0xVREVfRElSICIke1dPTEZTU0xfTElCUkFSSUVTX0RJUn0iKQoKICAgICAgc2V0KFdPTEZTU0xfTElCUkFSSUVTICR7V09MRlNTTF9MSUJSQVJJRVN9ICR7cGtnY2ZnX2xpYl9XT0xGU1NMX3dvbGZzc2x9KQogICAgICAjbGlzdChGSUxURVIgV09MRlNTTF9MSUJSQVJJRVMgRVhDTFVERSBSRUdFWCB3b2xmc3NsX3NoYXJlZCkKICAgICAgbWVzc2FnZSgiV09MRlNTTF9JTkNMVURFX0RJUjogJHtXT0xGU1NMX0lOQ0xVREVfRElSfSIpCiAgICAgIG1lc3NhZ2UoIldPTEZTU0xfTElCUkFSSUVTX0RJUjogJHtXT0xGU1NMX0xJQlJBUklFU19ESVJ9IikKCiAgICAgIGR1bXAoV09MRlNTTF9GT1VORCBXT0xGU1NMX0xJQlJBUklFUyBXT0xGU1NMX0xJQlJBUklFU19ESVIgV09MRlNTTF9JTkNMVURFX0RJUikKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfV09MRlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7V09MRlNTTF9MSUJSQVJJRVN9IC1ETFdTX1dPTEZTU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke1dPTEZTU0xfSU5DTFVERV9ESVJ9KQoKICAgIGVuZGlmKFdPTEZTU0xfRk9VTkQpCgogIGVsc2VpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19ST0xFX0gyOkJPT0w9T04gLURMV1NfV0lUSF9SQU5HRVM6Qk9PTD1PTikKICAgIGlmKFRSVUUgLypXSVRIX1NTTCovKQogICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfU1NMOkJPT0w9T04gLURMV1NfSEFWRV9ITUFDX0NUWF9uZXc6U1RSSU5HPTEgLURMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWU6U1RSSU5HPTEgLURMV1NfV0lUSF9XT0xGU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgICAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSIgIi1ET1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJJRVN9IikKICAgICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IiAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIgIi1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQogICAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSKQogICAgICBpZihPUEVOU1NMX0lOQ0xVREVfRElSUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUlN9IiAiLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30iICItRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IikKICAgICAgZW5kaWYoT1BFTlNTTF9JTkNMVURFX0RJUlMpCiAgICAgIGlmKE9QRU5TU0xfRVhFQ1VUQUJMRSkKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURPUEVOU1NMX0VYRUNVVEFCTEU6RklMRVBBVEg9JHtPUEVOU1NMX0VYRUNVVEFCTEV9IikKICAgICAgZW5kaWYoT1BFTlNTTF9FWEVDVVRBQkxFKQogICAgZWxzZWlmKFdJVEhfU1NMKQogICAgICBpZihXSVRIX01CRURUTFMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAtRExXU19XSVRIX01CRURUTFM6Qk9PTD1PTiAtRExXU19XSVRIX1dPTEZTU0w6Qk9PTD1PRkYgLURMV1NfV0lUSF9TU0w6Qk9PTD1PRkYpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfTUJFRFRMU19MSUJSQVJJRVM6U1RSSU5HPSR7TUJFRFRMU19MSUJSQVJJRVN9IC1ETFdTX01CRURUTFNfSU5DTFVERV9ESVJTOlNUUklORz0ke01CRURUTFNfSU5DTFVERV9ESVJ9KQogICAgICBlbmRpZigpCiAgICBlbmRpZigpCiAgZW5kaWYoKQoKICBpZihaTElCX0xJQlJBUllfUkVMRUFTRSkKICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRExXU19aTElCX0xJQlJBUklFUzpQQVRIPSR7WkxJQl9MSUJSQVJZX1JFTEVBU0V9IikKICBlbmRpZihaTElCX0xJQlJBUllfUkVMRUFTRSkKCiAgaWYoWkxJQl9JTkNMVURFX0RJUikKICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRExXU19aTElCX0lOQ0xVREVfRElSUzpQQVRIPSR7WkxJQl9JTkNMVURFX0RJUn0iKQogIGVuZGlmKFpMSUJfSU5DTFVERV9ESVIpCgogICNpZigiJHtMV1NfSEFWRV9ITUFDX0NUWF9uZXd9IiBTVFJFUVVBTCAiIikKICAjc2V0KExXU19IQVZFX0hNQUNfQ1RYX25ldyAxIENBQ0hFIFNUUklORyAiSGF2ZSBITUFDX0NUWF9uZXciKQogICNlbmRpZigiJHtMV1NfSEFWRV9ITUFDX0NUWF9uZXd9IiBTVFJFUVVBTCAiIikKICAjCiAgI2lmKCIke0xXU19IQVZFX0VWUF9NRF9DVFhfZnJlZX0iIFNUUkVRVUFMICIiKQogICNzZXQoTFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlIDEgQ0FDSEUgU1RSSU5HICJIYXZlIEVWUF9NRF9DVFhfZnJlZSIpCiAgI2VuZGlmKCIke0xXU19IQVZFX0VWUF9NRF9DVFhfZnJlZX0iIFNUUkVRVUFMICIiKQogICMKICBpZigiJHtMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3R9IiBTVFJFUVVBTCAiIikKICAgIHNldChMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3QgMSBDQUNIRSBTVFJJTkcgIkhhdmUgWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0IikKICBlbmRpZigiJHtMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3R9IiBTVFJFUVVBTCAiIikKICBpZihDTUFLRV9QUkVGSVhfUEFUSCkKICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRENNQUtFX1BSRUZJWF9QQVRIOlNUUklORz0ke0NNQUtFX1BSRUZJWF9QQVRIfSIpCiAgZW5kaWYoQ01BS0VfUFJFRklYX1BBVEgpCiAgaWYoQ01BS0VfTElCUkFSWV9QQVRIKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gIi1EQ01BS0VfTElCUkFSWV9QQVRIOlNUUklORz0ke0NNQUtFX0xJQlJBUllfUEFUSH0iKQogIGVuZGlmKENNQUtFX0xJQlJBUllfUEFUSCkKICBpZihDTUFLRV9JTkNMVURFX1BBVEgpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAiLURDTUFLRV9JTkNMVURFX1BBVEg6U1RSSU5HPSR7Q01BS0VfSU5DTFVERV9QQVRIfSIpCiAgZW5kaWYoQ01BS0VfSU5DTFVERV9QQVRIKQoKICBzdHJpbmcoUkVQTEFDRSAiICIgIlxuXHQiIEFSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSIpCiAgbWVzc2FnZSgibGlid2Vic29ja2V0cyBjb25maWd1cmF0aW9uIGFyZ3VtZW50czpcblx0JHtBUkdTfSIpCiAKICBFeHRlcm5hbFByb2plY3RfQWRkKAogICAgbGlid2Vic29ja2V0cwogICAgU09VUkNFX0RJUiAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vbGlid2Vic29ja2V0cwogICAgQklOQVJZX0RJUiAke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cwogICAgUFJFRklYIGxpYndlYnNvY2tldHMKICAgIENNQUtFX0FSR1MgIi1EQ01BS0VfQ19DT01QSUxFUjpGSUxFUEFUSD0ke0NNQUtFX0NfQ09NUElMRVJ9IgogICAgICAgICAgICAgICAiLURDTUFLRV9DX0ZMQUdTOlNUUklORz0ke0xJQldFQlNPQ0tFVFNfQ19GTEFHU30iCiAgICAgICAgICAgICAgICItRENNQUtFX1ZFUkJPU0VfTUFLRUZJTEU6Qk9PTD0ke0NNQUtFX1ZFUkJPU0VfTUFLRUZJTEV9IgogICAgICAgICAgICAgICAiLURDTUFLRV9JTlNUQUxMX1JQQVRIOlNUUklORz0ke01CRURUTFNfTElCUkFSWV9ESVJ9IgogICAgICAgICAgICAgICAiLURDTUFLRV9CVUlMRF9UWVBFOlNUUklORz0ke0NNQUtFX0JVSUxEX1RZUEV9IgogICAgICAgICAgICAgICAiLURDTUFLRV9MSUJSQVJZX1BBVEg6UEFUSD0ke0NNQUtFX0xJQlJBUllfUEFUSH07JHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L21iZWR0bHM7JHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2Jyb3RsaSIKICAgICAgICAgICAgICAgIi1ETFdTX0hBVkVfWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0OlNUUklORz0ke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iCiAgICAgICAgICAgICAgIC1EQlVJTERfVEVTVElORzpCT09MPU9GRgogICAgICAgICAgICAgICAtRENNQUtFX0NPTE9SX01BS0VGSUxFOkJPT0w9T04KICAgICAgICAgICAgICAgLURDT01QSUxFUl9JU19DTEFORzpCT09MPU9GRgogICAgICAgICAgICAgICAtRERJU0FCTEVfV0VSUk9SOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfQVZPSURfU0lHUElQRV9JR046Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfQ0xJRU5UX0hUVFBfUFJPWFlJTkc6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19GQUxMQkFDS19HRVRIT1NUQllOQU1FOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfRk9SX0dJVE9IQVNISTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19IVFRQX0hFQURFUlNfQUxMOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX0lQVjY6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfTE9HU19USU1FU1RBTVA6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19MT0dfVEFHX0xJRkVDWUNMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1JFUFJPRFVDSUJMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfREJVUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19ST0xFX01RVFQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfUk9MRV9SQVdfRklMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfUkFXX1BST1hZOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUk9MRV9XUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1NTTF9DTElFTlRfVVNFX09TX0NBX0NFUlRTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfU1NMX1NFUlZFUl9XSVRIX0VDREhfQ0VSVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19TVEFUSUNfUElDOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfU1VQUFJFU1NfREVQUkVDQVRFRF9BUElfV0FSTklOR1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfVExTX0xPR19QTEFJTlRFWFRfUlg6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfVExTX0xPR19QTEFJTlRFWFRfVFg6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfVU5JWF9TT0NLOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9CVUlMVElOX1NIQTE6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9DTElFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9EQUVNT05JWkU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0VWRU5URkQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9FWFRFTlNJT05TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfU0VSVkVSOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfVEVTVEFQUFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX1RFU1RfU0VSVkVSOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQUNDRVNTX0xPRzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQUNNRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQUxTQTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0FTQU46Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9CT1JJTkdTU0w6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9CVU5ETEVEX1pMSUI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9DR0k6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9DT05NT046Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NVU1RPTV9IRUFERVJTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9ESVNLQ0FDSEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0RJU1RST19SRUNPTU1FTkRFRDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0RSSVZFUlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9FU1AzMjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0VWTElCX1BMVUdJTlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9FWFBPUlRfTFdTVEFSR0VUUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVhURVJOQUxfUE9MTDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRkFOQUxZWkVSOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRklMRV9PUFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZTTU9VTlQ6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZUUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0dDT1Y6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9HRU5DUllQVE86Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9HTElCOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR1RLOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUDI6Qk9PTD0ke1dJVEhfSFRUUDJ9CiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9CQVNJQ19BVVRIOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX0JST1RMSTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9QUk9YWTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9TVFJFQU1fQ09NUFJFU1NJT046Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfVU5DT01NT05fSEVBREVSUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFVCQlVCOkJPT0w9T0ZGCiAgICAgICAgICAgICAgICMtRExXU19XSVRIX0xFSlA6Qk9PTD1PTgogICAgICAgICAgICAgICAjLURMV1NfV0lUSF9MRUpQX0NPTkY6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MSUJFVjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xJQkVWRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTElCVVY6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MV1NBQzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTFdTV1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MV1NfRFNIOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTUlOSU1BTF9FWEFNUExFUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX01JTklaOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTkVUTElOSzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTk9fTE9HUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1BFRVJfTElNSVRTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfUExVR0lOUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfUExVR0lOU19BUEk6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TREVWRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNU19BVVRIX1NJR1Y0OkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfQ1BQOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfUFJPWFlfQVBJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfU1RBVElDX1BPTElDWV9PTkxZOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfU1lTX0FVVEhfQVBJX0FNQVpPTl9DT006Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUxGVEVTVFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFUVVFTkNFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NIQVJFRDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NPQ0tTNTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1BBV046Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TUUxJVEUzOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TVEFUSUM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NUUlVDVF9KU09OOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1RSVUNUX1NRTElURTM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TVUxfREVCVUdHSU5HOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX0FTWU5DX0ROUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19ESENQX0NMSUVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19GQVVMVF9JTkpFQ1RJT046Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfTUVUUklDUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19OVFBDTElFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfU01EOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfU1RBVEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1RIUkVBRFBPT0w6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1RMU19TRVNTSU9OUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVURQOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9VTE9PUDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1VOSVhfU09DSzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfWklQX0ZPUFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1pMSUI6Qk9PTD1PTgogICAgQ01BS0VfQ0FDSEVfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfSEFWRV9MSUJDQVA6Qk9PTD1GQUxTRSAtRExXU19XSVRIX1BMVUdJTlNfQVBJOkJPT0w9JHtMV1NfV0lUSF9QTFVHSU5TX0FQSX0gLURMV1NfV0lUSF9QTFVHSU5TOkJPT0w9JHtMV1NfV0lUSF9QTFVHSU5TfQogICAgICAgICAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlNfQlVJTFRJTjpCT09MPSR7TFdTX1dJVEhfUExVR0lOU19CVUlMVElOfQogICAgSU5TVEFMTF9DT01NQU5EICIiCiAgICAjTE9HX0RPV05MT0FEIE9OCiAgICBVU0VTX1RFUk1JTkFMX0RPV05MT0FEIE9OCiAgICAjTE9HX0NPTkZJR1VSRSBPTgogICAgVVNFU19URVJNSU5BTF9DT05GSUdVUkUgT04KICAgICNMT0dfQlVJTEQgT04KICAgIFVTRVNfVEVSTUlOQUxfQlVJTEQgT04KICAgICNMT0dfT1VUUFVUX09OX0ZBSUxVUkUgT04KICApCiAgIyBFeHRlcm5hbFByb2plY3RfR2V0X1Byb3BlcnR5KGxpYndlYnNvY2tldHMgQ01BS0VfQ0FDSEVfREVGQVVMVF9BUkdTKQogICNtZXNzYWdlKCJDTUFLRV9DQUNIRV9ERUZBVUxUX0FSR1Mgb2YgbGlid2Vic29ja2V0cyA9ICR7Q01BS0VfQ0FDSEVfREVGQVVMVF9BUkdTfSIpCgogICNsaW5rX2RpcmVjdG9yaWVzKCIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cy9saWIiKQoKICBpZihBUkdOKQogICAgRXh0ZXJuYWxQcm9qZWN0X0FkZF9TdGVwRGVwZW5kZW5jaWVzKGxpYndlYnNvY2tldHMgYnVpbGQgJHtBUkdOfSkKICBlbmRpZihBUkdOKQoKZW5kbWFjcm8oYnVpbGRfbGlid2Vic29ja2V0cykKAAAAAAAAAADTNAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfxoAAAAAAAB/GgAAAAAAAAAAAAAAAAAA"
				],
				[
					628,
					1,
					"insert",
					{
						"characters": ";${{"
					},
					"BAAAACoZAAAAAAAAKxkAAAAAAAAAAAAAKxkAAAAAAAAsGQAAAAAAAAAAAAAsGQAAAAAAAC0ZAAAAAAAAAAAAAC0ZAAAAAAAALhkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKhkAAAAAAAAqGQAAAAAAAAAAAAAAAPC/"
				],
				[
					629,
					1,
					"left_delete",
					null,
					"AQAAAC0ZAAAAAAAALRkAAAAAAAABAAAAew",
					"AQAAAAAAAAABAAAALhkAAAAAAAAuGQAAAAAAAAAAAAAAAPC/"
				],
				[
					630,
					1,
					"insert",
					{
						"characters": "OPENSSL_ROOT_"
					},
					"DQAAAC0ZAAAAAAAALhkAAAAAAAAAAAAALhkAAAAAAAAvGQAAAAAAAAAAAAAvGQAAAAAAADAZAAAAAAAAAAAAADAZAAAAAAAAMRkAAAAAAAAAAAAAMRkAAAAAAAAyGQAAAAAAAAAAAAAyGQAAAAAAADMZAAAAAAAAAAAAADMZAAAAAAAANBkAAAAAAAAAAAAANBkAAAAAAAA1GQAAAAAAAAAAAAA1GQAAAAAAADYZAAAAAAAAAAAAADYZAAAAAAAANxkAAAAAAAAAAAAANxkAAAAAAAA4GQAAAAAAAAAAAAA4GQAAAAAAADkZAAAAAAAAAAAAADkZAAAAAAAAOhkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALRkAAAAAAAAtGQAAAAAAAAAAAAAAAPC/"
				],
				[
					631,
					1,
					"insert",
					{
						"characters": "DIR}"
					},
					"BAAAADoZAAAAAAAAOxkAAAAAAAAAAAAAOxkAAAAAAAA8GQAAAAAAAAAAAAA8GQAAAAAAAD0ZAAAAAAAAAAAAAD0ZAAAAAAAAPhkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOhkAAAAAAAA6GQAAAAAAAAAAAAAAAPC/"
				],
				[
					637,
					1,
					"cut",
					null,
					"AQAAACoZAAAAAAAAKhkAAAAAAAAUAAAAOyR7T1BFTlNTTF9ST09UX0RJUn0",
					"AQAAAAAAAAABAAAAPhkAAAAAAAAqGQAAAAAAAAAAAAAAAPC/"
				],
				[
					638,
					1,
					"paste",
					null,
					"AQAAACoZAAAAAAAAPhkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKhkAAAAAAAAqGQAAAAAAAAAAAAAAAPC/"
				],
				[
					641,
					1,
					"paste",
					null,
					"AQAAANgZAAAAAAAA7BkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2BkAAAAAAADYGQAAAAAAAAAAAAAAAPC/"
				],
				[
					643,
					5,
					"left_delete",
					null,
					"BQAAAOcZAAAAAAAA5xkAAAAAAAABAAAAX+YZAAAAAAAA5hkAAAAAAAABAAAAVOUZAAAAAAAA5RkAAAAAAAABAAAAT+QZAAAAAAAA5BkAAAAAAAABAAAAT+MZAAAAAAAA4xkAAAAAAAABAAAAUg",
					"AQAAAAAAAAABAAAA6BkAAAAAAADoGQAAAAAAAAAAAAAAAPC/"
				],
				[
					644,
					1,
					"insert",
					{
						"characters": "LIBRARY_"
					},
					"CAAAAOMZAAAAAAAA5BkAAAAAAAAAAAAA5BkAAAAAAADlGQAAAAAAAAAAAADlGQAAAAAAAOYZAAAAAAAAAAAAAOYZAAAAAAAA5xkAAAAAAAAAAAAA5xkAAAAAAADoGQAAAAAAAAAAAADoGQAAAAAAAOkZAAAAAAAAAAAAAOkZAAAAAAAA6hkAAAAAAAAAAAAA6hkAAAAAAADrGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4xkAAAAAAADjGQAAAAAAAAAAAAAAAPC/"
				],
				[
					647,
					1,
					"paste",
					null,
					"AQAAAIoaAAAAAAAAnhoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAihoAAAAAAACKGgAAAAAAAAAAAAAAAPC/"
				],
				[
					650,
					4,
					"left_delete",
					null,
					"BAAAAJgaAAAAAAAAmBoAAAAAAAABAAAAVJcaAAAAAAAAlxoAAAAAAAABAAAAT5YaAAAAAAAAlhoAAAAAAAABAAAAT5UaAAAAAAAAlRoAAAAAAAABAAAAUg",
					"AQAAAAAAAAABAAAAmRoAAAAAAACZGgAAAAAAAAAAAAAAAPC/"
				],
				[
					651,
					1,
					"insert",
					{
						"characters": "INCLUDE"
					},
					"BwAAAJUaAAAAAAAAlhoAAAAAAAAAAAAAlhoAAAAAAACXGgAAAAAAAAAAAACXGgAAAAAAAJgaAAAAAAAAAAAAAJgaAAAAAAAAmRoAAAAAAAAAAAAAmRoAAAAAAACaGgAAAAAAAAAAAACaGgAAAAAAAJsaAAAAAAAAAAAAAJsaAAAAAAAAnBoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlRoAAAAAAACVGgAAAAAAAAAAAAAAAPC/"
				],
				[
					671,
					1,
					"insert",
					{
						"characters": " OR"
					},
					"AwAAACUaAAAAAAAAJhoAAAAAAAAAAAAAJhoAAAAAAAAnGgAAAAAAAAAAAAAnGgAAAAAAACgaAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJRoAAAAAAAAlGgAAAAAAAAAAAAAAAPC/"
				],
				[
					672,
					1,
					"insert",
					{
						"characters": " OPENSSL_IB"
					},
					"CwAAACgaAAAAAAAAKRoAAAAAAAAAAAAAKRoAAAAAAAAqGgAAAAAAAAAAAAAqGgAAAAAAACsaAAAAAAAAAAAAACsaAAAAAAAALBoAAAAAAAAAAAAALBoAAAAAAAAtGgAAAAAAAAAAAAAtGgAAAAAAAC4aAAAAAAAAAAAAAC4aAAAAAAAALxoAAAAAAAAAAAAALxoAAAAAAAAwGgAAAAAAAAAAAAAwGgAAAAAAADEaAAAAAAAAAAAAADEaAAAAAAAAMhoAAAAAAAAAAAAAMhoAAAAAAAAzGgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKBoAAAAAAAAoGgAAAAAAAAAAAAAAAPC/"
				],
				[
					673,
					1,
					"left_delete",
					null,
					"AQAAADIaAAAAAAAAMhoAAAAAAAABAAAAQg",
					"AQAAAAAAAAABAAAAMxoAAAAAAAAzGgAAAAAAAAAAAAAAAPC/"
				],
				[
					674,
					1,
					"insert",
					{
						"characters": "NCLUDE_DIR"
					},
					"CgAAADIaAAAAAAAAMxoAAAAAAAAAAAAAMxoAAAAAAAA0GgAAAAAAAAAAAAA0GgAAAAAAADUaAAAAAAAAAAAAADUaAAAAAAAANhoAAAAAAAAAAAAANhoAAAAAAAA3GgAAAAAAAAAAAAA3GgAAAAAAADgaAAAAAAAAAAAAADgaAAAAAAAAORoAAAAAAAAAAAAAORoAAAAAAAA6GgAAAAAAAAAAAAA6GgAAAAAAADsaAAAAAAAAAAAAADsaAAAAAAAAPBoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMhoAAAAAAAAyGgAAAAAAAAAAAAAAAPC/"
				],
				[
					680,
					1,
					"paste",
					null,
					"AQAAAHMZAAAAAAAAiRkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxkAAAAAAABzGQAAAAAAAAAAAAAAAPC/"
				],
				[
					683,
					2,
					"left_delete",
					null,
					"AgAAAH8ZAAAAAAAAfxkAAAAAAAAKAAAATkNMVURFX0RJUn4ZAAAAAAAAfhkAAAAAAAABAAAASQ",
					"AQAAAAAAAAABAAAAiRkAAAAAAAB/GQAAAAAAAAAAAAAAAPC/"
				],
				[
					684,
					1,
					"insert",
					{
						"characters": "LIBRARY_DIR"
					},
					"CwAAAH4ZAAAAAAAAfxkAAAAAAAAAAAAAfxkAAAAAAACAGQAAAAAAAAAAAACAGQAAAAAAAIEZAAAAAAAAAAAAAIEZAAAAAAAAghkAAAAAAAAAAAAAghkAAAAAAACDGQAAAAAAAAAAAACDGQAAAAAAAIQZAAAAAAAAAAAAAIQZAAAAAAAAhRkAAAAAAAAAAAAAhRkAAAAAAACGGQAAAAAAAAAAAACGGQAAAAAAAIcZAAAAAAAAAAAAAIcZAAAAAAAAiBkAAAAAAAAAAAAAiBkAAAAAAACJGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfhkAAAAAAAB+GQAAAAAAAAAAAAAAAPC/"
				],
				[
					689,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHMZAAAAAAAAdBkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxkAAAAAAABzGQAAAAAAAAAAAAAAAPC/"
				],
				[
					692,
					1,
					"insert",
					{
						"characters": " OR"
					},
					"AwAAAMcYAAAAAAAAyBgAAAAAAAAAAAAAyBgAAAAAAADJGAAAAAAAAAAAAADJGAAAAAAAAMoYAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxxgAAAAAAADHGAAAAAAAAAAAAAAAAPC/"
				],
				[
					693,
					1,
					"insert",
					{
						"characters": " OPENSSL_ROOT_"
					},
					"DgAAAMoYAAAAAAAAyxgAAAAAAAAAAAAAyxgAAAAAAADMGAAAAAAAAAAAAADMGAAAAAAAAM0YAAAAAAAAAAAAAM0YAAAAAAAAzhgAAAAAAAAAAAAAzhgAAAAAAADPGAAAAAAAAAAAAADPGAAAAAAAANAYAAAAAAAAAAAAANAYAAAAAAAA0RgAAAAAAAAAAAAA0RgAAAAAAADSGAAAAAAAAAAAAADSGAAAAAAAANMYAAAAAAAAAAAAANMYAAAAAAAA1BgAAAAAAAAAAAAA1BgAAAAAAADVGAAAAAAAAAAAAADVGAAAAAAAANYYAAAAAAAAAAAAANYYAAAAAAAA1xgAAAAAAAAAAAAA1xgAAAAAAADYGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyhgAAAAAAADKGAAAAAAAAAAAAAAAAPC/"
				],
				[
					694,
					1,
					"insert",
					{
						"characters": "DIR"
					},
					"AwAAANgYAAAAAAAA2RgAAAAAAAAAAAAA2RgAAAAAAADaGAAAAAAAAAAAAADaGAAAAAAAANsYAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2BgAAAAAAADYGAAAAAAAAAAAAAAAAPC/"
				],
				[
					705,
					1,
					"right_delete",
					null,
					"AQAAAF0ZAAAAAAAAXRkAAAAAAAARAAAAQ01BS0VfUFJFRklYX1BBVEg",
					"AQAAAAAAAAABAAAAXRkAAAAAAABuGQAAAAAAAAAAAAAAAPC/"
				],
				[
					710,
					1,
					"right_delete",
					null,
					"AQAAABQaAAAAAAAAFBoAAAAAAAASAAAAQ01BS0VfTElCUkFSWV9QQVRI",
					"AQAAAAAAAAABAAAAFBoAAAAAAAAmGgAAAAAAAAAAAAAAAPC/"
				],
				[
					715,
					1,
					"right_delete",
					null,
					"AQAAAMsaAAAAAAAAyxoAAAAAAAASAAAAQ01BS0VfSU5DTFVERV9QQVRI",
					"AQAAAAAAAAABAAAAyxoAAAAAAADdGgAAAAAAAAAAAAAAAPC/"
				],
				[
					794,
					1,
					"cut",
					null,
					"AQAAAHcPAAAAAAAAdw8AAAAAAADTAAAAIGlmKE9QRU5TU0xfTElCUkFSSUVTKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9ICItRExXU19PUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30iICItRE9QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSIpCiAgICAgIGVuZGlmKE9QRU5TU0xfTElCUkFSSUVTKQ",
					"AQAAAAAAAAABAAAAdw8AAAAAAABKEAAAAAAAAAAAAAAAAPC/"
				],
				[
					795,
					2,
					"paste",
					null,
					"AgAAAHcPAAAAAAAAShAAAAAAAAAAAAAAShAAAAAAAAAdEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdw8AAAAAAAB3DwAAAAAAAAAAAAAAAPC/"
				],
				[
					798,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAEsQAAAAAAAATBAAAAAAAAAAAAAATBAAAAAAAABSEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASxAAAAAAAABLEAAAAAAAAAAAAAAAAPC/"
				],
				[
					801,
					1,
					"insert",
					{
						"characters": "ARY_DIR"
					},
					"CAAAAGEQAAAAAAAAYhAAAAAAAAAAAAAAYhAAAAAAAABiEAAAAAAAAAUAAABBUklFU2IQAAAAAAAAYxAAAAAAAAAAAAAAYxAAAAAAAABkEAAAAAAAAAAAAABkEAAAAAAAAGUQAAAAAAAAAAAAAGUQAAAAAAAAZhAAAAAAAAAAAAAAZhAAAAAAAABnEAAAAAAAAAAAAABnEAAAAAAAAGgQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYRAAAAAAAABmEAAAAAAAAAAAAAAAAPC/"
				],
				[
					809,
					1,
					"paste",
					null,
					"AgAAAKIQAAAAAAAAtRAAAAAAAAAAAAAAtRAAAAAAAAC1EAAAAAAAABUAAABMV1NfT1BFTlNTTF9MSUJSQVJJRVM",
					"AQAAAAAAAAABAAAAohAAAAAAAAC3EAAAAAAAAAAAAAAAAPC/"
				],
				[
					814,
					1,
					"insert",
					{
						"characters": "F"
					},
					"AgAAALYQAAAAAAAAtxAAAAAAAAAAAAAAtxAAAAAAAAC3EAAAAAAAAAYAAABTVFJJTkc",
					"AQAAAAAAAAABAAAAthAAAAAAAAC8EAAAAAAAAAAAAAAAAPC/"
				],
				[
					815,
					1,
					"left_delete",
					null,
					"AQAAALYQAAAAAAAAthAAAAAAAAABAAAARg",
					"AQAAAAAAAAABAAAAtxAAAAAAAAC3EAAAAAAAAAAAAAAAAPC/"
				],
				[
					816,
					1,
					"insert",
					{
						"characters": "PATH"
					},
					"BAAAALYQAAAAAAAAtxAAAAAAAAAAAAAAtxAAAAAAAAC4EAAAAAAAAAAAAAC4EAAAAAAAALkQAAAAAAAAAAAAALkQAAAAAAAAuhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAthAAAAAAAAC2EAAAAAAAAAAAAAAAAPC/"
				],
				[
					821,
					1,
					"paste",
					null,
					"AgAAAL0QAAAAAAAA0BAAAAAAAAAAAAAA0BAAAAAAAADQEAAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFUw",
					"AQAAAAAAAAABAAAAvRAAAAAAAADOEAAAAAAAAAAAAAAAAPC/"
				],
				[
					829,
					1,
					"insert",
					{
						"characters": "éWS"
					},
					"BAAAANYQAAAAAAAA1xAAAAAAAAAAAAAA1xAAAAAAAADXEAAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFU9cQAAAAAAAA2BAAAAAAAAAAAAAA2BAAAAAAAADZEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1hAAAAAAAADnEAAAAAAAAAAAAAAAAPC/"
				],
				[
					830,
					3,
					"left_delete",
					null,
					"AwAAANgQAAAAAAAA2BAAAAAAAAABAAAAU9cQAAAAAAAA1xAAAAAAAAABAAAAV9YQAAAAAAAA1hAAAAAAAAACAAAAw6k",
					"AQAAAAAAAAABAAAA2RAAAAAAAADZEAAAAAAAAAAAAAAAAPC/"
				],
				[
					831,
					1,
					"insert",
					{
						"characters": "LWDS_"
					},
					"BQAAANYQAAAAAAAA1xAAAAAAAAAAAAAA1xAAAAAAAADYEAAAAAAAAAAAAADYEAAAAAAAANkQAAAAAAAAAAAAANkQAAAAAAAA2hAAAAAAAAAAAAAA2hAAAAAAAADbEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1hAAAAAAAADWEAAAAAAAAAAAAAAAAPC/"
				],
				[
					832,
					3,
					"left_delete",
					null,
					"AwAAANoQAAAAAAAA2hAAAAAAAAABAAAAX9kQAAAAAAAA2RAAAAAAAAABAAAAU9gQAAAAAAAA2BAAAAAAAAABAAAARA",
					"AQAAAAAAAAABAAAA2xAAAAAAAADbEAAAAAAAAAAAAAAAAPC/"
				],
				[
					833,
					1,
					"insert",
					{
						"characters": "S_OPENSSL_LIBRARY_D"
					},
					"EwAAANgQAAAAAAAA2RAAAAAAAAAAAAAA2RAAAAAAAADaEAAAAAAAAAAAAADaEAAAAAAAANsQAAAAAAAAAAAAANsQAAAAAAAA3BAAAAAAAAAAAAAA3BAAAAAAAADdEAAAAAAAAAAAAADdEAAAAAAAAN4QAAAAAAAAAAAAAN4QAAAAAAAA3xAAAAAAAAAAAAAA3xAAAAAAAADgEAAAAAAAAAAAAADgEAAAAAAAAOEQAAAAAAAAAAAAAOEQAAAAAAAA4hAAAAAAAAAAAAAA4hAAAAAAAADjEAAAAAAAAAAAAADjEAAAAAAAAOQQAAAAAAAAAAAAAOQQAAAAAAAA5RAAAAAAAAAAAAAA5RAAAAAAAADmEAAAAAAAAAAAAADmEAAAAAAAAOcQAAAAAAAAAAAAAOcQAAAAAAAA6BAAAAAAAAAAAAAA6BAAAAAAAADpEAAAAAAAAAAAAADpEAAAAAAAAOoQAAAAAAAAAAAAAOoQAAAAAAAA6xAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2BAAAAAAAADYEAAAAAAAAAAAAAAAAPC/"
				],
				[
					834,
					1,
					"insert",
					{
						"characters": "IR:PATH"
					},
					"BwAAAOsQAAAAAAAA7BAAAAAAAAAAAAAA7BAAAAAAAADtEAAAAAAAAAAAAADtEAAAAAAAAO4QAAAAAAAAAAAAAO4QAAAAAAAA7xAAAAAAAAAAAAAA7xAAAAAAAADwEAAAAAAAAAAAAADwEAAAAAAAAPEQAAAAAAAAAAAAAPEQAAAAAAAA8hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6xAAAAAAAADrEAAAAAAAAAAAAAAAAPC/"
				],
				[
					835,
					7,
					"right_delete",
					null,
					"BwAAAPIQAAAAAAAA8hAAAAAAAAABAAAAOvIQAAAAAAAA8hAAAAAAAAABAAAAU/IQAAAAAAAA8hAAAAAAAAABAAAAVPIQAAAAAAAA8hAAAAAAAAABAAAAUvIQAAAAAAAA8hAAAAAAAAABAAAASfIQAAAAAAAA8hAAAAAAAAABAAAATvIQAAAAAAAA8hAAAAAAAAABAAAARw",
					"AQAAAAAAAAABAAAA8hAAAAAAAADyEAAAAAAAAAAAAAAAAPC/"
				],
				[
					837,
					1,
					"paste",
					null,
					"AQAAAPUQAAAAAAAACBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9RAAAAAAAAD1EAAAAAAAAAAAAAAAAPC/"
				],
				[
					840,
					1,
					"left_delete",
					null,
					"AQAAAAgRAAAAAAAACBEAAAAAAAARAAAAT1BFTlNTTF9MSUJSQVJJRVM",
					"AQAAAAAAAAABAAAACBEAAAAAAAAZEQAAAAAAAAAAAAAAAPC/"
				],
				[
					851,
					1,
					"paste",
					null,
					"AgAAABgRAAAAAAAAKxEAAAAAAAAAAAAAKxEAAAAAAAArEQAAAAAAABEAAABPUEVOU1NMX0xJQlJBUklFUw",
					"AQAAAAAAAAABAAAAGBEAAAAAAAApEQAAAAAAAAAAAAAAAPC/"
				],
				[
					866,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAEsQAAAAAAAATRAAAAAAAAAAAAAAdw8AAAAAAAB5DwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASxAAAAAAAAB3DwAAAAAAAAAAAAAAAPC/"
				],
				[
					894,
					2,
					"left_delete",
					null,
					"AgAAAHgPAAAAAAAAeA8AAAAAAAABAAAAKncPAAAAAAAAdw8AAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAAeQ8AAAAAAAB5DwAAAAAAAAAAAAAAgFFA"
				],
				[
					895,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAHcPAAAAAAAAeA8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdw8AAAAAAAB3DwAAAAAAAAAAAAAAAPC/"
				],
				[
					896,
					1,
					"right_delete",
					null,
					"AQAAAHgPAAAAAAAAeA8AAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAeA8AAAAAAAB4DwAAAAAAAAAAAAAAAPC/"
				],
				[
					899,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAJMPAAAAAAAAlA8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkw8AAAAAAACTDwAAAAAAAAAAAAAAAPC/"
				],
				[
					901,
					1,
					"left_delete",
					null,
					"AQAAADEQAAAAAAAAMRAAAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAAMxAAAAAAAAAzEAAAAAAAAAAAAAAAAE5A"
				],
				[
					902,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAADEQAAAAAAAAMhAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMRAAAAAAAAAxEAAAAAAAAAAAAAAAAPC/"
				],
				[
					904,
					2,
					"left_delete",
					null,
					"AgAAAEwQAAAAAAAATBAAAAAAAAABAAAAL0sQAAAAAAAASxAAAAAAAAABAAAAKg",
					"AQAAAAAAAAABAAAATRAAAAAAAABNEAAAAAAAAP///////+9/"
				],
				[
					965,
					1,
					"right_delete",
					null,
					"AQAAAHcPAAAAAAAAdw8AAAAAAAABAAAAIw",
					"AQAAAAAAAAABAAAAdw8AAAAAAAB3DwAAAAAAAAAAAAAAAElA"
				],
				[
					967,
					1,
					"right_delete",
					null,
					"AQAAAJIPAAAAAAAAkg8AAAAAAAABAAAAIw",
					"AQAAAAAAAAABAAAAkg8AAAAAAACSDwAAAAAAAAAAAAAAAElA"
				],
				[
					970,
					1,
					"right_delete",
					null,
					"AQAAAC8QAAAAAAAALxAAAAAAAAABAAAAIw",
					"AQAAAAAAAAABAAAALxAAAAAAAAAvEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1009,
					20,
					"left_delete",
					null,
					"FAAAACcQAAAAAAAAJxAAAAAAAAABAAAAfSYQAAAAAAAAJhAAAAAAAAABAAAAUyUQAAAAAAAAJRAAAAAAAAABAAAARSQQAAAAAAAAJBAAAAAAAAABAAAASSMQAAAAAAAAIxAAAAAAAAABAAAAUiIQAAAAAAAAIhAAAAAAAAABAAAAQSEQAAAAAAAAIRAAAAAAAAABAAAAUiAQAAAAAAAAIBAAAAAAAAABAAAAQh8QAAAAAAAAHxAAAAAAAAABAAAASR4QAAAAAAAAHhAAAAAAAAABAAAATB0QAAAAAAAAHRAAAAAAAAABAAAAXxwQAAAAAAAAHBAAAAAAAAABAAAATBsQAAAAAAAAGxAAAAAAAAABAAAAUxoQAAAAAAAAGhAAAAAAAAABAAAAUxkQAAAAAAAAGRAAAAAAAAABAAAAThgQAAAAAAAAGBAAAAAAAAABAAAARRcQAAAAAAAAFxAAAAAAAAABAAAAUBYQAAAAAAAAFhAAAAAAAAABAAAATxUQAAAAAAAAFRAAAAAAAAABAAAAexQQAAAAAAAAFBAAAAAAAAABAAAAJA",
					"AQAAAAAAAAABAAAAKBAAAAAAAAAoEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1034,
					1,
					"insert",
					{
						"characters": "REGEXP"
					},
					"BgAAAKIbAAAAAAAAoxsAAAAAAAAAAAAAoxsAAAAAAACkGwAAAAAAAAAAAACkGwAAAAAAAKUbAAAAAAAAAAAAAKUbAAAAAAAAphsAAAAAAAAAAAAAphsAAAAAAACnGwAAAAAAAAAAAACnGwAAAAAAAKgbAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAohsAAAAAAACiGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1035,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKgbAAAAAAAAqRsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqBsAAAAAAACoGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1036,
					2,
					"left_delete",
					null,
					"AgAAAKgbAAAAAAAAqBsAAAAAAAABAAAAIKcbAAAAAAAApxsAAAAAAAABAAAAUA",
					"AQAAAAAAAAABAAAAqRsAAAAAAACpGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1037,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKcbAAAAAAAAqBsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApxsAAAAAAACnGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1039,
					1,
					"left_delete",
					null,
					"AQAAALEbAAAAAAAAsRsAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAshsAAAAAAACyGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1040,
					1,
					"insert",
					{
						"characters": "["
					},
					"AQAAALEbAAAAAAAAshsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsRsAAAAAAACxGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1041,
					1,
					"insert",
					{
						"characters": " \\t\\n"
					},
					"BQAAALIbAAAAAAAAsxsAAAAAAAAAAAAAsxsAAAAAAAC0GwAAAAAAAAAAAAC0GwAAAAAAALUbAAAAAAAAAAAAALUbAAAAAAAAthsAAAAAAAAAAAAAthsAAAAAAAC3GwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAshsAAAAAAACyGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1042,
					1,
					"insert",
					{
						"characters": "]"
					},
					"AQAAALcbAAAAAAAAuBsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtxsAAAAAAAC3GwAAAAAAAAAAAAAAAPC/"
				],
				[
					1044,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAALcbAAAAAAAAuBsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtxsAAAAAAAC3GwAAAAAAAAAAAAAAAPC/"
				],
				[
					1070,
					1,
					"right_delete",
					null,
					"AQAAALcbAAAAAAAAtxsAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAAtxsAAAAAAAC3GwAAAAAAAAAAAAAAAPC/"
				],
				[
					1099,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAMMZAAAAAAAAxBkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwxkAAAAAAADDGQAAAAAAAAAAAAAAAPC/"
				],
				[
					1102,
					1,
					"left_delete",
					null,
					"AQAAANoZAAAAAAAA2hkAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAA2xkAAAAAAADbGQAAAAAAAAAAAAAAAPC/"
				],
				[
					1104,
					1,
					"left_delete",
					null,
					"AQAAAIsaAAAAAAAAixoAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAjBoAAAAAAACMGgAAAAAAAAAAAAAAQH9A"
				],
				[
					1106,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAHUaAAAAAAAAdhoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdRoAAAAAAAB1GgAAAAAAAAAAAAAAAPC/"
				],
				[
					1109,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAACwbAAAAAAAALRsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALBsAAAAAAAAsGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1111,
					1,
					"right_delete",
					null,
					"AQAAAEMbAAAAAAAAQxsAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAAQxsAAAAAAABDGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1142,
					1,
					"",
					null,
					"AQAAAJkPAAAAAAAAww8AAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAmQ8AAAAAAADDDwAAAAAAAAAAAAAAAPC/"
				],
				[
					1143,
					1,
					"",
					null,
					"AQAAAF8QAAAAAAAAiRAAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAXxAAAAAAAACJEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1144,
					1,
					"",
					null,
					"AQAAAEARAAAAAAAAahEAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAQBEAAAAAAABqEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1145,
					1,
					"",
					null,
					"AQAAALkSAAAAAAAA4xIAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAuRIAAAAAAADjEgAAAAAAAAAAAAAAAPC/"
				],
				[
					1146,
					1,
					"",
					null,
					"AQAAADMUAAAAAAAAXRQAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAMxQAAAAAAABdFAAAAAAAAAAAAAAAAPC/"
				],
				[
					1147,
					1,
					"",
					null,
					"AQAAADkWAAAAAAAAYxYAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAAORYAAAAAAABjFgAAAAAAAAAAAAAAAPC/"
				],
				[
					1148,
					1,
					"",
					null,
					"AQAAANUWAAAAAAAA/xYAAAAAAAAqAAAATElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAi",
					"AQAAAAAAAAABAAAA1RYAAAAAAAD/FgAAAAAAAAAAAAAAAPC/"
				],
				[
					1153,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAPYPAAAAAAAA9w8AAAAAAAAAAAAA9w8AAAAAAAD3DwAAAAAAAAMAAAAiICI",
					"AQAAAAAAAAABAAAA9g8AAAAAAAD5DwAAAAAAAAAAAAAAAPC/"
				],
				[
					1156,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAALgQAAAAAAAAuRAAAAAAAAAAAAAAuRAAAAAAAAC5EAAAAAAAAAMAAAAiICI",
					"AQAAAAAAAAABAAAAuBAAAAAAAAC7EAAAAAAAAAAAAAAAAPC/"
				],
				[
					1159,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJ4RAAAAAAAAnxEAAAAAAAAAAAAAnxEAAAAAAACfEQAAAAAAAAMAAAAiICI",
					"AQAAAAAAAAABAAAAnhEAAAAAAAChEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1163,
					1,
					"",
					null,
					"AQAAAC0SAAAAAAAALxIAAAAAAAAEAAAAIiAiLQ",
					"AQAAAAAAAAABAAAALRIAAAAAAAAxEgAAAAAAAAAAAAAAAPC/"
				],
				[
					1164,
					1,
					"",
					null,
					"AQAAABQTAAAAAAAAFhMAAAAAAAAEAAAAIiAiLQ",
					"AQAAAAAAAAABAAAAFBMAAAAAAAAYEwAAAAAAAAAAAAAAAPC/"
				],
				[
					1165,
					1,
					"",
					null,
					"AQAAAKQTAAAAAAAAphMAAAAAAAAEAAAAIiAiLQ",
					"AQAAAAAAAAABAAAApBMAAAAAAACoEwAAAAAAAAAAAAAAAPC/"
				],
				[
					1171,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAE0TAAAAAAAAThMAAAAAAAAAAAAAThMAAAAAAABOEwAAAAAAACIAAAAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi",
					"AQAAAAAAAAABAAAAbxMAAAAAAABNEwAAAAAAAAAAAAAAAPC/"
				],
				[
					1187,
					1,
					"right_delete",
					null,
					"AQAAANcRAAAAAAAA1xEAAAAAAAAiAAAAIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIg",
					"AQAAAAAAAAABAAAA+REAAAAAAADXEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1188,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANcRAAAAAAAA2BEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1xEAAAAAAADXEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1211,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAN0OAAAAAAAA3g4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3Q4AAAAAAADdDgAAAAAAAAAAAAAAAPC/"
				],
				[
					1214,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAHEPAAAAAAAAcg8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcQ8AAAAAAABxDwAAAAAAAAAAAAAAAPC/"
				],
				[
					1231,
					1,
					"cut",
					null,
					"AQAAAHYPAAAAAAAAdg8AAAAAAAC+AAAAICAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSAtRE9QRU5TU0xfTElCUkFSSUVTOlNUUklORz0iKQogICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpIA",
					"AQAAAAAAAAABAAAAdg8AAAAAAAA0EAAAAAAAAAAAAAAAAPC/"
				],
				[
					1232,
					1,
					"paste",
					null,
					"AQAAAHYPAAAAAAAANBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdg8AAAAAAAB2DwAAAAAAAAAAAAAAAPC/"
				],
				[
					1297,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAEsbAAAAAAAATRsAAAAAAAAAAAAAMhkAAAAAAAA1GQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASxsAAAAAAAAyGQAAAAAAAAAAAAAAAPC/"
				],
				[
					1320,
					1,
					"insert",
					{
						"characters": "-DCMAKE_INCLUDE_PATH"
					},
					"FAAAAGgRAAAAAAAAaREAAAAAAAAAAAAAaREAAAAAAABqEQAAAAAAAAAAAABqEQAAAAAAAGsRAAAAAAAAAAAAAGsRAAAAAAAAbBEAAAAAAAAAAAAAbBEAAAAAAABtEQAAAAAAAAAAAABtEQAAAAAAAG4RAAAAAAAAAAAAAG4RAAAAAAAAbxEAAAAAAAAAAAAAbxEAAAAAAABwEQAAAAAAAAAAAABwEQAAAAAAAHERAAAAAAAAAAAAAHERAAAAAAAAchEAAAAAAAAAAAAAchEAAAAAAABzEQAAAAAAAAAAAABzEQAAAAAAAHQRAAAAAAAAAAAAAHQRAAAAAAAAdREAAAAAAAAAAAAAdREAAAAAAAB2EQAAAAAAAAAAAAB2EQAAAAAAAHcRAAAAAAAAAAAAAHcRAAAAAAAAeBEAAAAAAAAAAAAAeBEAAAAAAAB5EQAAAAAAAAAAAAB5EQAAAAAAAHoRAAAAAAAAAAAAAHoRAAAAAAAAexEAAAAAAAAAAAAAexEAAAAAAAB8EQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaBEAAAAAAABoEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1321,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAHwRAAAAAAAAfREAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfBEAAAAAAAB8EQAAAAAAAAAAAAAAAPC/"
				],
				[
					1322,
					1,
					"left_delete",
					null,
					"AQAAAHwRAAAAAAAAfBEAAAAAAAABAAAAPQ",
					"AQAAAAAAAAABAAAAfREAAAAAAAB9EQAAAAAAAAAAAAAAAPC/"
				],
				[
					1323,
					1,
					"insert",
					{
						"characters": ":STRNG"
					},
					"BgAAAHwRAAAAAAAAfREAAAAAAAAAAAAAfREAAAAAAAB+EQAAAAAAAAAAAAB+EQAAAAAAAH8RAAAAAAAAAAAAAH8RAAAAAAAAgBEAAAAAAAAAAAAAgBEAAAAAAACBEQAAAAAAAAAAAACBEQAAAAAAAIIRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfBEAAAAAAAB8EQAAAAAAAAAAAAAAAPC/"
				],
				[
					1324,
					2,
					"left_delete",
					null,
					"AgAAAIERAAAAAAAAgREAAAAAAAABAAAAR4ARAAAAAAAAgBEAAAAAAAABAAAATg",
					"AQAAAAAAAAABAAAAghEAAAAAAACCEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1325,
					1,
					"insert",
					{
						"characters": "ING=${"
					},
					"BgAAAIARAAAAAAAAgREAAAAAAAAAAAAAgREAAAAAAACCEQAAAAAAAAAAAACCEQAAAAAAAIMRAAAAAAAAAAAAAIMRAAAAAAAAhBEAAAAAAAAAAAAAhBEAAAAAAACFEQAAAAAAAAAAAACFEQAAAAAAAIYRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgBEAAAAAAACAEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1326,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIYRAAAAAAAAhxEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhhEAAAAAAACGEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1328,
					1,
					"insert",
					{
						"characters": "OPENSSL_INCLUDE_DIR}"
					},
					"FAAAAIYRAAAAAAAAhxEAAAAAAAAAAAAAhxEAAAAAAACIEQAAAAAAAAAAAACIEQAAAAAAAIkRAAAAAAAAAAAAAIkRAAAAAAAAihEAAAAAAAAAAAAAihEAAAAAAACLEQAAAAAAAAAAAACLEQAAAAAAAIwRAAAAAAAAAAAAAIwRAAAAAAAAjREAAAAAAAAAAAAAjREAAAAAAACOEQAAAAAAAAAAAACOEQAAAAAAAI8RAAAAAAAAAAAAAI8RAAAAAAAAkBEAAAAAAAAAAAAAkBEAAAAAAACREQAAAAAAAAAAAACREQAAAAAAAJIRAAAAAAAAAAAAAJIRAAAAAAAAkxEAAAAAAAAAAAAAkxEAAAAAAACUEQAAAAAAAAAAAACUEQAAAAAAAJURAAAAAAAAAAAAAJURAAAAAAAAlhEAAAAAAAAAAAAAlhEAAAAAAACXEQAAAAAAAAAAAACXEQAAAAAAAJgRAAAAAAAAAAAAAJgRAAAAAAAAmREAAAAAAAAAAAAAmREAAAAAAACaEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhhEAAAAAAACGEQAAAAAAAAAAAAAAAPC/"
				],
				[
					1336,
					1,
					"paste",
					null,
					"AQAAAO4SAAAAAAAAIRMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7hIAAAAAAADuEgAAAAAAAAAAAAAAAPC/"
				],
				[
					1339,
					1,
					"insert",
					{
						"characters": "S"
					},
					"AQAAACATAAAAAAAAIRMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIBMAAAAAAAAgEwAAAAAAAAAAAAAAAPC/"
				],
				[
					1350,
					1,
					"paste",
					null,
					"AQAAAIkQAAAAAAAAvBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiRAAAAAAAACJEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1351,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALwQAAAAAAAAvRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvBAAAAAAAAC8EAAAAAAAAAAAAAAAAPC/"
				],
				[
					1354,
					1,
					"insert",
					{
						"characters": "LIBNR"
					},
					"BgAAAJIQAAAAAAAAkxAAAAAAAAAAAAAAkxAAAAAAAACTEAAAAAAAAAcAAABJTkNMVURFkxAAAAAAAACUEAAAAAAAAAAAAACUEAAAAAAAAJUQAAAAAAAAAAAAAJUQAAAAAAAAlhAAAAAAAAAAAAAAlhAAAAAAAACXEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkhAAAAAAAACZEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1355,
					2,
					"left_delete",
					null,
					"AgAAAJYQAAAAAAAAlhAAAAAAAAABAAAAUpUQAAAAAAAAlRAAAAAAAAABAAAATg",
					"AQAAAAAAAAABAAAAlxAAAAAAAACXEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1356,
					1,
					"insert",
					{
						"characters": "RARY"
					},
					"BAAAAJUQAAAAAAAAlhAAAAAAAAAAAAAAlhAAAAAAAACXEAAAAAAAAAAAAACXEAAAAAAAAJgQAAAAAAAAAAAAAJgQAAAAAAAAmRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlRAAAAAAAACVEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1364,
					1,
					"paste",
					null,
					"AgAAALAQAAAAAAAAtxAAAAAAAAAAAAAAtxAAAAAAAAC3EAAAAAAAAAcAAABJTkNMVURF",
					"AQAAAAAAAAABAAAAsBAAAAAAAAC3EAAAAAAAAAAAAAAAAPC/"
				],
				[
					1367,
					1,
					"right_delete",
					null,
					"AQAAAIkQAAAAAAAAiRAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAiRAAAAAAAACJEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1379,
					1,
					"cut",
					null,
					"AQAAAHQPAAAAAAAAdA8AAAAAAADBAAAAICAgICBpZihPUEVOU1NMX0xJQlJBUklFUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfT1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJJRVN9IC1ET1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSIpCiAgICBlbmRpZihPUEVOU1NMX0xJQlJBUklFUykgCg",
					"AQAAAAAAAAABAAAANRAAAAAAAAB0DwAAAAAAAAAAAAAAAAAA"
				],
				[
					1380,
					2,
					"paste",
					null,
					"AgAAAHQPAAAAAAAANRAAAAAAAAAAAAAANRAAAAAAAAD2EAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdA8AAAAAAAB0DwAAAAAAAAAAAAAAAPC/"
				],
				[
					1383,
					3,
					"left_delete",
					null,
					"AwAAAE0QAAAAAAAATRAAAAAAAAABAAAAU0wQAAAAAAAATBAAAAAAAAABAAAARUsQAAAAAAAASxAAAAAAAAABAAAASQ",
					"AQAAAAAAAAABAAAAThAAAAAAAABOEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1384,
					1,
					"insert",
					{
						"characters": "Y"
					},
					"AQAAAEsQAAAAAAAATBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASxAAAAAAAABLEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1388,
					3,
					"right_delete",
					null,
					"AwAAAO4QAAAAAAAA7hAAAAAAAAABAAAASe4QAAAAAAAA7hAAAAAAAAABAAAARe4QAAAAAAAA7hAAAAAAAAABAAAAUw",
					"AQAAAAAAAAABAAAA7hAAAAAAAADuEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1389,
					1,
					"insert",
					{
						"characters": ">Y"
					},
					"AgAAAO4QAAAAAAAA7xAAAAAAAAAAAAAA7xAAAAAAAADwEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7hAAAAAAAADuEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1390,
					2,
					"left_delete",
					null,
					"AgAAAO8QAAAAAAAA7xAAAAAAAAABAAAAWe4QAAAAAAAA7hAAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAA8BAAAAAAAADwEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1391,
					1,
					"insert",
					{
						"characters": "Y"
					},
					"AQAAAO4QAAAAAAAA7xAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7hAAAAAAAADuEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1396,
					1,
					"insert",
					{
						"characters": "Y"
					},
					"AgAAALMQAAAAAAAAtBAAAAAAAAAAAAAAtBAAAAAAAAC0EAAAAAAAAAMAAABJRVM",
					"AQAAAAAAAAABAAAAsxAAAAAAAAC2EAAAAAAAAAAAAAAAAPC/"
				],
				[
					1402,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAANIQAAAAAAAA0xAAAAAAAAAAAAAA0xAAAAAAAADbEAAAAAAAAAAAAADTEAAAAAAAANMQAAAAAAAACAAAACAgICAgICAg0xAAAAAAAADdEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0hAAAAAAAADSEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1403,
					6,
					"left_delete",
					null,
					"BgAAANsQAAAAAAAA2xAAAAAAAAACAAAAICDZEAAAAAAAANkQAAAAAAAAAgAAACAg1xAAAAAAAADXEAAAAAAAAAIAAAAgINUQAAAAAAAA1RAAAAAAAAACAAAAICDTEAAAAAAAANMQAAAAAAAAAgAAACAg0hAAAAAAAADSEAAAAAAAAAEAAAAK",
					"AQAAAAAAAAABAAAA3RAAAAAAAADdEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1404,
					1,
					"insert",
					{
						"characters": "$"
					},
					"AQAAANIQAAAAAAAA0xAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0hAAAAAAAADSEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1405,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAANMQAAAAAAAA1RAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0xAAAAAAAADTEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1406,
					1,
					"insert",
					{
						"characters": "OPENSSL_LI"
					},
					"CgAAANQQAAAAAAAA1RAAAAAAAAAAAAAA1RAAAAAAAADWEAAAAAAAAAAAAADWEAAAAAAAANcQAAAAAAAAAAAAANcQAAAAAAAA2BAAAAAAAAAAAAAA2BAAAAAAAADZEAAAAAAAAAAAAADZEAAAAAAAANoQAAAAAAAAAAAAANoQAAAAAAAA2xAAAAAAAAAAAAAA2xAAAAAAAADcEAAAAAAAAAAAAADcEAAAAAAAAN0QAAAAAAAAAAAAAN0QAAAAAAAA3hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1BAAAAAAAADUEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1407,
					1,
					"insert",
					{
						"characters": "BNRA"
					},
					"BAAAAN4QAAAAAAAA3xAAAAAAAAAAAAAA3xAAAAAAAADgEAAAAAAAAAAAAADgEAAAAAAAAOEQAAAAAAAAAAAAAOEQAAAAAAAA4hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3hAAAAAAAADeEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1408,
					3,
					"left_delete",
					null,
					"AwAAAOEQAAAAAAAA4RAAAAAAAAABAAAAQeAQAAAAAAAA4BAAAAAAAAABAAAAUt8QAAAAAAAA3xAAAAAAAAABAAAATg",
					"AQAAAAAAAAABAAAA4hAAAAAAAADiEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1409,
					1,
					"insert",
					{
						"characters": "RARY"
					},
					"BAAAAN8QAAAAAAAA4BAAAAAAAAAAAAAA4BAAAAAAAADhEAAAAAAAAAAAAADhEAAAAAAAAOIQAAAAAAAAAAAAAOIQAAAAAAAA4xAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3xAAAAAAAADfEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1411,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAOQQAAAAAAAA5hAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5BAAAAAAAADkEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1412,
					1,
					"right_delete",
					null,
					"AQAAAOUQAAAAAAAA5RAAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAA5RAAAAAAAADlEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1414,
					1,
					"right_delete",
					null,
					"AQAAANEQAAAAAAAA0RAAAAAAAAABAAAAIg",
					"AQAAAAAAAAABAAAA0RAAAAAAAADREAAAAAAAAAAAAAAAAPC/"
				],
				[
					1418,
					1,
					"insert",
					{
						"characters": "${OPENSSL_LIB"
					},
					"DQAAABQQAAAAAAAAFRAAAAAAAAAAAAAAFRAAAAAAAAAWEAAAAAAAAAAAAAAWEAAAAAAAABcQAAAAAAAAAAAAABcQAAAAAAAAGBAAAAAAAAAAAAAAGBAAAAAAAAAZEAAAAAAAAAAAAAAZEAAAAAAAABoQAAAAAAAAAAAAABoQAAAAAAAAGxAAAAAAAAAAAAAAGxAAAAAAAAAcEAAAAAAAAAAAAAAcEAAAAAAAAB0QAAAAAAAAAAAAAB0QAAAAAAAAHhAAAAAAAAAAAAAAHhAAAAAAAAAfEAAAAAAAAAAAAAAfEAAAAAAAACAQAAAAAAAAAAAAACAQAAAAAAAAIRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFBAAAAAAAAAUEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1419,
					1,
					"insert",
					{
						"characters": "RARIES}"
					},
					"BwAAACEQAAAAAAAAIhAAAAAAAAAAAAAAIhAAAAAAAAAjEAAAAAAAAAAAAAAjEAAAAAAAACQQAAAAAAAAAAAAACQQAAAAAAAAJRAAAAAAAAAAAAAAJRAAAAAAAAAmEAAAAAAAAAAAAAAmEAAAAAAAACcQAAAAAAAAAAAAACcQAAAAAAAAKBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIRAAAAAAAAAhEAAAAAAAAAAAAAAAAPC/"
				],
				[
					1429,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAtNwAAbWFjcm8oYnVpbGRfbGlid2Vic29ja2V0cykKICBtZXNzYWdlKCItLSBCdWlsZGluZyBMSUJXRUJTT0NLRVRTIGZyb20gc291cmNlIikKCiAgaWYoTk9UIERFRklORUQgTElCV0VCU09DS0VUU19DX0ZMQUdTKQogICAgbWVzc2FnZShGQVRBTF9FUlJPUiAiUGxlYXNlIHNldCBMSUJXRUJTT0NLRVRTX0NfRkxBR1MgYmVmb3JlIGluY2x1ZGluZyB0aGlzIGZpbGUuIikKICBlbmRpZigpCgogIHNldChMV1NfV0lUSE9VVF9URVNUQVBQUyBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1NFUlZFUiBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1BJTkcgVFJVRSkKICBzZXQoTFdTX1dJVEhPVVRfVEVTVF9DTElFTlQgVFJVRSkKICBzZXQoTFdTX0xJTktfVEVTVEFQUFNfRFlOQU1JQyBPRkYgQ0FDSEUgQk9PTCAibGluayB0ZXN0IGFwcHMgZHluYW1pYyIpCiAgc2V0KExXU19XSVRIX1NUQVRJQyBPTiBDQUNIRSBCT09MICJidWlsZCBsaWJ3ZWJzb2NrZXRzIHN0YXRpYyBsaWJyYXJ5IikKICBzZXQoTFdTX0hBVkVfTElCQ0FQIEZBTFNFIENBQ0hFIEJPT0wgImhhdmUgbGliY2FwIikKCiAgIyBpbmNsdWRlOiBsaWJ3ZWJzb2NrZXRzIGZpbmRfcGFja2FnZShsaWJ3ZWJzb2NrZXRzKQogIHVuc2V0KExJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVIpCiAgdW5zZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiBDQUNIRSkKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vbGlid2Vic29ja2V0cy9pbmNsdWRlICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2luY2x1ZGUpCiAgc2V0KExJQldFQlNPQ0tFVFNfRk9VTkQgT04gQ0FDSEUgQk9PTCAiZm91bmQgbGlid2Vic29ja2V0cyIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSSUVTICJicm90bGllbmM7YnJvdGxpZGVjO2NhcCIpCiAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIiR7T1BFTlNTTF9MSUJSQVJJRVN9OyR7TElCV0VCU09DS0VUU19MSUJSQVJJRVN9IikKICBlbHNlKE9QRU5TU0xfTElCUkFSSUVTKQogICAgaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtNQkVEVExTX0xJQlJBUklFU307JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICAgZW5kaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCgogICNpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliL2xpYndlYnNvY2tldHMuYTske0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSIpCiAgI2Vsc2UoRVhJU1RTICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cy9saWIvbGlid2Vic29ja2V0cy5hIikKICAjICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIndlYnNvY2tldHM7JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICNlbmRpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iIENBQ0hFIFNUUklORyAibGlid2Vic29ja2V0cyBsaWJyYXJpZXMiKQoKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAiJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSIgQ0FDSEUgUEFUSCAibGlid2Vic29ja2V0cyBpbmNsdWRlIGRpcmVjdG9yeSIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVIgJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIENBQ0hFIFBBVEggImxpYndlYnNvY2tldHMgbGlicmFyeSBkaXJlY3RvcnkiKQogICMgYWRkX3N1YmRpcmVjdG9yeShsaWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzKQogIGluY2x1ZGUoRXh0ZXJuYWxQcm9qZWN0KQoKICBpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9OIC1ETFdTX0hBVkVfRVZQX1BLRVlfbmV3X3Jhd19wcml2YXRlX2tleTpCT09MPU9OIC1ETFdTX1dJVEhfTkVUV09SSzpCT09MPU9GRiAtRExXU19XSVRIX0RJUjpCT09MPU9GRiAtRExXU19XSVRIX1JBTkdFUzpCT09MPU9GRgogICAgICAgICAgICAgICAgICAgICAgICAgICAtRExXU19XSVRIX0pPU0U6Qk9PTD1PRkYgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T0ZGIC1ETFdTX1dJVEhfU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgIGZpbmRfcGFja2FnZShXT0xGU1NMIE5BTUVTIHdvbGZzc2wgUEFUSFMgIiR7V09MRlNTTF9ESVJ9IiBSRVFVSVJFRCkKCiAgICBpZihXT0xGU1NMX0ZPVU5EKQoKICAgICAgbWVzc2FnZSgiV09MRlNTTF9DT05GSUc6ICR7V09MRlNTTF9DT05GSUd9IikKICAgICAgaW5jbHVkZSgke1dPTEZTU0xfQ09ORklHfSkKCiAgICAgIGRpcm5hbWUoV09MRlNTTF9ESVIgIiR7V09MRlNTTF9DT05GSUd9IikKICAgICAgbWVzc2FnZSgiV09MRlNTTF9ESVI6ICR7V09MRlNTTF9ESVJ9IikKCiAgICAgIGluY2x1ZGUoJHtXT0xGU1NMX0RJUn0vd29sZnNzbC1jb25maWcuY21ha2UpCgogICAgICBnZXRfdGFyZ2V0X3Byb3BlcnR5KHBrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsIHdvbGZzc2wgSU1QT1JURURfTE9DQVRJT05fUkVMV0lUSERFQklORk8pCgogICAgICBkaXJuYW1lKFdPTEZTU0xfTElCUkFSSUVTX0RJUiAke3BrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsfSkKICAgICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi9saWIuKiIgIi9pbmNsdWRlIiBXT0xGU1NMX0lOQ0xVREVfRElSICIke1dPTEZTU0xfTElCUkFSSUVTX0RJUn0iKQoKICAgICAgc2V0KFdPTEZTU0xfTElCUkFSSUVTICR7V09MRlNTTF9MSUJSQVJJRVN9ICR7cGtnY2ZnX2xpYl9XT0xGU1NMX3dvbGZzc2x9KQogICAgICAjbGlzdChGSUxURVIgV09MRlNTTF9MSUJSQVJJRVMgRVhDTFVERSBSRUdFWCB3b2xmc3NsX3NoYXJlZCkKICAgICAgbWVzc2FnZSgiV09MRlNTTF9JTkNMVURFX0RJUjogJHtXT0xGU1NMX0lOQ0xVREVfRElSfSIpCiAgICAgIG1lc3NhZ2UoIldPTEZTU0xfTElCUkFSSUVTX0RJUjogJHtXT0xGU1NMX0xJQlJBUklFU19ESVJ9IikKCiAgICAgIGR1bXAoV09MRlNTTF9GT1VORCBXT0xGU1NMX0xJQlJBUklFUyBXT0xGU1NMX0xJQlJBUklFU19ESVIgV09MRlNTTF9JTkNMVURFX0RJUikKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfV09MRlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7V09MRlNTTF9MSUJSQVJJRVN9IC1ETFdTX1dPTEZTU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke1dPTEZTU0xfSU5DTFVERV9ESVJ9KQoKICAgIGVuZGlmKFdPTEZTU0xfRk9VTkQpCgogIGVsc2VpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19ST0xFX0gyOkJPT0w9T04gLURMV1NfV0lUSF9SQU5HRVM6Qk9PTD1PTikKICAgIGlmKFRSVUUgLypXSVRIX1NTTCovKQogICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICItRExXU19XSVRIX1NTTDpCT09MPU9OIC1ETFdTX0hBVkVfSE1BQ19DVFhfbmV3OlNUUklORz0xIC1ETFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlOlNUUklORz0xIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9GRiAtRExXU19XSVRIX01CRURUTFM6Qk9PTD1PRkYiKQogICAgIGlmKE9QRU5TU0xfTElCUkFSSUVTKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19PUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30gLURPUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30iKQogICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpIAogICAgIGlmKE9QRU5TU0xfTElCUkFSWSkKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfT1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJZfSAtRE9QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSWX0iKQogICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJZKSAKICAgICAgaWYoT1BFTlNTTF9MSUJSQVJZX0RJUikKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9MSUJSQVJZX1BBVEg6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJZX0RJUn0gLURPUEVOU1NMX0xJQlJBUllfRElSOlBBVEg9JHtPUEVOU1NMX0xJQlJBUllfRElSfSAtRExXU19PUEVOU1NMX0xJQlJBUllfRElSOlBBVEg9JHtPUEVOU1NMX0xJQlJBUllfRElSfSIpCiAgICAgIGVuZGlmKE9QRU5TU0xfTElCUkFSWV9ESVIpCiAgICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1EQ01BS0VfSU5DTFVERV9QQVRIOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IC1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IC1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IC1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIpCiAgICAgIGVuZGlmKE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVJTKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRENNQUtFX0lOQ0xVREVfUEFUSDpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUlN9IC1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IC1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUlN9IC1ET1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQogICAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSUykKICAgICAgaWYoT1BFTlNTTF9FWEVDVVRBQkxFKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRE9QRU5TU0xfRVhFQ1VUQUJMRTpGSUxFUEFUSD0ke09QRU5TU0xfRVhFQ1VUQUJMRX0iKQogICAgICBlbmRpZihPUEVOU1NMX0VYRUNVVEFCTEUpCiAgICBlbHNlaWYoV0lUSF9TU0wpCiAgICAgIGlmKFdJVEhfTUJFRFRMUykKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9OIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9GRiAtRExXU19XSVRIX1NTTDpCT09MPU9GRikKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19NQkVEVExTX0xJQlJBUklFUzpTVFJJTkc9JHtNQkVEVExTX0xJQlJBUklFU30gLURMV1NfTUJFRFRMU19JTkNMVURFX0RJUlM6U1RSSU5HPSR7TUJFRFRMU19JTkNMVURFX0RJUn0pCiAgICAgIGVuZGlmKCkKICAgIGVuZGlmKCkKICBlbmRpZigpCgogIGlmKFpMSUJfTElCUkFSWV9SRUxFQVNFKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX1pMSUJfTElCUkFSSUVTOlBBVEg9JHtaTElCX0xJQlJBUllfUkVMRUFTRX0iKQogIGVuZGlmKFpMSUJfTElCUkFSWV9SRUxFQVNFKQoKICBpZihaTElCX0lOQ0xVREVfRElSKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX1pMSUJfSU5DTFVERV9ESVJTOlBBVEg9JHtaTElCX0lOQ0xVREVfRElSfSIpCiAgZW5kaWYoWkxJQl9JTkNMVURFX0RJUikKCiAgI2lmKCIke0xXU19IQVZFX0hNQUNfQ1RYX25ld30iIFNUUkVRVUFMICIiKQogICNzZXQoTFdTX0hBVkVfSE1BQ19DVFhfbmV3IDEgQ0FDSEUgU1RSSU5HICJIYXZlIEhNQUNfQ1RYX25ldyIpCiAgI2VuZGlmKCIke0xXU19IQVZFX0hNQUNfQ1RYX25ld30iIFNUUkVRVUFMICIiKQogICMKICAjaWYoIiR7TFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlfSIgU1RSRVFVQUwgIiIpCiAgI3NldChMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWUgMSBDQUNIRSBTVFJJTkcgIkhhdmUgRVZQX01EX0NUWF9mcmVlIikKICAjZW5kaWYoIiR7TFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlfSIgU1RSRVFVQUwgIiIpCiAgIwogIGlmKCIke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iIFNUUkVRVUFMICIiKQogICAgc2V0KExXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdCAxIENBQ0hFIFNUUklORyAiSGF2ZSBYNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3QiKQogIGVuZGlmKCIke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iIFNUUkVRVUFMICIiKQogICNbW2lmKENNQUtFX1BSRUZJWF9QQVRIIE9SIE9QRU5TU0xfUk9PVF9ESVIpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9QUkVGSVhfUEFUSDpTVFJJTkc9JHtDTUFLRV9QUkVGSVhfUEFUSH07JHtPUEVOU1NMX1JPT1RfRElSfSIpCiAgZW5kaWYoKQogIGlmKENNQUtFX0xJQlJBUllfUEFUSCBPUiBPUEVOU1NMX0xJQlJBUllfRElSKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1EQ01BS0VfTElCUkFSWV9QQVRIOlNUUklORz0ke0NNQUtFX0xJQlJBUllfUEFUSH07JHtPUEVOU1NMX0xJQlJBUllfRElSfSIpCiAgZW5kaWYoKQogIGlmKENNQUtFX0lOQ0xVREVfUEFUSCBPUiBPUEVOU1NMX0lOQ0xVREVfRElSKQogICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1EQ01BS0VfSU5DTFVERV9QQVRIOlNUUklORz0ke0NNQUtFX0lOQ0xVREVfUEFUSH07JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIpCiAgZW5kaWYoKV1dCgogIHN0cmluZyhSRUdFWCBSRVBMQUNFICJbIFx0XG5dIiAiXG5cdCIgQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IikKICBtZXNzYWdlKCJsaWJ3ZWJzb2NrZXRzIGNvbmZpZ3VyYXRpb24gYXJndW1lbnRzOlxuXHQke0FSR1N9IikKCiAgRXh0ZXJuYWxQcm9qZWN0X0FkZCgKICAgIGxpYndlYnNvY2tldHMKICAgIFNPVVJDRV9ESVIgJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2xpYndlYnNvY2tldHMKICAgIEJJTkFSWV9ESVIgJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMKICAgIFBSRUZJWCBsaWJ3ZWJzb2NrZXRzCiAgICBDTUFLRV9BUkdTICItRENNQUtFX0NfQ09NUElMRVI6RklMRVBBVEg9JHtDTUFLRV9DX0NPTVBJTEVSfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfQ19GTEFHUzpTVFJJTkc9JHtMSUJXRUJTT0NLRVRTX0NfRkxBR1N9IgogICAgICAgICAgICAgICAiLURDTUFLRV9WRVJCT1NFX01BS0VGSUxFOkJPT0w9JHtDTUFLRV9WRVJCT1NFX01BS0VGSUxFfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfSU5TVEFMTF9SUEFUSDpTVFJJTkc9JHtNQkVEVExTX0xJQlJBUllfRElSfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfQlVJTERfVFlQRTpTVFJJTkc9JHtDTUFLRV9CVUlMRF9UWVBFfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfTElCUkFSWV9QQVRIOlBBVEg9JHtDTUFLRV9MSUJSQVJZX1BBVEh9OyR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9tYmVkdGxzOyR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9icm90bGkiCiAgICAgICAgICAgICAgICItRExXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdDpTVFJJTkc9JHtMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3R9IgogICAgICAgICAgICAgICAtREJVSUxEX1RFU1RJTkc6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURDTUFLRV9DT0xPUl9NQUtFRklMRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1EQ09NUElMRVJfSVNfQ0xBTkc6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURESVNBQkxFX1dFUlJPUjpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0FWT0lEX1NJR1BJUEVfSUdOOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX0NMSUVOVF9IVFRQX1BST1hZSU5HOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfRkFMTEJBQ0tfR0VUSE9TVEJZTkFNRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0ZPUl9HSVRPSEFTSEk6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfSFRUUF9IRUFERVJTX0FMTDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19JUFY2OkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX0xPR1NfVElNRVNUQU1QOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfTE9HX1RBR19MSUZFQ1lDTEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19SRVBST0RVQ0lCTEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19ST0xFX0RCVVM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfUk9MRV9NUVRUOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfUkFXX0ZJTEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19ST0xFX1JBV19QUk9YWTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfV1M6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19TU0xfQ0xJRU5UX1VTRV9PU19DQV9DRVJUUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1NTTF9TRVJWRVJfV0lUSF9FQ0RIX0NFUlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfU1RBVElDX1BJQzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1NVUFBSRVNTX0RFUFJFQ0FURURfQVBJX1dBUk5JTkdTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1RMU19MT0dfUExBSU5URVhUX1JYOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1RMU19MT0dfUExBSU5URVhUX1RYOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1VOSVhfU09DSzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfQlVJTFRJTl9TSEExOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfQ0xJRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfREFFTU9OSVpFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9FVkVOVEZEOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfRVhURU5TSU9OUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX1NFUlZFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX1RFU1RBUFBTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9URVNUX1NFUlZFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0FDQ0VTU19MT0c6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0FDTUU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0FMU0E6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BU0FOOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQk9SSU5HU1NMOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQlVORExFRF9aTElCOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQ0dJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQ09OTU9OOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9DVVNUT01fSEVBREVSUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRElTS0NBQ0hFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9ESVNUUk9fUkVDT01NRU5ERUQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9EUklWRVJTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVNQMzI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9FVkxJQl9QTFVHSU5TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVhQT1JUX0xXU1RBUkdFVFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0VYVEVSTkFMX1BPTEw6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZBTkFMWVpFUjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0ZJTEVfT1BTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GU01PVU5UOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GVFM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9HQ09WOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR0VOQ1JZUFRPOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR0xJQjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0dUSzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFAyOkJPT0w9JHtXSVRIX0hUVFAyfQogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfQkFTSUNfQVVUSDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9CUk9UTEk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfUFJPWFk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfU1RSRUFNX0NPTVBSRVNTSU9OOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX1VOQ09NTU9OX0hFQURFUlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hVQkJVQjpCT09MPU9GRgogICAgICAgICAgICAgICAjLURMV1NfV0lUSF9MRUpQOkJPT0w9T04KICAgICAgICAgICAgICAgIy1ETFdTX1dJVEhfTEVKUF9DT05GOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTElCRVY6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MSUJFVkVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xJQlVWOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTFdTQUM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xXU1dTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTFdTX0RTSDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX01JTklNQUxfRVhBTVBMRVM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9NSU5JWjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX05FVExJTks6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX05PX0xPR1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QRUVSX0xJTUlUUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlNfQVBJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0RFVkVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VDVVJFX1NUUkVBTVNfQVVUSF9TSUdWNDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX0NQUDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1BST1hZX0FQSTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1NUQVRJQ19QT0xJQ1lfT05MWTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX1NZU19BVVRIX0FQSV9BTUFaT05fQ09NOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VMRlRFU1RTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRVFVRU5DRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TSEFSRUQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TT0NLUzU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NQQVdOOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1FMSVRFMzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1RBVElDOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TVFJVQ1RfSlNPTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NUUlVDVF9TUUxJVEUzOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1VMX0RFQlVHR0lORzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19BU1lOQ19ETlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfREhDUF9DTElFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfRkFVTFRfSU5KRUNUSU9OOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX01FVFJJQ1M6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfTlRQQ0xJRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX1NNRDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX1NUQVRFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9USFJFQURQT09MOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9UTFNfU0VTU0lPTlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1VEUDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVUxPT1A6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9VTklYX1NPQ0s6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1pJUF9GT1BTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9aTElCOkJPT0w9T04KICAgIENNQUtFX0NBQ0hFX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX0hBVkVfTElCQ0FQOkJPT0w9RkFMU0UgLURMV1NfV0lUSF9QTFVHSU5TX0FQSTpCT09MPSR7TFdTX1dJVEhfUExVR0lOU19BUEl9IC1ETFdTX1dJVEhfUExVR0lOUzpCT09MPSR7TFdTX1dJVEhfUExVR0lOU30KICAgICAgICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QTFVHSU5TX0JVSUxUSU46Qk9PTD0ke0xXU19XSVRIX1BMVUdJTlNfQlVJTFRJTn0KICAgIElOU1RBTExfQ09NTUFORCAiIgogICAgI0xPR19ET1dOTE9BRCBPTgogICAgVVNFU19URVJNSU5BTF9ET1dOTE9BRCBPTgogICAgI0xPR19DT05GSUdVUkUgT04KICAgIFVTRVNfVEVSTUlOQUxfQ09ORklHVVJFIE9OCiAgICAjTE9HX0JVSUxEIE9OCiAgICBVU0VTX1RFUk1JTkFMX0JVSUxEIE9OCiAgICAjTE9HX09VVFBVVF9PTl9GQUlMVVJFIE9OCiAgKQogICMgRXh0ZXJuYWxQcm9qZWN0X0dldF9Qcm9wZXJ0eShsaWJ3ZWJzb2NrZXRzIENNQUtFX0NBQ0hFX0RFRkFVTFRfQVJHUykKICAjbWVzc2FnZSgiQ01BS0VfQ0FDSEVfREVGQVVMVF9BUkdTIG9mIGxpYndlYnNvY2tldHMgPSAke0NNQUtFX0NBQ0hFX0RFRkFVTFRfQVJHU30iKQoKICAjbGlua19kaXJlY3RvcmllcygiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIikKCiAgaWYoQVJHTikKICAgIEV4dGVybmFsUHJvamVjdF9BZGRfU3RlcERlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGJ1aWxkICR7QVJHTn0pCiAgZW5kaWYoQVJHTikKCmVuZG1hY3JvKGJ1aWxkX2xpYndlYnNvY2tldHMpCgAAAAAAAAAAZzcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYhAAAAAAAABiEAAAAAAAAAAAAAAAAAAA"
				],
				[
					1434,
					1,
					"left_delete",
					null,
					"AQAAALEOAAAAAAAAsQ4AAAAAAAANAAAAIC8qV0lUSF9TU0wqLw",
					"AQAAAAAAAAABAAAAsQ4AAAAAAAC+DgAAAAAAAAAAAAAAAPC/"
				],
				[
					1444,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAF8OAAAAAAAAYA4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXw4AAAAAAABfDgAAAAAAAAAAAAAAAPC/"
				],
				[
					1447,
					1,
					"insert",
					{
						"characters": "\""
					},
					"AQAAAKUOAAAAAAAApg4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApQ4AAAAAAAClDgAAAAAAAAAAAAAAAPC/"
				],
				[
					1459,
					1,
					"right_delete",
					null,
					"AQAAAGAOAAAAAAAAYA4AAAAAAAAWAAAAJHtMSUJXRUJTT0NLRVRTX0FSR1N9IA",
					"AQAAAAAAAAABAAAAYA4AAAAAAAB2DgAAAAAAAAAAAAAAAPC/"
				],
				[
					1467,
					4,
					"left_delete",
					null,
					"BAAAAJwOAAAAAAAAnA4AAAAAAAABAAAARZsOAAAAAAAAmw4AAAAAAAABAAAAVZoOAAAAAAAAmg4AAAAAAAABAAAAUpkOAAAAAAAAmQ4AAAAAAAABAAAAVA",
					"AQAAAAAAAAABAAAAnQ4AAAAAAACdDgAAAAAAAAAAAAAAAPC/"
				],
				[
					1468,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAJkOAAAAAAAAmg4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmQ4AAAAAAACZDgAAAAAAAAAAAAAAAPC/"
				],
				[
					1491,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAOcZAAAAAAAA6BkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5xkAAAAAAADnGQAAAAAAAAAAAAAAACRA"
				],
				[
					1494,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAACQaAAAAAAAAJRoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJBoAAAAAAAAkGgAAAAAAAAAAAAAAAPC/"
				],
				[
					1497,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAIUaAAAAAAAAhhoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhRoAAAAAAACFGgAAAAAAAAAAAAAAAPC/"
				],
				[
					1504,
					1,
					"cut",
					null,
					"AQAAAOgcAAAAAAAA6BwAAAAAAABGAAAAc3RyaW5nKFJFR0VYIFJFUExBQ0UgIlsgXHRcbl0iICJcblx0IiBBUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30iKQogIA",
					"AQAAAAAAAAABAAAALh0AAAAAAADoHAAAAAAAAAAAAAAAADRA"
				],
				[
					1505,
					1,
					"paste",
					null,
					"AQAAAOgcAAAAAAAALh0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6BwAAAAAAADoHAAAAAAAAAAAAAAAAPC/"
				],
				[
					1507,
					1,
					"paste",
					null,
					"AQAAAGsdAAAAAAAAsR0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAax0AAAAAAABrHQAAAAAAAAAAAAAAADRA"
				],
				[
					1512,
					4,
					"left_delete",
					null,
					"BAAAAIYdAAAAAAAAhh0AAAAAAAABAAAAboUdAAAAAAAAhR0AAAAAAAABAAAAXIQdAAAAAAAAhB0AAAAAAAABAAAAdIMdAAAAAAAAgx0AAAAAAAABAAAAXA",
					"AQAAAAAAAAABAAAAhx0AAAAAAACHHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1515,
					4,
					"left_delete",
					null,
					"BAAAAIodAAAAAAAAih0AAAAAAAABAAAAdIkdAAAAAAAAiR0AAAAAAAABAAAAXIgdAAAAAAAAiB0AAAAAAAABAAAAbocdAAAAAAAAhx0AAAAAAAABAAAAXA",
					"AQAAAAAAAAABAAAAix0AAAAAAACLHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1516,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAIcdAAAAAAAAiB0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhx0AAAAAAACHHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1522,
					1,
					"insert",
					{
						"characters": "Lé"
					},
					"AgAAAIodAAAAAAAAix0AAAAAAAAAAAAAix0AAAAAAACMHQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAih0AAAAAAACKHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1523,
					1,
					"left_delete",
					null,
					"AQAAAIsdAAAAAAAAix0AAAAAAAACAAAAw6k",
					"AQAAAAAAAAABAAAAjB0AAAAAAACMHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1524,
					1,
					"insert",
					{
						"characters": "IBWEBSOCKETS_"
					},
					"DQAAAIsdAAAAAAAAjB0AAAAAAAAAAAAAjB0AAAAAAACNHQAAAAAAAAAAAACNHQAAAAAAAI4dAAAAAAAAAAAAAI4dAAAAAAAAjx0AAAAAAAAAAAAAjx0AAAAAAACQHQAAAAAAAAAAAACQHQAAAAAAAJEdAAAAAAAAAAAAAJEdAAAAAAAAkh0AAAAAAAAAAAAAkh0AAAAAAACTHQAAAAAAAAAAAACTHQAAAAAAAJQdAAAAAAAAAAAAAJQdAAAAAAAAlR0AAAAAAAAAAAAAlR0AAAAAAACWHQAAAAAAAAAAAACWHQAAAAAAAJcdAAAAAAAAAAAAAJcdAAAAAAAAmB0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAix0AAAAAAACLHQAAAAAAAAAAAAAAAPC/"
				],
				[
					1533,
					1,
					"cut",
					null,
					"AQAAAJ8OAAAAAAAAnw4AAAAAAABYBwAAICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiLURMV1NfV0lUSF9TU0w6Qk9PTD1PTiAtRExXU19IQVZFX0hNQUNfQ1RYX25ldzpTVFJJTkc9MSAtRExXU19IQVZFX0VWUF9NRF9DVFhfZnJlZTpTVFJJTkc9MSAtRExXU19XSVRIX1dPTEZTU0w6Qk9PTD1PRkYgLURMV1NfV0lUSF9NQkVEVExTOkJPT0w9T0ZGIikKICAgICAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSAtRE9QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSSUVTfSIpCiAgICAgIGVuZGlmKE9QRU5TU0xfTElCUkFSSUVTKQogICAgICBpZihPUEVOU1NMX0xJQlJBUlkpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX09QRU5TU0xfTElCUkFSSUVTOlNUUklORz0ke09QRU5TU0xfTElCUkFSWX0gLURPUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUll9IikKICAgICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJZKQogICAgICBpZihPUEVOU1NMX0xJQlJBUllfRElSKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MKICAgICAgICAgICAgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRENNQUtFX0xJQlJBUllfUEFUSDpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUllfRElSfSAtRE9QRU5TU0xfTElCUkFSWV9ESVI6UEFUSD0ke09QRU5TU0xfTElCUkFSWV9ESVJ9IC1ETFdTX09QRU5TU0xfTElCUkFSWV9ESVI6UEFUSD0ke09QRU5TU0xfTElCUkFSWV9ESVJ9IikKICAgICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJZX0RJUikKICAgICAgaWYoT1BFTlNTTF9JTkNMVURFX0RJUikKICAgICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTCiAgICAgICAgICAgICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9JTkNMVURFX1BBVEg6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSAtRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IgogICAgICAgICkKICAgICAgZW5kaWYoT1BFTlNTTF9JTkNMVURFX0RJUikKICAgICAgaWYoT1BFTlNTTF9JTkNMVURFX0RJUlMpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUwogICAgICAgICAgICAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1EQ01BS0VfSU5DTFVERV9QQVRIOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJTfSAtRExXU19PUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSU30gLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSIKICAgICAgICApCiAgICAgIGVuZGlmKE9QRU5TU0xfSU5DTFVERV9ESVJTKQogICAgICBpZihPUEVOU1NMX0VYRUNVVEFCTEUpCiAgICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ET1BFTlNTTF9FWEVDVVRBQkxFOkZJTEVQQVRIPSR7T1BFTlNTTF9FWEVDVVRBQkxFfSIpCiAgICAgIGVuZGlmKE9QRU5TU0xfRVhFQ1VUQUJMRSk",
					"AQAAAAAAAAABAAAAnw4AAAAAAAD3FQAAAAAAAAAAAAAAAPC/"
				],
				[
					1536,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAAAQFAAAAAAAABQUAAAAAAAAAAAAABQUAAAAAAAAHBQAAAAAAAAAAAAAHBQAAAAAAAAgFAAAAAAAAAAAAAAgFAAAAAAAACgUAAAAAAAAAAAAABQUAAAAAAAAFBQAAAAAAAAIAAAAgIA",
					"AQAAAAAAAAABAAAABAUAAAAAAAAEBQAAAAAAAAAAAAAAAPC/"
				],
				[
					1537,
					1,
					"paste",
					null,
					"AQAAAAgFAAAAAAAAYAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACAUAAAAAAAAIBQAAAAAAAAAAAAAAAPC/"
				],
				[
					1540,
					1,
					"unindent",
					null,
					"GAAAAAYFAAAAAAAABgUAAAAAAAACAAAAICC3BQAAAAAAALcFAAAAAAAAAgAAACAg0QUAAAAAAADRBQAAAAAAAAIAAAAgIGsGAAAAAAAAawYAAAAAAAACAAAAICCIBgAAAAAAAIgGAAAAAAAAAgAAACAgoAYAAAAAAACgBgAAAAAAAAIAAAAgIDYHAAAAAAAANgcAAAAAAAACAAAAICBRBwAAAAAAAFEHAAAAAAAAAgAAACAgbQcAAAAAAABtBwAAAAAAAAIAAAAgIIoHAAAAAAAAigcAAAAAAAACAAAAICBICAAAAAAAAEgIAAAAAAAAAgAAACAgZwgAAAAAAABnCAAAAAAAAAIAAAAgIIMIAAAAAAAAgwgAAAAAAAACAAAAICCgCAAAAAAAAKAIAAAAAAAAAgAAACAg0QkAAAAAAADRCQAAAAAAAAIAAAAgINkJAAAAAAAA2QkAAAAAAAACAAAAICD4CQAAAAAAAPgJAAAAAAAAAgAAACAgFQoAAAAAAAAVCgAAAAAAAAIAAAAgIDIKAAAAAAAAMgoAAAAAAAACAAAAICBmCwAAAAAAAGYLAAAAAAAAAgAAACAgbgsAAAAAAABuCwAAAAAAAAIAAAAgII4LAAAAAAAAjgsAAAAAAAACAAAAICCpCwAAAAAAAKkLAAAAAAAAAgAAACAgEwwAAAAAAAATDAAAAAAAAAIAAAAgIA",
					"AQAAAAAAAAABAAAAYAwAAAAAAAAGBQAAAAAAAAAAAAAAAPC/"
				],
				[
					1579,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABnNwAAbWFjcm8oYnVpbGRfbGlid2Vic29ja2V0cykKICBtZXNzYWdlKCItLSBCdWlsZGluZyBMSUJXRUJTT0NLRVRTIGZyb20gc291cmNlIikKCiAgaWYoTk9UIERFRklORUQgTElCV0VCU09DS0VUU19DX0ZMQUdTKQogICAgbWVzc2FnZShGQVRBTF9FUlJPUiAiUGxlYXNlIHNldCBMSUJXRUJTT0NLRVRTX0NfRkxBR1MgYmVmb3JlIGluY2x1ZGluZyB0aGlzIGZpbGUuIikKICBlbmRpZigpCgogIHNldChMV1NfV0lUSE9VVF9URVNUQVBQUyBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1NFUlZFUiBUUlVFKQogIHNldChMV1NfV0lUSE9VVF9URVNUX1BJTkcgVFJVRSkKICBzZXQoTFdTX1dJVEhPVVRfVEVTVF9DTElFTlQgVFJVRSkKICBzZXQoTFdTX0xJTktfVEVTVEFQUFNfRFlOQU1JQyBPRkYgQ0FDSEUgQk9PTCAibGluayB0ZXN0IGFwcHMgZHluYW1pYyIpCiAgc2V0KExXU19XSVRIX1NUQVRJQyBPTiBDQUNIRSBCT09MICJidWlsZCBsaWJ3ZWJzb2NrZXRzIHN0YXRpYyBsaWJyYXJ5IikKICBzZXQoTFdTX0hBVkVfTElCQ0FQIEZBTFNFIENBQ0hFIEJPT0wgImhhdmUgbGliY2FwIikKCiAgIyBpbmNsdWRlOiBsaWJ3ZWJzb2NrZXRzIGZpbmRfcGFja2FnZShsaWJ3ZWJzb2NrZXRzKQogIHVuc2V0KExJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVIpCiAgdW5zZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiBDQUNIRSkKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vbGlid2Vic29ja2V0cy9pbmNsdWRlICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2luY2x1ZGUpCiAgc2V0KExJQldFQlNPQ0tFVFNfRk9VTkQgT04gQ0FDSEUgQk9PTCAiZm91bmQgbGlid2Vic29ja2V0cyIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSSUVTICJicm90bGllbmM7YnJvdGxpZGVjO2NhcCIpCiAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIiR7T1BFTlNTTF9MSUJSQVJJRVN9OyR7TElCV0VCU09DS0VUU19MSUJSQVJJRVN9IikKICBlbHNlKE9QRU5TU0xfTElCUkFSSUVTKQogICAgaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtNQkVEVExTX0xJQlJBUklFU307JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICAgZW5kaWYoTUJFRFRMU19MSUJSQVJJRVMpCiAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCgogICBzZXQoTElCV0VCU09DS0VUU19BUkdTICItRExXU19XSVRIX1NTTDpCT09MPU9OIC1ETFdTX0hBVkVfSE1BQ19DVFhfbmV3OlNUUklORz0xIC1ETFdTX0hBVkVfRVZQX01EX0NUWF9mcmVlOlNUUklORz0xIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9GRiAtRExXU19XSVRIX01CRURUTFM6Qk9PTD1PRkYiKQogICAgaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19PUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30gLURPUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUklFU30iKQogICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMpCiAgICBpZihPUEVOU1NMX0xJQlJBUlkpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19PUEVOU1NMX0xJQlJBUklFUzpTVFJJTkc9JHtPUEVOU1NMX0xJQlJBUll9IC1ET1BFTlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7T1BFTlNTTF9MSUJSQVJZfSIpCiAgICBlbmRpZihPUEVOU1NMX0xJQlJBUlkpCiAgICBpZihPUEVOU1NMX0xJQlJBUllfRElSKQogICAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTCiAgICAgICAgICAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1EQ01BS0VfTElCUkFSWV9QQVRIOlNUUklORz0ke09QRU5TU0xfTElCUkFSWV9ESVJ9IC1ET1BFTlNTTF9MSUJSQVJZX0RJUjpQQVRIPSR7T1BFTlNTTF9MSUJSQVJZX0RJUn0gLURMV1NfT1BFTlNTTF9MSUJSQVJZX0RJUjpQQVRIPSR7T1BFTlNTTF9MSUJSQVJZX0RJUn0iKQogICAgZW5kaWYoT1BFTlNTTF9MSUJSQVJZX0RJUikKICAgIGlmKE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MKICAgICAgICAgICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9JTkNMVURFX1BBVEg6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURMV1NfT1BFTlNTTF9JTkNMVURFX0RJUlM6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUn0gLURPUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSAtRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IgogICAgICApCiAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSKQogICAgaWYoT1BFTlNTTF9JTkNMVURFX0RJUlMpCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MKICAgICAgICAgICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9JTkNMVURFX1BBVEg6U1RSSU5HPSR7T1BFTlNTTF9JTkNMVURFX0RJUlN9IC1ETFdTX09QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJTfSAtRExXU19PUEVOU1NMX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtPUEVOU1NMX0lOQ0xVREVfRElSfSAtRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJTfSAtRE9QRU5TU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke09QRU5TU0xfSU5DTFVERV9ESVJ9IgogICAgICApCiAgICBlbmRpZihPUEVOU1NMX0lOQ0xVREVfRElSUykKICAgIGlmKE9QRU5TU0xfRVhFQ1VUQUJMRSkKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAiJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ET1BFTlNTTF9FWEVDVVRBQkxFOkZJTEVQQVRIPSR7T1BFTlNTTF9FWEVDVVRBQkxFfSIpCiAgICBlbmRpZihPUEVOU1NMX0VYRUNVVEFCTEUpCgogICNpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliL2xpYndlYnNvY2tldHMuYTske0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSIpCiAgI2Vsc2UoRVhJU1RTICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbGlid2Vic29ja2V0cy9saWIvbGlid2Vic29ja2V0cy5hIikKICAjICBzZXQoTElCV0VCU09DS0VUU19MSUJSQVJJRVMgIndlYnNvY2tldHM7JHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iKQogICNlbmRpZihFWElTVFMgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYi9saWJ3ZWJzb2NrZXRzLmEiKQogIHNldChMSUJXRUJTT0NLRVRTX0xJQlJBUklFUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30iIENBQ0hFIFNUUklORyAibGlid2Vic29ja2V0cyBsaWJyYXJpZXMiKQoKICBzZXQoTElCV0VCU09DS0VUU19JTkNMVURFX0RJUiAiJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSIgQ0FDSEUgUEFUSCAibGlid2Vic29ja2V0cyBpbmNsdWRlIGRpcmVjdG9yeSIpCiAgc2V0KExJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVIgJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L2xpYndlYnNvY2tldHMvbGliIENBQ0hFIFBBVEggImxpYndlYnNvY2tldHMgbGlicmFyeSBkaXJlY3RvcnkiKQogICMgYWRkX3N1YmRpcmVjdG9yeShsaWJ3ZWJzb2NrZXRzICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzKQogIGluY2x1ZGUoRXh0ZXJuYWxQcm9qZWN0KQoKICBpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTIC1ETFdTX1dJVEhfV09MRlNTTDpCT09MPU9OIC1ETFdTX0hBVkVfRVZQX1BLRVlfbmV3X3Jhd19wcml2YXRlX2tleTpCT09MPU9OIC1ETFdTX1dJVEhfTkVUV09SSzpCT09MPU9GRiAtRExXU19XSVRIX0RJUjpCT09MPU9GRiAtRExXU19XSVRIX1JBTkdFUzpCT09MPU9GRgogICAgICAgICAgICAgICAgICAgICAgICAgICAtRExXU19XSVRIX0pPU0U6Qk9PTD1PRkYgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T0ZGIC1ETFdTX1dJVEhfU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfTUJFRFRMUzpCT09MPU9GRikKICAgIGZpbmRfcGFja2FnZShXT0xGU1NMIE5BTUVTIHdvbGZzc2wgUEFUSFMgIiR7V09MRlNTTF9ESVJ9IiBSRVFVSVJFRCkKCiAgICBpZihXT0xGU1NMX0ZPVU5EKQoKICAgICAgbWVzc2FnZSgiV09MRlNTTF9DT05GSUc6ICR7V09MRlNTTF9DT05GSUd9IikKICAgICAgaW5jbHVkZSgke1dPTEZTU0xfQ09ORklHfSkKCiAgICAgIGRpcm5hbWUoV09MRlNTTF9ESVIgIiR7V09MRlNTTF9DT05GSUd9IikKICAgICAgbWVzc2FnZSgiV09MRlNTTF9ESVI6ICR7V09MRlNTTF9ESVJ9IikKCiAgICAgIGluY2x1ZGUoJHtXT0xGU1NMX0RJUn0vd29sZnNzbC1jb25maWcuY21ha2UpCgogICAgICBnZXRfdGFyZ2V0X3Byb3BlcnR5KHBrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsIHdvbGZzc2wgSU1QT1JURURfTE9DQVRJT05fUkVMV0lUSERFQklORk8pCgogICAgICBkaXJuYW1lKFdPTEZTU0xfTElCUkFSSUVTX0RJUiAke3BrZ2NmZ19saWJfV09MRlNTTF93b2xmc3NsfSkKICAgICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi9saWIuKiIgIi9pbmNsdWRlIiBXT0xGU1NMX0lOQ0xVREVfRElSICIke1dPTEZTU0xfTElCUkFSSUVTX0RJUn0iKQoKICAgICAgc2V0KFdPTEZTU0xfTElCUkFSSUVTICR7V09MRlNTTF9MSUJSQVJJRVN9ICR7cGtnY2ZnX2xpYl9XT0xGU1NMX3dvbGZzc2x9KQogICAgICAjbGlzdChGSUxURVIgV09MRlNTTF9MSUJSQVJJRVMgRVhDTFVERSBSRUdFWCB3b2xmc3NsX3NoYXJlZCkKICAgICAgbWVzc2FnZSgiV09MRlNTTF9JTkNMVURFX0RJUjogJHtXT0xGU1NMX0lOQ0xVREVfRElSfSIpCiAgICAgIG1lc3NhZ2UoIldPTEZTU0xfTElCUkFSSUVTX0RJUjogJHtXT0xGU1NMX0xJQlJBUklFU19ESVJ9IikKCiAgICAgIGR1bXAoV09MRlNTTF9GT1VORCBXT0xGU1NMX0xJQlJBUklFUyBXT0xGU1NMX0xJQlJBUklFU19ESVIgV09MRlNTTF9JTkNMVURFX0RJUikKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQVJHUyAke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfV09MRlNTTF9MSUJSQVJJRVM6U1RSSU5HPSR7V09MRlNTTF9MSUJSQVJJRVN9IC1ETFdTX1dPTEZTU0xfSU5DTFVERV9ESVJTOlNUUklORz0ke1dPTEZTU0xfSU5DTFVERV9ESVJ9KQoKICAgIGVuZGlmKFdPTEZTU0xfRk9VTkQpCgogIGVsc2VpZihXSVRIX1dPTEZTU0wpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICItRExXU19ST0xFX0gyOkJPT0w9T04gLURMV1NfV0lUSF9SQU5HRVM6Qk9PTD1PTiIpCiAgICBpZigxKQogICAKICAgIGVsc2VpZihXSVRIX1NTTCkKICAgICAgaWYoV0lUSF9NQkVEVExTKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgLURMV1NfV0lUSF9NQkVEVExTOkJPT0w9T04gLURMV1NfV0lUSF9XT0xGU1NMOkJPT0w9T0ZGIC1ETFdTX1dJVEhfU1NMOkJPT0w9T0ZGKQogICAgICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgJHtMSUJXRUJTT0NLRVRTX0FSR1N9IC1ETFdTX01CRURUTFNfTElCUkFSSUVTOlNUUklORz0ke01CRURUTFNfTElCUkFSSUVTfSAtRExXU19NQkVEVExTX0lOQ0xVREVfRElSUzpTVFJJTkc9JHtNQkVEVExTX0lOQ0xVREVfRElSfSkKICAgICAgZW5kaWYoKQogICAgZW5kaWYoKQogIGVuZGlmKCkKCiAgaWYoWkxJQl9MSUJSQVJZX1JFTEVBU0UpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfWkxJQl9MSUJSQVJJRVM6UEFUSD0ke1pMSUJfTElCUkFSWV9SRUxFQVNFfSIpCiAgZW5kaWYoWkxJQl9MSUJSQVJZX1JFTEVBU0UpCgogIGlmKFpMSUJfSU5DTFVERV9ESVIpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURMV1NfWkxJQl9JTkNMVURFX0RJUlM6UEFUSD0ke1pMSUJfSU5DTFVERV9ESVJ9IikKICBlbmRpZihaTElCX0lOQ0xVREVfRElSKQoKICAjaWYoIiR7TFdTX0hBVkVfSE1BQ19DVFhfbmV3fSIgU1RSRVFVQUwgIiIpCiAgI3NldChMV1NfSEFWRV9ITUFDX0NUWF9uZXcgMSBDQUNIRSBTVFJJTkcgIkhhdmUgSE1BQ19DVFhfbmV3IikKICAjZW5kaWYoIiR7TFdTX0hBVkVfSE1BQ19DVFhfbmV3fSIgU1RSRVFVQUwgIiIpCiAgIwogICNpZigiJHtMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWV9IiBTVFJFUVVBTCAiIikKICAjc2V0KExXU19IQVZFX0VWUF9NRF9DVFhfZnJlZSAxIENBQ0hFIFNUUklORyAiSGF2ZSBFVlBfTURfQ1RYX2ZyZWUiKQogICNlbmRpZigiJHtMV1NfSEFWRV9FVlBfTURfQ1RYX2ZyZWV9IiBTVFJFUVVBTCAiIikKICAjCiAjIGlmKCIke0xXU19IQVZFX1g1MDlfVkVSSUZZX1BBUkFNX3NldDFfaG9zdH0iIFNUUkVRVUFMICIiKQogIyAgIHNldChMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3QgMSBDQUNIRSBTVFJJTkcgIkhhdmUgWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0IikKICMgZW5kaWYoIiR7TFdTX0hBVkVfWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0fSIgU1RSRVFVQUwgIiIpCiAgI1tbaWYoQ01BS0VfUFJFRklYX1BBVEggT1IgT1BFTlNTTF9ST09UX0RJUikKICAgIHNldChMSUJXRUJTT0NLRVRTX0FSR1MgIiR7TElCV0VCU09DS0VUU19BUkdTfSAtRENNQUtFX1BSRUZJWF9QQVRIOlNUUklORz0ke0NNQUtFX1BSRUZJWF9QQVRIfTske09QRU5TU0xfUk9PVF9ESVJ9IikKICBlbmRpZigpCiAgaWYoQ01BS0VfTElCUkFSWV9QQVRIIE9SIE9QRU5TU0xfTElCUkFSWV9ESVIpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9MSUJSQVJZX1BBVEg6U1RSSU5HPSR7Q01BS0VfTElCUkFSWV9QQVRIfTske09QRU5TU0xfTElCUkFSWV9ESVJ9IikKICBlbmRpZigpCiAgaWYoQ01BS0VfSU5DTFVERV9QQVRIIE9SIE9QRU5TU0xfSU5DTFVERV9ESVIpCiAgICBzZXQoTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30gLURDTUFLRV9JTkNMVURFX1BBVEg6U1RSSU5HPSR7Q01BS0VfSU5DTFVERV9QQVRIfTske09QRU5TU0xfSU5DTFVERV9ESVJ9IikKICBlbmRpZigpXV0KCiAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIlsgXHRcbl0iICJcblx0IiBBUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30iKQogIG1lc3NhZ2UoImxpYndlYnNvY2tldHMgY29uZmlndXJhdGlvbiBhcmd1bWVudHM6XG5cdCR7QVJHU30iKQpzdHJpbmcoUkVHRVggUkVQTEFDRSAiWyBdIiAiOyIgTElCV0VCU09DS0VUU19BUkdTICIke0xJQldFQlNPQ0tFVFNfQVJHU30iKQogIAogIEV4dGVybmFsUHJvamVjdF9BZGQoCiAgICBsaWJ3ZWJzb2NrZXRzCiAgICBTT1VSQ0VfRElSICR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9saWJ3ZWJzb2NrZXRzCiAgICBCSU5BUllfRElSICR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzCiAgICBQUkVGSVggbGlid2Vic29ja2V0cwogICAgQ01BS0VfQVJHUyAiLURDTUFLRV9DX0NPTVBJTEVSOkZJTEVQQVRIPSR7Q01BS0VfQ19DT01QSUxFUn0iCiAgICAgICAgICAgICAgICItRENNQUtFX0NfRkxBR1M6U1RSSU5HPSR7TElCV0VCU09DS0VUU19DX0ZMQUdTfSIKICAgICAgICAgICAgICAgIi1EQ01BS0VfVkVSQk9TRV9NQUtFRklMRTpCT09MPSR7Q01BS0VfVkVSQk9TRV9NQUtFRklMRX0iCiAgICAgICAgICAgICAgICItRENNQUtFX0lOU1RBTExfUlBBVEg6U1RSSU5HPSR7TUJFRFRMU19MSUJSQVJZX0RJUn0iCiAgICAgICAgICAgICAgICItRENNQUtFX0JVSUxEX1RZUEU6U1RSSU5HPSR7Q01BS0VfQlVJTERfVFlQRX0iCiAgICAgICAgICAgICAgICItRENNQUtFX0xJQlJBUllfUEFUSDpQQVRIPSR7Q01BS0VfTElCUkFSWV9QQVRIfTske0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbWJlZHRsczske0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vYnJvdGxpIgogICAgICAgICAgICAgICAiLURMV1NfSEFWRV9YNTA5X1ZFUklGWV9QQVJBTV9zZXQxX2hvc3Q6U1RSSU5HPSR7TFdTX0hBVkVfWDUwOV9WRVJJRllfUEFSQU1fc2V0MV9ob3N0fSIKICAgICAgICAgICAgICAgLURCVUlMRF9URVNUSU5HOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1EQ01BS0VfQ09MT1JfTUFLRUZJTEU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRENPTVBJTEVSX0lTX0NMQU5HOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ERElTQUJMRV9XRVJST1I6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19BVk9JRF9TSUdQSVBFX0lHTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19DTElFTlRfSFRUUF9QUk9YWUlORzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0ZBTExCQUNLX0dFVEhPU1RCWU5BTUU6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19GT1JfR0lUT0hBU0hJOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX0hUVFBfSEVBREVSU19BTEw6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfSVBWNjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19MT0dTX1RJTUVTVEFNUDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX0xPR19UQUdfTElGRUNZQ0xFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUkVQUk9EVUNJQkxFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUk9MRV9EQlVTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1JPTEVfTVFUVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19ST0xFX1JBV19GSUxFOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfUk9MRV9SQVdfUFJPWFk6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19ST0xFX1dTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfU1NMX0NMSUVOVF9VU0VfT1NfQ0FfQ0VSVFM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19TU0xfU0VSVkVSX1dJVEhfRUNESF9DRVJUOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1NUQVRJQ19QSUM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19TVVBQUkVTU19ERVBSRUNBVEVEX0FQSV9XQVJOSU5HUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19UTFNfTE9HX1BMQUlOVEVYVF9SWDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19UTFNfTE9HX1BMQUlOVEVYVF9UWDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19VTklYX1NPQ0s6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0JVSUxUSU5fU0hBMTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0NMSUVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0RBRU1PTklaRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfRVZFTlRGRDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIT1VUX0VYVEVOU0lPTlM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9TRVJWRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSE9VVF9URVNUQVBQUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhPVVRfVEVTVF9TRVJWRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BQ0NFU1NfTE9HOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BQ01FOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9BTFNBOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQVNBTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0JPUklOR1NTTDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0JVTkRMRURfWkxJQjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NHSTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0NPTk1PTjpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfQ1VTVE9NX0hFQURFUlM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0RJU0tDQUNIRTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRElTVFJPX1JFQ09NTUVOREVEOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRFJJVkVSUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0VTUDMyOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRVZMSUJfUExVR0lOUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0VYUE9SVF9MV1NUQVJHRVRTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9FWFRFUk5BTF9QT0xMOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GQU5BTFlaRVI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9GSUxFX09QUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRlNNT1VOVDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfRlRTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfR0NPVjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0dFTkNSWVBUTzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0dMSUI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9HVEs6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQMjpCT09MPSR7V0lUSF9IVFRQMn0KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX0JBU0lDX0FVVEg6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfQlJPVExJOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX1BST1hZOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX1NUUkVBTV9DT01QUkVTU0lPTjpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfSFRUUF9VTkNPTU1PTl9IRUFERVJTOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9IVUJCVUI6Qk9PTD1PRkYKICAgICAgICAgICAgICAgIy1ETFdTX1dJVEhfTEVKUDpCT09MPU9OCiAgICAgICAgICAgICAgICMtRExXU19XSVRIX0xFSlBfQ09ORjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xJQkVWOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTElCRVZFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MSUJVVjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xXU0FDOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9MV1NXUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX0xXU19EU0g6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9NSU5JTUFMX0VYQU1QTEVTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfTUlOSVo6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9ORVRMSU5LOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9OT19MT0dTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfUEVFUl9MSU1JVFM6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QTFVHSU5TOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9QTFVHSU5TX0FQSTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NERVZFTlQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNUzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFQ1VSRV9TVFJFQU1TX0FVVEhfU0lHVjQ6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNU19DUFA6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNU19QUk9YWV9BUEk6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNU19TVEFUSUNfUE9MSUNZX09OTFk6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TRUNVUkVfU1RSRUFNU19TWVNfQVVUSF9BUElfQU1BWk9OX0NPTTpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NFTEZURVNUUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0VRVUVOQ0VSOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU0hBUkVEOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU09DS1M1OkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TUEFXTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NRTElURTM6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NUQVRJQzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1RSVUNUX0pTT046Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TVFJVQ1RfU1FMSVRFMzpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NVTF9ERUJVR0dJTkc6Qk9PTD1PRkYKICAgICAgICAgICAgICAgLURMV1NfV0lUSF9TWVNfQVNZTkNfRE5TOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX0RIQ1BfQ0xJRU5UOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX0ZBVUxUX0lOSkVDVElPTjpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19NRVRSSUNTOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfU1lTX05UUENMSUVOVDpCT09MPU9GRgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19TTUQ6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1NZU19TVEFURTpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVEhSRUFEUE9PTDpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVExTX1NFU1NJT05TOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9VRFA6Qk9PTD1PTgogICAgICAgICAgICAgICAtRExXU19XSVRIX1VMT09QOkJPT0w9T0ZGCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfVU5JWF9TT0NLOkJPT0w9T04KICAgICAgICAgICAgICAgLURMV1NfV0lUSF9aSVBfRk9QUzpCT09MPU9OCiAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfWkxJQjpCT09MPU9OCiAgICBDTUFLRV9DQUNIRV9BUkdTICR7TElCV0VCU09DS0VUU19BUkdTfSAtRExXU19IQVZFX0xJQkNBUDpCT09MPUZBTFNFIC1ETFdTX1dJVEhfUExVR0lOU19BUEk6Qk9PTD0ke0xXU19XSVRIX1BMVUdJTlNfQVBJfSAtRExXU19XSVRIX1BMVUdJTlM6Qk9PTD0ke0xXU19XSVRIX1BMVUdJTlN9CiAgICAgICAgICAgICAgICAgICAgIC1ETFdTX1dJVEhfUExVR0lOU19CVUlMVElOOkJPT0w9JHtMV1NfV0lUSF9QTFVHSU5TX0JVSUxUSU59CiAgICBJTlNUQUxMX0NPTU1BTkQgIiIKICAgICNMT0dfRE9XTkxPQUQgT04KICAgIFVTRVNfVEVSTUlOQUxfRE9XTkxPQUQgT04KICAgICNMT0dfQ09ORklHVVJFIE9OCiAgICBVU0VTX1RFUk1JTkFMX0NPTkZJR1VSRSBPTgogICAgI0xPR19CVUlMRCBPTgogICAgVVNFU19URVJNSU5BTF9CVUlMRCBPTgogICAgI0xPR19PVVRQVVRfT05fRkFJTFVSRSBPTgogICkKICAjIEV4dGVybmFsUHJvamVjdF9HZXRfUHJvcGVydHkobGlid2Vic29ja2V0cyBDTUFLRV9DQUNIRV9ERUZBVUxUX0FSR1MpCiAgI21lc3NhZ2UoIkNNQUtFX0NBQ0hFX0RFRkFVTFRfQVJHUyBvZiBsaWJ3ZWJzb2NrZXRzID0gJHtDTUFLRV9DQUNIRV9ERUZBVUxUX0FSR1N9IikKCiAgI2xpbmtfZGlyZWN0b3JpZXMoIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9saWJ3ZWJzb2NrZXRzL2xpYiIpCgogIGlmKEFSR04pCiAgICBFeHRlcm5hbFByb2plY3RfQWRkX1N0ZXBEZXBlbmRlbmNpZXMobGlid2Vic29ja2V0cyBidWlsZCAke0FSR059KQogIGVuZGlmKEFSR04pCgplbmRtYWNybyhidWlsZF9saWJ3ZWJzb2NrZXRzKQoAAAAAAAAAADg3AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASBsAAAAAAABIGwAAAAAAAAAAAAAAAPC/"
				],
				[
					1591,
					1,
					"insert",
					{
						"characters": "OFF"
					},
					"BAAAAGgmAAAAAAAAaSYAAAAAAAAAAAAAaSYAAAAAAABpJgAAAAAAAAIAAABPTmkmAAAAAAAAaiYAAAAAAAAAAAAAaiYAAAAAAABrJgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaCYAAAAAAABqJgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "minnet-websocket.c.orig",
			"settings":
			{
				"buffer_size": 20763,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/lib/roles/http/server/access-log.c",
			"settings":
			{
				"buffer_size": 5914,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "cmake/FindLibreSSL.cmake",
			"settings":
			{
				"buffer_size": 4972,
				"line_ending": "Unix"
			}
		},
		{
			"file": "libwebsockets/lib/tls/CMakeLists.txt",
			"settings":
			{
				"buffer_size": 23160,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "minnet-response.c",
			"settings":
			{
				"buffer_size": 12282,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					36,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADzLwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9Cgp2b2lkCnJlc3BvbnNlX3plcm8oTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICBtZW1zZXQocmVzcCwgMCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCnZvaWQKcmVzcG9uc2VfaW5pdChNaW5uZXRSZXNwb25zZSogcmVzcCwgTWlubmV0VVJMIHVybCwgaW50MzJfdCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjaGFyKiB0eXBlKSB7CiAgbWVtc2V0KHJlc3AsIDAsIHNpemVvZihNaW5uZXRSZXNwb25zZSkpOwoKICByZXNwLT5zdGF0dXMgPSBzdGF0dXM7CiAgcmVzcC0+c3RhdHVzX3RleHQgPSBzdGF0dXNfdGV4dDsKICByZXNwLT5vayA9IG9rOwogIHJlc3AtPnVybCA9IHVybDsKICByZXNwLT50eXBlID0gdHlwZTsKICByZXNwLT5oZWFkZXJzID0gQlVGRkVSXzAoKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKTWlubmV0UmVzcG9uc2UqCnJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSogcmVzcCkgewogICsrcmVzcC0+cmVmX2NvdW50OwogIHJldHVybiByZXNwOwp9Cgpzc2l6ZV90CnJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBjb25zdCB2b2lkKiB4LCBzaXplX3QgbiwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgeCwgbiwgY3R4KTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcihNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVzcC0+dXJsLCBjdHgpOwogIGlmKHJlc3AtPnR5cGUpIHsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBKU19HZXRSdW50aW1lKGN0eCkpOwogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlc3BvbnNlX2NsZWFyX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlc3AtPnVybCwgcnQpOwogIGlmKHJlc3AtPnR5cGUpIHsKICAgIGpzX2ZyZWVfcnQocnQsICh2b2lkKilyZXNwLT50eXBlKTsKICAgIHJlc3AtPnR5cGUgPSAwOwogIH0KCiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmhlYWRlcnMsIHJ0KTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgcnQpOwp9Cgp2b2lkCnJlc3BvbnNlX2ZyZWUoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIGlmKC0tcmVzcC0+cmVmX2NvdW50ID09IDApIHsKICAgIHJlc3BvbnNlX2NsZWFyKHJlc3AsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVzcCk7CiAgfQp9Cgp2b2lkCnJlc3BvbnNlX2ZyZWVfcnQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTUnVudGltZSogcnQpIHsKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcl9ydChyZXNwLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCByZXNwKTsKICB9Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKCiAgaWYoIShyZXNwID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRSZXNwb25zZSkpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmVzcC0+cmVmX2NvdW50ID0gMTsKCiAgcmV0dXJuIHJlc3A7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgaW50IHN0YXR1cywgY2hhciogc3RhdHVzX3RleHQsIEJPT0wgb2ssIGNvbnN0IGNoYXIqIHR5cGUpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKCiAgaWYoKHJlc3AgPSByZXNwb25zZV9uZXcoY3R4KSkpIHsKICAgIHJlc3BvbnNlX2luaXQocmVzcCwgdXJsLCBzdGF0dXMsIHN0YXR1c190ZXh0LCBvaywgdHlwZSA/IGpzX3N0cmR1cChjdHgsIHR5cGUpIDogMCk7CgogICAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgcmVzcCk7CiAgfQoKICByZXR1cm4gSlNfTlVMTDsKfQoKSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqIGN0eCwgTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICBKU1ZhbHVlIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8sIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXNwb25zZV9kdXAocmVzcCkpOwogIHJldHVybiByZXQ7Cn0KCmVudW0gewogIFJFU1BPTlNFX0FSUkFZQlVGRkVSID0gMCwKICBSRVNQT05TRV9URVhULAogIFJFU1BPTlNFX0pTT04sCn07CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCwgcmVzdWx0ID0gSlNfVU5ERUZJTkVEOwogIFJlc29sdmVGdW5jdGlvbnMgZnVuY3M7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfQVJSQVlCVUZGRVI6IHsKICAgICAgcmVzdWx0ID0gSlNfTmV3QXJyYXlCdWZmZXIgLypDb3B5Ki8gKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBibG9ja19TSVpFKCZyZXNwLT5ib2R5KSwgMCwgMCwgMCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9URVhUOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjaGFyKilibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9KU09OOiB7CiAgICAgIHJlc3VsdCA9IEpTX1BhcnNlSlNPTihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCByZXNwLT51cmwucGF0aCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmZnVuY3MpOwoKICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmZnVuY3MsIHJlc3VsdCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmVzdWx0KTsKCiAgcmV0dXJuIHJldDsKfQoKLypzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaWYoKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKSB7CiAgICBKU1ZhbHVlIHZhbCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBibG9ja19TSVpFKCZyZXNwLT5ib2R5KSwgMCwgMCwgMCk7CiAgICByZXR1cm4gdmFsOwogIH0KICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfanNvbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV90ZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaWYoKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX05ld1N0cmluZ0xlbihjdHgsIChjaGFyKilibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfY2xvbmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSAqcmVzcCwgKmNsb25lOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShjbG9uZSA9IHJlc3BvbnNlX25ldyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIGNsb25lLT5yZWFkX29ubHkgPSByZXNwLT5yZWFkX29ubHk7CiAgY2xvbmUtPnN0YXR1cyA9IHJlc3AtPnN0YXR1czsKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT51cmwgPSB1cmxfY2xvbmUocmVzcC0+dXJsLCBjdHgpOwogIGNsb25lLT50eXBlID0ganNfc3RyZHVwKGN0eCwgcmVzcC0+dHlwZSk7CgogIGJ1ZmZlcl9jbG9uZSgmY2xvbmUtPmhlYWRlcnMsICZyZXNwLT5oZWFkZXJzLCBjdHgpOwogIGJ1ZmZlcl9jbG9uZSgmY2xvbmUtPmJvZHksICZyZXNwLT5ib2R5LCBjdHgpOwoKICByZXR1cm4gbWlubmV0X3Jlc3BvbnNlX3dyYXAoY3R4LCBjbG9uZSk7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2hlYWRlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIE1pbm5ldEh0dHBIZWFkZXIqIGhkcjsKICBjb25zdCBjaGFyICpuYW1lLCAqdmFsdWU7CiAgSlNWYWx1ZSByZXQgPSBKU19GQUxTRTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICB2YWx1ZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwoKICBpZigoaGRyID0gaGVhZGVyX25ldyhjdHgsIG5hbWUsIHZhbHVlKSkpIHsKICAgIGlmKCFyZXNwLT5oZWFkZXJzLm5leHQpCiAgICAgIGluaXRfbGlzdF9oZWFkKCZyZXNwLT5oZWFkZXJzKTsKCiAgICBsaXN0X2FkZF90YWlsKCZoZHItPmxpbmssICZyZXNwLT5oZWFkZXJzKTsKICAgIHJldCA9IEpTX1RSVUU7CiAgfQoKICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwoKICByZXR1cm4gcmV0Owp9Ki8KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCByZXNwLT5zdGF0dXMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTVEVYVDogewogICAgICByZXQgPSByZXNwLT5zdGF0dXNfdGV4dCA/IEpTX05ld1N0cmluZyhjdHgsIHJlc3AtPnN0YXR1c190ZXh0KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9PSzogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgcmVzcC0+b2spOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVzcC0+dXJsKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1RZUEU6IHsKICAgICAgcmV0ID0gcmVzcC0+dHlwZSA/IEpTX05ld1N0cmluZyhjdHgsIHJlc3AtPnR5cGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICAgIC8qIGNhc2UgUkVTUE9OU0VfT0ZGU0VUOiB7CiAgICAgICAgIHJldCA9IEpTX05ld0ludDY0KGN0eCwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfSEVBREVSUzogewogICAgICByZXQgPSBoZWFkZXJzX29iamVjdChjdHgsICZyZXNwLT5oZWFkZXJzLnN0YXJ0LCAmcmVzcC0+aGVhZGVycy53cml0ZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9CT0RZVVNFRDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgYnVmZmVyX1NJWkUoJnJlc3AtPmJvZHkpID4gMCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihyZXNwLT5yZWFkX29ubHkpCiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJSZXNwb25zZSBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVUzogewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIHZhbHVlKSkKICAgICAgICByZXNwLT5zdGF0dXMgPSBzOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9VUkw6IHsKICAgICAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1RZUEU6IHsKICAgICAgcmVzcC0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICB1aW50NjRfdCBvOwogICAgICAgICBpZighSlNfVG9JbmRleChjdHgsICZvLCB2YWx1ZSkpCiAgICAgICAgICAgcmVzcC0+Ym9keS53cml0ZSA9IHJlc3AtPmJvZHkuc3RhcnQgKyBvOwogICAgICAgICBicmVhazsKICAgICAgIH0qLwogICAgY2FzZSBSRVNQT05TRV9CT0RZVVNFRDogewogICAgICBicmVhazsKICAgIH0KICB9CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaW50IGk7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8pOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIGlmKGFyZ2MgPj0gMSAmJiBhcmdjIDwgMykgewoKICAgIGlmKCFqc19pc19udWxsaXNoKGFyZ3ZbMF0pKSB7CiAgICAgIGJ1ZmZlcl9mcm9tdmFsdWUoJnJlc3AtPmJvZHksIGFyZ3ZbMF0sIGN0eCk7CiAgICB9CgogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSAmJiAhSlNfSXNOdWxsKGFyZ3ZbaV0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndltpXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgICAgYXJnYy0tOwogICAgICBhcmd2Kys7CiAgICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcoYXJndltpXSkpIHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndltpXSk7CiAgICAgIGlmKCFyZXNwLT51cmwucGF0aCkKICAgICAgICB1cmxfcGFyc2UoJnJlc3AtPnVybCwgc3RyLCBjdHgpOwogICAgICBlbHNlIGlmKCFyZXNwLT50eXBlKQogICAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgfSBlbHNlIGlmKEpTX0lzQm9vbChhcmd2W2ldKSkgewogICAgICByZXNwLT5vayA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbaV0pOwogICAgfSBlbHNlIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbaV0pKSB7CiAgICAgIGludDMyX3QgczsKICAgICAgaWYoIUpTX1RvSW50MzIoY3R4LCAmcywgYXJndltpXSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgIH0KICB9CgogIEpTX1NldE9wYXF1ZShvYmosIHJlc3ApOwoKICByZXR1cm4gb2JqOwoKZmFpbDoKICBqc19mcmVlKGN0eCwgcmVzcCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9Cgp2b2lkCm1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzOwoKICBpZigocmVzID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEodmFsKSkpCiAgICByZXNwb25zZV9mcmVlX3J0KHJlcywgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXNwb25zZV9jbGFzcyA9IHsKICAgICJNaW5uZXRSZXNwb25zZSIsCiAgICAuZmluYWxpemVyID0gbWlubmV0X3Jlc3BvbnNlX2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXNwb25zZV9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhcnJheUJ1ZmZlciIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0FSUkFZQlVGRkVSKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidGV4dCIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX1RFWFQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJqc29uIiwgMCwgbWlubmV0X3Jlc3BvbnNlX21ldGhvZCwgUkVTUE9OU0VfSlNPTiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigic3RhdHVzIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1c1RleHQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9TVEFUVVNURVhULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJib2R5VXNlZCIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIDAsIFJFU1BPTlNFX0JPRFlVU0VELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm9rIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfT0ssIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInJlZGlyZWN0ZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9SRURJUkVDVEVELCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9VUkwsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1RZUEUsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICAvLyAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm9mZnNldCIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09GRlNFVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiaGVhZGVycyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIDAsIFJFU1BPTlNFX0hFQURFUlMsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlc3BvbnNlIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3Qgc2l6ZV90IG1pbm5ldF9yZXNwb25zZV9wcm90b19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAPMvAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIgLAAAAAAAAiAsAAAAAAAAAAAAAAADwvw"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAANYFAAAAAAAA1wUAAAAAAAAAAAAA1wUAAAAAAADYBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANYFAAAAAAAA1gUAAAAAAAAAAAAAAADwvw"
				],
				[
					89,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAGAFAAAAAAAAYgUAAAAAAAAAAAAA7gQAAAAAAADwBAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGAFAAAAAAAA7gQAAAAAAAAAAAAAAADwvw"
				],
				[
					94,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD5LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vbWVtc2V0KHJlc3AsIDAsIHNpemVvZihNaW5uZXRSZXNwb25zZSkpOwoKICByZXNwLT5zdGF0dXMgPSBzdGF0dXM7CiAgcmVzcC0+c3RhdHVzX3RleHQgPSBzdGF0dXNfdGV4dDsKICByZXNwLT5vayA9IG9rOwogIHJlc3AtPnVybCA9IHVybDsKICByZXNwLT50eXBlID0gdHlwZTsKICByZXNwLT5oZWFkZXJzID0gQlVGRkVSXzAoKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfQoKTWlubmV0UmVzcG9uc2UqCnJlc3BvbnNlX2R1cChNaW5uZXRSZXNwb25zZSogcmVzcCkgewogICsrcmVzcC0+cmVmX2NvdW50OwogIHJldHVybiByZXNwOwp9Cgpzc2l6ZV90CnJlc3BvbnNlX3dyaXRlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBjb25zdCB2b2lkKiB4LCBzaXplX3QgbiwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gYnVmZmVyX2FwcGVuZCgmcmVzcC0+Ym9keSwgeCwgbiwgY3R4KTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcihNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmxfZnJlZSgmcmVzcC0+dXJsLCBjdHgpOwogIGlmKHJlc3AtPnR5cGUpIHsKICAgIGpzX2ZyZWUoY3R4LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBKU19HZXRSdW50aW1lKGN0eCkpOwogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5ib2R5LCBKU19HZXRSdW50aW1lKGN0eCkpOwp9Cgp2b2lkCnJlc3BvbnNlX2NsZWFyX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgdXJsX2ZyZWVfcnQoJnJlc3AtPnVybCwgcnQpOwogIGlmKHJlc3AtPnR5cGUpIHsKICAgIGpzX2ZyZWVfcnQocnQsICh2b2lkKilyZXNwLT50eXBlKTsKICAgIHJlc3AtPnR5cGUgPSAwOwogIH0KCiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmhlYWRlcnMsIHJ0KTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgcnQpOwp9Cgp2b2lkCnJlc3BvbnNlX2ZyZWUoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CgogIGlmKC0tcmVzcC0+cmVmX2NvdW50ID09IDApIHsKICAgIHJlc3BvbnNlX2NsZWFyKHJlc3AsIGN0eCk7CiAgICBqc19mcmVlKGN0eCwgcmVzcCk7CiAgfQp9Cgp2b2lkCnJlc3BvbnNlX2ZyZWVfcnQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTUnVudGltZSogcnQpIHsKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcl9ydChyZXNwLCBydCk7CiAgICBqc19mcmVlX3J0KHJ0LCByZXNwKTsKICB9Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKCiAgaWYoIShyZXNwID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihNaW5uZXRSZXNwb25zZSkpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgcmVzcC0+cmVmX2NvdW50ID0gMTsKCiAgcmV0dXJuIHJlc3A7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX25ldyhKU0NvbnRleHQqIGN0eCwgTWlubmV0VVJMIHVybCwgaW50IHN0YXR1cywgY2hhciogc3RhdHVzX3RleHQsIEJPT0wgb2ssIGNvbnN0IGNoYXIqIHR5cGUpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKCiAgaWYoKHJlc3AgPSByZXNwb25zZV9uZXcoY3R4KSkpIHsKICAgIHJlc3BvbnNlX2luaXQocmVzcCwgdXJsLCBzdGF0dXMsIHN0YXR1c190ZXh0LCBvaywgdHlwZSA/IGpzX3N0cmR1cChjdHgsIHR5cGUpIDogMCk7CgogICAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgcmVzcCk7CiAgfQoKICByZXR1cm4gSlNfTlVMTDsKfQoKSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2Vfd3JhcChKU0NvbnRleHQqIGN0eCwgTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICBKU1ZhbHVlIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8sIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CgogIGlmKEpTX0lzRXhjZXB0aW9uKHJldCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19TZXRPcGFxdWUocmV0LCByZXNwb25zZV9kdXAocmVzcCkpOwogIHJldHVybiByZXQ7Cn0KCmVudW0gewogIFJFU1BPTlNFX0FSUkFZQlVGRkVSID0gMCwKICBSRVNQT05TRV9URVhULAogIFJFU1BPTlNFX0pTT04sCn07CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCwgcmVzdWx0ID0gSlNfVU5ERUZJTkVEOwogIFJlc29sdmVGdW5jdGlvbnMgZnVuY3M7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfQVJSQVlCVUZGRVI6IHsKICAgICAgcmVzdWx0ID0gSlNfTmV3QXJyYXlCdWZmZXIgLypDb3B5Ki8gKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBibG9ja19TSVpFKCZyZXNwLT5ib2R5KSwgMCwgMCwgMCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9URVhUOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjaGFyKilibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9KU09OOiB7CiAgICAgIHJlc3VsdCA9IEpTX1BhcnNlSlNPTihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpLCByZXNwLT51cmwucGF0aCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0ID0ganNfcHJvbWlzZV9jcmVhdGUoY3R4LCAmZnVuY3MpOwoKICBqc19wcm9taXNlX3Jlc29sdmUoY3R4LCAmZnVuY3MsIHJlc3VsdCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmVzdWx0KTsKCiAgcmV0dXJuIHJldDsKfQoKLypzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaWYoKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKSB7CiAgICBKU1ZhbHVlIHZhbCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBibG9ja19TSVpFKCZyZXNwLT5ib2R5KSwgMCwgMCwgMCk7CiAgICByZXR1cm4gdmFsOwogIH0KICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfanNvbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV90ZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaWYoKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX05ld1N0cmluZ0xlbihjdHgsIChjaGFyKilibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfY2xvbmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSAqcmVzcCwgKmNsb25lOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShjbG9uZSA9IHJlc3BvbnNlX25ldyhjdHgpKSkKICAgIHJldHVybiBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIGNsb25lLT5yZWFkX29ubHkgPSByZXNwLT5yZWFkX29ubHk7CiAgY2xvbmUtPnN0YXR1cyA9IHJlc3AtPnN0YXR1czsKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT51cmwgPSB1cmxfY2xvbmUocmVzcC0+dXJsLCBjdHgpOwogIGNsb25lLT50eXBlID0ganNfc3RyZHVwKGN0eCwgcmVzcC0+dHlwZSk7CgogIGJ1ZmZlcl9jbG9uZSgmY2xvbmUtPmhlYWRlcnMsICZyZXNwLT5oZWFkZXJzLCBjdHgpOwogIGJ1ZmZlcl9jbG9uZSgmY2xvbmUtPmJvZHksICZyZXNwLT5ib2R5LCBjdHgpOwoKICByZXR1cm4gbWlubmV0X3Jlc3BvbnNlX3dyYXAoY3R4LCBjbG9uZSk7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2hlYWRlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIE1pbm5ldEh0dHBIZWFkZXIqIGhkcjsKICBjb25zdCBjaGFyICpuYW1lLCAqdmFsdWU7CiAgSlNWYWx1ZSByZXQgPSBKU19GQUxTRTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICB2YWx1ZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwoKICBpZigoaGRyID0gaGVhZGVyX25ldyhjdHgsIG5hbWUsIHZhbHVlKSkpIHsKICAgIGlmKCFyZXNwLT5oZWFkZXJzLm5leHQpCiAgICAgIGluaXRfbGlzdF9oZWFkKCZyZXNwLT5oZWFkZXJzKTsKCiAgICBsaXN0X2FkZF90YWlsKCZoZHItPmxpbmssICZyZXNwLT5oZWFkZXJzKTsKICAgIHJldCA9IEpTX1RSVUU7CiAgfQoKICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgdmFsdWUpOwoKICByZXR1cm4gcmV0Owp9Ki8KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCByZXNwLT5zdGF0dXMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTVEVYVDogewogICAgICByZXQgPSByZXNwLT5zdGF0dXNfdGV4dCA/IEpTX05ld1N0cmluZyhjdHgsIHJlc3AtPnN0YXR1c190ZXh0KSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9PSzogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgcmVzcC0+b2spOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHJldCA9IG1pbm5ldF91cmxfbmV3KGN0eCwgcmVzcC0+dXJsKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1RZUEU6IHsKICAgICAgcmV0ID0gcmVzcC0+dHlwZSA/IEpTX05ld1N0cmluZyhjdHgsIHJlc3AtPnR5cGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICAgIC8qIGNhc2UgUkVTUE9OU0VfT0ZGU0VUOiB7CiAgICAgICAgIHJldCA9IEpTX05ld0ludDY0KGN0eCwgYnVmZmVyX0hFQUQoJnJlc3AtPmJvZHkpKTsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfSEVBREVSUzogewogICAgICByZXQgPSBoZWFkZXJzX29iamVjdChjdHgsICZyZXNwLT5oZWFkZXJzLnN0YXJ0LCAmcmVzcC0+aGVhZGVycy53cml0ZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9CT0RZVVNFRDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgYnVmZmVyX1NJWkUoJnJlc3AtPmJvZHkpID4gMCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihyZXNwLT5yZWFkX29ubHkpCiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJSZXNwb25zZSBvYmplY3QgaXMgcmVhZC1vbmx5Iik7CgogIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVUzogewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIHZhbHVlKSkKICAgICAgICByZXNwLT5zdGF0dXMgPSBzOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9VUkw6IHsKICAgICAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1RZUEU6IHsKICAgICAgcmVzcC0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICB1aW50NjRfdCBvOwogICAgICAgICBpZighSlNfVG9JbmRleChjdHgsICZvLCB2YWx1ZSkpCiAgICAgICAgICAgcmVzcC0+Ym9keS53cml0ZSA9IHJlc3AtPmJvZHkuc3RhcnQgKyBvOwogICAgICAgICBicmVhazsKICAgICAgIH0qLwogICAgY2FzZSBSRVNQT05TRV9CT0RZVVNFRDogewogICAgICBicmVhazsKICAgIH0KICB9CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmo7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CiAgaW50IGk7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIHByb3RvID0gSlNfRHVwVmFsdWUoY3R4LCBtaW5uZXRfcmVzcG9uc2VfcHJvdG8pOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CgogIGlmKGFyZ2MgPj0gMSAmJiBhcmdjIDwgMykgewoKICAgIGlmKCFqc19pc19udWxsaXNoKGFyZ3ZbMF0pKSB7CiAgICAgIGJ1ZmZlcl9mcm9tdmFsdWUoJnJlc3AtPmJvZHksIGFyZ3ZbMF0sIGN0eCk7CiAgICB9CgogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSAmJiAhSlNfSXNOdWxsKGFyZ3ZbaV0pKSB7CiAgICAgIGpzX2NvcHlfcHJvcGVydGllcyhjdHgsIG9iaiwgYXJndltpXSwgSlNfR1BOX1NUUklOR19NQVNLKTsKICAgICAgYXJnYy0tOwogICAgICBhcmd2Kys7CiAgICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcoYXJndltpXSkpIHsKICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndltpXSk7CiAgICAgIGlmKCFyZXNwLT51cmwucGF0aCkKICAgICAgICB1cmxfcGFyc2UoJnJlc3AtPnVybCwgc3RyLCBjdHgpOwogICAgICBlbHNlIGlmKCFyZXNwLT50eXBlKQogICAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgfSBlbHNlIGlmKEpTX0lzQm9vbChhcmd2W2ldKSkgewogICAgICByZXNwLT5vayA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbaV0pOwogICAgfSBlbHNlIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbaV0pKSB7CiAgICAgIGludDMyX3QgczsKICAgICAgaWYoIUpTX1RvSW50MzIoY3R4LCAmcywgYXJndltpXSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgIH0KICB9CgogIEpTX1NldE9wYXF1ZShvYmosIHJlc3ApOwoKICByZXR1cm4gb2JqOwoKZmFpbDoKICBqc19mcmVlKGN0eCwgcmVzcCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9Cgp2b2lkCm1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzOwoKICBpZigocmVzID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEodmFsKSkpCiAgICByZXNwb25zZV9mcmVlX3J0KHJlcywgcnQpOwp9CgpKU0NsYXNzRGVmIG1pbm5ldF9yZXNwb25zZV9jbGFzcyA9IHsKICAgICJNaW5uZXRSZXNwb25zZSIsCiAgICAuZmluYWxpemVyID0gbWlubmV0X3Jlc3BvbnNlX2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IG1pbm5ldF9yZXNwb25zZV9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhcnJheUJ1ZmZlciIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0FSUkFZQlVGRkVSKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidGV4dCIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX1RFWFQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJqc29uIiwgMCwgbWlubmV0X3Jlc3BvbnNlX21ldGhvZCwgUkVTUE9OU0VfSlNPTiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigic3RhdHVzIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1c1RleHQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9TVEFUVVNURVhULCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJib2R5VXNlZCIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIDAsIFJFU1BPTlNFX0JPRFlVU0VELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoIm9rIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfT0ssIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInJlZGlyZWN0ZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9SRURJUkVDVEVELCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJ1cmwiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9VUkwsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidHlwZSIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1RZUEUsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICAvLyAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm9mZnNldCIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09GRlNFVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiaGVhZGVycyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIDAsIFJFU1BPTlNFX0hFQURFUlMsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIk1pbm5ldFJlc3BvbnNlIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3Qgc2l6ZV90IG1pbm5ldF9yZXNwb25zZV9wcm90b19mdW5jc19zaXplID0gY291bnRvZihtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3MpOwoAAAAAAAAAAPovAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAkIAAAAAAAACQgAAAAAAAAAAAAAAADwvw"
				],
				[
					95,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAD6LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKCiAgcmVzcC0+c3RhdHVzID0gc3RhdHVzOwogIHJlc3AtPnN0YXR1c190ZXh0ID0gc3RhdHVzX3RleHQ7CiAgcmVzcC0+b2sgPSBvazsKICByZXNwLT51cmwgPSB1cmw7CiAgcmVzcC0+dHlwZSA9IHR5cGU7CiAgcmVzcC0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICArK3Jlc3AtPnJlZl9jb3VudDsKICByZXR1cm4gcmVzcDsKfQoKc3NpemVfdApyZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSogcmVzcCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4sIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksIHgsIG4sIGN0eCk7Cn0KCnZvaWQKcmVzcG9uc2VfY2xlYXIoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXJlc3AtPnR5cGUpOwogICAgcmVzcC0+dHlwZSA9IDA7CiAgfQoKICBidWZmZXJfZnJlZSgmcmVzcC0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNSdW50aW1lKiBydCkgewogIHVybF9mcmVlX3J0KCZyZXNwLT51cmwsIHJ0KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlX3J0KHJ0LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU0NvbnRleHQqIGN0eCkgewoKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcihyZXNwLCBjdHgpOwogICAganNfZnJlZShjdHgsIHJlc3ApOwogIH0KfQoKdm9pZApyZXNwb25zZV9mcmVlX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXNwLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVzcG9uc2VfY2xlYXJfcnQocmVzcCwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVzcCk7CiAgfQp9CgpNaW5uZXRSZXNwb25zZSoKcmVzcG9uc2VfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJlc3AtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiByZXNwOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKChyZXNwID0gcmVzcG9uc2VfbmV3KGN0eCkpKSB7CiAgICByZXNwb25zZV9pbml0KHJlc3AsIHVybCwgc3RhdHVzLCBzdGF0dXNfdGV4dCwgb2ssIHR5cGUgPyBqc19zdHJkdXAoY3R4LCB0eXBlKSA6IDApOwoKICAgIHJldHVybiBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjdHgsIHJlc3ApOwogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlc3BvbnNlKiByZXNwKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcmVzcG9uc2VfZHVwKHJlc3ApKTsKICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSRVNQT05TRV9BUlJBWUJVRkZFUiA9IDAsCiAgUkVTUE9OU0VfVEVYVCwKICBSRVNQT05TRV9KU09OLAp9OwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQsIHJlc3VsdCA9IEpTX1VOREVGSU5FRDsKICBSZXNvbHZlRnVuY3Rpb25zIGZ1bmNzOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld0FycmF5QnVmZmVyIC8qQ29weSovIChjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVEVYVDogewogICAgICByZXN1bHQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSlNPTjogewogICAgICByZXN1bHQgPSBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldCA9IGpzX3Byb21pc2VfY3JlYXRlKGN0eCwgJmZ1bmNzKTsKCiAganNfcHJvbWlzZV9yZXNvbHZlKGN0eCwgJmZ1bmNzLCByZXN1bHQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2J1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkgewogICAgSlNWYWx1ZSB2YWwgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgcmV0dXJuIHZhbDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2pzb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBpZigocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfUGFyc2VKU09OKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSksIHJlc3AtPnVybC5wYXRoKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2Nsb25lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UgKnJlc3AsICpjbG9uZTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEoY2xvbmUgPSByZXNwb25zZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT5zdGF0dXMgPSByZXNwLT5zdGF0dXM7CiAgY2xvbmUtPnJlYWRfb25seSA9IHJlc3AtPnJlYWRfb25seTsKICBjbG9uZS0+dXJsID0gdXJsX2Nsb25lKHJlc3AtPnVybCwgY3R4KTsKICBjbG9uZS0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHJlc3AtPnR5cGUpOwoKICBidWZmZXJfY2xvbmUoJmNsb25lLT5oZWFkZXJzLCAmcmVzcC0+aGVhZGVycywgY3R4KTsKICBidWZmZXJfY2xvbmUoJmNsb25lLT5ib2R5LCAmcmVzcC0+Ym9keSwgY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgY2xvbmUpOwp9CgovKnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9oZWFkZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBNaW5uZXRIdHRwSGVhZGVyKiBoZHI7CiAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIEpTVmFsdWUgcmV0ID0gSlNfRkFMU0U7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgdmFsdWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYoKGhkciA9IGhlYWRlcl9uZXcoY3R4LCBuYW1lLCB2YWx1ZSkpKSB7CiAgICBpZighcmVzcC0+aGVhZGVycy5uZXh0KQogICAgICBpbml0X2xpc3RfaGVhZCgmcmVzcC0+aGVhZGVycyk7CgogICAgbGlzdF9hZGRfdGFpbCgmaGRyLT5saW5rLCAmcmVzcC0+aGVhZGVycyk7CiAgICByZXQgPSBKU19UUlVFOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIHJldDsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzcC0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVU1RFWFQ6IHsKICAgICAgcmV0ID0gcmVzcC0+c3RhdHVzX3RleHQgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT5zdGF0dXNfdGV4dCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHJlc3AtPm9rKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1VSTDogewogICAgICByZXQgPSBtaW5uZXRfdXJsX25ldyhjdHgsIHJlc3AtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJldCA9IHJlc3AtPnR5cGUgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT50eXBlKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVzcC0+aGVhZGVycy5zdGFydCwgJnJlc3AtPmhlYWRlcnMud3JpdGUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGJ1ZmZlcl9TSVpFKCZyZXNwLT5ib2R5KSA+IDApOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVzcC0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVzcG9uc2Ugb2JqZWN0IGlzIHJlYWQtb25seSIpOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgaW50MzJfdCBzOwogICAgICBpZighSlNfVG9JbnQzMihjdHgsICZzLCB2YWx1ZSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX09LOiB7CiAgICAgIHJlc3AtPm9rID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHVybF9mcmVlKCZyZXNwLT51cmwsIGN0eCk7CiAgICAgIHVybF9wYXJzZSgmcmVzcC0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBicmVhazsKICAgIH0KICAgICAgLyogY2FzZSBSRVNQT05TRV9PRkZTRVQ6IHsKICAgICAgICAgdWludDY0X3QgbzsKICAgICAgICAgaWYoIUpTX1RvSW5kZXgoY3R4LCAmbywgdmFsdWUpKQogICAgICAgICAgIHJlc3AtPmJvZHkud3JpdGUgPSByZXNwLT5ib2R5LnN0YXJ0ICsgbzsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGludCBpOwoKICBpZighKHJlc3AgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBpZihhcmdjID49IDEgJiYgYXJnYyA8IDMpIHsKCiAgICBpZighanNfaXNfbnVsbGlzaChhcmd2WzBdKSkgewogICAgICBidWZmZXJfZnJvbXZhbHVlKCZyZXNwLT5ib2R5LCBhcmd2WzBdLCBjdHgpOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgaWYoSlNfSXNPYmplY3QoYXJndltpXSkgJiYgIUpTX0lzTnVsbChhcmd2W2ldKSkgewogICAgICBqc19jb3B5X3Byb3BlcnRpZXMoY3R4LCBvYmosIGFyZ3ZbaV0sIEpTX0dQTl9TVFJJTkdfTUFTSyk7CiAgICAgIGFyZ2MtLTsKICAgICAgYXJndisrOwogICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgICBpZighcmVzcC0+dXJsLnBhdGgpCiAgICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgZWxzZSBpZighcmVzcC0+dHlwZSkKICAgICAgICByZXNwLT50eXBlID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgIH0gZWxzZSBpZihKU19Jc0Jvb2woYXJndltpXSkpIHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc051bWJlcihhcmd2W2ldKSkgewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIGFyZ3ZbaV0pKQogICAgICAgIHJlc3AtPnN0YXR1cyA9IHM7CiAgICB9CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCByZXNwKTsKCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlc3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKdm9pZAptaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlczsKCiAgaWYoKHJlcyA9IG1pbm5ldF9yZXNwb25zZV9kYXRhKHZhbCkpKQogICAgcmVzcG9uc2VfZnJlZV9ydChyZXMsIHJ0KTsKfQoKSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVzcG9uc2UiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlCdWZmZXIiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9BUlJBWUJVRkZFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRleHQiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9URVhUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigianNvbiIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0pTT04pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1cyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1NUQVRVUywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzdGF0dXNUZXh0IiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keVVzZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9CT0RZVVNFRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvayIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09LLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWRpcmVjdGVkIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidXJsIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfVVJMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInR5cGUiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9UWVBFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgLy8gIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJvZmZzZXQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9PRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRSZXNwb25zZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD6LwAAAAAAAAAAAAAAAAAAAAAAAPovAAAAAAAAAAAAAAAAAAAAAAAA+i8AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAkIAAAAAAAACQgAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD6LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKCiAgcmVzcC0+c3RhdHVzID0gc3RhdHVzOwogIHJlc3AtPnN0YXR1c190ZXh0ID0gc3RhdHVzX3RleHQ7CiAgcmVzcC0+b2sgPSBvazsKICByZXNwLT51cmwgPSB1cmw7CiAgcmVzcC0+dHlwZSA9IHR5cGU7CiAgcmVzcC0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICArK3Jlc3AtPnJlZl9jb3VudDsKICByZXR1cm4gcmVzcDsKfQoKc3NpemVfdApyZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSogcmVzcCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4sIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksIHgsIG4sIGN0eCk7Cn0KCnZvaWQKcmVzcG9uc2VfY2xlYXIoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXJlc3AtPnR5cGUpOwogICAgcmVzcC0+dHlwZSA9IDA7CiAgfQoKICBidWZmZXJfZnJlZSgmcmVzcC0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNSdW50aW1lKiBydCkgewogIHVybF9mcmVlX3J0KCZyZXNwLT51cmwsIHJ0KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlX3J0KHJ0LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU0NvbnRleHQqIGN0eCkgewoKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcihyZXNwLCBjdHgpOwogICAganNfZnJlZShjdHgsIHJlc3ApOwogIH0KfQoKdm9pZApyZXNwb25zZV9mcmVlX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXNwLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVzcG9uc2VfY2xlYXJfcnQocmVzcCwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVzcCk7CiAgfQp9CgpNaW5uZXRSZXNwb25zZSoKcmVzcG9uc2VfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJlc3AtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiByZXNwOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKChyZXNwID0gcmVzcG9uc2VfbmV3KGN0eCkpKSB7CiAgICByZXNwb25zZV9pbml0KHJlc3AsIHVybCwgc3RhdHVzLCBzdGF0dXNfdGV4dCwgb2ssIHR5cGUgPyBqc19zdHJkdXAoY3R4LCB0eXBlKSA6IDApOwoKICAgIHJldHVybiBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjdHgsIHJlc3ApOwogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlc3BvbnNlKiByZXNwKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcmVzcG9uc2VfZHVwKHJlc3ApKTsKICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSRVNQT05TRV9BUlJBWUJVRkZFUiA9IDAsCiAgUkVTUE9OU0VfVEVYVCwKICBSRVNQT05TRV9KU09OLAp9OwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQsIHJlc3VsdCA9IEpTX1VOREVGSU5FRDsKICBSZXNvbHZlRnVuY3Rpb25zIGZ1bmNzOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld0FycmF5QnVmZmVyIC8qQ29weSovIChjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVEVYVDogewogICAgICByZXN1bHQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSlNPTjogewogICAgICByZXN1bHQgPSBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldCA9IGpzX3Byb21pc2VfY3JlYXRlKGN0eCwgJmZ1bmNzKTsKCiAganNfcHJvbWlzZV9yZXNvbHZlKGN0eCwgJmZ1bmNzLCByZXN1bHQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2J1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkgewogICAgSlNWYWx1ZSB2YWwgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgcmV0dXJuIHZhbDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2pzb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBpZigocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfUGFyc2VKU09OKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSksIHJlc3AtPnVybC5wYXRoKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2Nsb25lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UgKnJlc3AsICpjbG9uZTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEoY2xvbmUgPSByZXNwb25zZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT5zdGF0dXMgPSByZXNwLT5zdGF0dXM7CiAgY2xvbmUtPnJlYWRfb25seSA9IHJlc3AtPnJlYWRfb25seTsKICBjbG9uZS0+dXJsID0gdXJsX2Nsb25lKHJlc3AtPnVybCwgY3R4KTsKICBjbG9uZS0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHJlc3AtPnR5cGUpOwoKICBidWZmZXJfY2xvbmUoJmNsb25lLT5oZWFkZXJzLCAmcmVzcC0+aGVhZGVycywgY3R4KTsKICBidWZmZXJfY2xvbmUoJmNsb25lLT5ib2R5LCAmcmVzcC0+Ym9keSwgY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgY2xvbmUpOwp9CgovKnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9oZWFkZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBNaW5uZXRIdHRwSGVhZGVyKiBoZHI7CiAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIEpTVmFsdWUgcmV0ID0gSlNfRkFMU0U7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgdmFsdWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYoKGhkciA9IGhlYWRlcl9uZXcoY3R4LCBuYW1lLCB2YWx1ZSkpKSB7CiAgICBpZighcmVzcC0+aGVhZGVycy5uZXh0KQogICAgICBpbml0X2xpc3RfaGVhZCgmcmVzcC0+aGVhZGVycyk7CgogICAgbGlzdF9hZGRfdGFpbCgmaGRyLT5saW5rLCAmcmVzcC0+aGVhZGVycyk7CiAgICByZXQgPSBKU19UUlVFOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIHJldDsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzcC0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVU1RFWFQ6IHsKICAgICAgcmV0ID0gcmVzcC0+c3RhdHVzX3RleHQgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT5zdGF0dXNfdGV4dCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHJlc3AtPm9rKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1VSTDogewogICAgICByZXQgPSBtaW5uZXRfdXJsX25ldyhjdHgsIHJlc3AtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJldCA9IHJlc3AtPnR5cGUgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT50eXBlKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVzcC0+aGVhZGVycy5zdGFydCwgJnJlc3AtPmhlYWRlcnMud3JpdGUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGJ1ZmZlcl9TSVpFKCZyZXNwLT5ib2R5KSA+IDApOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVzcC0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVzcG9uc2Ugb2JqZWN0IGlzIHJlYWQtb25seSIpOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgaW50MzJfdCBzOwogICAgICBpZighSlNfVG9JbnQzMihjdHgsICZzLCB2YWx1ZSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX09LOiB7CiAgICAgIHJlc3AtPm9rID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHVybF9mcmVlKCZyZXNwLT51cmwsIGN0eCk7CiAgICAgIHVybF9wYXJzZSgmcmVzcC0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBicmVhazsKICAgIH0KICAgICAgLyogY2FzZSBSRVNQT05TRV9PRkZTRVQ6IHsKICAgICAgICAgdWludDY0X3QgbzsKICAgICAgICAgaWYoIUpTX1RvSW5kZXgoY3R4LCAmbywgdmFsdWUpKQogICAgICAgICAgIHJlc3AtPmJvZHkud3JpdGUgPSByZXNwLT5ib2R5LnN0YXJ0ICsgbzsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGludCBpOwoKICBpZighKHJlc3AgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBpZihhcmdjID49IDEgJiYgYXJnYyA8IDMpIHsKCiAgICBpZighanNfaXNfbnVsbGlzaChhcmd2WzBdKSkgewogICAgICBidWZmZXJfZnJvbXZhbHVlKCZyZXNwLT5ib2R5LCBhcmd2WzBdLCBjdHgpOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgaWYoSlNfSXNPYmplY3QoYXJndltpXSkgJiYgIUpTX0lzTnVsbChhcmd2W2ldKSkgewogICAgICBqc19jb3B5X3Byb3BlcnRpZXMoY3R4LCBvYmosIGFyZ3ZbaV0sIEpTX0dQTl9TVFJJTkdfTUFTSyk7CiAgICAgIGFyZ2MtLTsKICAgICAgYXJndisrOwogICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgICBpZighcmVzcC0+dXJsLnBhdGgpCiAgICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgZWxzZSBpZighcmVzcC0+dHlwZSkKICAgICAgICByZXNwLT50eXBlID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgIH0gZWxzZSBpZihKU19Jc0Jvb2woYXJndltpXSkpIHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc051bWJlcihhcmd2W2ldKSkgewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIGFyZ3ZbaV0pKQogICAgICAgIHJlc3AtPnN0YXR1cyA9IHM7CiAgICB9CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCByZXNwKTsKCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlc3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKdm9pZAptaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlczsKCiAgaWYoKHJlcyA9IG1pbm5ldF9yZXNwb25zZV9kYXRhKHZhbCkpKQogICAgcmVzcG9uc2VfZnJlZV9ydChyZXMsIHJ0KTsKfQoKSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVzcG9uc2UiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlCdWZmZXIiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9BUlJBWUJVRkZFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRleHQiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9URVhUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigianNvbiIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0pTT04pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1cyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1NUQVRVUywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzdGF0dXNUZXh0IiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keVVzZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9CT0RZVVNFRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvayIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09LLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWRpcmVjdGVkIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidXJsIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfVVJMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInR5cGUiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9UWVBFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgLy8gIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJvZmZzZXQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9PRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRSZXNwb25zZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD6LwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACQgAAAAAAAAJCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD6LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKCiAgcmVzcC0+c3RhdHVzID0gc3RhdHVzOwogIHJlc3AtPnN0YXR1c190ZXh0ID0gc3RhdHVzX3RleHQ7CiAgcmVzcC0+b2sgPSBvazsKICByZXNwLT51cmwgPSB1cmw7CiAgcmVzcC0+dHlwZSA9IHR5cGU7CiAgcmVzcC0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICArK3Jlc3AtPnJlZl9jb3VudDsKICByZXR1cm4gcmVzcDsKfQoKc3NpemVfdApyZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSogcmVzcCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4sIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksIHgsIG4sIGN0eCk7Cn0KCnZvaWQKcmVzcG9uc2VfY2xlYXIoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXJlc3AtPnR5cGUpOwogICAgcmVzcC0+dHlwZSA9IDA7CiAgfQoKICBidWZmZXJfZnJlZSgmcmVzcC0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNSdW50aW1lKiBydCkgewogIHVybF9mcmVlX3J0KCZyZXNwLT51cmwsIHJ0KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlX3J0KHJ0LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU0NvbnRleHQqIGN0eCkgewoKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcihyZXNwLCBjdHgpOwogICAganNfZnJlZShjdHgsIHJlc3ApOwogIH0KfQoKdm9pZApyZXNwb25zZV9mcmVlX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXNwLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVzcG9uc2VfY2xlYXJfcnQocmVzcCwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVzcCk7CiAgfQp9CgpNaW5uZXRSZXNwb25zZSoKcmVzcG9uc2VfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJlc3AtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiByZXNwOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKChyZXNwID0gcmVzcG9uc2VfbmV3KGN0eCkpKSB7CiAgICByZXNwb25zZV9pbml0KHJlc3AsIHVybCwgc3RhdHVzLCBzdGF0dXNfdGV4dCwgb2ssIHR5cGUgPyBqc19zdHJkdXAoY3R4LCB0eXBlKSA6IDApOwoKICAgIHJldHVybiBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjdHgsIHJlc3ApOwogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlc3BvbnNlKiByZXNwKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcmVzcG9uc2VfZHVwKHJlc3ApKTsKICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSRVNQT05TRV9BUlJBWUJVRkZFUiA9IDAsCiAgUkVTUE9OU0VfVEVYVCwKICBSRVNQT05TRV9KU09OLAp9OwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQsIHJlc3VsdCA9IEpTX1VOREVGSU5FRDsKICBSZXNvbHZlRnVuY3Rpb25zIGZ1bmNzOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld0FycmF5QnVmZmVyIC8qQ29weSovIChjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVEVYVDogewogICAgICByZXN1bHQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSlNPTjogewogICAgICByZXN1bHQgPSBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldCA9IGpzX3Byb21pc2VfY3JlYXRlKGN0eCwgJmZ1bmNzKTsKCiAganNfcHJvbWlzZV9yZXNvbHZlKGN0eCwgJmZ1bmNzLCByZXN1bHQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2J1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkgewogICAgSlNWYWx1ZSB2YWwgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgcmV0dXJuIHZhbDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2pzb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBpZigocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfUGFyc2VKU09OKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSksIHJlc3AtPnVybC5wYXRoKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2Nsb25lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UgKnJlc3AsICpjbG9uZTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEoY2xvbmUgPSByZXNwb25zZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT5zdGF0dXMgPSByZXNwLT5zdGF0dXM7CiAgY2xvbmUtPnJlYWRfb25seSA9IHJlc3AtPnJlYWRfb25seTsKICBjbG9uZS0+dXJsID0gdXJsX2Nsb25lKHJlc3AtPnVybCwgY3R4KTsKICBjbG9uZS0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHJlc3AtPnR5cGUpOwoKICBidWZmZXJfY2xvbmUoJmNsb25lLT5oZWFkZXJzLCAmcmVzcC0+aGVhZGVycywgY3R4KTsKICBidWZmZXJfY2xvbmUoJmNsb25lLT5ib2R5LCAmcmVzcC0+Ym9keSwgY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgY2xvbmUpOwp9CgovKnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9oZWFkZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBNaW5uZXRIdHRwSGVhZGVyKiBoZHI7CiAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIEpTVmFsdWUgcmV0ID0gSlNfRkFMU0U7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgdmFsdWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYoKGhkciA9IGhlYWRlcl9uZXcoY3R4LCBuYW1lLCB2YWx1ZSkpKSB7CiAgICBpZighcmVzcC0+aGVhZGVycy5uZXh0KQogICAgICBpbml0X2xpc3RfaGVhZCgmcmVzcC0+aGVhZGVycyk7CgogICAgbGlzdF9hZGRfdGFpbCgmaGRyLT5saW5rLCAmcmVzcC0+aGVhZGVycyk7CiAgICByZXQgPSBKU19UUlVFOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIHJldDsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzcC0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVU1RFWFQ6IHsKICAgICAgcmV0ID0gcmVzcC0+c3RhdHVzX3RleHQgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT5zdGF0dXNfdGV4dCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHJlc3AtPm9rKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1VSTDogewogICAgICByZXQgPSBtaW5uZXRfdXJsX25ldyhjdHgsIHJlc3AtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJldCA9IHJlc3AtPnR5cGUgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT50eXBlKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVzcC0+aGVhZGVycy5zdGFydCwgJnJlc3AtPmhlYWRlcnMud3JpdGUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGJ1ZmZlcl9TSVpFKCZyZXNwLT5ib2R5KSA+IDApOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVzcC0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVzcG9uc2Ugb2JqZWN0IGlzIHJlYWQtb25seSIpOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgaW50MzJfdCBzOwogICAgICBpZighSlNfVG9JbnQzMihjdHgsICZzLCB2YWx1ZSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX09LOiB7CiAgICAgIHJlc3AtPm9rID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHVybF9mcmVlKCZyZXNwLT51cmwsIGN0eCk7CiAgICAgIHVybF9wYXJzZSgmcmVzcC0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBicmVhazsKICAgIH0KICAgICAgLyogY2FzZSBSRVNQT05TRV9PRkZTRVQ6IHsKICAgICAgICAgdWludDY0X3QgbzsKICAgICAgICAgaWYoIUpTX1RvSW5kZXgoY3R4LCAmbywgdmFsdWUpKQogICAgICAgICAgIHJlc3AtPmJvZHkud3JpdGUgPSByZXNwLT5ib2R5LnN0YXJ0ICsgbzsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGludCBpOwoKICBpZighKHJlc3AgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBpZihhcmdjID49IDEgJiYgYXJnYyA8IDMpIHsKCiAgICBpZighanNfaXNfbnVsbGlzaChhcmd2WzBdKSkgewogICAgICBidWZmZXJfZnJvbXZhbHVlKCZyZXNwLT5ib2R5LCBhcmd2WzBdLCBjdHgpOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgaWYoSlNfSXNPYmplY3QoYXJndltpXSkgJiYgIUpTX0lzTnVsbChhcmd2W2ldKSkgewogICAgICBqc19jb3B5X3Byb3BlcnRpZXMoY3R4LCBvYmosIGFyZ3ZbaV0sIEpTX0dQTl9TVFJJTkdfTUFTSyk7CiAgICAgIGFyZ2MtLTsKICAgICAgYXJndisrOwogICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgICBpZighcmVzcC0+dXJsLnBhdGgpCiAgICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgZWxzZSBpZighcmVzcC0+dHlwZSkKICAgICAgICByZXNwLT50eXBlID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgIH0gZWxzZSBpZihKU19Jc0Jvb2woYXJndltpXSkpIHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc051bWJlcihhcmd2W2ldKSkgewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIGFyZ3ZbaV0pKQogICAgICAgIHJlc3AtPnN0YXR1cyA9IHM7CiAgICB9CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCByZXNwKTsKCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlc3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKdm9pZAptaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlczsKCiAgaWYoKHJlcyA9IG1pbm5ldF9yZXNwb25zZV9kYXRhKHZhbCkpKQogICAgcmVzcG9uc2VfZnJlZV9ydChyZXMsIHJ0KTsKfQoKSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVzcG9uc2UiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlCdWZmZXIiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9BUlJBWUJVRkZFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRleHQiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9URVhUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigianNvbiIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0pTT04pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1cyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1NUQVRVUywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzdGF0dXNUZXh0IiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keVVzZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9CT0RZVVNFRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvayIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09LLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWRpcmVjdGVkIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidXJsIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfVVJMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInR5cGUiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9UWVBFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgLy8gIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJvZmZzZXQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9PRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRSZXNwb25zZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD6LwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACQgAAAAAAAAJCAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD6LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKCiAgcmVzcC0+c3RhdHVzID0gc3RhdHVzOwogIHJlc3AtPnN0YXR1c190ZXh0ID0gc3RhdHVzX3RleHQ7CiAgcmVzcC0+b2sgPSBvazsKICByZXNwLT51cmwgPSB1cmw7CiAgcmVzcC0+dHlwZSA9IHR5cGU7CiAgcmVzcC0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICArK3Jlc3AtPnJlZl9jb3VudDsKICByZXR1cm4gcmVzcDsKfQoKc3NpemVfdApyZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSogcmVzcCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4sIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksIHgsIG4sIGN0eCk7Cn0KCnZvaWQKcmVzcG9uc2VfY2xlYXIoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXJlc3AtPnR5cGUpOwogICAgcmVzcC0+dHlwZSA9IDA7CiAgfQoKICBidWZmZXJfZnJlZSgmcmVzcC0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNSdW50aW1lKiBydCkgewogIHVybF9mcmVlX3J0KCZyZXNwLT51cmwsIHJ0KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlX3J0KHJ0LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU0NvbnRleHQqIGN0eCkgewoKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcihyZXNwLCBjdHgpOwogICAganNfZnJlZShjdHgsIHJlc3ApOwogIH0KfQoKdm9pZApyZXNwb25zZV9mcmVlX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXNwLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVzcG9uc2VfY2xlYXJfcnQocmVzcCwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVzcCk7CiAgfQp9CgpNaW5uZXRSZXNwb25zZSoKcmVzcG9uc2VfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJlc3AtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiByZXNwOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKChyZXNwID0gcmVzcG9uc2VfbmV3KGN0eCkpKSB7CiAgICByZXNwb25zZV9pbml0KHJlc3AsIHVybCwgc3RhdHVzLCBzdGF0dXNfdGV4dCwgb2ssIHR5cGUgPyBqc19zdHJkdXAoY3R4LCB0eXBlKSA6IDApOwoKICAgIHJldHVybiBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjdHgsIHJlc3ApOwogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlc3BvbnNlKiByZXNwKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcmVzcG9uc2VfZHVwKHJlc3ApKTsKICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSRVNQT05TRV9BUlJBWUJVRkZFUiA9IDAsCiAgUkVTUE9OU0VfVEVYVCwKICBSRVNQT05TRV9KU09OLAp9OwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQsIHJlc3VsdCA9IEpTX1VOREVGSU5FRDsKICBSZXNvbHZlRnVuY3Rpb25zIGZ1bmNzOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld0FycmF5QnVmZmVyIC8qQ29weSovIChjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVEVYVDogewogICAgICByZXN1bHQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSlNPTjogewogICAgICByZXN1bHQgPSBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldCA9IGpzX3Byb21pc2VfY3JlYXRlKGN0eCwgJmZ1bmNzKTsKCiAganNfcHJvbWlzZV9yZXNvbHZlKGN0eCwgJmZ1bmNzLCByZXN1bHQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2J1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkgewogICAgSlNWYWx1ZSB2YWwgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgcmV0dXJuIHZhbDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2pzb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBpZigocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfUGFyc2VKU09OKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSksIHJlc3AtPnVybC5wYXRoKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2Nsb25lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UgKnJlc3AsICpjbG9uZTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEoY2xvbmUgPSByZXNwb25zZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT5zdGF0dXMgPSByZXNwLT5zdGF0dXM7CiAgY2xvbmUtPnJlYWRfb25seSA9IHJlc3AtPnJlYWRfb25seTsKICBjbG9uZS0+dXJsID0gdXJsX2Nsb25lKHJlc3AtPnVybCwgY3R4KTsKICBjbG9uZS0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHJlc3AtPnR5cGUpOwoKICBidWZmZXJfY2xvbmUoJmNsb25lLT5oZWFkZXJzLCAmcmVzcC0+aGVhZGVycywgY3R4KTsKICBidWZmZXJfY2xvbmUoJmNsb25lLT5ib2R5LCAmcmVzcC0+Ym9keSwgY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgY2xvbmUpOwp9CgovKnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9oZWFkZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBNaW5uZXRIdHRwSGVhZGVyKiBoZHI7CiAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIEpTVmFsdWUgcmV0ID0gSlNfRkFMU0U7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgdmFsdWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYoKGhkciA9IGhlYWRlcl9uZXcoY3R4LCBuYW1lLCB2YWx1ZSkpKSB7CiAgICBpZighcmVzcC0+aGVhZGVycy5uZXh0KQogICAgICBpbml0X2xpc3RfaGVhZCgmcmVzcC0+aGVhZGVycyk7CgogICAgbGlzdF9hZGRfdGFpbCgmaGRyLT5saW5rLCAmcmVzcC0+aGVhZGVycyk7CiAgICByZXQgPSBKU19UUlVFOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIHJldDsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzcC0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVU1RFWFQ6IHsKICAgICAgcmV0ID0gcmVzcC0+c3RhdHVzX3RleHQgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT5zdGF0dXNfdGV4dCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHJlc3AtPm9rKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1VSTDogewogICAgICByZXQgPSBtaW5uZXRfdXJsX25ldyhjdHgsIHJlc3AtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJldCA9IHJlc3AtPnR5cGUgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT50eXBlKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVzcC0+aGVhZGVycy5zdGFydCwgJnJlc3AtPmhlYWRlcnMud3JpdGUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGJ1ZmZlcl9TSVpFKCZyZXNwLT5ib2R5KSA+IDApOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVzcC0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVzcG9uc2Ugb2JqZWN0IGlzIHJlYWQtb25seSIpOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgaW50MzJfdCBzOwogICAgICBpZighSlNfVG9JbnQzMihjdHgsICZzLCB2YWx1ZSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX09LOiB7CiAgICAgIHJlc3AtPm9rID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHVybF9mcmVlKCZyZXNwLT51cmwsIGN0eCk7CiAgICAgIHVybF9wYXJzZSgmcmVzcC0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBicmVhazsKICAgIH0KICAgICAgLyogY2FzZSBSRVNQT05TRV9PRkZTRVQ6IHsKICAgICAgICAgdWludDY0X3QgbzsKICAgICAgICAgaWYoIUpTX1RvSW5kZXgoY3R4LCAmbywgdmFsdWUpKQogICAgICAgICAgIHJlc3AtPmJvZHkud3JpdGUgPSByZXNwLT5ib2R5LnN0YXJ0ICsgbzsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGludCBpOwoKICBpZighKHJlc3AgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBpZihhcmdjID49IDEgJiYgYXJnYyA8IDMpIHsKCiAgICBpZighanNfaXNfbnVsbGlzaChhcmd2WzBdKSkgewogICAgICBidWZmZXJfZnJvbXZhbHVlKCZyZXNwLT5ib2R5LCBhcmd2WzBdLCBjdHgpOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgaWYoSlNfSXNPYmplY3QoYXJndltpXSkgJiYgIUpTX0lzTnVsbChhcmd2W2ldKSkgewogICAgICBqc19jb3B5X3Byb3BlcnRpZXMoY3R4LCBvYmosIGFyZ3ZbaV0sIEpTX0dQTl9TVFJJTkdfTUFTSyk7CiAgICAgIGFyZ2MtLTsKICAgICAgYXJndisrOwogICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgICBpZighcmVzcC0+dXJsLnBhdGgpCiAgICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgZWxzZSBpZighcmVzcC0+dHlwZSkKICAgICAgICByZXNwLT50eXBlID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgIH0gZWxzZSBpZihKU19Jc0Jvb2woYXJndltpXSkpIHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc051bWJlcihhcmd2W2ldKSkgewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIGFyZ3ZbaV0pKQogICAgICAgIHJlc3AtPnN0YXR1cyA9IHM7CiAgICB9CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCByZXNwKTsKCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlc3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKdm9pZAptaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlczsKCiAgaWYoKHJlcyA9IG1pbm5ldF9yZXNwb25zZV9kYXRhKHZhbCkpKQogICAgcmVzcG9uc2VfZnJlZV9ydChyZXMsIHJ0KTsKfQoKSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVzcG9uc2UiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlCdWZmZXIiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9BUlJBWUJVRkZFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRleHQiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9URVhUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigianNvbiIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0pTT04pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1cyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1NUQVRVUywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzdGF0dXNUZXh0IiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keVVzZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9CT0RZVVNFRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvayIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09LLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWRpcmVjdGVkIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidXJsIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfVVJMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInR5cGUiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9UWVBFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgLy8gIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJvZmZzZXQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9PRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRSZXNwb25zZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD6LwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACQgAAAAAAAAJCAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD6LwAAI2luY2x1ZGUgIm1pbm5ldC13ZWJzb2NrZXQuaCIKI2luY2x1ZGUgIm1pbm5ldC1yZXNwb25zZS5oIgojaW5jbHVkZSAibWlubmV0LWJ1ZmZlci5oIgojaW5jbHVkZSAianN1dGlscy5oIgojaW5jbHVkZSA8Y3V0aWxzLmg+CgpUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF9yZXNwb25zZV9jbGFzc19pZDsKVEhSRUFEX0xPQ0FMIEpTVmFsdWUgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY3RvcjsKCmVudW0geyBSRVNQT05TRV9IRUFERVIgfTsKZW51bSB7IFJFU1BPTlNFX09LLCBSRVNQT05TRV9VUkwsIFJFU1BPTlNFX1NUQVRVUywgUkVTUE9OU0VfU1RBVFVTVEVYVCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgUkVTUE9OU0VfQk9EWVVTRUQsIFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX09GRlNFVCwgUkVTUE9OU0VfSEVBREVSUyB9OwoKLypzdHJ1Y3QgaHR0cF9oZWFkZXIqCmhlYWRlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIHZhbHVlKSB7CiAgTWlubmV0SHR0cEhlYWRlciogaGRyOwoKICBpZighKGhkciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0SHR0cEhlYWRlcikpKSkKICAgIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgaGRyLT5uYW1lID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgaGRyLT52YWx1ZSA9IGpzX3N0cmR1cChjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIGhkcjsKfQoKdm9pZApoZWFkZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBzdHJ1Y3QgaHR0cF9oZWFkZXIqIGhkcikgewogIGpzX2ZyZWVfcnQocnQsIGhkci0+bmFtZSk7CiAganNfZnJlZV9ydChydCwgaGRyLT52YWx1ZSk7CiAganNfZnJlZV9ydChydCwgaGRyKTsKfSovCgp2b2lkCnJlc3BvbnNlX2Zvcm1hdChNaW5uZXRSZXNwb25zZSBjb25zdCogcmVzcCwgY2hhciogYnVmLCBzaXplX3QgbGVuKSB7CiAgc25wcmludGYoYnVmLCBsZW4sIEZHQygyMjYsICJNaW5uZXRSZXNwb25zZSIpICIgeyB1cmwucGF0aDogJyVzJywgc3RhdHVzOiAlZCwgb2s6ICVzLCB0eXBlOiAnJXMnIH0iLCByZXNwLT51cmwucGF0aCwgcmVzcC0+c3RhdHVzLCByZXNwLT5vayA/ICJ0cnVlIiA6ICJmYWxzZSIsIHJlc3AtPnR5cGUpOwp9CgpjaGFyKgpyZXNwb25zZV9kdW1wKE1pbm5ldFJlc3BvbnNlIGNvbnN0KiByZXNwKSB7CiAgc3RhdGljIGNoYXIgYnVmWzEwMjRdOwogIHJlc3BvbnNlX2Zvcm1hdChyZXNwLCBidWYsIHNpemVvZihidWYpKTsKICByZXR1cm4gYnVmOwp9CgovKnZvaWQKcmVzcG9uc2VfemVybyhNaW5uZXRSZXNwb25zZSogcmVzcCkgewogIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKICByZXNwLT5ib2R5ID0gQlVGRkVSXzAoKTsKfSovCgp2b2lkCnJlc3BvbnNlX2luaXQoTWlubmV0UmVzcG9uc2UqIHJlc3AsIE1pbm5ldFVSTCB1cmwsIGludDMyX3Qgc3RhdHVzLCBjaGFyKiBzdGF0dXNfdGV4dCwgQk9PTCBvaywgY2hhciogdHlwZSkgewogIC8vIG1lbXNldChyZXNwLCAwLCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKTsKCiAgcmVzcC0+c3RhdHVzID0gc3RhdHVzOwogIHJlc3AtPnN0YXR1c190ZXh0ID0gc3RhdHVzX3RleHQ7CiAgcmVzcC0+b2sgPSBvazsKICByZXNwLT51cmwgPSB1cmw7CiAgcmVzcC0+dHlwZSA9IHR5cGU7CiAgcmVzcC0+aGVhZGVycyA9IEJVRkZFUl8wKCk7CiAgcmVzcC0+Ym9keSA9IEJVRkZFUl8wKCk7Cn0KCk1pbm5ldFJlc3BvbnNlKgpyZXNwb25zZV9kdXAoTWlubmV0UmVzcG9uc2UqIHJlc3ApIHsKICArK3Jlc3AtPnJlZl9jb3VudDsKICByZXR1cm4gcmVzcDsKfQoKc3NpemVfdApyZXNwb25zZV93cml0ZShNaW5uZXRSZXNwb25zZSogcmVzcCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4sIEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGJ1ZmZlcl9hcHBlbmQoJnJlc3AtPmJvZHksIHgsIG4sIGN0eCk7Cn0KCnZvaWQKcmVzcG9uc2VfY2xlYXIoTWlubmV0UmVzcG9uc2UqIHJlc3AsIEpTQ29udGV4dCogY3R4KSB7CiAgdXJsX2ZyZWUoJnJlc3AtPnVybCwgY3R4KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlKGN0eCwgKHZvaWQqKXJlc3AtPnR5cGUpOwogICAgcmVzcC0+dHlwZSA9IDA7CiAgfQoKICBidWZmZXJfZnJlZSgmcmVzcC0+aGVhZGVycywgSlNfR2V0UnVudGltZShjdHgpKTsKICBidWZmZXJfZnJlZSgmcmVzcC0+Ym9keSwgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKdm9pZApyZXNwb25zZV9jbGVhcl9ydChNaW5uZXRSZXNwb25zZSogcmVzcCwgSlNSdW50aW1lKiBydCkgewogIHVybF9mcmVlX3J0KCZyZXNwLT51cmwsIHJ0KTsKICBpZihyZXNwLT50eXBlKSB7CiAgICBqc19mcmVlX3J0KHJ0LCAodm9pZCopcmVzcC0+dHlwZSk7CiAgICByZXNwLT50eXBlID0gMDsKICB9CgogIGJ1ZmZlcl9mcmVlKCZyZXNwLT5oZWFkZXJzLCBydCk7CiAgYnVmZmVyX2ZyZWUoJnJlc3AtPmJvZHksIHJ0KTsKfQoKdm9pZApyZXNwb25zZV9mcmVlKE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU0NvbnRleHQqIGN0eCkgewoKICBpZigtLXJlc3AtPnJlZl9jb3VudCA9PSAwKSB7CiAgICByZXNwb25zZV9jbGVhcihyZXNwLCBjdHgpOwogICAganNfZnJlZShjdHgsIHJlc3ApOwogIH0KfQoKdm9pZApyZXNwb25zZV9mcmVlX3J0KE1pbm5ldFJlc3BvbnNlKiByZXNwLCBKU1J1bnRpbWUqIHJ0KSB7CiAgaWYoLS1yZXNwLT5yZWZfY291bnQgPT0gMCkgewogICAgcmVzcG9uc2VfY2xlYXJfcnQocmVzcCwgcnQpOwogICAganNfZnJlZV9ydChydCwgcmVzcCk7CiAgfQp9CgpNaW5uZXRSZXNwb25zZSoKcmVzcG9uc2VfbmV3KEpTQ29udGV4dCogY3R4KSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKCEocmVzcCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoTWlubmV0UmVzcG9uc2UpKSkpCiAgICBKU19UaHJvd091dE9mTWVtb3J5KGN0eCk7CgogIHJlc3AtPnJlZl9jb3VudCA9IDE7CgogIHJldHVybiByZXNwOwp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9uZXcoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFVSTCB1cmwsIGludCBzdGF0dXMsIGNoYXIqIHN0YXR1c190ZXh0LCBCT09MIG9rLCBjb25zdCBjaGFyKiB0eXBlKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlc3A7CgogIGlmKChyZXNwID0gcmVzcG9uc2VfbmV3KGN0eCkpKSB7CiAgICByZXNwb25zZV9pbml0KHJlc3AsIHVybCwgc3RhdHVzLCBzdGF0dXNfdGV4dCwgb2ssIHR5cGUgPyBqc19zdHJkdXAoY3R4LCB0eXBlKSA6IDApOwoKICAgIHJldHVybiBtaW5uZXRfcmVzcG9uc2Vfd3JhcChjdHgsIHJlc3ApOwogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCkpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX3dyYXAoSlNDb250ZXh0KiBjdHgsIE1pbm5ldFJlc3BvbnNlKiByZXNwKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwoKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcmVzcG9uc2VfZHVwKHJlc3ApKTsKICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSRVNQT05TRV9BUlJBWUJVRkZFUiA9IDAsCiAgUkVTUE9OU0VfVEVYVCwKICBSRVNQT05TRV9KU09OLAp9OwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQsIHJlc3VsdCA9IEpTX1VOREVGSU5FRDsKICBSZXNvbHZlRnVuY3Rpb25zIGZ1bmNzOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwoKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFJFU1BPTlNFX0FSUkFZQlVGRkVSOiB7CiAgICAgIHJlc3VsdCA9IEpTX05ld0FycmF5QnVmZmVyIC8qQ29weSovIChjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVEVYVDogewogICAgICByZXN1bHQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfSlNPTjogewogICAgICByZXN1bHQgPSBKU19QYXJzZUpTT04oY3R4LCBibG9ja19CRUdJTigmcmVzcC0+Ym9keSksIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSwgcmVzcC0+dXJsLnBhdGgpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldCA9IGpzX3Byb21pc2VfY3JlYXRlKGN0eCwgJmZ1bmNzKTsKCiAganNfcHJvbWlzZV9yZXNvbHZlKGN0eCwgJmZ1bmNzLCByZXN1bHQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2J1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkgewogICAgSlNWYWx1ZSB2YWwgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJsb2NrX0JFR0lOKCZyZXNwLT5ib2R5KSwgYmxvY2tfU0laRSgmcmVzcC0+Ym9keSksIDAsIDAsIDApOwogICAgcmV0dXJuIHZhbDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2pzb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBpZigocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfUGFyc2VKU09OKGN0eCwgYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSksIHJlc3AtPnVybC5wYXRoKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGlmKChyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY2hhciopYmxvY2tfQkVHSU4oJnJlc3AtPmJvZHkpLCBidWZmZXJfSEVBRCgmcmVzcC0+Ym9keSkpOwogIHJldHVybiBKU19FWENFUFRJT047Cn0qLwoKc3RhdGljIEpTVmFsdWUKbWlubmV0X3Jlc3BvbnNlX2Nsb25lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWlubmV0UmVzcG9uc2UgKnJlc3AsICpjbG9uZTsKCiAgaWYoIShyZXNwID0gbWlubmV0X3Jlc3BvbnNlX2RhdGEyKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCEoY2xvbmUgPSByZXNwb25zZV9uZXcoY3R4KSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICBjbG9uZS0+cmVhZF9vbmx5ID0gcmVzcC0+cmVhZF9vbmx5OwogIGNsb25lLT5zdGF0dXMgPSByZXNwLT5zdGF0dXM7CiAgY2xvbmUtPnJlYWRfb25seSA9IHJlc3AtPnJlYWRfb25seTsKICBjbG9uZS0+dXJsID0gdXJsX2Nsb25lKHJlc3AtPnVybCwgY3R4KTsKICBjbG9uZS0+dHlwZSA9IGpzX3N0cmR1cChjdHgsIHJlc3AtPnR5cGUpOwoKICBidWZmZXJfY2xvbmUoJmNsb25lLT5oZWFkZXJzLCAmcmVzcC0+aGVhZGVycywgY3R4KTsKICBidWZmZXJfY2xvbmUoJmNsb25lLT5ib2R5LCAmcmVzcC0+Ym9keSwgY3R4KTsKCiAgcmV0dXJuIG1pbm5ldF9yZXNwb25zZV93cmFwKGN0eCwgY2xvbmUpOwp9CgovKnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9oZWFkZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBNaW5uZXRIdHRwSGVhZGVyKiBoZHI7CiAgY29uc3QgY2hhciAqbmFtZSwgKnZhbHVlOwogIEpTVmFsdWUgcmV0ID0gSlNfRkFMU0U7CgogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgdmFsdWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYoKGhkciA9IGhlYWRlcl9uZXcoY3R4LCBuYW1lLCB2YWx1ZSkpKSB7CiAgICBpZighcmVzcC0+aGVhZGVycy5uZXh0KQogICAgICBpbml0X2xpc3RfaGVhZCgmcmVzcC0+aGVhZGVycyk7CgogICAgbGlzdF9hZGRfdGFpbCgmaGRyLT5saW5rLCAmcmVzcC0+aGVhZGVycyk7CiAgICByZXQgPSBKU19UUlVFOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHZhbHVlKTsKCiAgcmV0dXJuIHJldDsKfSovCgpzdGF0aWMgSlNWYWx1ZQptaW5uZXRfcmVzcG9uc2VfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKCEocmVzcCA9IG1pbm5ldF9yZXNwb25zZV9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkVTUE9OU0VfU1RBVFVTOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzcC0+c3RhdHVzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1NUQVRVU1RFWFQ6IHsKICAgICAgcmV0ID0gcmVzcC0+c3RhdHVzX3RleHQgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT5zdGF0dXNfdGV4dCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfT0s6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHJlc3AtPm9rKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX1VSTDogewogICAgICByZXQgPSBtaW5uZXRfdXJsX25ldyhjdHgsIHJlc3AtPnVybCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJldCA9IHJlc3AtPnR5cGUgPyBKU19OZXdTdHJpbmcoY3R4LCByZXNwLT50eXBlKSA6IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgICAvKiBjYXNlIFJFU1BPTlNFX09GRlNFVDogewogICAgICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGJ1ZmZlcl9IRUFEKCZyZXNwLT5ib2R5KSk7CiAgICAgICAgIGJyZWFrOwogICAgICAgfSovCiAgICBjYXNlIFJFU1BPTlNFX0hFQURFUlM6IHsKICAgICAgcmV0ID0gaGVhZGVyc19vYmplY3QoY3R4LCAmcmVzcC0+aGVhZGVycy5zdGFydCwgJnJlc3AtPmhlYWRlcnMud3JpdGUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGJ1ZmZlcl9TSVpFKCZyZXNwLT5ib2R5KSA+IDApOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBNaW5uZXRSZXNwb25zZSogcmVzcDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBpZighKHJlc3AgPSBtaW5uZXRfcmVzcG9uc2VfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYocmVzcC0+cmVhZF9vbmx5KQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiUmVzcG9uc2Ugb2JqZWN0IGlzIHJlYWQtb25seSIpOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBSRVNQT05TRV9TVEFUVVM6IHsKICAgICAgaW50MzJfdCBzOwogICAgICBpZighSlNfVG9JbnQzMihjdHgsICZzLCB2YWx1ZSkpCiAgICAgICAgcmVzcC0+c3RhdHVzID0gczsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJFU1BPTlNFX09LOiB7CiAgICAgIHJlc3AtPm9rID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkVTUE9OU0VfVVJMOiB7CiAgICAgIHVybF9mcmVlKCZyZXNwLT51cmwsIGN0eCk7CiAgICAgIHVybF9wYXJzZSgmcmVzcC0+dXJsLCBzdHIsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSRVNQT05TRV9UWVBFOiB7CiAgICAgIHJlc3AtPnR5cGUgPSBqc19zdHJkdXAoY3R4LCBzdHIpOwogICAgICBicmVhazsKICAgIH0KICAgICAgLyogY2FzZSBSRVNQT05TRV9PRkZTRVQ6IHsKICAgICAgICAgdWludDY0X3QgbzsKICAgICAgICAgaWYoIUpTX1RvSW5kZXgoY3R4LCAmbywgdmFsdWUpKQogICAgICAgICAgIHJlc3AtPmJvZHkud3JpdGUgPSByZXNwLT5ib2R5LnN0YXJ0ICsgbzsKICAgICAgICAgYnJlYWs7CiAgICAgICB9Ki8KICAgIGNhc2UgUkVTUE9OU0VfQk9EWVVTRUQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCm1pbm5ldF9yZXNwb25zZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgb2JqOwogIE1pbm5ldFJlc3BvbnNlKiByZXNwOwogIGludCBpOwoKICBpZighKHJlc3AgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKE1pbm5ldFJlc3BvbnNlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IEpTX0R1cFZhbHVlKGN0eCwgbWlubmV0X3Jlc3BvbnNlX3Byb3RvKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBtaW5uZXRfcmVzcG9uc2VfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBpZihhcmdjID49IDEgJiYgYXJnYyA8IDMpIHsKCiAgICBpZighanNfaXNfbnVsbGlzaChhcmd2WzBdKSkgewogICAgICBidWZmZXJfZnJvbXZhbHVlKCZyZXNwLT5ib2R5LCBhcmd2WzBdLCBjdHgpOwogICAgfQoKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9CgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgaWYoSlNfSXNPYmplY3QoYXJndltpXSkgJiYgIUpTX0lzTnVsbChhcmd2W2ldKSkgewogICAgICBqc19jb3B5X3Byb3BlcnRpZXMoY3R4LCBvYmosIGFyZ3ZbaV0sIEpTX0dQTl9TVFJJTkdfTUFTSyk7CiAgICAgIGFyZ2MtLTsKICAgICAgYXJndisrOwogICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgICBpZighcmVzcC0+dXJsLnBhdGgpCiAgICAgICAgdXJsX3BhcnNlKCZyZXNwLT51cmwsIHN0ciwgY3R4KTsKICAgICAgZWxzZSBpZighcmVzcC0+dHlwZSkKICAgICAgICByZXNwLT50eXBlID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwoKICAgIH0gZWxzZSBpZihKU19Jc0Jvb2woYXJndltpXSkpIHsKICAgICAgcmVzcC0+b2sgPSBKU19Ub0Jvb2woY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc051bWJlcihhcmd2W2ldKSkgewogICAgICBpbnQzMl90IHM7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnMsIGFyZ3ZbaV0pKQogICAgICAgIHJlc3AtPnN0YXR1cyA9IHM7CiAgICB9CiAgfQoKICBKU19TZXRPcGFxdWUob2JqLCByZXNwKTsKCiAgcmV0dXJuIG9iajsKCmZhaWw6CiAganNfZnJlZShjdHgsIHJlc3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKdm9pZAptaW5uZXRfcmVzcG9uc2VfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTWlubmV0UmVzcG9uc2UqIHJlczsKCiAgaWYoKHJlcyA9IG1pbm5ldF9yZXNwb25zZV9kYXRhKHZhbCkpKQogICAgcmVzcG9uc2VfZnJlZV9ydChyZXMsIHJ0KTsKfQoKSlNDbGFzc0RlZiBtaW5uZXRfcmVzcG9uc2VfY2xhc3MgPSB7CiAgICAiTWlubmV0UmVzcG9uc2UiLAogICAgLmZpbmFsaXplciA9IG1pbm5ldF9yZXNwb25zZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlCdWZmZXIiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9BUlJBWUJVRkZFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRleHQiLCAwLCBtaW5uZXRfcmVzcG9uc2VfbWV0aG9kLCBSRVNQT05TRV9URVhUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigianNvbiIsIDAsIG1pbm5ldF9yZXNwb25zZV9tZXRob2QsIFJFU1BPTlNFX0pTT04pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInN0YXR1cyIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX1NUQVRVUywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJzdGF0dXNUZXh0IiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfU1RBVFVTVEVYVCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiYm9keVVzZWQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9CT0RZVVNFRCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJvayIsIG1pbm5ldF9yZXNwb25zZV9nZXQsIG1pbm5ldF9yZXNwb25zZV9zZXQsIFJFU1BPTlNFX09LLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJyZWRpcmVjdGVkIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfUkVESVJFQ1RFRCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigidXJsIiwgbWlubmV0X3Jlc3BvbnNlX2dldCwgbWlubmV0X3Jlc3BvbnNlX3NldCwgUkVTUE9OU0VfVVJMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoInR5cGUiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9UWVBFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgLy8gIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJvZmZzZXQiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCBtaW5uZXRfcmVzcG9uc2Vfc2V0LCBSRVNQT05TRV9PRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYoImhlYWRlcnMiLCBtaW5uZXRfcmVzcG9uc2VfZ2V0LCAwLCBSRVNQT05TRV9IRUFERVJTLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNaW5uZXRSZXNwb25zZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IHNpemVfdCBtaW5uZXRfcmVzcG9uc2VfcHJvdG9fZnVuY3Nfc2l6ZSA9IGNvdW50b2YobWlubmV0X3Jlc3BvbnNlX3Byb3RvX2Z1bmNzKTsKAAAAAAAAAAD6LwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACQgAAAAAAAAJCAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "libwebsockets/lib/core-net/close.c",
			"settings":
			{
				"buffer_size": 27367,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					22,
					1,
					"paste",
					{
						"event":
						{
							"modifier_keys":
							{
							},
							"x": 591.022521973,
							"y": 335.631378174
						}
					},
					"AgAAAENpAAAAAAAAVWkAAAAAAAAAAAAAVWkAAAAAAABVaQAAAAAAABIAAABsd3NfY2xvc2VfZnJlZV93c2k",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAENpAAAAAAAAVWkAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-ws-close.h",
			"settings":
			{
				"buffer_size": 6056,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoFwAALyoKICogbGlid2Vic29ja2V0cyAtIHNtYWxsIHNlcnZlciBzaWRlIHdlYnNvY2tldHMgYW5kIHdlYiBzZXJ2ZXIgaW1wbGVtZW50YXRpb24KICoKICogQ29weXJpZ2h0IChDKSAyMDEwIC0gMjAxOSBBbmR5IEdyZWVuIDxhbmR5QHdhcm1jYXQuY29tPgogKgogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0bwogKiBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZQogKiByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3IKICogc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAogKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgogKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORwogKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTCiAqIElOIFRIRSBTT0ZUV0FSRS4KICovCgovKiEgXGRlZmdyb3VwIHdzY2xvc2UgV2Vic29ja2V0IENsb3NlCiAqCiAqICMjV2Vic29ja2V0IGNsb3NlIGZyYW1lIGNvbnRyb2wKICoKICogV2hlbiB3ZSBjbG9zZSBhIHdzIGNvbm5lY3Rpb24sIHdlIGNhbiBzZW5kIGEgcmVhc29uIGNvZGUgYW5kIGEgc2hvcnQKICogVVRGLTggZGVzY3JpcHRpb24gYmFjayB3aXRoIHRoZSBjbG9zZSBwYWNrZXQuCiAqLwovLy9AewoKLyoKICogTk9URTogVGhlc2UgcHVibGljIGVudW1zIGFyZSBwYXJ0IG9mIHRoZSBhYmkuICBJZiB5b3Ugd2FudCB0byBhZGQgb25lLAogKiBhZGQgaXQgYXQgd2hlcmUgc3BlY2lmaWVkIHNvIGV4aXN0aW5nIHVzZXJzIGFyZSB1bmFmZmVjdGVkLgogKi8KLyoqIGVudW0gbHdzX2Nsb3NlX3N0YXR1cyAtIFJGQzY0NTUgY2xvc2Ugc3RhdHVzIGNvZGVzICovCmVudW0gbHdzX2Nsb3NlX3N0YXR1cyB7CglMV1NfQ0xPU0VfU1RBVFVTX05PU1RBVFVTCQkJCT0gICAgMCwKCUxXU19DTE9TRV9TVEFUVVNfTk9STUFMCQkJCQk9IDEwMDAsCgkvKio8IDEwMDAgaW5kaWNhdGVzIGEgbm9ybWFsIGNsb3N1cmUsIG1lYW5pbmcgdGhhdCB0aGUgcHVycG9zZSBmb3IKICAgICAgd2hpY2ggdGhlIGNvbm5lY3Rpb24gd2FzIGVzdGFibGlzaGVkIGhhcyBiZWVuIGZ1bGZpbGxlZC4gKi8KCUxXU19DTE9TRV9TVEFUVVNfR09JTkdBV0FZCQkJCT0gMTAwMSwKCS8qKjwgMTAwMSBpbmRpY2F0ZXMgdGhhdCBhbiBlbmRwb2ludCBpcyAiZ29pbmcgYXdheSIsIHN1Y2ggYXMgYSBzZXJ2ZXIKICAgICAgZ29pbmcgZG93biBvciBhIGJyb3dzZXIgaGF2aW5nIG5hdmlnYXRlZCBhd2F5IGZyb20gYSBwYWdlLiAqLwoJTFdTX0NMT1NFX1NUQVRVU19QUk9UT0NPTF9FUlIJCQkJPSAxMDAyLAoJLyoqPCAxMDAyIGluZGljYXRlcyB0aGF0IGFuIGVuZHBvaW50IGlzIHRlcm1pbmF0aW5nIHRoZSBjb25uZWN0aW9uIGR1ZQogICAgICB0byBhIHByb3RvY29sIGVycm9yLiAqLwoJTFdTX0NMT1NFX1NUQVRVU19VTkFDQ0VQVEFCTEVfT1BDT0RFCQkJPSAxMDAzLAoJLyoqPCAxMDAzIGluZGljYXRlcyB0aGF0IGFuIGVuZHBvaW50IGlzIHRlcm1pbmF0aW5nIHRoZSBjb25uZWN0aW9uCiAgICAgIGJlY2F1c2UgaXQgaGFzIHJlY2VpdmVkIGEgdHlwZSBvZiBkYXRhIGl0IGNhbm5vdCBhY2NlcHQgKGUuZy4sIGFuCiAgICAgIGVuZHBvaW50IHRoYXQgdW5kZXJzdGFuZHMgb25seSB0ZXh0IGRhdGEgTUFZIHNlbmQgdGhpcyBpZiBpdAogICAgICByZWNlaXZlcyBhIGJpbmFyeSBtZXNzYWdlKS4gKi8KCUxXU19DTE9TRV9TVEFUVVNfUkVTRVJWRUQJCQkJPSAxMDA0LAoJLyoqPCBSZXNlcnZlZC4gIFRoZSBzcGVjaWZpYyBtZWFuaW5nIG1pZ2h0IGJlIGRlZmluZWQgaW4gdGhlIGZ1dHVyZS4gKi8KCUxXU19DTE9TRV9TVEFUVVNfTk9fU1RBVFVTCQkJCT0gMTAwNSwKCS8qKjwgMTAwNSBpcyBhIHJlc2VydmVkIHZhbHVlIGFuZCBNVVNUIE5PVCBiZSBzZXQgYXMgYSBzdGF0dXMgY29kZSBpbiBhCiAgICAgIENsb3NlIGNvbnRyb2wgZnJhbWUgYnkgYW4gZW5kcG9pbnQuICBJdCBpcyBkZXNpZ25hdGVkIGZvciB1c2UgaW4KICAgICAgYXBwbGljYXRpb25zIGV4cGVjdGluZyBhIHN0YXR1cyBjb2RlIHRvIGluZGljYXRlIHRoYXQgbm8gc3RhdHVzCiAgICAgIGNvZGUgd2FzIGFjdHVhbGx5IHByZXNlbnQuICovCglMV1NfQ0xPU0VfU1RBVFVTX0FCTk9STUFMX0NMT1NFCQkJCT0gMTAwNiwKCS8qKjwgMTAwNiBpcyBhIHJlc2VydmVkIHZhbHVlIGFuZCBNVVNUIE5PVCBiZSBzZXQgYXMgYSBzdGF0dXMgY29kZSBpbiBhCiAgICAgIENsb3NlIGNvbnRyb2wgZnJhbWUgYnkgYW4gZW5kcG9pbnQuICBJdCBpcyBkZXNpZ25hdGVkIGZvciB1c2UgaW4KICAgICAgYXBwbGljYXRpb25zIGV4cGVjdGluZyBhIHN0YXR1cyBjb2RlIHRvIGluZGljYXRlIHRoYXQgdGhlCiAgICAgIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBhYm5vcm1hbGx5LCBlLmcuLCB3aXRob3V0IHNlbmRpbmcgb3IKICAgICAgcmVjZWl2aW5nIGEgQ2xvc2UgY29udHJvbCBmcmFtZS4gKi8KCUxXU19DTE9TRV9TVEFUVVNfSU5WQUxJRF9QQVlMT0FECQkJPSAxMDA3LAoJLyoqPCAxMDA3IGluZGljYXRlcyB0aGF0IGFuIGVuZHBvaW50IGlzIHRlcm1pbmF0aW5nIHRoZSBjb25uZWN0aW9uCiAgICAgIGJlY2F1c2UgaXQgaGFzIHJlY2VpdmVkIGRhdGEgd2l0aGluIGEgbWVzc2FnZSB0aGF0IHdhcyBub3QKICAgICAgY29uc2lzdGVudCB3aXRoIHRoZSB0eXBlIG9mIHRoZSBtZXNzYWdlIChlLmcuLCBub24tVVRGLTggW1JGQzM2MjldCiAgICAgIGRhdGEgd2l0aGluIGEgdGV4dCBtZXNzYWdlKS4gKi8KCUxXU19DTE9TRV9TVEFUVVNfUE9MSUNZX1ZJT0xBVElPTgkJCT0gMTAwOCwKCS8qKjwgMTAwOCBpbmRpY2F0ZXMgdGhhdCBhbiBlbmRwb2ludCBpcyB0ZXJtaW5hdGluZyB0aGUgY29ubmVjdGlvbgogICAgICBiZWNhdXNlIGl0IGhhcyByZWNlaXZlZCBhIG1lc3NhZ2UgdGhhdCB2aW9sYXRlcyBpdHMgcG9saWN5LiAgVGhpcwogICAgICBpcyBhIGdlbmVyaWMgc3RhdHVzIGNvZGUgdGhhdCBjYW4gYmUgcmV0dXJuZWQgd2hlbiB0aGVyZSBpcyBubwogICAgICBvdGhlciBtb3JlIHN1aXRhYmxlIHN0YXR1cyBjb2RlIChlLmcuLCAxMDAzIG9yIDEwMDkpIG9yIGlmIHRoZXJlCiAgICAgIGlzIGEgbmVlZCB0byBoaWRlIHNwZWNpZmljIGRldGFpbHMgYWJvdXQgdGhlIHBvbGljeS4gKi8KCUxXU19DTE9TRV9TVEFUVVNfTUVTU0FHRV9UT09fTEFSR0UJCQk9IDEwMDksCgkvKio8IDEwMDkgaW5kaWNhdGVzIHRoYXQgYW4gZW5kcG9pbnQgaXMgdGVybWluYXRpbmcgdGhlIGNvbm5lY3Rpb24KICAgICAgYmVjYXVzZSBpdCBoYXMgcmVjZWl2ZWQgYSBtZXNzYWdlIHRoYXQgaXMgdG9vIGJpZyBmb3IgaXQgdG8KICAgICAgcHJvY2Vzcy4gKi8KCUxXU19DTE9TRV9TVEFUVVNfRVhURU5TSU9OX1JFUVVJUkVECQkJPSAxMDEwLAoJLyoqPCAxMDEwIGluZGljYXRlcyB0aGF0IGFuIGVuZHBvaW50IChjbGllbnQpIGlzIHRlcm1pbmF0aW5nIHRoZQogICAgICBjb25uZWN0aW9uIGJlY2F1c2UgaXQgaGFzIGV4cGVjdGVkIHRoZSBzZXJ2ZXIgdG8gbmVnb3RpYXRlIG9uZSBvcgogICAgICBtb3JlIGV4dGVuc2lvbiwgYnV0IHRoZSBzZXJ2ZXIgZGlkbid0IHJldHVybiB0aGVtIGluIHRoZSByZXNwb25zZQogICAgICBtZXNzYWdlIG9mIHRoZSBXZWJTb2NrZXQgaGFuZHNoYWtlLiAgVGhlIGxpc3Qgb2YgZXh0ZW5zaW9ucyB0aGF0CiAgICAgIGFyZSBuZWVkZWQgU0hPVUxEIGFwcGVhciBpbiB0aGUgL3JlYXNvbi8gcGFydCBvZiB0aGUgQ2xvc2UgZnJhbWUuCiAgICAgIE5vdGUgdGhhdCB0aGlzIHN0YXR1cyBjb2RlIGlzIG5vdCB1c2VkIGJ5IHRoZSBzZXJ2ZXIsIGJlY2F1c2UgaXQKICAgICAgY2FuIGZhaWwgdGhlIFdlYlNvY2tldCBoYW5kc2hha2UgaW5zdGVhZCAqLwoJTFdTX0NMT1NFX1NUQVRVU19VTkVYUEVDVEVEX0NPTkRJVElPTgkJCT0gMTAxMSwKCS8qKjwgMTAxMSBpbmRpY2F0ZXMgdGhhdCBhIHNlcnZlciBpcyB0ZXJtaW5hdGluZyB0aGUgY29ubmVjdGlvbiBiZWNhdXNlCiAgICAgIGl0IGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgY29uZGl0aW9uIHRoYXQgcHJldmVudGVkIGl0IGZyb20KICAgICAgZnVsZmlsbGluZyB0aGUgcmVxdWVzdC4gKi8KCUxXU19DTE9TRV9TVEFUVVNfVExTX0ZBSUxVUkUJCQkJPSAxMDE1LAoJLyoqPCAxMDE1IGlzIGEgcmVzZXJ2ZWQgdmFsdWUgYW5kIE1VU1QgTk9UIGJlIHNldCBhcyBhIHN0YXR1cyBjb2RlIGluIGEKICAgICAgQ2xvc2UgY29udHJvbCBmcmFtZSBieSBhbiBlbmRwb2ludC4gIEl0IGlzIGRlc2lnbmF0ZWQgZm9yIHVzZSBpbgogICAgICBhcHBsaWNhdGlvbnMgZXhwZWN0aW5nIGEgc3RhdHVzIGNvZGUgdG8gaW5kaWNhdGUgdGhhdCB0aGUKICAgICAgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGR1ZSB0byBhIGZhaWx1cmUgdG8gcGVyZm9ybSBhIFRMUyBoYW5kc2hha2UKICAgICAgKGUuZy4sIHRoZSBzZXJ2ZXIgY2VydGlmaWNhdGUgY2FuJ3QgYmUgdmVyaWZpZWQpLiAqLwoKCUxXU19DTE9TRV9TVEFUVVNfQ0xJRU5UX1RSQU5TQUNUSU9OX0RPTkUJCT0gMjAwMCwKCgkvKioqKioqIGFkZCBuZXcgdGhpbmdzIGp1c3QgYWJvdmUgLS0tXiAqKioqKiovCgoJTFdTX0NMT1NFX1NUQVRVU19OT1NUQVRVU19DT05URVhUX0RFU1RST1kJCT0gOTk5OSwKfTsKCi8qKgogKiBsd3NfY2xvc2VfcmVhc29uIC0gU2V0IHJlYXNvbiBhbmQgYXV4IGRhdGEgdG8gc2VuZCB3aXRoIENsb3NlIHBhY2tldAogKgkJSWYgeW91IGFyZSBnb2luZyB0byByZXR1cm4gbm9uemVybyBmcm9tIHRoZSBjYWxsYmFjawogKgkJcmVxdWVzdGluZyB0aGUgY29ubmVjdGlvbiB0byBjbG9zZSwgeW91IGNhbiBvcHRpb25hbGx5CiAqCQljYWxsIHRoaXMgdG8gc2V0IHRoZSByZWFzb24gdGhlIHBlZXIgd2lsbCBiZSB0b2xkIGlmCiAqCQlwb3NzaWJsZS4KICoKICogXHBhcmFtIHdzaToJVGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIHRvIHNldCB0aGUgY2xvc2UgcmVhc29uIG9uCiAqIFxwYXJhbSBzdGF0dXM6CUEgdmFsaWQgY2xvc2Ugc3RhdHVzIGZyb20gd2Vic29ja2V0IHN0YW5kYXJkCiAqIFxwYXJhbSBidWY6CU5VTEwgb3IgYnVmZmVyIGNvbnRhaW5pbmcgdXAgdG8gMTI0IGJ5dGVzIG9mIGF1eGlsaWFyeSBkYXRhCiAqIFxwYXJhbSBsZW46CUxlbmd0aCBvZiBkYXRhIGluIFxwIGJ1ZiB0byBzZW5kCiAqLwpMV1NfVklTSUJMRSBMV1NfRVhURVJOIHZvaWQKbHdzX2Nsb3NlX3JlYXNvbihzdHJ1Y3QgbHdzICp3c2ksIGVudW0gbHdzX2Nsb3NlX3N0YXR1cyBzdGF0dXMsCgkJIHVuc2lnbmVkIGNoYXIgKmJ1Ziwgc2l6ZV90IGxlbik7CgovLy9AfQoAAAAAAAAAAKgXAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfQYAAAAAAACWBgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "/home/roman/Projects/plot-cv/quickjs/list.h",
			"settings":
			{
				"buffer_size": 2980,
				"line_ending": "Unix"
			}
		},
		{
			"file": "minnet-url.h",
			"settings":
			{
				"buffer_size": 3620,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					13,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgJiYgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOoLAAAAAAAA9AsAAAAAAAAAAAAAAADwvw"
				],
				[
					14,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgJiYgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOoLAAAAAAAA9AsAAAAAAAAAAAAAAADwvw"
				],
				[
					18,
					1,
					"insert",
					{
						"characters": "||"
					},
					"AwAAAOIIAAAAAAAA4wgAAAAAAAAAAAAA4wgAAAAAAADjCAAAAAAAAAIAAAAmJuMIAAAAAAAA5AgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOIIAAAAAAAA5AgAAAAAAAAAAAAAAADwvw"
				],
				[
					23,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgfHwgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAAAAAAAAAAAACiDQAAAAAAAAAAAAAAAAAAAAAAAKINAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQIAAAAAAAA5AgAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgfHwgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5AgAAAAAAADkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgfHwgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5AgAAAAAAADkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgfHwgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5AgAAAAAAADkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACiDQAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwp2b2lkIHVybF9kdW1wKGNvbnN0IGNoYXIqLCBNaW5uZXRVUkwgY29uc3QqKTsKTWlubmV0UHJvdG9jb2wgdXJsX3NldF9wcm90b2NvbChNaW5uZXRVUkwqIHVybCwgY29uc3QgY2hhciogcHJvdG8pOwpKU1ZhbHVlIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX3dyYXAoSlNDb250ZXh0KiwgTWlubmV0VVJMKik7Ck1pbm5ldFVSTCogdXJsX25ldyhKU0NvbnRleHQqKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlIG1pbm5ldF91cmxfbWV0aG9kKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpOwpKU1ZhbHVlIG1pbm5ldF91cmxfZnJvbShKU0NvbnRleHQqLCBKU1ZhbHVlLCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwpKU1ZhbHVlIG1pbm5ldF91cmxfY29uc3RydWN0b3IoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdCBhcmd2W10pOwppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpleHRlcm4gVEhSRUFEX0xPQ0FMIEpTQ2xhc3NJRCBtaW5uZXRfdXJsX2NsYXNzX2lkOwoKc3RhdGljIGlubGluZSBjb25zdCBjaGFyKgp1cmxfcGF0aChjb25zdCBNaW5uZXRVUkwgdXJsKSB7CiAgcmV0dXJuIHVybC5wYXRoOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdXJsX3ZhbGlkKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLmhvc3QgfHwgdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0UHJvdG9jb2wKdXJsX3Byb3RvY29sKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gcHJvdG9jb2xfbnVtYmVyKHVybC5wcm90b2NvbCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgp1cmxfZHVwKE1pbm5ldFVSTCogdXJsKSB7CiAgKyt1cmwtPnJlZl9jb3VudDsKICByZXR1cm4gdXJsOwp9CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTAp1cmxfY2xvbmUoTWlubmV0VVJMIHVybCwgSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4gKE1pbm5ldFVSTCl7CiAgICAgIC5yZWZfY291bnQgPSAxLAogICAgICAucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wsCiAgICAgIC5ob3N0ID0gdXJsLmhvc3QgPyBqc19zdHJkdXAoY3R4LCB1cmwuaG9zdCkgOiAwLAogICAgICAucGF0aCA9IHVybC5wYXRoID8ganNfc3RyZHVwKGN0eCwgdXJsLnBhdGgpIDogMCwKICAgICAgLnBvcnQgPSB1cmwucG9ydCwKICB9Owp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdXJsX2NvcHkoTWlubmV0VVJMKiB1cmwsIGNvbnN0IE1pbm5ldFVSTCBvdGhlciwgSlNDb250ZXh0KiBjdHgpIHsKICB1cmwtPnByb3RvY29sID0gb3RoZXIucHJvdG9jb2w7CiAgdXJsLT5ob3N0ID0gb3RoZXIuaG9zdCA/IGpzX3N0cmR1cChjdHgsIG90aGVyLmhvc3QpIDogMDsKICB1cmwtPnBhdGggPSBvdGhlci5wYXRoID8ganNfc3RyZHVwKGN0eCwgb3RoZXIucGF0aCkgOiAwOwogIHVybC0+cG9ydCA9IG90aGVyLnBvcnQ7Cn0KCnN0YXRpYyBjaGFyKgp1cmxfc3RyaW5nKE1pbm5ldFVSTCBjb25zdCogdXJsKSB7CiAgc3RhdGljIGNoYXIgYnVmWzQwOTZdOwoKICB1cmxfcHJpbnQoYnVmLCBzaXplb2YoYnVmKSwgKnVybCk7CiAgcmV0dXJuIGJ1ZjsKfQoKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpzdGF0aWMgaW5saW5lIE1pbm5ldFVSTCoKbWlubmV0X3VybF9kYXRhKEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0dldE9wYXF1ZTIoY3R4LCBvYmosIG1pbm5ldF91cmxfY2xhc3NfaWQpOwp9CgojZW5kaWYgLyogTUlOTkVUX1VSTF9IICovCgAAAAAAAAAAog0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5AgAAAAAAADkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"cut",
					null,
					"AQAAAGsFAAAAAAAAawUAAAAAAAA6AAAAQk9PTCB1cmxfZnJvbXZhbHVlKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7Cg",
					"AQAAAAAAAAABAAAAawUAAAAAAAClBQAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					2,
					"paste",
					null,
					"AgAAAGsFAAAAAAAApQUAAAAAAAAAAAAApQUAAAAAAADfBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAawUAAAAAAABrBQAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": "wsi"
					},
					"BAAAALIFAAAAAAAAswUAAAAAAAAAAAAAswUAAAAAAACzBQAAAAAAAAUAAAB2YWx1ZbMFAAAAAAAAtAUAAAAAAAAAAAAAtAUAAAAAAAC1BQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsgUAAAAAAAC3BQAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "struct"
					},
					"BwAAAMIFAAAAAAAAwwUAAAAAAAAAAAAAwwUAAAAAAADDBQAAAAAAAAwAAABKU1ZhbHVlQ29uc3TDBQAAAAAAAMQFAAAAAAAAAAAAAMQFAAAAAAAAxQUAAAAAAAAAAAAAxQUAAAAAAADGBQAAAAAAAAAAAADGBQAAAAAAAMcFAAAAAAAAAAAAAMcFAAAAAAAAyAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgUAAAAAAADOBQAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": " lws*"
					},
					"BQAAAMgFAAAAAAAAyQUAAAAAAAAAAAAAyQUAAAAAAADKBQAAAAAAAAAAAADKBQAAAAAAAMsFAAAAAAAAAAAAAMsFAAAAAAAAzAUAAAAAAAAAAAAAzAUAAAAAAADNBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyAUAAAAAAADIBQAAAAAAAAAAAAAAAPC/"
				],
				[
					43,
					1,
					"paste",
					null,
					"AgAAAE4CAAAAAAAArQkAAAAAAAAAAAAArQkAAAAAAACtCQAAAAAAAP8FAABNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7CnZvaWQgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIHVybF9wYXJzZShNaW5uZXRVUkwqLCBjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7Ck1pbm5ldFVSTCB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90IHVybF9wcmludChjaGFyKiwgc2l6ZV90LCBjb25zdCBNaW5uZXRVUkwpOwpjaGFyKiB1cmxfZm9ybWF0KGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CnNpemVfdCB1cmxfbGVuZ3RoKGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgdXJsX2ZyZWUoTWlubmV0VVJMKiwgSlNDb250ZXh0Kik7CnZvaWQgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7CnZvaWQgdXJsX2luZm8oY29uc3QgTWlubmV0VVJMLCBzdHJ1Y3QgbHdzX2NsaWVudF9jb25uZWN0X2luZm8qKTsKY2hhciogdXJsX2xvY2F0aW9uKGNvbnN0IE1pbm5ldFVSTCwgSlNDb250ZXh0Kik7CmNvbnN0IGNoYXIqIHVybF9xdWVyeShjb25zdCBNaW5uZXRVUkwpOwp2b2lkIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgdXJsX2Zyb212YWx1ZShNaW5uZXRVUkwqLCBKU1ZhbHVlQ29uc3QsIEpTQ29udGV4dCopOwpCT09MIHVybF9mcm9td3NpKE1pbm5ldFVSTCosIHN0cnVjdCBsd3MqLCBKU0NvbnRleHQqKTsKdm9pZCB1cmxfZHVtcChjb25zdCBjaGFyKiwgTWlubmV0VVJMIGNvbnN0Kik7Ck1pbm5ldFByb3RvY29sIHVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiB1cmwsIGNvbnN0IGNoYXIqIHByb3RvKTsKSlNWYWx1ZSBxdWVyeV9vYmplY3QoY29uc3QgY2hhciosIEpTQ29udGV4dCopOwpjaGFyKiBxdWVyeV9mcm9tKEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3VybF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFVSTCopOwpNaW5uZXRVUkwqIHVybF9uZXcoSlNDb250ZXh0Kik7CkpTVmFsdWUgbWlubmV0X3VybF9uZXcoSlNDb250ZXh0KiwgTWlubmV0VVJMKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX21ldGhvZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX2Zyb20oSlNDb250ZXh0KiwgSlNWYWx1ZSwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSBtaW5uZXRfdXJsX2NvbnN0cnVjdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKaW50IG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOw",
					"AQAAAAAAAAABAAAATQgAAAAAAABOAgAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAE4CAAAAAAAATwIAAAAAAAAAAAAATwIAAAAAAABPAgAAAAAAADQAAABzaXplX3QgICAgICAgICBzdHJsY3B5KGNoYXIqLCBjb25zdCBjaGFyKiwgc2l6ZV90KTsK",
					"AQAAAAAAAAABAAAATgIAAAAAAACCAgAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAGDwAAI2lmbmRlZiBNSU5ORVRfVVJMX0gKI2RlZmluZSBNSU5ORVRfVVJMX0gKCiNpbmNsdWRlIDxsaWJ3ZWJzb2NrZXRzLmg+CiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgovLyNpbmNsdWRlICJtaW5uZXQuaCIKCnR5cGVkZWYgZW51bSBwcm90b2NvbCB7CiAgUFJPVE9DT0xfV1MgPSAwLAogIFBST1RPQ09MX1dTUywKICBQUk9UT0NPTF9IVFRQLAogIFBST1RPQ09MX0hUVFBTLAogIFBST1RPQ09MX1JBVywKICBQUk9UT0NPTF9UTFMsCn0gTWlubmV0UHJvdG9jb2w7CgpNaW5uZXRQcm90b2NvbCBwcm90b2NvbF9udW1iZXIoY29uc3QgY2hhciopOwpjb25zdCBjaGFyKiBwcm90b2NvbF9zdHJpbmcoTWlubmV0UHJvdG9jb2wpOwp1aW50MTZfdCBwcm90b2NvbF9kZWZhdWx0X3BvcnQoTWlubmV0UHJvdG9jb2wpOwpCT09MIHByb3RvY29sX2lzX3RscyhNaW5uZXRQcm90b2NvbCk7Cgp0eXBlZGVmIHN0cnVjdCB1cmwgewogIGludCByZWZfY291bnQ7CiAgY29uc3QgY2hhciogcHJvdG9jb2w7CiAgY2hhciAqaG9zdCwgKnBhdGg7CiAgdWludDE2X3QgcG9ydDsKfSBNaW5uZXRVUkw7CgogTWlubmV0UHJvdG9jb2wgcHJvdG9jb2xfbnVtYmVyKGNvbnN0IGNoYXIqKTsKY29uc3QgY2hhciogICAgcHJvdG9jb2xfc3RyaW5nKE1pbm5ldFByb3RvY29sKTsKdWludDE2X3QgICAgICAgcHJvdG9jb2xfZGVmYXVsdF9wb3J0KE1pbm5ldFByb3RvY29sKTsKQk9PTCAgICAgICAgICAgcHJvdG9jb2xfaXNfdGxzKE1pbm5ldFByb3RvY29sKTsKdm9pZCAgICAgICAgICAgdXJsX2luaXQoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqLCBpbnQgcG9ydCwgY29uc3QgY2hhciogcGF0aCwgSlNDb250ZXh0KiBjdHgpOwp2b2lkICAgICAgICAgICB1cmxfcGFyc2UoTWlubmV0VVJMKiwgY29uc3QgY2hhciosIEpTQ29udGV4dCopOwpNaW5uZXRVUkwgICAgICB1cmxfY3JlYXRlKGNvbnN0IGNoYXIqLCBKU0NvbnRleHQqKTsKc2l6ZV90ICAgICAgICAgdXJsX3ByaW50KGNoYXIqLCBzaXplX3QsIGNvbnN0IE1pbm5ldFVSTCk7CmNoYXIqICAgICAgICAgIHVybF9mb3JtYXQoY29uc3QgTWlubmV0VVJMLCBKU0NvbnRleHQqKTsKc2l6ZV90ICAgICAgICAgdXJsX2xlbmd0aChjb25zdCBNaW5uZXRVUkwpOwp2b2lkICAgICAgICAgICB1cmxfZnJlZShNaW5uZXRVUkwqLCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgdXJsX2ZyZWVfcnQoTWlubmV0VVJMKiwgSlNSdW50aW1lKik7Ck1pbm5ldFByb3RvY29sIHVybF9zZXRfcHJvdG9jb2woTWlubmV0VVJMKiwgY29uc3QgY2hhciopOwp2b2lkICAgICAgICAgICB1cmxfaW5mbyhjb25zdCBNaW5uZXRVUkwsIHN0cnVjdCBsd3NfY2xpZW50X2Nvbm5lY3RfaW5mbyopOwpjaGFyKiAgICAgICAgICB1cmxfbG9jYXRpb24oY29uc3QgTWlubmV0VVJMLCBKU0NvbnRleHQqKTsKY29uc3QgY2hhciogICAgdXJsX3F1ZXJ5KGNvbnN0IE1pbm5ldFVSTCk7CnZvaWQgICAgICAgICAgIHVybF9mcm9tb2JqKE1pbm5ldFVSTCosIEpTVmFsdWVDb25zdCwgSlNDb250ZXh0Kik7CkJPT0wgICAgICAgICAgIHVybF9mcm9tdmFsdWUoTWlubmV0VVJMKiwgSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKdm9pZCAgICAgICAgICAgdXJsX2Zyb213c2koTWlubmV0VVJMKiwgc3RydWN0IGx3cyosIEpTQ29udGV4dCopOwp2b2lkICAgICAgICAgICB1cmxfZHVtcChjb25zdCBjaGFyKiwgTWlubmV0VVJMIGNvbnN0Kik7CkpTVmFsdWUgICAgICAgIHF1ZXJ5X29iamVjdChjb25zdCBjaGFyKiwgSlNDb250ZXh0Kik7CmNoYXIqICAgICAgICAgIHF1ZXJ5X2Zyb20oSlNWYWx1ZUNvbnN0LCBKU0NvbnRleHQqKTsKSlNWYWx1ZSAgICAgICAgbWlubmV0X3VybF93cmFwKEpTQ29udGV4dCosIE1pbm5ldFVSTCopOwpNaW5uZXRVUkwqICAgICB1cmxfbmV3KEpTQ29udGV4dCopOwpKU1ZhbHVlICAgICAgICBtaW5uZXRfdXJsX25ldyhKU0NvbnRleHQqLCBNaW5uZXRVUkwpOwpKU1ZhbHVlICAgICAgICBtaW5uZXRfdXJsX21ldGhvZChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKTsKSlNWYWx1ZSAgICAgICAgbWlubmV0X3VybF9mcm9tKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSAgICAgICAgbWlubmV0X3VybF9pbnNwZWN0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKSlNWYWx1ZSAgICAgICAgbWlubmV0X3VybF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCwgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CmludCAgICAgICAgICAgIG1pbm5ldF91cmxfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKCmV4dGVybiBUSFJFQURfTE9DQUwgSlNDbGFzc0lEIG1pbm5ldF91cmxfY2xhc3NfaWQ7CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCnVybF9wYXRoKGNvbnN0IE1pbm5ldFVSTCB1cmwpIHsKICByZXR1cm4gdXJsLnBhdGg7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTAp1cmxfdmFsaWQoY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiB1cmwuaG9zdCB8fCB1cmwucGF0aDsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRQcm90b2NvbAp1cmxfcHJvdG9jb2woY29uc3QgTWlubmV0VVJMIHVybCkgewogIHJldHVybiBwcm90b2NvbF9udW1iZXIodXJsLnByb3RvY29sKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRVUkwqCnVybF9kdXAoTWlubmV0VVJMKiB1cmwpIHsKICArK3VybC0+cmVmX2NvdW50OwogIHJldHVybiB1cmw7Cn0KCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMCnVybF9jbG9uZShNaW5uZXRVUkwgdXJsLCBKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiAoTWlubmV0VVJMKXsKICAgICAgLnJlZl9jb3VudCA9IDEsCiAgICAgIC5wcm90b2NvbCA9IHVybC5wcm90b2NvbCwKICAgICAgLmhvc3QgPSB1cmwuaG9zdCA/IGpzX3N0cmR1cChjdHgsIHVybC5ob3N0KSA6IDAsCiAgICAgIC5wYXRoID0gdXJsLnBhdGggPyBqc19zdHJkdXAoY3R4LCB1cmwucGF0aCkgOiAwLAogICAgICAucG9ydCA9IHVybC5wb3J0LAogIH07Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZAp1cmxfY29weShNaW5uZXRVUkwqIHVybCwgY29uc3QgTWlubmV0VVJMIG90aGVyLCBKU0NvbnRleHQqIGN0eCkgewogIHVybC0+cHJvdG9jb2wgPSBvdGhlci5wcm90b2NvbDsKICB1cmwtPmhvc3QgPSBvdGhlci5ob3N0ID8ganNfc3RyZHVwKGN0eCwgb3RoZXIuaG9zdCkgOiAwOwogIHVybC0+cGF0aCA9IG90aGVyLnBhdGggPyBqc19zdHJkdXAoY3R4LCBvdGhlci5wYXRoKSA6IDA7CiAgdXJsLT5wb3J0ID0gb3RoZXIucG9ydDsKfQoKc3RhdGljIGNoYXIqCnVybF9zdHJpbmcoTWlubmV0VVJMIGNvbnN0KiB1cmwpIHsKICBzdGF0aWMgY2hhciBidWZbNDA5Nl07CgogIHVybF9wcmludChidWYsIHNpemVvZihidWYpLCAqdXJsKTsKICByZXR1cm4gYnVmOwp9CgppbnQgbWlubmV0X3VybF9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiBtKTsKCnN0YXRpYyBpbmxpbmUgTWlubmV0VVJMKgptaW5uZXRfdXJsX2RhdGEoSlNWYWx1ZUNvbnN0IG9iaikgewogIHJldHVybiBKU19HZXRPcGFxdWUob2JqLCBtaW5uZXRfdXJsX2NsYXNzX2lkKTsKfQoKc3RhdGljIGlubGluZSBNaW5uZXRVUkwqCm1pbm5ldF91cmxfZGF0YTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIG9iaiwgbWlubmV0X3VybF9jbGFzc19pZCk7Cn0KCiNlbmRpZiAvKiBNSU5ORVRfVVJMX0ggKi8KAAAAAAAAAAAkDgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcgYAAAAAAAB9BgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "CMakeLists.txt",
			"settings":
			{
				"buffer_size": 21077,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					9,
					1,
					"insert",
					{
						"characters": "CMAKE_INSTALL_RPA"
					},
					"EgAAAEwkAAAAAAAATSQAAAAAAAAAAAAATSQAAAAAAABNJAAAAAAAABMAAABPUEVOU1NMX0xJQlJBUllfRElSTSQAAAAAAABOJAAAAAAAAAAAAABOJAAAAAAAAE8kAAAAAAAAAAAAAE8kAAAAAAAAUCQAAAAAAAAAAAAAUCQAAAAAAABRJAAAAAAAAAAAAABRJAAAAAAAAFIkAAAAAAAAAAAAAFIkAAAAAAAAUyQAAAAAAAAAAAAAUyQAAAAAAABUJAAAAAAAAAAAAABUJAAAAAAAAFUkAAAAAAAAAAAAAFUkAAAAAAAAViQAAAAAAAAAAAAAViQAAAAAAABXJAAAAAAAAAAAAABXJAAAAAAAAFgkAAAAAAAAAAAAAFgkAAAAAAAAWSQAAAAAAAAAAAAAWSQAAAAAAABaJAAAAAAAAAAAAABaJAAAAAAAAFskAAAAAAAAAAAAAFskAAAAAAAAXCQAAAAAAAAAAAAAXCQAAAAAAABdJAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEwkAAAAAAAAXyQAAAAAAAAAAAAAAADwvw"
				],
				[
					10,
					1,
					"insert",
					{
						"characters": "TH"
					},
					"AgAAAF0kAAAAAAAAXiQAAAAAAAAAAAAAXiQAAAAAAABfJAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF0kAAAAAAAAXSQAAAAAAAAAAAAAAADwvw"
				],
				[
					13,
					1,
					"cut",
					null,
					"AQAAADskAAAAAAAAOyQAAAAAAAAnAAAASU5TVEFMTF9SUEFUSCAiJHtDTUFLRV9JTlNUQUxMX1JQQVRIfSIg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADskAAAAAAAAYiQAAAAAAAAAAAAAAADwvw"
				],
				[
					14,
					2,
					"paste",
					null,
					"AgAAADskAAAAAAAAYiQAAAAAAAAAAAAAYiQAAAAAAACJJAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADskAAAAAAAAOyQAAAAAAAAAAAAAAADwvw"
				],
				[
					19,
					1,
					"insert",
					{
						"characters": "BUILD_RPATH"
					},
					"DAAAAGIkAAAAAAAAYyQAAAAAAAAAAAAAYyQAAAAAAABjJAAAAAAAAA0AAABJTlNUQUxMX1JQQVRIYyQAAAAAAABkJAAAAAAAAAAAAABkJAAAAAAAAGUkAAAAAAAAAAAAAGUkAAAAAAAAZiQAAAAAAAAAAAAAZiQAAAAAAABnJAAAAAAAAAAAAABnJAAAAAAAAGgkAAAAAAAAAAAAAGgkAAAAAAAAaSQAAAAAAAAAAAAAaSQAAAAAAABqJAAAAAAAAAAAAABqJAAAAAAAAGskAAAAAAAAAAAAAGskAAAAAAAAbCQAAAAAAAAAAAAAbCQAAAAAAABtJAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGIkAAAAAAAAbyQAAAAAAAAAAAAAAADwvw"
				],
				[
					24,
					2,
					"left_delete",
					null,
					"AgAAAHgkAAAAAAAAeCQAAAAAAAAGAAAATlNUQUxMdyQAAAAAAAB3JAAAAAAAAAEAAABJ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHgkAAAAAAAAfiQAAAAAAAAAAAAAAADwvw"
				],
				[
					25,
					1,
					"insert",
					{
						"characters": "BZKUI"
					},
					"BQAAAHckAAAAAAAAeCQAAAAAAAAAAAAAeCQAAAAAAAB5JAAAAAAAAAAAAAB5JAAAAAAAAHokAAAAAAAAAAAAAHokAAAAAAAAeyQAAAAAAAAAAAAAeyQAAAAAAAB8JAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHckAAAAAAAAdyQAAAAAAAAAAAAAAADwvw"
				],
				[
					26,
					4,
					"left_delete",
					null,
					"BAAAAHskAAAAAAAAeyQAAAAAAAABAAAASXokAAAAAAAAeiQAAAAAAAABAAAAVXkkAAAAAAAAeSQAAAAAAAABAAAAS3gkAAAAAAAAeCQAAAAAAAABAAAAWg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHwkAAAAAAAAfCQAAAAAAAAAAAAAAADwvw"
				],
				[
					27,
					1,
					"insert",
					{
						"characters": "UILD"
					},
					"BAAAAHgkAAAAAAAAeSQAAAAAAAAAAAAAeSQAAAAAAAB6JAAAAAAAAAAAAAB6JAAAAAAAAHskAAAAAAAAAAAAAHskAAAAAAAAfCQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHgkAAAAAAAAeCQAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADlUQAAY21ha2VfbWluaW11bV9yZXF1aXJlZChWRVJTSU9OIDMuMCkKcHJvamVjdChxanMtbmV0IEMpCgptZXNzYWdlKCJCdWlsZGluZyBwcm9qZWN0IBtbMTszMW0ke1BST0pFQ1RfTkFNRX0bWzBtIikKCnNldChESVNBQkxFX1dFUlJPUiBUUlVFIENBQ0hFIEJPT0wgIkRpc2FibGUgLVdlcnJvciBmbGFnIikKCiNvcHRpb24oQlVJTERfU0hBUkVEX0xJQldFQlNPQ0tFVFMgIlNoYXJlZCBidWlsZGluZyBvZiBkZXBlbmRlbmN5IGxpYnJhcmllcyIgT0ZGKQpvcHRpb24oQlVJTERfTElCV0VCU09DS0VUUyAiaW4tdHJlZSBidWlsZCBvZiBsaWJ3ZWJzb2NrZXRzIiBPTikKb3B0aW9uKERPX1RFU1RTICJQZXJmb3JtIHRlc3RzIiBPTikKb3B0aW9uKFVTRV9DVVJMICJVc2UgY3VybCBmb3IgZmV0Y2goKSIgT0ZGKQppZihVU0VfQ1VSTCkKICBvcHRpb24oQlVJTERfQ1VSTCAiQnVpbGQgY3VybCBsaWJyYXJ5IiAke0xPQ0FMX0NVUkx9KQplbmRpZihVU0VfQ1VSTCkKb3B0aW9uKEJVSUxEX01JTklNQUxfRVhBTVBMRVMgIkJ1aWxkIG1pbmltYWwtZXhhbXBsZXMiIE9GRikKCiNzZXQoQ01BS0VfUE9TSVRJT05fSU5ERVBFTkRFTlRfQ09ERSBPTiBDQUNIRSBCT09MICJQSUMgY29kZSIpCiNzZXQoQlVJTERfU0hBUkVEX0xJQlMgT0ZGIENBQ0hFIEJPT0wgIkJ1aWxkIHNoYXJlZCBsaWJyYXJpZXMiKQoKaWYoVU5JWCBBTkQgTk9UIEFQUExFKQogIGluY2x1ZGUoR05VSW5zdGFsbERpcnMpCmVsc2VpZihOT1QgREVGSU5FRCBDTUFLRV9JTlNUQUxMX0xJQkRJUikKICBzZXQoQ01BS0VfSU5TVEFMTF9MSUJESVIgIiIgQ0FDSEUgUEFUSCAiU3BlY2lmeSB0aGUgb3V0cHV0IGRpcmVjdG9yeSBmb3IgbGlicmFyaWVzIChkZWZhdWx0IGlzIGxpYikiKQplbmRpZigpCgppbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9mdW5jdGlvbnMuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL1VzZU11bHRpQXJjaC5jbWFrZSkKaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvUXVpY2tKU01vZHVsZS5jbWFrZSkKaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZFF1aWNrSlMuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkQ1VSTC5jbWFrZSkKaWYoVVNFX0NVUkwgQU5EIE5PVCBCVUlMRF9DVVJMKQogIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRDVVJMLmNtYWtlKQplbmRpZihVU0VfQ1VSTCBBTkQgTk9UIEJVSUxEX0NVUkwpCgppZihOT1QgQlVJTERfTElCV0VCU09DS0VUUykKICBpbmNsdWRlKEZpbmRaTElCKQplbmRpZihOT1QgQlVJTERfTElCV0VCU09DS0VUUykKCmZpbmRfcXVpY2tqcygpCmNvbmZpZ3VyZV9xdWlja2pzKCkKCmlmKFdJTjMyIE9SIE1JTkdXKQogIHNldChTT0NLRVRfTElCUkFSSUVTIG1zd3NvY2sgd3MyXzMyKQplbmRpZihXSU4zMiBPUiBNSU5HVykKCmlmKFVTRV9DVVJMKQogIGlmKEJVSUxEX0NVUkwpCiAgICBzZXQoTE9DQUxfQ1VSTCBPTikKICBlbHNlKEJVSUxEX0NVUkwpCiAgICBzZXQoTE9DQUxfQ1VSTCBPRkYpCiAgZW5kaWYoQlVJTERfQ1VSTCkKCiAgaWYoTk9UIEJVSUxEX0NVUkwpCiAgICBmaW5kX2N1cmwoKQogIGVuZGlmKE5PVCBCVUlMRF9DVVJMKQoKICBpZihOT1QgQ1VSTF9GT1VORCBPUiBCVUlMRF9DVVJMKQogICAgYnVpbGRfY3VybCgpCiAgZW5kaWYoKQogIG1lc3NhZ2UoU1RBVFVTICJDVVJMIGxpYnJhcnk6ICR7Q1VSTF9MSUJSQVJZfSIpCgogIHNldChDVVJMX0xJQlJBUlkgIiR7Q1VSTF9MSUJSQVJZfSIgQ0FDSEUgUEFUSCAiY3VybCBsaWJyYXJ5IikKCiAgYWRkX2RlZmluaXRpb25zKC1EVVNFX0NVUkwpCmVuZGlmKFVTRV9DVVJMKQoKaW5jbHVkZShDaGVja0NDb21waWxlckZsYWcpCgpjaGVja19jX2NvbXBpbGVyX2ZsYWcoIi1PMCIgT1BUX0NfT1BUX05PTkUpCmlmKE9QVF9DX09QVF9OT05FKQogIGlmKE5PVCAiJHtDTUFLRV9DX0ZMQUdTX0RFQlVHfSIgTUFUQ0hFUyAiLU8wIikKICAgIHNldChDTUFLRV9DX0ZMQUdTX0RFQlVHICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IC1PMCIgQ0FDSEUgU1RSSU5HICJDIGNvbXBpbGVyIG9wdGlvbnMiKQogIGVuZGlmKE5PVCAiJHtDTUFLRV9DX0ZMQUdTX0RFQlVHfSIgTUFUQ0hFUyAiLU8wIikKZW5kaWYoT1BUX0NfT1BUX05PTkUpCmNoZWNrX2NfY29tcGlsZXJfZmxhZygiLWdnZGIiIE9QVF9DX0dfR0RCKQppZihPUFRfQ19HX0dEQikKICBpZihOT1QgIiR7Q01BS0VfQ19GTEFHU19ERUJVR30iIE1BVENIRVMgIi1nZ2RiIikKICAgIHNldChDTUFLRV9DX0ZMQUdTX0RFQlVHICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IC1nZ2RiIiBDQUNIRSBTVFJJTkcgIkMgY29tcGlsZXIgb3B0aW9ucyIpCiAgZW5kaWYoTk9UICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IiBNQVRDSEVTICItZ2dkYiIpCmVuZGlmKE9QVF9DX0dfR0RCKQoKaW5jbHVkZShDaGVja1R5cGVTaXplKQoKaWYoTVNZUyBPUiBNSU5HVyBPUiBDWUdXSU4gT1IgV0lOMzIgT1IgV0lONjQpCiAgY2hlY2tfaW5jbHVkZXMod2luc29jazIuaCkKICBpZihIQVZFX1dJTlNPQ0syX0gpCiAgICBzZXQoQ01BS0VfRVhUUkFfSU5DTFVERV9GSUxFUyB3aW5zb2NrMi5oKQogICAgYWRkX2RlZmluaXRpb25zKC1ESEFWRV9XSU5TT0NLMl9IKQogICAgY2hlY2tfdHlwZV9zaXplKCJzdHJ1Y3QgcG9sbGZkIiBIQVZFX1NUUlVDVF9QT0xMRkQpCiAgICAjbWVzc2FnZSgiSEFWRV9TVFJVQ1RfUE9MTEZEOiAke0hBVkVfU1RSVUNUX1BPTExGRH0iKQogICAgY2hlY2tfdHlwZV9zaXplKFdTQVBPTExGRCBIQVZFX1dTQVBPTExGRCkKICAgICNtZXNzYWdlKCJIQVZFX1dTQVBPTExGRDogJHtIQVZFX1dTQVBPTExGRH0iKQogIGVuZGlmKCkKZW5kaWYoKQoKaWYoTk9UIEJVSUxEX0xJQldFQlNPQ0tFVFMpCiAgaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZExpYndlYnNvY2tldHMuY21ha2UpCiAgZmluZF9saWJ3ZWJzb2NrZXRzKCkKICBpbmNsdWRlX2RpcmVjdG9yaWVzKCR7TElCV0VCU09DS0VUU19JTkNMVURFX0RJUn0gJHtPUEVOU1NMX0lOQ0xVREVfRElSfSkKICBsaW5rX2xpYnJhcmllcygke0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSAke0JST1RMSV9MSUJSQVJJRVN9ICR7WkxJQl9MSUJSQVJZfSAke0NVUkxfTElCUkFSWX0gJHtPUEVOU1NMX0xJQlJBUklFU30pCmVuZGlmKE5PVCBCVUlMRF9MSUJXRUJTT0NLRVRTKQoKaWYoTk9UIExJQldFQlNPQ0tFVFNfRk9VTkQpCiAgc2V0KEJVSUxEX0xJQldFQlNPQ0tFVFMgT04gQ0FDSEUgQk9PTCAiYnVpbGQgM3JkcGFydHkgbGlid2Vic29ja2V0cyIpCmVuZGlmKE5PVCBMSUJXRUJTT0NLRVRTX0ZPVU5EKQoKaWYoQlVJTERfTElCV0VCU09DS0VUUykKCiAgb3B0aW9uKFdJVEhfSFRUUDIgIlVzZSBIVFRQLzIiIE9OKQogIG9wdGlvbihXSVRIX1NTTCAiVXNlIFNTTCIgT04pCiAgb3B0aW9uKFdJVEhfTUJFRFRMUyAiVXNlIE1iZWRUTFMgcmVwbGFjZW1lbnQgZm9yIE9wZW5TU0wiIE9GRikKICBvcHRpb24oV0lUSF9CUk9UTEkgIlVzZSBicm90bGkgSFRUUCBzdHJlYW0gY29tcHJlc3Npb24iIE9OKQoKICBzZXQoTElCV0VCU09DS0VUU19ERVBTICIiKQogIHNldChMSUJXRUJTT0NLRVRTX0NfRkxBR1MgIiR7Q01BS0VfQ19GTEFHU30gLURfR05VX1NPVVJDRSIpCgogIGlmKFdJVEhfTUJFRFRMUykKICAgIHNldChXSVRIX1NTTCBPTikKCiAgICBvcHRpb24oQlVJTERfTUJFRFRMUyAiaW4tdHJlZSBidWlsZCBvZiBNYmVkVExTIiBPRkYpCgogICAgaWYoTk9UIEJVSUxEX01CRURUTFMpCiAgICAgIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRNYmVkVExTLmNtYWtlKQoKICAgICAgZmluZF9tYmVkdGxzKCkKICAgIGVuZGlmKE5PVCBCVUlMRF9NQkVEVExTKQoKICAgIGlmKE5PVCBNQkVEVExTX0ZPVU5EKQogICAgICBzZXQoQlVJTERfTUJFRFRMUyBPTikKICAgIGVuZGlmKE5PVCBNQkVEVExTX0ZPVU5EKQoKICAgIGlmKEJVSUxEX01CRURUTFMpCiAgICAgIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkTWJlZFRMUy5jbWFrZSkKCiAgICAgIHNldChNQkVEVExTX0RFQlVHIE9GRikKICAgICAgc2V0KE1CRURUTFNfU09VUkNFX0RJUiAiJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L21iZWR0bHMiKQogICAgICBzZXQoTUJFRFRMU19DX0ZMQUdTICIke0NNQUtFX0NfRkxBR1N9IikKICAgICAgc2V0KE1CRURUTFNfVEFSR0VUX05BTUUgbGlibWJlZHRscykKCiAgICAgIGJ1aWxkX21iZWR0bHMoKQoKICAgICAgbGlzdChBUFBFTkQgTElCV0VCU09DS0VUU19ERVBTICR7TUJFRFRMU19UQVJHRVRfTkFNRX0pCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0NfRkxBR1MgIi1JJHtNQkVEVExTX0lOQ0xVREVfRElSfSAke0xJQldFQlNPQ0tFVFNfQ19GTEFHU30iKQogICAgZW5kaWYoQlVJTERfTUJFRFRMUykKICBlbmRpZihXSVRIX01CRURUTFMpCiAgaWYoV0lUSF9TU0wgQU5EIE5PVCBXSVRIX01CRURUTFMpCgogICAgaWYoT1BFTlNTTF9ST09UX0RJUikKICAgICAgbGlzdChBUFBFTkQgQ01BS0VfUFJFRklYX1BBVEggIiR7T1BFTlNTTF9ST09UX0RJUn0iKQogICAgZW5kaWYoT1BFTlNTTF9ST09UX0RJUikKCiAgICBpZihOT1QgT1BFTlNTTF9MSUJSQVJJRVMpCgogICAgICBpbmNsdWRlKEZpbmRPcGVuU1NMKQogICAgICAjW1tpZihOT1QgUEtHX0NPTkZJR19GT1VORCkKICAgICAgICBpbmNsdWRlKEZpbmRQa2dDb25maWcpCiAgICAgIGVuZGlmKE5PVCBQS0dfQ09ORklHX0ZPVU5EKQogICAgICBwa2dfY2hlY2tfbW9kdWxlcyhPUEVOU1NMIG9wZW5zc2wpCiAgICAgICNmaW5kX3BhY2thZ2UoT3BlblNTTCBSRVFVSVJFRCkKICAgICAgI3BrZ19zZWFyY2hfbW9kdWxlKE9QRU5TU0wgb3BlbnNzbCkKXV0KCiAgICBlbmRpZihOT1QgT1BFTlNTTF9MSUJSQVJJRVMpCiAgZW5kaWYoV0lUSF9TU0wgQU5EIE5PVCBXSVRIX01CRURUTFMpCgogIGlmKFdJVEhfQlJPVExJKQogICAgb3B0aW9uKEJVSUxEX0JST1RMSSAiaW4tdHJlZSBidWlsZCBvZiBicm90bGkiIE9GRikKCiAgICBpZihOT1QgQlVJTERfQlJPVExJKQogICAgICBpbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9GaW5kQnJvdGxpLmNtYWtlKQoKICAgICAgZmluZF9icm90bGkoKQogICAgZW5kaWYoTk9UIEJVSUxEX0JST1RMSSkKCiAgICBpZihOT1QgQlJPVExJX0ZPVU5EKQogICAgICBzZXQoQlVJTERfQlJPVExJIE9OKQogICAgZW5kaWYoTk9UIEJST1RMSV9GT1VORCkKCiAgICBpZihCVUlMRF9CUk9UTEkpCiAgICAgIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkQnJvdGxpLmNtYWtlKQoKICAgICAgc2V0KEJST1RMSV9ERUJVRyBPRkYpCiAgICAgIHNldChCUk9UTElfQ19GTEFHUyAiJHtDTUFLRV9DX0ZMQUdTfSIpCiAgICAgIHNldChCUk9UTElfVEFSR0VUX05BTUUgbGliYnJvdGxpKQoKICAgICAgYnVpbGRfYnJvdGxpKCkKICAgICAgbGlzdChBUFBFTkQgTElCV0VCU09DS0VUU19ERVBTICR7QlJPVExJX1RBUkdFVF9OQU1FfSkKICAgICAgc2V0KExJQldFQlNPQ0tFVFNfQ19GTEFHUyAiLUkke0JST1RMSV9JTkNMVURFX0RJUn0gJHtMSUJXRUJTT0NLRVRTX0NfRkxBR1N9IikKICAgIGVuZGlmKEJVSUxEX0JST1RMSSkKICBlbmRpZihXSVRIX0JST1RMSSkKCiAgaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvQnVpbGRMaWJ3ZWJzb2NrZXRzLmNtYWtlKQoKICBpbmNsdWRlKEZpbmRaTElCKQoKICBidWlsZF9saWJ3ZWJzb2NrZXRzKCkKCiAgaWYoVEFSR0VUIGxpYm1iZWR0bHMpCiAgICAjRXh0ZXJuYWxQcm9qZWN0X0FkZF9TdGVwRGVwZW5kZW5jaWVzKGxpYndlYnNvY2tldHMgY29uZmlndXJlIGxpYm1iZWR0bHMpCiAgICAjYWRkX2RlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGxpYm1iZWR0bHMpCiAgZW5kaWYoVEFSR0VUIGxpYm1iZWR0bHMpCiAgaWYoVEFSR0VUIGxpYmJyb3RsaSkKICAgIEV4dGVybmFsUHJvamVjdF9BZGRfU3RlcERlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGNvbmZpZ3VyZSBsaWJicm90bGkpCiAgICAjYWRkX2RlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGxpYmJyb3RsaSkKICBlbmRpZihUQVJHRVQgbGliYnJvdGxpKQplbHNlKEJVSUxEX0xJQldFQlNPQ0tFVFMpCiAgaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZEJyb3RsaS5jbWFrZSkKCiAgZmluZF9icm90bGkoKQogIGlmKFdJTjMyKQogICAgbGlua19saWJyYXJpZXMoY3J5cHQzMiBpcGhscGFwaSkKICBlbmRpZihXSU4zMikKZW5kaWYoQlVJTERfTElCV0VCU09DS0VUUykKCmlmKE9QRU5TU0xfSU5DTFVERV9ESVIgQU5EIE5PVCBPUEVOU1NMX0xJQlJBUllfRElSKQogIHN0cmluZyhSRUdFWCBSRVBMQUNFICIvaW5jbHVkZSIgIi9saWIiIE9QRU5TU0xfTElCUkFSWV9ESVIgIiR7T1BFTlNTTF9JTkNMVURFX0RJUn0iKQoKICAjc2V0KENNQUtFX0lOU1RBTExfUlBBVEggIiR7T1BFTlNTTF9MSUJSQVJZX0RJUn0iKQplbmRpZigpCgojaWYoT1BFTlNTTF9MSUJSQVJJRVMgQU5EIE5PVCBPUEVOU1NMX0xJQlJBUllfRElSKQppZihPUEVOU1NMX0xJQlJBUklFUyBNQVRDSEVTICIvbGliLy4qIikKICBzdHJpbmcoUkVHRVggUkVQTEFDRSAiL2xpYi8uKiIgIi9saWIiIE9QRU5TU0xfTElCUkFSWV9ESVIgIiR7T1BFTlNTTF9MSUJSQVJJRVN9IikKZW5kaWYoT1BFTlNTTF9MSUJSQVJJRVMgTUFUQ0hFUyAiL2xpYi8uKiIpCgpzZXQoT1BFTlNTTF9MSUJSQVJZX0RJUiAiJHtPUEVOU1NMX0xJQlJBUllfRElSfSIgQ0FDSEUgUEFUSCAiT3BlblNTTCBsaWJyYXJ5IGRpcmVjdG9yeSIpCiNzZXQoQ01BS0VfSU5TVEFMTF9SUEFUSCAiJHtPUEVOU1NMX0xJQlJBUllfRElSfSIpCiNlbmRpZigpCmlmKE9QRU5TU0xfTElCUkFSWV9ESVIpCiAgcnBhdGhfYXBwZW5kKENNQUtFX0lOU1RBTExfUlBBVEggIiR7T1BFTlNTTF9MSUJSQVJZX0RJUn0iKQplbmRpZihPUEVOU1NMX0xJQlJBUllfRElSKQoKaWYoQ01BS0VfSU5TVEFMTF9SUEFUSCkKICBzZXQoQ01BS0VfQlVJTERfUlBBVEggIiR7Q01BS0VfSU5TVEFMTF9SUEFUSH0iKQplbmRpZihDTUFLRV9JTlNUQUxMX1JQQVRIKQoKY2hlY2tfZnVuY3Rpb25zKHN0cmxjcHkgcG9sbCkKCmlmKEhBVkVfU1RSTENQWSkKICBhZGRfZGVmaW5pdGlvbnMoLURIQVZFX1NUUkxDUFkpCmVuZGlmKEhBVkVfU1RSTENQWSkKaWYoSEFWRV9QT0xMKQogIGFkZF9kZWZpbml0aW9ucygtREhBVkVfUE9MTCkKZW5kaWYoSEFWRV9QT0xMKQoKaWYoVVNFX0NVUkwpCiAgbGlua19kaXJlY3Rvcmllcygke0NVUkxfTElCUkFSWV9ESVJ9KQogIGluY2x1ZGVfZGlyZWN0b3JpZXMoJHtDVVJMX0lOQ0xVREVfRElSfSkKZW5kaWYoVVNFX0NVUkwpCgpsaW5rX2RpcmVjdG9yaWVzKCR7UVVJQ0tKU19MSUJSQVJZX0RJUn0gJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfSAke09QRU5TU0xfTElCUkFSWV9ESVJ9ICR7TUJFRFRMU19MSUJSQVJZX0RJUn0pCmluY2x1ZGVfZGlyZWN0b3JpZXMoJHtRVUlDS0pTX0lOQ0xVREVfRElSfSAke0xJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVJ9ICR7T1BFTlNTTF9JTkNMVURFX0RJUn0gJHtNQkVEVExTX0lOQ0xVREVfRElSfSkKCmZpbGUoR0xPQiBKU19CSU5ESU5HU19TT1VSQ0VTICouYyAqLmgpCmxpc3QoRklMVEVSIEpTX0JJTkRJTkdTX1NPVVJDRVMgRVhDTFVERSBSRUdFWCAiLiotcGx1Z2luLS4qIikKCnNldChDTUFLRV9QT1NJVElPTl9JTkRFUEVOREVOVF9DT0RFIE9OKQpzdHJpbmcoQVNDSUkgMjcgRVNDKQoKZnVuY3Rpb24oRFVNUF9UQVJHRVQgVEFSR0VUKQogIGZvcmVhY2goUFJPUCBCSU5BUllfRElSIEJVSUxEX1JQQVRIIENPTVBJTEVfREVGSU5JVElPTlMgQ09NUElMRV9GTEFHUyBJTkNMVURFX0RJUkVDVE9SSUVTIElOVEVSRkFDRV9MSU5LX0RJUkVDVE9SSUVTIElOVEVSRkFDRV9MSU5LX0xJQlJBUklFUyBMSU5LX0RJUkVDVE9SSUVTIExJTktfTElCUkFSSUVTCiAgICAgICAgICAgICAgIE1BTlVBTExZX0FEREVEX0RFUEVOREVOQ0lFUyBOQU1FIE9VVFBVVF9OQU1FIFBDSF9XQVJOX0lOVkFMSUQgUE9TSVRJT05fSU5ERVBFTkRFTlRfQ09ERSBTT1VSQ0VfRElSIFNPVVJDRVMgVFlQRSkKICAgIGdldF90YXJnZXRfcHJvcGVydHkoVkFMVUUgIiR7VEFSR0VUfSIgIiR7UFJPUH0iKQogICAgaWYoVkFMVUUpCiAgICAgIG1lc3NhZ2UoIiR7RVNDfVsxOzMzbSR7VEFSR0VUfSAke0VTQ31bMTszMW0ke1BST1B9ID0gJHtFU0N9WzE7MzZtJyR7VkFMVUV9JyR7RVNDfVswbSIpCiAgICBlbmRpZihWQUxVRSkKICBlbmRmb3JlYWNoKCkKZW5kZnVuY3Rpb24oRFVNUF9UQVJHRVQgVEFSR0VUKQoKaWYoV0lOMzIpCiAgYWRkX2xpYnJhcnkocXVpY2tqcy1taW5uZXQgTU9EVUxFICR7SlNfQklORElOR1NfU09VUkNFU30pCmVsc2UoV0lOMzIpCiAgYWRkX2xpYnJhcnkocXVpY2tqcy1taW5uZXQgU0hBUkVEICR7SlNfQklORElOR1NfU09VUkNFU30pCmVuZGlmKFdJTjMyKQoKaWYoQlVJTERfTElCV0VCU09DS0VUUykKICBhZGRfZGVwZW5kZW5jaWVzKHF1aWNranMtbWlubmV0IGxpYndlYnNvY2tldHMpCmVuZGlmKEJVSUxEX0xJQldFQlNPQ0tFVFMpCgojc2V0KENNQUtFX1NIQVJFRF9MSU5LRVJfRkxBR1MgIi1XbCwtcnBhdGg9JHtDTUFLRV9JTlNUQUxMX1JQQVRIfToke0NVUkxfTElCUkFSWV9ESVJ9IikKCnNldChPUEVOU1NMX0xJQlJBUklFUyAiJHtPUEVOU1NMX1NTTF9MSUJSQVJZfTske09QRU5TU0xfQ1JZUFRPX0xJQlJBUll9IiBDQUNIRSBTVFJJTkcgIk9wZW5TU0wgbGlicmFyaWVzIikKCmlmKFVTRV9DVVJMKQogIHRhcmdldF9pbmNsdWRlX2RpcmVjdG9yaWVzKHF1aWNranMtbWlubmV0IFBSSVZBVEUgJHtDVVJMX0lOQ0xVREVfRElSfSkKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1taW5uZXQgJHtDVVJMX0xJQlJBUll9KQplbmRpZihVU0VfQ1VSTCkKCmxpc3QoQVBQRU5EIE9QRU5TU0xfTElCUkFSSUVTIHB0aHJlYWQgZGwpCgptYWNybyhUQVJHRVRfTElOSyBUQVJHRVQpCiAgc2V0KE9VVFBVVF9OQU1FICR7QVJHTn0pCiAgdGFyZ2V0X2luY2x1ZGVfZGlyZWN0b3JpZXMoJHtUQVJHRVR9IFBSSVZBVEUgJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSkKICBzZXRfdGFyZ2V0X3Byb3BlcnRpZXMoCiAgICAke1RBUkdFVH0gUFJPUEVSVElFUyBJTlNUQUxMX1JQQVRIICIke0NNQUtFX0lOU1RBTExfUlBBVEh9IiBCVUlMRF9SUEFUSCAiJHtDTUFLRV9CVUlMRF9SUEFUSH0iIENPTVBJTEVfRkxBR1MgIi1mdmlzaWJpbGl0eT1oaWRkZW4iIExJTktfRElSRUNUT1JJRVMgIiR7TElCV0VCU09DS0VUU19MSUJSQVJZX0RJUn07JHtPUEVOU1NMX0xJQlJBUllfRElSfTske01CRURUTFNfTElCUkFSWV9ESVJ9IgogICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJGQUNFX0xJTktfRElSRUNUT1JJRVMgIiR7TElCV0VCU09DS0VUU19MSUJSQVJZX0RJUn07JHtPUEVOU1NMX0xJQlJBUllfRElSfTske01CRURUTFNfTElCUkFSWV9ESVJ9IiBQUkVGSVggIiIpCgogIGlmKE9VVFBVVF9OQU1FKQogICAgc2V0X3RhcmdldF9wcm9wZXJ0aWVzKCR7VEFSR0VUfSBQUk9QRVJUSUVTIE9VVFBVVF9OQU1FICIke09VVFBVVF9OQU1FfSIpCiAgZW5kaWYoT1VUUFVUX05BTUUpCiAgdGFyZ2V0X2NvbXBpbGVfZGVmaW5pdGlvbnMoJHtUQVJHRVR9IFBSSVZBVEUgLURKU19TSEFSRURfTElCUkFSWT0xIC1ESlNfQklORElOR1NfSU5JVF9NT0RVTEU9MSkKCiAgaWYoRVhJU1RTICIke0xJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVJ9IikKICAgIHRhcmdldF9saW5rX2RpcmVjdG9yaWVzKCR7VEFSR0VUfSBQVUJMSUMgJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfSkKICBlbmRpZihFWElTVFMgIiR7TElCV0VCU09DS0VUU19MSUJSQVJZX0RJUn0iKQoKICB0YXJnZXRfbGlua19kaXJlY3Rvcmllcygke1RBUkdFVH0gUFVCTElDICR7UVVJQ0tKU19MSUJSQVJZX0RJUn0gJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfSkKCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKCR7VEFSR0VUfSAke1FVSUNLSlNfTElCUkFSWX0gJHtMSUJXRUJTT0NLRVRTX0xJQlJBUklFU30gJHtNQkVEVExTX0xJQlJBUklFU30gJHtPUEVOU1NMX0xJQlJBUklFU30gJHtTT0NLRVRfTElCUkFSSUVTfSAke0JST1RMSV9MSUJSQVJJRVN9ICR7WkxJQl9MSUJSQVJZfSkKZW5kbWFjcm8oVEFSR0VUX0xJTksgVEFSR0VUKQoKdGFyZ2V0X2xpbmsocXVpY2tqcy1taW5uZXQgbmV0KQoKbWVzc2FnZSgKICAiTGlicmFyeSBkaXJlY3RvcmllczpcblwKICBsaWJ3ZWJzb2NrZXRzIC0gJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfVxuXAogIG1iZWR0bHMgLSAke01CRURUTFNfTElCUkFSWV9ESVJ9XG5cCiAgY3VybCAtICR7Q1VSTF9MSUJSQVJZX0RJUn1cblwKICBvcGVuc3NsIC0gJHtPUEVOU1NMX0xJQlJBUllfRElSfVxuXAoiKQoKbWVzc2FnZSgKICAiSW5jbHVkZSBkaXJlY3RvcmllczpcblwKICBsaWJ3ZWJzb2NrZXRzIC0gJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfVxuXAogIG1iZWR0bHMgLSAke01CRURUTFNfSU5DTFVERV9ESVJ9XG5cCiAgY3VybCAtICR7Q1VSTF9JTkNMVURFX0RJUn1cblwKICBvcGVuc3NsIC0gJHtPUEVOU1NMX0lOQ0xVREVfRElSfVxuXAoiKQoKbWVzc2FnZSgKICAiTGlicmFyaWVzOlxuXAogIGxpYndlYnNvY2tldHMgLSAke0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfVxuXAogIG1iZWR0bHMgLSAke01CRURUTFNfTElCUkFSSUVTfVxuXAogIGN1cmwgLSAke0NVUkxfTElCUkFSWX1cblwKICBvcGVuc3NsIC0gJHtPUEVOU1NMX1NTTF9MSUJSQVJZfSAke09QRU5TU0xfQ1JZUFRPX0xJQlJBUll9XG5cCiIpCgppZihOT1QgUVVJQ0tKU19DX01PRFVMRV9ESVIpCiAgc2V0KFFVSUNLSlNfQ19NT0RVTEVfRElSICIke0NNQUtFX0lOU1RBTExfUFJFRklYfS8ke0NNQUtFX0lOU1RBTExfTElCRElSfS9xdWlja2pzIikKZW5kaWYoTk9UIFFVSUNLSlNfQ19NT0RVTEVfRElSKQoKaW5zdGFsbChUQVJHRVRTIHF1aWNranMtbWlubmV0IERFU1RJTkFUSU9OICIke1FVSUNLSlNfQ19NT0RVTEVfRElSfSIgUEVSTUlTU0lPTlMgT1dORVJfRVhFQ1VURSBPV05FUl9XUklURSBPV05FUl9SRUFEIEdST1VQX0VYRUNVVEUgR1JPVVBfUkVBRCBXT1JMRF9SRUFEIFdPUkxEX0VYRUNVVEUpCmluc3RhbGwoRklMRVMgJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L3JwYy5qcyBERVNUSU5BVElPTiAiJHtRVUlDS0pTX0pTX01PRFVMRV9ESVJ9IikKI2R1bXBfdGFyZ2V0KHF1aWNranMtbWlubmV0KQoKZmlsZShHTE9CIFRFU1RTIHRlc3RzL3Rlc3QtKi5qcykKCnJlbGF0aXZlX3BhdGgoVEVTVFMgIiR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfSIgJHtURVNUU30pCgppZihET19URVNUUykKICBzZXQoTU9EVUxFX1BBVEggIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfTske0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0iKQogIHNldChFTlZ7UVVJQ0tKU19NT0RVTEVfUEFUSH0gIiR7TU9EVUxFX1BBVEh9IikKCiAgaW5jbHVkZShDVGVzdCkKCiAgZm9yZWFjaChURVNUICR7VEVTVFN9KQogICAgYmFzZW5hbWUoQkFTRSAiJHtURVNUfSIpCiAgICBzdHJpbmcoUkVQTEFDRSAidGVzdF8iICIiIE5BTUUgIiR7QkFTRX0iKQogICAgYWRkX3Rlc3QoTkFNRSAiJHtCQVNFfSIgQ09NTUFORCBlbnYgIlFVSUNLSlNfTU9EVUxFX1BBVEg9JHtNT0RVTEVfUEFUSH0iICIke1FKU30iIC0tYmlnbnVtICIke1RFU1R9IiBXT1JLSU5HX0RJUkVDVE9SWSAiJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9IikKCiAgZW5kZm9yZWFjaChURVNUICR7VEVTVFN9KQoKICBhZGRfY3VzdG9tX3RhcmdldChkb190ZXN0cyBDT01NQU5EICIke0NNQUtFX0NPTU1BTkR9IiAtLWJ1aWxkICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0iIC0tdGFyZ2V0ICJ0ZXN0IiBDT01NRU5UICJEbyBhbGwgdGVzdHMiKQplbmRpZihET19URVNUUykKCmluc3RhbGwoRklMRVMgd3NjbGkuanMgREVTVElOQVRJT04gYmluIFBFUk1JU1NJT05TIE9XTkVSX0VYRUNVVEUgT1dORVJfV1JJVEUgT1dORVJfUkVBRCBHUk9VUF9FWEVDVVRFIEdST1VQX1JFQUQpCgppZihCVUlMRF9NSU5JTUFMX0VYQU1QTEVTKQogICMgIGZpbGUoR0xPQiBNSU5JTUFMX0VYQU1QTEVTIGxpYndlYnNvY2tldHMvbWluaW1hbC1leGFtcGxlcy8qLyovbWluaW1hbCouYykKICBzZXQoTUlOSU1BTF9FWEFNUExFUwogICAgICBjbGllbnQtc2VydmVyL21pbmltYWwtd3MtcHJveHkvbWluaW1hbC13cy1wcm94eS5jCiAgICAgIGh0dHAtY2xpZW50L21pbmltYWwtaHR0cC1jbGllbnQtYXR0YWNoL21pbmltYWwtaHR0cC1jbGllbnQtYXR0YWNoLmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1jYXB0aXZlLXBvcnRhbC9taW5pbWFsLWh0dHAtY2xpZW50LWNhcHRpdmUtcG9ydGFsLmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1jZXJ0aW5mby9taW5pbWFsLWh0dHAtY2xpZW50LWNlcnRpbmZvLmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1jdXN0b20taGVhZGVycy9taW5pbWFsLWh0dHAtY2xpZW50LWN1c3RvbS1oZWFkZXJzLmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1oMi1yeGZsb3cvbWluaW1hbC1odHRwLWNsaWVudC5jCiAgICAgIGh0dHAtY2xpZW50L21pbmltYWwtaHR0cC1jbGllbnQtaHVnZXVybC9taW5pbWFsLWh0dHAtY2xpZW50LWh1Z2V1cmwuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LWppdC10cnVzdC9taW5pbWFsLWh0dHAtY2xpZW50LmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1tdWx0aS9taW5pbWFsLWh0dHAtY2xpZW50LW11bHRpLmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1wb3N0L21pbmltYWwtaHR0cC1jbGllbnQtcG9zdC5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItYmFzaWNhdXRoL21pbmltYWwtaHR0cC1zZXJ2ZXItYmFzaWNhdXRoLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1jZ2kvbWluaW1hbC1odHRwLXNlcnZlci5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItY3VzdG9tLWhlYWRlcnMvbWluaW1hbC1odHRwLXNlcnZlci1jdXN0b20taGVhZGVycy5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZGVhZGRyb3AvbWluaW1hbC1odHRwLXNlcnZlci1kZWFkZHJvcC5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZHluYW1pYy9taW5pbWFsLWh0dHAtc2VydmVyLWR5bmFtaWMuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWV2ZW50bGliLWN1c3RvbS9taW5pbWFsLWh0dHAtc2VydmVyLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi1kZW1vcy9taW5pbWFsLWh0dHAtc2VydmVyLWV2ZW50bGliLWRlbW9zLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi1mb3JlaWduL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWItZm9yZWlnbi5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWIvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWItc21wL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWItc21wLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1mb3JtLWdldC9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tZ2V0LmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1mb3JtLXBvc3QtZmlsZS9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC1maWxlLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1mb3JtLXBvc3QtbHdzYWMvbWluaW1hbC1odHRwLXNlcnZlci1mb3JtLXBvc3QuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZnVsbHRleHQtc2VhcmNoL21pbmltYWwtaHR0cC1zZXJ2ZXIuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWgyLWxvbmctcG9sbC9taW5pbWFsLWh0dHAtc2VydmVyLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1taW1ldHlwZXMvbWluaW1hbC1odHRwLXNlcnZlci1taW1ldHlwZXMuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXIuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLW11bHRpdmhvc3QvbWluaW1hbC1odHRwLXNlcnZlci5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItcHJveHkvbWluaW1hbC1odHRwLXNlcnZlci1wcm94eS5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItc21wL21pbmltYWwtaHR0cC1zZXJ2ZXItc21wLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1zc2UvbWluaW1hbC1odHRwLXNlcnZlci1zc2UuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLXNzZS1yaW5nL21pbmltYWwtaHR0cC1zZXJ2ZXItc3NlLXJpbmcuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLXRscy04MC9taW5pbWFsLWh0dHAtc2VydmVyLXRscy04MC5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzLW1lbS9taW5pbWFsLWh0dHAtc2VydmVyLXRscy1tZW0uYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLXRscy9taW5pbWFsLWh0dHAtc2VydmVyLXRscy5jCiAgICAgIG1xdHQtY2xpZW50L21pbmltYWwtbXF0dC1jbGllbnQvbWluaW1hbC1tcXR0LWNsaWVudC5jCiAgICAgIG1xdHQtY2xpZW50L21pbmltYWwtbXF0dC1jbGllbnQtbXVsdGkvbWluaW1hbC1tcXR0LWNsaWVudC1tdWx0aS5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1hZG9wdC10Y3AvbWluaW1hbC1yYXctYWRvcHQtdGNwLmMKICAgICAgcmF3L21pbmltYWwtcmF3LWFkb3B0LXVkcC9taW5pbWFsLXJhdy1hZG9wdC11ZHAuYwogICAgICByYXcvbWluaW1hbC1yYXctZmFsbGJhY2staHR0cC1zZXJ2ZXIvbWluaW1hbC1yYXctZmFsbGJhY2staHR0cC1zZXJ2ZXIuYwogICAgICByYXcvbWluaW1hbC1yYXctZmlsZS9taW5pbWFsLXJhdy1maWxlLmMKICAgICAgcmF3L21pbmltYWwtcmF3LW5ldGNhdC9taW5pbWFsLXJhdy1uZXRjYXQuYwogICAgICByYXcvbWluaW1hbC1yYXctcHJveHktZmFsbGJhY2svbWluaW1hbC1yYXctcHJveHktZmFsbGJhY2suYwogICAgICByYXcvbWluaW1hbC1yYXctcHJveHkvbWluaW1hbC1yYXctcHJveHkuYwogICAgICByYXcvbWluaW1hbC1yYXctc2VyaWFsL21pbmltYWwtcmF3LWZpbGUuYwogICAgICByYXcvbWluaW1hbC1yYXctdmhvc3QvbWluaW1hbC1yYXctdmhvc3QuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLWJsb2IvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtY2xpZW50LXR4L21pbmltYWwtc2VjdXJlLXN0cmVhbXMtY2xpZW50LXR4LmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1odWdldXJsL21pbmltYWwtc2VjdXJlLXN0cmVhbXMuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLW1ldGFkYXRhL21pbmltYWwtc2VjdXJlLXN0cmVhbXMuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXBlcmYvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtcG9saWN5MmMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtcG9zdC9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXBvc3QuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXNlcS9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1zbWQvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1zbWQuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXN0YXRpY3BvbGljeS9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1zdHJlc3MvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtdGVzdHNmYWlsL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtdGVzdHNmYWlsLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy10aHJlYWRzL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtdGhyZWFkcy5jCiAgICAgIHdzLWNsaWVudC9taW5pbWFsLXdzLWNsaWVudC1lY2hvL21pbmltYWwtd3MtY2xpZW50LWVjaG8uYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQuYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQtcGluZy9taW5pbWFsLXdzLWNsaWVudC1waW5nLmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LXBtZC1idWxrL21pbmltYWwtd3MtY2xpZW50LXBtZC1idWxrLmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LXJ4L21pbmltYWwtd3MtY2xpZW50LmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LXNwYW0vbWluaW1hbC13cy1jbGllbnQtc3BhbS5jCiAgICAgIHdzLWNsaWVudC9taW5pbWFsLXdzLWNsaWVudC1zcGFtLXR4LXJ4L21pbmltYWwtd3MtY2xpZW50LmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LXR4L21pbmltYWwtd3MtY2xpZW50LmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3MtYnJva2VyL21pbmltYWwtd3MtYnJva2VyLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3MtcmF3LXByb3h5L21pbmltYWwtd3MtcmF3LXByb3h5LmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLWVjaG8vbWluaW1hbC13cy1zZXJ2ZXItZWNoby5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci1wbWQtYnVsay9taW5pbWFsLXdzLXNlcnZlci1wbWQtYnVsay5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci1wbWQtY29ybmVyL21pbmltYWwtd3Mtc2VydmVyLXBtZC1jb3JuZXIuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1zZXJ2ZXItcG1kL21pbmltYWwtd3Mtc2VydmVyLXBtZC5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci1yaW5nL21pbmltYWwtd3Mtc2VydmVyLXJpbmcuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1zZXJ2ZXItdGhyZWFkcG9vbC9taW5pbWFsLXdzLXNlcnZlci10aHJlYWRwb29sLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXRocmVhZHMtZm9yZWlnbi1saWJ1di1zbXAvbWluaW1hbC13cy1zZXJ2ZXIuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1zZXJ2ZXItdGhyZWFkcy9taW5pbWFsLXdzLXNlcnZlci5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci10aHJlYWRzLXNtcC9taW5pbWFsLXdzLXNlcnZlci5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci10aW1lci9taW5pbWFsLXdzLXNlcnZlci5jKQogIGxpc3QoRklMVEVSIE1JTklNQUxfRVhBTVBMRVMgRVhDTFVERSBSRUdFWCAiKGxpYnV2fGRidXN8c2VjdXJlLnN0cmVhbXN8dGhyZWFkfG1xdHR8aml0fGZ1bGx0ZXh0fGV2ZW50bGliKSIpCiAgc2V0KEVYQU1QTEVTX1NPVVJDRV9ESVIgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9taW5pbWFsLWV4YW1wbGVzIikKICBtYWtlX2RpcmVjdG9yeSgiJHtFWEFNUExFU19TT1VSQ0VfRElSfSIpCiAgZmlsZShSRUxBVElWRV9QQVRIIEVYQU1QTEVTX1JFTEFUSVZFX0RJUiAiJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9IiAiJHtFWEFNUExFU19TT1VSQ0VfRElSfSIpCgogIGZpbmRfcHJvZ3JhbShDTEFOR19GT1JNQVQgY2xhbmctZm9ybWF0KQoKICBmb3JlYWNoKE1JTklNQUxfRVhBTVBMRSAke01JTklNQUxfRVhBTVBMRVN9KQoKICAgIHNldChTT1VSQ0UgImxpYndlYnNvY2tldHMvbWluaW1hbC1leGFtcGxlcy8ke01JTklNQUxfRVhBTVBMRX0iKQogICAgI21lc3NhZ2UoIlNPVVJDRToiICR7U09VUkNFfSkKICAgIGRpcm5hbWUoRElSICIke1NPVVJDRX0iKQogICAgI21lc3NhZ2UoIkRJUjoiICR7RElSfSkKICAgIGZpbGUoR0xPQiBTT1VSQ0VTICR7RElSfS8qLiopCgogICAgYmFzZW5hbWUoRVhBTVBMRSAiJHtESVJ9IikKICAgICNtZXNzYWdlKCJFWEFNUExFOiIgJHtFWEFNUExFfSkKCiAgICBpZihFWElTVFMgIiR7RElSfS9tb3VudC1vcmlnaW4iKQogICAgICBzZXQoTU9VTlRfRElSICIke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vJHtESVJ9L21vdW50LW9yaWdpbiIpCiAgICBlbmRpZihFWElTVFMgIiR7RElSfS9tb3VudC1vcmlnaW4iKQoKICAgIGZvcmVhY2goU1JDICR7U09VUkNFU30pCiAgICAgIGJhc2VuYW1lKEJBU0UgIiR7U1JDfSIpCiAgICAgIHNldChHRU5FUkFURURfU09VUkNFICIke0VYQU1QTEVTX1NPVVJDRV9ESVJ9LyR7QkFTRX0iKQogICAgICBpZigiJHtTUkN9IiBNQVRDSEVTICJtaW5pbWFsLVteL1xcXFxdKlxcLltjaF0kIikKICAgICAgICBzZXQoR0VORVJBVEVEX1NPVVJDRSAiJHtFWEFNUExFU19TT1VSQ0VfRElSfS8ke0VYQU1QTEV9LmMiKQogICAgICBlbmRpZigiJHtTUkN9IiBNQVRDSEVTICJtaW5pbWFsLVteL1xcXFxdKlxcLltjaF0kIikKCiAgICAgIGlmKE5PVCBFWElTVFMgIiR7R0VORVJBVEVEX1NPVVJDRX0iKQogICAgICAgIG1lc3NhZ2UoIlNSQzoiICR7U1JDfSkKCiAgICAgICAgaWYoIiR7U1JDfSIgTUFUQ0hFUyAiXFwuW2NoXSQiKQogICAgICAgICAgZXhlY19wcm9ncmFtKCR7Q0xBTkdfRk9STUFUfSBBUkdTIC1zdHlsZT1maWxlICR7U1JDfSBPVVRQVVRfVkFSSUFCTEUgRVhBTVBMRV9TT1VSQ0UpCiAgICAgICAgICAjc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi0xMDB5LmNlcnQiICItMTAweS5jcnQiIEVYQU1QTEVfU09VUkNFICIke0VYQU1QTEVfU09VUkNFfSIpCiAgICAgICAgICAjc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi0xMDB5IiAiIiBFWEFNUExFX1NPVVJDRSAiJHtFWEFNUExFX1NPVVJDRX0iKQogICAgICAgICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIlwibG9jYWxob3N0LTEwMHkiICJcIiR7RVhBTVBMRVNfU09VUkNFX0RJUn0vbG9jYWxob3N0LTEwMHkiIEVYQU1QTEVfU09VUkNFICIke0VYQU1QTEVfU09VUkNFfSIpCiAgICAgICAgICBzdHJpbmcoUkVHRVggUkVQTEFDRSAiXCIuL21vdW50LW9yaWdpblwiIiAiXCIke01PVU5UX0RJUn1cIiIgRVhBTVBMRV9TT1VSQ0UgIiR7RVhBTVBMRV9TT1VSQ0V9IikKCiAgICAgICAgICBmaWxlKFdSSVRFICIke0dFTkVSQVRFRF9TT1VSQ0V9IiAiJHtFWEFNUExFX1NPVVJDRX0iKQogICAgICAgIGVsc2UoIiR7U1JDfSIgTUFUQ0hFUyAiXFwuW2NoXSQiKQogICAgICAgICAgZmlsZShDT1BZICIke1NSQ30iIERFU1RJTkFUSU9OICIke0VYQU1QTEVTX1NPVVJDRV9ESVJ9IikKICAgICAgICBlbmRpZigiJHtTUkN9IiBNQVRDSEVTICJcXC5bY2hdJCIpCgogICAgICBlbmRpZihOT1QgRVhJU1RTICIke0dFTkVSQVRFRF9TT1VSQ0V9IikKICAgIGVuZGZvcmVhY2goU1JDICR7U09VUkNFU30pCiAgICBiYXNlbmFtZShCQVNFICIke1NPVVJDRX0iKQoKICAgIGFkZF9leGVjdXRhYmxlKCR7RVhBTVBMRX0gIiR7RVhBTVBMRVNfU09VUkNFX0RJUn0vJHtCQVNFfSIpCiAgICBzZXRfdGFyZ2V0X3Byb3BlcnRpZXMoJHtFWEFNUExFfSBQUk9QRVJUSUVTIE9VVFBVVF9OQU1FICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vbWluaW1hbC1leGFtcGxlcy8ke0VYQU1QTEV9IikKICAgIHRhcmdldF9jb21waWxlX2RlZmluaXRpb25zKAogICAgICAke0VYQU1QTEV9CiAgICAgIFBVQkxJQyAtRExXU19XSVRIX0NBQ0hFX05TQ09PS0lFSkFSCiAgICAgICAgICAgICAtRExXU19XSVRIX0NPTk1PTgogICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQMgogICAgICAgICAgICAgLURMV1NfV0lUSF9IVFRQX0JBU0lDX0FVVEgKICAgICAgICAgICAgIC1ETFdTX1dJVEhfTUJFRFRMUwogICAgICAgICAgICAgLURMV1NfV0lUSF9OT19MT0dTCiAgICAgICAgICAgICAtRExXU19XSVRIX1BMVUdJTlMKICAgICAgICAgICAgICMtRExXU19XSVRIX1NZU19NRVRSSUNTCiAgICAgICAgICAgICAtRExXU19XSVRIX1RMUwogICAgICAgICAgICAgIy1ETFdTX1dJVEhfVExTX1NFU1NJT05TCiAgICApCiAgICB0YXJnZXRfbGluaygke0VYQU1QTEV9KQogIGVuZGZvcmVhY2goTUlOSU1BTF9FWEFNUExFICR7TUlOSU1BTF9FWEFNUExFU30pCmVuZGlmKEJVSUxEX01JTklNQUxfRVhBTVBMRVMpCgAAAAAAAAAATFIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfCQAAAAAAAB8JAAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"cut",
					null,
					"AQAAAB8TAAAAAAAAHxMAAAAAAAAeAAAAZmluZF9wYWNrYWdlKE9wZW5TU0wgUkVRVUlSRUQp",
					"AQAAAAAAAAABAAAAHxMAAAAAAAA9EwAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"paste",
					null,
					"AQAAAHYSAAAAAAAAlBIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdhIAAAAAAAB2EgAAAAAAAAAAAAAAAPC/"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": "\n/"
					},
					"AwAAAJQSAAAAAAAAlRIAAAAAAAAAAAAAlRIAAAAAAACaEgAAAAAAAAAAAACaEgAAAAAAAJsSAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlBIAAAAAAACUEgAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					1,
					"left_delete",
					null,
					"AQAAAJoSAAAAAAAAmhIAAAAAAAABAAAALw",
					"AQAAAAAAAAABAAAAmxIAAAAAAACbEgAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAJoSAAAAAAAAmxIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmhIAAAAAAACaEgAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTUgAAY21ha2VfbWluaW11bV9yZXF1aXJlZChWRVJTSU9OIDMuMCkKcHJvamVjdChxanMtbmV0IEMpCgptZXNzYWdlKCJCdWlsZGluZyBwcm9qZWN0IBtbMTszMW0ke1BST0pFQ1RfTkFNRX0bWzBtIikKCnNldChESVNBQkxFX1dFUlJPUiBUUlVFIENBQ0hFIEJPT0wgIkRpc2FibGUgLVdlcnJvciBmbGFnIikKCiNvcHRpb24oQlVJTERfU0hBUkVEX0xJQldFQlNPQ0tFVFMgIlNoYXJlZCBidWlsZGluZyBvZiBkZXBlbmRlbmN5IGxpYnJhcmllcyIgT0ZGKQpvcHRpb24oQlVJTERfTElCV0VCU09DS0VUUyAiaW4tdHJlZSBidWlsZCBvZiBsaWJ3ZWJzb2NrZXRzIiBPTikKb3B0aW9uKERPX1RFU1RTICJQZXJmb3JtIHRlc3RzIiBPTikKb3B0aW9uKFVTRV9DVVJMICJVc2UgY3VybCBmb3IgZmV0Y2goKSIgT0ZGKQppZihVU0VfQ1VSTCkKICBvcHRpb24oQlVJTERfQ1VSTCAiQnVpbGQgY3VybCBsaWJyYXJ5IiAke0xPQ0FMX0NVUkx9KQplbmRpZihVU0VfQ1VSTCkKb3B0aW9uKEJVSUxEX01JTklNQUxfRVhBTVBMRVMgIkJ1aWxkIG1pbmltYWwtZXhhbXBsZXMiIE9GRikKCiNzZXQoQ01BS0VfUE9TSVRJT05fSU5ERVBFTkRFTlRfQ09ERSBPTiBDQUNIRSBCT09MICJQSUMgY29kZSIpCiNzZXQoQlVJTERfU0hBUkVEX0xJQlMgT0ZGIENBQ0hFIEJPT0wgIkJ1aWxkIHNoYXJlZCBsaWJyYXJpZXMiKQoKaWYoVU5JWCBBTkQgTk9UIEFQUExFKQogIGluY2x1ZGUoR05VSW5zdGFsbERpcnMpCmVsc2VpZihOT1QgREVGSU5FRCBDTUFLRV9JTlNUQUxMX0xJQkRJUikKICBzZXQoQ01BS0VfSU5TVEFMTF9MSUJESVIgIiIgQ0FDSEUgUEFUSCAiU3BlY2lmeSB0aGUgb3V0cHV0IGRpcmVjdG9yeSBmb3IgbGlicmFyaWVzIChkZWZhdWx0IGlzIGxpYikiKQplbmRpZigpCgppbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9mdW5jdGlvbnMuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL1VzZU11bHRpQXJjaC5jbWFrZSkKaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvUXVpY2tKU01vZHVsZS5jbWFrZSkKaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZFF1aWNrSlMuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkQ1VSTC5jbWFrZSkKaWYoVVNFX0NVUkwgQU5EIE5PVCBCVUlMRF9DVVJMKQogIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRDVVJMLmNtYWtlKQplbmRpZihVU0VfQ1VSTCBBTkQgTk9UIEJVSUxEX0NVUkwpCgppZihOT1QgQlVJTERfTElCV0VCU09DS0VUUykKICBpbmNsdWRlKEZpbmRaTElCKQplbmRpZihOT1QgQlVJTERfTElCV0VCU09DS0VUUykKCmZpbmRfcXVpY2tqcygpCmNvbmZpZ3VyZV9xdWlja2pzKCkKCmlmKFdJTjMyIE9SIE1JTkdXKQogIHNldChTT0NLRVRfTElCUkFSSUVTIG1zd3NvY2sgd3MyXzMyKQplbmRpZihXSU4zMiBPUiBNSU5HVykKCmlmKFVTRV9DVVJMKQogIGlmKEJVSUxEX0NVUkwpCiAgICBzZXQoTE9DQUxfQ1VSTCBPTikKICBlbHNlKEJVSUxEX0NVUkwpCiAgICBzZXQoTE9DQUxfQ1VSTCBPRkYpCiAgZW5kaWYoQlVJTERfQ1VSTCkKCiAgaWYoTk9UIEJVSUxEX0NVUkwpCiAgICBmaW5kX2N1cmwoKQogIGVuZGlmKE5PVCBCVUlMRF9DVVJMKQoKICBpZihOT1QgQ1VSTF9GT1VORCBPUiBCVUlMRF9DVVJMKQogICAgYnVpbGRfY3VybCgpCiAgZW5kaWYoKQogIG1lc3NhZ2UoU1RBVFVTICJDVVJMIGxpYnJhcnk6ICR7Q1VSTF9MSUJSQVJZfSIpCgogIHNldChDVVJMX0xJQlJBUlkgIiR7Q1VSTF9MSUJSQVJZfSIgQ0FDSEUgUEFUSCAiY3VybCBsaWJyYXJ5IikKCiAgYWRkX2RlZmluaXRpb25zKC1EVVNFX0NVUkwpCmVuZGlmKFVTRV9DVVJMKQoKaW5jbHVkZShDaGVja0NDb21waWxlckZsYWcpCgpjaGVja19jX2NvbXBpbGVyX2ZsYWcoIi1PMCIgT1BUX0NfT1BUX05PTkUpCmlmKE9QVF9DX09QVF9OT05FKQogIGlmKE5PVCAiJHtDTUFLRV9DX0ZMQUdTX0RFQlVHfSIgTUFUQ0hFUyAiLU8wIikKICAgIHNldChDTUFLRV9DX0ZMQUdTX0RFQlVHICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IC1PMCIgQ0FDSEUgU1RSSU5HICJDIGNvbXBpbGVyIG9wdGlvbnMiKQogIGVuZGlmKE5PVCAiJHtDTUFLRV9DX0ZMQUdTX0RFQlVHfSIgTUFUQ0hFUyAiLU8wIikKZW5kaWYoT1BUX0NfT1BUX05PTkUpCmNoZWNrX2NfY29tcGlsZXJfZmxhZygiLWdnZGIiIE9QVF9DX0dfR0RCKQppZihPUFRfQ19HX0dEQikKICBpZihOT1QgIiR7Q01BS0VfQ19GTEFHU19ERUJVR30iIE1BVENIRVMgIi1nZ2RiIikKICAgIHNldChDTUFLRV9DX0ZMQUdTX0RFQlVHICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IC1nZ2RiIiBDQUNIRSBTVFJJTkcgIkMgY29tcGlsZXIgb3B0aW9ucyIpCiAgZW5kaWYoTk9UICIke0NNQUtFX0NfRkxBR1NfREVCVUd9IiBNQVRDSEVTICItZ2dkYiIpCmVuZGlmKE9QVF9DX0dfR0RCKQoKaW5jbHVkZShDaGVja1R5cGVTaXplKQoKaWYoTVNZUyBPUiBNSU5HVyBPUiBDWUdXSU4gT1IgV0lOMzIgT1IgV0lONjQpCiAgY2hlY2tfaW5jbHVkZXMod2luc29jazIuaCkKICBpZihIQVZFX1dJTlNPQ0syX0gpCiAgICBzZXQoQ01BS0VfRVhUUkFfSU5DTFVERV9GSUxFUyB3aW5zb2NrMi5oKQogICAgYWRkX2RlZmluaXRpb25zKC1ESEFWRV9XSU5TT0NLMl9IKQogICAgY2hlY2tfdHlwZV9zaXplKCJzdHJ1Y3QgcG9sbGZkIiBIQVZFX1NUUlVDVF9QT0xMRkQpCiAgICAjbWVzc2FnZSgiSEFWRV9TVFJVQ1RfUE9MTEZEOiAke0hBVkVfU1RSVUNUX1BPTExGRH0iKQogICAgY2hlY2tfdHlwZV9zaXplKFdTQVBPTExGRCBIQVZFX1dTQVBPTExGRCkKICAgICNtZXNzYWdlKCJIQVZFX1dTQVBPTExGRDogJHtIQVZFX1dTQVBPTExGRH0iKQogIGVuZGlmKCkKZW5kaWYoKQoKaWYoTk9UIEJVSUxEX0xJQldFQlNPQ0tFVFMpCiAgaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZExpYndlYnNvY2tldHMuY21ha2UpCiAgZmluZF9saWJ3ZWJzb2NrZXRzKCkKICBpbmNsdWRlX2RpcmVjdG9yaWVzKCR7TElCV0VCU09DS0VUU19JTkNMVURFX0RJUn0gJHtPUEVOU1NMX0lOQ0xVREVfRElSfSkKICBsaW5rX2xpYnJhcmllcygke0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSAke0JST1RMSV9MSUJSQVJJRVN9ICR7WkxJQl9MSUJSQVJZfSAke0NVUkxfTElCUkFSWX0gJHtPUEVOU1NMX0xJQlJBUklFU30pCmVuZGlmKE5PVCBCVUlMRF9MSUJXRUJTT0NLRVRTKQoKaWYoTk9UIExJQldFQlNPQ0tFVFNfRk9VTkQpCiAgc2V0KEJVSUxEX0xJQldFQlNPQ0tFVFMgT04gQ0FDSEUgQk9PTCAiYnVpbGQgM3JkcGFydHkgbGlid2Vic29ja2V0cyIpCmVuZGlmKE5PVCBMSUJXRUJTT0NLRVRTX0ZPVU5EKQoKaWYoQlVJTERfTElCV0VCU09DS0VUUykKCiAgb3B0aW9uKFdJVEhfSFRUUDIgIlVzZSBIVFRQLzIiIE9OKQogIG9wdGlvbihXSVRIX1NTTCAiVXNlIFNTTCIgT04pCiAgb3B0aW9uKFdJVEhfTUJFRFRMUyAiVXNlIE1iZWRUTFMgcmVwbGFjZW1lbnQgZm9yIE9wZW5TU0wiIE9GRikKICBvcHRpb24oV0lUSF9CUk9UTEkgIlVzZSBicm90bGkgSFRUUCBzdHJlYW0gY29tcHJlc3Npb24iIE9OKQoKICBzZXQoTElCV0VCU09DS0VUU19ERVBTICIiKQogIHNldChMSUJXRUJTT0NLRVRTX0NfRkxBR1MgIiR7Q01BS0VfQ19GTEFHU30gLURfR05VX1NPVVJDRSIpCgogIGlmKFdJVEhfTUJFRFRMUykKICAgIHNldChXSVRIX1NTTCBPTikKCiAgICBvcHRpb24oQlVJTERfTUJFRFRMUyAiaW4tdHJlZSBidWlsZCBvZiBNYmVkVExTIiBPRkYpCgogICAgaWYoTk9UIEJVSUxEX01CRURUTFMpCiAgICAgIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRNYmVkVExTLmNtYWtlKQoKICAgICAgZmluZF9tYmVkdGxzKCkKICAgIGVuZGlmKE5PVCBCVUlMRF9NQkVEVExTKQoKICAgIGlmKE5PVCBNQkVEVExTX0ZPVU5EKQogICAgICBzZXQoQlVJTERfTUJFRFRMUyBPTikKICAgIGVuZGlmKE5PVCBNQkVEVExTX0ZPVU5EKQoKICAgIGlmKEJVSUxEX01CRURUTFMpCiAgICAgIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkTWJlZFRMUy5jbWFrZSkKCiAgICAgIHNldChNQkVEVExTX0RFQlVHIE9GRikKICAgICAgc2V0KE1CRURUTFNfU09VUkNFX0RJUiAiJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L21iZWR0bHMiKQogICAgICBzZXQoTUJFRFRMU19DX0ZMQUdTICIke0NNQUtFX0NfRkxBR1N9IikKICAgICAgc2V0KE1CRURUTFNfVEFSR0VUX05BTUUgbGlibWJlZHRscykKCiAgICAgIGJ1aWxkX21iZWR0bHMoKQoKICAgICAgbGlzdChBUFBFTkQgTElCV0VCU09DS0VUU19ERVBTICR7TUJFRFRMU19UQVJHRVRfTkFNRX0pCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0NfRkxBR1MgIi1JJHtNQkVEVExTX0lOQ0xVREVfRElSfSAke0xJQldFQlNPQ0tFVFNfQ19GTEFHU30iKQogICAgZW5kaWYoQlVJTERfTUJFRFRMUykKICBlbmRpZihXSVRIX01CRURUTFMpCiAgaWYoV0lUSF9TU0wgQU5EIE5PVCBXSVRIX01CRURUTFMpCgogICAgaWYoT1BFTlNTTF9ST09UX0RJUikKICAgICAgbGlzdChBUFBFTkQgQ01BS0VfUFJFRklYX1BBVEggIiR7T1BFTlNTTF9ST09UX0RJUn0iKQogICAgZW5kaWYoT1BFTlNTTF9ST09UX0RJUikKCiAgICBpZihOT1QgT1BFTlNTTF9MSUJSQVJJRVMpCgogICAgIGZpbmRfcGFja2FnZShPcGVuU1NMIFJFUVVJUkVEKQogICAgICMgaW5jbHVkZShGaW5kT3BlblNTTCkKICAgICAgI1tbaWYoTk9UIFBLR19DT05GSUdfRk9VTkQpCiAgICAgICAgaW5jbHVkZShGaW5kUGtnQ29uZmlnKQogICAgICBlbmRpZihOT1QgUEtHX0NPTkZJR19GT1VORCkKICAgICAgcGtnX2NoZWNrX21vZHVsZXMoT1BFTlNTTCBvcGVuc3NsKQogICAgICAjCiAgICAgICNwa2dfc2VhcmNoX21vZHVsZShPUEVOU1NMIG9wZW5zc2wpCl1dCgogICAgZW5kaWYoTk9UIE9QRU5TU0xfTElCUkFSSUVTKQogIGVuZGlmKFdJVEhfU1NMIEFORCBOT1QgV0lUSF9NQkVEVExTKQoKICBpZihXSVRIX0JST1RMSSkKICAgIG9wdGlvbihCVUlMRF9CUk9UTEkgImluLXRyZWUgYnVpbGQgb2YgYnJvdGxpIiBPRkYpCgogICAgaWYoTk9UIEJVSUxEX0JST1RMSSkKICAgICAgaW5jbHVkZSgke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vY21ha2UvRmluZEJyb3RsaS5jbWFrZSkKCiAgICAgIGZpbmRfYnJvdGxpKCkKICAgIGVuZGlmKE5PVCBCVUlMRF9CUk9UTEkpCgogICAgaWYoTk9UIEJST1RMSV9GT1VORCkKICAgICAgc2V0KEJVSUxEX0JST1RMSSBPTikKICAgIGVuZGlmKE5PVCBCUk9UTElfRk9VTkQpCgogICAgaWYoQlVJTERfQlJPVExJKQogICAgICBpbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9CdWlsZEJyb3RsaS5jbWFrZSkKCiAgICAgIHNldChCUk9UTElfREVCVUcgT0ZGKQogICAgICBzZXQoQlJPVExJX0NfRkxBR1MgIiR7Q01BS0VfQ19GTEFHU30iKQogICAgICBzZXQoQlJPVExJX1RBUkdFVF9OQU1FIGxpYmJyb3RsaSkKCiAgICAgIGJ1aWxkX2Jyb3RsaSgpCiAgICAgIGxpc3QoQVBQRU5EIExJQldFQlNPQ0tFVFNfREVQUyAke0JST1RMSV9UQVJHRVRfTkFNRX0pCiAgICAgIHNldChMSUJXRUJTT0NLRVRTX0NfRkxBR1MgIi1JJHtCUk9UTElfSU5DTFVERV9ESVJ9ICR7TElCV0VCU09DS0VUU19DX0ZMQUdTfSIpCiAgICBlbmRpZihCVUlMRF9CUk9UTEkpCiAgZW5kaWYoV0lUSF9CUk9UTEkpCgogIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0J1aWxkTGlid2Vic29ja2V0cy5jbWFrZSkKCiAgaW5jbHVkZShGaW5kWkxJQikKCiAgYnVpbGRfbGlid2Vic29ja2V0cygpCgogIGlmKFRBUkdFVCBsaWJtYmVkdGxzKQogICAgI0V4dGVybmFsUHJvamVjdF9BZGRfU3RlcERlcGVuZGVuY2llcyhsaWJ3ZWJzb2NrZXRzIGNvbmZpZ3VyZSBsaWJtYmVkdGxzKQogICAgI2FkZF9kZXBlbmRlbmNpZXMobGlid2Vic29ja2V0cyBsaWJtYmVkdGxzKQogIGVuZGlmKFRBUkdFVCBsaWJtYmVkdGxzKQogIGlmKFRBUkdFVCBsaWJicm90bGkpCiAgICBFeHRlcm5hbFByb2plY3RfQWRkX1N0ZXBEZXBlbmRlbmNpZXMobGlid2Vic29ja2V0cyBjb25maWd1cmUgbGliYnJvdGxpKQogICAgI2FkZF9kZXBlbmRlbmNpZXMobGlid2Vic29ja2V0cyBsaWJicm90bGkpCiAgZW5kaWYoVEFSR0VUIGxpYmJyb3RsaSkKZWxzZShCVUlMRF9MSUJXRUJTT0NLRVRTKQogIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRCcm90bGkuY21ha2UpCgogIGZpbmRfYnJvdGxpKCkKICBpZihXSU4zMikKICAgIGxpbmtfbGlicmFyaWVzKGNyeXB0MzIgaXBobHBhcGkpCiAgZW5kaWYoV0lOMzIpCmVuZGlmKEJVSUxEX0xJQldFQlNPQ0tFVFMpCgppZihPUEVOU1NMX0lOQ0xVREVfRElSIEFORCBOT1QgT1BFTlNTTF9MSUJSQVJZX0RJUikKICBzdHJpbmcoUkVHRVggUkVQTEFDRSAiL2luY2x1ZGUiICIvbGliIiBPUEVOU1NMX0xJQlJBUllfRElSICIke09QRU5TU0xfSU5DTFVERV9ESVJ9IikKCiAgI3NldChDTUFLRV9JTlNUQUxMX1JQQVRIICIke09QRU5TU0xfTElCUkFSWV9ESVJ9IikKZW5kaWYoKQoKI2lmKE9QRU5TU0xfTElCUkFSSUVTIEFORCBOT1QgT1BFTlNTTF9MSUJSQVJZX0RJUikKaWYoT1BFTlNTTF9MSUJSQVJJRVMgTUFUQ0hFUyAiL2xpYi8uKiIpCiAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi9saWIvLioiICIvbGliIiBPUEVOU1NMX0xJQlJBUllfRElSICIke09QRU5TU0xfTElCUkFSSUVTfSIpCmVuZGlmKE9QRU5TU0xfTElCUkFSSUVTIE1BVENIRVMgIi9saWIvLioiKQoKc2V0KE9QRU5TU0xfTElCUkFSWV9ESVIgIiR7T1BFTlNTTF9MSUJSQVJZX0RJUn0iIENBQ0hFIFBBVEggIk9wZW5TU0wgbGlicmFyeSBkaXJlY3RvcnkiKQojc2V0KENNQUtFX0lOU1RBTExfUlBBVEggIiR7T1BFTlNTTF9MSUJSQVJZX0RJUn0iKQojZW5kaWYoKQppZihPUEVOU1NMX0xJQlJBUllfRElSKQogIHJwYXRoX2FwcGVuZChDTUFLRV9JTlNUQUxMX1JQQVRIICIke09QRU5TU0xfTElCUkFSWV9ESVJ9IikKZW5kaWYoT1BFTlNTTF9MSUJSQVJZX0RJUikKCmlmKENNQUtFX0lOU1RBTExfUlBBVEgpCiAgc2V0KENNQUtFX0JVSUxEX1JQQVRIICIke0NNQUtFX0lOU1RBTExfUlBBVEh9IikKZW5kaWYoQ01BS0VfSU5TVEFMTF9SUEFUSCkKCmNoZWNrX2Z1bmN0aW9ucyhzdHJsY3B5IHBvbGwpCgppZihIQVZFX1NUUkxDUFkpCiAgYWRkX2RlZmluaXRpb25zKC1ESEFWRV9TVFJMQ1BZKQplbmRpZihIQVZFX1NUUkxDUFkpCmlmKEhBVkVfUE9MTCkKICBhZGRfZGVmaW5pdGlvbnMoLURIQVZFX1BPTEwpCmVuZGlmKEhBVkVfUE9MTCkKCmlmKFVTRV9DVVJMKQogIGxpbmtfZGlyZWN0b3JpZXMoJHtDVVJMX0xJQlJBUllfRElSfSkKICBpbmNsdWRlX2RpcmVjdG9yaWVzKCR7Q1VSTF9JTkNMVURFX0RJUn0pCmVuZGlmKFVTRV9DVVJMKQoKbGlua19kaXJlY3Rvcmllcygke1FVSUNLSlNfTElCUkFSWV9ESVJ9ICR7TElCV0VCU09DS0VUU19MSUJSQVJZX0RJUn0gJHtPUEVOU1NMX0xJQlJBUllfRElSfSAke01CRURUTFNfTElCUkFSWV9ESVJ9KQppbmNsdWRlX2RpcmVjdG9yaWVzKCR7UVVJQ0tKU19JTkNMVURFX0RJUn0gJHtMSUJXRUJTT0NLRVRTX0lOQ0xVREVfRElSfSAke09QRU5TU0xfSU5DTFVERV9ESVJ9ICR7TUJFRFRMU19JTkNMVURFX0RJUn0pCgpmaWxlKEdMT0IgSlNfQklORElOR1NfU09VUkNFUyAqLmMgKi5oKQpsaXN0KEZJTFRFUiBKU19CSU5ESU5HU19TT1VSQ0VTIEVYQ0xVREUgUkVHRVggIi4qLXBsdWdpbi0uKiIpCgpzZXQoQ01BS0VfUE9TSVRJT05fSU5ERVBFTkRFTlRfQ09ERSBPTikKc3RyaW5nKEFTQ0lJIDI3IEVTQykKCmZ1bmN0aW9uKERVTVBfVEFSR0VUIFRBUkdFVCkKICBmb3JlYWNoKFBST1AgQklOQVJZX0RJUiBCVUlMRF9SUEFUSCBDT01QSUxFX0RFRklOSVRJT05TIENPTVBJTEVfRkxBR1MgSU5DTFVERV9ESVJFQ1RPUklFUyBJTlRFUkZBQ0VfTElOS19ESVJFQ1RPUklFUyBJTlRFUkZBQ0VfTElOS19MSUJSQVJJRVMgTElOS19ESVJFQ1RPUklFUyBMSU5LX0xJQlJBUklFUwogICAgICAgICAgICAgICBNQU5VQUxMWV9BRERFRF9ERVBFTkRFTkNJRVMgTkFNRSBPVVRQVVRfTkFNRSBQQ0hfV0FSTl9JTlZBTElEIFBPU0lUSU9OX0lOREVQRU5ERU5UX0NPREUgU09VUkNFX0RJUiBTT1VSQ0VTIFRZUEUpCiAgICBnZXRfdGFyZ2V0X3Byb3BlcnR5KFZBTFVFICIke1RBUkdFVH0iICIke1BST1B9IikKICAgIGlmKFZBTFVFKQogICAgICBtZXNzYWdlKCIke0VTQ31bMTszM20ke1RBUkdFVH0gJHtFU0N9WzE7MzFtJHtQUk9QfSA9ICR7RVNDfVsxOzM2bScke1ZBTFVFfScke0VTQ31bMG0iKQogICAgZW5kaWYoVkFMVUUpCiAgZW5kZm9yZWFjaCgpCmVuZGZ1bmN0aW9uKERVTVBfVEFSR0VUIFRBUkdFVCkKCmlmKFdJTjMyKQogIGFkZF9saWJyYXJ5KHF1aWNranMtbWlubmV0IE1PRFVMRSAke0pTX0JJTkRJTkdTX1NPVVJDRVN9KQplbHNlKFdJTjMyKQogIGFkZF9saWJyYXJ5KHF1aWNranMtbWlubmV0IFNIQVJFRCAke0pTX0JJTkRJTkdTX1NPVVJDRVN9KQplbmRpZihXSU4zMikKCmlmKEJVSUxEX0xJQldFQlNPQ0tFVFMpCiAgYWRkX2RlcGVuZGVuY2llcyhxdWlja2pzLW1pbm5ldCBsaWJ3ZWJzb2NrZXRzKQplbmRpZihCVUlMRF9MSUJXRUJTT0NLRVRTKQoKI3NldChDTUFLRV9TSEFSRURfTElOS0VSX0ZMQUdTICItV2wsLXJwYXRoPSR7Q01BS0VfSU5TVEFMTF9SUEFUSH06JHtDVVJMX0xJQlJBUllfRElSfSIpCgpzZXQoT1BFTlNTTF9MSUJSQVJJRVMgIiR7T1BFTlNTTF9TU0xfTElCUkFSWX07JHtPUEVOU1NMX0NSWVBUT19MSUJSQVJZfSIgQ0FDSEUgU1RSSU5HICJPcGVuU1NMIGxpYnJhcmllcyIpCgppZihVU0VfQ1VSTCkKICB0YXJnZXRfaW5jbHVkZV9kaXJlY3RvcmllcyhxdWlja2pzLW1pbm5ldCBQUklWQVRFICR7Q1VSTF9JTkNMVURFX0RJUn0pCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtbWlubmV0ICR7Q1VSTF9MSUJSQVJZfSkKZW5kaWYoVVNFX0NVUkwpCgpsaXN0KEFQUEVORCBPUEVOU1NMX0xJQlJBUklFUyBwdGhyZWFkIGRsKQoKbWFjcm8oVEFSR0VUX0xJTksgVEFSR0VUKQogIHNldChPVVRQVVRfTkFNRSAke0FSR059KQogIHRhcmdldF9pbmNsdWRlX2RpcmVjdG9yaWVzKCR7VEFSR0VUfSBQUklWQVRFICR7TElCV0VCU09DS0VUU19JTkNMVURFX0RJUn0pCiAgc2V0X3RhcmdldF9wcm9wZXJ0aWVzKAogICAgJHtUQVJHRVR9CiAgICBQUk9QRVJUSUVTIElOU1RBTExfUlBBVEggIiR7Q01BS0VfSU5TVEFMTF9SUEFUSH0iIEJVSUxEX1JQQVRIICIke0NNQUtFX0JVSUxEX1JQQVRIfSIgQ09NUElMRV9GTEFHUyAiLWZ2aXNpYmlsaXR5PWhpZGRlbiIKICAgICAgICAgICAgICAgTElOS19ESVJFQ1RPUklFUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfTske09QRU5TU0xfTElCUkFSWV9ESVJ9OyR7TUJFRFRMU19MSUJSQVJZX0RJUn0iIElOVEVSRkFDRV9MSU5LX0RJUkVDVE9SSUVTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfTske09QRU5TU0xfTElCUkFSWV9ESVJ9OyR7TUJFRFRMU19MSUJSQVJZX0RJUn0iIFBSRUZJWCAiIikKCiAgaWYoT1VUUFVUX05BTUUpCiAgICBzZXRfdGFyZ2V0X3Byb3BlcnRpZXMoJHtUQVJHRVR9IFBST1BFUlRJRVMgT1VUUFVUX05BTUUgIiR7T1VUUFVUX05BTUV9IikKICBlbmRpZihPVVRQVVRfTkFNRSkKICB0YXJnZXRfY29tcGlsZV9kZWZpbml0aW9ucygke1RBUkdFVH0gUFJJVkFURSAtREpTX1NIQVJFRF9MSUJSQVJZPTEgLURKU19CSU5ESU5HU19JTklUX01PRFVMRT0xKQoKICBpZihFWElTVFMgIiR7TElCV0VCU09DS0VUU19MSUJSQVJZX0RJUn0iKQogICAgdGFyZ2V0X2xpbmtfZGlyZWN0b3JpZXMoJHtUQVJHRVR9IFBVQkxJQyAke0xJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVJ9KQogIGVuZGlmKEVYSVNUUyAiJHtMSUJXRUJTT0NLRVRTX0xJQlJBUllfRElSfSIpCgogIHRhcmdldF9saW5rX2RpcmVjdG9yaWVzKCR7VEFSR0VUfSBQVUJMSUMgJHtRVUlDS0pTX0xJQlJBUllfRElSfSAke0xJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVJ9KQoKICB0YXJnZXRfbGlua19saWJyYXJpZXMoJHtUQVJHRVR9ICR7UVVJQ0tKU19MSUJSQVJZfSAke0xJQldFQlNPQ0tFVFNfTElCUkFSSUVTfSAke01CRURUTFNfTElCUkFSSUVTfSAke09QRU5TU0xfTElCUkFSSUVTfSAke1NPQ0tFVF9MSUJSQVJJRVN9ICR7QlJPVExJX0xJQlJBUklFU30gJHtaTElCX0xJQlJBUll9KQplbmRtYWNybyhUQVJHRVRfTElOSyBUQVJHRVQpCgp0YXJnZXRfbGluayhxdWlja2pzLW1pbm5ldCBuZXQpCgptZXNzYWdlKAogICJMaWJyYXJ5IGRpcmVjdG9yaWVzOlxuXAogIGxpYndlYnNvY2tldHMgLSAke0xJQldFQlNPQ0tFVFNfTElCUkFSWV9ESVJ9XG5cCiAgbWJlZHRscyAtICR7TUJFRFRMU19MSUJSQVJZX0RJUn1cblwKICBjdXJsIC0gJHtDVVJMX0xJQlJBUllfRElSfVxuXAogIG9wZW5zc2wgLSAke09QRU5TU0xfTElCUkFSWV9ESVJ9XG5cCiIpCgptZXNzYWdlKAogICJJbmNsdWRlIGRpcmVjdG9yaWVzOlxuXAogIGxpYndlYnNvY2tldHMgLSAke0xJQldFQlNPQ0tFVFNfSU5DTFVERV9ESVJ9XG5cCiAgbWJlZHRscyAtICR7TUJFRFRMU19JTkNMVURFX0RJUn1cblwKICBjdXJsIC0gJHtDVVJMX0lOQ0xVREVfRElSfVxuXAogIG9wZW5zc2wgLSAke09QRU5TU0xfSU5DTFVERV9ESVJ9XG5cCiIpCgptZXNzYWdlKAogICJMaWJyYXJpZXM6XG5cCiAgbGlid2Vic29ja2V0cyAtICR7TElCV0VCU09DS0VUU19MSUJSQVJJRVN9XG5cCiAgbWJlZHRscyAtICR7TUJFRFRMU19MSUJSQVJJRVN9XG5cCiAgY3VybCAtICR7Q1VSTF9MSUJSQVJZfVxuXAogIG9wZW5zc2wgLSAke09QRU5TU0xfU1NMX0xJQlJBUll9ICR7T1BFTlNTTF9DUllQVE9fTElCUkFSWX1cblwKIikKCmlmKE5PVCBRVUlDS0pTX0NfTU9EVUxFX0RJUikKICBzZXQoUVVJQ0tKU19DX01PRFVMRV9ESVIgIiR7Q01BS0VfSU5TVEFMTF9QUkVGSVh9LyR7Q01BS0VfSU5TVEFMTF9MSUJESVJ9L3F1aWNranMiKQplbmRpZihOT1QgUVVJQ0tKU19DX01PRFVMRV9ESVIpCgppbnN0YWxsKFRBUkdFVFMgcXVpY2tqcy1taW5uZXQgREVTVElOQVRJT04gIiR7UVVJQ0tKU19DX01PRFVMRV9ESVJ9IiBQRVJNSVNTSU9OUyBPV05FUl9FWEVDVVRFIE9XTkVSX1dSSVRFIE9XTkVSX1JFQUQgR1JPVVBfRVhFQ1VURSBHUk9VUF9SRUFEIFdPUkxEX1JFQUQgV09STERfRVhFQ1VURSkKaW5zdGFsbChGSUxFUyAke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0vcnBjLmpzIERFU1RJTkFUSU9OICIke1FVSUNLSlNfSlNfTU9EVUxFX0RJUn0iKQojZHVtcF90YXJnZXQocXVpY2tqcy1taW5uZXQpCgpmaWxlKEdMT0IgVEVTVFMgdGVzdHMvdGVzdC0qLmpzKQoKcmVsYXRpdmVfcGF0aChURVNUUyAiJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9IiAke1RFU1RTfSkKCmlmKERPX1RFU1RTKQogIHNldChNT0RVTEVfUEFUSCAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9OyR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfSIpCiAgc2V0KEVOVntRVUlDS0pTX01PRFVMRV9QQVRIfSAiJHtNT0RVTEVfUEFUSH0iKQoKICBpbmNsdWRlKENUZXN0KQoKICBmb3JlYWNoKFRFU1QgJHtURVNUU30pCiAgICBiYXNlbmFtZShCQVNFICIke1RFU1R9IikKICAgIHN0cmluZyhSRVBMQUNFICJ0ZXN0XyIgIiIgTkFNRSAiJHtCQVNFfSIpCiAgICBhZGRfdGVzdChOQU1FICIke0JBU0V9IiBDT01NQU5EIGVudiAiUVVJQ0tKU19NT0RVTEVfUEFUSD0ke01PRFVMRV9QQVRIfSIgIiR7UUpTfSIgLS1iaWdudW0gIiR7VEVTVH0iIFdPUktJTkdfRElSRUNUT1JZICIke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0iKQoKICBlbmRmb3JlYWNoKFRFU1QgJHtURVNUU30pCgogIGFkZF9jdXN0b21fdGFyZ2V0KGRvX3Rlc3RzIENPTU1BTkQgIiR7Q01BS0VfQ09NTUFORH0iIC0tYnVpbGQgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfSIgLS10YXJnZXQgInRlc3QiIENPTU1FTlQgIkRvIGFsbCB0ZXN0cyIpCmVuZGlmKERPX1RFU1RTKQoKaW5zdGFsbChGSUxFUyB3c2NsaS5qcyBERVNUSU5BVElPTiBiaW4gUEVSTUlTU0lPTlMgT1dORVJfRVhFQ1VURSBPV05FUl9XUklURSBPV05FUl9SRUFEIEdST1VQX0VYRUNVVEUgR1JPVVBfUkVBRCkKCmlmKEJVSUxEX01JTklNQUxfRVhBTVBMRVMpCiAgIyAgZmlsZShHTE9CIE1JTklNQUxfRVhBTVBMRVMgbGlid2Vic29ja2V0cy9taW5pbWFsLWV4YW1wbGVzLyovKi9taW5pbWFsKi5jKQogIHNldChNSU5JTUFMX0VYQU1QTEVTCiAgICAgIGNsaWVudC1zZXJ2ZXIvbWluaW1hbC13cy1wcm94eS9taW5pbWFsLXdzLXByb3h5LmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1hdHRhY2gvbWluaW1hbC1odHRwLWNsaWVudC1hdHRhY2guYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LWNhcHRpdmUtcG9ydGFsL21pbmltYWwtaHR0cC1jbGllbnQtY2FwdGl2ZS1wb3J0YWwuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LWNlcnRpbmZvL21pbmltYWwtaHR0cC1jbGllbnQtY2VydGluZm8uYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LWN1c3RvbS1oZWFkZXJzL21pbmltYWwtaHR0cC1jbGllbnQtY3VzdG9tLWhlYWRlcnMuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LWgyLXJ4Zmxvdy9taW5pbWFsLWh0dHAtY2xpZW50LmMKICAgICAgaHR0cC1jbGllbnQvbWluaW1hbC1odHRwLWNsaWVudC1odWdldXJsL21pbmltYWwtaHR0cC1jbGllbnQtaHVnZXVybC5jCiAgICAgIGh0dHAtY2xpZW50L21pbmltYWwtaHR0cC1jbGllbnQtaml0LXRydXN0L21pbmltYWwtaHR0cC1jbGllbnQuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50L21pbmltYWwtaHR0cC1jbGllbnQuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LW11bHRpL21pbmltYWwtaHR0cC1jbGllbnQtbXVsdGkuYwogICAgICBodHRwLWNsaWVudC9taW5pbWFsLWh0dHAtY2xpZW50LXBvc3QvbWluaW1hbC1odHRwLWNsaWVudC1wb3N0LmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1iYXNpY2F1dGgvbWluaW1hbC1odHRwLXNlcnZlci1iYXNpY2F1dGguYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWNnaS9taW5pbWFsLWh0dHAtc2VydmVyLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1jdXN0b20taGVhZGVycy9taW5pbWFsLWh0dHAtc2VydmVyLWN1c3RvbS1oZWFkZXJzLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1kZWFkZHJvcC9taW5pbWFsLWh0dHAtc2VydmVyLWRlYWRkcm9wLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1keW5hbWljL21pbmltYWwtaHR0cC1zZXJ2ZXItZHluYW1pYy5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWItY3VzdG9tL21pbmltYWwtaHR0cC1zZXJ2ZXIuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWV2ZW50bGliLWRlbW9zL21pbmltYWwtaHR0cC1zZXJ2ZXItZXZlbnRsaWItZGVtb3MuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWV2ZW50bGliLWZvcmVpZ24vbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi1mb3JlaWduLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi9taW5pbWFsLWh0dHAtc2VydmVyLWV2ZW50bGliLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi1zbXAvbWluaW1hbC1odHRwLXNlcnZlci1ldmVudGxpYi1zbXAuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tZ2V0L21pbmltYWwtaHR0cC1zZXJ2ZXItZm9ybS1nZXQuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC1maWxlL21pbmltYWwtaHR0cC1zZXJ2ZXItZm9ybS1wb3N0LWZpbGUuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC1sd3NhYy9taW5pbWFsLWh0dHAtc2VydmVyLWZvcm0tcG9zdC5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItZm9ybS1wb3N0L21pbmltYWwtaHR0cC1zZXJ2ZXItZm9ybS1wb3N0LmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1mdWxsdGV4dC1zZWFyY2gvbWluaW1hbC1odHRwLXNlcnZlci5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItaDItbG9uZy1wb2xsL21pbmltYWwtaHR0cC1zZXJ2ZXIuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLW1pbWV0eXBlcy9taW5pbWFsLWh0dHAtc2VydmVyLW1pbWV0eXBlcy5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItbXVsdGl2aG9zdC9taW5pbWFsLWh0dHAtc2VydmVyLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1wcm94eS9taW5pbWFsLWh0dHAtc2VydmVyLXByb3h5LmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci1zbXAvbWluaW1hbC1odHRwLXNlcnZlci1zbXAuYwogICAgICBodHRwLXNlcnZlci9taW5pbWFsLWh0dHAtc2VydmVyLXNzZS9taW5pbWFsLWh0dHAtc2VydmVyLXNzZS5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItc3NlLXJpbmcvbWluaW1hbC1odHRwLXNlcnZlci1zc2UtcmluZy5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzLTgwL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzLTgwLmMKICAgICAgaHR0cC1zZXJ2ZXIvbWluaW1hbC1odHRwLXNlcnZlci10bHMtbWVtL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzLW1lbS5jCiAgICAgIGh0dHAtc2VydmVyL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzL21pbmltYWwtaHR0cC1zZXJ2ZXItdGxzLmMKICAgICAgbXF0dC1jbGllbnQvbWluaW1hbC1tcXR0LWNsaWVudC9taW5pbWFsLW1xdHQtY2xpZW50LmMKICAgICAgbXF0dC1jbGllbnQvbWluaW1hbC1tcXR0LWNsaWVudC1tdWx0aS9taW5pbWFsLW1xdHQtY2xpZW50LW11bHRpLmMKICAgICAgcmF3L21pbmltYWwtcmF3LWFkb3B0LXRjcC9taW5pbWFsLXJhdy1hZG9wdC10Y3AuYwogICAgICByYXcvbWluaW1hbC1yYXctYWRvcHQtdWRwL21pbmltYWwtcmF3LWFkb3B0LXVkcC5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1mYWxsYmFjay1odHRwLXNlcnZlci9taW5pbWFsLXJhdy1mYWxsYmFjay1odHRwLXNlcnZlci5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1maWxlL21pbmltYWwtcmF3LWZpbGUuYwogICAgICByYXcvbWluaW1hbC1yYXctbmV0Y2F0L21pbmltYWwtcmF3LW5ldGNhdC5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1wcm94eS1mYWxsYmFjay9taW5pbWFsLXJhdy1wcm94eS1mYWxsYmFjay5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1wcm94eS9taW5pbWFsLXJhdy1wcm94eS5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy1zZXJpYWwvbWluaW1hbC1yYXctZmlsZS5jCiAgICAgIHJhdy9taW5pbWFsLXJhdy12aG9zdC9taW5pbWFsLXJhdy12aG9zdC5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtYmxvYi9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1jbGllbnQtdHgvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1jbGllbnQtdHguYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLWh1Z2V1cmwvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtbWV0YWRhdGEvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtcGVyZi9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1wb2xpY3kyYy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy1wb3N0L21pbmltYWwtc2VjdXJlLXN0cmVhbXMtcG9zdC5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtc2VxL21pbmltYWwtc2VjdXJlLXN0cmVhbXMuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXNtZC9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXNtZC5jCiAgICAgIHNlY3VyZS1zdHJlYW1zL21pbmltYWwtc2VjdXJlLXN0cmVhbXMtc3RhdGljcG9saWN5L21pbmltYWwtc2VjdXJlLXN0cmVhbXMuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXN0cmVzcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLmMKICAgICAgc2VjdXJlLXN0cmVhbXMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy10ZXN0c2ZhaWwvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy10ZXN0c2ZhaWwuYwogICAgICBzZWN1cmUtc3RyZWFtcy9taW5pbWFsLXNlY3VyZS1zdHJlYW1zLXRocmVhZHMvbWluaW1hbC1zZWN1cmUtc3RyZWFtcy10aHJlYWRzLmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LWVjaG8vbWluaW1hbC13cy1jbGllbnQtZWNoby5jCiAgICAgIHdzLWNsaWVudC9taW5pbWFsLXdzLWNsaWVudC9taW5pbWFsLXdzLWNsaWVudC5jCiAgICAgIHdzLWNsaWVudC9taW5pbWFsLXdzLWNsaWVudC1waW5nL21pbmltYWwtd3MtY2xpZW50LXBpbmcuYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQtcG1kLWJ1bGsvbWluaW1hbC13cy1jbGllbnQtcG1kLWJ1bGsuYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQtcngvbWluaW1hbC13cy1jbGllbnQuYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQtc3BhbS9taW5pbWFsLXdzLWNsaWVudC1zcGFtLmMKICAgICAgd3MtY2xpZW50L21pbmltYWwtd3MtY2xpZW50LXNwYW0tdHgtcngvbWluaW1hbC13cy1jbGllbnQuYwogICAgICB3cy1jbGllbnQvbWluaW1hbC13cy1jbGllbnQtdHgvbWluaW1hbC13cy1jbGllbnQuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1icm9rZXIvbWluaW1hbC13cy1icm9rZXIuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1yYXctcHJveHkvbWluaW1hbC13cy1yYXctcHJveHkuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1zZXJ2ZXItZWNoby9taW5pbWFsLXdzLXNlcnZlci1lY2hvLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXBtZC1idWxrL21pbmltYWwtd3Mtc2VydmVyLXBtZC1idWxrLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXBtZC1jb3JuZXIvbWluaW1hbC13cy1zZXJ2ZXItcG1kLWNvcm5lci5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci1wbWQvbWluaW1hbC13cy1zZXJ2ZXItcG1kLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXJpbmcvbWluaW1hbC13cy1zZXJ2ZXItcmluZy5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci10aHJlYWRwb29sL21pbmltYWwtd3Mtc2VydmVyLXRocmVhZHBvb2wuYwogICAgICB3cy1zZXJ2ZXIvbWluaW1hbC13cy1zZXJ2ZXItdGhyZWFkcy1mb3JlaWduLWxpYnV2LXNtcC9taW5pbWFsLXdzLXNlcnZlci5jCiAgICAgIHdzLXNlcnZlci9taW5pbWFsLXdzLXNlcnZlci10aHJlYWRzL21pbmltYWwtd3Mtc2VydmVyLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXRocmVhZHMtc21wL21pbmltYWwtd3Mtc2VydmVyLmMKICAgICAgd3Mtc2VydmVyL21pbmltYWwtd3Mtc2VydmVyLXRpbWVyL21pbmltYWwtd3Mtc2VydmVyLmMpCiAgbGlzdChGSUxURVIgTUlOSU1BTF9FWEFNUExFUyBFWENMVURFIFJFR0VYICIobGlidXZ8ZGJ1c3xzZWN1cmUuc3RyZWFtc3x0aHJlYWR8bXF0dHxqaXR8ZnVsbHRleHR8ZXZlbnRsaWIpIikKICBzZXQoRVhBTVBMRVNfU09VUkNFX0RJUiAiJHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9L21pbmltYWwtZXhhbXBsZXMiKQogIG1ha2VfZGlyZWN0b3J5KCIke0VYQU1QTEVTX1NPVVJDRV9ESVJ9IikKICBmaWxlKFJFTEFUSVZFX1BBVEggRVhBTVBMRVNfUkVMQVRJVkVfRElSICIke0NNQUtFX0NVUlJFTlRfU09VUkNFX0RJUn0iICIke0VYQU1QTEVTX1NPVVJDRV9ESVJ9IikKCiAgZmluZF9wcm9ncmFtKENMQU5HX0ZPUk1BVCBjbGFuZy1mb3JtYXQpCgogIGZvcmVhY2goTUlOSU1BTF9FWEFNUExFICR7TUlOSU1BTF9FWEFNUExFU30pCgogICAgc2V0KFNPVVJDRSAibGlid2Vic29ja2V0cy9taW5pbWFsLWV4YW1wbGVzLyR7TUlOSU1BTF9FWEFNUExFfSIpCiAgICAjbWVzc2FnZSgiU09VUkNFOiIgJHtTT1VSQ0V9KQogICAgZGlybmFtZShESVIgIiR7U09VUkNFfSIpCiAgICAjbWVzc2FnZSgiRElSOiIgJHtESVJ9KQogICAgZmlsZShHTE9CIFNPVVJDRVMgJHtESVJ9LyouKikKCiAgICBiYXNlbmFtZShFWEFNUExFICIke0RJUn0iKQogICAgI21lc3NhZ2UoIkVYQU1QTEU6IiAke0VYQU1QTEV9KQoKICAgIGlmKEVYSVNUUyAiJHtESVJ9L21vdW50LW9yaWdpbiIpCiAgICAgIHNldChNT1VOVF9ESVIgIiR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS8ke0RJUn0vbW91bnQtb3JpZ2luIikKICAgIGVuZGlmKEVYSVNUUyAiJHtESVJ9L21vdW50LW9yaWdpbiIpCgogICAgZm9yZWFjaChTUkMgJHtTT1VSQ0VTfSkKICAgICAgYmFzZW5hbWUoQkFTRSAiJHtTUkN9IikKICAgICAgc2V0KEdFTkVSQVRFRF9TT1VSQ0UgIiR7RVhBTVBMRVNfU09VUkNFX0RJUn0vJHtCQVNFfSIpCiAgICAgIGlmKCIke1NSQ30iIE1BVENIRVMgIm1pbmltYWwtW14vXFxcXF0qXFwuW2NoXSQiKQogICAgICAgIHNldChHRU5FUkFURURfU09VUkNFICIke0VYQU1QTEVTX1NPVVJDRV9ESVJ9LyR7RVhBTVBMRX0uYyIpCiAgICAgIGVuZGlmKCIke1NSQ30iIE1BVENIRVMgIm1pbmltYWwtW14vXFxcXF0qXFwuW2NoXSQiKQoKICAgICAgaWYoTk9UIEVYSVNUUyAiJHtHRU5FUkFURURfU09VUkNFfSIpCiAgICAgICAgbWVzc2FnZSgiU1JDOiIgJHtTUkN9KQoKICAgICAgICBpZigiJHtTUkN9IiBNQVRDSEVTICJcXC5bY2hdJCIpCiAgICAgICAgICBleGVjX3Byb2dyYW0oJHtDTEFOR19GT1JNQVR9IEFSR1MgLXN0eWxlPWZpbGUgJHtTUkN9IE9VVFBVVF9WQVJJQUJMRSBFWEFNUExFX1NPVVJDRSkKICAgICAgICAgICNzdHJpbmcoUkVHRVggUkVQTEFDRSAiLTEwMHkuY2VydCIgIi0xMDB5LmNydCIgRVhBTVBMRV9TT1VSQ0UgIiR7RVhBTVBMRV9TT1VSQ0V9IikKICAgICAgICAgICNzdHJpbmcoUkVHRVggUkVQTEFDRSAiLTEwMHkiICIiIEVYQU1QTEVfU09VUkNFICIke0VYQU1QTEVfU09VUkNFfSIpCiAgICAgICAgICBzdHJpbmcoUkVHRVggUkVQTEFDRSAiXCJsb2NhbGhvc3QtMTAweSIgIlwiJHtFWEFNUExFU19TT1VSQ0VfRElSfS9sb2NhbGhvc3QtMTAweSIgRVhBTVBMRV9TT1VSQ0UgIiR7RVhBTVBMRV9TT1VSQ0V9IikKICAgICAgICAgIHN0cmluZyhSRUdFWCBSRVBMQUNFICJcIi4vbW91bnQtb3JpZ2luXCIiICJcIiR7TU9VTlRfRElSfVwiIiBFWEFNUExFX1NPVVJDRSAiJHtFWEFNUExFX1NPVVJDRX0iKQoKICAgICAgICAgIGZpbGUoV1JJVEUgIiR7R0VORVJBVEVEX1NPVVJDRX0iICIke0VYQU1QTEVfU09VUkNFfSIpCiAgICAgICAgZWxzZSgiJHtTUkN9IiBNQVRDSEVTICJcXC5bY2hdJCIpCiAgICAgICAgICBmaWxlKENPUFkgIiR7U1JDfSIgREVTVElOQVRJT04gIiR7RVhBTVBMRVNfU09VUkNFX0RJUn0iKQogICAgICAgIGVuZGlmKCIke1NSQ30iIE1BVENIRVMgIlxcLltjaF0kIikKCiAgICAgIGVuZGlmKE5PVCBFWElTVFMgIiR7R0VORVJBVEVEX1NPVVJDRX0iKQogICAgZW5kZm9yZWFjaChTUkMgJHtTT1VSQ0VTfSkKICAgIGJhc2VuYW1lKEJBU0UgIiR7U09VUkNFfSIpCgogICAgYWRkX2V4ZWN1dGFibGUoJHtFWEFNUExFfSAiJHtFWEFNUExFU19TT1VSQ0VfRElSfS8ke0JBU0V9IikKICAgIHNldF90YXJnZXRfcHJvcGVydGllcygke0VYQU1QTEV9IFBST1BFUlRJRVMgT1VUUFVUX05BTUUgIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9taW5pbWFsLWV4YW1wbGVzLyR7RVhBTVBMRX0iKQogICAgdGFyZ2V0X2NvbXBpbGVfZGVmaW5pdGlvbnMoCiAgICAgICR7RVhBTVBMRX0KICAgICAgUFVCTElDIC1ETFdTX1dJVEhfQ0FDSEVfTlNDT09LSUVKQVIKICAgICAgICAgICAgIC1ETFdTX1dJVEhfQ09OTU9OCiAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFAyCiAgICAgICAgICAgICAtRExXU19XSVRIX0hUVFBfQkFTSUNfQVVUSAogICAgICAgICAgICAgLURMV1NfV0lUSF9NQkVEVExTCiAgICAgICAgICAgICAtRExXU19XSVRIX05PX0xPR1MKICAgICAgICAgICAgIC1ETFdTX1dJVEhfUExVR0lOUwogICAgICAgICAgICAgIy1ETFdTX1dJVEhfU1lTX01FVFJJQ1MKICAgICAgICAgICAgIC1ETFdTX1dJVEhfVExTCiAgICAgICAgICAgICAjLURMV1NfV0lUSF9UTFNfU0VTU0lPTlMKICAgICkKICAgIHRhcmdldF9saW5rKCR7RVhBTVBMRX0pCiAgZW5kZm9yZWFjaChNSU5JTUFMX0VYQU1QTEUgJHtNSU5JTUFMX0VYQU1QTEVTfSkKZW5kaWYoQlVJTERfTUlOSU1BTF9FWEFNUExFUykKAAAAAAAAAABVUgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmxIAAAAAAACbEgAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"shell",
				"Pretty Shell: Minify"
			],
			[
				"mini",
				"Pretty Shell: Minify"
			],
			[
				"shfm",
				"Pretty Shell: Minify"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"cscope",
				"Cscope: Search using egrep pattern"
			],
			[
				"tags",
				"CTags: Show Symbols (all)"
			],
			[
				"edit",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"json",
				"Pretty JSON: Format JSON"
			],
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"edit ",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"Install",
				"Package Control: Install Package"
			],
			[
				"inde",
				"Indentation: Detect"
			],
			[
				"add repo",
				"Package Control: Add Repository"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"cmake",
				"CMake Format: Format Selection"
			],
			[
				"edi",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"prettier",
				"Build With: prettier"
			],
			[
				"edit current",
				"SchemeEditor: Edit Current Scheme"
			],
			[
				"edit curr",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 393.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-eventlib-exports.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindQuickJS.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-callbacks.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/http/server/server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindLibwebsockets.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/BuildLibwebsockets.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-url.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/private-lib-core-net.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-context-vhost.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/functions.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-websocket.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindMbedTLS.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindLibreSSL.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/curl/lib/llist.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-callbacks.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/curl/src/tool_setopt.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-mbedtls/libwebsockets/include/libwebsockets/lws-context-vhost.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-context-vhost.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-tls.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-dynamic.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-sse.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-sse-ring.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-form-post-file.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-protocols-plugins.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-fetch.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-raw-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-ws-raw-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-proxy/minimal-http-server-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-fallback-http-server/minimal-raw-fallback-http-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-proxy/minimal-raw-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-proxy-fallback/minimal-raw-proxy-fallback.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-proxy/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-server-proxy.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-server/minimal-ws-raw-proxy/minimal-ws-raw-proxy.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-deaddrop/minimal-http-server-deaddrop.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-deaddrop/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/jsutils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/jsutils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/BuildLibreSSL.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindCURL.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/BuildBrotli.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-sse-ring/minimal-http-server-sse-ring.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-tls-80/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minimal-http-server-tls.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build/x86_64-linux-debug/minimal-examples/minimal-http-server-h2-long-poll.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.sublime-project",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/cmake/FindBrotli.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-tls/minimal-http-server-tls.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-dynamic/minimal-http-server-dynamic.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-buffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-buffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/tls/openssl/openssl-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/misc/lwsac/private-lib-misc-lwsac.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-form-post/minimal-http-server-form-post.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-form-post-lwsac/minimal-http-server-form-post.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-h2-long-poll/minimal-http-server.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-server/minimal-http-server-mimetypes/minimal-http-server-mimetypes.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/system/async-dns/async-dns.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/adopt.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-plugin-broker.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-server/minimal-ws-broker/protocol_lws_minimal.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/ws/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/build-libwebsockets.sh",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/ws/ext/extension-permessage-deflate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/ws/ext/extension.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/ws/ext/extension-permessage-deflate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/wsi.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-proxy-fallback/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/h1/ops-h1.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-fetch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-response.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/rpc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core-net/vhost.c",
		"/home/roman/Projects/plot-cv/make-bitmap.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/client.js.sed",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/raw/minimal-raw-adopt-udp/minimal-raw-adopt-udp.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-adopt.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/plugins/protocol_lws_mirror.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/READMEs/README.jit-trust.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-server/minimal-ws-server-threads/protocol_lws_minimal.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/test-apps/test-sshd.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-server/minimal-ws-server-ring/minimal-ws-server-ring.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-ring.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/misc/lws-ring.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-stream.c",
		"/usr/include/pthread.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-client/minimal-http-client-multi/minimal-http-client-multi.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/READMEs/README.lws_cache.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-protocols-plugins.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-stream.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/core/private-lib-core.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/http-client/minimal-http-client-h2-rxflow/minimal-http-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-response.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet-client-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/lib/roles/http/client/client-http.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-http.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/minnet.c.orig",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/server.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/log.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/client.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-ws.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/spawn.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/test-server-http.js"
	],
	"find":
	{
		"height": 41.0
	},
	"find_in_files":
	{
		"height": 131.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.cmake,-*/inst/*,-*/build/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.cmake",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h",
			"",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/[^i]*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/i*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/[!i]*,-*/curl/*,<open files>",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/[!i]*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/[!i]*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*,-*/libwebsockets/*,-*/curl/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/inst/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/libwebsockets/*",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.js,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets,*.h,*.c",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets,*.h,*.c",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/libwebsockets/*,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets,*.h,*.c",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/libwebsockets/*,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include,*.h",
			"/home/roman/Projects/plot-cv/quickjs/qjs-net,/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/libwebsockets*/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*,-*/libwebsockets/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/brotli/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/libwebsockets/*,-*/brotli/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/mbedtls/*,-*/libwebsockets/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net,*.c,*.h,*.txt,*.cmake,-*/build/*,-*/libwebsockets/*",
			",/home/roman/Projects/plot-cv/quickjs/qjs-net.*.c,*.h,*.txt,*.cmake,-*/build/*,-*/libwebsockets/*",
			"*.c,*.h,*.txt,*.cmake,-*/build/*",
			"*.c,*.h,*.txt,*.cmakem,-*/build/*",
			"*.c,*.h,*.txt,-*/build/*",
			"*.c,*.h,-*/build/*",
			"*.c,*.h,-*/build/*,-*/libwebsockets/*",
			"*.c,*.h,-*/build/*",
			"*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/net,-*/build/*,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/net,-*/build/*,-*/libwebsockets/*,*.c,*.h",
			"/home/roman/Projects/plot-cv/quickjs/net,-*/build/*,*.c,*.h",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"handleCmd",
			"lws_write\\(",
			"hdr_sim",
			"WSI_TOKEN.*PROTOCOL",
			"new_interval",
			"io_events",
			"malloc.*MinnetWeb",
			"mallocz(ctx, sizeof(MinnetWeb",
			"malloc.*MinnetWeb",
			"defprot_callback",
			"ws_from",
			"lws_opaqu",
			"lws_opaque",
			"handler_closure",
			"ZLIB_LIBRAR",
			"CMAKE_INCLUDE_PATH",
			"FindOpenSSL",
			"\" \"-",
			"LIBWEBSOCKETS_ARGS \\${LIBWEBSOCKETS_ARGS} \"",
			"INCLUDE_PATH",
			"OPENSSL_LIBRARIES",
			"chose_ssl",
			"OpenSSL include",
			"OPENSSL_LIBRARIES",
			"LWS_OPENSSL_LIBRARIES",
			"ssl",
			"ssl;",
			";ssl",
			"handler_closure",
			"js_malloc",
			"THREAD_ID",
			"lws_service_tsi",
			"GET_THREAD_ID",
			"lws_opaque",
			"opaque->ws =",
			"ws =",
			"js_malloc",
			"minnet_ws_new",
			"js_malloc.*MinnetWeb",
			"lws_opaque\\(",
			"lws_opaque",
			"ws_dup",
			"minnet_ws_send",
			"= lws_opaque",
			"minnet_server_timeout",
			"JSFreeValue",
			"poll\\(",
			"LWS_HAVE_HMAC_CTX_new",
			"HMAC",
			"WITH_DEP",
			"LINK_TEST",
			"handler",
			"\"os\"",
			"\"<html",
			"<thml",
			"js_malloc.*opaque",
			"js_malloc",
			"lws_opaque\\(",
			"lws_opaque",
			"http_server_writable",
			"serve_file",
			"http_server_respond",
			"resp =",
			"req",
			"js_symbol_static_atom",
			"js_symbol_static_value",
			"opaque =",
			" ws_free",
			"ws_free",
			"response_zero",
			"lws_service_adjust",
			"lws_set_timeout",
			"create_context",
			"timeout_secs",
			"on immor",
			"http_server_writable",
			"opaque->req =",
			"tag_prefix",
			"\"mux\"",
			"wsisrv",
			"\"mux",
			"mux\\|",
			"mux",
			"lwsl_wsi\\(",
			"lwsl_wsi_err",
			"^lwsl_wsi_err",
			"on immor",
			"fromwsi",
			"ws_new",
			"http_server_writable",
			"request_dup",
			"request_free\\(",
			"minnet_ws_object",
			"->obj",
			"lws_close_free_wsi",
			"check_func",
			"strlcpy",
			"ESTABLISHED",
			"minnet_emit",
			"\\.connect",
			"connect",
			"ws_obj =",
			"__lws_close_free_wsi_final",
			"lws_close",
			"LWS_CALLBACK_HTTP_FILE_COMPLETION",
			"WSI_DESTROY",
			"session_clear",
			"session_object",
			"MinnetSession",
			"session_zero",
			"minnet_get_sessions",
			"url_len",
			"url_string",
			"init_list_head",
			"CALLBACK_PROTOCOL",
			"CALLBACK_PROTOCOL_",
			"HTTP_FILE_COMPLETION:",
			"case HTTP_FILE_COMPLETION:",
			"^\\s*.*\\(.*CMAKE_INSTALL_RPATH",
			"^\\s*set\\(CMAKE_INSTALL_RPATH",
			"CMAKE_INSTALL_RPATH",
			"lws_get_vhost\\(",
			"struct lws_vhost {",
			"struct lws_vhost",
			"vhost",
			"LWS_CALLBACK_FILTER_HTTP_CONNECTION",
			"OPENSSL_LIBRARY_DIR",
			"CMAKE_INSTALL_RPATH"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			" -",
			"LIBWEBSOCKETS_ARGS \"${LIBWEBSOCKETS_ARGS} ",
			"JS_FreeValue",
			"pathlen",
			"ctx",
			"*url",
			"url->",
			"->",
			"libressl",
			"LIBRESSL_SSL_LIB_NAME",
			"_TLS_",
			"libressl",
			"buf->",
			"info->",
			"info.",
			"info->",
			"minnet_url_data2(ctx, this_val)",
			"url_\\1(",
			"url_valid(",
			"url_format(req->url",
			"other.",
			"const MinnetURL",
			"url.",
			"const MinnetURL",
			"LIBWEBSOCKETS_LIBRARY_DIR",
			"LIBWEBSOCKETS_LIBRARIES",
			"INCLUDE_DIR",
			"LIBWEBSOCKETS_INCLUDE_DIR",
			" \\\\\\n\\t-D",
			"LIBWEBSOCKETS_",
			"LOG(\"\\1\", \"\\2\"",
			"}\\1\\n\\n\\2",
			"ZLIB_LIBRARY_",
			"MinnetBrokerMessage",
			"struct msg__broker",
			"MinnetBrokerSession",
			"MinnetBrokerPerVhostData",
			"close_status",
			"LIBWEBSOCKETS_LIBRARY",
			"ret = -1; break;",
			"break",
			"url->",
			"",
			"context->",
			"client->context.info.",
			"value",
			"minnet_request_data2(ctx, this_val)",
			"minnet_response_data2(ctx, this_val)",
			"JSValueConst argv[]",
			"}\\n\\n\\1",
			"",
			"\"",
			"JS_INDEX_STRING_DEF",
			"ca",
			"info->",
			"/\\*(sizeof\\(MinnetSession\\))\\*/0",
			"/*\\1*/",
			"/*&*/",
			"/*\\&*/",
			"/*&*/",
			"server->",
			"server",
			"server->",
			"",
			"context->info.",
			"#",
			"server",
			"client->context.error",
			"buf",
			"p",
			"pollfd",
			"pfd->",
			"opaque->pfd",
			"opaque",
			"ws->status",
			"ws->pfd",
			"opaque->pfd",
			"MinnetBlock",
			"block_SIZ",
			"blk",
			"MINNET_BUFFER_H",
			"buf->",
			"",
			"\\1fprintf(stderr,",
			"conn->",
			"reason",
			"%-38s",
			"info",
			"info->",
			".connect_info.",
			"->connect_info.",
			"args",
			"",
			"events",
			"log(`",
			"log",
			"type",
			"worker",
			"opaque->status",
			"client->status",
			"sess->status",
			"client->status",
			"opaque->responded",
			"opaque->closed",
			"opaque->connected",
			"client->cb_",
			"client.cb_",
			"client_cb.",
			"CLIENT",
			"client->",
			"client.cb_",
			"info->",
			"url->",
			"",
			"path",
			")) {",
			"method",
			"protocol",
			"raw",
			"ssl",
			"client.url.",
			"JSValueConst argv[]",
			"c->pfd.fd",
			"c->pfd.\\1",
			" c->fd",
			"lwsl_user",
			"cli",
			"MinnetSession"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": false,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": null,
							"function_name_status_row": 13,
							"outline_rename_mode": false,
							"symkeys":
							[
							],
							"symlist":
							[
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649280086.58,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "minnet-client.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1042,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1647075261.88,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 2,
					"file": "minnet-server-http.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22716,
						"regions":
						{
						},
						"selection":
						[
							[
								22190,
								22190
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 749,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649277030.51,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true,
							"word_wrap": true
						},
						"translation.x": 0.0,
						"translation.y": 15058.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "minnet-client.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1042,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649269480.48,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 26,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "minnet-server.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 874,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649269481.24,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 27,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "minnet-buffer.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3948,
						"regions":
						{
						},
						"selection":
						[
							[
								1695,
								1695
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 63,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649044766.39,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 781.0,
						"zoom_level": 1.0
					},
					"stack_index": 40,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "libwebsockets/lib/core-net/wsi-timeout.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8699,
						"regions":
						{
						},
						"selection":
						[
							[
								5212,
								5212
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 165,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649038200.48,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2654.0,
						"zoom_level": 1.0
					},
					"stack_index": 48,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "libwebsockets/include/libwebsockets/lws-logs.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 24350,
						"regions":
						{
						},
						"selection":
						[
							[
								15680,
								15688
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 508,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649036590.42,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 9361.0,
						"zoom_level": 1.0
					},
					"stack_index": 50,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "libwebsockets/lib/core/context.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 59750,
						"regions":
						{
						},
						"selection":
						[
							[
								9559,
								9559
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 380,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1649036743.53,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 6474.0,
						"zoom_level": 1.0
					},
					"stack_index": 49,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "libwebsockets/include/libwebsockets/lws-callbacks.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 37291,
						"regions":
						{
						},
						"selection":
						[
							[
								32840,
								32873
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 816,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649267932.47,
							"tabs_extra_last_activated_sheet_index": 6,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 15898.0,
						"zoom_level": 1.0
					},
					"stack_index": 30,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "libwebsockets/lib/roles/h2/ops-h2.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 39157,
						"regions":
						{
						},
						"selection":
						[
							[
								30750,
								30750
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1125,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649038253.97,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 21091.0,
						"zoom_level": 1.0
					},
					"stack_index": 47,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "libwebsockets/lib/roles/http/server/server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 88080,
						"regions":
						{
						},
						"selection":
						[
							[
								82066,
								82078
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 3188,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649038779.94,
							"tabs_extra_last_activated_sheet_index": 6,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 58502.0,
						"zoom_level": 1.0
					},
					"stack_index": 46,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "minnet-server-proxy.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5374,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649266262.33,
							"tabs_extra_last_activated_sheet_index": 9,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 300.0,
						"zoom_level": 1.0
					},
					"stack_index": 31,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "libwebsockets/lib/core/private-lib-core.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 24455,
						"regions":
						{
						},
						"selection":
						[
							[
								16770,
								16782
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 698,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1649038780.63,
							"tabs_extra_last_activated_sheet_index": 8,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 12839.0,
						"zoom_level": 1.0
					},
					"stack_index": 45,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "libwebsockets/test-apps/test-server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 19417,
						"regions":
						{
						},
						"selection":
						[
							[
								18678,
								18693
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 712,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649268546.71,
							"tabs_extra_last_activated_sheet_index": 11,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 13818.0,
						"zoom_level": 1.0
					},
					"stack_index": 29,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "libwebsockets/minimal-examples/http-client/minimal-http-client-hugeurl/minimal-http-client-hugeurl.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6594,
						"regions":
						{
						},
						"selection":
						[
							[
								5129,
								5186
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 163,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649264445.75,
							"tabs_extra_last_activated_sheet_index": 12,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2806.0,
						"zoom_level": 1.0
					},
					"stack_index": 33,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 15,
					"file": "minnet-server-ws.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6867,
						"regions":
						{
							"col_DD8800FF":
							{
								"flags": 16,
								"regions":
								[
									[
										4866,
										4876
									],
									[
										5032,
										5042
									]
								],
								"scope": "col_DD8800FF"
							},
							"col_DD8800FF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_DD8800FF_circle.png",
								"regions":
								[
									[
										4843,
										4843
									],
									[
										5009,
										5009
									]
								],
								"scope": "col_gutter"
							}
						},
						"selection":
						[
							[
								2445,
								2445
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 78,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649279344.4,
							"tabs_extra_last_activated_sheet_index": 14,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1105.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "libwebsockets/include/libwebsockets/lws-write.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10215,
						"regions":
						{
						},
						"selection":
						[
							[
								2485,
								2559
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 64,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1649280068.0,
							"tabs_extra_last_activated_sheet_index": 15,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2678.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "minnet-server-proxy.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 623,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649279079.24,
							"tabs_extra_last_activated_sheet_index": 15,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14937,
						"regions":
						{
						},
						"selection":
						[
							[
								4243,
								4243
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 172,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649266037.46,
							"tabs_extra_last_activated_sheet_index": 14,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 3440.0,
						"zoom_level": 1.0
					},
					"stack_index": 32,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "minnet-ringbuffer.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1969,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649032126.31,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 52,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 20,
					"file": "minnet-server-http.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1734,
						"regions":
						{
						},
						"selection":
						[
							[
								1408,
								1430
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 40,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649269880.74,
							"tabs_extra_last_activated_sheet_index": 17,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 19,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 21,
					"file": "minnet-server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16839,
						"regions":
						{
						},
						"selection":
						[
							[
								7138,
								7138
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 212,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649277356.07,
							"tabs_extra_last_activated_sheet_index": 18,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3505.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 22,
					"file": "libwebsockets/include/libwebsockets/lws-timeout-timer.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11652,
						"regions":
						{
						},
						"selection":
						[
							[
								4132,
								4147
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 100,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1649261557.86,
							"tabs_extra_last_activated_sheet_index": 17,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5244.0,
						"zoom_level": 1.0
					},
					"stack_index": 35,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 23,
					"file": "libwebsockets/include/libwebsockets/lws-service.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7679,
						"regions":
						{
						},
						"selection":
						[
							[
								2627,
								2627
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 139,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649267710.83,
							"tabs_extra_last_activated_sheet_index": 19,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 989.0,
						"zoom_level": 1.0
					},
					"stack_index": 44,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 24,
					"file": "build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-context-vhost.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 56539,
						"regions":
						{
						},
						"selection":
						[
							[
								13142,
								13155
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 279,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649242946.66,
							"tabs_extra_last_activated_sheet_index": 19,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 4885.0,
						"zoom_level": 1.0
					},
					"stack_index": 37,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 25,
					"file": "libwebsockets/include/libwebsockets/lws-protocols-plugins.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14480,
						"regions":
						{
						},
						"selection":
						[
							[
								1880,
								1880
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 43,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649274520.0,
							"tabs_extra_last_activated_sheet_index": 22,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 622.0,
						"zoom_level": 1.0
					},
					"stack_index": 17,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 26,
					"file": "minnet.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 26107,
						"regions":
						{
						},
						"selection":
						[
							[
								13748,
								13748
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 549,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649277762.6,
							"tabs_extra_last_activated_sheet_index": 23,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 10405.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 27,
					"file": "libwebsockets/include/libwebsockets/lws-http.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 36626,
						"regions":
						{
						},
						"selection":
						[
							[
								7895,
								7912
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 215,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 3,
							"tabs_extra_last_activated": 1649277759.34,
							"tabs_extra_last_activated_sheet_index": 24,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4218.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 28,
					"file": "minnet-fetch.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10250,
						"regions":
						{
						},
						"selection":
						[
							[
								2043,
								2169
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 81,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649274518.53,
							"tabs_extra_last_activated_sheet_index": 24,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1260.0,
						"zoom_level": 1.0
					},
					"stack_index": 18,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 29,
					"file": "minnet.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8334,
						"regions":
						{
						},
						"selection":
						[
							[
								3984,
								4004
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 139,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649274521.11,
							"tabs_extra_last_activated_sheet_index": 25,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2620.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 30,
					"file": "minnet-response.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1977,
						"regions":
						{
						},
						"selection":
						[
							[
								1495,
								1495
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 45,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649053466.22,
							"tabs_extra_last_activated_sheet_index": 23,
							"tabs_extra_moving":
							[
								2,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 360.0,
						"zoom_level": 1.0
					},
					"stack_index": 38,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 31,
					"file": "minnet-websocket.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2851,
						"regions":
						{
						},
						"selection":
						[
							[
								1328,
								1349
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 47,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649274522.93,
							"tabs_extra_last_activated_sheet_index": 27,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 465.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 32,
					"file": "minnet-client.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16692,
						"regions":
						{
						},
						"selection":
						[
							[
								13692,
								13761
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 492,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649269478.05,
							"tabs_extra_last_activated_sheet_index": 28,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 9480.0,
						"zoom_level": 1.0
					},
					"stack_index": 25,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 33,
					"file": "minnet-request.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2859,
						"regions":
						{
						},
						"selection":
						[
							[
								855,
								870
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 29,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649280201.02,
							"tabs_extra_last_activated_sheet_index": 32,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 34,
					"file": "minnet-websocket.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21410,
						"regions":
						{
						},
						"selection":
						[
							[
								5973,
								5980
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 274,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649280237.13,
							"tabs_extra_last_activated_sheet_index": 33,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5145.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 35,
					"file": "wscli.js",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9685,
						"regions":
						{
							"col_0087FFFF":
							{
								"flags": 16,
								"regions":
								[
									[
										3525,
										3538
									]
								],
								"scope": "col_0087FFFF"
							},
							"col_0087FFFF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_0087FFFF_circle.png",
								"regions":
								[
									[
										3491,
										3491
									]
								],
								"scope": "col_gutter"
							},
							"col_00D700FF":
							{
								"flags": 16,
								"regions":
								[
									[
										3502,
										3515
									]
								],
								"scope": "col_00D700FF"
							},
							"col_00D700FF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_00D700FF_circle.png",
								"regions":
								[
									[
										3491,
										3491
									]
								],
								"scope": "col_gutter"
							}
						},
						"selection":
						[
							[
								4082,
								4091
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 168,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649281328.98,
							"tabs_extra_last_activated_sheet_index": 34,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2640.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 36,
					"file": "minnet-client-http.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7522,
						"regions":
						{
						},
						"selection":
						[
							[
								562,
								562
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 19,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649268813.66,
							"tabs_extra_last_activated_sheet_index": 30,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 28,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 37,
					"file": "minnet-url.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18850,
						"regions":
						{
						},
						"selection":
						[
							[
								8788,
								8788
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 389,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649279174.47,
							"tabs_extra_last_activated_sheet_index": 34,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 7051.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 38,
					"file": "/home/roman/Projects/plot-cv/quickjs/quickjs.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 40236,
						"regions":
						{
						},
						"selection":
						[
							[
								34727,
								34743
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 905,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649042306.27,
							"tabs_extra_last_activated_sheet_index": 28,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 16684.0,
						"zoom_level": 1.0
					},
					"stack_index": 41,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 39,
					"file": "jsutils.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5133,
						"regions":
						{
						},
						"selection":
						[
							[
								2337,
								2337
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 64,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649278704.4,
							"tabs_extra_last_activated_sheet_index": 35,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 865.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 40,
					"file": "cmake/functions.cmake",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4621,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/User/Themes/CMake.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649262393.53,
							"tabs_extra_last_activated_sheet_index": 33,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1026.0,
						"zoom_level": 1.0
					},
					"stack_index": 53,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 41,
					"file": "minnet-request.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11384,
						"regions":
						{
						},
						"selection":
						[
							[
								3445,
								3445
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 151,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649277766.32,
							"tabs_extra_last_activated_sheet_index": 37,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2073.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 42,
					"file": "jsutils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14108,
						"regions":
						{
						},
						"selection":
						[
							[
								8499,
								8515
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 330,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649261117.77,
							"tabs_extra_last_activated_sheet_index": 35,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6185.0,
						"zoom_level": 1.0
					},
					"stack_index": 34,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 43,
					"file": "libwebsockets/minimal-examples/http-server/minimal-http-server-eventlib-custom/minimal-http-server.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11288,
						"regions":
						{
						},
						"selection":
						[
							[
								3217,
								3243
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 134,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649258628.02,
							"tabs_extra_last_activated_sheet_index": 36,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2338.0,
						"zoom_level": 1.0
					},
					"stack_index": 36,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 44,
					"file": "cmake/BuildLibwebsockets.cmake",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14137,
						"regions":
						{
						},
						"selection":
						[
							[
								9835,
								9835
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 186,
							"syntax": "Packages/CMake/CMake.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649272793.58,
							"tabs_extra_last_activated_sheet_index": 39,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3305.0,
						"zoom_level": 1.0
					},
					"stack_index": 20,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 45,
					"file": "minnet-websocket.c.orig",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 20763,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/Text/Plain text.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649280069.82,
							"tabs_extra_last_activated_sheet_index": 43,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 46,
					"file": "libwebsockets/lib/roles/http/server/access-log.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5914,
						"regions":
						{
						},
						"selection":
						[
							[
								2006,
								2006
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 59,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649272403.95,
							"tabs_extra_last_activated_sheet_index": 40,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 758.0,
						"zoom_level": 1.0
					},
					"stack_index": 21,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 47,
					"file": "cmake/FindLibreSSL.cmake",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4972,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649271560.61,
							"tabs_extra_last_activated_sheet_index": 40,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1080.0,
						"zoom_level": 1.0
					},
					"stack_index": 23,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 48,
					"file": "libwebsockets/lib/tls/CMakeLists.txt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23160,
						"regions":
						{
						},
						"selection":
						[
							[
								8466,
								8475
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 263,
							"syntax": "Packages/User/Themes/CMake.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649271043.07,
							"tabs_extra_last_activated_sheet_index": 40,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 4845.0,
						"zoom_level": 1.0
					},
					"stack_index": 24,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 49,
					"file": "minnet-response.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12282,
						"regions":
						{
						},
						"selection":
						[
							[
								2057,
								2057
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 77,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649053465.79,
							"tabs_extra_last_activated_sheet_index": 35,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 249.0,
						"zoom_level": 1.0
					},
					"stack_index": 39,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 50,
					"file": "libwebsockets/lib/core-net/close.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 27367,
						"regions":
						{
						},
						"selection":
						[
							[
								26988,
								27004
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1007,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1649039369.0,
							"tabs_extra_last_activated_sheet_index": 31,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 18842.0,
						"zoom_level": 1.0
					},
					"stack_index": 42,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 51,
					"file": "build/x86_64-linux-debug/libwebsockets/include/libwebsockets/lws-ws-close.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6056,
						"regions":
						{
						},
						"selection":
						[
							[
								1661,
								1686
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 39,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649039367.61,
							"tabs_extra_last_activated_sheet_index": 32,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 431.0,
						"zoom_level": 1.0
					},
					"stack_index": 43,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 52,
					"file": "/home/roman/Projects/plot-cv/quickjs/list.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2980,
						"regions":
						{
						},
						"selection":
						[
							[
								2236,
								2244
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 39,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649032903.17,
							"tabs_extra_last_activated_sheet_index": 21,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 895.0,
						"zoom_level": 1.0
					},
					"stack_index": 51,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 53,
					"file": "minnet-url.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3620,
						"regions":
						{
						},
						"selection":
						[
							[
								647,
								662
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 31,
							"syntax": "Packages/C++/C.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649279169.45,
							"tabs_extra_last_activated_sheet_index": 50,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 78.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 54,
					"file": "CMakeLists.txt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21077,
						"regions":
						{
						},
						"selection":
						[
							[
								4763,
								4763
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 154,
							"syntax": "Packages/User/Themes/CMake.sublime-syntax",
							"tab_size": 2,
							"tabs_extra_last_activated": 1649271643.54,
							"tabs_extra_last_activated_sheet_index": 47,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3345.0,
						"zoom_level": 1.0
					},
					"stack_index": 22,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 29.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
			0.79872935197,
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 139.0
	},
	"output.Debugger: Console":
	{
		"height": 0.0
	},
	"output.Debugger: Protocol":
	{
		"height": 0.0
	},
	"output.Protocol":
	{
		"height": 0.0
	},
	"output.Protocol(139621680568160)":
	{
		"height": 0.0
	},
	"output.Protocol(139700989541680)":
	{
		"height": 0.0
	},
	"output.Protocol(139717986943088)":
	{
		"height": 0.0
	},
	"output.Protocol(139743392670576)":
	{
		"height": 0.0
	},
	"output.Protocol(139869175665040)":
	{
		"height": 0.0
	},
	"output.Protocol(140020109820736)":
	{
		"height": 0.0
	},
	"output.Protocol(140057994913632)":
	{
		"height": 0.0
	},
	"output.Protocol(140125752776880)":
	{
		"height": 0.0
	},
	"output.Protocol(140264240552496)":
	{
		"height": 0.0
	},
	"output.Protocol(140274144495648)":
	{
		"height": 0.0
	},
	"output.Protocol(140405755060768)":
	{
		"height": 0.0
	},
	"output.Protocol(140444770975856)":
	{
		"height": 0.0
	},
	"output.Protocol(140481508534208)":
	{
		"height": 0.0
	},
	"output.Protocol(140490298804784)":
	{
		"height": 0.0
	},
	"output.Protocol(140502873587376)":
	{
		"height": 0.0
	},
	"output.Protocol(140517145605216)":
	{
		"height": 0.0
	},
	"output.Protocol(140557325395472)":
	{
		"height": 0.0
	},
	"output.Protocol(140585353889632)":
	{
		"height": 0.0
	},
	"output.Protocol(140603238031120)":
	{
		"height": 0.0
	},
	"output.Protocol(140614611112432)":
	{
		"height": 0.0
	},
	"output.Protocol(140677935927792)":
	{
		"height": 0.0
	},
	"output.coffeecompile_output":
	{
		"height": 144.0
	},
	"output.exec":
	{
		"height": 304.0
	},
	"output.find_results":
	{
		"height": 304.0
	},
	"pinned_build_system": "Rebuild CScope",
	"project": "minnet.sublime-project",
	"replace":
	{
		"height": 74.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"wscli",
				"wscli.js"
			],
			[
				"lws-write",
				"libwebsockets/include/libwebsockets/lws-write.h"
			],
			[
				"lws-htt",
				"libwebsockets/include/libwebsockets/lws-http.h"
			],
			[
				"-ws.c",
				"minnet-server-ws.c"
			],
			[
				"minnet-server.c",
				"minnet-server.c"
			],
			[
				"innet-server.c",
				"minnet-server.c"
			],
			[
				"build",
				"cmake/BuildLibwebsockets.cmake"
			],
			[
				"access-lo",
				"libwebsockets/lib/roles/http/server/access-log.c"
			],
			[
				"buildlib",
				"cmake/BuildLibwebsockets.cmake"
			],
			[
				"minnet.c",
				"minnet.c"
			],
			[
				"lws-call",
				"libwebsockets/include/libwebsockets/lws-callbacks.h"
			],
			[
				"server-htt",
				"minnet-server-http.c"
			],
			[
				"lws_raw_",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				"server-ws",
				"minnet-server-ws.c"
			],
			[
				"minnet-server-htt",
				"minnet-server-http.c"
			],
			[
				"server.c",
				"libwebsockets/lib/roles/http/server/server.c"
			],
			[
				"wsi-time",
				"libwebsockets/lib/core-net/wsi-timeout.c"
			],
			[
				"url.h",
				"minnet-url.h"
			],
			[
				"list.h",
				"curl/lib/llist.h"
			],
			[
				"lws-vho",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"minnet-req",
				"minnet-request.h"
			],
			[
				"vhost",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"minnet-request",
				"minnet-request.c"
			],
			[
				"minnet-ur",
				"minnet-url.c"
			],
			[
				"minnet-url",
				"minnet-url.h"
			],
			[
				"server-http",
				"minnet-server-http.c"
			],
			[
				"raw_proy",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				"inimal-http-server-pr",
				"build/x86_64-linux-debug/minimal-examples/minimal-http-server-proxy.c"
			],
			[
				"lws-conte",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"jsutil",
				"jsutils.c"
			],
			[
				"lws-con",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"uffer.h",
				"minnet-buffer.h"
			],
			[
				"ws.c",
				"minnet-server-ws.c"
			],
			[
				"minnet-server",
				"minnet-server.c"
			],
			[
				"openssl-server",
				"libwebsockets/lib/tls/openssl/openssl-server.c"
			],
			[
				"findlibw",
				"cmake/FindLibwebsockets.cmake"
			],
			[
				"FindLib",
				"cmake/FindLibwebsockets.cmake"
			],
			[
				"raw-proxy-fall",
				"libwebsockets/minimal-examples/raw/minimal-raw-proxy-fallback/minimal-raw-proxy-fallback.c"
			],
			[
				"build-li",
				"build-libwebsockets.sh"
			],
			[
				"extension-p",
				"libwebsockets/lib/roles/ws/ext/extension-permessage-deflate.h"
			],
			[
				"async",
				"libwebsockets/lib/system/async-dns/async-dns.c"
			],
			[
				"adopt.c",
				"libwebsockets/lib/core-net/adopt.c"
			],
			[
				"vhost.h",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"adopt.h",
				"libwebsockets/include/libwebsockets/lws-adopt.h"
			],
			[
				"adopt",
				"libwebsockets/minimal-examples/raw/minimal-raw-adopt-udp/minimal-raw-adopt-udp.c"
			],
			[
				"async-dn",
				"libwebsockets/lib/system/async-dns/async-dns.c"
			],
			[
				"lws-ad",
				"libwebsockets/include/libwebsockets/lws-adopt.h"
			],
			[
				"lws-ring",
				"libwebsockets/include/libwebsockets/lws-ring.h"
			],
			[
				"ring",
				"libwebsockets/minimal-examples/ws-server/minimal-ws-server-ring/minimal-ws-server-ring.c"
			],
			[
				"minnet-strea",
				"minnet-stream.c"
			],
			[
				"private-lib",
				"libwebsockets/lib/core/private-lib-core.h"
			],
			[
				"lws-http",
				"libwebsockets/include/libwebsockets/lws-http.h"
			],
			[
				"minnet-cli",
				"minnet-client.c"
			],
			[
				"test-cli",
				"tests/test-client.js"
			],
			[
				"async-dns",
				"libwebsockets/lib/system/async-dns/async-dns.c"
			],
			[
				"test-fe",
				"tests/test-fetch.js"
			],
			[
				"wscli.js",
				"wscli.js"
			],
			[
				"lws-clie",
				"libwebsockets/include/libwebsockets/lws-client.h"
			],
			[
				"wscli.j",
				"wscli.js"
			],
			[
				"minnet.h",
				"minnet.h"
			],
			[
				"",
				"minnet.c"
			],
			[
				"test-rpc",
				"test-rpc.js"
			],
			[
				"de",
				"libwebsockets/scripts/dox-extra.css"
			],
			[
				"path.c",
				"curl/lib/curl_path.c"
			],
			[
				"minnet-buff",
				"minnet-buffer.h"
			],
			[
				"minnet-web",
				"minnet-websocket.h"
			],
			[
				"minnet-buffer",
				"minnet-buffer.h"
			],
			[
				"request",
				"minnet-request.c"
			],
			[
				"lws-cal",
				"libwebsockets/include/libwebsockets/lws-callbacks.h"
			],
			[
				"test-li",
				"tests/test-client.js"
			],
			[
				"test-client.js",
				"test-client.js.sed"
			],
			[
				"client.js",
				"tests/client.js"
			],
			[
				"buffer.h",
				"minnet-buffer.h"
			],
			[
				"minnet-ser",
				"minnet-server.c"
			],
			[
				"minnet-clie",
				"minnet-client.c"
			],
			[
				"cmakeli",
				"CMakeLists.txt"
			],
			[
				"server.js",
				"tests/server.js"
			],
			[
				"rpc.j",
				"rpc.js"
			],
			[
				"http-post",
				"libwebsockets/minimal-examples/http-client/minimal-http-client-post/minimal-http-client-post.c"
			],
			[
				"jsutils",
				"jsutils.c"
			],
			[
				"post",
				"libwebsockets/minimal-examples/http-client/minimal-http-client-post/minimal-http-client-post.c"
			],
			[
				"post-",
				"libwebsockets/build/x86_64-linux-gnu/bin/lws-minimal-http-server-form-post-file"
			],
			[
				"-post",
				"libwebsockets/minimal-examples/http-client/minimal-http-client-post/minimal-http-client-post.c"
			],
			[
				"rpc.js",
				"rpc.js"
			],
			[
				"ops-h1",
				"libwebsockets/lib/roles/h1/ops-h1.c"
			],
			[
				"libwebsockets.h",
				"libwebsockets/include/libwebsockets.h"
			],
			[
				"lws-context",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"websockets.h",
				"libwebsockets/include/libwebsockets.h"
			],
			[
				"raw-netcat",
				"libwebsockets/minimal-examples/raw/minimal-raw-netcat/minimal-raw-netcat.c"
			],
			[
				"adopt-raw",
				"libwebsockets/minimal-examples/raw/minimal-raw-adopt-tcp/minimal-raw-adopt-tcp.c"
			],
			[
				"client-post",
				"libwebsockets/minimal-examples/http-client/minimal-http-client-post/minimal-http-client-post.c"
			],
			[
				"post.c",
				"curl/docs/examples/http-post.c"
			],
			[
				"client",
				"libwebsockets/lib/roles/http/client/client-http.c"
			],
			[
				"server-dead",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-deaddrop/minimal-http-server-deaddrop.c"
			],
			[
				"lws_raw_pr",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				"poll.c",
				"poll.c"
			],
			[
				"libweb",
				"libwebsockets/include/libwebsockets.h"
			],
			[
				"output.c",
				"libwebsockets/lib/core-net/output.c"
			],
			[
				"connect3",
				"libwebsockets/lib/core-net/client/connect3.c"
			],
			[
				"connect.c",
				"libwebsockets/lib/core-net/client/connect.c"
			],
			[
				"close",
				"libwebsockets/lib/core-net/close.c"
			],
			[
				"lws-ca",
				"libwebsockets/include/libwebsockets/lws-callbacks.h"
			],
			[
				"lws-",
				"libwebsockets/include/libwebsockets/lws-callbacks.h"
			],
			[
				"lws_raw",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				".js",
				"libwebsockets/test-apps/test.js"
			],
			[
				"libwebsockets/CM",
				"libwebsockets/CMakeLists.txt"
			],
			[
				"jsu",
				"jsutils.c"
			],
			[
				"mime",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-mimetypes/minimal-http-server-mimetypes.c"
			],
			[
				"form-post-file",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-form-post-file/minimal-http-server-form-post-file.c"
			],
			[
				"ops-h2",
				"libwebsockets/lib/roles/h2/ops-h2.c"
			],
			[
				"tls-mem",
				"libwebsockets/minimal-examples/http-server/minimal-http-server-tls-mem/minimal-http-server-tls-mem.c"
			],
			[
				"minnet-client.c",
				"minnet-client.c"
			],
			[
				"BuildLi",
				"cmake/BuildLibwebsockets.cmake"
			],
			[
				"buffer.c",
				"buffer.c"
			],
			[
				"9",
				"libwebsockets/lib/drivers/devices/display/ili9341.h"
			],
			[
				"proxy.c",
				"minnet-server-proxy.c"
			],
			[
				"raw-proxy",
				"libwebsockets/minimal-examples-lowlevel/raw/minimal-raw-proxy/minimal-raw-proxy.c"
			],
			[
				"ws-raw-",
				"libwebsockets/minimal-examples-lowlevel/ws-server/minimal-ws-raw-proxy/minimal-ws-raw-proxy.c"
			],
			[
				"lws_raw_pro",
				"libwebsockets/plugins/raw-proxy/protocol_lws_raw_proxy.c"
			],
			[
				"ops-ws",
				"libwebsockets/lib/roles/ws/ops-ws.c"
			],
			[
				"rpc",
				"rpc.js"
			],
			[
				"events.js",
				"~/Projects/plot-cv/lib/events.js"
			],
			[
				"debugger.js",
				"~/Projects/plot-cv/debugger.js"
			],
			[
				"lws-ado",
				"libwebsockets/include/libwebsockets/lws-adopt.h"
			],
			[
				"test-rp",
				"~/Projects/plot-cv/test-rpc.js"
			],
			[
				"cmakelists-im",
				"libwebsockets/CMakeLists-implied-options.txt"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 309.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 359.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
