# https://gittup.org/tup/manual.html
include_rules

UNICODE_FILES=./downloaded/CaseFolding.txt \
./downloaded/DerivedNormalizationProps.txt \
./downloaded/PropList.txt \
./downloaded/SpecialCasing.txt \
./downloaded/CompositionExclusions.txt \
./downloaded/ScriptExtensions.txt \
./downloaded/UnicodeData.txt \
./downloaded/DerivedCoreProperties.txt \
./downloaded/NormalizationTest.txt \
./downloaded/Scripts.txt \
./downloaded/PropertyValueAliases.txt \
./downloaded/emoji-data.txt

: ../cutils/cutils.host.o unicode_gen.c |> !compile_host_c_program |> unicode_gen.host

: unicode_gen.host $(UNICODE_FILES) |> ./unicode_gen.host downloaded %o |> libunicode-table.h

: libunicode.c | libunicode-table.h |> !compile_host_c_object |> libunicode.host.o
: libunicode.c | libunicode-table.h |> !compile_target_c_object |> libunicode.target.o
