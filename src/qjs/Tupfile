# https://gittup.org/tup/manual.html
include_rules

DEPS = ../cutils/cutils.o
DEPS += ../libbf/libbf.o
DEPS += ../libregexp/libregexp.o
DEPS += ../libunicode/libunicode.o
DEPS += ../quickjs/quickjs.o
DEPS += ../quickjs-libc/quickjs-libc.o
DEPS += ../qjscalc/qjscalc.o
DEPS += ../repl/repl.o

ifdef WIN32
  OUTPUT = qjs.exe
else
  OUTPUT = qjs
endif

: qjs.c $(DEPS) |> !compile_c_program |> $(OUTPUT)
