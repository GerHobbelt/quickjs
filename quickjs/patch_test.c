#include <fenv.h>
#include <string.h>
#include <stdio.h>

#include "patch.h"

const char *rounding_mode_str(int rounding_mode) {
    if (rounding_mode == FE_UPWARD) {
        return "FE_UPWARD";
    } else if (rounding_mode == FE_DOWNWARD) {
        return "FE_DOWNWARD";
    } else if (rounding_mode == FE_TOWARDZERO) {
        return "FE_TOWARDZERO";
    } else if (rounding_mode == FE_TONEAREST) {
        return "FE_TONEAREST";
    } else {
        return "UNKNOWN";
    }
}

int test_js_e_string_line(const char *except, int rounding_mode, double d, int n_digits) {
    const int buf_size = 128;
    char buf[buf_size];

    int origin_rounding_mode = fegetround();
    fesetround(rounding_mode);

    js_e_string(d, n_digits, rounding_mode, buf, buf_size);

    fesetround(origin_rounding_mode);

    if (strcmp(except, buf) == 0) {
        return 0;
    } else {
        printf("js_e_string, rounding_mode = %s, d = %lf, n_digits = %d\n", rounding_mode_str(rounding_mode), d, n_digits);
        printf("except = %s\n", except);
        printf("actual = %s\n", buf);
        return 1;
    }
}

int test_js_e_string() {
    int result = 0;
    result += test_js_e_string_line("+0e+00", FE_UPWARD, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_UPWARD, -0.0, 1);
    result += test_js_e_string_line("+6e+09", FE_UPWARD, 5500000000, 1);
    result += test_js_e_string_line("+6e-08", FE_UPWARD, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 1.0, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.1, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.4, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.5, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.6, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_UPWARD, 5.0, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.1, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.4, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.5, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.6, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_UPWARD, 9.0, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.1, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.4, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.5, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.6, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.9, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.10, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.11, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.14, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.15, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.16, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_UPWARD, 0.50, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.51, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.54, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.55, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.56, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.59, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.90, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.91, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.94, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.95, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.96, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.4, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.5, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.6, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.4, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.5, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.6, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.4, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.5, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.6, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.15, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.16, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.54, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.55, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.56, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.95, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.96, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_UPWARD, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_UPWARD, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_UPWARD, 5500000000, 2);
    result += test_js_e_string_line("+5.6e-08", FE_UPWARD, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_UPWARD, 1.0, 2);
    result += test_js_e_string_line("+1.2e+00", FE_UPWARD, 1.1, 2);
    result += test_js_e_string_line("+1.4e+00", FE_UPWARD, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_UPWARD, 1.5, 2);
    result += test_js_e_string_line("+1.7e+00", FE_UPWARD, 1.6, 2);
    result += test_js_e_string_line("+1.9e+00", FE_UPWARD, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_UPWARD, 5.0, 2);
    result += test_js_e_string_line("+5.1e+00", FE_UPWARD, 5.1, 2);
    result += test_js_e_string_line("+5.5e+00", FE_UPWARD, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_UPWARD, 5.5, 2);
    result += test_js_e_string_line("+5.6e+00", FE_UPWARD, 5.6, 2);
    result += test_js_e_string_line("+6.0e+00", FE_UPWARD, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_UPWARD, 9.0, 2);
    result += test_js_e_string_line("+9.1e+00", FE_UPWARD, 9.1, 2);
    result += test_js_e_string_line("+9.5e+00", FE_UPWARD, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_UPWARD, 9.5, 2);
    result += test_js_e_string_line("+9.6e+00", FE_UPWARD, 9.6, 2);
    result += test_js_e_string_line("+1.0e+01", FE_UPWARD, 9.9, 2);
    result += test_js_e_string_line("+1.1e-01", FE_UPWARD, 0.10, 2);
    result += test_js_e_string_line("+1.2e-01", FE_UPWARD, 0.11, 2);
    result += test_js_e_string_line("+1.5e-01", FE_UPWARD, 0.14, 2);
    result += test_js_e_string_line("+1.5e-01", FE_UPWARD, 0.15, 2);
    result += test_js_e_string_line("+1.7e-01", FE_UPWARD, 0.16, 2);
    result += test_js_e_string_line("+2.0e-01", FE_UPWARD, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_UPWARD, 0.50, 2);
    result += test_js_e_string_line("+5.2e-01", FE_UPWARD, 0.51, 2);
    result += test_js_e_string_line("+5.5e-01", FE_UPWARD, 0.54, 2);
    result += test_js_e_string_line("+5.6e-01", FE_UPWARD, 0.55, 2);
    result += test_js_e_string_line("+5.7e-01", FE_UPWARD, 0.56, 2);
    result += test_js_e_string_line("+5.9e-01", FE_UPWARD, 0.59, 2);
    result += test_js_e_string_line("+9.1e-01", FE_UPWARD, 0.90, 2);
    result += test_js_e_string_line("+9.2e-01", FE_UPWARD, 0.91, 2);
    result += test_js_e_string_line("+9.4e-01", FE_UPWARD, 0.94, 2);
    result += test_js_e_string_line("+9.5e-01", FE_UPWARD, 0.95, 2);
    result += test_js_e_string_line("+9.6e-01", FE_UPWARD, 0.96, 2);
    result += test_js_e_string_line("+9.9e-01", FE_UPWARD, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_UPWARD, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_UPWARD, -1.1, 2);
    result += test_js_e_string_line("-1.3e+00", FE_UPWARD, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_UPWARD, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_UPWARD, -1.6, 2);
    result += test_js_e_string_line("-1.8e+00", FE_UPWARD, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_UPWARD, -5.0, 2);
    result += test_js_e_string_line("-5.0e+00", FE_UPWARD, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_UPWARD, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_UPWARD, -5.5, 2);
    result += test_js_e_string_line("-5.5e+00", FE_UPWARD, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_UPWARD, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_UPWARD, -9.0, 2);
    result += test_js_e_string_line("-9.0e+00", FE_UPWARD, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_UPWARD, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_UPWARD, -9.5, 2);
    result += test_js_e_string_line("-9.5e+00", FE_UPWARD, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_UPWARD, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_UPWARD, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_UPWARD, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_UPWARD, -0.14, 2);
    result += test_js_e_string_line("-1.4e-01", FE_UPWARD, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_UPWARD, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_UPWARD, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_UPWARD, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_UPWARD, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_UPWARD, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_UPWARD, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_UPWARD, -0.56, 2);
    result += test_js_e_string_line("-5.8e-01", FE_UPWARD, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_UPWARD, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_UPWARD, -0.91, 2);
    result += test_js_e_string_line("-9.3e-01", FE_UPWARD, -0.94, 2);
    result += test_js_e_string_line("-9.4e-01", FE_UPWARD, -0.95, 2);
    result += test_js_e_string_line("-9.5e-01", FE_UPWARD, -0.96, 2);
    result += test_js_e_string_line("-9.8e-01", FE_UPWARD, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_UPWARD, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_UPWARD, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_UPWARD, 5500000000, 3);
    result += test_js_e_string_line("+5.51e-08", FE_UPWARD, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_UPWARD, 1.0, 3);
    result += test_js_e_string_line("+1.11e+00", FE_UPWARD, 1.1, 3);
    result += test_js_e_string_line("+1.40e+00", FE_UPWARD, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_UPWARD, 1.5, 3);
    result += test_js_e_string_line("+1.61e+00", FE_UPWARD, 1.6, 3);
    result += test_js_e_string_line("+1.90e+00", FE_UPWARD, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_UPWARD, 5.0, 3);
    result += test_js_e_string_line("+5.10e+00", FE_UPWARD, 5.1, 3);
    result += test_js_e_string_line("+5.41e+00", FE_UPWARD, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_UPWARD, 5.5, 3);
    result += test_js_e_string_line("+5.60e+00", FE_UPWARD, 5.6, 3);
    result += test_js_e_string_line("+5.91e+00", FE_UPWARD, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_UPWARD, 9.0, 3);
    result += test_js_e_string_line("+9.10e+00", FE_UPWARD, 9.1, 3);
    result += test_js_e_string_line("+9.41e+00", FE_UPWARD, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_UPWARD, 9.5, 3);
    result += test_js_e_string_line("+9.60e+00", FE_UPWARD, 9.6, 3);
    result += test_js_e_string_line("+9.91e+00", FE_UPWARD, 9.9, 3);
    result += test_js_e_string_line("+1.01e-01", FE_UPWARD, 0.10, 3);
    result += test_js_e_string_line("+1.11e-01", FE_UPWARD, 0.11, 3);
    result += test_js_e_string_line("+1.41e-01", FE_UPWARD, 0.14, 3);
    result += test_js_e_string_line("+1.50e-01", FE_UPWARD, 0.15, 3);
    result += test_js_e_string_line("+1.61e-01", FE_UPWARD, 0.16, 3);
    result += test_js_e_string_line("+1.91e-01", FE_UPWARD, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_UPWARD, 0.50, 3);
    result += test_js_e_string_line("+5.11e-01", FE_UPWARD, 0.51, 3);
    result += test_js_e_string_line("+5.41e-01", FE_UPWARD, 0.54, 3);
    result += test_js_e_string_line("+5.51e-01", FE_UPWARD, 0.55, 3);
    result += test_js_e_string_line("+5.61e-01", FE_UPWARD, 0.56, 3);
    result += test_js_e_string_line("+5.90e-01", FE_UPWARD, 0.59, 3);
    result += test_js_e_string_line("+9.01e-01", FE_UPWARD, 0.90, 3);
    result += test_js_e_string_line("+9.11e-01", FE_UPWARD, 0.91, 3);
    result += test_js_e_string_line("+9.40e-01", FE_UPWARD, 0.94, 3);
    result += test_js_e_string_line("+9.50e-01", FE_UPWARD, 0.95, 3);
    result += test_js_e_string_line("+9.60e-01", FE_UPWARD, 0.96, 3);
    result += test_js_e_string_line("+9.90e-01", FE_UPWARD, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_UPWARD, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_UPWARD, -1.1, 3);
    result += test_js_e_string_line("-1.39e+00", FE_UPWARD, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_UPWARD, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_UPWARD, -1.6, 3);
    result += test_js_e_string_line("-1.89e+00", FE_UPWARD, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_UPWARD, -5.0, 3);
    result += test_js_e_string_line("-5.09e+00", FE_UPWARD, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_UPWARD, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_UPWARD, -5.5, 3);
    result += test_js_e_string_line("-5.59e+00", FE_UPWARD, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_UPWARD, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_UPWARD, -9.0, 3);
    result += test_js_e_string_line("-9.09e+00", FE_UPWARD, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_UPWARD, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_UPWARD, -9.5, 3);
    result += test_js_e_string_line("-9.59e+00", FE_UPWARD, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_UPWARD, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_UPWARD, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_UPWARD, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_UPWARD, -0.14, 3);
    result += test_js_e_string_line("-1.49e-01", FE_UPWARD, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_UPWARD, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_UPWARD, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_UPWARD, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_UPWARD, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_UPWARD, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_UPWARD, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_UPWARD, -0.56, 3);
    result += test_js_e_string_line("-5.89e-01", FE_UPWARD, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_UPWARD, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_UPWARD, -0.91, 3);
    result += test_js_e_string_line("-9.39e-01", FE_UPWARD, -0.94, 3);
    result += test_js_e_string_line("-9.49e-01", FE_UPWARD, -0.95, 3);
    result += test_js_e_string_line("-9.59e-01", FE_UPWARD, -0.96, 3);
    result += test_js_e_string_line("-9.89e-01", FE_UPWARD, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_DOWNWARD, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_DOWNWARD, -0.0, 1);
    result += test_js_e_string_line("+5e+09", FE_DOWNWARD, 5500000000, 1);
    result += test_js_e_string_line("+5e-08", FE_DOWNWARD, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.4, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.5, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.6, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.4, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.5, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.6, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.4, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.5, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.6, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.15, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.16, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.54, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.55, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.56, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.95, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.96, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -1.0, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.1, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.4, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.5, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.6, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_DOWNWARD, -5.0, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.1, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.4, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.5, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.6, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_DOWNWARD, -9.0, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.1, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.4, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.5, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.6, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.9, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.10, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.11, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.14, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.15, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.16, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_DOWNWARD, -0.50, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.51, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.54, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.55, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.56, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.59, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.90, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.91, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.94, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.95, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.96, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_DOWNWARD, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_DOWNWARD, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_DOWNWARD, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_DOWNWARD, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_DOWNWARD, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_DOWNWARD, 1.1, 2);
    result += test_js_e_string_line("+1.3e+00", FE_DOWNWARD, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_DOWNWARD, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_DOWNWARD, 1.6, 2);
    result += test_js_e_string_line("+1.8e+00", FE_DOWNWARD, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_DOWNWARD, 5.0, 2);
    result += test_js_e_string_line("+5.0e+00", FE_DOWNWARD, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_DOWNWARD, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_DOWNWARD, 5.5, 2);
    result += test_js_e_string_line("+5.5e+00", FE_DOWNWARD, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_DOWNWARD, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_DOWNWARD, 9.0, 2);
    result += test_js_e_string_line("+9.0e+00", FE_DOWNWARD, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_DOWNWARD, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_DOWNWARD, 9.5, 2);
    result += test_js_e_string_line("+9.5e+00", FE_DOWNWARD, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_DOWNWARD, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_DOWNWARD, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_DOWNWARD, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_DOWNWARD, 0.14, 2);
    result += test_js_e_string_line("+1.4e-01", FE_DOWNWARD, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_DOWNWARD, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_DOWNWARD, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_DOWNWARD, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_DOWNWARD, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_DOWNWARD, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_DOWNWARD, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_DOWNWARD, 0.56, 2);
    result += test_js_e_string_line("+5.8e-01", FE_DOWNWARD, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_DOWNWARD, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_DOWNWARD, 0.91, 2);
    result += test_js_e_string_line("+9.3e-01", FE_DOWNWARD, 0.94, 2);
    result += test_js_e_string_line("+9.4e-01", FE_DOWNWARD, 0.95, 2);
    result += test_js_e_string_line("+9.5e-01", FE_DOWNWARD, 0.96, 2);
    result += test_js_e_string_line("+9.8e-01", FE_DOWNWARD, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_DOWNWARD, -1.0, 2);
    result += test_js_e_string_line("-1.2e+00", FE_DOWNWARD, -1.1, 2);
    result += test_js_e_string_line("-1.4e+00", FE_DOWNWARD, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_DOWNWARD, -1.5, 2);
    result += test_js_e_string_line("-1.7e+00", FE_DOWNWARD, -1.6, 2);
    result += test_js_e_string_line("-1.9e+00", FE_DOWNWARD, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_DOWNWARD, -5.0, 2);
    result += test_js_e_string_line("-5.1e+00", FE_DOWNWARD, -5.1, 2);
    result += test_js_e_string_line("-5.5e+00", FE_DOWNWARD, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_DOWNWARD, -5.5, 2);
    result += test_js_e_string_line("-5.6e+00", FE_DOWNWARD, -5.6, 2);
    result += test_js_e_string_line("-6.0e+00", FE_DOWNWARD, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_DOWNWARD, -9.0, 2);
    result += test_js_e_string_line("-9.1e+00", FE_DOWNWARD, -9.1, 2);
    result += test_js_e_string_line("-9.5e+00", FE_DOWNWARD, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_DOWNWARD, -9.5, 2);
    result += test_js_e_string_line("-9.6e+00", FE_DOWNWARD, -9.6, 2);
    result += test_js_e_string_line("-1.0e+01", FE_DOWNWARD, -9.9, 2);
    result += test_js_e_string_line("-1.1e-01", FE_DOWNWARD, -0.10, 2);
    result += test_js_e_string_line("-1.2e-01", FE_DOWNWARD, -0.11, 2);
    result += test_js_e_string_line("-1.5e-01", FE_DOWNWARD, -0.14, 2);
    result += test_js_e_string_line("-1.5e-01", FE_DOWNWARD, -0.15, 2);
    result += test_js_e_string_line("-1.7e-01", FE_DOWNWARD, -0.16, 2);
    result += test_js_e_string_line("-2.0e-01", FE_DOWNWARD, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_DOWNWARD, -0.50, 2);
    result += test_js_e_string_line("-5.2e-01", FE_DOWNWARD, -0.51, 2);
    result += test_js_e_string_line("-5.5e-01", FE_DOWNWARD, -0.54, 2);
    result += test_js_e_string_line("-5.6e-01", FE_DOWNWARD, -0.55, 2);
    result += test_js_e_string_line("-5.7e-01", FE_DOWNWARD, -0.56, 2);
    result += test_js_e_string_line("-5.9e-01", FE_DOWNWARD, -0.59, 2);
    result += test_js_e_string_line("-9.1e-01", FE_DOWNWARD, -0.90, 2);
    result += test_js_e_string_line("-9.2e-01", FE_DOWNWARD, -0.91, 2);
    result += test_js_e_string_line("-9.4e-01", FE_DOWNWARD, -0.94, 2);
    result += test_js_e_string_line("-9.5e-01", FE_DOWNWARD, -0.95, 2);
    result += test_js_e_string_line("-9.6e-01", FE_DOWNWARD, -0.96, 2);
    result += test_js_e_string_line("-9.9e-01", FE_DOWNWARD, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_DOWNWARD, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_DOWNWARD, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_DOWNWARD, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_DOWNWARD, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_DOWNWARD, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_DOWNWARD, 1.1, 3);
    result += test_js_e_string_line("+1.39e+00", FE_DOWNWARD, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_DOWNWARD, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_DOWNWARD, 1.6, 3);
    result += test_js_e_string_line("+1.89e+00", FE_DOWNWARD, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_DOWNWARD, 5.0, 3);
    result += test_js_e_string_line("+5.09e+00", FE_DOWNWARD, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_DOWNWARD, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_DOWNWARD, 5.5, 3);
    result += test_js_e_string_line("+5.59e+00", FE_DOWNWARD, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_DOWNWARD, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_DOWNWARD, 9.0, 3);
    result += test_js_e_string_line("+9.09e+00", FE_DOWNWARD, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_DOWNWARD, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_DOWNWARD, 9.5, 3);
    result += test_js_e_string_line("+9.59e+00", FE_DOWNWARD, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_DOWNWARD, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_DOWNWARD, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_DOWNWARD, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_DOWNWARD, 0.14, 3);
    result += test_js_e_string_line("+1.49e-01", FE_DOWNWARD, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_DOWNWARD, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_DOWNWARD, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_DOWNWARD, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_DOWNWARD, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_DOWNWARD, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_DOWNWARD, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_DOWNWARD, 0.56, 3);
    result += test_js_e_string_line("+5.89e-01", FE_DOWNWARD, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_DOWNWARD, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_DOWNWARD, 0.91, 3);
    result += test_js_e_string_line("+9.39e-01", FE_DOWNWARD, 0.94, 3);
    result += test_js_e_string_line("+9.49e-01", FE_DOWNWARD, 0.95, 3);
    result += test_js_e_string_line("+9.59e-01", FE_DOWNWARD, 0.96, 3);
    result += test_js_e_string_line("+9.89e-01", FE_DOWNWARD, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_DOWNWARD, -1.0, 3);
    result += test_js_e_string_line("-1.11e+00", FE_DOWNWARD, -1.1, 3);
    result += test_js_e_string_line("-1.40e+00", FE_DOWNWARD, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_DOWNWARD, -1.5, 3);
    result += test_js_e_string_line("-1.61e+00", FE_DOWNWARD, -1.6, 3);
    result += test_js_e_string_line("-1.90e+00", FE_DOWNWARD, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_DOWNWARD, -5.0, 3);
    result += test_js_e_string_line("-5.10e+00", FE_DOWNWARD, -5.1, 3);
    result += test_js_e_string_line("-5.41e+00", FE_DOWNWARD, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_DOWNWARD, -5.5, 3);
    result += test_js_e_string_line("-5.60e+00", FE_DOWNWARD, -5.6, 3);
    result += test_js_e_string_line("-5.91e+00", FE_DOWNWARD, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_DOWNWARD, -9.0, 3);
    result += test_js_e_string_line("-9.10e+00", FE_DOWNWARD, -9.1, 3);
    result += test_js_e_string_line("-9.41e+00", FE_DOWNWARD, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_DOWNWARD, -9.5, 3);
    result += test_js_e_string_line("-9.60e+00", FE_DOWNWARD, -9.6, 3);
    result += test_js_e_string_line("-9.91e+00", FE_DOWNWARD, -9.9, 3);
    result += test_js_e_string_line("-1.01e-01", FE_DOWNWARD, -0.10, 3);
    result += test_js_e_string_line("-1.11e-01", FE_DOWNWARD, -0.11, 3);
    result += test_js_e_string_line("-1.41e-01", FE_DOWNWARD, -0.14, 3);
    result += test_js_e_string_line("-1.50e-01", FE_DOWNWARD, -0.15, 3);
    result += test_js_e_string_line("-1.61e-01", FE_DOWNWARD, -0.16, 3);
    result += test_js_e_string_line("-1.91e-01", FE_DOWNWARD, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_DOWNWARD, -0.50, 3);
    result += test_js_e_string_line("-5.11e-01", FE_DOWNWARD, -0.51, 3);
    result += test_js_e_string_line("-5.41e-01", FE_DOWNWARD, -0.54, 3);
    result += test_js_e_string_line("-5.51e-01", FE_DOWNWARD, -0.55, 3);
    result += test_js_e_string_line("-5.61e-01", FE_DOWNWARD, -0.56, 3);
    result += test_js_e_string_line("-5.90e-01", FE_DOWNWARD, -0.59, 3);
    result += test_js_e_string_line("-9.01e-01", FE_DOWNWARD, -0.90, 3);
    result += test_js_e_string_line("-9.11e-01", FE_DOWNWARD, -0.91, 3);
    result += test_js_e_string_line("-9.40e-01", FE_DOWNWARD, -0.94, 3);
    result += test_js_e_string_line("-9.50e-01", FE_DOWNWARD, -0.95, 3);
    result += test_js_e_string_line("-9.60e-01", FE_DOWNWARD, -0.96, 3);
    result += test_js_e_string_line("-9.90e-01", FE_DOWNWARD, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_TOWARDZERO, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_TOWARDZERO, -0.0, 1);
    result += test_js_e_string_line("+5e+09", FE_TOWARDZERO, 5500000000, 1);
    result += test_js_e_string_line("+5e-08", FE_TOWARDZERO, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.4, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.5, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.6, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.4, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.5, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.6, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.4, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.5, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.6, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.15, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.16, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.54, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.55, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.56, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.95, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.96, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.4, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.5, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.6, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.4, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.5, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.6, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.4, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.5, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.6, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.15, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.16, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.54, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.55, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.56, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.95, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.96, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_TOWARDZERO, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_TOWARDZERO, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_TOWARDZERO, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_TOWARDZERO, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_TOWARDZERO, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_TOWARDZERO, 1.1, 2);
    result += test_js_e_string_line("+1.3e+00", FE_TOWARDZERO, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_TOWARDZERO, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_TOWARDZERO, 1.6, 2);
    result += test_js_e_string_line("+1.8e+00", FE_TOWARDZERO, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TOWARDZERO, 5.0, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TOWARDZERO, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_TOWARDZERO, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TOWARDZERO, 5.5, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TOWARDZERO, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_TOWARDZERO, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TOWARDZERO, 9.0, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TOWARDZERO, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_TOWARDZERO, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TOWARDZERO, 9.5, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TOWARDZERO, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_TOWARDZERO, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_TOWARDZERO, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_TOWARDZERO, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TOWARDZERO, 0.14, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TOWARDZERO, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_TOWARDZERO, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_TOWARDZERO, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_TOWARDZERO, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_TOWARDZERO, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_TOWARDZERO, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_TOWARDZERO, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_TOWARDZERO, 0.56, 2);
    result += test_js_e_string_line("+5.8e-01", FE_TOWARDZERO, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_TOWARDZERO, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_TOWARDZERO, 0.91, 2);
    result += test_js_e_string_line("+9.3e-01", FE_TOWARDZERO, 0.94, 2);
    result += test_js_e_string_line("+9.4e-01", FE_TOWARDZERO, 0.95, 2);
    result += test_js_e_string_line("+9.5e-01", FE_TOWARDZERO, 0.96, 2);
    result += test_js_e_string_line("+9.8e-01", FE_TOWARDZERO, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_TOWARDZERO, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_TOWARDZERO, -1.1, 2);
    result += test_js_e_string_line("-1.3e+00", FE_TOWARDZERO, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_TOWARDZERO, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_TOWARDZERO, -1.6, 2);
    result += test_js_e_string_line("-1.8e+00", FE_TOWARDZERO, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TOWARDZERO, -5.0, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TOWARDZERO, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_TOWARDZERO, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TOWARDZERO, -5.5, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TOWARDZERO, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_TOWARDZERO, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TOWARDZERO, -9.0, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TOWARDZERO, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_TOWARDZERO, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TOWARDZERO, -9.5, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TOWARDZERO, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_TOWARDZERO, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_TOWARDZERO, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_TOWARDZERO, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TOWARDZERO, -0.14, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TOWARDZERO, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_TOWARDZERO, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_TOWARDZERO, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_TOWARDZERO, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_TOWARDZERO, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_TOWARDZERO, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_TOWARDZERO, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_TOWARDZERO, -0.56, 2);
    result += test_js_e_string_line("-5.8e-01", FE_TOWARDZERO, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_TOWARDZERO, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_TOWARDZERO, -0.91, 2);
    result += test_js_e_string_line("-9.3e-01", FE_TOWARDZERO, -0.94, 2);
    result += test_js_e_string_line("-9.4e-01", FE_TOWARDZERO, -0.95, 2);
    result += test_js_e_string_line("-9.5e-01", FE_TOWARDZERO, -0.96, 2);
    result += test_js_e_string_line("-9.8e-01", FE_TOWARDZERO, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_TOWARDZERO, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_TOWARDZERO, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_TOWARDZERO, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_TOWARDZERO, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_TOWARDZERO, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_TOWARDZERO, 1.1, 3);
    result += test_js_e_string_line("+1.39e+00", FE_TOWARDZERO, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_TOWARDZERO, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_TOWARDZERO, 1.6, 3);
    result += test_js_e_string_line("+1.89e+00", FE_TOWARDZERO, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_TOWARDZERO, 5.0, 3);
    result += test_js_e_string_line("+5.09e+00", FE_TOWARDZERO, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_TOWARDZERO, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_TOWARDZERO, 5.5, 3);
    result += test_js_e_string_line("+5.59e+00", FE_TOWARDZERO, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_TOWARDZERO, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_TOWARDZERO, 9.0, 3);
    result += test_js_e_string_line("+9.09e+00", FE_TOWARDZERO, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_TOWARDZERO, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_TOWARDZERO, 9.5, 3);
    result += test_js_e_string_line("+9.59e+00", FE_TOWARDZERO, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_TOWARDZERO, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_TOWARDZERO, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_TOWARDZERO, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_TOWARDZERO, 0.14, 3);
    result += test_js_e_string_line("+1.49e-01", FE_TOWARDZERO, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_TOWARDZERO, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_TOWARDZERO, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_TOWARDZERO, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_TOWARDZERO, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_TOWARDZERO, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_TOWARDZERO, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_TOWARDZERO, 0.56, 3);
    result += test_js_e_string_line("+5.89e-01", FE_TOWARDZERO, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_TOWARDZERO, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_TOWARDZERO, 0.91, 3);
    result += test_js_e_string_line("+9.39e-01", FE_TOWARDZERO, 0.94, 3);
    result += test_js_e_string_line("+9.49e-01", FE_TOWARDZERO, 0.95, 3);
    result += test_js_e_string_line("+9.59e-01", FE_TOWARDZERO, 0.96, 3);
    result += test_js_e_string_line("+9.89e-01", FE_TOWARDZERO, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_TOWARDZERO, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_TOWARDZERO, -1.1, 3);
    result += test_js_e_string_line("-1.39e+00", FE_TOWARDZERO, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_TOWARDZERO, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_TOWARDZERO, -1.6, 3);
    result += test_js_e_string_line("-1.89e+00", FE_TOWARDZERO, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_TOWARDZERO, -5.0, 3);
    result += test_js_e_string_line("-5.09e+00", FE_TOWARDZERO, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_TOWARDZERO, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_TOWARDZERO, -5.5, 3);
    result += test_js_e_string_line("-5.59e+00", FE_TOWARDZERO, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_TOWARDZERO, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_TOWARDZERO, -9.0, 3);
    result += test_js_e_string_line("-9.09e+00", FE_TOWARDZERO, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_TOWARDZERO, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_TOWARDZERO, -9.5, 3);
    result += test_js_e_string_line("-9.59e+00", FE_TOWARDZERO, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_TOWARDZERO, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_TOWARDZERO, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_TOWARDZERO, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_TOWARDZERO, -0.14, 3);
    result += test_js_e_string_line("-1.49e-01", FE_TOWARDZERO, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_TOWARDZERO, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_TOWARDZERO, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_TOWARDZERO, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_TOWARDZERO, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_TOWARDZERO, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_TOWARDZERO, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_TOWARDZERO, -0.56, 3);
    result += test_js_e_string_line("-5.89e-01", FE_TOWARDZERO, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_TOWARDZERO, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_TOWARDZERO, -0.91, 3);
    result += test_js_e_string_line("-9.39e-01", FE_TOWARDZERO, -0.94, 3);
    result += test_js_e_string_line("-9.49e-01", FE_TOWARDZERO, -0.95, 3);
    result += test_js_e_string_line("-9.59e-01", FE_TOWARDZERO, -0.96, 3);
    result += test_js_e_string_line("-9.89e-01", FE_TOWARDZERO, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_TONEAREST, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_TONEAREST, -0.0, 1);
    result += test_js_e_string_line("+6e+09", FE_TONEAREST, 5500000000, 1);
    result += test_js_e_string_line("+6e-08", FE_TONEAREST, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.4, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.5, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.6, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.4, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.5, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.6, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.4, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.5, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.6, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.15, 1);
    result += test_js_e_string_line("+2e-01", FE_TONEAREST, 0.16, 1);
    result += test_js_e_string_line("+2e-01", FE_TONEAREST, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.54, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.55, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.56, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.95, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 0.96, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.4, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.5, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.6, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.4, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.5, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.6, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.4, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.5, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.6, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.15, 1);
    result += test_js_e_string_line("-2e-01", FE_TONEAREST, -0.16, 1);
    result += test_js_e_string_line("-2e-01", FE_TONEAREST, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.54, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.55, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.56, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.95, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -0.96, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_TONEAREST, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_TONEAREST, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_TONEAREST, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_TONEAREST, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_TONEAREST, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_TONEAREST, 1.1, 2);
    result += test_js_e_string_line("+1.4e+00", FE_TONEAREST, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_TONEAREST, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_TONEAREST, 1.6, 2);
    result += test_js_e_string_line("+1.9e+00", FE_TONEAREST, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TONEAREST, 5.0, 2);
    result += test_js_e_string_line("+5.1e+00", FE_TONEAREST, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_TONEAREST, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TONEAREST, 5.5, 2);
    result += test_js_e_string_line("+5.6e+00", FE_TONEAREST, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_TONEAREST, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TONEAREST, 9.0, 2);
    result += test_js_e_string_line("+9.1e+00", FE_TONEAREST, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_TONEAREST, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TONEAREST, 9.5, 2);
    result += test_js_e_string_line("+9.6e+00", FE_TONEAREST, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_TONEAREST, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_TONEAREST, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_TONEAREST, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TONEAREST, 0.14, 2);
    result += test_js_e_string_line("+1.5e-01", FE_TONEAREST, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_TONEAREST, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_TONEAREST, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_TONEAREST, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_TONEAREST, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_TONEAREST, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_TONEAREST, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_TONEAREST, 0.56, 2);
    result += test_js_e_string_line("+5.9e-01", FE_TONEAREST, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_TONEAREST, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_TONEAREST, 0.91, 2);
    result += test_js_e_string_line("+9.4e-01", FE_TONEAREST, 0.94, 2);
    result += test_js_e_string_line("+9.5e-01", FE_TONEAREST, 0.95, 2);
    result += test_js_e_string_line("+9.6e-01", FE_TONEAREST, 0.96, 2);
    result += test_js_e_string_line("+9.9e-01", FE_TONEAREST, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_TONEAREST, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_TONEAREST, -1.1, 2);
    result += test_js_e_string_line("-1.4e+00", FE_TONEAREST, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_TONEAREST, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_TONEAREST, -1.6, 2);
    result += test_js_e_string_line("-1.9e+00", FE_TONEAREST, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TONEAREST, -5.0, 2);
    result += test_js_e_string_line("-5.1e+00", FE_TONEAREST, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_TONEAREST, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TONEAREST, -5.5, 2);
    result += test_js_e_string_line("-5.6e+00", FE_TONEAREST, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_TONEAREST, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TONEAREST, -9.0, 2);
    result += test_js_e_string_line("-9.1e+00", FE_TONEAREST, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_TONEAREST, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TONEAREST, -9.5, 2);
    result += test_js_e_string_line("-9.6e+00", FE_TONEAREST, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_TONEAREST, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_TONEAREST, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_TONEAREST, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TONEAREST, -0.14, 2);
    result += test_js_e_string_line("-1.5e-01", FE_TONEAREST, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_TONEAREST, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_TONEAREST, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_TONEAREST, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_TONEAREST, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_TONEAREST, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_TONEAREST, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_TONEAREST, -0.56, 2);
    result += test_js_e_string_line("-5.9e-01", FE_TONEAREST, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_TONEAREST, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_TONEAREST, -0.91, 2);
    result += test_js_e_string_line("-9.4e-01", FE_TONEAREST, -0.94, 2);
    result += test_js_e_string_line("-9.5e-01", FE_TONEAREST, -0.95, 2);
    result += test_js_e_string_line("-9.6e-01", FE_TONEAREST, -0.96, 2);
    result += test_js_e_string_line("-9.9e-01", FE_TONEAREST, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_TONEAREST, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_TONEAREST, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_TONEAREST, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_TONEAREST, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_TONEAREST, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_TONEAREST, 1.1, 3);
    result += test_js_e_string_line("+1.40e+00", FE_TONEAREST, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_TONEAREST, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_TONEAREST, 1.6, 3);
    result += test_js_e_string_line("+1.90e+00", FE_TONEAREST, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_TONEAREST, 5.0, 3);
    result += test_js_e_string_line("+5.10e+00", FE_TONEAREST, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_TONEAREST, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_TONEAREST, 5.5, 3);
    result += test_js_e_string_line("+5.60e+00", FE_TONEAREST, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_TONEAREST, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_TONEAREST, 9.0, 3);
    result += test_js_e_string_line("+9.10e+00", FE_TONEAREST, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_TONEAREST, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_TONEAREST, 9.5, 3);
    result += test_js_e_string_line("+9.60e+00", FE_TONEAREST, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_TONEAREST, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_TONEAREST, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_TONEAREST, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_TONEAREST, 0.14, 3);
    result += test_js_e_string_line("+1.50e-01", FE_TONEAREST, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_TONEAREST, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_TONEAREST, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_TONEAREST, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_TONEAREST, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_TONEAREST, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_TONEAREST, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_TONEAREST, 0.56, 3);
    result += test_js_e_string_line("+5.90e-01", FE_TONEAREST, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_TONEAREST, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_TONEAREST, 0.91, 3);
    result += test_js_e_string_line("+9.40e-01", FE_TONEAREST, 0.94, 3);
    result += test_js_e_string_line("+9.50e-01", FE_TONEAREST, 0.95, 3);
    result += test_js_e_string_line("+9.60e-01", FE_TONEAREST, 0.96, 3);
    result += test_js_e_string_line("+9.90e-01", FE_TONEAREST, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_TONEAREST, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_TONEAREST, -1.1, 3);
    result += test_js_e_string_line("-1.40e+00", FE_TONEAREST, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_TONEAREST, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_TONEAREST, -1.6, 3);
    result += test_js_e_string_line("-1.90e+00", FE_TONEAREST, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_TONEAREST, -5.0, 3);
    result += test_js_e_string_line("-5.10e+00", FE_TONEAREST, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_TONEAREST, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_TONEAREST, -5.5, 3);
    result += test_js_e_string_line("-5.60e+00", FE_TONEAREST, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_TONEAREST, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_TONEAREST, -9.0, 3);
    result += test_js_e_string_line("-9.10e+00", FE_TONEAREST, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_TONEAREST, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_TONEAREST, -9.5, 3);
    result += test_js_e_string_line("-9.60e+00", FE_TONEAREST, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_TONEAREST, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_TONEAREST, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_TONEAREST, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_TONEAREST, -0.14, 3);
    result += test_js_e_string_line("-1.50e-01", FE_TONEAREST, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_TONEAREST, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_TONEAREST, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_TONEAREST, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_TONEAREST, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_TONEAREST, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_TONEAREST, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_TONEAREST, -0.56, 3);
    result += test_js_e_string_line("-5.90e-01", FE_TONEAREST, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_TONEAREST, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_TONEAREST, -0.91, 3);
    result += test_js_e_string_line("-9.40e-01", FE_TONEAREST, -0.94, 3);
    result += test_js_e_string_line("-9.50e-01", FE_TONEAREST, -0.95, 3);
    result += test_js_e_string_line("-9.60e-01", FE_TONEAREST, -0.96, 3);
    result += test_js_e_string_line("-9.90e-01", FE_TONEAREST, -0.99, 3);
    return result;
}

int test_js_f_string_line(const char *except, int result, int rounding_mode, double d, int n_digits) {
    const int buf_size = 128;
    char buf[buf_size];

    int origin_rounding_mode = fegetround();
    fesetround(rounding_mode);

    int n = js_f_string(d, n_digits, rounding_mode, buf, buf_size);

    fesetround(origin_rounding_mode);

    if (strcmp(except, buf) == 0 && n == result) {
        return 0;
    } else {
        printf("js_f_string, rounding_mode = %s, d = %lf, n_digits = %d\n", rounding_mode_str(rounding_mode), d, n_digits);
        printf("except = %s, %d\n", except, result);
        printf("actual = %s, %d\n", buf, n);
        return 1;
    }
}

int test_js_f_string() {
    int result = 0;
    result += test_js_f_string_line("0", 1, FE_UPWARD, +0.0, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.0, 0);
    result += test_js_f_string_line("5500000000", 10, FE_UPWARD, 5500000000, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.000000055, 0);
    result += test_js_f_string_line("31", 2, FE_UPWARD, 31.0, 0);
    result += test_js_f_string_line("32", 2, FE_UPWARD, 31.1, 0);
    result += test_js_f_string_line("32", 2, FE_UPWARD, 31.5, 0);
    result += test_js_f_string_line("32", 2, FE_UPWARD, 31.9, 0);
    result += test_js_f_string_line("3", 1, FE_UPWARD, 3.0, 0);
    result += test_js_f_string_line("4", 1, FE_UPWARD, 3.1, 0);
    result += test_js_f_string_line("4", 1, FE_UPWARD, 3.5, 0);
    result += test_js_f_string_line("4", 1, FE_UPWARD, 3.9, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.30, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.31, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.35, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.39, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.030, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.031, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.035, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.039, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.0030, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.0031, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.0035, 0);
    result += test_js_f_string_line("1", 1, FE_UPWARD, 0.0039, 0);
    result += test_js_f_string_line("-31", 3, FE_UPWARD, -31.0, 0);
    result += test_js_f_string_line("-31", 3, FE_UPWARD, -31.1, 0);
    result += test_js_f_string_line("-31", 3, FE_UPWARD, -31.5, 0);
    result += test_js_f_string_line("-31", 3, FE_UPWARD, -31.9, 0);
    result += test_js_f_string_line("-3", 2, FE_UPWARD, -3.0, 0);
    result += test_js_f_string_line("-3", 2, FE_UPWARD, -3.1, 0);
    result += test_js_f_string_line("-3", 2, FE_UPWARD, -3.5, 0);
    result += test_js_f_string_line("-3", 2, FE_UPWARD, -3.9, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.30, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.31, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.35, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.39, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.030, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.031, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.035, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.039, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.0030, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.0031, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.0035, 0);
    result += test_js_f_string_line("-0", 2, FE_UPWARD, -0.0039, 0);
    result += test_js_f_string_line("0.0", 3, FE_UPWARD, +0.0, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.0, 1);
    result += test_js_f_string_line("5500000000.0", 12, FE_UPWARD, 5500000000, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.000000055, 1);
    result += test_js_f_string_line("31.0", 4, FE_UPWARD, 31.0, 1);
    result += test_js_f_string_line("31.2", 4, FE_UPWARD, 31.1, 1);
    result += test_js_f_string_line("31.5", 4, FE_UPWARD, 31.5, 1);
    result += test_js_f_string_line("31.9", 4, FE_UPWARD, 31.9, 1);
    result += test_js_f_string_line("3.0", 3, FE_UPWARD, 3.0, 1);
    result += test_js_f_string_line("3.2", 3, FE_UPWARD, 3.1, 1);
    result += test_js_f_string_line("3.5", 3, FE_UPWARD, 3.5, 1);
    result += test_js_f_string_line("3.9", 3, FE_UPWARD, 3.9, 1);
    result += test_js_f_string_line("0.3", 3, FE_UPWARD, 0.30, 1);
    result += test_js_f_string_line("0.4", 3, FE_UPWARD, 0.31, 1);
    result += test_js_f_string_line("0.4", 3, FE_UPWARD, 0.35, 1);
    result += test_js_f_string_line("0.4", 3, FE_UPWARD, 0.39, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.030, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.031, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.035, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.039, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.0030, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.0031, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.0035, 1);
    result += test_js_f_string_line("0.1", 3, FE_UPWARD, 0.0039, 1);
    result += test_js_f_string_line("-31.0", 5, FE_UPWARD, -31.0, 1);
    result += test_js_f_string_line("-31.1", 5, FE_UPWARD, -31.1, 1);
    result += test_js_f_string_line("-31.5", 5, FE_UPWARD, -31.5, 1);
    result += test_js_f_string_line("-31.8", 5, FE_UPWARD, -31.9, 1);
    result += test_js_f_string_line("-3.0", 4, FE_UPWARD, -3.0, 1);
    result += test_js_f_string_line("-3.1", 4, FE_UPWARD, -3.1, 1);
    result += test_js_f_string_line("-3.5", 4, FE_UPWARD, -3.5, 1);
    result += test_js_f_string_line("-3.8", 4, FE_UPWARD, -3.9, 1);
    result += test_js_f_string_line("-0.2", 4, FE_UPWARD, -0.30, 1);
    result += test_js_f_string_line("-0.3", 4, FE_UPWARD, -0.31, 1);
    result += test_js_f_string_line("-0.3", 4, FE_UPWARD, -0.35, 1);
    result += test_js_f_string_line("-0.3", 4, FE_UPWARD, -0.39, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.039, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.0030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.0031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.0035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_UPWARD, -0.0039, 1);
    result += test_js_f_string_line("0.00", 4, FE_UPWARD, +0.0, 2);
    result += test_js_f_string_line("-0.00", 5, FE_UPWARD, -0.0, 2);
    result += test_js_f_string_line("5500000000.00", 13, FE_UPWARD, 5500000000, 2);
    result += test_js_f_string_line("0.01", 4, FE_UPWARD, 0.000000055, 2);
    result += test_js_f_string_line("31.00", 5, FE_UPWARD, 31.0, 2);
    result += test_js_f_string_line("31.11", 5, FE_UPWARD, 31.1, 2);
    result += test_js_f_string_line("31.50", 5, FE_UPWARD, 31.5, 2);
    result += test_js_f_string_line("31.90", 5, FE_UPWARD, 31.9, 2);
    result += test_js_f_string_line("3.00", 4, FE_UPWARD, 3.0, 2);
    result += test_js_f_string_line("3.11", 4, FE_UPWARD, 3.1, 2);
    result += test_js_f_string_line("3.50", 4, FE_UPWARD, 3.5, 2);
    result += test_js_f_string_line("3.90", 4, FE_UPWARD, 3.9, 2);
    result += test_js_f_string_line("0.30", 4, FE_UPWARD, 0.30, 2);
    result += test_js_f_string_line("0.31", 4, FE_UPWARD, 0.31, 2);
    result += test_js_f_string_line("0.35", 4, FE_UPWARD, 0.35, 2);
    result += test_js_f_string_line("0.40", 4, FE_UPWARD, 0.39, 2);
    result += test_js_f_string_line("0.03", 4, FE_UPWARD, 0.030, 2);
    result += test_js_f_string_line("0.04", 4, FE_UPWARD, 0.031, 2);
    result += test_js_f_string_line("0.04", 4, FE_UPWARD, 0.035, 2);
    result += test_js_f_string_line("0.04", 4, FE_UPWARD, 0.039, 2);
    result += test_js_f_string_line("0.01", 4, FE_UPWARD, 0.0030, 2);
    result += test_js_f_string_line("0.01", 4, FE_UPWARD, 0.0031, 2);
    result += test_js_f_string_line("0.01", 4, FE_UPWARD, 0.0035, 2);
    result += test_js_f_string_line("0.01", 4, FE_UPWARD, 0.0039, 2);
    result += test_js_f_string_line("-31.00", 6, FE_UPWARD, -31.0, 2);
    result += test_js_f_string_line("-31.10", 6, FE_UPWARD, -31.1, 2);
    result += test_js_f_string_line("-31.50", 6, FE_UPWARD, -31.5, 2);
    result += test_js_f_string_line("-31.89", 6, FE_UPWARD, -31.9, 2);
    result += test_js_f_string_line("-3.00", 5, FE_UPWARD, -3.0, 2);
    result += test_js_f_string_line("-3.10", 5, FE_UPWARD, -3.1, 2);
    result += test_js_f_string_line("-3.50", 5, FE_UPWARD, -3.5, 2);
    result += test_js_f_string_line("-3.89", 5, FE_UPWARD, -3.9, 2);
    result += test_js_f_string_line("-0.29", 5, FE_UPWARD, -0.30, 2);
    result += test_js_f_string_line("-0.30", 5, FE_UPWARD, -0.31, 2);
    result += test_js_f_string_line("-0.34", 5, FE_UPWARD, -0.35, 2);
    result += test_js_f_string_line("-0.39", 5, FE_UPWARD, -0.39, 2);
    result += test_js_f_string_line("-0.02", 5, FE_UPWARD, -0.030, 2);
    result += test_js_f_string_line("-0.03", 5, FE_UPWARD, -0.031, 2);
    result += test_js_f_string_line("-0.03", 5, FE_UPWARD, -0.035, 2);
    result += test_js_f_string_line("-0.03", 5, FE_UPWARD, -0.039, 2);
    result += test_js_f_string_line("-0.00", 5, FE_UPWARD, -0.0030, 2);
    result += test_js_f_string_line("-0.00", 5, FE_UPWARD, -0.0031, 2);
    result += test_js_f_string_line("-0.00", 5, FE_UPWARD, -0.0035, 2);
    result += test_js_f_string_line("-0.00", 5, FE_UPWARD, -0.0039, 2);
    result += test_js_f_string_line("0.000", 5, FE_UPWARD, +0.0, 3);
    result += test_js_f_string_line("-0.000", 6, FE_UPWARD, -0.0, 3);
    result += test_js_f_string_line("5500000000.000", 14, FE_UPWARD, 5500000000, 3);
    result += test_js_f_string_line("0.001", 5, FE_UPWARD, 0.000000055, 3);
    result += test_js_f_string_line("31.000", 6, FE_UPWARD, 31.0, 3);
    result += test_js_f_string_line("31.101", 6, FE_UPWARD, 31.1, 3);
    result += test_js_f_string_line("31.500", 6, FE_UPWARD, 31.5, 3);
    result += test_js_f_string_line("31.900", 6, FE_UPWARD, 31.9, 3);
    result += test_js_f_string_line("3.000", 5, FE_UPWARD, 3.0, 3);
    result += test_js_f_string_line("3.101", 5, FE_UPWARD, 3.1, 3);
    result += test_js_f_string_line("3.500", 5, FE_UPWARD, 3.5, 3);
    result += test_js_f_string_line("3.900", 5, FE_UPWARD, 3.9, 3);
    result += test_js_f_string_line("0.300", 5, FE_UPWARD, 0.30, 3);
    result += test_js_f_string_line("0.310", 5, FE_UPWARD, 0.31, 3);
    result += test_js_f_string_line("0.350", 5, FE_UPWARD, 0.35, 3);
    result += test_js_f_string_line("0.391", 5, FE_UPWARD, 0.39, 3);
    result += test_js_f_string_line("0.030", 5, FE_UPWARD, 0.030, 3);
    result += test_js_f_string_line("0.031", 5, FE_UPWARD, 0.031, 3);
    result += test_js_f_string_line("0.036", 5, FE_UPWARD, 0.035, 3);
    result += test_js_f_string_line("0.039", 5, FE_UPWARD, 0.039, 3);
    result += test_js_f_string_line("0.004", 5, FE_UPWARD, 0.0030, 3);
    result += test_js_f_string_line("0.004", 5, FE_UPWARD, 0.0031, 3);
    result += test_js_f_string_line("0.004", 5, FE_UPWARD, 0.0035, 3);
    result += test_js_f_string_line("0.004", 5, FE_UPWARD, 0.0039, 3);
    result += test_js_f_string_line("-31.000", 7, FE_UPWARD, -31.0, 3);
    result += test_js_f_string_line("-31.100", 7, FE_UPWARD, -31.1, 3);
    result += test_js_f_string_line("-31.500", 7, FE_UPWARD, -31.5, 3);
    result += test_js_f_string_line("-31.899", 7, FE_UPWARD, -31.9, 3);
    result += test_js_f_string_line("-3.000", 6, FE_UPWARD, -3.0, 3);
    result += test_js_f_string_line("-3.100", 6, FE_UPWARD, -3.1, 3);
    result += test_js_f_string_line("-3.500", 6, FE_UPWARD, -3.5, 3);
    result += test_js_f_string_line("-3.899", 6, FE_UPWARD, -3.9, 3);
    result += test_js_f_string_line("-0.299", 6, FE_UPWARD, -0.30, 3);
    result += test_js_f_string_line("-0.309", 6, FE_UPWARD, -0.31, 3);
    result += test_js_f_string_line("-0.349", 6, FE_UPWARD, -0.35, 3);
    result += test_js_f_string_line("-0.390", 6, FE_UPWARD, -0.39, 3);
    result += test_js_f_string_line("-0.029", 6, FE_UPWARD, -0.030, 3);
    result += test_js_f_string_line("-0.030", 6, FE_UPWARD, -0.031, 3);
    result += test_js_f_string_line("-0.035", 6, FE_UPWARD, -0.035, 3);
    result += test_js_f_string_line("-0.038", 6, FE_UPWARD, -0.039, 3);
    result += test_js_f_string_line("-0.003", 6, FE_UPWARD, -0.0030, 3);
    result += test_js_f_string_line("-0.003", 6, FE_UPWARD, -0.0031, 3);
    result += test_js_f_string_line("-0.003", 6, FE_UPWARD, -0.0035, 3);
    result += test_js_f_string_line("-0.003", 6, FE_UPWARD, -0.0039, 3);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, +0.0, 0);
    result += test_js_f_string_line("-0", 2, FE_DOWNWARD, -0.0, 0);
    result += test_js_f_string_line("5500000000", 10, FE_DOWNWARD, 5500000000, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.000000055, 0);
    result += test_js_f_string_line("31", 2, FE_DOWNWARD, 31.0, 0);
    result += test_js_f_string_line("31", 2, FE_DOWNWARD, 31.1, 0);
    result += test_js_f_string_line("31", 2, FE_DOWNWARD, 31.5, 0);
    result += test_js_f_string_line("31", 2, FE_DOWNWARD, 31.9, 0);
    result += test_js_f_string_line("3", 1, FE_DOWNWARD, 3.0, 0);
    result += test_js_f_string_line("3", 1, FE_DOWNWARD, 3.1, 0);
    result += test_js_f_string_line("3", 1, FE_DOWNWARD, 3.5, 0);
    result += test_js_f_string_line("3", 1, FE_DOWNWARD, 3.9, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.30, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.31, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.35, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.39, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.030, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.031, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.035, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.039, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.0030, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.0031, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.0035, 0);
    result += test_js_f_string_line("0", 1, FE_DOWNWARD, 0.0039, 0);
    result += test_js_f_string_line("-31", 3, FE_DOWNWARD, -31.0, 0);
    result += test_js_f_string_line("-32", 3, FE_DOWNWARD, -31.1, 0);
    result += test_js_f_string_line("-32", 3, FE_DOWNWARD, -31.5, 0);
    result += test_js_f_string_line("-32", 3, FE_DOWNWARD, -31.9, 0);
    result += test_js_f_string_line("-3", 2, FE_DOWNWARD, -3.0, 0);
    result += test_js_f_string_line("-4", 2, FE_DOWNWARD, -3.1, 0);
    result += test_js_f_string_line("-4", 2, FE_DOWNWARD, -3.5, 0);
    result += test_js_f_string_line("-4", 2, FE_DOWNWARD, -3.9, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.30, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.31, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.35, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.39, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.030, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.031, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.035, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.039, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.0030, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.0031, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.0035, 0);
    result += test_js_f_string_line("-1", 2, FE_DOWNWARD, -0.0039, 0);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, +0.0, 1);
    result += test_js_f_string_line("-0.0", 4, FE_DOWNWARD, -0.0, 1);
    result += test_js_f_string_line("5500000000.0", 12, FE_DOWNWARD, 5500000000, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.000000055, 1);
    result += test_js_f_string_line("31.0", 4, FE_DOWNWARD, 31.0, 1);
    result += test_js_f_string_line("31.1", 4, FE_DOWNWARD, 31.1, 1);
    result += test_js_f_string_line("31.5", 4, FE_DOWNWARD, 31.5, 1);
    result += test_js_f_string_line("31.8", 4, FE_DOWNWARD, 31.9, 1);
    result += test_js_f_string_line("3.0", 3, FE_DOWNWARD, 3.0, 1);
    result += test_js_f_string_line("3.1", 3, FE_DOWNWARD, 3.1, 1);
    result += test_js_f_string_line("3.5", 3, FE_DOWNWARD, 3.5, 1);
    result += test_js_f_string_line("3.8", 3, FE_DOWNWARD, 3.9, 1);
    result += test_js_f_string_line("0.2", 3, FE_DOWNWARD, 0.30, 1);
    result += test_js_f_string_line("0.3", 3, FE_DOWNWARD, 0.31, 1);
    result += test_js_f_string_line("0.3", 3, FE_DOWNWARD, 0.35, 1);
    result += test_js_f_string_line("0.3", 3, FE_DOWNWARD, 0.39, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.030, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.031, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.035, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.039, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.0030, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.0031, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.0035, 1);
    result += test_js_f_string_line("0.0", 3, FE_DOWNWARD, 0.0039, 1);
    result += test_js_f_string_line("-31.0", 5, FE_DOWNWARD, -31.0, 1);
    result += test_js_f_string_line("-31.2", 5, FE_DOWNWARD, -31.1, 1);
    result += test_js_f_string_line("-31.5", 5, FE_DOWNWARD, -31.5, 1);
    result += test_js_f_string_line("-31.9", 5, FE_DOWNWARD, -31.9, 1);
    result += test_js_f_string_line("-3.0", 4, FE_DOWNWARD, -3.0, 1);
    result += test_js_f_string_line("-3.2", 4, FE_DOWNWARD, -3.1, 1);
    result += test_js_f_string_line("-3.5", 4, FE_DOWNWARD, -3.5, 1);
    result += test_js_f_string_line("-3.9", 4, FE_DOWNWARD, -3.9, 1);
    result += test_js_f_string_line("-0.3", 4, FE_DOWNWARD, -0.30, 1);
    result += test_js_f_string_line("-0.4", 4, FE_DOWNWARD, -0.31, 1);
    result += test_js_f_string_line("-0.4", 4, FE_DOWNWARD, -0.35, 1);
    result += test_js_f_string_line("-0.4", 4, FE_DOWNWARD, -0.39, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.030, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.031, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.035, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.039, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.0030, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.0031, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.0035, 1);
    result += test_js_f_string_line("-0.1", 4, FE_DOWNWARD, -0.0039, 1);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, +0.0, 2);
    result += test_js_f_string_line("-0.00", 5, FE_DOWNWARD, -0.0, 2);
    result += test_js_f_string_line("5500000000.00", 13, FE_DOWNWARD, 5500000000, 2);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, 0.000000055, 2);
    result += test_js_f_string_line("31.00", 5, FE_DOWNWARD, 31.0, 2);
    result += test_js_f_string_line("31.10", 5, FE_DOWNWARD, 31.1, 2);
    result += test_js_f_string_line("31.50", 5, FE_DOWNWARD, 31.5, 2);
    result += test_js_f_string_line("31.89", 5, FE_DOWNWARD, 31.9, 2);
    result += test_js_f_string_line("3.00", 4, FE_DOWNWARD, 3.0, 2);
    result += test_js_f_string_line("3.10", 4, FE_DOWNWARD, 3.1, 2);
    result += test_js_f_string_line("3.50", 4, FE_DOWNWARD, 3.5, 2);
    result += test_js_f_string_line("3.89", 4, FE_DOWNWARD, 3.9, 2);
    result += test_js_f_string_line("0.29", 4, FE_DOWNWARD, 0.30, 2);
    result += test_js_f_string_line("0.30", 4, FE_DOWNWARD, 0.31, 2);
    result += test_js_f_string_line("0.34", 4, FE_DOWNWARD, 0.35, 2);
    result += test_js_f_string_line("0.39", 4, FE_DOWNWARD, 0.39, 2);
    result += test_js_f_string_line("0.02", 4, FE_DOWNWARD, 0.030, 2);
    result += test_js_f_string_line("0.03", 4, FE_DOWNWARD, 0.031, 2);
    result += test_js_f_string_line("0.03", 4, FE_DOWNWARD, 0.035, 2);
    result += test_js_f_string_line("0.03", 4, FE_DOWNWARD, 0.039, 2);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, 0.0030, 2);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, 0.0031, 2);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, 0.0035, 2);
    result += test_js_f_string_line("0.00", 4, FE_DOWNWARD, 0.0039, 2);
    result += test_js_f_string_line("-31.00", 6, FE_DOWNWARD, -31.0, 2);
    result += test_js_f_string_line("-31.11", 6, FE_DOWNWARD, -31.1, 2);
    result += test_js_f_string_line("-31.50", 6, FE_DOWNWARD, -31.5, 2);
    result += test_js_f_string_line("-31.90", 6, FE_DOWNWARD, -31.9, 2);
    result += test_js_f_string_line("-3.00", 5, FE_DOWNWARD, -3.0, 2);
    result += test_js_f_string_line("-3.11", 5, FE_DOWNWARD, -3.1, 2);
    result += test_js_f_string_line("-3.50", 5, FE_DOWNWARD, -3.5, 2);
    result += test_js_f_string_line("-3.90", 5, FE_DOWNWARD, -3.9, 2);
    result += test_js_f_string_line("-0.30", 5, FE_DOWNWARD, -0.30, 2);
    result += test_js_f_string_line("-0.31", 5, FE_DOWNWARD, -0.31, 2);
    result += test_js_f_string_line("-0.35", 5, FE_DOWNWARD, -0.35, 2);
    result += test_js_f_string_line("-0.40", 5, FE_DOWNWARD, -0.39, 2);
    result += test_js_f_string_line("-0.03", 5, FE_DOWNWARD, -0.030, 2);
    result += test_js_f_string_line("-0.04", 5, FE_DOWNWARD, -0.031, 2);
    result += test_js_f_string_line("-0.04", 5, FE_DOWNWARD, -0.035, 2);
    result += test_js_f_string_line("-0.04", 5, FE_DOWNWARD, -0.039, 2);
    result += test_js_f_string_line("-0.01", 5, FE_DOWNWARD, -0.0030, 2);
    result += test_js_f_string_line("-0.01", 5, FE_DOWNWARD, -0.0031, 2);
    result += test_js_f_string_line("-0.01", 5, FE_DOWNWARD, -0.0035, 2);
    result += test_js_f_string_line("-0.01", 5, FE_DOWNWARD, -0.0039, 2);
    result += test_js_f_string_line("0.000", 5, FE_DOWNWARD, +0.0, 3);
    result += test_js_f_string_line("-0.000", 6, FE_DOWNWARD, -0.0, 3);
    result += test_js_f_string_line("5500000000.000", 14, FE_DOWNWARD, 5500000000, 3);
    result += test_js_f_string_line("0.000", 5, FE_DOWNWARD, 0.000000055, 3);
    result += test_js_f_string_line("31.000", 6, FE_DOWNWARD, 31.0, 3);
    result += test_js_f_string_line("31.100", 6, FE_DOWNWARD, 31.1, 3);
    result += test_js_f_string_line("31.500", 6, FE_DOWNWARD, 31.5, 3);
    result += test_js_f_string_line("31.899", 6, FE_DOWNWARD, 31.9, 3);
    result += test_js_f_string_line("3.000", 5, FE_DOWNWARD, 3.0, 3);
    result += test_js_f_string_line("3.100", 5, FE_DOWNWARD, 3.1, 3);
    result += test_js_f_string_line("3.500", 5, FE_DOWNWARD, 3.5, 3);
    result += test_js_f_string_line("3.899", 5, FE_DOWNWARD, 3.9, 3);
    result += test_js_f_string_line("0.299", 5, FE_DOWNWARD, 0.30, 3);
    result += test_js_f_string_line("0.309", 5, FE_DOWNWARD, 0.31, 3);
    result += test_js_f_string_line("0.349", 5, FE_DOWNWARD, 0.35, 3);
    result += test_js_f_string_line("0.390", 5, FE_DOWNWARD, 0.39, 3);
    result += test_js_f_string_line("0.029", 5, FE_DOWNWARD, 0.030, 3);
    result += test_js_f_string_line("0.030", 5, FE_DOWNWARD, 0.031, 3);
    result += test_js_f_string_line("0.035", 5, FE_DOWNWARD, 0.035, 3);
    result += test_js_f_string_line("0.038", 5, FE_DOWNWARD, 0.039, 3);
    result += test_js_f_string_line("0.003", 5, FE_DOWNWARD, 0.0030, 3);
    result += test_js_f_string_line("0.003", 5, FE_DOWNWARD, 0.0031, 3);
    result += test_js_f_string_line("0.003", 5, FE_DOWNWARD, 0.0035, 3);
    result += test_js_f_string_line("0.003", 5, FE_DOWNWARD, 0.0039, 3);
    result += test_js_f_string_line("-31.000", 7, FE_DOWNWARD, -31.0, 3);
    result += test_js_f_string_line("-31.101", 7, FE_DOWNWARD, -31.1, 3);
    result += test_js_f_string_line("-31.500", 7, FE_DOWNWARD, -31.5, 3);
    result += test_js_f_string_line("-31.900", 7, FE_DOWNWARD, -31.9, 3);
    result += test_js_f_string_line("-3.000", 6, FE_DOWNWARD, -3.0, 3);
    result += test_js_f_string_line("-3.101", 6, FE_DOWNWARD, -3.1, 3);
    result += test_js_f_string_line("-3.500", 6, FE_DOWNWARD, -3.5, 3);
    result += test_js_f_string_line("-3.900", 6, FE_DOWNWARD, -3.9, 3);
    result += test_js_f_string_line("-0.300", 6, FE_DOWNWARD, -0.30, 3);
    result += test_js_f_string_line("-0.310", 6, FE_DOWNWARD, -0.31, 3);
    result += test_js_f_string_line("-0.350", 6, FE_DOWNWARD, -0.35, 3);
    result += test_js_f_string_line("-0.391", 6, FE_DOWNWARD, -0.39, 3);
    result += test_js_f_string_line("-0.030", 6, FE_DOWNWARD, -0.030, 3);
    result += test_js_f_string_line("-0.031", 6, FE_DOWNWARD, -0.031, 3);
    result += test_js_f_string_line("-0.036", 6, FE_DOWNWARD, -0.035, 3);
    result += test_js_f_string_line("-0.039", 6, FE_DOWNWARD, -0.039, 3);
    result += test_js_f_string_line("-0.004", 6, FE_DOWNWARD, -0.0030, 3);
    result += test_js_f_string_line("-0.004", 6, FE_DOWNWARD, -0.0031, 3);
    result += test_js_f_string_line("-0.004", 6, FE_DOWNWARD, -0.0035, 3);
    result += test_js_f_string_line("-0.004", 6, FE_DOWNWARD, -0.0039, 3);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, +0.0, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.0, 0);
    result += test_js_f_string_line("5500000000", 10, FE_TOWARDZERO, 5500000000, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.000000055, 0);
    result += test_js_f_string_line("31", 2, FE_TOWARDZERO, 31.0, 0);
    result += test_js_f_string_line("31", 2, FE_TOWARDZERO, 31.1, 0);
    result += test_js_f_string_line("31", 2, FE_TOWARDZERO, 31.5, 0);
    result += test_js_f_string_line("31", 2, FE_TOWARDZERO, 31.9, 0);
    result += test_js_f_string_line("3", 1, FE_TOWARDZERO, 3.0, 0);
    result += test_js_f_string_line("3", 1, FE_TOWARDZERO, 3.1, 0);
    result += test_js_f_string_line("3", 1, FE_TOWARDZERO, 3.5, 0);
    result += test_js_f_string_line("3", 1, FE_TOWARDZERO, 3.9, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.30, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.31, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.35, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.39, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.030, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.031, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.035, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.039, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.0030, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.0031, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.0035, 0);
    result += test_js_f_string_line("0", 1, FE_TOWARDZERO, 0.0039, 0);
    result += test_js_f_string_line("-31", 3, FE_TOWARDZERO, -31.0, 0);
    result += test_js_f_string_line("-31", 3, FE_TOWARDZERO, -31.1, 0);
    result += test_js_f_string_line("-31", 3, FE_TOWARDZERO, -31.5, 0);
    result += test_js_f_string_line("-31", 3, FE_TOWARDZERO, -31.9, 0);
    result += test_js_f_string_line("-3", 2, FE_TOWARDZERO, -3.0, 0);
    result += test_js_f_string_line("-3", 2, FE_TOWARDZERO, -3.1, 0);
    result += test_js_f_string_line("-3", 2, FE_TOWARDZERO, -3.5, 0);
    result += test_js_f_string_line("-3", 2, FE_TOWARDZERO, -3.9, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.30, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.31, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.35, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.39, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.030, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.031, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.035, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.039, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.0030, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.0031, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.0035, 0);
    result += test_js_f_string_line("-0", 2, FE_TOWARDZERO, -0.0039, 0);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, +0.0, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.0, 1);
    result += test_js_f_string_line("5500000000.0", 12, FE_TOWARDZERO, 5500000000, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.000000055, 1);
    result += test_js_f_string_line("31.0", 4, FE_TOWARDZERO, 31.0, 1);
    result += test_js_f_string_line("31.1", 4, FE_TOWARDZERO, 31.1, 1);
    result += test_js_f_string_line("31.5", 4, FE_TOWARDZERO, 31.5, 1);
    result += test_js_f_string_line("31.8", 4, FE_TOWARDZERO, 31.9, 1);
    result += test_js_f_string_line("3.0", 3, FE_TOWARDZERO, 3.0, 1);
    result += test_js_f_string_line("3.1", 3, FE_TOWARDZERO, 3.1, 1);
    result += test_js_f_string_line("3.5", 3, FE_TOWARDZERO, 3.5, 1);
    result += test_js_f_string_line("3.8", 3, FE_TOWARDZERO, 3.9, 1);
    result += test_js_f_string_line("0.2", 3, FE_TOWARDZERO, 0.30, 1);
    result += test_js_f_string_line("0.3", 3, FE_TOWARDZERO, 0.31, 1);
    result += test_js_f_string_line("0.3", 3, FE_TOWARDZERO, 0.35, 1);
    result += test_js_f_string_line("0.3", 3, FE_TOWARDZERO, 0.39, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.030, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.031, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.035, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.039, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.0030, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.0031, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.0035, 1);
    result += test_js_f_string_line("0.0", 3, FE_TOWARDZERO, 0.0039, 1);
    result += test_js_f_string_line("-31.0", 5, FE_TOWARDZERO, -31.0, 1);
    result += test_js_f_string_line("-31.1", 5, FE_TOWARDZERO, -31.1, 1);
    result += test_js_f_string_line("-31.5", 5, FE_TOWARDZERO, -31.5, 1);
    result += test_js_f_string_line("-31.8", 5, FE_TOWARDZERO, -31.9, 1);
    result += test_js_f_string_line("-3.0", 4, FE_TOWARDZERO, -3.0, 1);
    result += test_js_f_string_line("-3.1", 4, FE_TOWARDZERO, -3.1, 1);
    result += test_js_f_string_line("-3.5", 4, FE_TOWARDZERO, -3.5, 1);
    result += test_js_f_string_line("-3.8", 4, FE_TOWARDZERO, -3.9, 1);
    result += test_js_f_string_line("-0.2", 4, FE_TOWARDZERO, -0.30, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TOWARDZERO, -0.31, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TOWARDZERO, -0.35, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TOWARDZERO, -0.39, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.039, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.0030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.0031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.0035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TOWARDZERO, -0.0039, 1);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, +0.0, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TOWARDZERO, -0.0, 2);
    result += test_js_f_string_line("5500000000.00", 13, FE_TOWARDZERO, 5500000000, 2);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, 0.000000055, 2);
    result += test_js_f_string_line("31.00", 5, FE_TOWARDZERO, 31.0, 2);
    result += test_js_f_string_line("31.10", 5, FE_TOWARDZERO, 31.1, 2);
    result += test_js_f_string_line("31.50", 5, FE_TOWARDZERO, 31.5, 2);
    result += test_js_f_string_line("31.89", 5, FE_TOWARDZERO, 31.9, 2);
    result += test_js_f_string_line("3.00", 4, FE_TOWARDZERO, 3.0, 2);
    result += test_js_f_string_line("3.10", 4, FE_TOWARDZERO, 3.1, 2);
    result += test_js_f_string_line("3.50", 4, FE_TOWARDZERO, 3.5, 2);
    result += test_js_f_string_line("3.89", 4, FE_TOWARDZERO, 3.9, 2);
    result += test_js_f_string_line("0.29", 4, FE_TOWARDZERO, 0.30, 2);
    result += test_js_f_string_line("0.30", 4, FE_TOWARDZERO, 0.31, 2);
    result += test_js_f_string_line("0.34", 4, FE_TOWARDZERO, 0.35, 2);
    result += test_js_f_string_line("0.39", 4, FE_TOWARDZERO, 0.39, 2);
    result += test_js_f_string_line("0.02", 4, FE_TOWARDZERO, 0.030, 2);
    result += test_js_f_string_line("0.03", 4, FE_TOWARDZERO, 0.031, 2);
    result += test_js_f_string_line("0.03", 4, FE_TOWARDZERO, 0.035, 2);
    result += test_js_f_string_line("0.03", 4, FE_TOWARDZERO, 0.039, 2);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, 0.0030, 2);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, 0.0031, 2);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, 0.0035, 2);
    result += test_js_f_string_line("0.00", 4, FE_TOWARDZERO, 0.0039, 2);
    result += test_js_f_string_line("-31.00", 6, FE_TOWARDZERO, -31.0, 2);
    result += test_js_f_string_line("-31.10", 6, FE_TOWARDZERO, -31.1, 2);
    result += test_js_f_string_line("-31.50", 6, FE_TOWARDZERO, -31.5, 2);
    result += test_js_f_string_line("-31.89", 6, FE_TOWARDZERO, -31.9, 2);
    result += test_js_f_string_line("-3.00", 5, FE_TOWARDZERO, -3.0, 2);
    result += test_js_f_string_line("-3.10", 5, FE_TOWARDZERO, -3.1, 2);
    result += test_js_f_string_line("-3.50", 5, FE_TOWARDZERO, -3.5, 2);
    result += test_js_f_string_line("-3.89", 5, FE_TOWARDZERO, -3.9, 2);
    result += test_js_f_string_line("-0.29", 5, FE_TOWARDZERO, -0.30, 2);
    result += test_js_f_string_line("-0.30", 5, FE_TOWARDZERO, -0.31, 2);
    result += test_js_f_string_line("-0.34", 5, FE_TOWARDZERO, -0.35, 2);
    result += test_js_f_string_line("-0.39", 5, FE_TOWARDZERO, -0.39, 2);
    result += test_js_f_string_line("-0.02", 5, FE_TOWARDZERO, -0.030, 2);
    result += test_js_f_string_line("-0.03", 5, FE_TOWARDZERO, -0.031, 2);
    result += test_js_f_string_line("-0.03", 5, FE_TOWARDZERO, -0.035, 2);
    result += test_js_f_string_line("-0.03", 5, FE_TOWARDZERO, -0.039, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TOWARDZERO, -0.0030, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TOWARDZERO, -0.0031, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TOWARDZERO, -0.0035, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TOWARDZERO, -0.0039, 2);
    result += test_js_f_string_line("0.000", 5, FE_TOWARDZERO, +0.0, 3);
    result += test_js_f_string_line("-0.000", 6, FE_TOWARDZERO, -0.0, 3);
    result += test_js_f_string_line("5500000000.000", 14, FE_TOWARDZERO, 5500000000, 3);
    result += test_js_f_string_line("0.000", 5, FE_TOWARDZERO, 0.000000055, 3);
    result += test_js_f_string_line("31.000", 6, FE_TOWARDZERO, 31.0, 3);
    result += test_js_f_string_line("31.100", 6, FE_TOWARDZERO, 31.1, 3);
    result += test_js_f_string_line("31.500", 6, FE_TOWARDZERO, 31.5, 3);
    result += test_js_f_string_line("31.899", 6, FE_TOWARDZERO, 31.9, 3);
    result += test_js_f_string_line("3.000", 5, FE_TOWARDZERO, 3.0, 3);
    result += test_js_f_string_line("3.100", 5, FE_TOWARDZERO, 3.1, 3);
    result += test_js_f_string_line("3.500", 5, FE_TOWARDZERO, 3.5, 3);
    result += test_js_f_string_line("3.899", 5, FE_TOWARDZERO, 3.9, 3);
    result += test_js_f_string_line("0.299", 5, FE_TOWARDZERO, 0.30, 3);
    result += test_js_f_string_line("0.309", 5, FE_TOWARDZERO, 0.31, 3);
    result += test_js_f_string_line("0.349", 5, FE_TOWARDZERO, 0.35, 3);
    result += test_js_f_string_line("0.390", 5, FE_TOWARDZERO, 0.39, 3);
    result += test_js_f_string_line("0.029", 5, FE_TOWARDZERO, 0.030, 3);
    result += test_js_f_string_line("0.030", 5, FE_TOWARDZERO, 0.031, 3);
    result += test_js_f_string_line("0.035", 5, FE_TOWARDZERO, 0.035, 3);
    result += test_js_f_string_line("0.038", 5, FE_TOWARDZERO, 0.039, 3);
    result += test_js_f_string_line("0.003", 5, FE_TOWARDZERO, 0.0030, 3);
    result += test_js_f_string_line("0.003", 5, FE_TOWARDZERO, 0.0031, 3);
    result += test_js_f_string_line("0.003", 5, FE_TOWARDZERO, 0.0035, 3);
    result += test_js_f_string_line("0.003", 5, FE_TOWARDZERO, 0.0039, 3);
    result += test_js_f_string_line("-31.000", 7, FE_TOWARDZERO, -31.0, 3);
    result += test_js_f_string_line("-31.100", 7, FE_TOWARDZERO, -31.1, 3);
    result += test_js_f_string_line("-31.500", 7, FE_TOWARDZERO, -31.5, 3);
    result += test_js_f_string_line("-31.899", 7, FE_TOWARDZERO, -31.9, 3);
    result += test_js_f_string_line("-3.000", 6, FE_TOWARDZERO, -3.0, 3);
    result += test_js_f_string_line("-3.100", 6, FE_TOWARDZERO, -3.1, 3);
    result += test_js_f_string_line("-3.500", 6, FE_TOWARDZERO, -3.5, 3);
    result += test_js_f_string_line("-3.899", 6, FE_TOWARDZERO, -3.9, 3);
    result += test_js_f_string_line("-0.299", 6, FE_TOWARDZERO, -0.30, 3);
    result += test_js_f_string_line("-0.309", 6, FE_TOWARDZERO, -0.31, 3);
    result += test_js_f_string_line("-0.349", 6, FE_TOWARDZERO, -0.35, 3);
    result += test_js_f_string_line("-0.390", 6, FE_TOWARDZERO, -0.39, 3);
    result += test_js_f_string_line("-0.029", 6, FE_TOWARDZERO, -0.030, 3);
    result += test_js_f_string_line("-0.030", 6, FE_TOWARDZERO, -0.031, 3);
    result += test_js_f_string_line("-0.035", 6, FE_TOWARDZERO, -0.035, 3);
    result += test_js_f_string_line("-0.038", 6, FE_TOWARDZERO, -0.039, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TOWARDZERO, -0.0030, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TOWARDZERO, -0.0031, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TOWARDZERO, -0.0035, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TOWARDZERO, -0.0039, 3);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, +0.0, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.0, 0);
    result += test_js_f_string_line("5500000000", 10, FE_TONEAREST, 5500000000, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.000000055, 0);
    result += test_js_f_string_line("31", 2, FE_TONEAREST, 31.0, 0);
    result += test_js_f_string_line("31", 2, FE_TONEAREST, 31.1, 0);
    result += test_js_f_string_line("32", 2, FE_TONEAREST, 31.5, 0);
    result += test_js_f_string_line("32", 2, FE_TONEAREST, 31.9, 0);
    result += test_js_f_string_line("3", 1, FE_TONEAREST, 3.0, 0);
    result += test_js_f_string_line("3", 1, FE_TONEAREST, 3.1, 0);
    result += test_js_f_string_line("4", 1, FE_TONEAREST, 3.5, 0);
    result += test_js_f_string_line("4", 1, FE_TONEAREST, 3.9, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.30, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.31, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.35, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.39, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.030, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.031, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.035, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.039, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.0030, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.0031, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.0035, 0);
    result += test_js_f_string_line("0", 1, FE_TONEAREST, 0.0039, 0);
    result += test_js_f_string_line("-31", 3, FE_TONEAREST, -31.0, 0);
    result += test_js_f_string_line("-31", 3, FE_TONEAREST, -31.1, 0);
    result += test_js_f_string_line("-32", 3, FE_TONEAREST, -31.5, 0);
    result += test_js_f_string_line("-32", 3, FE_TONEAREST, -31.9, 0);
    result += test_js_f_string_line("-3", 2, FE_TONEAREST, -3.0, 0);
    result += test_js_f_string_line("-3", 2, FE_TONEAREST, -3.1, 0);
    result += test_js_f_string_line("-4", 2, FE_TONEAREST, -3.5, 0);
    result += test_js_f_string_line("-4", 2, FE_TONEAREST, -3.9, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.30, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.31, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.35, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.39, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.030, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.031, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.035, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.039, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.0030, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.0031, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.0035, 0);
    result += test_js_f_string_line("-0", 2, FE_TONEAREST, -0.0039, 0);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, +0.0, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.0, 1);
    result += test_js_f_string_line("5500000000.0", 12, FE_TONEAREST, 5500000000, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.000000055, 1);
    result += test_js_f_string_line("31.0", 4, FE_TONEAREST, 31.0, 1);
    result += test_js_f_string_line("31.1", 4, FE_TONEAREST, 31.1, 1);
    result += test_js_f_string_line("31.5", 4, FE_TONEAREST, 31.5, 1);
    result += test_js_f_string_line("31.9", 4, FE_TONEAREST, 31.9, 1);
    result += test_js_f_string_line("3.0", 3, FE_TONEAREST, 3.0, 1);
    result += test_js_f_string_line("3.1", 3, FE_TONEAREST, 3.1, 1);
    result += test_js_f_string_line("3.5", 3, FE_TONEAREST, 3.5, 1);
    result += test_js_f_string_line("3.9", 3, FE_TONEAREST, 3.9, 1);
    result += test_js_f_string_line("0.3", 3, FE_TONEAREST, 0.30, 1);
    result += test_js_f_string_line("0.3", 3, FE_TONEAREST, 0.31, 1);
    result += test_js_f_string_line("0.3", 3, FE_TONEAREST, 0.35, 1);
    result += test_js_f_string_line("0.4", 3, FE_TONEAREST, 0.39, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.030, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.031, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.035, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.039, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.0030, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.0031, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.0035, 1);
    result += test_js_f_string_line("0.0", 3, FE_TONEAREST, 0.0039, 1);
    result += test_js_f_string_line("-31.0", 5, FE_TONEAREST, -31.0, 1);
    result += test_js_f_string_line("-31.1", 5, FE_TONEAREST, -31.1, 1);
    result += test_js_f_string_line("-31.5", 5, FE_TONEAREST, -31.5, 1);
    result += test_js_f_string_line("-31.9", 5, FE_TONEAREST, -31.9, 1);
    result += test_js_f_string_line("-3.0", 4, FE_TONEAREST, -3.0, 1);
    result += test_js_f_string_line("-3.1", 4, FE_TONEAREST, -3.1, 1);
    result += test_js_f_string_line("-3.5", 4, FE_TONEAREST, -3.5, 1);
    result += test_js_f_string_line("-3.9", 4, FE_TONEAREST, -3.9, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TONEAREST, -0.30, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TONEAREST, -0.31, 1);
    result += test_js_f_string_line("-0.3", 4, FE_TONEAREST, -0.35, 1);
    result += test_js_f_string_line("-0.4", 4, FE_TONEAREST, -0.39, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.039, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.0030, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.0031, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.0035, 1);
    result += test_js_f_string_line("-0.0", 4, FE_TONEAREST, -0.0039, 1);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, +0.0, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TONEAREST, -0.0, 2);
    result += test_js_f_string_line("5500000000.00", 13, FE_TONEAREST, 5500000000, 2);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, 0.000000055, 2);
    result += test_js_f_string_line("31.00", 5, FE_TONEAREST, 31.0, 2);
    result += test_js_f_string_line("31.10", 5, FE_TONEAREST, 31.1, 2);
    result += test_js_f_string_line("31.50", 5, FE_TONEAREST, 31.5, 2);
    result += test_js_f_string_line("31.90", 5, FE_TONEAREST, 31.9, 2);
    result += test_js_f_string_line("3.00", 4, FE_TONEAREST, 3.0, 2);
    result += test_js_f_string_line("3.10", 4, FE_TONEAREST, 3.1, 2);
    result += test_js_f_string_line("3.50", 4, FE_TONEAREST, 3.5, 2);
    result += test_js_f_string_line("3.90", 4, FE_TONEAREST, 3.9, 2);
    result += test_js_f_string_line("0.30", 4, FE_TONEAREST, 0.30, 2);
    result += test_js_f_string_line("0.31", 4, FE_TONEAREST, 0.31, 2);
    result += test_js_f_string_line("0.35", 4, FE_TONEAREST, 0.35, 2);
    result += test_js_f_string_line("0.39", 4, FE_TONEAREST, 0.39, 2);
    result += test_js_f_string_line("0.03", 4, FE_TONEAREST, 0.030, 2);
    result += test_js_f_string_line("0.03", 4, FE_TONEAREST, 0.031, 2);
    result += test_js_f_string_line("0.04", 4, FE_TONEAREST, 0.035, 2);
    result += test_js_f_string_line("0.04", 4, FE_TONEAREST, 0.039, 2);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, 0.0030, 2);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, 0.0031, 2);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, 0.0035, 2);
    result += test_js_f_string_line("0.00", 4, FE_TONEAREST, 0.0039, 2);
    result += test_js_f_string_line("-31.00", 6, FE_TONEAREST, -31.0, 2);
    result += test_js_f_string_line("-31.10", 6, FE_TONEAREST, -31.1, 2);
    result += test_js_f_string_line("-31.50", 6, FE_TONEAREST, -31.5, 2);
    result += test_js_f_string_line("-31.90", 6, FE_TONEAREST, -31.9, 2);
    result += test_js_f_string_line("-3.00", 5, FE_TONEAREST, -3.0, 2);
    result += test_js_f_string_line("-3.10", 5, FE_TONEAREST, -3.1, 2);
    result += test_js_f_string_line("-3.50", 5, FE_TONEAREST, -3.5, 2);
    result += test_js_f_string_line("-3.90", 5, FE_TONEAREST, -3.9, 2);
    result += test_js_f_string_line("-0.30", 5, FE_TONEAREST, -0.30, 2);
    result += test_js_f_string_line("-0.31", 5, FE_TONEAREST, -0.31, 2);
    result += test_js_f_string_line("-0.35", 5, FE_TONEAREST, -0.35, 2);
    result += test_js_f_string_line("-0.39", 5, FE_TONEAREST, -0.39, 2);
    result += test_js_f_string_line("-0.03", 5, FE_TONEAREST, -0.030, 2);
    result += test_js_f_string_line("-0.03", 5, FE_TONEAREST, -0.031, 2);
    result += test_js_f_string_line("-0.04", 5, FE_TONEAREST, -0.035, 2);
    result += test_js_f_string_line("-0.04", 5, FE_TONEAREST, -0.039, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TONEAREST, -0.0030, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TONEAREST, -0.0031, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TONEAREST, -0.0035, 2);
    result += test_js_f_string_line("-0.00", 5, FE_TONEAREST, -0.0039, 2);
    result += test_js_f_string_line("0.000", 5, FE_TONEAREST, +0.0, 3);
    result += test_js_f_string_line("-0.000", 6, FE_TONEAREST, -0.0, 3);
    result += test_js_f_string_line("5500000000.000", 14, FE_TONEAREST, 5500000000, 3);
    result += test_js_f_string_line("0.000", 5, FE_TONEAREST, 0.000000055, 3);
    result += test_js_f_string_line("31.000", 6, FE_TONEAREST, 31.0, 3);
    result += test_js_f_string_line("31.100", 6, FE_TONEAREST, 31.1, 3);
    result += test_js_f_string_line("31.500", 6, FE_TONEAREST, 31.5, 3);
    result += test_js_f_string_line("31.900", 6, FE_TONEAREST, 31.9, 3);
    result += test_js_f_string_line("3.000", 5, FE_TONEAREST, 3.0, 3);
    result += test_js_f_string_line("3.100", 5, FE_TONEAREST, 3.1, 3);
    result += test_js_f_string_line("3.500", 5, FE_TONEAREST, 3.5, 3);
    result += test_js_f_string_line("3.900", 5, FE_TONEAREST, 3.9, 3);
    result += test_js_f_string_line("0.300", 5, FE_TONEAREST, 0.30, 3);
    result += test_js_f_string_line("0.310", 5, FE_TONEAREST, 0.31, 3);
    result += test_js_f_string_line("0.350", 5, FE_TONEAREST, 0.35, 3);
    result += test_js_f_string_line("0.390", 5, FE_TONEAREST, 0.39, 3);
    result += test_js_f_string_line("0.030", 5, FE_TONEAREST, 0.030, 3);
    result += test_js_f_string_line("0.031", 5, FE_TONEAREST, 0.031, 3);
    result += test_js_f_string_line("0.035", 5, FE_TONEAREST, 0.035, 3);
    result += test_js_f_string_line("0.039", 5, FE_TONEAREST, 0.039, 3);
    result += test_js_f_string_line("0.003", 5, FE_TONEAREST, 0.0030, 3);
    result += test_js_f_string_line("0.003", 5, FE_TONEAREST, 0.0031, 3);
    result += test_js_f_string_line("0.004", 5, FE_TONEAREST, 0.0035, 3);
    result += test_js_f_string_line("0.004", 5, FE_TONEAREST, 0.0039, 3);
    result += test_js_f_string_line("-31.000", 7, FE_TONEAREST, -31.0, 3);
    result += test_js_f_string_line("-31.100", 7, FE_TONEAREST, -31.1, 3);
    result += test_js_f_string_line("-31.500", 7, FE_TONEAREST, -31.5, 3);
    result += test_js_f_string_line("-31.900", 7, FE_TONEAREST, -31.9, 3);
    result += test_js_f_string_line("-3.000", 6, FE_TONEAREST, -3.0, 3);
    result += test_js_f_string_line("-3.100", 6, FE_TONEAREST, -3.1, 3);
    result += test_js_f_string_line("-3.500", 6, FE_TONEAREST, -3.5, 3);
    result += test_js_f_string_line("-3.900", 6, FE_TONEAREST, -3.9, 3);
    result += test_js_f_string_line("-0.300", 6, FE_TONEAREST, -0.30, 3);
    result += test_js_f_string_line("-0.310", 6, FE_TONEAREST, -0.31, 3);
    result += test_js_f_string_line("-0.350", 6, FE_TONEAREST, -0.35, 3);
    result += test_js_f_string_line("-0.390", 6, FE_TONEAREST, -0.39, 3);
    result += test_js_f_string_line("-0.030", 6, FE_TONEAREST, -0.030, 3);
    result += test_js_f_string_line("-0.031", 6, FE_TONEAREST, -0.031, 3);
    result += test_js_f_string_line("-0.035", 6, FE_TONEAREST, -0.035, 3);
    result += test_js_f_string_line("-0.039", 6, FE_TONEAREST, -0.039, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TONEAREST, -0.0030, 3);
    result += test_js_f_string_line("-0.003", 6, FE_TONEAREST, -0.0031, 3);
    result += test_js_f_string_line("-0.004", 6, FE_TONEAREST, -0.0035, 3);
    result += test_js_f_string_line("-0.004", 6, FE_TONEAREST, -0.0039, 3);
    return result;
}

int main() {
    int result = 0;
    result += test_js_e_string();
    result += test_js_f_string();
    return result;
}
