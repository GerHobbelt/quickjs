#include <fenv.h>
#include <string.h>
#include <stdio.h>

#include "patch.h"

const char *round_mode_str(int round_mode) {
    if (round_mode == FE_UPWARD) {
        return "FE_UPWARD";
    } else if (round_mode == FE_DOWNWARD) {
        return "FE_DOWNWARD";
    } else if (round_mode == FE_TOWARDZERO) {
        return "FE_TOWARDZERO";
    } else if (round_mode == FE_TONEAREST) {
        return "FE_TONEAREST";
    } else {
        return "UNKNOWN";
    }
}

int test_js_e_string_line(const char *except, int round_mode, double d, int n_digits) {
    const int buf_size = 128;
    char buf[buf_size];

    int origin_round_mode = fegetround();
    fesetround(round_mode);

    js_e_string(d, n_digits, round_mode, buf, buf_size);

    fesetround(origin_round_mode);

    if (strcmp(except, buf) == 0) {
        return 0;
    } else {
        printf("round_mode = %s, d = %lf, n_digits = %d\n", round_mode_str(round_mode), d, n_digits);
        printf("except = %s\n", except);
        printf("actual = %s\n", buf);
        return 1;
    }
}

int test_js_e_string() {
    int result = 0;
    result += test_js_e_string_line("+0e+00", FE_UPWARD, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_UPWARD, -0.0, 1);
    result += test_js_e_string_line("+6e+09", FE_UPWARD, 5500000000, 1);
    result += test_js_e_string_line("+6e-08", FE_UPWARD, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 1.0, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.1, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.4, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.5, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.6, 1);
    result += test_js_e_string_line("+2e+00", FE_UPWARD, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_UPWARD, 5.0, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.1, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.4, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.5, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.6, 1);
    result += test_js_e_string_line("+6e+00", FE_UPWARD, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_UPWARD, 9.0, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.1, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.4, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.5, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.6, 1);
    result += test_js_e_string_line("+1e+01", FE_UPWARD, 9.9, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.10, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.11, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.14, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.15, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.16, 1);
    result += test_js_e_string_line("+2e-01", FE_UPWARD, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_UPWARD, 0.50, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.51, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.54, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.55, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.56, 1);
    result += test_js_e_string_line("+6e-01", FE_UPWARD, 0.59, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.90, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.91, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.94, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.95, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.96, 1);
    result += test_js_e_string_line("+1e+00", FE_UPWARD, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.4, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.5, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.6, 1);
    result += test_js_e_string_line("-1e+00", FE_UPWARD, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.4, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.5, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.6, 1);
    result += test_js_e_string_line("-5e+00", FE_UPWARD, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.4, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.5, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.6, 1);
    result += test_js_e_string_line("-9e+00", FE_UPWARD, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.15, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.16, 1);
    result += test_js_e_string_line("-1e-01", FE_UPWARD, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.54, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.55, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.56, 1);
    result += test_js_e_string_line("-5e-01", FE_UPWARD, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.95, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.96, 1);
    result += test_js_e_string_line("-9e-01", FE_UPWARD, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_UPWARD, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_UPWARD, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_UPWARD, 5500000000, 2);
    result += test_js_e_string_line("+5.6e-08", FE_UPWARD, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_UPWARD, 1.0, 2);
    result += test_js_e_string_line("+1.2e+00", FE_UPWARD, 1.1, 2);
    result += test_js_e_string_line("+1.4e+00", FE_UPWARD, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_UPWARD, 1.5, 2);
    result += test_js_e_string_line("+1.7e+00", FE_UPWARD, 1.6, 2);
    result += test_js_e_string_line("+1.9e+00", FE_UPWARD, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_UPWARD, 5.0, 2);
    result += test_js_e_string_line("+5.1e+00", FE_UPWARD, 5.1, 2);
    result += test_js_e_string_line("+5.5e+00", FE_UPWARD, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_UPWARD, 5.5, 2);
    result += test_js_e_string_line("+5.6e+00", FE_UPWARD, 5.6, 2);
    result += test_js_e_string_line("+6.0e+00", FE_UPWARD, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_UPWARD, 9.0, 2);
    result += test_js_e_string_line("+9.1e+00", FE_UPWARD, 9.1, 2);
    result += test_js_e_string_line("+9.5e+00", FE_UPWARD, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_UPWARD, 9.5, 2);
    result += test_js_e_string_line("+9.6e+00", FE_UPWARD, 9.6, 2);
    result += test_js_e_string_line("+1.0e+01", FE_UPWARD, 9.9, 2);
    result += test_js_e_string_line("+1.1e-01", FE_UPWARD, 0.10, 2);
    result += test_js_e_string_line("+1.2e-01", FE_UPWARD, 0.11, 2);
    result += test_js_e_string_line("+1.5e-01", FE_UPWARD, 0.14, 2);
    result += test_js_e_string_line("+1.5e-01", FE_UPWARD, 0.15, 2);
    result += test_js_e_string_line("+1.7e-01", FE_UPWARD, 0.16, 2);
    result += test_js_e_string_line("+2.0e-01", FE_UPWARD, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_UPWARD, 0.50, 2);
    result += test_js_e_string_line("+5.2e-01", FE_UPWARD, 0.51, 2);
    result += test_js_e_string_line("+5.5e-01", FE_UPWARD, 0.54, 2);
    result += test_js_e_string_line("+5.6e-01", FE_UPWARD, 0.55, 2);
    result += test_js_e_string_line("+5.7e-01", FE_UPWARD, 0.56, 2);
    result += test_js_e_string_line("+5.9e-01", FE_UPWARD, 0.59, 2);
    result += test_js_e_string_line("+9.1e-01", FE_UPWARD, 0.90, 2);
    result += test_js_e_string_line("+9.2e-01", FE_UPWARD, 0.91, 2);
    result += test_js_e_string_line("+9.4e-01", FE_UPWARD, 0.94, 2);
    result += test_js_e_string_line("+9.5e-01", FE_UPWARD, 0.95, 2);
    result += test_js_e_string_line("+9.6e-01", FE_UPWARD, 0.96, 2);
    result += test_js_e_string_line("+9.9e-01", FE_UPWARD, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_UPWARD, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_UPWARD, -1.1, 2);
    result += test_js_e_string_line("-1.3e+00", FE_UPWARD, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_UPWARD, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_UPWARD, -1.6, 2);
    result += test_js_e_string_line("-1.8e+00", FE_UPWARD, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_UPWARD, -5.0, 2);
    result += test_js_e_string_line("-5.0e+00", FE_UPWARD, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_UPWARD, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_UPWARD, -5.5, 2);
    result += test_js_e_string_line("-5.5e+00", FE_UPWARD, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_UPWARD, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_UPWARD, -9.0, 2);
    result += test_js_e_string_line("-9.0e+00", FE_UPWARD, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_UPWARD, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_UPWARD, -9.5, 2);
    result += test_js_e_string_line("-9.5e+00", FE_UPWARD, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_UPWARD, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_UPWARD, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_UPWARD, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_UPWARD, -0.14, 2);
    result += test_js_e_string_line("-1.4e-01", FE_UPWARD, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_UPWARD, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_UPWARD, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_UPWARD, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_UPWARD, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_UPWARD, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_UPWARD, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_UPWARD, -0.56, 2);
    result += test_js_e_string_line("-5.8e-01", FE_UPWARD, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_UPWARD, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_UPWARD, -0.91, 2);
    result += test_js_e_string_line("-9.3e-01", FE_UPWARD, -0.94, 2);
    result += test_js_e_string_line("-9.4e-01", FE_UPWARD, -0.95, 2);
    result += test_js_e_string_line("-9.5e-01", FE_UPWARD, -0.96, 2);
    result += test_js_e_string_line("-9.8e-01", FE_UPWARD, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_UPWARD, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_UPWARD, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_UPWARD, 5500000000, 3);
    result += test_js_e_string_line("+5.51e-08", FE_UPWARD, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_UPWARD, 1.0, 3);
    result += test_js_e_string_line("+1.11e+00", FE_UPWARD, 1.1, 3);
    result += test_js_e_string_line("+1.40e+00", FE_UPWARD, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_UPWARD, 1.5, 3);
    result += test_js_e_string_line("+1.61e+00", FE_UPWARD, 1.6, 3);
    result += test_js_e_string_line("+1.90e+00", FE_UPWARD, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_UPWARD, 5.0, 3);
    result += test_js_e_string_line("+5.10e+00", FE_UPWARD, 5.1, 3);
    result += test_js_e_string_line("+5.41e+00", FE_UPWARD, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_UPWARD, 5.5, 3);
    result += test_js_e_string_line("+5.60e+00", FE_UPWARD, 5.6, 3);
    result += test_js_e_string_line("+5.91e+00", FE_UPWARD, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_UPWARD, 9.0, 3);
    result += test_js_e_string_line("+9.10e+00", FE_UPWARD, 9.1, 3);
    result += test_js_e_string_line("+9.41e+00", FE_UPWARD, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_UPWARD, 9.5, 3);
    result += test_js_e_string_line("+9.60e+00", FE_UPWARD, 9.6, 3);
    result += test_js_e_string_line("+9.91e+00", FE_UPWARD, 9.9, 3);
    result += test_js_e_string_line("+1.01e-01", FE_UPWARD, 0.10, 3);
    result += test_js_e_string_line("+1.11e-01", FE_UPWARD, 0.11, 3);
    result += test_js_e_string_line("+1.41e-01", FE_UPWARD, 0.14, 3);
    result += test_js_e_string_line("+1.50e-01", FE_UPWARD, 0.15, 3);
    result += test_js_e_string_line("+1.61e-01", FE_UPWARD, 0.16, 3);
    result += test_js_e_string_line("+1.91e-01", FE_UPWARD, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_UPWARD, 0.50, 3);
    result += test_js_e_string_line("+5.11e-01", FE_UPWARD, 0.51, 3);
    result += test_js_e_string_line("+5.41e-01", FE_UPWARD, 0.54, 3);
    result += test_js_e_string_line("+5.51e-01", FE_UPWARD, 0.55, 3);
    result += test_js_e_string_line("+5.61e-01", FE_UPWARD, 0.56, 3);
    result += test_js_e_string_line("+5.90e-01", FE_UPWARD, 0.59, 3);
    result += test_js_e_string_line("+9.01e-01", FE_UPWARD, 0.90, 3);
    result += test_js_e_string_line("+9.11e-01", FE_UPWARD, 0.91, 3);
    result += test_js_e_string_line("+9.40e-01", FE_UPWARD, 0.94, 3);
    result += test_js_e_string_line("+9.50e-01", FE_UPWARD, 0.95, 3);
    result += test_js_e_string_line("+9.60e-01", FE_UPWARD, 0.96, 3);
    result += test_js_e_string_line("+9.90e-01", FE_UPWARD, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_UPWARD, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_UPWARD, -1.1, 3);
    result += test_js_e_string_line("-1.39e+00", FE_UPWARD, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_UPWARD, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_UPWARD, -1.6, 3);
    result += test_js_e_string_line("-1.89e+00", FE_UPWARD, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_UPWARD, -5.0, 3);
    result += test_js_e_string_line("-5.09e+00", FE_UPWARD, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_UPWARD, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_UPWARD, -5.5, 3);
    result += test_js_e_string_line("-5.59e+00", FE_UPWARD, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_UPWARD, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_UPWARD, -9.0, 3);
    result += test_js_e_string_line("-9.09e+00", FE_UPWARD, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_UPWARD, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_UPWARD, -9.5, 3);
    result += test_js_e_string_line("-9.59e+00", FE_UPWARD, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_UPWARD, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_UPWARD, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_UPWARD, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_UPWARD, -0.14, 3);
    result += test_js_e_string_line("-1.49e-01", FE_UPWARD, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_UPWARD, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_UPWARD, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_UPWARD, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_UPWARD, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_UPWARD, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_UPWARD, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_UPWARD, -0.56, 3);
    result += test_js_e_string_line("-5.89e-01", FE_UPWARD, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_UPWARD, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_UPWARD, -0.91, 3);
    result += test_js_e_string_line("-9.39e-01", FE_UPWARD, -0.94, 3);
    result += test_js_e_string_line("-9.49e-01", FE_UPWARD, -0.95, 3);
    result += test_js_e_string_line("-9.59e-01", FE_UPWARD, -0.96, 3);
    result += test_js_e_string_line("-9.89e-01", FE_UPWARD, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_DOWNWARD, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_DOWNWARD, -0.0, 1);
    result += test_js_e_string_line("+5e+09", FE_DOWNWARD, 5500000000, 1);
    result += test_js_e_string_line("+5e-08", FE_DOWNWARD, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.4, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.5, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.6, 1);
    result += test_js_e_string_line("+1e+00", FE_DOWNWARD, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.4, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.5, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.6, 1);
    result += test_js_e_string_line("+5e+00", FE_DOWNWARD, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.4, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.5, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.6, 1);
    result += test_js_e_string_line("+9e+00", FE_DOWNWARD, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.15, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.16, 1);
    result += test_js_e_string_line("+1e-01", FE_DOWNWARD, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.54, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.55, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.56, 1);
    result += test_js_e_string_line("+5e-01", FE_DOWNWARD, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.95, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.96, 1);
    result += test_js_e_string_line("+9e-01", FE_DOWNWARD, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -1.0, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.1, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.4, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.5, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.6, 1);
    result += test_js_e_string_line("-2e+00", FE_DOWNWARD, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_DOWNWARD, -5.0, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.1, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.4, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.5, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.6, 1);
    result += test_js_e_string_line("-6e+00", FE_DOWNWARD, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_DOWNWARD, -9.0, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.1, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.4, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.5, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.6, 1);
    result += test_js_e_string_line("-1e+01", FE_DOWNWARD, -9.9, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.10, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.11, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.14, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.15, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.16, 1);
    result += test_js_e_string_line("-2e-01", FE_DOWNWARD, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_DOWNWARD, -0.50, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.51, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.54, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.55, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.56, 1);
    result += test_js_e_string_line("-6e-01", FE_DOWNWARD, -0.59, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.90, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.91, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.94, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.95, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.96, 1);
    result += test_js_e_string_line("-1e+00", FE_DOWNWARD, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_DOWNWARD, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_DOWNWARD, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_DOWNWARD, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_DOWNWARD, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_DOWNWARD, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_DOWNWARD, 1.1, 2);
    result += test_js_e_string_line("+1.3e+00", FE_DOWNWARD, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_DOWNWARD, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_DOWNWARD, 1.6, 2);
    result += test_js_e_string_line("+1.8e+00", FE_DOWNWARD, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_DOWNWARD, 5.0, 2);
    result += test_js_e_string_line("+5.0e+00", FE_DOWNWARD, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_DOWNWARD, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_DOWNWARD, 5.5, 2);
    result += test_js_e_string_line("+5.5e+00", FE_DOWNWARD, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_DOWNWARD, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_DOWNWARD, 9.0, 2);
    result += test_js_e_string_line("+9.0e+00", FE_DOWNWARD, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_DOWNWARD, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_DOWNWARD, 9.5, 2);
    result += test_js_e_string_line("+9.5e+00", FE_DOWNWARD, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_DOWNWARD, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_DOWNWARD, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_DOWNWARD, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_DOWNWARD, 0.14, 2);
    result += test_js_e_string_line("+1.4e-01", FE_DOWNWARD, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_DOWNWARD, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_DOWNWARD, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_DOWNWARD, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_DOWNWARD, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_DOWNWARD, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_DOWNWARD, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_DOWNWARD, 0.56, 2);
    result += test_js_e_string_line("+5.8e-01", FE_DOWNWARD, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_DOWNWARD, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_DOWNWARD, 0.91, 2);
    result += test_js_e_string_line("+9.3e-01", FE_DOWNWARD, 0.94, 2);
    result += test_js_e_string_line("+9.4e-01", FE_DOWNWARD, 0.95, 2);
    result += test_js_e_string_line("+9.5e-01", FE_DOWNWARD, 0.96, 2);
    result += test_js_e_string_line("+9.8e-01", FE_DOWNWARD, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_DOWNWARD, -1.0, 2);
    result += test_js_e_string_line("-1.2e+00", FE_DOWNWARD, -1.1, 2);
    result += test_js_e_string_line("-1.4e+00", FE_DOWNWARD, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_DOWNWARD, -1.5, 2);
    result += test_js_e_string_line("-1.7e+00", FE_DOWNWARD, -1.6, 2);
    result += test_js_e_string_line("-1.9e+00", FE_DOWNWARD, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_DOWNWARD, -5.0, 2);
    result += test_js_e_string_line("-5.1e+00", FE_DOWNWARD, -5.1, 2);
    result += test_js_e_string_line("-5.5e+00", FE_DOWNWARD, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_DOWNWARD, -5.5, 2);
    result += test_js_e_string_line("-5.6e+00", FE_DOWNWARD, -5.6, 2);
    result += test_js_e_string_line("-6.0e+00", FE_DOWNWARD, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_DOWNWARD, -9.0, 2);
    result += test_js_e_string_line("-9.1e+00", FE_DOWNWARD, -9.1, 2);
    result += test_js_e_string_line("-9.5e+00", FE_DOWNWARD, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_DOWNWARD, -9.5, 2);
    result += test_js_e_string_line("-9.6e+00", FE_DOWNWARD, -9.6, 2);
    result += test_js_e_string_line("-1.0e+01", FE_DOWNWARD, -9.9, 2);
    result += test_js_e_string_line("-1.1e-01", FE_DOWNWARD, -0.10, 2);
    result += test_js_e_string_line("-1.2e-01", FE_DOWNWARD, -0.11, 2);
    result += test_js_e_string_line("-1.5e-01", FE_DOWNWARD, -0.14, 2);
    result += test_js_e_string_line("-1.5e-01", FE_DOWNWARD, -0.15, 2);
    result += test_js_e_string_line("-1.7e-01", FE_DOWNWARD, -0.16, 2);
    result += test_js_e_string_line("-2.0e-01", FE_DOWNWARD, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_DOWNWARD, -0.50, 2);
    result += test_js_e_string_line("-5.2e-01", FE_DOWNWARD, -0.51, 2);
    result += test_js_e_string_line("-5.5e-01", FE_DOWNWARD, -0.54, 2);
    result += test_js_e_string_line("-5.6e-01", FE_DOWNWARD, -0.55, 2);
    result += test_js_e_string_line("-5.7e-01", FE_DOWNWARD, -0.56, 2);
    result += test_js_e_string_line("-5.9e-01", FE_DOWNWARD, -0.59, 2);
    result += test_js_e_string_line("-9.1e-01", FE_DOWNWARD, -0.90, 2);
    result += test_js_e_string_line("-9.2e-01", FE_DOWNWARD, -0.91, 2);
    result += test_js_e_string_line("-9.4e-01", FE_DOWNWARD, -0.94, 2);
    result += test_js_e_string_line("-9.5e-01", FE_DOWNWARD, -0.95, 2);
    result += test_js_e_string_line("-9.6e-01", FE_DOWNWARD, -0.96, 2);
    result += test_js_e_string_line("-9.9e-01", FE_DOWNWARD, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_DOWNWARD, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_DOWNWARD, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_DOWNWARD, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_DOWNWARD, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_DOWNWARD, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_DOWNWARD, 1.1, 3);
    result += test_js_e_string_line("+1.39e+00", FE_DOWNWARD, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_DOWNWARD, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_DOWNWARD, 1.6, 3);
    result += test_js_e_string_line("+1.89e+00", FE_DOWNWARD, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_DOWNWARD, 5.0, 3);
    result += test_js_e_string_line("+5.09e+00", FE_DOWNWARD, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_DOWNWARD, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_DOWNWARD, 5.5, 3);
    result += test_js_e_string_line("+5.59e+00", FE_DOWNWARD, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_DOWNWARD, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_DOWNWARD, 9.0, 3);
    result += test_js_e_string_line("+9.09e+00", FE_DOWNWARD, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_DOWNWARD, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_DOWNWARD, 9.5, 3);
    result += test_js_e_string_line("+9.59e+00", FE_DOWNWARD, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_DOWNWARD, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_DOWNWARD, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_DOWNWARD, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_DOWNWARD, 0.14, 3);
    result += test_js_e_string_line("+1.49e-01", FE_DOWNWARD, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_DOWNWARD, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_DOWNWARD, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_DOWNWARD, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_DOWNWARD, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_DOWNWARD, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_DOWNWARD, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_DOWNWARD, 0.56, 3);
    result += test_js_e_string_line("+5.89e-01", FE_DOWNWARD, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_DOWNWARD, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_DOWNWARD, 0.91, 3);
    result += test_js_e_string_line("+9.39e-01", FE_DOWNWARD, 0.94, 3);
    result += test_js_e_string_line("+9.49e-01", FE_DOWNWARD, 0.95, 3);
    result += test_js_e_string_line("+9.59e-01", FE_DOWNWARD, 0.96, 3);
    result += test_js_e_string_line("+9.89e-01", FE_DOWNWARD, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_DOWNWARD, -1.0, 3);
    result += test_js_e_string_line("-1.11e+00", FE_DOWNWARD, -1.1, 3);
    result += test_js_e_string_line("-1.40e+00", FE_DOWNWARD, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_DOWNWARD, -1.5, 3);
    result += test_js_e_string_line("-1.61e+00", FE_DOWNWARD, -1.6, 3);
    result += test_js_e_string_line("-1.90e+00", FE_DOWNWARD, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_DOWNWARD, -5.0, 3);
    result += test_js_e_string_line("-5.10e+00", FE_DOWNWARD, -5.1, 3);
    result += test_js_e_string_line("-5.41e+00", FE_DOWNWARD, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_DOWNWARD, -5.5, 3);
    result += test_js_e_string_line("-5.60e+00", FE_DOWNWARD, -5.6, 3);
    result += test_js_e_string_line("-5.91e+00", FE_DOWNWARD, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_DOWNWARD, -9.0, 3);
    result += test_js_e_string_line("-9.10e+00", FE_DOWNWARD, -9.1, 3);
    result += test_js_e_string_line("-9.41e+00", FE_DOWNWARD, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_DOWNWARD, -9.5, 3);
    result += test_js_e_string_line("-9.60e+00", FE_DOWNWARD, -9.6, 3);
    result += test_js_e_string_line("-9.91e+00", FE_DOWNWARD, -9.9, 3);
    result += test_js_e_string_line("-1.01e-01", FE_DOWNWARD, -0.10, 3);
    result += test_js_e_string_line("-1.11e-01", FE_DOWNWARD, -0.11, 3);
    result += test_js_e_string_line("-1.41e-01", FE_DOWNWARD, -0.14, 3);
    result += test_js_e_string_line("-1.50e-01", FE_DOWNWARD, -0.15, 3);
    result += test_js_e_string_line("-1.61e-01", FE_DOWNWARD, -0.16, 3);
    result += test_js_e_string_line("-1.91e-01", FE_DOWNWARD, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_DOWNWARD, -0.50, 3);
    result += test_js_e_string_line("-5.11e-01", FE_DOWNWARD, -0.51, 3);
    result += test_js_e_string_line("-5.41e-01", FE_DOWNWARD, -0.54, 3);
    result += test_js_e_string_line("-5.51e-01", FE_DOWNWARD, -0.55, 3);
    result += test_js_e_string_line("-5.61e-01", FE_DOWNWARD, -0.56, 3);
    result += test_js_e_string_line("-5.90e-01", FE_DOWNWARD, -0.59, 3);
    result += test_js_e_string_line("-9.01e-01", FE_DOWNWARD, -0.90, 3);
    result += test_js_e_string_line("-9.11e-01", FE_DOWNWARD, -0.91, 3);
    result += test_js_e_string_line("-9.40e-01", FE_DOWNWARD, -0.94, 3);
    result += test_js_e_string_line("-9.50e-01", FE_DOWNWARD, -0.95, 3);
    result += test_js_e_string_line("-9.60e-01", FE_DOWNWARD, -0.96, 3);
    result += test_js_e_string_line("-9.90e-01", FE_DOWNWARD, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_TOWARDZERO, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_TOWARDZERO, -0.0, 1);
    result += test_js_e_string_line("+5e+09", FE_TOWARDZERO, 5500000000, 1);
    result += test_js_e_string_line("+5e-08", FE_TOWARDZERO, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.4, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.5, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.6, 1);
    result += test_js_e_string_line("+1e+00", FE_TOWARDZERO, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.4, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.5, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.6, 1);
    result += test_js_e_string_line("+5e+00", FE_TOWARDZERO, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.4, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.5, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.6, 1);
    result += test_js_e_string_line("+9e+00", FE_TOWARDZERO, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.15, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.16, 1);
    result += test_js_e_string_line("+1e-01", FE_TOWARDZERO, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.54, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.55, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.56, 1);
    result += test_js_e_string_line("+5e-01", FE_TOWARDZERO, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.95, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.96, 1);
    result += test_js_e_string_line("+9e-01", FE_TOWARDZERO, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.4, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.5, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.6, 1);
    result += test_js_e_string_line("-1e+00", FE_TOWARDZERO, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.4, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.5, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.6, 1);
    result += test_js_e_string_line("-5e+00", FE_TOWARDZERO, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.4, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.5, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.6, 1);
    result += test_js_e_string_line("-9e+00", FE_TOWARDZERO, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.15, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.16, 1);
    result += test_js_e_string_line("-1e-01", FE_TOWARDZERO, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.54, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.55, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.56, 1);
    result += test_js_e_string_line("-5e-01", FE_TOWARDZERO, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.95, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.96, 1);
    result += test_js_e_string_line("-9e-01", FE_TOWARDZERO, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_TOWARDZERO, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_TOWARDZERO, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_TOWARDZERO, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_TOWARDZERO, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_TOWARDZERO, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_TOWARDZERO, 1.1, 2);
    result += test_js_e_string_line("+1.3e+00", FE_TOWARDZERO, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_TOWARDZERO, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_TOWARDZERO, 1.6, 2);
    result += test_js_e_string_line("+1.8e+00", FE_TOWARDZERO, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TOWARDZERO, 5.0, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TOWARDZERO, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_TOWARDZERO, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TOWARDZERO, 5.5, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TOWARDZERO, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_TOWARDZERO, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TOWARDZERO, 9.0, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TOWARDZERO, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_TOWARDZERO, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TOWARDZERO, 9.5, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TOWARDZERO, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_TOWARDZERO, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_TOWARDZERO, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_TOWARDZERO, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TOWARDZERO, 0.14, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TOWARDZERO, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_TOWARDZERO, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_TOWARDZERO, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_TOWARDZERO, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_TOWARDZERO, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_TOWARDZERO, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_TOWARDZERO, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_TOWARDZERO, 0.56, 2);
    result += test_js_e_string_line("+5.8e-01", FE_TOWARDZERO, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_TOWARDZERO, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_TOWARDZERO, 0.91, 2);
    result += test_js_e_string_line("+9.3e-01", FE_TOWARDZERO, 0.94, 2);
    result += test_js_e_string_line("+9.4e-01", FE_TOWARDZERO, 0.95, 2);
    result += test_js_e_string_line("+9.5e-01", FE_TOWARDZERO, 0.96, 2);
    result += test_js_e_string_line("+9.8e-01", FE_TOWARDZERO, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_TOWARDZERO, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_TOWARDZERO, -1.1, 2);
    result += test_js_e_string_line("-1.3e+00", FE_TOWARDZERO, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_TOWARDZERO, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_TOWARDZERO, -1.6, 2);
    result += test_js_e_string_line("-1.8e+00", FE_TOWARDZERO, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TOWARDZERO, -5.0, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TOWARDZERO, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_TOWARDZERO, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TOWARDZERO, -5.5, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TOWARDZERO, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_TOWARDZERO, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TOWARDZERO, -9.0, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TOWARDZERO, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_TOWARDZERO, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TOWARDZERO, -9.5, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TOWARDZERO, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_TOWARDZERO, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_TOWARDZERO, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_TOWARDZERO, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TOWARDZERO, -0.14, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TOWARDZERO, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_TOWARDZERO, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_TOWARDZERO, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_TOWARDZERO, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_TOWARDZERO, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_TOWARDZERO, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_TOWARDZERO, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_TOWARDZERO, -0.56, 2);
    result += test_js_e_string_line("-5.8e-01", FE_TOWARDZERO, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_TOWARDZERO, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_TOWARDZERO, -0.91, 2);
    result += test_js_e_string_line("-9.3e-01", FE_TOWARDZERO, -0.94, 2);
    result += test_js_e_string_line("-9.4e-01", FE_TOWARDZERO, -0.95, 2);
    result += test_js_e_string_line("-9.5e-01", FE_TOWARDZERO, -0.96, 2);
    result += test_js_e_string_line("-9.8e-01", FE_TOWARDZERO, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_TOWARDZERO, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_TOWARDZERO, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_TOWARDZERO, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_TOWARDZERO, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_TOWARDZERO, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_TOWARDZERO, 1.1, 3);
    result += test_js_e_string_line("+1.39e+00", FE_TOWARDZERO, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_TOWARDZERO, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_TOWARDZERO, 1.6, 3);
    result += test_js_e_string_line("+1.89e+00", FE_TOWARDZERO, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_TOWARDZERO, 5.0, 3);
    result += test_js_e_string_line("+5.09e+00", FE_TOWARDZERO, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_TOWARDZERO, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_TOWARDZERO, 5.5, 3);
    result += test_js_e_string_line("+5.59e+00", FE_TOWARDZERO, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_TOWARDZERO, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_TOWARDZERO, 9.0, 3);
    result += test_js_e_string_line("+9.09e+00", FE_TOWARDZERO, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_TOWARDZERO, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_TOWARDZERO, 9.5, 3);
    result += test_js_e_string_line("+9.59e+00", FE_TOWARDZERO, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_TOWARDZERO, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_TOWARDZERO, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_TOWARDZERO, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_TOWARDZERO, 0.14, 3);
    result += test_js_e_string_line("+1.49e-01", FE_TOWARDZERO, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_TOWARDZERO, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_TOWARDZERO, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_TOWARDZERO, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_TOWARDZERO, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_TOWARDZERO, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_TOWARDZERO, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_TOWARDZERO, 0.56, 3);
    result += test_js_e_string_line("+5.89e-01", FE_TOWARDZERO, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_TOWARDZERO, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_TOWARDZERO, 0.91, 3);
    result += test_js_e_string_line("+9.39e-01", FE_TOWARDZERO, 0.94, 3);
    result += test_js_e_string_line("+9.49e-01", FE_TOWARDZERO, 0.95, 3);
    result += test_js_e_string_line("+9.59e-01", FE_TOWARDZERO, 0.96, 3);
    result += test_js_e_string_line("+9.89e-01", FE_TOWARDZERO, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_TOWARDZERO, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_TOWARDZERO, -1.1, 3);
    result += test_js_e_string_line("-1.39e+00", FE_TOWARDZERO, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_TOWARDZERO, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_TOWARDZERO, -1.6, 3);
    result += test_js_e_string_line("-1.89e+00", FE_TOWARDZERO, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_TOWARDZERO, -5.0, 3);
    result += test_js_e_string_line("-5.09e+00", FE_TOWARDZERO, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_TOWARDZERO, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_TOWARDZERO, -5.5, 3);
    result += test_js_e_string_line("-5.59e+00", FE_TOWARDZERO, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_TOWARDZERO, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_TOWARDZERO, -9.0, 3);
    result += test_js_e_string_line("-9.09e+00", FE_TOWARDZERO, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_TOWARDZERO, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_TOWARDZERO, -9.5, 3);
    result += test_js_e_string_line("-9.59e+00", FE_TOWARDZERO, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_TOWARDZERO, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_TOWARDZERO, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_TOWARDZERO, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_TOWARDZERO, -0.14, 3);
    result += test_js_e_string_line("-1.49e-01", FE_TOWARDZERO, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_TOWARDZERO, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_TOWARDZERO, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_TOWARDZERO, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_TOWARDZERO, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_TOWARDZERO, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_TOWARDZERO, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_TOWARDZERO, -0.56, 3);
    result += test_js_e_string_line("-5.89e-01", FE_TOWARDZERO, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_TOWARDZERO, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_TOWARDZERO, -0.91, 3);
    result += test_js_e_string_line("-9.39e-01", FE_TOWARDZERO, -0.94, 3);
    result += test_js_e_string_line("-9.49e-01", FE_TOWARDZERO, -0.95, 3);
    result += test_js_e_string_line("-9.59e-01", FE_TOWARDZERO, -0.96, 3);
    result += test_js_e_string_line("-9.89e-01", FE_TOWARDZERO, -0.99, 3);
    result += test_js_e_string_line("+0e+00", FE_TONEAREST, +0.0, 1);
    result += test_js_e_string_line("-0e+00", FE_TONEAREST, -0.0, 1);
    result += test_js_e_string_line("+6e+09", FE_TONEAREST, 5500000000, 1);
    result += test_js_e_string_line("+6e-08", FE_TONEAREST, 0.000000055, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.0, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.1, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 1.4, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.5, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.6, 1);
    result += test_js_e_string_line("+2e+00", FE_TONEAREST, 1.9, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.0, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.1, 1);
    result += test_js_e_string_line("+5e+00", FE_TONEAREST, 5.4, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.5, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.6, 1);
    result += test_js_e_string_line("+6e+00", FE_TONEAREST, 5.9, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.0, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.1, 1);
    result += test_js_e_string_line("+9e+00", FE_TONEAREST, 9.4, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.5, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.6, 1);
    result += test_js_e_string_line("+1e+01", FE_TONEAREST, 9.9, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.10, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.11, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.14, 1);
    result += test_js_e_string_line("+1e-01", FE_TONEAREST, 0.15, 1);
    result += test_js_e_string_line("+2e-01", FE_TONEAREST, 0.16, 1);
    result += test_js_e_string_line("+2e-01", FE_TONEAREST, 0.19, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.50, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.51, 1);
    result += test_js_e_string_line("+5e-01", FE_TONEAREST, 0.54, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.55, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.56, 1);
    result += test_js_e_string_line("+6e-01", FE_TONEAREST, 0.59, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.90, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.91, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.94, 1);
    result += test_js_e_string_line("+9e-01", FE_TONEAREST, 0.95, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 0.96, 1);
    result += test_js_e_string_line("+1e+00", FE_TONEAREST, 0.99, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.0, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.1, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -1.4, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.5, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.6, 1);
    result += test_js_e_string_line("-2e+00", FE_TONEAREST, -1.9, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.0, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.1, 1);
    result += test_js_e_string_line("-5e+00", FE_TONEAREST, -5.4, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.5, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.6, 1);
    result += test_js_e_string_line("-6e+00", FE_TONEAREST, -5.9, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.0, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.1, 1);
    result += test_js_e_string_line("-9e+00", FE_TONEAREST, -9.4, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.5, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.6, 1);
    result += test_js_e_string_line("-1e+01", FE_TONEAREST, -9.9, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.10, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.11, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.14, 1);
    result += test_js_e_string_line("-1e-01", FE_TONEAREST, -0.15, 1);
    result += test_js_e_string_line("-2e-01", FE_TONEAREST, -0.16, 1);
    result += test_js_e_string_line("-2e-01", FE_TONEAREST, -0.19, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.50, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.51, 1);
    result += test_js_e_string_line("-5e-01", FE_TONEAREST, -0.54, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.55, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.56, 1);
    result += test_js_e_string_line("-6e-01", FE_TONEAREST, -0.59, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.90, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.91, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.94, 1);
    result += test_js_e_string_line("-9e-01", FE_TONEAREST, -0.95, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -0.96, 1);
    result += test_js_e_string_line("-1e+00", FE_TONEAREST, -0.99, 1);
    result += test_js_e_string_line("+0.0e+00", FE_TONEAREST, +0.0, 2);
    result += test_js_e_string_line("-0.0e+00", FE_TONEAREST, -0.0, 2);
    result += test_js_e_string_line("+5.5e+09", FE_TONEAREST, 5500000000, 2);
    result += test_js_e_string_line("+5.5e-08", FE_TONEAREST, 0.000000055, 2);
    result += test_js_e_string_line("+1.0e+00", FE_TONEAREST, 1.0, 2);
    result += test_js_e_string_line("+1.1e+00", FE_TONEAREST, 1.1, 2);
    result += test_js_e_string_line("+1.4e+00", FE_TONEAREST, 1.4, 2);
    result += test_js_e_string_line("+1.5e+00", FE_TONEAREST, 1.5, 2);
    result += test_js_e_string_line("+1.6e+00", FE_TONEAREST, 1.6, 2);
    result += test_js_e_string_line("+1.9e+00", FE_TONEAREST, 1.9, 2);
    result += test_js_e_string_line("+5.0e+00", FE_TONEAREST, 5.0, 2);
    result += test_js_e_string_line("+5.1e+00", FE_TONEAREST, 5.1, 2);
    result += test_js_e_string_line("+5.4e+00", FE_TONEAREST, 5.4, 2);
    result += test_js_e_string_line("+5.5e+00", FE_TONEAREST, 5.5, 2);
    result += test_js_e_string_line("+5.6e+00", FE_TONEAREST, 5.6, 2);
    result += test_js_e_string_line("+5.9e+00", FE_TONEAREST, 5.9, 2);
    result += test_js_e_string_line("+9.0e+00", FE_TONEAREST, 9.0, 2);
    result += test_js_e_string_line("+9.1e+00", FE_TONEAREST, 9.1, 2);
    result += test_js_e_string_line("+9.4e+00", FE_TONEAREST, 9.4, 2);
    result += test_js_e_string_line("+9.5e+00", FE_TONEAREST, 9.5, 2);
    result += test_js_e_string_line("+9.6e+00", FE_TONEAREST, 9.6, 2);
    result += test_js_e_string_line("+9.9e+00", FE_TONEAREST, 9.9, 2);
    result += test_js_e_string_line("+1.0e-01", FE_TONEAREST, 0.10, 2);
    result += test_js_e_string_line("+1.1e-01", FE_TONEAREST, 0.11, 2);
    result += test_js_e_string_line("+1.4e-01", FE_TONEAREST, 0.14, 2);
    result += test_js_e_string_line("+1.5e-01", FE_TONEAREST, 0.15, 2);
    result += test_js_e_string_line("+1.6e-01", FE_TONEAREST, 0.16, 2);
    result += test_js_e_string_line("+1.9e-01", FE_TONEAREST, 0.19, 2);
    result += test_js_e_string_line("+5.0e-01", FE_TONEAREST, 0.50, 2);
    result += test_js_e_string_line("+5.1e-01", FE_TONEAREST, 0.51, 2);
    result += test_js_e_string_line("+5.4e-01", FE_TONEAREST, 0.54, 2);
    result += test_js_e_string_line("+5.5e-01", FE_TONEAREST, 0.55, 2);
    result += test_js_e_string_line("+5.6e-01", FE_TONEAREST, 0.56, 2);
    result += test_js_e_string_line("+5.9e-01", FE_TONEAREST, 0.59, 2);
    result += test_js_e_string_line("+9.0e-01", FE_TONEAREST, 0.90, 2);
    result += test_js_e_string_line("+9.1e-01", FE_TONEAREST, 0.91, 2);
    result += test_js_e_string_line("+9.4e-01", FE_TONEAREST, 0.94, 2);
    result += test_js_e_string_line("+9.5e-01", FE_TONEAREST, 0.95, 2);
    result += test_js_e_string_line("+9.6e-01", FE_TONEAREST, 0.96, 2);
    result += test_js_e_string_line("+9.9e-01", FE_TONEAREST, 0.99, 2);
    result += test_js_e_string_line("-1.0e+00", FE_TONEAREST, -1.0, 2);
    result += test_js_e_string_line("-1.1e+00", FE_TONEAREST, -1.1, 2);
    result += test_js_e_string_line("-1.4e+00", FE_TONEAREST, -1.4, 2);
    result += test_js_e_string_line("-1.5e+00", FE_TONEAREST, -1.5, 2);
    result += test_js_e_string_line("-1.6e+00", FE_TONEAREST, -1.6, 2);
    result += test_js_e_string_line("-1.9e+00", FE_TONEAREST, -1.9, 2);
    result += test_js_e_string_line("-5.0e+00", FE_TONEAREST, -5.0, 2);
    result += test_js_e_string_line("-5.1e+00", FE_TONEAREST, -5.1, 2);
    result += test_js_e_string_line("-5.4e+00", FE_TONEAREST, -5.4, 2);
    result += test_js_e_string_line("-5.5e+00", FE_TONEAREST, -5.5, 2);
    result += test_js_e_string_line("-5.6e+00", FE_TONEAREST, -5.6, 2);
    result += test_js_e_string_line("-5.9e+00", FE_TONEAREST, -5.9, 2);
    result += test_js_e_string_line("-9.0e+00", FE_TONEAREST, -9.0, 2);
    result += test_js_e_string_line("-9.1e+00", FE_TONEAREST, -9.1, 2);
    result += test_js_e_string_line("-9.4e+00", FE_TONEAREST, -9.4, 2);
    result += test_js_e_string_line("-9.5e+00", FE_TONEAREST, -9.5, 2);
    result += test_js_e_string_line("-9.6e+00", FE_TONEAREST, -9.6, 2);
    result += test_js_e_string_line("-9.9e+00", FE_TONEAREST, -9.9, 2);
    result += test_js_e_string_line("-1.0e-01", FE_TONEAREST, -0.10, 2);
    result += test_js_e_string_line("-1.1e-01", FE_TONEAREST, -0.11, 2);
    result += test_js_e_string_line("-1.4e-01", FE_TONEAREST, -0.14, 2);
    result += test_js_e_string_line("-1.5e-01", FE_TONEAREST, -0.15, 2);
    result += test_js_e_string_line("-1.6e-01", FE_TONEAREST, -0.16, 2);
    result += test_js_e_string_line("-1.9e-01", FE_TONEAREST, -0.19, 2);
    result += test_js_e_string_line("-5.0e-01", FE_TONEAREST, -0.50, 2);
    result += test_js_e_string_line("-5.1e-01", FE_TONEAREST, -0.51, 2);
    result += test_js_e_string_line("-5.4e-01", FE_TONEAREST, -0.54, 2);
    result += test_js_e_string_line("-5.5e-01", FE_TONEAREST, -0.55, 2);
    result += test_js_e_string_line("-5.6e-01", FE_TONEAREST, -0.56, 2);
    result += test_js_e_string_line("-5.9e-01", FE_TONEAREST, -0.59, 2);
    result += test_js_e_string_line("-9.0e-01", FE_TONEAREST, -0.90, 2);
    result += test_js_e_string_line("-9.1e-01", FE_TONEAREST, -0.91, 2);
    result += test_js_e_string_line("-9.4e-01", FE_TONEAREST, -0.94, 2);
    result += test_js_e_string_line("-9.5e-01", FE_TONEAREST, -0.95, 2);
    result += test_js_e_string_line("-9.6e-01", FE_TONEAREST, -0.96, 2);
    result += test_js_e_string_line("-9.9e-01", FE_TONEAREST, -0.99, 2);
    result += test_js_e_string_line("+0.00e+00", FE_TONEAREST, +0.0, 3);
    result += test_js_e_string_line("-0.00e+00", FE_TONEAREST, -0.0, 3);
    result += test_js_e_string_line("+5.50e+09", FE_TONEAREST, 5500000000, 3);
    result += test_js_e_string_line("+5.50e-08", FE_TONEAREST, 0.000000055, 3);
    result += test_js_e_string_line("+1.00e+00", FE_TONEAREST, 1.0, 3);
    result += test_js_e_string_line("+1.10e+00", FE_TONEAREST, 1.1, 3);
    result += test_js_e_string_line("+1.40e+00", FE_TONEAREST, 1.4, 3);
    result += test_js_e_string_line("+1.50e+00", FE_TONEAREST, 1.5, 3);
    result += test_js_e_string_line("+1.60e+00", FE_TONEAREST, 1.6, 3);
    result += test_js_e_string_line("+1.90e+00", FE_TONEAREST, 1.9, 3);
    result += test_js_e_string_line("+5.00e+00", FE_TONEAREST, 5.0, 3);
    result += test_js_e_string_line("+5.10e+00", FE_TONEAREST, 5.1, 3);
    result += test_js_e_string_line("+5.40e+00", FE_TONEAREST, 5.4, 3);
    result += test_js_e_string_line("+5.50e+00", FE_TONEAREST, 5.5, 3);
    result += test_js_e_string_line("+5.60e+00", FE_TONEAREST, 5.6, 3);
    result += test_js_e_string_line("+5.90e+00", FE_TONEAREST, 5.9, 3);
    result += test_js_e_string_line("+9.00e+00", FE_TONEAREST, 9.0, 3);
    result += test_js_e_string_line("+9.10e+00", FE_TONEAREST, 9.1, 3);
    result += test_js_e_string_line("+9.40e+00", FE_TONEAREST, 9.4, 3);
    result += test_js_e_string_line("+9.50e+00", FE_TONEAREST, 9.5, 3);
    result += test_js_e_string_line("+9.60e+00", FE_TONEAREST, 9.6, 3);
    result += test_js_e_string_line("+9.90e+00", FE_TONEAREST, 9.9, 3);
    result += test_js_e_string_line("+1.00e-01", FE_TONEAREST, 0.10, 3);
    result += test_js_e_string_line("+1.10e-01", FE_TONEAREST, 0.11, 3);
    result += test_js_e_string_line("+1.40e-01", FE_TONEAREST, 0.14, 3);
    result += test_js_e_string_line("+1.50e-01", FE_TONEAREST, 0.15, 3);
    result += test_js_e_string_line("+1.60e-01", FE_TONEAREST, 0.16, 3);
    result += test_js_e_string_line("+1.90e-01", FE_TONEAREST, 0.19, 3);
    result += test_js_e_string_line("+5.00e-01", FE_TONEAREST, 0.50, 3);
    result += test_js_e_string_line("+5.10e-01", FE_TONEAREST, 0.51, 3);
    result += test_js_e_string_line("+5.40e-01", FE_TONEAREST, 0.54, 3);
    result += test_js_e_string_line("+5.50e-01", FE_TONEAREST, 0.55, 3);
    result += test_js_e_string_line("+5.60e-01", FE_TONEAREST, 0.56, 3);
    result += test_js_e_string_line("+5.90e-01", FE_TONEAREST, 0.59, 3);
    result += test_js_e_string_line("+9.00e-01", FE_TONEAREST, 0.90, 3);
    result += test_js_e_string_line("+9.10e-01", FE_TONEAREST, 0.91, 3);
    result += test_js_e_string_line("+9.40e-01", FE_TONEAREST, 0.94, 3);
    result += test_js_e_string_line("+9.50e-01", FE_TONEAREST, 0.95, 3);
    result += test_js_e_string_line("+9.60e-01", FE_TONEAREST, 0.96, 3);
    result += test_js_e_string_line("+9.90e-01", FE_TONEAREST, 0.99, 3);
    result += test_js_e_string_line("-1.00e+00", FE_TONEAREST, -1.0, 3);
    result += test_js_e_string_line("-1.10e+00", FE_TONEAREST, -1.1, 3);
    result += test_js_e_string_line("-1.40e+00", FE_TONEAREST, -1.4, 3);
    result += test_js_e_string_line("-1.50e+00", FE_TONEAREST, -1.5, 3);
    result += test_js_e_string_line("-1.60e+00", FE_TONEAREST, -1.6, 3);
    result += test_js_e_string_line("-1.90e+00", FE_TONEAREST, -1.9, 3);
    result += test_js_e_string_line("-5.00e+00", FE_TONEAREST, -5.0, 3);
    result += test_js_e_string_line("-5.10e+00", FE_TONEAREST, -5.1, 3);
    result += test_js_e_string_line("-5.40e+00", FE_TONEAREST, -5.4, 3);
    result += test_js_e_string_line("-5.50e+00", FE_TONEAREST, -5.5, 3);
    result += test_js_e_string_line("-5.60e+00", FE_TONEAREST, -5.6, 3);
    result += test_js_e_string_line("-5.90e+00", FE_TONEAREST, -5.9, 3);
    result += test_js_e_string_line("-9.00e+00", FE_TONEAREST, -9.0, 3);
    result += test_js_e_string_line("-9.10e+00", FE_TONEAREST, -9.1, 3);
    result += test_js_e_string_line("-9.40e+00", FE_TONEAREST, -9.4, 3);
    result += test_js_e_string_line("-9.50e+00", FE_TONEAREST, -9.5, 3);
    result += test_js_e_string_line("-9.60e+00", FE_TONEAREST, -9.6, 3);
    result += test_js_e_string_line("-9.90e+00", FE_TONEAREST, -9.9, 3);
    result += test_js_e_string_line("-1.00e-01", FE_TONEAREST, -0.10, 3);
    result += test_js_e_string_line("-1.10e-01", FE_TONEAREST, -0.11, 3);
    result += test_js_e_string_line("-1.40e-01", FE_TONEAREST, -0.14, 3);
    result += test_js_e_string_line("-1.50e-01", FE_TONEAREST, -0.15, 3);
    result += test_js_e_string_line("-1.60e-01", FE_TONEAREST, -0.16, 3);
    result += test_js_e_string_line("-1.90e-01", FE_TONEAREST, -0.19, 3);
    result += test_js_e_string_line("-5.00e-01", FE_TONEAREST, -0.50, 3);
    result += test_js_e_string_line("-5.10e-01", FE_TONEAREST, -0.51, 3);
    result += test_js_e_string_line("-5.40e-01", FE_TONEAREST, -0.54, 3);
    result += test_js_e_string_line("-5.50e-01", FE_TONEAREST, -0.55, 3);
    result += test_js_e_string_line("-5.60e-01", FE_TONEAREST, -0.56, 3);
    result += test_js_e_string_line("-5.90e-01", FE_TONEAREST, -0.59, 3);
    result += test_js_e_string_line("-9.00e-01", FE_TONEAREST, -0.90, 3);
    result += test_js_e_string_line("-9.10e-01", FE_TONEAREST, -0.91, 3);
    result += test_js_e_string_line("-9.40e-01", FE_TONEAREST, -0.94, 3);
    result += test_js_e_string_line("-9.50e-01", FE_TONEAREST, -0.95, 3);
    result += test_js_e_string_line("-9.60e-01", FE_TONEAREST, -0.96, 3);
    result += test_js_e_string_line("-9.90e-01", FE_TONEAREST, -0.99, 3);
    return result;
}

int main() {
    int result = 0;
    result += test_js_e_string();
    return result;
}
